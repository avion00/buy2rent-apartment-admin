var Uee=Object.defineProperty;var ED=e=>{throw TypeError(e)};var Vee=(e,t,r)=>t in e?Uee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ht=(e,t,r)=>Vee(e,typeof t!="symbol"?t+"":t,r),y_=(e,t,r)=>t.has(e)||ED("Cannot "+r);var pe=(e,t,r)=>(y_(e,t,"read from private field"),r?r.call(e):t.get(e)),At=(e,t,r)=>t.has(e)?ED("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),mt=(e,t,r,s)=>(y_(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Xt=(e,t,r)=>(y_(e,t,"access private method"),r);var Ty=(e,t,r,s)=>({set _(a){mt(e,t,a,r)},get _(){return pe(e,t,s)}});function zee(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ar(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var O8={exports:{}},Kw={},D8={exports:{}},nr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av=Symbol.for("react.element"),Wee=Symbol.for("react.portal"),Hee=Symbol.for("react.fragment"),qee=Symbol.for("react.strict_mode"),Gee=Symbol.for("react.profiler"),Kee=Symbol.for("react.provider"),Yee=Symbol.for("react.context"),Xee=Symbol.for("react.forward_ref"),Qee=Symbol.for("react.suspense"),Zee=Symbol.for("react.memo"),Jee=Symbol.for("react.lazy"),PD=Symbol.iterator;function ete(e){return e===null||typeof e!="object"?null:(e=PD&&e[PD]||e["@@iterator"],typeof e=="function"?e:null)}var I8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R8=Object.assign,M8={};function Rp(e,t,r){this.props=e,this.context=t,this.refs=M8,this.updater=r||I8}Rp.prototype.isReactComponent={};Rp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F8(){}F8.prototype=Rp.prototype;function EP(e,t,r){this.props=e,this.context=t,this.refs=M8,this.updater=r||I8}var PP=EP.prototype=new F8;PP.constructor=EP;R8(PP,Rp.prototype);PP.isPureReactComponent=!0;var kD=Array.isArray,$8=Object.prototype.hasOwnProperty,kP={current:null},L8={key:!0,ref:!0,__self:!0,__source:!0};function B8(e,t,r){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)$8.call(t,s)&&!L8.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:Av,type:e,key:i,ref:o,props:a,_owner:kP.current}}function tte(e,t){return{$$typeof:Av,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function TP(e){return typeof e=="object"&&e!==null&&e.$$typeof===Av}function rte(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var TD=/\/+/g;function j_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rte(""+e.key):t.toString(36)}function Uj(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Av:case Wee:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+j_(o,0):s,kD(a)?(r="",e!=null&&(r=e.replace(TD,"$&/")+"/"),Uj(a,t,r,"",function(d){return d})):a!=null&&(TP(a)&&(a=tte(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(TD,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",kD(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+j_(i,l);o+=Uj(i,t,r,c,a)}else if(c=ete(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+j_(i,l++),o+=Uj(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Dy(e,t,r){if(e==null)return e;var s=[],a=0;return Uj(e,s,"","",function(i){return t.call(r,i,a++)}),s}function nte(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fa={current:null},Vj={transition:null},ste={ReactCurrentDispatcher:Fa,ReactCurrentBatchConfig:Vj,ReactCurrentOwner:kP};function U8(){throw Error("act(...) is not supported in production builds of React.")}nr.Children={map:Dy,forEach:function(e,t,r){Dy(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Dy(e,function(){t++}),t},toArray:function(e){return Dy(e,function(t){return t})||[]},only:function(e){if(!TP(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};nr.Component=Rp;nr.Fragment=Hee;nr.Profiler=Gee;nr.PureComponent=EP;nr.StrictMode=qee;nr.Suspense=Qee;nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ste;nr.act=U8;nr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=R8({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=kP.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)$8.call(t,c)&&!L8.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Av,type:e.type,key:a,ref:i,props:s,_owner:o}};nr.createContext=function(e){return e={$$typeof:Yee,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Kee,_context:e},e.Consumer=e};nr.createElement=B8;nr.createFactory=function(e){var t=B8.bind(null,e);return t.type=e,t};nr.createRef=function(){return{current:null}};nr.forwardRef=function(e){return{$$typeof:Xee,render:e}};nr.isValidElement=TP;nr.lazy=function(e){return{$$typeof:Jee,_payload:{_status:-1,_result:e},_init:nte}};nr.memo=function(e,t){return{$$typeof:Zee,type:e,compare:t===void 0?null:t}};nr.startTransition=function(e){var t=Vj.transition;Vj.transition={};try{e()}finally{Vj.transition=t}};nr.unstable_act=U8;nr.useCallback=function(e,t){return Fa.current.useCallback(e,t)};nr.useContext=function(e){return Fa.current.useContext(e)};nr.useDebugValue=function(){};nr.useDeferredValue=function(e){return Fa.current.useDeferredValue(e)};nr.useEffect=function(e,t){return Fa.current.useEffect(e,t)};nr.useId=function(){return Fa.current.useId()};nr.useImperativeHandle=function(e,t,r){return Fa.current.useImperativeHandle(e,t,r)};nr.useInsertionEffect=function(e,t){return Fa.current.useInsertionEffect(e,t)};nr.useLayoutEffect=function(e,t){return Fa.current.useLayoutEffect(e,t)};nr.useMemo=function(e,t){return Fa.current.useMemo(e,t)};nr.useReducer=function(e,t,r){return Fa.current.useReducer(e,t,r)};nr.useRef=function(e){return Fa.current.useRef(e)};nr.useState=function(e){return Fa.current.useState(e)};nr.useSyncExternalStore=function(e,t,r){return Fa.current.useSyncExternalStore(e,t,r)};nr.useTransition=function(){return Fa.current.useTransition()};nr.version="18.3.1";D8.exports=nr;var v=D8.exports;const z=Ar(v),OP=zee({__proto__:null,default:z},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ate=v,ite=Symbol.for("react.element"),ote=Symbol.for("react.fragment"),lte=Object.prototype.hasOwnProperty,cte=ate.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dte={key:!0,ref:!0,__self:!0,__source:!0};function V8(e,t,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)lte.call(t,s)&&!dte.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:ite,type:e,key:i,ref:o,props:a,_owner:cte.current}}Kw.Fragment=ote;Kw.jsx=V8;Kw.jsxs=V8;O8.exports=Kw;var n=O8.exports,z8={exports:{}},qi={},W8={exports:{}},H8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,D){var Y=M.length;M.push(D);e:for(;0<Y;){var ae=Y-1>>>1,R=M[ae];if(0<a(R,D))M[ae]=D,M[Y]=R,Y=ae;else break e}}function r(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var D=M[0],Y=M.pop();if(Y!==D){M[0]=Y;e:for(var ae=0,R=M.length,V=R>>>1;ae<V;){var L=2*(ae+1)-1,K=M[L],le=L+1,me=M[le];if(0>a(K,Y))le<R&&0>a(me,K)?(M[ae]=me,M[le]=Y,ae=le):(M[ae]=K,M[L]=Y,ae=L);else if(le<R&&0>a(me,Y))M[ae]=me,M[le]=Y,ae=le;else break e}}return D}function a(M,D){var Y=M.sortIndex-D.sortIndex;return Y!==0?Y:M.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,m=3,h=!1,x=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var D=r(d);D!==null;){if(D.callback===null)s(d);else if(D.startTime<=M)s(d),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(d)}}function b(M){if(p=!1,w(M),!x)if(r(c)!==null)x=!0,T(N);else{var D=r(d);D!==null&&P(b,D.startTime-M)}}function N(M,D){x=!1,p&&(p=!1,j(A),A=-1),h=!0;var Y=m;try{for(w(D),f=r(c);f!==null&&(!(f.expirationTime>D)||M&&!O());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,m=f.priorityLevel;var R=ae(f.expirationTime<=D);D=e.unstable_now(),typeof R=="function"?f.callback=R:f===r(c)&&s(c),w(D)}else s(c);f=r(c)}if(f!==null)var V=!0;else{var L=r(d);L!==null&&P(b,L.startTime-D),V=!1}return V}finally{f=null,m=Y,h=!1}}var _=!1,C=null,A=-1,E=5,k=-1;function O(){return!(e.unstable_now()-k<E)}function I(){if(C!==null){var M=e.unstable_now();k=M;var D=!0;try{D=C(!0,M)}finally{D?W():(_=!1,C=null)}}else _=!1}var W;if(typeof y=="function")W=function(){y(I)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,F=H.port2;H.port1.onmessage=I,W=function(){F.postMessage(null)}}else W=function(){g(I,0)};function T(M){C=M,_||(_=!0,W())}function P(M,D){A=g(function(){M(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){x||h||(x=!0,T(N))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var Y=m;m=D;try{return M()}finally{m=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,D){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Y=m;m=M;try{return D()}finally{m=Y}},e.unstable_scheduleCallback=function(M,D,Y){var ae=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ae+Y:ae):Y=ae,M){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=Y+R,M={id:u++,callback:D,priorityLevel:M,startTime:Y,expirationTime:R,sortIndex:-1},Y>ae?(M.sortIndex=Y,t(d,M),r(c)===null&&M===r(d)&&(p?(j(A),A=-1):p=!0,P(b,Y-ae))):(M.sortIndex=R,t(c,M),x||h||(x=!0,T(N))),M},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(M){var D=m;return function(){var Y=m;m=D;try{return M.apply(this,arguments)}finally{m=Y}}}})(H8);W8.exports=H8;var ute=W8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fte=v,Li=ute;function Ye(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q8=new Set,Gg={};function sm(e,t){Uh(e,t),Uh(e+"Capture",t)}function Uh(e,t){for(Gg[e]=t,e=0;e<t.length;e++)q8.add(t[e])}var Vc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),EC=Object.prototype.hasOwnProperty,mte=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OD={},DD={};function hte(e){return EC.call(DD,e)?!0:EC.call(OD,e)?!1:mte.test(e)?DD[e]=!0:(OD[e]=!0,!1)}function pte(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xte(e,t,r,s){if(t===null||typeof t>"u"||pte(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $a(e,t,r,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ys={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ys[e]=new $a(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ys[t]=new $a(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ys[e]=new $a(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ys[e]=new $a(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ys[e]=new $a(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ys[e]=new $a(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ys[e]=new $a(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ys[e]=new $a(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ys[e]=new $a(e,5,!1,e.toLowerCase(),null,!1,!1)});var DP=/[\-:]([a-z])/g;function IP(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(DP,IP);Ys[t]=new $a(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(DP,IP);Ys[t]=new $a(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(DP,IP);Ys[t]=new $a(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ys[e]=new $a(e,1,!1,e.toLowerCase(),null,!1,!1)});Ys.xlinkHref=new $a("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ys[e]=new $a(e,1,!1,e.toLowerCase(),null,!0,!0)});function RP(e,t,r,s){var a=Ys.hasOwnProperty(t)?Ys[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xte(t,r,a,s)&&(r=null),s||a===null?hte(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var id=fte.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Iy=Symbol.for("react.element"),Um=Symbol.for("react.portal"),Vm=Symbol.for("react.fragment"),MP=Symbol.for("react.strict_mode"),PC=Symbol.for("react.profiler"),G8=Symbol.for("react.provider"),K8=Symbol.for("react.context"),FP=Symbol.for("react.forward_ref"),kC=Symbol.for("react.suspense"),TC=Symbol.for("react.suspense_list"),$P=Symbol.for("react.memo"),Cd=Symbol.for("react.lazy"),Y8=Symbol.for("react.offscreen"),ID=Symbol.iterator;function _x(e){return e===null||typeof e!="object"?null:(e=ID&&e[ID]||e["@@iterator"],typeof e=="function"?e:null)}var En=Object.assign,b_;function rg(e){if(b_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);b_=t&&t[1]||""}return`
`+b_+e}var w_=!1;function N_(e,t){if(!e||w_)return"";w_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{w_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?rg(e):""}function gte(e){switch(e.tag){case 5:return rg(e.type);case 16:return rg("Lazy");case 13:return rg("Suspense");case 19:return rg("SuspenseList");case 0:case 2:case 15:return e=N_(e.type,!1),e;case 11:return e=N_(e.type.render,!1),e;case 1:return e=N_(e.type,!0),e;default:return""}}function OC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vm:return"Fragment";case Um:return"Portal";case PC:return"Profiler";case MP:return"StrictMode";case kC:return"Suspense";case TC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case K8:return(e.displayName||"Context")+".Consumer";case G8:return(e._context.displayName||"Context")+".Provider";case FP:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $P:return t=e.displayName||null,t!==null?t:OC(e.type)||"Memo";case Cd:t=e._payload,e=e._init;try{return OC(e(t))}catch{}}return null}function vte(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return OC(t);case 8:return t===MP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function du(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function X8(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yte(e){var t=X8(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ry(e){e._valueTracker||(e._valueTracker=yte(e))}function Q8(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=X8(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function mb(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function DC(e,t){var r=t.checked;return En({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function RD(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=du(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Z8(e,t){t=t.checked,t!=null&&RP(e,"checked",t,!1)}function IC(e,t){Z8(e,t);var r=du(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?RC(e,t.type,r):t.hasOwnProperty("defaultValue")&&RC(e,t.type,du(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function MD(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function RC(e,t,r){(t!=="number"||mb(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ng=Array.isArray;function sh(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+du(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function MC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ye(91));return En({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function FD(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ye(92));if(ng(r)){if(1<r.length)throw Error(Ye(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:du(r)}}function J8(e,t){var r=du(t.value),s=du(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function $D(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function eB(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function FC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?eB(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var My,tB=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(My=My||document.createElement("div"),My.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=My.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var hg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jte=["Webkit","ms","Moz","O"];Object.keys(hg).forEach(function(e){jte.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hg[t]=hg[e]})});function rB(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||hg.hasOwnProperty(e)&&hg[e]?(""+t).trim():t+"px"}function nB(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=rB(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var bte=En({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $C(e,t){if(t){if(bte[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ye(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ye(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ye(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ye(62))}}function LC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BC=null;function LP(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var UC=null,ah=null,ih=null;function LD(e){if(e=kv(e)){if(typeof UC!="function")throw Error(Ye(280));var t=e.stateNode;t&&(t=Jw(t),UC(e.stateNode,e.type,t))}}function sB(e){ah?ih?ih.push(e):ih=[e]:ah=e}function aB(){if(ah){var e=ah,t=ih;if(ih=ah=null,LD(e),t)for(e=0;e<t.length;e++)LD(t[e])}}function iB(e,t){return e(t)}function oB(){}var __=!1;function lB(e,t,r){if(__)return e(t,r);__=!0;try{return iB(e,t,r)}finally{__=!1,(ah!==null||ih!==null)&&(oB(),aB())}}function Yg(e,t){var r=e.stateNode;if(r===null)return null;var s=Jw(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ye(231,t,typeof r));return r}var VC=!1;if(Vc)try{var Sx={};Object.defineProperty(Sx,"passive",{get:function(){VC=!0}}),window.addEventListener("test",Sx,Sx),window.removeEventListener("test",Sx,Sx)}catch{VC=!1}function wte(e,t,r,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var pg=!1,hb=null,pb=!1,zC=null,Nte={onError:function(e){pg=!0,hb=e}};function _te(e,t,r,s,a,i,o,l,c){pg=!1,hb=null,wte.apply(Nte,arguments)}function Ste(e,t,r,s,a,i,o,l,c){if(_te.apply(this,arguments),pg){if(pg){var d=hb;pg=!1,hb=null}else throw Error(Ye(198));pb||(pb=!0,zC=d)}}function am(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function cB(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function BD(e){if(am(e)!==e)throw Error(Ye(188))}function Cte(e){var t=e.alternate;if(!t){if(t=am(e),t===null)throw Error(Ye(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return BD(a),e;if(i===s)return BD(a),t;i=i.sibling}throw Error(Ye(188))}if(r.return!==s.return)r=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o)throw Error(Ye(189))}}if(r.alternate!==s)throw Error(Ye(190))}if(r.tag!==3)throw Error(Ye(188));return r.stateNode.current===r?e:t}function dB(e){return e=Cte(e),e!==null?uB(e):null}function uB(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=uB(e);if(t!==null)return t;e=e.sibling}return null}var fB=Li.unstable_scheduleCallback,UD=Li.unstable_cancelCallback,Ate=Li.unstable_shouldYield,Ete=Li.unstable_requestPaint,zn=Li.unstable_now,Pte=Li.unstable_getCurrentPriorityLevel,BP=Li.unstable_ImmediatePriority,mB=Li.unstable_UserBlockingPriority,xb=Li.unstable_NormalPriority,kte=Li.unstable_LowPriority,hB=Li.unstable_IdlePriority,Yw=null,zl=null;function Tte(e){if(zl&&typeof zl.onCommitFiberRoot=="function")try{zl.onCommitFiberRoot(Yw,e,void 0,(e.current.flags&128)===128)}catch{}}var Jo=Math.clz32?Math.clz32:Ite,Ote=Math.log,Dte=Math.LN2;function Ite(e){return e>>>=0,e===0?32:31-(Ote(e)/Dte|0)|0}var Fy=64,$y=4194304;function sg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gb(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?s=sg(l):(i&=o,i!==0&&(s=sg(i)))}else o=r&~a,o!==0?s=sg(o):i!==0&&(s=sg(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Jo(t),a=1<<r,s|=e[r],t&=~a;return s}function Rte(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mte(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Jo(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&s)&&(a[o]=Rte(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function WC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pB(){var e=Fy;return Fy<<=1,!(Fy&4194240)&&(Fy=64),e}function S_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ev(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jo(t),e[t]=r}function Fte(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Jo(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function UP(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Jo(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var Ir=0;function xB(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gB,VP,vB,yB,jB,HC=!1,Ly=[],Qd=null,Zd=null,Jd=null,Xg=new Map,Qg=new Map,Pd=[],$te="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VD(e,t){switch(e){case"focusin":case"focusout":Qd=null;break;case"dragenter":case"dragleave":Zd=null;break;case"mouseover":case"mouseout":Jd=null;break;case"pointerover":case"pointerout":Xg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qg.delete(t.pointerId)}}function Cx(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=kv(t),t!==null&&VP(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Lte(e,t,r,s,a){switch(t){case"focusin":return Qd=Cx(Qd,e,t,r,s,a),!0;case"dragenter":return Zd=Cx(Zd,e,t,r,s,a),!0;case"mouseover":return Jd=Cx(Jd,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return Xg.set(i,Cx(Xg.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,Qg.set(i,Cx(Qg.get(i)||null,e,t,r,s,a)),!0}return!1}function bB(e){var t=rf(e.target);if(t!==null){var r=am(t);if(r!==null){if(t=r.tag,t===13){if(t=cB(r),t!==null){e.blockedOn=t,jB(e.priority,function(){vB(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zj(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=qC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);BC=s,r.target.dispatchEvent(s),BC=null}else return t=kv(r),t!==null&&VP(t),e.blockedOn=r,!1;t.shift()}return!0}function zD(e,t,r){zj(e)&&r.delete(t)}function Bte(){HC=!1,Qd!==null&&zj(Qd)&&(Qd=null),Zd!==null&&zj(Zd)&&(Zd=null),Jd!==null&&zj(Jd)&&(Jd=null),Xg.forEach(zD),Qg.forEach(zD)}function Ax(e,t){e.blockedOn===t&&(e.blockedOn=null,HC||(HC=!0,Li.unstable_scheduleCallback(Li.unstable_NormalPriority,Bte)))}function Zg(e){function t(a){return Ax(a,e)}if(0<Ly.length){Ax(Ly[0],e);for(var r=1;r<Ly.length;r++){var s=Ly[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Qd!==null&&Ax(Qd,e),Zd!==null&&Ax(Zd,e),Jd!==null&&Ax(Jd,e),Xg.forEach(t),Qg.forEach(t),r=0;r<Pd.length;r++)s=Pd[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Pd.length&&(r=Pd[0],r.blockedOn===null);)bB(r),r.blockedOn===null&&Pd.shift()}var oh=id.ReactCurrentBatchConfig,vb=!0;function Ute(e,t,r,s){var a=Ir,i=oh.transition;oh.transition=null;try{Ir=1,zP(e,t,r,s)}finally{Ir=a,oh.transition=i}}function Vte(e,t,r,s){var a=Ir,i=oh.transition;oh.transition=null;try{Ir=4,zP(e,t,r,s)}finally{Ir=a,oh.transition=i}}function zP(e,t,r,s){if(vb){var a=qC(e,t,r,s);if(a===null)R_(e,t,s,yb,r),VD(e,s);else if(Lte(a,e,t,r,s))s.stopPropagation();else if(VD(e,s),t&4&&-1<$te.indexOf(e)){for(;a!==null;){var i=kv(a);if(i!==null&&gB(i),i=qC(e,t,r,s),i===null&&R_(e,t,s,yb,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else R_(e,t,s,null,r)}}var yb=null;function qC(e,t,r,s){if(yb=null,e=LP(s),e=rf(e),e!==null)if(t=am(e),t===null)e=null;else if(r=t.tag,r===13){if(e=cB(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yb=e,null}function wB(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pte()){case BP:return 1;case mB:return 4;case xb:case kte:return 16;case hB:return 536870912;default:return 16}default:return 16}}var Vd=null,WP=null,Wj=null;function NB(){if(Wj)return Wj;var e,t=WP,r=t.length,s,a="value"in Vd?Vd.value:Vd.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[i-s];s++);return Wj=a.slice(e,1<s?1-s:void 0)}function Hj(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function By(){return!0}function WD(){return!1}function Gi(e){function t(r,s,a,i,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?By:WD,this.isPropagationStopped=WD,this}return En(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=By)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=By)},persist:function(){},isPersistent:By}),t}var Mp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},HP=Gi(Mp),Pv=En({},Mp,{view:0,detail:0}),zte=Gi(Pv),C_,A_,Ex,Xw=En({},Pv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qP,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ex&&(Ex&&e.type==="mousemove"?(C_=e.screenX-Ex.screenX,A_=e.screenY-Ex.screenY):A_=C_=0,Ex=e),C_)},movementY:function(e){return"movementY"in e?e.movementY:A_}}),HD=Gi(Xw),Wte=En({},Xw,{dataTransfer:0}),Hte=Gi(Wte),qte=En({},Pv,{relatedTarget:0}),E_=Gi(qte),Gte=En({},Mp,{animationName:0,elapsedTime:0,pseudoElement:0}),Kte=Gi(Gte),Yte=En({},Mp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xte=Gi(Yte),Qte=En({},Mp,{data:0}),qD=Gi(Qte),Zte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ere={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tre(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ere[e])?!!t[e]:!1}function qP(){return tre}var rre=En({},Pv,{key:function(e){if(e.key){var t=Zte[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hj(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jte[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qP,charCode:function(e){return e.type==="keypress"?Hj(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hj(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nre=Gi(rre),sre=En({},Xw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GD=Gi(sre),are=En({},Pv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qP}),ire=Gi(are),ore=En({},Mp,{propertyName:0,elapsedTime:0,pseudoElement:0}),lre=Gi(ore),cre=En({},Xw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dre=Gi(cre),ure=[9,13,27,32],GP=Vc&&"CompositionEvent"in window,xg=null;Vc&&"documentMode"in document&&(xg=document.documentMode);var fre=Vc&&"TextEvent"in window&&!xg,_B=Vc&&(!GP||xg&&8<xg&&11>=xg),KD=" ",YD=!1;function SB(e,t){switch(e){case"keyup":return ure.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CB(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zm=!1;function mre(e,t){switch(e){case"compositionend":return CB(t);case"keypress":return t.which!==32?null:(YD=!0,KD);case"textInput":return e=t.data,e===KD&&YD?null:e;default:return null}}function hre(e,t){if(zm)return e==="compositionend"||!GP&&SB(e,t)?(e=NB(),Wj=WP=Vd=null,zm=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _B&&t.locale!=="ko"?null:t.data;default:return null}}var pre={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pre[e.type]:t==="textarea"}function AB(e,t,r,s){sB(s),t=jb(t,"onChange"),0<t.length&&(r=new HP("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var gg=null,Jg=null;function xre(e){$B(e,0)}function Qw(e){var t=qm(e);if(Q8(t))return e}function gre(e,t){if(e==="change")return t}var EB=!1;if(Vc){var P_;if(Vc){var k_="oninput"in document;if(!k_){var QD=document.createElement("div");QD.setAttribute("oninput","return;"),k_=typeof QD.oninput=="function"}P_=k_}else P_=!1;EB=P_&&(!document.documentMode||9<document.documentMode)}function ZD(){gg&&(gg.detachEvent("onpropertychange",PB),Jg=gg=null)}function PB(e){if(e.propertyName==="value"&&Qw(Jg)){var t=[];AB(t,Jg,e,LP(e)),lB(xre,t)}}function vre(e,t,r){e==="focusin"?(ZD(),gg=t,Jg=r,gg.attachEvent("onpropertychange",PB)):e==="focusout"&&ZD()}function yre(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qw(Jg)}function jre(e,t){if(e==="click")return Qw(t)}function bre(e,t){if(e==="input"||e==="change")return Qw(t)}function wre(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var il=typeof Object.is=="function"?Object.is:wre;function e0(e,t){if(il(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!EC.call(t,a)||!il(e[a],t[a]))return!1}return!0}function JD(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function e5(e,t){var r=JD(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=JD(r)}}function kB(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kB(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function TB(){for(var e=window,t=mb();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=mb(e.document)}return t}function KP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Nre(e){var t=TB(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&kB(r.ownerDocument.documentElement,r)){if(s!==null&&KP(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=e5(r,i);var o=e5(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _re=Vc&&"documentMode"in document&&11>=document.documentMode,Wm=null,GC=null,vg=null,KC=!1;function t5(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;KC||Wm==null||Wm!==mb(s)||(s=Wm,"selectionStart"in s&&KP(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),vg&&e0(vg,s)||(vg=s,s=jb(GC,"onSelect"),0<s.length&&(t=new HP("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Wm)))}function Uy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Hm={animationend:Uy("Animation","AnimationEnd"),animationiteration:Uy("Animation","AnimationIteration"),animationstart:Uy("Animation","AnimationStart"),transitionend:Uy("Transition","TransitionEnd")},T_={},OB={};Vc&&(OB=document.createElement("div").style,"AnimationEvent"in window||(delete Hm.animationend.animation,delete Hm.animationiteration.animation,delete Hm.animationstart.animation),"TransitionEvent"in window||delete Hm.transitionend.transition);function Zw(e){if(T_[e])return T_[e];if(!Hm[e])return e;var t=Hm[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in OB)return T_[e]=t[r];return e}var DB=Zw("animationend"),IB=Zw("animationiteration"),RB=Zw("animationstart"),MB=Zw("transitionend"),FB=new Map,r5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _u(e,t){FB.set(e,t),sm(t,[e])}for(var O_=0;O_<r5.length;O_++){var D_=r5[O_],Sre=D_.toLowerCase(),Cre=D_[0].toUpperCase()+D_.slice(1);_u(Sre,"on"+Cre)}_u(DB,"onAnimationEnd");_u(IB,"onAnimationIteration");_u(RB,"onAnimationStart");_u("dblclick","onDoubleClick");_u("focusin","onFocus");_u("focusout","onBlur");_u(MB,"onTransitionEnd");Uh("onMouseEnter",["mouseout","mouseover"]);Uh("onMouseLeave",["mouseout","mouseover"]);Uh("onPointerEnter",["pointerout","pointerover"]);Uh("onPointerLeave",["pointerout","pointerover"]);sm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sm("onBeforeInput",["compositionend","keypress","textInput","paste"]);sm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ag="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Are=new Set("cancel close invalid load scroll toggle".split(" ").concat(ag));function n5(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Ste(s,t,void 0,e),e.currentTarget=null}function $B(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;n5(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;n5(a,l,d),i=c}}}if(pb)throw e=zC,pb=!1,zC=null,e}function nn(e,t){var r=t[JC];r===void 0&&(r=t[JC]=new Set);var s=e+"__bubble";r.has(s)||(LB(t,e,2,!1),r.add(s))}function I_(e,t,r){var s=0;t&&(s|=4),LB(r,e,s,t)}var Vy="_reactListening"+Math.random().toString(36).slice(2);function t0(e){if(!e[Vy]){e[Vy]=!0,q8.forEach(function(r){r!=="selectionchange"&&(Are.has(r)||I_(r,!1,e),I_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vy]||(t[Vy]=!0,I_("selectionchange",!1,t))}}function LB(e,t,r,s){switch(wB(t)){case 1:var a=Ute;break;case 4:a=Vte;break;default:a=zP}r=a.bind(null,t,r,e),a=void 0,!VC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function R_(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=rf(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}lB(function(){var d=i,u=LP(r),f=[];e:{var m=FB.get(e);if(m!==void 0){var h=HP,x=e;switch(e){case"keypress":if(Hj(r)===0)break e;case"keydown":case"keyup":h=nre;break;case"focusin":x="focus",h=E_;break;case"focusout":x="blur",h=E_;break;case"beforeblur":case"afterblur":h=E_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=HD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Hte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=ire;break;case DB:case IB:case RB:h=Kte;break;case MB:h=lre;break;case"scroll":h=zte;break;case"wheel":h=dre;break;case"copy":case"cut":case"paste":h=Xte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=GD}var p=(t&4)!==0,g=!p&&e==="scroll",j=p?m!==null?m+"Capture":null:m;p=[];for(var y=d,w;y!==null;){w=y;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,j!==null&&(b=Yg(y,j),b!=null&&p.push(r0(y,b,w)))),g)break;y=y.return}0<p.length&&(m=new h(m,x,null,r,u),f.push({event:m,listeners:p}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&r!==BC&&(x=r.relatedTarget||r.fromElement)&&(rf(x)||x[zc]))break e;if((h||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,h?(x=r.relatedTarget||r.toElement,h=d,x=x?rf(x):null,x!==null&&(g=am(x),x!==g||x.tag!==5&&x.tag!==6)&&(x=null)):(h=null,x=d),h!==x)){if(p=HD,b="onMouseLeave",j="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=GD,b="onPointerLeave",j="onPointerEnter",y="pointer"),g=h==null?m:qm(h),w=x==null?m:qm(x),m=new p(b,y+"leave",h,r,u),m.target=g,m.relatedTarget=w,b=null,rf(u)===d&&(p=new p(j,y+"enter",x,r,u),p.target=w,p.relatedTarget=g,b=p),g=b,h&&x)t:{for(p=h,j=x,y=0,w=p;w;w=wm(w))y++;for(w=0,b=j;b;b=wm(b))w++;for(;0<y-w;)p=wm(p),y--;for(;0<w-y;)j=wm(j),w--;for(;y--;){if(p===j||j!==null&&p===j.alternate)break t;p=wm(p),j=wm(j)}p=null}else p=null;h!==null&&s5(f,m,h,p,!1),x!==null&&g!==null&&s5(f,g,x,p,!0)}}e:{if(m=d?qm(d):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var N=gre;else if(XD(m))if(EB)N=bre;else{N=yre;var _=vre}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=jre);if(N&&(N=N(e,d))){AB(f,N,r,u);break e}_&&_(e,m,d),e==="focusout"&&(_=m._wrapperState)&&_.controlled&&m.type==="number"&&RC(m,"number",m.value)}switch(_=d?qm(d):window,e){case"focusin":(XD(_)||_.contentEditable==="true")&&(Wm=_,GC=d,vg=null);break;case"focusout":vg=GC=Wm=null;break;case"mousedown":KC=!0;break;case"contextmenu":case"mouseup":case"dragend":KC=!1,t5(f,r,u);break;case"selectionchange":if(_re)break;case"keydown":case"keyup":t5(f,r,u)}var C;if(GP)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else zm?SB(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(_B&&r.locale!=="ko"&&(zm||A!=="onCompositionStart"?A==="onCompositionEnd"&&zm&&(C=NB()):(Vd=u,WP="value"in Vd?Vd.value:Vd.textContent,zm=!0)),_=jb(d,A),0<_.length&&(A=new qD(A,e,null,r,u),f.push({event:A,listeners:_}),C?A.data=C:(C=CB(r),C!==null&&(A.data=C)))),(C=fre?mre(e,r):hre(e,r))&&(d=jb(d,"onBeforeInput"),0<d.length&&(u=new qD("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=C))}$B(f,t)})}function r0(e,t,r){return{instance:e,listener:t,currentTarget:r}}function jb(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Yg(e,r),i!=null&&s.unshift(r0(e,i,a)),i=Yg(e,t),i!=null&&s.push(r0(e,i,a))),e=e.return}return s}function wm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function s5(e,t,r,s,a){for(var i=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=Yg(r,i),c!=null&&o.unshift(r0(r,c,l))):a||(c=Yg(r,i),c!=null&&o.push(r0(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Ere=/\r\n?/g,Pre=/\u0000|\uFFFD/g;function a5(e){return(typeof e=="string"?e:""+e).replace(Ere,`
`).replace(Pre,"")}function zy(e,t,r){if(t=a5(t),a5(e)!==t&&r)throw Error(Ye(425))}function bb(){}var YC=null,XC=null;function QC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ZC=typeof setTimeout=="function"?setTimeout:void 0,kre=typeof clearTimeout=="function"?clearTimeout:void 0,i5=typeof Promise=="function"?Promise:void 0,Tre=typeof queueMicrotask=="function"?queueMicrotask:typeof i5<"u"?function(e){return i5.resolve(null).then(e).catch(Ore)}:ZC;function Ore(e){setTimeout(function(){throw e})}function M_(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),Zg(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);Zg(t)}function eu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function o5(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Fp=Math.random().toString(36).slice(2),Ml="__reactFiber$"+Fp,n0="__reactProps$"+Fp,zc="__reactContainer$"+Fp,JC="__reactEvents$"+Fp,Dre="__reactListeners$"+Fp,Ire="__reactHandles$"+Fp;function rf(e){var t=e[Ml];if(t)return t;for(var r=e.parentNode;r;){if(t=r[zc]||r[Ml]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=o5(e);e!==null;){if(r=e[Ml])return r;e=o5(e)}return t}e=r,r=e.parentNode}return null}function kv(e){return e=e[Ml]||e[zc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qm(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ye(33))}function Jw(e){return e[n0]||null}var e4=[],Gm=-1;function Su(e){return{current:e}}function cn(e){0>Gm||(e.current=e4[Gm],e4[Gm]=null,Gm--)}function Xr(e,t){Gm++,e4[Gm]=e.current,e.current=t}var uu={},ma=Su(uu),Za=Su(!1),Of=uu;function Vh(e,t){var r=e.type.contextTypes;if(!r)return uu;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ja(e){return e=e.childContextTypes,e!=null}function wb(){cn(Za),cn(ma)}function l5(e,t,r){if(ma.current!==uu)throw Error(Ye(168));Xr(ma,t),Xr(Za,r)}function BB(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(Ye(108,vte(e)||"Unknown",a));return En({},r,s)}function Nb(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||uu,Of=ma.current,Xr(ma,e),Xr(Za,Za.current),!0}function c5(e,t,r){var s=e.stateNode;if(!s)throw Error(Ye(169));r?(e=BB(e,t,Of),s.__reactInternalMemoizedMergedChildContext=e,cn(Za),cn(ma),Xr(ma,e)):cn(Za),Xr(Za,r)}var wc=null,eN=!1,F_=!1;function UB(e){wc===null?wc=[e]:wc.push(e)}function Rre(e){eN=!0,UB(e)}function Cu(){if(!F_&&wc!==null){F_=!0;var e=0,t=Ir;try{var r=wc;for(Ir=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}wc=null,eN=!1}catch(a){throw wc!==null&&(wc=wc.slice(e+1)),fB(BP,Cu),a}finally{Ir=t,F_=!1}}return null}var Km=[],Ym=0,_b=null,Sb=0,lo=[],co=0,Df=null,Sc=1,Cc="";function Wu(e,t){Km[Ym++]=Sb,Km[Ym++]=_b,_b=e,Sb=t}function VB(e,t,r){lo[co++]=Sc,lo[co++]=Cc,lo[co++]=Df,Df=e;var s=Sc;e=Cc;var a=32-Jo(s)-1;s&=~(1<<a),r+=1;var i=32-Jo(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,Sc=1<<32-Jo(t)+a|r<<a|s,Cc=i+e}else Sc=1<<i|r<<a|s,Cc=e}function YP(e){e.return!==null&&(Wu(e,1),VB(e,1,0))}function XP(e){for(;e===_b;)_b=Km[--Ym],Km[Ym]=null,Sb=Km[--Ym],Km[Ym]=null;for(;e===Df;)Df=lo[--co],lo[co]=null,Cc=lo[--co],lo[co]=null,Sc=lo[--co],lo[co]=null}var Oi=null,ki=null,hn=!1,zo=null;function zB(e,t){var r=fo(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function d5(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Oi=e,ki=eu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Oi=e,ki=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Df!==null?{id:Sc,overflow:Cc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=fo(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Oi=e,ki=null,!0):!1;default:return!1}}function t4(e){return(e.mode&1)!==0&&(e.flags&128)===0}function r4(e){if(hn){var t=ki;if(t){var r=t;if(!d5(e,t)){if(t4(e))throw Error(Ye(418));t=eu(r.nextSibling);var s=Oi;t&&d5(e,t)?zB(s,r):(e.flags=e.flags&-4097|2,hn=!1,Oi=e)}}else{if(t4(e))throw Error(Ye(418));e.flags=e.flags&-4097|2,hn=!1,Oi=e}}}function u5(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Oi=e}function Wy(e){if(e!==Oi)return!1;if(!hn)return u5(e),hn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!QC(e.type,e.memoizedProps)),t&&(t=ki)){if(t4(e))throw WB(),Error(Ye(418));for(;t;)zB(e,t),t=eu(t.nextSibling)}if(u5(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ye(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ki=eu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ki=null}}else ki=Oi?eu(e.stateNode.nextSibling):null;return!0}function WB(){for(var e=ki;e;)e=eu(e.nextSibling)}function zh(){ki=Oi=null,hn=!1}function QP(e){zo===null?zo=[e]:zo.push(e)}var Mre=id.ReactCurrentBatchConfig;function Px(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ye(309));var s=r.stateNode}if(!s)throw Error(Ye(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ye(284));if(!r._owner)throw Error(Ye(290,e))}return e}function Hy(e,t){throw e=Object.prototype.toString.call(t),Error(Ye(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function f5(e){var t=e._init;return t(e._payload)}function HB(e){function t(j,y){if(e){var w=j.deletions;w===null?(j.deletions=[y],j.flags|=16):w.push(y)}}function r(j,y){if(!e)return null;for(;y!==null;)t(j,y),y=y.sibling;return null}function s(j,y){for(j=new Map;y!==null;)y.key!==null?j.set(y.key,y):j.set(y.index,y),y=y.sibling;return j}function a(j,y){return j=su(j,y),j.index=0,j.sibling=null,j}function i(j,y,w){return j.index=w,e?(w=j.alternate,w!==null?(w=w.index,w<y?(j.flags|=2,y):w):(j.flags|=2,y)):(j.flags|=1048576,y)}function o(j){return e&&j.alternate===null&&(j.flags|=2),j}function l(j,y,w,b){return y===null||y.tag!==6?(y=W_(w,j.mode,b),y.return=j,y):(y=a(y,w),y.return=j,y)}function c(j,y,w,b){var N=w.type;return N===Vm?u(j,y,w.props.children,b,w.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Cd&&f5(N)===y.type)?(b=a(y,w.props),b.ref=Px(j,y,w),b.return=j,b):(b=Zj(w.type,w.key,w.props,null,j.mode,b),b.ref=Px(j,y,w),b.return=j,b)}function d(j,y,w,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=H_(w,j.mode,b),y.return=j,y):(y=a(y,w.children||[]),y.return=j,y)}function u(j,y,w,b,N){return y===null||y.tag!==7?(y=_f(w,j.mode,b,N),y.return=j,y):(y=a(y,w),y.return=j,y)}function f(j,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=W_(""+y,j.mode,w),y.return=j,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Iy:return w=Zj(y.type,y.key,y.props,null,j.mode,w),w.ref=Px(j,null,y),w.return=j,w;case Um:return y=H_(y,j.mode,w),y.return=j,y;case Cd:var b=y._init;return f(j,b(y._payload),w)}if(ng(y)||_x(y))return y=_f(y,j.mode,w,null),y.return=j,y;Hy(j,y)}return null}function m(j,y,w,b){var N=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(j,y,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Iy:return w.key===N?c(j,y,w,b):null;case Um:return w.key===N?d(j,y,w,b):null;case Cd:return N=w._init,m(j,y,N(w._payload),b)}if(ng(w)||_x(w))return N!==null?null:u(j,y,w,b,null);Hy(j,w)}return null}function h(j,y,w,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return j=j.get(w)||null,l(y,j,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Iy:return j=j.get(b.key===null?w:b.key)||null,c(y,j,b,N);case Um:return j=j.get(b.key===null?w:b.key)||null,d(y,j,b,N);case Cd:var _=b._init;return h(j,y,w,_(b._payload),N)}if(ng(b)||_x(b))return j=j.get(w)||null,u(y,j,b,N,null);Hy(y,b)}return null}function x(j,y,w,b){for(var N=null,_=null,C=y,A=y=0,E=null;C!==null&&A<w.length;A++){C.index>A?(E=C,C=null):E=C.sibling;var k=m(j,C,w[A],b);if(k===null){C===null&&(C=E);break}e&&C&&k.alternate===null&&t(j,C),y=i(k,y,A),_===null?N=k:_.sibling=k,_=k,C=E}if(A===w.length)return r(j,C),hn&&Wu(j,A),N;if(C===null){for(;A<w.length;A++)C=f(j,w[A],b),C!==null&&(y=i(C,y,A),_===null?N=C:_.sibling=C,_=C);return hn&&Wu(j,A),N}for(C=s(j,C);A<w.length;A++)E=h(C,j,A,w[A],b),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?A:E.key),y=i(E,y,A),_===null?N=E:_.sibling=E,_=E);return e&&C.forEach(function(O){return t(j,O)}),hn&&Wu(j,A),N}function p(j,y,w,b){var N=_x(w);if(typeof N!="function")throw Error(Ye(150));if(w=N.call(w),w==null)throw Error(Ye(151));for(var _=N=null,C=y,A=y=0,E=null,k=w.next();C!==null&&!k.done;A++,k=w.next()){C.index>A?(E=C,C=null):E=C.sibling;var O=m(j,C,k.value,b);if(O===null){C===null&&(C=E);break}e&&C&&O.alternate===null&&t(j,C),y=i(O,y,A),_===null?N=O:_.sibling=O,_=O,C=E}if(k.done)return r(j,C),hn&&Wu(j,A),N;if(C===null){for(;!k.done;A++,k=w.next())k=f(j,k.value,b),k!==null&&(y=i(k,y,A),_===null?N=k:_.sibling=k,_=k);return hn&&Wu(j,A),N}for(C=s(j,C);!k.done;A++,k=w.next())k=h(C,j,A,k.value,b),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?A:k.key),y=i(k,y,A),_===null?N=k:_.sibling=k,_=k);return e&&C.forEach(function(I){return t(j,I)}),hn&&Wu(j,A),N}function g(j,y,w,b){if(typeof w=="object"&&w!==null&&w.type===Vm&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Iy:e:{for(var N=w.key,_=y;_!==null;){if(_.key===N){if(N=w.type,N===Vm){if(_.tag===7){r(j,_.sibling),y=a(_,w.props.children),y.return=j,j=y;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Cd&&f5(N)===_.type){r(j,_.sibling),y=a(_,w.props),y.ref=Px(j,_,w),y.return=j,j=y;break e}r(j,_);break}else t(j,_);_=_.sibling}w.type===Vm?(y=_f(w.props.children,j.mode,b,w.key),y.return=j,j=y):(b=Zj(w.type,w.key,w.props,null,j.mode,b),b.ref=Px(j,y,w),b.return=j,j=b)}return o(j);case Um:e:{for(_=w.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(j,y.sibling),y=a(y,w.children||[]),y.return=j,j=y;break e}else{r(j,y);break}else t(j,y);y=y.sibling}y=H_(w,j.mode,b),y.return=j,j=y}return o(j);case Cd:return _=w._init,g(j,y,_(w._payload),b)}if(ng(w))return x(j,y,w,b);if(_x(w))return p(j,y,w,b);Hy(j,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(j,y.sibling),y=a(y,w),y.return=j,j=y):(r(j,y),y=W_(w,j.mode,b),y.return=j,j=y),o(j)):r(j,y)}return g}var Wh=HB(!0),qB=HB(!1),Cb=Su(null),Ab=null,Xm=null,ZP=null;function JP(){ZP=Xm=Ab=null}function ek(e){var t=Cb.current;cn(Cb),e._currentValue=t}function n4(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function lh(e,t){Ab=e,ZP=Xm=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ya=!0),e.firstContext=null)}function bo(e){var t=e._currentValue;if(ZP!==e)if(e={context:e,memoizedValue:t,next:null},Xm===null){if(Ab===null)throw Error(Ye(308));Xm=e,Ab.dependencies={lanes:0,firstContext:e}}else Xm=Xm.next=e;return t}var nf=null;function tk(e){nf===null?nf=[e]:nf.push(e)}function GB(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,tk(t)):(r.next=a.next,a.next=r),t.interleaved=r,Wc(e,s)}function Wc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ad=!1;function rk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KB(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tu(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,hr&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Wc(e,r)}return a=s.interleaved,a===null?(t.next=t,tk(s)):(t.next=a.next,a.next=t),s.interleaved=t,Wc(e,r)}function qj(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,UP(e,r)}}function m5(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Eb(e,t,r,s){var a=e.updateQueue;Ad=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,h=l.eventTime;if((s&m)===m){u!==null&&(u=u.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,p=l;switch(m=t,h=r,p.tag){case 1:if(x=p.payload,typeof x=="function"){f=x.call(h,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,m=typeof x=="function"?x.call(h,f,m):x,m==null)break e;f=En({},f,m);break e;case 2:Ad=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=h,c=f):u=u.next=h,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Rf|=o,e.lanes=o,e.memoizedState=f}}function h5(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(Ye(191,a));a.call(s)}}}var Tv={},Wl=Su(Tv),s0=Su(Tv),a0=Su(Tv);function sf(e){if(e===Tv)throw Error(Ye(174));return e}function nk(e,t){switch(Xr(a0,t),Xr(s0,e),Xr(Wl,Tv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:FC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=FC(t,e)}cn(Wl),Xr(Wl,t)}function Hh(){cn(Wl),cn(s0),cn(a0)}function YB(e){sf(a0.current);var t=sf(Wl.current),r=FC(t,e.type);t!==r&&(Xr(s0,e),Xr(Wl,r))}function sk(e){s0.current===e&&(cn(Wl),cn(s0))}var Nn=Su(0);function Pb(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $_=[];function ak(){for(var e=0;e<$_.length;e++)$_[e]._workInProgressVersionPrimary=null;$_.length=0}var Gj=id.ReactCurrentDispatcher,L_=id.ReactCurrentBatchConfig,If=0,Cn=null,fs=null,Ss=null,kb=!1,yg=!1,i0=0,Fre=0;function ea(){throw Error(Ye(321))}function ik(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!il(e[r],t[r]))return!1;return!0}function ok(e,t,r,s,a,i){if(If=i,Cn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gj.current=e===null||e.memoizedState===null?Ure:Vre,e=r(s,a),yg){i=0;do{if(yg=!1,i0=0,25<=i)throw Error(Ye(301));i+=1,Ss=fs=null,t.updateQueue=null,Gj.current=zre,e=r(s,a)}while(yg)}if(Gj.current=Tb,t=fs!==null&&fs.next!==null,If=0,Ss=fs=Cn=null,kb=!1,t)throw Error(Ye(300));return e}function lk(){var e=i0!==0;return i0=0,e}function Al(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ss===null?Cn.memoizedState=Ss=e:Ss=Ss.next=e,Ss}function wo(){if(fs===null){var e=Cn.alternate;e=e!==null?e.memoizedState:null}else e=fs.next;var t=Ss===null?Cn.memoizedState:Ss.next;if(t!==null)Ss=t,fs=e;else{if(e===null)throw Error(Ye(310));fs=e,e={memoizedState:fs.memoizedState,baseState:fs.baseState,baseQueue:fs.baseQueue,queue:fs.queue,next:null},Ss===null?Cn.memoizedState=Ss=e:Ss=Ss.next=e}return Ss}function o0(e,t){return typeof t=="function"?t(e):t}function B_(e){var t=wo(),r=t.queue;if(r===null)throw Error(Ye(311));r.lastRenderedReducer=e;var s=fs,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((If&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,Cn.lanes|=u,Rf|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,il(s,t.memoizedState)||(Ya=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Cn.lanes|=i,Rf|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function U_(e){var t=wo(),r=t.queue;if(r===null)throw Error(Ye(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);il(i,t.memoizedState)||(Ya=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function XB(){}function QB(e,t){var r=Cn,s=wo(),a=t(),i=!il(s.memoizedState,a);if(i&&(s.memoizedState=a,Ya=!0),s=s.queue,ck(e9.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||Ss!==null&&Ss.memoizedState.tag&1){if(r.flags|=2048,l0(9,JB.bind(null,r,s,a,t),void 0,null),ks===null)throw Error(Ye(349));If&30||ZB(r,t,a)}return a}function ZB(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Cn.updateQueue,t===null?(t={lastEffect:null,stores:null},Cn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function JB(e,t,r,s){t.value=r,t.getSnapshot=s,t9(t)&&r9(e)}function e9(e,t,r){return r(function(){t9(t)&&r9(e)})}function t9(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!il(e,r)}catch{return!0}}function r9(e){var t=Wc(e,1);t!==null&&el(t,e,1,-1)}function p5(e){var t=Al();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o0,lastRenderedState:e},t.queue=e,e=e.dispatch=Bre.bind(null,Cn,e),[t.memoizedState,e]}function l0(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Cn.updateQueue,t===null?(t={lastEffect:null,stores:null},Cn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function n9(){return wo().memoizedState}function Kj(e,t,r,s){var a=Al();Cn.flags|=e,a.memoizedState=l0(1|t,r,void 0,s===void 0?null:s)}function tN(e,t,r,s){var a=wo();s=s===void 0?null:s;var i=void 0;if(fs!==null){var o=fs.memoizedState;if(i=o.destroy,s!==null&&ik(s,o.deps)){a.memoizedState=l0(t,r,i,s);return}}Cn.flags|=e,a.memoizedState=l0(1|t,r,i,s)}function x5(e,t){return Kj(8390656,8,e,t)}function ck(e,t){return tN(2048,8,e,t)}function s9(e,t){return tN(4,2,e,t)}function a9(e,t){return tN(4,4,e,t)}function i9(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function o9(e,t,r){return r=r!=null?r.concat([e]):null,tN(4,4,i9.bind(null,t,e),r)}function dk(){}function l9(e,t){var r=wo();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&ik(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function c9(e,t){var r=wo();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&ik(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function d9(e,t,r){return If&21?(il(r,t)||(r=pB(),Cn.lanes|=r,Rf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ya=!0),e.memoizedState=r)}function $re(e,t){var r=Ir;Ir=r!==0&&4>r?r:4,e(!0);var s=L_.transition;L_.transition={};try{e(!1),t()}finally{Ir=r,L_.transition=s}}function u9(){return wo().memoizedState}function Lre(e,t,r){var s=nu(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},f9(e))m9(t,r);else if(r=GB(e,t,r,s),r!==null){var a=ka();el(r,e,s,a),h9(r,t,s)}}function Bre(e,t,r){var s=nu(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(f9(e))m9(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,il(l,o)){var c=t.interleaved;c===null?(a.next=a,tk(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=GB(e,t,a,s),r!==null&&(a=ka(),el(r,e,s,a),h9(r,t,s))}}function f9(e){var t=e.alternate;return e===Cn||t!==null&&t===Cn}function m9(e,t){yg=kb=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function h9(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,UP(e,r)}}var Tb={readContext:bo,useCallback:ea,useContext:ea,useEffect:ea,useImperativeHandle:ea,useInsertionEffect:ea,useLayoutEffect:ea,useMemo:ea,useReducer:ea,useRef:ea,useState:ea,useDebugValue:ea,useDeferredValue:ea,useTransition:ea,useMutableSource:ea,useSyncExternalStore:ea,useId:ea,unstable_isNewReconciler:!1},Ure={readContext:bo,useCallback:function(e,t){return Al().memoizedState=[e,t===void 0?null:t],e},useContext:bo,useEffect:x5,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Kj(4194308,4,i9.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Kj(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kj(4,2,e,t)},useMemo:function(e,t){var r=Al();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Al();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Lre.bind(null,Cn,e),[s.memoizedState,e]},useRef:function(e){var t=Al();return e={current:e},t.memoizedState=e},useState:p5,useDebugValue:dk,useDeferredValue:function(e){return Al().memoizedState=e},useTransition:function(){var e=p5(!1),t=e[0];return e=$re.bind(null,e[1]),Al().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Cn,a=Al();if(hn){if(r===void 0)throw Error(Ye(407));r=r()}else{if(r=t(),ks===null)throw Error(Ye(349));If&30||ZB(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,x5(e9.bind(null,s,i,e),[e]),s.flags|=2048,l0(9,JB.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=Al(),t=ks.identifierPrefix;if(hn){var r=Cc,s=Sc;r=(s&~(1<<32-Jo(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=i0++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Fre++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vre={readContext:bo,useCallback:l9,useContext:bo,useEffect:ck,useImperativeHandle:o9,useInsertionEffect:s9,useLayoutEffect:a9,useMemo:c9,useReducer:B_,useRef:n9,useState:function(){return B_(o0)},useDebugValue:dk,useDeferredValue:function(e){var t=wo();return d9(t,fs.memoizedState,e)},useTransition:function(){var e=B_(o0)[0],t=wo().memoizedState;return[e,t]},useMutableSource:XB,useSyncExternalStore:QB,useId:u9,unstable_isNewReconciler:!1},zre={readContext:bo,useCallback:l9,useContext:bo,useEffect:ck,useImperativeHandle:o9,useInsertionEffect:s9,useLayoutEffect:a9,useMemo:c9,useReducer:U_,useRef:n9,useState:function(){return U_(o0)},useDebugValue:dk,useDeferredValue:function(e){var t=wo();return fs===null?t.memoizedState=e:d9(t,fs.memoizedState,e)},useTransition:function(){var e=U_(o0)[0],t=wo().memoizedState;return[e,t]},useMutableSource:XB,useSyncExternalStore:QB,useId:u9,unstable_isNewReconciler:!1};function $o(e,t){if(e&&e.defaultProps){t=En({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function s4(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:En({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var rN={isMounted:function(e){return(e=e._reactInternals)?am(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=ka(),a=nu(e),i=Oc(s,a);i.payload=t,r!=null&&(i.callback=r),t=tu(e,i,a),t!==null&&(el(t,e,a,s),qj(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=ka(),a=nu(e),i=Oc(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=tu(e,i,a),t!==null&&(el(t,e,a,s),qj(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ka(),s=nu(e),a=Oc(r,s);a.tag=2,t!=null&&(a.callback=t),t=tu(e,a,s),t!==null&&(el(t,e,s,r),qj(t,e,s))}};function g5(e,t,r,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!e0(r,s)||!e0(a,i):!0}function p9(e,t,r){var s=!1,a=uu,i=t.contextType;return typeof i=="object"&&i!==null?i=bo(i):(a=Ja(t)?Of:ma.current,s=t.contextTypes,i=(s=s!=null)?Vh(e,a):uu),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rN,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function v5(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&rN.enqueueReplaceState(t,t.state,null)}function a4(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},rk(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=bo(i):(i=Ja(t)?Of:ma.current,a.context=Vh(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(s4(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&rN.enqueueReplaceState(a,a.state,null),Eb(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function qh(e,t){try{var r="",s=t;do r+=gte(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function V_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function i4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Wre=typeof WeakMap=="function"?WeakMap:Map;function x9(e,t,r){r=Oc(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Db||(Db=!0,x4=s),i4(e,t)},r}function g9(e,t,r){r=Oc(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){i4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){i4(e,t),typeof s!="function"&&(ru===null?ru=new Set([this]):ru.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function y5(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Wre;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=sne.bind(null,e,t,r),t.then(e,e))}function j5(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function b5(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Oc(-1,1),t.tag=2,tu(r,t,1))),r.lanes|=1),e)}var Hre=id.ReactCurrentOwner,Ya=!1;function Na(e,t,r,s){t.child=e===null?qB(t,null,r,s):Wh(t,e.child,r,s)}function w5(e,t,r,s,a){r=r.render;var i=t.ref;return lh(t,a),s=ok(e,t,r,s,i,a),r=lk(),e!==null&&!Ya?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hc(e,t,a)):(hn&&r&&YP(t),t.flags|=1,Na(e,t,s,a),t.child)}function N5(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!vk(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,v9(e,t,i,s,a)):(e=Zj(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:e0,r(o,s)&&e.ref===t.ref)return Hc(e,t,a)}return t.flags|=1,e=su(i,s),e.ref=t.ref,e.return=t,t.child=e}function v9(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(e0(i,s)&&e.ref===t.ref)if(Ya=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(Ya=!0);else return t.lanes=e.lanes,Hc(e,t,a)}return o4(e,t,r,s,a)}function y9(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xr(Zm,Ni),Ni|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xr(Zm,Ni),Ni|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,Xr(Zm,Ni),Ni|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,Xr(Zm,Ni),Ni|=s;return Na(e,t,a,r),t.child}function j9(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function o4(e,t,r,s,a){var i=Ja(r)?Of:ma.current;return i=Vh(t,i),lh(t,a),r=ok(e,t,r,s,i,a),s=lk(),e!==null&&!Ya?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hc(e,t,a)):(hn&&s&&YP(t),t.flags|=1,Na(e,t,r,a),t.child)}function _5(e,t,r,s,a){if(Ja(r)){var i=!0;Nb(t)}else i=!1;if(lh(t,a),t.stateNode===null)Yj(e,t),p9(t,r,s),a4(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=bo(d):(d=Ja(r)?Of:ma.current,d=Vh(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&v5(t,o,s,d),Ad=!1;var m=t.memoizedState;o.state=m,Eb(t,s,o,a),c=t.memoizedState,l!==s||m!==c||Za.current||Ad?(typeof u=="function"&&(s4(t,r,u,s),c=t.memoizedState),(l=Ad||g5(t,r,l,s,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,KB(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:$o(t.type,l),o.props=d,f=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=bo(c):(c=Ja(r)?Of:ma.current,c=Vh(t,c));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&v5(t,o,s,c),Ad=!1,m=t.memoizedState,o.state=m,Eb(t,s,o,a);var x=t.memoizedState;l!==f||m!==x||Za.current||Ad?(typeof h=="function"&&(s4(t,r,h,s),x=t.memoizedState),(d=Ad||g5(t,r,d,s,m,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),o.props=s,o.state=x,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return l4(e,t,r,s,i,a)}function l4(e,t,r,s,a,i){j9(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&c5(t,r,!1),Hc(e,t,i);s=t.stateNode,Hre.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Wh(t,e.child,null,i),t.child=Wh(t,null,l,i)):Na(e,t,l,i),t.memoizedState=s.state,a&&c5(t,r,!0),t.child}function b9(e){var t=e.stateNode;t.pendingContext?l5(e,t.pendingContext,t.pendingContext!==t.context):t.context&&l5(e,t.context,!1),nk(e,t.containerInfo)}function S5(e,t,r,s,a){return zh(),QP(a),t.flags|=256,Na(e,t,r,s),t.child}var c4={dehydrated:null,treeContext:null,retryLane:0};function d4(e){return{baseLanes:e,cachePool:null,transitions:null}}function w9(e,t,r){var s=t.pendingProps,a=Nn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Xr(Nn,a&1),e===null)return r4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=aN(o,s,0,null),e=_f(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=d4(r),t.memoizedState=c4,e):uk(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return qre(e,t,o,s,l,a,r);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=su(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=su(l,i):(i=_f(i,o,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?d4(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=c4,s}return i=e.child,e=i.sibling,s=su(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function uk(e,t){return t=aN({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qy(e,t,r,s){return s!==null&&QP(s),Wh(t,e.child,null,r),e=uk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qre(e,t,r,s,a,i,o){if(r)return t.flags&256?(t.flags&=-257,s=V_(Error(Ye(422))),qy(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=aN({mode:"visible",children:s.children},a,0,null),i=_f(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Wh(t,e.child,null,o),t.child.memoizedState=d4(o),t.memoizedState=c4,i);if(!(t.mode&1))return qy(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(Ye(419)),s=V_(i,s,void 0),qy(e,t,o,s)}if(l=(o&e.childLanes)!==0,Ya||l){if(s=ks,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Wc(e,a),el(s,e,a,-1))}return gk(),s=V_(Error(Ye(421))),qy(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=ane.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ki=eu(a.nextSibling),Oi=t,hn=!0,zo=null,e!==null&&(lo[co++]=Sc,lo[co++]=Cc,lo[co++]=Df,Sc=e.id,Cc=e.overflow,Df=t),t=uk(t,s.children),t.flags|=4096,t)}function C5(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),n4(e.return,t,r)}function z_(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function N9(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(Na(e,t,s.children,r),s=Nn.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&C5(e,r,t);else if(e.tag===19)C5(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Xr(Nn,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Pb(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),z_(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Pb(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}z_(t,!0,r,null,i);break;case"together":z_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yj(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Rf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ye(153));if(t.child!==null){for(e=t.child,r=su(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=su(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Gre(e,t,r){switch(t.tag){case 3:b9(t),zh();break;case 5:YB(t);break;case 1:Ja(t.type)&&Nb(t);break;case 4:nk(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Xr(Cb,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Xr(Nn,Nn.current&1),t.flags|=128,null):r&t.child.childLanes?w9(e,t,r):(Xr(Nn,Nn.current&1),e=Hc(e,t,r),e!==null?e.sibling:null);Xr(Nn,Nn.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return N9(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Xr(Nn,Nn.current),s)break;return null;case 22:case 23:return t.lanes=0,y9(e,t,r)}return Hc(e,t,r)}var _9,u4,S9,C9;_9=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};u4=function(){};S9=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,sf(Wl.current);var i=null;switch(r){case"input":a=DC(e,a),s=DC(e,s),i=[];break;case"select":a=En({},a,{value:void 0}),s=En({},s,{value:void 0}),i=[];break;case"textarea":a=MC(e,a),s=MC(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=bb)}$C(r,s);var o;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Gg.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Gg.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&nn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};C9=function(e,t,r,s){r!==s&&(t.flags|=4)};function kx(e,t){if(!hn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ta(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Kre(e,t,r){var s=t.pendingProps;switch(XP(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ta(t),null;case 1:return Ja(t.type)&&wb(),ta(t),null;case 3:return s=t.stateNode,Hh(),cn(Za),cn(ma),ak(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Wy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zo!==null&&(y4(zo),zo=null))),u4(e,t),ta(t),null;case 5:sk(t);var a=sf(a0.current);if(r=t.type,e!==null&&t.stateNode!=null)S9(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Ye(166));return ta(t),null}if(e=sf(Wl.current),Wy(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[Ml]=t,s[n0]=i,e=(t.mode&1)!==0,r){case"dialog":nn("cancel",s),nn("close",s);break;case"iframe":case"object":case"embed":nn("load",s);break;case"video":case"audio":for(a=0;a<ag.length;a++)nn(ag[a],s);break;case"source":nn("error",s);break;case"img":case"image":case"link":nn("error",s),nn("load",s);break;case"details":nn("toggle",s);break;case"input":RD(s,i),nn("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},nn("invalid",s);break;case"textarea":FD(s,i),nn("invalid",s)}$C(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&zy(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&zy(s.textContent,l,e),a=["children",""+l]):Gg.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&nn("scroll",s)}switch(r){case"input":Ry(s),MD(s,i,!0);break;case"textarea":Ry(s),$D(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=bb)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=eB(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[Ml]=t,e[n0]=s,_9(e,t,!1,!1),t.stateNode=e;e:{switch(o=LC(r,s),r){case"dialog":nn("cancel",e),nn("close",e),a=s;break;case"iframe":case"object":case"embed":nn("load",e),a=s;break;case"video":case"audio":for(a=0;a<ag.length;a++)nn(ag[a],e);a=s;break;case"source":nn("error",e),a=s;break;case"img":case"image":case"link":nn("error",e),nn("load",e),a=s;break;case"details":nn("toggle",e),a=s;break;case"input":RD(e,s),a=DC(e,s),nn("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=En({},s,{value:void 0}),nn("invalid",e);break;case"textarea":FD(e,s),a=MC(e,s),nn("invalid",e);break;default:a=s}$C(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?nB(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&tB(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Kg(e,c):typeof c=="number"&&Kg(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gg.hasOwnProperty(i)?c!=null&&i==="onScroll"&&nn("scroll",e):c!=null&&RP(e,i,c,o))}switch(r){case"input":Ry(e),MD(e,s,!1);break;case"textarea":Ry(e),$D(e);break;case"option":s.value!=null&&e.setAttribute("value",""+du(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?sh(e,!!s.multiple,i,!1):s.defaultValue!=null&&sh(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=bb)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ta(t),null;case 6:if(e&&t.stateNode!=null)C9(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Ye(166));if(r=sf(a0.current),sf(Wl.current),Wy(t)){if(s=t.stateNode,r=t.memoizedProps,s[Ml]=t,(i=s.nodeValue!==r)&&(e=Oi,e!==null))switch(e.tag){case 3:zy(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zy(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Ml]=t,t.stateNode=s}return ta(t),null;case 13:if(cn(Nn),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(hn&&ki!==null&&t.mode&1&&!(t.flags&128))WB(),zh(),t.flags|=98560,i=!1;else if(i=Wy(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(Ye(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ye(317));i[Ml]=t}else zh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ta(t),i=!1}else zo!==null&&(y4(zo),zo=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Nn.current&1?gs===0&&(gs=3):gk())),t.updateQueue!==null&&(t.flags|=4),ta(t),null);case 4:return Hh(),u4(e,t),e===null&&t0(t.stateNode.containerInfo),ta(t),null;case 10:return ek(t.type._context),ta(t),null;case 17:return Ja(t.type)&&wb(),ta(t),null;case 19:if(cn(Nn),i=t.memoizedState,i===null)return ta(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)kx(i,!1);else{if(gs!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Pb(e),o!==null){for(t.flags|=128,kx(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Xr(Nn,Nn.current&1|2),t.child}e=e.sibling}i.tail!==null&&zn()>Gh&&(t.flags|=128,s=!0,kx(i,!1),t.lanes=4194304)}else{if(!s)if(e=Pb(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),kx(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!hn)return ta(t),null}else 2*zn()-i.renderingStartTime>Gh&&r!==1073741824&&(t.flags|=128,s=!0,kx(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=zn(),t.sibling=null,r=Nn.current,Xr(Nn,s?r&1|2:r&1),t):(ta(t),null);case 22:case 23:return xk(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ni&1073741824&&(ta(t),t.subtreeFlags&6&&(t.flags|=8192)):ta(t),null;case 24:return null;case 25:return null}throw Error(Ye(156,t.tag))}function Yre(e,t){switch(XP(t),t.tag){case 1:return Ja(t.type)&&wb(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hh(),cn(Za),cn(ma),ak(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sk(t),null;case 13:if(cn(Nn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ye(340));zh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return cn(Nn),null;case 4:return Hh(),null;case 10:return ek(t.type._context),null;case 22:case 23:return xk(),null;case 24:return null;default:return null}}var Gy=!1,aa=!1,Xre=typeof WeakSet=="function"?WeakSet:Set,gt=null;function Qm(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Dn(e,t,s)}else r.current=null}function f4(e,t,r){try{r()}catch(s){Dn(e,t,s)}}var A5=!1;function Qre(e,t){if(YC=vb,e=TB(),KP(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,m=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===r&&++d===a&&(l=o),m===i&&++u===s&&(c=o),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(XC={focusedElem:e,selectionRange:r},vb=!1,gt=t;gt!==null;)if(t=gt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,gt=e;else for(;gt!==null;){t=gt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,g=x.memoizedState,j=t.stateNode,y=j.getSnapshotBeforeUpdate(t.elementType===t.type?p:$o(t.type,p),g);j.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ye(163))}}catch(b){Dn(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,gt=e;break}gt=t.return}return x=A5,A5=!1,x}function jg(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&f4(t,r,i)}a=a.next}while(a!==s)}}function nN(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function m4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function A9(e){var t=e.alternate;t!==null&&(e.alternate=null,A9(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ml],delete t[n0],delete t[JC],delete t[Dre],delete t[Ire])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function E9(e){return e.tag===5||e.tag===3||e.tag===4}function E5(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||E9(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function h4(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=bb));else if(s!==4&&(e=e.child,e!==null))for(h4(e,t,r),e=e.sibling;e!==null;)h4(e,t,r),e=e.sibling}function p4(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(p4(e,t,r),e=e.sibling;e!==null;)p4(e,t,r),e=e.sibling}var Bs=null,Bo=!1;function gd(e,t,r){for(r=r.child;r!==null;)P9(e,t,r),r=r.sibling}function P9(e,t,r){if(zl&&typeof zl.onCommitFiberUnmount=="function")try{zl.onCommitFiberUnmount(Yw,r)}catch{}switch(r.tag){case 5:aa||Qm(r,t);case 6:var s=Bs,a=Bo;Bs=null,gd(e,t,r),Bs=s,Bo=a,Bs!==null&&(Bo?(e=Bs,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Bs.removeChild(r.stateNode));break;case 18:Bs!==null&&(Bo?(e=Bs,r=r.stateNode,e.nodeType===8?M_(e.parentNode,r):e.nodeType===1&&M_(e,r),Zg(e)):M_(Bs,r.stateNode));break;case 4:s=Bs,a=Bo,Bs=r.stateNode.containerInfo,Bo=!0,gd(e,t,r),Bs=s,Bo=a;break;case 0:case 11:case 14:case 15:if(!aa&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&f4(r,t,o),a=a.next}while(a!==s)}gd(e,t,r);break;case 1:if(!aa&&(Qm(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){Dn(r,t,l)}gd(e,t,r);break;case 21:gd(e,t,r);break;case 22:r.mode&1?(aa=(s=aa)||r.memoizedState!==null,gd(e,t,r),aa=s):gd(e,t,r);break;default:gd(e,t,r)}}function P5(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Xre),t.forEach(function(s){var a=ine.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function Do(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Bs=l.stateNode,Bo=!1;break e;case 3:Bs=l.stateNode.containerInfo,Bo=!0;break e;case 4:Bs=l.stateNode.containerInfo,Bo=!0;break e}l=l.return}if(Bs===null)throw Error(Ye(160));P9(i,o,a),Bs=null,Bo=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Dn(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)k9(t,e),t=t.sibling}function k9(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Do(t,e),wl(e),s&4){try{jg(3,e,e.return),nN(3,e)}catch(p){Dn(e,e.return,p)}try{jg(5,e,e.return)}catch(p){Dn(e,e.return,p)}}break;case 1:Do(t,e),wl(e),s&512&&r!==null&&Qm(r,r.return);break;case 5:if(Do(t,e),wl(e),s&512&&r!==null&&Qm(r,r.return),e.flags&32){var a=e.stateNode;try{Kg(a,"")}catch(p){Dn(e,e.return,p)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Z8(a,i),LC(l,o);var d=LC(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?nB(a,f):u==="dangerouslySetInnerHTML"?tB(a,f):u==="children"?Kg(a,f):RP(a,u,f,d)}switch(l){case"input":IC(a,i);break;case"textarea":J8(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?sh(a,!!i.multiple,h,!1):m!==!!i.multiple&&(i.defaultValue!=null?sh(a,!!i.multiple,i.defaultValue,!0):sh(a,!!i.multiple,i.multiple?[]:"",!1))}a[n0]=i}catch(p){Dn(e,e.return,p)}}break;case 6:if(Do(t,e),wl(e),s&4){if(e.stateNode===null)throw Error(Ye(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){Dn(e,e.return,p)}}break;case 3:if(Do(t,e),wl(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Zg(t.containerInfo)}catch(p){Dn(e,e.return,p)}break;case 4:Do(t,e),wl(e);break;case 13:Do(t,e),wl(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(hk=zn())),s&4&&P5(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(aa=(d=aa)||u,Do(t,e),aa=d):Do(t,e),wl(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(gt=e,u=e.child;u!==null;){for(f=gt=u;gt!==null;){switch(m=gt,h=m.child,m.tag){case 0:case 11:case 14:case 15:jg(4,m,m.return);break;case 1:Qm(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){s=m,r=m.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(p){Dn(s,r,p)}}break;case 5:Qm(m,m.return);break;case 22:if(m.memoizedState!==null){T5(f);continue}}h!==null?(h.return=m,gt=h):T5(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=rB("display",o))}catch(p){Dn(e,e.return,p)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(p){Dn(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Do(t,e),wl(e),s&4&&P5(e);break;case 21:break;default:Do(t,e),wl(e)}}function wl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(E9(r)){var s=r;break e}r=r.return}throw Error(Ye(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Kg(a,""),s.flags&=-33);var i=E5(e);p4(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=E5(e);h4(e,l,o);break;default:throw Error(Ye(161))}}catch(c){Dn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zre(e,t,r){gt=e,T9(e)}function T9(e,t,r){for(var s=(e.mode&1)!==0;gt!==null;){var a=gt,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||Gy;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||aa;l=Gy;var d=aa;if(Gy=o,(aa=c)&&!d)for(gt=a;gt!==null;)o=gt,c=o.child,o.tag===22&&o.memoizedState!==null?O5(a):c!==null?(c.return=o,gt=c):O5(a);for(;i!==null;)gt=i,T9(i),i=i.sibling;gt=a,Gy=l,aa=d}k5(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,gt=i):k5(e)}}function k5(e){for(;gt!==null;){var t=gt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:aa||nN(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!aa)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:$o(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&h5(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}h5(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Zg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ye(163))}aa||t.flags&512&&m4(t)}catch(m){Dn(t,t.return,m)}}if(t===e){gt=null;break}if(r=t.sibling,r!==null){r.return=t.return,gt=r;break}gt=t.return}}function T5(e){for(;gt!==null;){var t=gt;if(t===e){gt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,gt=r;break}gt=t.return}}function O5(e){for(;gt!==null;){var t=gt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nN(4,t)}catch(c){Dn(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){Dn(t,a,c)}}var i=t.return;try{m4(t)}catch(c){Dn(t,i,c)}break;case 5:var o=t.return;try{m4(t)}catch(c){Dn(t,o,c)}}}catch(c){Dn(t,t.return,c)}if(t===e){gt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,gt=l;break}gt=t.return}}var Jre=Math.ceil,Ob=id.ReactCurrentDispatcher,fk=id.ReactCurrentOwner,xo=id.ReactCurrentBatchConfig,hr=0,ks=null,Jn=null,qs=0,Ni=0,Zm=Su(0),gs=0,c0=null,Rf=0,sN=0,mk=0,bg=null,qa=null,hk=0,Gh=1/0,gc=null,Db=!1,x4=null,ru=null,Ky=!1,zd=null,Ib=0,wg=0,g4=null,Xj=-1,Qj=0;function ka(){return hr&6?zn():Xj!==-1?Xj:Xj=zn()}function nu(e){return e.mode&1?hr&2&&qs!==0?qs&-qs:Mre.transition!==null?(Qj===0&&(Qj=pB()),Qj):(e=Ir,e!==0||(e=window.event,e=e===void 0?16:wB(e.type)),e):1}function el(e,t,r,s){if(50<wg)throw wg=0,g4=null,Error(Ye(185));Ev(e,r,s),(!(hr&2)||e!==ks)&&(e===ks&&(!(hr&2)&&(sN|=r),gs===4&&kd(e,qs)),ei(e,s),r===1&&hr===0&&!(t.mode&1)&&(Gh=zn()+500,eN&&Cu()))}function ei(e,t){var r=e.callbackNode;Mte(e,t);var s=gb(e,e===ks?qs:0);if(s===0)r!==null&&UD(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&UD(r),t===1)e.tag===0?Rre(D5.bind(null,e)):UB(D5.bind(null,e)),Tre(function(){!(hr&6)&&Cu()}),r=null;else{switch(xB(s)){case 1:r=BP;break;case 4:r=mB;break;case 16:r=xb;break;case 536870912:r=hB;break;default:r=xb}r=L9(r,O9.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function O9(e,t){if(Xj=-1,Qj=0,hr&6)throw Error(Ye(327));var r=e.callbackNode;if(ch()&&e.callbackNode!==r)return null;var s=gb(e,e===ks?qs:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Rb(e,s);else{t=s;var a=hr;hr|=2;var i=I9();(ks!==e||qs!==t)&&(gc=null,Gh=zn()+500,Nf(e,t));do try{rne();break}catch(l){D9(e,l)}while(!0);JP(),Ob.current=i,hr=a,Jn!==null?t=0:(ks=null,qs=0,t=gs)}if(t!==0){if(t===2&&(a=WC(e),a!==0&&(s=a,t=v4(e,a))),t===1)throw r=c0,Nf(e,0),kd(e,s),ei(e,zn()),r;if(t===6)kd(e,s);else{if(a=e.current.alternate,!(s&30)&&!ene(a)&&(t=Rb(e,s),t===2&&(i=WC(e),i!==0&&(s=i,t=v4(e,i))),t===1))throw r=c0,Nf(e,0),kd(e,s),ei(e,zn()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(Ye(345));case 2:Hu(e,qa,gc);break;case 3:if(kd(e,s),(s&130023424)===s&&(t=hk+500-zn(),10<t)){if(gb(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){ka(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ZC(Hu.bind(null,e,qa,gc),t);break}Hu(e,qa,gc);break;case 4:if(kd(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-Jo(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=zn()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Jre(s/1960))-s,10<s){e.timeoutHandle=ZC(Hu.bind(null,e,qa,gc),s);break}Hu(e,qa,gc);break;case 5:Hu(e,qa,gc);break;default:throw Error(Ye(329))}}}return ei(e,zn()),e.callbackNode===r?O9.bind(null,e):null}function v4(e,t){var r=bg;return e.current.memoizedState.isDehydrated&&(Nf(e,t).flags|=256),e=Rb(e,t),e!==2&&(t=qa,qa=r,t!==null&&y4(t)),e}function y4(e){qa===null?qa=e:qa.push.apply(qa,e)}function ene(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!il(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kd(e,t){for(t&=~mk,t&=~sN,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Jo(t),s=1<<r;e[r]=-1,t&=~s}}function D5(e){if(hr&6)throw Error(Ye(327));ch();var t=gb(e,0);if(!(t&1))return ei(e,zn()),null;var r=Rb(e,t);if(e.tag!==0&&r===2){var s=WC(e);s!==0&&(t=s,r=v4(e,s))}if(r===1)throw r=c0,Nf(e,0),kd(e,t),ei(e,zn()),r;if(r===6)throw Error(Ye(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hu(e,qa,gc),ei(e,zn()),null}function pk(e,t){var r=hr;hr|=1;try{return e(t)}finally{hr=r,hr===0&&(Gh=zn()+500,eN&&Cu())}}function Mf(e){zd!==null&&zd.tag===0&&!(hr&6)&&ch();var t=hr;hr|=1;var r=xo.transition,s=Ir;try{if(xo.transition=null,Ir=1,e)return e()}finally{Ir=s,xo.transition=r,hr=t,!(hr&6)&&Cu()}}function xk(){Ni=Zm.current,cn(Zm)}function Nf(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,kre(r)),Jn!==null)for(r=Jn.return;r!==null;){var s=r;switch(XP(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&wb();break;case 3:Hh(),cn(Za),cn(ma),ak();break;case 5:sk(s);break;case 4:Hh();break;case 13:cn(Nn);break;case 19:cn(Nn);break;case 10:ek(s.type._context);break;case 22:case 23:xk()}r=r.return}if(ks=e,Jn=e=su(e.current,null),qs=Ni=t,gs=0,c0=null,mk=sN=Rf=0,qa=bg=null,nf!==null){for(t=0;t<nf.length;t++)if(r=nf[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}r.pending=s}nf=null}return e}function D9(e,t){do{var r=Jn;try{if(JP(),Gj.current=Tb,kb){for(var s=Cn.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}kb=!1}if(If=0,Ss=fs=Cn=null,yg=!1,i0=0,fk.current=null,r===null||r.return===null){gs=1,c0=t,Jn=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=qs,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=j5(o);if(h!==null){h.flags&=-257,b5(h,o,l,i,t),h.mode&1&&y5(i,d,t),t=h,c=d;var x=t.updateQueue;if(x===null){var p=new Set;p.add(c),t.updateQueue=p}else x.add(c);break e}else{if(!(t&1)){y5(i,d,t),gk();break e}c=Error(Ye(426))}}else if(hn&&l.mode&1){var g=j5(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),b5(g,o,l,i,t),QP(qh(c,l));break e}}i=c=qh(c,l),gs!==4&&(gs=2),bg===null?bg=[i]:bg.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var j=x9(i,c,t);m5(i,j);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ru===null||!ru.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=g9(i,l,t);m5(i,b);break e}}i=i.return}while(i!==null)}M9(r)}catch(N){t=N,Jn===r&&r!==null&&(Jn=r=r.return);continue}break}while(!0)}function I9(){var e=Ob.current;return Ob.current=Tb,e===null?Tb:e}function gk(){(gs===0||gs===3||gs===2)&&(gs=4),ks===null||!(Rf&268435455)&&!(sN&268435455)||kd(ks,qs)}function Rb(e,t){var r=hr;hr|=2;var s=I9();(ks!==e||qs!==t)&&(gc=null,Nf(e,t));do try{tne();break}catch(a){D9(e,a)}while(!0);if(JP(),hr=r,Ob.current=s,Jn!==null)throw Error(Ye(261));return ks=null,qs=0,gs}function tne(){for(;Jn!==null;)R9(Jn)}function rne(){for(;Jn!==null&&!Ate();)R9(Jn)}function R9(e){var t=$9(e.alternate,e,Ni);e.memoizedProps=e.pendingProps,t===null?M9(e):Jn=t,fk.current=null}function M9(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Yre(r,t),r!==null){r.flags&=32767,Jn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gs=6,Jn=null;return}}else if(r=Kre(r,t,Ni),r!==null){Jn=r;return}if(t=t.sibling,t!==null){Jn=t;return}Jn=t=e}while(t!==null);gs===0&&(gs=5)}function Hu(e,t,r){var s=Ir,a=xo.transition;try{xo.transition=null,Ir=1,nne(e,t,r,s)}finally{xo.transition=a,Ir=s}return null}function nne(e,t,r,s){do ch();while(zd!==null);if(hr&6)throw Error(Ye(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ye(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Fte(e,i),e===ks&&(Jn=ks=null,qs=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ky||(Ky=!0,L9(xb,function(){return ch(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=xo.transition,xo.transition=null;var o=Ir;Ir=1;var l=hr;hr|=4,fk.current=null,Qre(e,r),k9(r,e),Nre(XC),vb=!!YC,XC=YC=null,e.current=r,Zre(r),Ete(),hr=l,Ir=o,xo.transition=i}else e.current=r;if(Ky&&(Ky=!1,zd=e,Ib=a),i=e.pendingLanes,i===0&&(ru=null),Tte(r.stateNode),ei(e,zn()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(Db)throw Db=!1,e=x4,x4=null,e;return Ib&1&&e.tag!==0&&ch(),i=e.pendingLanes,i&1?e===g4?wg++:(wg=0,g4=e):wg=0,Cu(),null}function ch(){if(zd!==null){var e=xB(Ib),t=xo.transition,r=Ir;try{if(xo.transition=null,Ir=16>e?16:e,zd===null)var s=!1;else{if(e=zd,zd=null,Ib=0,hr&6)throw Error(Ye(331));var a=hr;for(hr|=4,gt=e.current;gt!==null;){var i=gt,o=i.child;if(gt.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(gt=d;gt!==null;){var u=gt;switch(u.tag){case 0:case 11:case 15:jg(8,u,i)}var f=u.child;if(f!==null)f.return=u,gt=f;else for(;gt!==null;){u=gt;var m=u.sibling,h=u.return;if(A9(u),u===d){gt=null;break}if(m!==null){m.return=h,gt=m;break}gt=h}}}var x=i.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}gt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,gt=o;else e:for(;gt!==null;){if(i=gt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:jg(9,i,i.return)}var j=i.sibling;if(j!==null){j.return=i.return,gt=j;break e}gt=i.return}}var y=e.current;for(gt=y;gt!==null;){o=gt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,gt=w;else e:for(o=y;gt!==null;){if(l=gt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:nN(9,l)}}catch(N){Dn(l,l.return,N)}if(l===o){gt=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,gt=b;break e}gt=l.return}}if(hr=a,Cu(),zl&&typeof zl.onPostCommitFiberRoot=="function")try{zl.onPostCommitFiberRoot(Yw,e)}catch{}s=!0}return s}finally{Ir=r,xo.transition=t}}return!1}function I5(e,t,r){t=qh(r,t),t=x9(e,t,1),e=tu(e,t,1),t=ka(),e!==null&&(Ev(e,1,t),ei(e,t))}function Dn(e,t,r){if(e.tag===3)I5(e,e,r);else for(;t!==null;){if(t.tag===3){I5(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ru===null||!ru.has(s))){e=qh(r,e),e=g9(t,e,1),t=tu(t,e,1),e=ka(),t!==null&&(Ev(t,1,e),ei(t,e));break}}t=t.return}}function sne(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=ka(),e.pingedLanes|=e.suspendedLanes&r,ks===e&&(qs&r)===r&&(gs===4||gs===3&&(qs&130023424)===qs&&500>zn()-hk?Nf(e,0):mk|=r),ei(e,t)}function F9(e,t){t===0&&(e.mode&1?(t=$y,$y<<=1,!($y&130023424)&&($y=4194304)):t=1);var r=ka();e=Wc(e,t),e!==null&&(Ev(e,t,r),ei(e,r))}function ane(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),F9(e,r)}function ine(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Ye(314))}s!==null&&s.delete(t),F9(e,r)}var $9;$9=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Za.current)Ya=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ya=!1,Gre(e,t,r);Ya=!!(e.flags&131072)}else Ya=!1,hn&&t.flags&1048576&&VB(t,Sb,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Yj(e,t),e=t.pendingProps;var a=Vh(t,ma.current);lh(t,r),a=ok(null,t,s,e,a,r);var i=lk();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ja(s)?(i=!0,Nb(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,rk(t),a.updater=rN,t.stateNode=a,a._reactInternals=t,a4(t,s,e,r),t=l4(null,t,s,!0,i,r)):(t.tag=0,hn&&i&&YP(t),Na(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Yj(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=lne(s),e=$o(s,e),a){case 0:t=o4(null,t,s,e,r);break e;case 1:t=_5(null,t,s,e,r);break e;case 11:t=w5(null,t,s,e,r);break e;case 14:t=N5(null,t,s,$o(s.type,e),r);break e}throw Error(Ye(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:$o(s,a),o4(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:$o(s,a),_5(e,t,s,a,r);case 3:e:{if(b9(t),e===null)throw Error(Ye(387));s=t.pendingProps,i=t.memoizedState,a=i.element,KB(e,t),Eb(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=qh(Error(Ye(423)),t),t=S5(e,t,s,r,a);break e}else if(s!==a){a=qh(Error(Ye(424)),t),t=S5(e,t,s,r,a);break e}else for(ki=eu(t.stateNode.containerInfo.firstChild),Oi=t,hn=!0,zo=null,r=qB(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(zh(),s===a){t=Hc(e,t,r);break e}Na(e,t,s,r)}t=t.child}return t;case 5:return YB(t),e===null&&r4(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,QC(s,a)?o=null:i!==null&&QC(s,i)&&(t.flags|=32),j9(e,t),Na(e,t,o,r),t.child;case 6:return e===null&&r4(t),null;case 13:return w9(e,t,r);case 4:return nk(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Wh(t,null,s,r):Na(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:$o(s,a),w5(e,t,s,a,r);case 7:return Na(e,t,t.pendingProps,r),t.child;case 8:return Na(e,t,t.pendingProps.children,r),t.child;case 12:return Na(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Xr(Cb,s._currentValue),s._currentValue=o,i!==null)if(il(i.value,o)){if(i.children===a.children&&!Za.current){t=Hc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Oc(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),n4(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ye(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),n4(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Na(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,lh(t,r),a=bo(a),s=s(a),t.flags|=1,Na(e,t,s,r),t.child;case 14:return s=t.type,a=$o(s,t.pendingProps),a=$o(s.type,a),N5(e,t,s,a,r);case 15:return v9(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:$o(s,a),Yj(e,t),t.tag=1,Ja(s)?(e=!0,Nb(t)):e=!1,lh(t,r),p9(t,s,a),a4(t,s,a,r),l4(null,t,s,!0,e,r);case 19:return N9(e,t,r);case 22:return y9(e,t,r)}throw Error(Ye(156,t.tag))};function L9(e,t){return fB(e,t)}function one(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fo(e,t,r,s){return new one(e,t,r,s)}function vk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lne(e){if(typeof e=="function")return vk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===FP)return 11;if(e===$P)return 14}return 2}function su(e,t){var r=e.alternate;return r===null?(r=fo(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Zj(e,t,r,s,a,i){var o=2;if(s=e,typeof e=="function")vk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Vm:return _f(r.children,a,i,t);case MP:o=8,a|=8;break;case PC:return e=fo(12,r,t,a|2),e.elementType=PC,e.lanes=i,e;case kC:return e=fo(13,r,t,a),e.elementType=kC,e.lanes=i,e;case TC:return e=fo(19,r,t,a),e.elementType=TC,e.lanes=i,e;case Y8:return aN(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G8:o=10;break e;case K8:o=9;break e;case FP:o=11;break e;case $P:o=14;break e;case Cd:o=16,s=null;break e}throw Error(Ye(130,e==null?e:typeof e,""))}return t=fo(o,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function _f(e,t,r,s){return e=fo(7,e,s,t),e.lanes=r,e}function aN(e,t,r,s){return e=fo(22,e,s,t),e.elementType=Y8,e.lanes=r,e.stateNode={isHidden:!1},e}function W_(e,t,r){return e=fo(6,e,null,t),e.lanes=r,e}function H_(e,t,r){return t=fo(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cne(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=S_(0),this.expirationTimes=S_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=S_(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function yk(e,t,r,s,a,i,o,l,c){return e=new cne(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=fo(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},rk(i),e}function dne(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Um,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function B9(e){if(!e)return uu;e=e._reactInternals;e:{if(am(e)!==e||e.tag!==1)throw Error(Ye(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ja(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ye(171))}if(e.tag===1){var r=e.type;if(Ja(r))return BB(e,r,t)}return t}function U9(e,t,r,s,a,i,o,l,c){return e=yk(r,s,!0,e,a,i,o,l,c),e.context=B9(null),r=e.current,s=ka(),a=nu(r),i=Oc(s,a),i.callback=t??null,tu(r,i,a),e.current.lanes=a,Ev(e,a,s),ei(e,s),e}function iN(e,t,r,s){var a=t.current,i=ka(),o=nu(a);return r=B9(r),t.context===null?t.context=r:t.pendingContext=r,t=Oc(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=tu(a,t,o),e!==null&&(el(e,a,o,i),qj(e,a,o)),o}function Mb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function R5(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function jk(e,t){R5(e,t),(e=e.alternate)&&R5(e,t)}function une(){return null}var V9=typeof reportError=="function"?reportError:function(e){console.error(e)};function bk(e){this._internalRoot=e}oN.prototype.render=bk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ye(409));iN(e,t,null,null)};oN.prototype.unmount=bk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mf(function(){iN(null,e,null,null)}),t[zc]=null}};function oN(e){this._internalRoot=e}oN.prototype.unstable_scheduleHydration=function(e){if(e){var t=yB();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Pd.length&&t!==0&&t<Pd[r].priority;r++);Pd.splice(r,0,e),r===0&&bB(e)}};function wk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function M5(){}function fne(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=Mb(o);i.call(d)}}var o=U9(t,s,e,0,null,!1,!1,"",M5);return e._reactRootContainer=o,e[zc]=o.current,t0(e.nodeType===8?e.parentNode:e),Mf(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=Mb(c);l.call(d)}}var c=yk(e,0,!1,null,null,!1,!1,"",M5);return e._reactRootContainer=c,e[zc]=c.current,t0(e.nodeType===8?e.parentNode:e),Mf(function(){iN(t,c,r,s)}),c}function cN(e,t,r,s,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Mb(o);l.call(c)}}iN(t,o,e,a)}else o=fne(r,t,e,a,s);return Mb(o)}gB=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=sg(t.pendingLanes);r!==0&&(UP(t,r|1),ei(t,zn()),!(hr&6)&&(Gh=zn()+500,Cu()))}break;case 13:Mf(function(){var s=Wc(e,1);if(s!==null){var a=ka();el(s,e,1,a)}}),jk(e,1)}};VP=function(e){if(e.tag===13){var t=Wc(e,134217728);if(t!==null){var r=ka();el(t,e,134217728,r)}jk(e,134217728)}};vB=function(e){if(e.tag===13){var t=nu(e),r=Wc(e,t);if(r!==null){var s=ka();el(r,e,t,s)}jk(e,t)}};yB=function(){return Ir};jB=function(e,t){var r=Ir;try{return Ir=e,t()}finally{Ir=r}};UC=function(e,t,r){switch(t){case"input":if(IC(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=Jw(s);if(!a)throw Error(Ye(90));Q8(s),IC(s,a)}}}break;case"textarea":J8(e,r);break;case"select":t=r.value,t!=null&&sh(e,!!r.multiple,t,!1)}};iB=pk;oB=Mf;var mne={usingClientEntryPoint:!1,Events:[kv,qm,Jw,sB,aB,pk]},Tx={findFiberByHostInstance:rf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hne={bundleType:Tx.bundleType,version:Tx.version,rendererPackageName:Tx.rendererPackageName,rendererConfig:Tx.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:id.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dB(e),e===null?null:e.stateNode},findFiberByHostInstance:Tx.findFiberByHostInstance||une,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yy.isDisabled&&Yy.supportsFiber)try{Yw=Yy.inject(hne),zl=Yy}catch{}}qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mne;qi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wk(t))throw Error(Ye(200));return dne(e,t,null,r)};qi.createRoot=function(e,t){if(!wk(e))throw Error(Ye(299));var r=!1,s="",a=V9;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=yk(e,1,!1,null,null,r,!1,s,a),e[zc]=t.current,t0(e.nodeType===8?e.parentNode:e),new bk(t)};qi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ye(188)):(e=Object.keys(e).join(","),Error(Ye(268,e)));return e=dB(t),e=e===null?null:e.stateNode,e};qi.flushSync=function(e){return Mf(e)};qi.hydrate=function(e,t,r){if(!lN(t))throw Error(Ye(200));return cN(null,e,t,!0,r)};qi.hydrateRoot=function(e,t,r){if(!wk(e))throw Error(Ye(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",o=V9;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=U9(t,null,e,1,r??null,a,!1,i,o),e[zc]=t.current,t0(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new oN(t)};qi.render=function(e,t,r){if(!lN(t))throw Error(Ye(200));return cN(null,e,t,!1,r)};qi.unmountComponentAtNode=function(e){if(!lN(e))throw Error(Ye(40));return e._reactRootContainer?(Mf(function(){cN(null,null,e,!1,function(){e._reactRootContainer=null,e[zc]=null})}),!0):!1};qi.unstable_batchedUpdates=pk;qi.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!lN(r))throw Error(Ye(200));if(e==null||e._reactInternals===void 0)throw Error(Ye(38));return cN(e,t,r,!1,s)};qi.version="18.3.1-next-f1338f8080-20240426";function z9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z9)}catch(e){console.error(e)}}z9(),z8.exports=qi;var ul=z8.exports;const dN=Ar(ul);var W9,F5=ul;W9=F5.createRoot,F5.hydrateRoot;const pne=1,xne=1e6;let q_=0;function gne(){return q_=(q_+1)%Number.MAX_SAFE_INTEGER,q_.toString()}const G_=new Map,$5=e=>{if(G_.has(e))return;const t=setTimeout(()=>{G_.delete(e),Ng({type:"REMOVE_TOAST",toastId:e})},xne);G_.set(e,t)},vne=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,pne)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?$5(r):e.toasts.forEach(s=>{$5(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Jj=[];let eb={toasts:[]};function Ng(e){eb=vne(eb,e),Jj.forEach(t=>{t(eb)})}function yne({...e}){const t=gne(),r=a=>Ng({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>Ng({type:"DISMISS_TOAST",toastId:t});return Ng({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:r}}function pr(){const[e,t]=v.useState(eb);return v.useEffect(()=>(Jj.push(t),()=>{const r=Jj.indexOf(t);r>-1&&Jj.splice(r,1)}),[e]),{...e,toast:yne,dismiss:r=>Ng({type:"DISMISS_TOAST",toastId:r})}}function Ge(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function jne(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function uN(...e){return t=>e.forEach(r=>jne(r,t))}function Dt(...e){return v.useCallback(uN(...e),e)}function bne(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,wne(a,...t)]}function wne(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Yl=v.forwardRef((e,t)=>{const{children:r,...s}=e,a=v.Children.toArray(r),i=a.find(Nne);if(i){const o=i.props.children,l=a.map(c=>c===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return n.jsx(j4,{...s,ref:t,children:v.isValidElement(o)?v.cloneElement(o,void 0,l):null})}return n.jsx(j4,{...s,ref:t,children:r})});Yl.displayName="Slot";var j4=v.forwardRef((e,t)=>{const{children:r,...s}=e;if(v.isValidElement(r)){const a=Sne(r);return v.cloneElement(r,{..._ne(s,r.props),ref:t?uN(t,a):a})}return v.Children.count(r)>1?v.Children.only(null):null});j4.displayName="SlotClone";var Nk=({children:e})=>n.jsx(n.Fragment,{children:e});function Nne(e){return v.isValidElement(e)&&e.type===Nk}function _ne(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Sne(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ov(e){const t=e+"CollectionProvider",[r,s]=bne(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:x,children:p}=h,g=z.useRef(null),j=z.useRef(new Map).current;return n.jsx(a,{scope:x,itemMap:j,collectionRef:g,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=z.forwardRef((h,x)=>{const{scope:p,children:g}=h,j=i(l,p),y=Dt(x,j.collectionRef);return n.jsx(Yl,{ref:y,children:g})});c.displayName=l;const d=e+"CollectionItemSlot",u="data-radix-collection-item",f=z.forwardRef((h,x)=>{const{scope:p,children:g,...j}=h,y=z.useRef(null),w=Dt(x,y),b=i(d,p);return z.useEffect(()=>(b.itemMap.set(y,{ref:y,...j}),()=>void b.itemMap.delete(y))),n.jsx(Yl,{[u]:"",ref:w,children:g})});f.displayName=d;function m(h){const x=i(e+"CollectionConsumer",h);return z.useCallback(()=>{const g=x.collectionRef.current;if(!g)return[];const j=Array.from(g.querySelectorAll(`[${u}]`));return Array.from(x.itemMap.values()).sort((b,N)=>j.indexOf(b.ref.current)-j.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},m,s]}function Cne(e,t){const r=v.createContext(t),s=i=>{const{children:o,...l}=i,c=v.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function Zs(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];const d=f=>{var j;const{scope:m,children:h,...x}=f,p=((j=m==null?void 0:m[e])==null?void 0:j[c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})};d.displayName=i+"Provider";function u(f,m){var p;const h=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,Ane(a,...t)]}function Ane(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Ene=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ft=Ene.reduce((e,t)=>{const r=v.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?Yl:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function _k(e,t){e&&ul.flushSync(()=>e.dispatchEvent(t))}function pn(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function Pne(e,t=globalThis==null?void 0:globalThis.document){const r=pn(e);v.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var kne="DismissableLayer",b4="dismissableLayer.update",Tne="dismissableLayer.pointerDownOutside",One="dismissableLayer.focusOutside",L5,H9=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),im=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=v.useContext(H9),[u,f]=v.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=v.useState({}),x=Dt(t,C=>f(C)),p=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=p.indexOf(g),y=u?p.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,b=y>=j,N=Ine(C=>{const A=C.target,E=[...d.branches].some(k=>k.contains(A));!b||E||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},m),_=Rne(C=>{const A=C.target;[...d.branches].some(k=>k.contains(A))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},m);return Pne(C=>{y===d.layers.size-1&&(s==null||s(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),v.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(L5=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),B5(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=L5)}},[u,m,r,d]),v.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),B5())},[u,d]),v.useEffect(()=>{const C=()=>h({});return document.addEventListener(b4,C),()=>document.removeEventListener(b4,C)},[]),n.jsx(ft.div,{...c,ref:x,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:Ge(e.onFocusCapture,_.onFocusCapture),onBlurCapture:Ge(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Ge(e.onPointerDownCapture,N.onPointerDownCapture)})});im.displayName=kne;var Dne="DismissableLayerBranch",q9=v.forwardRef((e,t)=>{const r=v.useContext(H9),s=v.useRef(null),a=Dt(t,s);return v.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(ft.div,{...e,ref:a})});q9.displayName=Dne;function Ine(e,t=globalThis==null?void 0:globalThis.document){const r=pn(e),s=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){G9(Tne,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function Rne(e,t=globalThis==null?void 0:globalThis.document){const r=pn(e),s=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!s.current&&G9(One,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function B5(){const e=new CustomEvent(b4);document.dispatchEvent(e)}function G9(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?_k(a,i):a.dispatchEvent(i)}var Mne=im,Fne=q9,rs=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},$ne="Portal",$p=v.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=v.useState(!1);rs(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?dN.createPortal(n.jsx(ft.div,{...s,ref:t}),o):null});$p.displayName=$ne;function Lne(e,t){return v.useReducer((r,s)=>t[r][s]??r,e)}var ns=e=>{const{present:t,children:r}=e,s=Bne(t),a=typeof r=="function"?r({present:s.isPresent}):v.Children.only(r),i=Dt(s.ref,Une(a));return typeof r=="function"||s.isPresent?v.cloneElement(a,{ref:i}):null};ns.displayName="Presence";function Bne(e){const[t,r]=v.useState(),s=v.useRef({}),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Lne(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const d=Xy(s.current);i.current=l==="mounted"?d:"none"},[l]),rs(()=>{const d=s.current,u=a.current;if(u!==e){const m=i.current,h=Xy(d);e?c("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),rs(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=h=>{const p=Xy(s.current).includes(h.animationName);if(h.target===t&&p&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},m=h=>{h.target===t&&(i.current=Xy(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(d=>{d&&(s.current=getComputedStyle(d)),r(d)},[])}}function Xy(e){return(e==null?void 0:e.animationName)||"none"}function Une(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Oa({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=Vne({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:s,l=pn(r),c=v.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else a(d)},[i,e,a,l]);return[o,c]}function Vne({defaultProp:e,onChange:t}){const r=v.useState(e),[s]=r,a=v.useRef(s),i=pn(t);return v.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),r}var zne="VisuallyHidden",Dv=v.forwardRef((e,t)=>n.jsx(ft.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Dv.displayName=zne;var Wne=Dv,Sk="ToastProvider",[Ck,Hne,qne]=Ov("Toast"),[K9,Ont]=Zs("Toast",[qne]),[Gne,fN]=K9(Sk),Y9=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=v.useState(null),[d,u]=v.useState(0),f=v.useRef(!1),m=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Sk}\`. Expected non-empty \`string\`.`),n.jsx(Ck.Provider,{scope:t,children:n.jsx(Gne,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>u(h=>h+1),[]),onToastRemove:v.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};Y9.displayName=Sk;var X9="ToastViewport",Kne=["F8"],w4="toast.viewportPause",N4="toast.viewportResume",Q9=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=Kne,label:a="Notifications ({hotkey})",...i}=e,o=fN(X9,r),l=Hne(r),c=v.useRef(null),d=v.useRef(null),u=v.useRef(null),f=v.useRef(null),m=Dt(t,f,o.onViewportChange),h=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;v.useEffect(()=>{const g=j=>{var w;s.length!==0&&s.every(b=>j[b]||j.code===b)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[s]),v.useEffect(()=>{const g=c.current,j=f.current;if(x&&g&&j){const y=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(w4);j.dispatchEvent(_),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(N4);j.dispatchEvent(_),o.isClosePausedRef.current=!1}},b=_=>{!g.contains(_.relatedTarget)&&w()},N=()=>{g.contains(document.activeElement)||w()};return g.addEventListener("focusin",y),g.addEventListener("focusout",b),g.addEventListener("pointermove",y),g.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{g.removeEventListener("focusin",y),g.removeEventListener("focusout",b),g.removeEventListener("pointermove",y),g.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const p=v.useCallback(({tabbingDirection:g})=>{const y=l().map(w=>{const b=w.ref.current,N=[b,...ose(b)];return g==="forwards"?N:N.reverse()});return(g==="forwards"?y.reverse():y).flat()},[l]);return v.useEffect(()=>{const g=f.current;if(g){const j=y=>{var N,_,C;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const A=document.activeElement,E=y.shiftKey;if(y.target===g&&E){(N=d.current)==null||N.focus();return}const I=p({tabbingDirection:E?"backwards":"forwards"}),W=I.findIndex(H=>H===A);K_(I.slice(W+1))?y.preventDefault():E?(_=d.current)==null||_.focus():(C=u.current)==null||C.focus()}};return g.addEventListener("keydown",j),()=>g.removeEventListener("keydown",j)}},[l,p]),n.jsxs(Fne,{ref:c,role:"region","aria-label":a.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&n.jsx(_4,{ref:d,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"forwards"});K_(g)}}),n.jsx(Ck.Slot,{scope:r,children:n.jsx(ft.ol,{tabIndex:-1,...i,ref:m})}),x&&n.jsx(_4,{ref:u,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"backwards"});K_(g)}})]})});Q9.displayName=X9;var Z9="ToastFocusProxy",_4=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=e,i=fN(Z9,r);return n.jsx(Dv,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});_4.displayName=Z9;var mN="Toast",Yne="toast.swipeStart",Xne="toast.swipeMove",Qne="toast.swipeCancel",Zne="toast.swipeEnd",J9=v.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=Oa({prop:s,defaultProp:a,onChange:i});return n.jsx(ns,{present:r||l,children:n.jsx(tse,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:pn(e.onPause),onResume:pn(e.onResume),onSwipeStart:Ge(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ge(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ge(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ge(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});J9.displayName=mN;var[Jne,ese]=K9(mN,{onClose(){}}),tse=v.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:h,...x}=e,p=fN(mN,r),[g,j]=v.useState(null),y=Dt(t,H=>j(H)),w=v.useRef(null),b=v.useRef(null),N=a||p.duration,_=v.useRef(0),C=v.useRef(N),A=v.useRef(0),{onToastAdd:E,onToastRemove:k}=p,O=pn(()=>{var F;(g==null?void 0:g.contains(document.activeElement))&&((F=p.viewport)==null||F.focus()),o()}),I=v.useCallback(H=>{!H||H===1/0||(window.clearTimeout(A.current),_.current=new Date().getTime(),A.current=window.setTimeout(O,H))},[O]);v.useEffect(()=>{const H=p.viewport;if(H){const F=()=>{I(C.current),d==null||d()},T=()=>{const P=new Date().getTime()-_.current;C.current=C.current-P,window.clearTimeout(A.current),c==null||c()};return H.addEventListener(w4,T),H.addEventListener(N4,F),()=>{H.removeEventListener(w4,T),H.removeEventListener(N4,F)}}},[p.viewport,N,c,d,I]),v.useEffect(()=>{i&&!p.isClosePausedRef.current&&I(N)},[i,N,p.isClosePausedRef,I]),v.useEffect(()=>(E(),()=>k()),[E,k]);const W=v.useMemo(()=>g?i7(g):null,[g]);return p.viewport?n.jsxs(n.Fragment,{children:[W&&n.jsx(rse,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),n.jsx(Jne,{scope:r,onClose:O,children:ul.createPortal(n.jsx(Ck.ItemSlot,{scope:r,children:n.jsx(Mne,{asChild:!0,onEscapeKeyDown:Ge(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||O(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(ft.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...x,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ge(e.onKeyDown,H=>{H.key==="Escape"&&(l==null||l(H.nativeEvent),H.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Ge(e.onPointerDown,H=>{H.button===0&&(w.current={x:H.clientX,y:H.clientY})}),onPointerMove:Ge(e.onPointerMove,H=>{if(!w.current)return;const F=H.clientX-w.current.x,T=H.clientY-w.current.y,P=!!b.current,M=["left","right"].includes(p.swipeDirection),D=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,Y=M?D(0,F):0,ae=M?0:D(0,T),R=H.pointerType==="touch"?10:2,V={x:Y,y:ae},L={originalEvent:H,delta:V};P?(b.current=V,Qy(Xne,f,L,{discrete:!1})):U5(V,p.swipeDirection,R)?(b.current=V,Qy(Yne,u,L,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(F)>R||Math.abs(T)>R)&&(w.current=null)}),onPointerUp:Ge(e.onPointerUp,H=>{const F=b.current,T=H.target;if(T.hasPointerCapture(H.pointerId)&&T.releasePointerCapture(H.pointerId),b.current=null,w.current=null,F){const P=H.currentTarget,M={originalEvent:H,delta:F};U5(F,p.swipeDirection,p.swipeThreshold)?Qy(Zne,h,M,{discrete:!0}):Qy(Qne,m,M,{discrete:!0}),P.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),rse=e=>{const{__scopeToast:t,children:r,...s}=e,a=fN(mN,t),[i,o]=v.useState(!1),[l,c]=v.useState(!1);return ase(()=>o(!0)),v.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx($p,{asChild:!0,children:n.jsx(Dv,{...s,children:i&&n.jsxs(n.Fragment,{children:[a.label," ",r]})})})},nse="ToastTitle",e7=v.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(ft.div,{...s,ref:t})});e7.displayName=nse;var sse="ToastDescription",t7=v.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(ft.div,{...s,ref:t})});t7.displayName=sse;var r7="ToastAction",n7=v.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?n.jsx(a7,{altText:r,asChild:!0,children:n.jsx(Ak,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${r7}\`. Expected non-empty \`string\`.`),null)});n7.displayName=r7;var s7="ToastClose",Ak=v.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,a=ese(s7,r);return n.jsx(a7,{asChild:!0,children:n.jsx(ft.button,{type:"button",...s,ref:t,onClick:Ge(e.onClick,a.onClose)})})});Ak.displayName=s7;var a7=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...a}=e;return n.jsx(ft.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function i7(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),ise(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...i7(s))}}),t}function Qy(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?_k(a,i):a.dispatchEvent(i)}var U5=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>r:!i&&a>r};function ase(e=()=>{}){const t=pn(e);rs(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[t])}function ise(e){return e.nodeType===e.ELEMENT_NODE}function ose(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function K_(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var lse=Y9,o7=Q9,l7=J9,c7=e7,d7=t7,u7=n7,f7=Ak;function m7(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=m7(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function zt(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=m7(e))&&(s&&(s+=" "),s+=t);return s}const V5=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,z5=zt,Lp=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return z5(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],f=i==null?void 0:i[d];if(u===null)return null;const m=V5(u)||V5(f);return a[d][m]}),l=r&&Object.entries(r).reduce((d,u)=>{let[f,m]=u;return m===void 0||(d[f]=m),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:f,className:m,...h}=u;return Object.entries(h).every(x=>{let[p,g]=x;return Array.isArray(g)?g.includes({...i,...l}[p]):{...i,...l}[p]===g})?[...d,f,m]:d},[]);return z5(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),h7=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dse={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...dse,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:h7("lucide",a),...l},[...o.map(([d,u])=>v.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,t)=>{const r=v.forwardRef(({className:s,...a},i)=>v.createElement(use,{ref:i,iconNode:t,className:h7(`lucide-${cse(e)}`,s),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=ze("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=ze("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=ze("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=ze("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=ze("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=ze("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=ze("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=ze("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=ze("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=ze("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=ze("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=ze("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=ze("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=ze("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=ze("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=ze("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=ze("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=ze("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=ze("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=ze("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=ze("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=ze("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=ze("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=ze("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=ze("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=ze("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=ze("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=ze("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=ze("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=ze("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=ze("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=ze("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=ze("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=ze("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=ze("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=ze("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=ze("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=ze("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=ze("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=ze("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=ze("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jse=ze("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=ze("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=ze("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=ze("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=ze("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _se=ze("MapPinned",[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=ze("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=ze("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=ze("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=ze("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=ze("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=ze("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=ze("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=ze("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=ze("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=ze("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=ze("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=ze("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=ze("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=ze("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=ze("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=ze("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=ze("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=ze("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=ze("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dse=ze("Sofa",[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=ze("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=ze("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=ze("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=ze("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=ze("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=ze("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=ze("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=ze("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=ze("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=ze("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=ze("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=ze("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rse=ze("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mse=ze("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=ze("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=ze("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=ze("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fse=ze("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Ok="-",$se=e=>{const t=Bse(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(Ok);return l[0]===""&&l.length!==1&&l.shift(),P7(l,t)||Lse(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},P7=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?P7(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Ok);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Q5=/^\[(.+)\]$/,Lse=e=>{if(Q5.test(e)){const t=Q5.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Bse=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return Vse(Object.entries(e.classGroups),r).forEach(([i,o])=>{A4(o,s,i,t)}),s},A4=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:Z5(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(Use(a)){A4(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{A4(o,Z5(t,i),r,s)})})},Z5=(e,t)=>{let r=e;return t.split(Ok).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},Use=e=>e.isThemeGetter,Vse=(e,t)=>t?e.map(([r,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,zse=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},k7="!",Wse=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let g=0;g<l.length;g++){let j=l[g];if(d===0){if(j===a&&(s||l.slice(g,g+i)===t)){c.push(l.slice(u,g)),u=g+i;continue}if(j==="/"){f=g;continue}}j==="["?d++:j==="]"&&d--}const m=c.length===0?l:l.substring(u),h=m.startsWith(k7),x=h?m.substring(1):m,p=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:x,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},Hse=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},qse=e=>({cache:zse(e.cacheSize),parseClassName:Wse(e),...$se(e)}),Gse=/\s+/,Kse=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(Gse);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:h}=r(d);let x=!!h,p=s(x?m.substring(0,h):m);if(!p){if(!x){l=d+(l.length>0?" "+l:l);continue}if(p=s(m),!p){l=d+(l.length>0?" "+l:l);continue}x=!1}const g=Hse(u).join(":"),j=f?g+k7:g,y=j+p;if(i.includes(y))continue;i.push(y);const w=a(p,x);for(let b=0;b<w.length;++b){const N=w[b];i.push(j+N)}l=d+(l.length>0?" "+l:l)}return l};function Yse(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=T7(t))&&(s&&(s+=" "),s+=r);return s}const T7=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=T7(e[s]))&&(r&&(r+=" "),r+=t);return r};function Xse(e,...t){let r,s,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return r=qse(d),s=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=Kse(c,r);return a(c,u),u}return function(){return i(Yse.apply(null,arguments))}}const rn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},O7=/^\[(?:([a-z-]+):)?(.+)\]$/i,Qse=/^\d+\/\d+$/,Zse=new Set(["px","full","screen"]),Jse=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eae=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tae=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rae=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nae=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,uc=e=>fh(e)||Zse.has(e)||Qse.test(e),vd=e=>Bp(e,"length",uae),fh=e=>!!e&&!Number.isNaN(Number(e)),X_=e=>Bp(e,"number",fh),Ox=e=>!!e&&Number.isInteger(Number(e)),sae=e=>e.endsWith("%")&&fh(e.slice(0,-1)),Gt=e=>O7.test(e),yd=e=>Jse.test(e),aae=new Set(["length","size","percentage"]),iae=e=>Bp(e,aae,D7),oae=e=>Bp(e,"position",D7),lae=new Set(["image","url"]),cae=e=>Bp(e,lae,mae),dae=e=>Bp(e,"",fae),Dx=()=>!0,Bp=(e,t,r)=>{const s=O7.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},uae=e=>eae.test(e)&&!tae.test(e),D7=()=>!1,fae=e=>rae.test(e),mae=e=>nae.test(e),hae=()=>{const e=rn("colors"),t=rn("spacing"),r=rn("blur"),s=rn("brightness"),a=rn("borderColor"),i=rn("borderRadius"),o=rn("borderSpacing"),l=rn("borderWidth"),c=rn("contrast"),d=rn("grayscale"),u=rn("hueRotate"),f=rn("invert"),m=rn("gap"),h=rn("gradientColorStops"),x=rn("gradientColorStopPositions"),p=rn("inset"),g=rn("margin"),j=rn("opacity"),y=rn("padding"),w=rn("saturate"),b=rn("scale"),N=rn("sepia"),_=rn("skew"),C=rn("space"),A=rn("translate"),E=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Gt,t],I=()=>[Gt,t],W=()=>["",uc,vd],H=()=>["auto",fh,Gt],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",Gt],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[fh,Gt];return{cacheSize:500,separator:":",theme:{colors:[Dx],spacing:[uc,vd],blur:["none","",yd,Gt],brightness:ae(),borderColor:[e],borderRadius:["none","","full",yd,Gt],borderSpacing:I(),borderWidth:W(),contrast:ae(),grayscale:D(),hueRotate:ae(),invert:D(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[sae,vd],inset:O(),margin:O(),opacity:ae(),padding:I(),saturate:ae(),scale:ae(),sepia:D(),skew:ae(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Gt]}],container:["container"],columns:[{columns:[yd]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),Gt]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ox,Gt]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Gt]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Ox,Gt]}],"grid-cols":[{"grid-cols":[Dx]}],"col-start-end":[{col:["auto",{span:["full",Ox,Gt]},Gt]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Dx]}],"row-start-end":[{row:["auto",{span:[Ox,Gt]},Gt]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Gt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Gt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Gt,t]}],"min-w":[{"min-w":[Gt,t,"min","max","fit"]}],"max-w":[{"max-w":[Gt,t,"none","full","min","max","fit","prose",{screen:[yd]},yd]}],h:[{h:[Gt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Gt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Gt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Gt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",yd,vd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",X_]}],"font-family":[{font:[Dx]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Gt]}],"line-clamp":[{"line-clamp":["none",fh,X_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",uc,Gt]}],"list-image":[{"list-image":["none",Gt]}],"list-style-type":[{list:["none","disc","decimal",Gt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",uc,vd]}],"underline-offset":[{"underline-offset":["auto",uc,Gt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Gt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Gt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),oae]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",iae]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cae]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:T()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[uc,Gt]}],"outline-w":[{outline:[uc,vd]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[uc,vd]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",yd,dae]}],"shadow-color":[{shadow:[Dx]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...P(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":P()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",yd,Gt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Gt]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",Gt]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",Gt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Ox,Gt]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Gt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Gt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Gt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[uc,vd,X_]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},pae=Xse(hae);function ge(...e){return pae(zt(e))}const xae=lse,I7=v.forwardRef(({className:e,...t},r)=>n.jsx(o7,{ref:r,className:ge("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));I7.displayName=o7.displayName;const gae=Lp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),R7=v.forwardRef(({className:e,variant:t,...r},s)=>n.jsx(l7,{ref:s,className:ge(gae({variant:t}),e),...r}));R7.displayName=l7.displayName;const vae=v.forwardRef(({className:e,...t},r)=>n.jsx(u7,{ref:r,className:ge("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));vae.displayName=u7.displayName;const M7=v.forwardRef(({className:e,...t},r)=>n.jsx(f7,{ref:r,className:ge("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(us,{className:"h-4 w-4"})}));M7.displayName=f7.displayName;const F7=v.forwardRef(({className:e,...t},r)=>n.jsx(c7,{ref:r,className:ge("text-sm font-semibold",e),...t}));F7.displayName=c7.displayName;const $7=v.forwardRef(({className:e,...t},r)=>n.jsx(d7,{ref:r,className:ge("text-sm opacity-90",e),...t}));$7.displayName=d7.displayName;function yae(){const{toasts:e}=pr();return n.jsxs(xae,{children:[e.map(function({id:t,title:r,description:s,action:a,...i}){return n.jsxs(R7,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(F7,{children:r}),s&&n.jsx($7,{children:s})]}),a,n.jsx(M7,{})]},t)}),n.jsx(I7,{})]})}var Bb=["light","dark"],Dk="(prefers-color-scheme: dark)",jae=typeof window>"u",Ik=v.createContext(void 0),bae={setTheme:e=>{},themes:[]},Up=()=>{var e;return(e=v.useContext(Ik))!=null?e:bae},wae=e=>v.useContext(Ik)?e.children:v.createElement(_ae,{...e}),Nae=["light","dark"],_ae=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:s=!0,storageKey:a="theme",themes:i=Nae,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:d,nonce:u})=>{let[f,m]=v.useState(()=>J5(a,o)),[h,x]=v.useState(()=>J5(a)),p=c?Object.values(c):i,g=v.useCallback(b=>{let N=b;if(!N)return;b==="system"&&r&&(N=eI());let _=c?c[N]:N,C=t?Cae():null,A=document.documentElement;if(l==="class"?(A.classList.remove(...p),_&&A.classList.add(_)):_?A.setAttribute(l,_):A.removeAttribute(l),s){let E=Bb.includes(o)?o:null,k=Bb.includes(N)?N:E;A.style.colorScheme=k}C==null||C()},[]),j=v.useCallback(b=>{let N=typeof b=="function"?b(b):b;m(N);try{localStorage.setItem(a,N)}catch{}},[e]),y=v.useCallback(b=>{let N=eI(b);x(N),f==="system"&&r&&!e&&g("system")},[f,e]);v.useEffect(()=>{let b=window.matchMedia(Dk);return b.addListener(y),y(b),()=>b.removeListener(y)},[y]),v.useEffect(()=>{let b=N=>{if(N.key!==a)return;let _=N.newValue||o;j(_)};return window.addEventListener("storage",b),()=>window.removeEventListener("storage",b)},[j]),v.useEffect(()=>{g(e??f)},[e,f]);let w=v.useMemo(()=>({theme:f,setTheme:j,forcedTheme:e,resolvedTheme:f==="system"?h:f,themes:r?[...i,"system"]:i,systemTheme:r?h:void 0}),[f,j,e,h,r,i]);return v.createElement(Ik.Provider,{value:w},v.createElement(Sae,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:s,storageKey:a,themes:i,defaultTheme:o,attribute:l,value:c,children:d,attrs:p,nonce:u}),d)},Sae=v.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?Bb.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,p=!1,g=!0)=>{let j=o?o[x]:x,y=p?x+"|| ''":`'${j}'`,w="";return a&&g&&!p&&Bb.includes(x)&&(w+=`d.style.colorScheme = '${x}';`),r==="class"?p||j?w+=`c.add(${y})`:w+="null":j&&(w+=`d[s](n,${y})`),w},h=e?`!function(){${u}${m(e)}}()`:s?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${Dk}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})}),J5=(e,t)=>{if(jae)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},Cae=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},eI=e=>(e||(e=window.matchMedia(Dk)),e.matches?"dark":"light"),Aae=e=>{switch(e){case"success":return kae;case"info":return Oae;case"warning":return Tae;case"error":return Dae;default:return null}},Eae=Array(12).fill(0),Pae=({visible:e})=>z.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},z.createElement("div",{className:"sonner-spinner"},Eae.map((t,r)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),kae=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Tae=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Oae=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Dae=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Iae=()=>{let[e,t]=z.useState(document.hidden);return z.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},E4=1,Rae=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:E4++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...s,dismissible:o,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),a=r!==void 0;return s.then(async i=>{if(Fae(i)&&!i.ok){a=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:r,type:"error",message:o,description:l})}else if(t.success!==void 0){a=!1;let o=typeof t.success=="function"?await t.success(i):t.success,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async i=>{if(t.error!==void 0){a=!1;let o=typeof t.error=="function"?await t.error(i):t.error,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var i;a&&(this.dismiss(r),r=void 0),(i=t.finally)==null||i.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||E4++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},bi=new Rae,Mae=(e,t)=>{let r=(t==null?void 0:t.id)||E4++;return bi.addToast({title:e,...t,id:r}),r},Fae=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",$ae=Mae,Lae=()=>bi.toasts,Be=Object.assign($ae,{success:bi.success,info:bi.info,warning:bi.warning,error:bi.error,custom:bi.custom,message:bi.message,promise:bi.promise,dismiss:bi.dismiss,loading:bi.loading},{getHistory:Lae});function Bae(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}Bae(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Zy(e){return e.label!==void 0}var Uae=3,Vae="32px",zae=4e3,Wae=356,Hae=14,qae=20,Gae=200;function Kae(...e){return e.filter(Boolean).join(" ")}var Yae=e=>{var t,r,s,a,i,o,l,c,d,u;let{invert:f,toast:m,unstyled:h,interacting:x,setHeights:p,visibleToasts:g,heights:j,index:y,toasts:w,expanded:b,removeToast:N,defaultRichColors:_,closeButton:C,style:A,cancelButtonStyle:E,actionButtonStyle:k,className:O="",descriptionClassName:I="",duration:W,position:H,gap:F,loadingIcon:T,expandByDefault:P,classNames:M,icons:D,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:ae,cn:R}=e,[V,L]=z.useState(!1),[K,le]=z.useState(!1),[me,B]=z.useState(!1),[X,oe]=z.useState(!1),[Ne,ue]=z.useState(0),[ve,xe]=z.useState(0),Ee=z.useRef(null),Me=z.useRef(null),Te=y===0,se=y+1<=g,he=m.type,ce=m.dismissible!==!1,be=m.className||"",$e=m.descriptionClassName||"",De=z.useMemo(()=>j.findIndex(yt=>yt.toastId===m.id)||0,[j,m.id]),de=z.useMemo(()=>{var yt;return(yt=m.closeButton)!=null?yt:C},[m.closeButton,C]),Ie=z.useMemo(()=>m.duration||W||zae,[m.duration,W]),ot=z.useRef(0),jt=z.useRef(0),Ze=z.useRef(0),ye=z.useRef(null),[Ke,Ct]=H.split("-"),Et=z.useMemo(()=>j.reduce((yt,Rt,Lt)=>Lt>=De?yt:yt+Rt.height,0),[j,De]),ur=Iae(),vr=m.invert||f,Pn=he==="loading";jt.current=z.useMemo(()=>De*F+Et,[De,Et]),z.useEffect(()=>{L(!0)},[]),z.useLayoutEffect(()=>{if(!V)return;let yt=Me.current,Rt=yt.style.height;yt.style.height="auto";let Lt=yt.getBoundingClientRect().height;yt.style.height=Rt,xe(Lt),p(Gr=>Gr.find(is=>is.toastId===m.id)?Gr.map(is=>is.toastId===m.id?{...is,height:Lt}:is):[{toastId:m.id,height:Lt,position:m.position},...Gr])},[V,m.title,m.description,p,m.id]);let Ur=z.useCallback(()=>{le(!0),ue(jt.current),p(yt=>yt.filter(Rt=>Rt.toastId!==m.id)),setTimeout(()=>{N(m)},Gae)},[m,N,p,jt]);z.useEffect(()=>{if(m.promise&&he==="loading"||m.duration===1/0||m.type==="loading")return;let yt,Rt=Ie;return b||x||ae&&ur?(()=>{if(Ze.current<ot.current){let Lt=new Date().getTime()-ot.current;Rt=Rt-Lt}Ze.current=new Date().getTime()})():Rt!==1/0&&(ot.current=new Date().getTime(),yt=setTimeout(()=>{var Lt;(Lt=m.onAutoClose)==null||Lt.call(m,m),Ur()},Rt)),()=>clearTimeout(yt)},[b,x,P,m,Ie,Ur,m.promise,he,ae,ur]),z.useEffect(()=>{let yt=Me.current;if(yt){let Rt=yt.getBoundingClientRect().height;return xe(Rt),p(Lt=>[{toastId:m.id,height:Rt,position:m.position},...Lt]),()=>p(Lt=>Lt.filter(Gr=>Gr.toastId!==m.id))}},[p,m.id]),z.useEffect(()=>{m.delete&&Ur()},[Ur,m.delete]);function Er(){return D!=null&&D.loading?z.createElement("div",{className:"sonner-loader","data-visible":he==="loading"},D.loading):T?z.createElement("div",{className:"sonner-loader","data-visible":he==="loading"},T):z.createElement(Pae,{visible:he==="loading"})}return z.createElement("li",{"aria-live":m.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Me,className:R(O,be,M==null?void 0:M.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,M==null?void 0:M.default,M==null?void 0:M[he],(r=m==null?void 0:m.classNames)==null?void 0:r[he]),"data-sonner-toast":"","data-rich-colors":(s=m.richColors)!=null?s:_,"data-styled":!(m.jsx||m.unstyled||h),"data-mounted":V,"data-promise":!!m.promise,"data-removed":K,"data-visible":se,"data-y-position":Ke,"data-x-position":Ct,"data-index":y,"data-front":Te,"data-swiping":me,"data-dismissible":ce,"data-type":he,"data-invert":vr,"data-swipe-out":X,"data-expanded":!!(b||P&&V),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":`${K?Ne:jt.current}px`,"--initial-height":P?"auto":`${ve}px`,...A,...m.style},onPointerDown:yt=>{Pn||!ce||(Ee.current=new Date,ue(jt.current),yt.target.setPointerCapture(yt.pointerId),yt.target.tagName!=="BUTTON"&&(B(!0),ye.current={x:yt.clientX,y:yt.clientY}))},onPointerUp:()=>{var yt,Rt,Lt,Gr;if(X||!ce)return;ye.current=null;let is=Number(((yt=Me.current)==null?void 0:yt.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ua=new Date().getTime()-((Rt=Ee.current)==null?void 0:Rt.getTime()),pd=Math.abs(is)/Ua;if(Math.abs(is)>=qae||pd>.11){ue(jt.current),(Lt=m.onDismiss)==null||Lt.call(m,m),Ur(),oe(!0);return}(Gr=Me.current)==null||Gr.style.setProperty("--swipe-amount","0px"),B(!1)},onPointerMove:yt=>{var Rt;if(!ye.current||!ce)return;let Lt=yt.clientY-ye.current.y,Gr=yt.clientX-ye.current.x,is=(Ke==="top"?Math.min:Math.max)(0,Lt),Ua=yt.pointerType==="touch"?10:2;Math.abs(is)>Ua?(Rt=Me.current)==null||Rt.style.setProperty("--swipe-amount",`${Lt}px`):Math.abs(Gr)>Ua&&(ye.current=null)}},de&&!m.jsx?z.createElement("button",{"aria-label":Y,"data-disabled":Pn,"data-close-button":!0,onClick:Pn||!ce?()=>{}:()=>{var yt;Ur(),(yt=m.onDismiss)==null||yt.call(m,m)},className:R(M==null?void 0:M.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,m.jsx||z.isValidElement(m.title)?m.jsx||m.title:z.createElement(z.Fragment,null,he||m.icon||m.promise?z.createElement("div",{"data-icon":"",className:R(M==null?void 0:M.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Er():null,m.type!=="loading"?m.icon||(D==null?void 0:D[he])||Aae(he):null):null,z.createElement("div",{"data-content":"",className:R(M==null?void 0:M.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},z.createElement("div",{"data-title":"",className:R(M==null?void 0:M.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},m.title),m.description?z.createElement("div",{"data-description":"",className:R(I,$e,M==null?void 0:M.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},m.description):null),z.isValidElement(m.cancel)?m.cancel:m.cancel&&Zy(m.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||E,onClick:yt=>{var Rt,Lt;Zy(m.cancel)&&ce&&((Lt=(Rt=m.cancel).onClick)==null||Lt.call(Rt,yt),Ur())},className:R(M==null?void 0:M.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,z.isValidElement(m.action)?m.action:m.action&&Zy(m.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||k,onClick:yt=>{var Rt,Lt;Zy(m.action)&&(yt.defaultPrevented||((Lt=(Rt=m.action).onClick)==null||Lt.call(Rt,yt),Ur()))},className:R(M==null?void 0:M.actionButton,(u=m==null?void 0:m.classNames)==null?void 0:u.actionButton)},m.action.label):null))};function tI(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Xae=e=>{let{invert:t,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:o,offset:l,theme:c="light",richColors:d,duration:u,style:f,visibleToasts:m=Uae,toastOptions:h,dir:x=tI(),gap:p=Hae,loadingIcon:g,icons:j,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:w,cn:b=Kae}=e,[N,_]=z.useState([]),C=z.useMemo(()=>Array.from(new Set([r].concat(N.filter(ae=>ae.position).map(ae=>ae.position)))),[N,r]),[A,E]=z.useState([]),[k,O]=z.useState(!1),[I,W]=z.useState(!1),[H,F]=z.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),T=z.useRef(null),P=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=z.useRef(null),D=z.useRef(!1),Y=z.useCallback(ae=>{var R;(R=N.find(V=>V.id===ae.id))!=null&&R.delete||bi.dismiss(ae.id),_(V=>V.filter(({id:L})=>L!==ae.id))},[N]);return z.useEffect(()=>bi.subscribe(ae=>{if(ae.dismiss){_(R=>R.map(V=>V.id===ae.id?{...V,delete:!0}:V));return}setTimeout(()=>{dN.flushSync(()=>{_(R=>{let V=R.findIndex(L=>L.id===ae.id);return V!==-1?[...R.slice(0,V),{...R[V],...ae},...R.slice(V+1)]:[ae,...R]})})})}),[]),z.useEffect(()=>{if(c!=="system"){F(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:ae})=>{F(ae?"dark":"light")})},[c]),z.useEffect(()=>{N.length<=1&&O(!1)},[N]),z.useEffect(()=>{let ae=R=>{var V,L;s.every(K=>R[K]||R.code===K)&&(O(!0),(V=T.current)==null||V.focus()),R.code==="Escape"&&(document.activeElement===T.current||(L=T.current)!=null&&L.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",ae),()=>document.removeEventListener("keydown",ae)},[s]),z.useEffect(()=>{if(T.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,D.current=!1)}},[T.current]),N.length?z.createElement("section",{"aria-label":`${y} ${P}`,tabIndex:-1},C.map((ae,R)=>{var V;let[L,K]=ae.split("-");return z.createElement("ol",{key:ae,dir:x==="auto"?tI():x,tabIndex:-1,ref:T,className:o,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":L,"data-x-position":K,style:{"--front-toast-height":`${((V=A[0])==null?void 0:V.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||Vae,"--width":`${Wae}px`,"--gap":`${p}px`,...f},onBlur:le=>{D.current&&!le.currentTarget.contains(le.relatedTarget)&&(D.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||D.current||(D.current=!0,M.current=le.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{I||O(!1)},onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},N.filter(le=>!le.position&&R===0||le.position===ae).map((le,me)=>{var B,X;return z.createElement(Yae,{key:le.id,icons:j,index:me,toast:le,defaultRichColors:d,duration:(B=h==null?void 0:h.duration)!=null?B:u,className:h==null?void 0:h.className,descriptionClassName:h==null?void 0:h.descriptionClassName,invert:t,visibleToasts:m,closeButton:(X=h==null?void 0:h.closeButton)!=null?X:i,interacting:I,position:ae,style:h==null?void 0:h.style,unstyled:h==null?void 0:h.unstyled,classNames:h==null?void 0:h.classNames,cancelButtonStyle:h==null?void 0:h.cancelButtonStyle,actionButtonStyle:h==null?void 0:h.actionButtonStyle,removeToast:Y,toasts:N.filter(oe=>oe.position==le.position),heights:A.filter(oe=>oe.position==le.position),setHeights:E,expandByDefault:a,gap:p,loadingIcon:g,expanded:k,pauseWhenPageIsHidden:w,cn:b})}))})):null};const Qae=({...e})=>{const{theme:t="system"}=Up();return n.jsx(Xae,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Zae=OP.useId||(()=>{}),Jae=0;function si(e){const[t,r]=v.useState(Zae());return rs(()=>{r(s=>s??String(Jae++))},[e]),t?`radix-${t}`:""}const eie=["top","right","bottom","left"],mu=Math.min,Ci=Math.max,Ub=Math.round,Jy=Math.floor,hu=e=>({x:e,y:e}),tie={left:"right",right:"left",bottom:"top",top:"bottom"},rie={start:"end",end:"start"};function P4(e,t,r){return Ci(e,mu(t,r))}function Kc(e,t){return typeof e=="function"?e(t):e}function Yc(e){return e.split("-")[0]}function Vp(e){return e.split("-")[1]}function Rk(e){return e==="x"?"y":"x"}function Mk(e){return e==="y"?"height":"width"}function pu(e){return["top","bottom"].includes(Yc(e))?"y":"x"}function Fk(e){return Rk(pu(e))}function nie(e,t,r){r===void 0&&(r=!1);const s=Vp(e),a=Fk(e),i=Mk(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Vb(o)),[o,Vb(o)]}function sie(e){const t=Vb(e);return[k4(e),t,k4(t)]}function k4(e){return e.replace(/start|end/g,t=>rie[t])}function aie(e,t,r){const s=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:s:t?s:a;case"left":case"right":return t?i:o;default:return[]}}function iie(e,t,r,s){const a=Vp(e);let i=aie(Yc(e),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(k4)))),i}function Vb(e){return e.replace(/left|right|bottom|top/g,t=>tie[t])}function oie(e){return{top:0,right:0,bottom:0,left:0,...e}}function L7(e){return typeof e!="number"?oie(e):{top:e,right:e,bottom:e,left:e}}function zb(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function rI(e,t,r){let{reference:s,floating:a}=e;const i=pu(t),o=Fk(t),l=Mk(o),c=Yc(t),d=i==="y",u=s.x+s.width/2-a.width/2,f=s.y+s.height/2-a.height/2,m=s[l]/2-a[l]/2;let h;switch(c){case"top":h={x:u,y:s.y-a.height};break;case"bottom":h={x:u,y:s.y+s.height};break;case"right":h={x:s.x+s.width,y:f};break;case"left":h={x:s.x-a.width,y:f};break;default:h={x:s.x,y:s.y}}switch(Vp(t)){case"start":h[o]-=m*(r&&d?-1:1);break;case"end":h[o]+=m*(r&&d?-1:1);break}return h}const lie=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=rI(d,s,c),m=s,h={},x=0;for(let p=0;p<l.length;p++){const{name:g,fn:j}=l[p],{x:y,y:w,data:b,reset:N}=await j({x:u,y:f,initialPlacement:s,placement:m,strategy:a,middlewareData:h,rects:d,platform:o,elements:{reference:e,floating:t}});u=y??u,f=w??f,h={...h,[g]:{...h[g],...b}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:u,y:f}=rI(d,m,c)),p=-1)}return{x:u,y:f,placement:m,strategy:a,middlewareData:h}};async function f0(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:m=!1,padding:h=0}=Kc(t,e),x=L7(h),g=l[m?f==="floating"?"reference":"floating":f],j=zb(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=f==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=zb(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(j.top-N.top+x.top)/b.y,bottom:(N.bottom-j.bottom+x.bottom)/b.y,left:(j.left-N.left+x.left)/b.x,right:(N.right-j.right+x.right)/b.x}}const cie=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Kc(e,t)||{};if(d==null)return{};const f=L7(u),m={x:r,y:s},h=Fk(a),x=Mk(h),p=await o.getDimensions(d),g=h==="y",j=g?"top":"left",y=g?"bottom":"right",w=g?"clientHeight":"clientWidth",b=i.reference[x]+i.reference[h]-m[h]-i.floating[x],N=m[h]-i.reference[h],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=_?_[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(_)))&&(C=l.floating[w]||i.floating[x]);const A=b/2-N/2,E=C/2-p[x]/2-1,k=mu(f[j],E),O=mu(f[y],E),I=k,W=C-p[x]-O,H=C/2-p[x]/2+A,F=P4(I,H,W),T=!c.arrow&&Vp(a)!=null&&H!==F&&i.reference[x]/2-(H<I?k:O)-p[x]/2<0,P=T?H<I?H-I:H-W:0;return{[h]:m[h]+P,data:{[h]:F,centerOffset:H-F-P,...T&&{alignmentOffset:P}},reset:T}}}),die=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:p=!0,...g}=Kc(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const j=Yc(a),y=pu(l),w=Yc(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=m||(w||!p?[Vb(l)]:sie(l)),_=x!=="none";!m&&_&&N.push(...iie(l,p,x,b));const C=[l,...N],A=await f0(t,g),E=[];let k=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&E.push(A[j]),f){const H=nie(a,o,b);E.push(A[H[0]],A[H[1]])}if(k=[...k,{placement:a,overflows:E}],!E.every(H=>H<=0)){var O,I;const H=(((O=i.flip)==null?void 0:O.index)||0)+1,F=C[H];if(F)return{data:{index:H,overflows:k},reset:{placement:F}};let T=(I=k.filter(P=>P.overflows[0]<=0).sort((P,M)=>P.overflows[1]-M.overflows[1])[0])==null?void 0:I.placement;if(!T)switch(h){case"bestFit":{var W;const P=(W=k.filter(M=>{if(_){const D=pu(M.placement);return D===y||D==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(D=>D>0).reduce((D,Y)=>D+Y,0)]).sort((M,D)=>M[1]-D[1])[0])==null?void 0:W[0];P&&(T=P);break}case"initialPlacement":T=l;break}if(a!==T)return{reset:{placement:T}}}return{}}}};function nI(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sI(e){return eie.some(t=>e[t]>=0)}const uie=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=Kc(e,t);switch(s){case"referenceHidden":{const i=await f0(t,{...a,elementContext:"reference"}),o=nI(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:sI(o)}}}case"escaped":{const i=await f0(t,{...a,altBoundary:!0}),o=nI(i,r.floating);return{data:{escapedOffsets:o,escaped:sI(o)}}}default:return{}}}}};async function fie(e,t){const{placement:r,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Yc(r),l=Vp(r),c=pu(r)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,f=Kc(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(h=l==="end"?x*-1:x),c?{x:h*u,y:m*d}:{x:m*d,y:h*u}}const mie=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await fie(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},hie=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:j,y}=g;return{x:j,y}}},...c}=Kc(e,t),d={x:r,y:s},u=await f0(t,c),f=pu(Yc(a)),m=Rk(f);let h=d[m],x=d[f];if(i){const g=m==="y"?"top":"left",j=m==="y"?"bottom":"right",y=h+u[g],w=h-u[j];h=P4(y,h,w)}if(o){const g=f==="y"?"top":"left",j=f==="y"?"bottom":"right",y=x+u[g],w=x-u[j];x=P4(y,x,w)}const p=l.fn({...t,[m]:h,[f]:x});return{...p,data:{x:p.x-r,y:p.y-s,enabled:{[m]:i,[f]:o}}}}}},pie=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Kc(e,t),u={x:r,y:s},f=pu(a),m=Rk(f);let h=u[m],x=u[f];const p=Kc(l,t),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=m==="y"?"height":"width",b=i.reference[m]-i.floating[w]+g.mainAxis,N=i.reference[m]+i.reference[w]-g.mainAxis;h<b?h=b:h>N&&(h=N)}if(d){var j,y;const w=m==="y"?"width":"height",b=["top","left"].includes(Yc(a)),N=i.reference[f]-i.floating[w]+(b&&((j=o.offset)==null?void 0:j[f])||0)+(b?0:g.crossAxis),_=i.reference[f]+i.reference[w]+(b?0:((y=o.offset)==null?void 0:y[f])||0)-(b?g.crossAxis:0);x<N?x=N:x>_&&(x=_)}return{[m]:h,[f]:x}}}},xie=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Kc(e,t),u=await f0(t,d),f=Yc(a),m=Vp(a),h=pu(a)==="y",{width:x,height:p}=i.floating;let g,j;f==="top"||f==="bottom"?(g=f,j=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(j=f,g=m==="end"?"top":"bottom");const y=p-u.top-u.bottom,w=x-u.left-u.right,b=mu(p-u[g],y),N=mu(x-u[j],w),_=!t.middlewareData.shift;let C=b,A=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(A=w),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(C=y),_&&!m){const k=Ci(u.left,0),O=Ci(u.right,0),I=Ci(u.top,0),W=Ci(u.bottom,0);h?A=x-2*(k!==0||O!==0?k+O:Ci(u.left,u.right)):C=p-2*(I!==0||W!==0?I+W:Ci(u.top,u.bottom))}await c({...t,availableWidth:A,availableHeight:C});const E=await o.getDimensions(l.floating);return x!==E.width||p!==E.height?{reset:{rects:!0}}:{}}}};function xN(){return typeof window<"u"}function zp(e){return B7(e)?(e.nodeName||"").toLowerCase():"#document"}function Di(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function rc(e){var t;return(t=(B7(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function B7(e){return xN()?e instanceof Node||e instanceof Di(e).Node:!1}function ol(e){return xN()?e instanceof Element||e instanceof Di(e).Element:!1}function Ql(e){return xN()?e instanceof HTMLElement||e instanceof Di(e).HTMLElement:!1}function aI(e){return!xN()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Di(e).ShadowRoot}function Lv(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=ll(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!["inline","contents"].includes(a)}function gie(e){return["table","td","th"].includes(zp(e))}function gN(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function $k(e){const t=Lk(),r=ol(e)?ll(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function vie(e){let t=xu(e);for(;Ql(t)&&!Kh(t);){if($k(t))return t;if(gN(t))return null;t=xu(t)}return null}function Lk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Kh(e){return["html","body","#document"].includes(zp(e))}function ll(e){return Di(e).getComputedStyle(e)}function vN(e){return ol(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xu(e){if(zp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||aI(e)&&e.host||rc(e);return aI(t)?t.host:t}function U7(e){const t=xu(e);return Kh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ql(t)&&Lv(t)?t:U7(t)}function m0(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=U7(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=Di(a);if(i){const l=T4(o);return t.concat(o,o.visualViewport||[],Lv(a)?a:[],l&&r?m0(l):[])}return t.concat(a,m0(a,[],r))}function T4(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function V7(e){const t=ll(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=Ql(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:s,l=Ub(r)!==i||Ub(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function Bk(e){return ol(e)?e:e.contextElement}function mh(e){const t=Bk(e);if(!Ql(t))return hu(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:i}=V7(t);let o=(i?Ub(r.width):r.width)/s,l=(i?Ub(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const yie=hu(0);function z7(e){const t=Di(e);return!Lk()||!t.visualViewport?yie:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function jie(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Di(e)?!1:t}function $f(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Bk(e);let o=hu(1);t&&(s?ol(s)&&(o=mh(s)):o=mh(e));const l=jie(i,r,s)?z7(i):hu(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const m=Di(i),h=s&&ol(s)?Di(s):s;let x=m,p=T4(x);for(;p&&s&&h!==x;){const g=mh(p),j=p.getBoundingClientRect(),y=ll(p),w=j.left+(p.clientLeft+parseFloat(y.paddingLeft))*g.x,b=j.top+(p.clientTop+parseFloat(y.paddingTop))*g.y;c*=g.x,d*=g.y,u*=g.x,f*=g.y,c+=w,d+=b,x=Di(p),p=T4(x)}}return zb({width:u,height:f,x:c,y:d})}function bie(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=rc(s),l=t?gN(t.floating):!1;if(s===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=hu(1);const u=hu(0),f=Ql(s);if((f||!f&&!i)&&((zp(s)!=="body"||Lv(o))&&(c=vN(s)),Ql(s))){const m=$f(s);d=mh(s),u.x=m.x+s.clientLeft,u.y=m.y+s.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x,y:r.y*d.y-c.scrollTop*d.y+u.y}}function wie(e){return Array.from(e.getClientRects())}function O4(e,t){const r=vN(e).scrollLeft;return t?t.left+r:$f(rc(e)).left+r}function Nie(e){const t=rc(e),r=vN(e),s=e.ownerDocument.body,a=Ci(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Ci(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+O4(e);const l=-r.scrollTop;return ll(s).direction==="rtl"&&(o+=Ci(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function _ie(e,t){const r=Di(e),s=rc(e),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Lk();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function Sie(e,t){const r=$f(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,i=Ql(e)?mh(e):hu(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function iI(e,t,r){let s;if(t==="viewport")s=_ie(e,r);else if(t==="document")s=Nie(rc(e));else if(ol(t))s=Sie(t,r);else{const a=z7(e);s={...t,x:t.x-a.x,y:t.y-a.y}}return zb(s)}function W7(e,t){const r=xu(e);return r===t||!ol(r)||Kh(r)?!1:ll(r).position==="fixed"||W7(r,t)}function Cie(e,t){const r=t.get(e);if(r)return r;let s=m0(e,[],!1).filter(l=>ol(l)&&zp(l)!=="body"),a=null;const i=ll(e).position==="fixed";let o=i?xu(e):e;for(;ol(o)&&!Kh(o);){const l=ll(o),c=$k(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Lv(o)&&!c&&W7(e,o))?s=s.filter(u=>u!==o):a=l,o=xu(o)}return t.set(e,s),s}function Aie(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const o=[...r==="clippingAncestors"?gN(t)?[]:Cie(t,this._c):[].concat(r),s],l=o[0],c=o.reduce((d,u)=>{const f=iI(t,u,a);return d.top=Ci(f.top,d.top),d.right=mu(f.right,d.right),d.bottom=mu(f.bottom,d.bottom),d.left=Ci(f.left,d.left),d},iI(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Eie(e){const{width:t,height:r}=V7(e);return{width:t,height:r}}function Pie(e,t,r){const s=Ql(t),a=rc(t),i=r==="fixed",o=$f(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=hu(0);if(s||!s&&!i)if((zp(t)!=="body"||Lv(a))&&(l=vN(t)),s){const h=$f(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=O4(a));let d=0,u=0;if(a&&!s&&!i){const h=a.getBoundingClientRect();u=h.top+l.scrollTop,d=h.left+l.scrollLeft-O4(a,h)}const f=o.left+l.scrollLeft-c.x-d,m=o.top+l.scrollTop-c.y-u;return{x:f,y:m,width:o.width,height:o.height}}function Q_(e){return ll(e).position==="static"}function oI(e,t){if(!Ql(e)||ll(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return rc(e)===r&&(r=r.ownerDocument.body),r}function H7(e,t){const r=Di(e);if(gN(e))return r;if(!Ql(e)){let a=xu(e);for(;a&&!Kh(a);){if(ol(a)&&!Q_(a))return a;a=xu(a)}return r}let s=oI(e,t);for(;s&&gie(s)&&Q_(s);)s=oI(s,t);return s&&Kh(s)&&Q_(s)&&!$k(s)?r:s||vie(e)||r}const kie=async function(e){const t=this.getOffsetParent||H7,r=this.getDimensions,s=await r(e.floating);return{reference:Pie(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Tie(e){return ll(e).direction==="rtl"}const Oie={convertOffsetParentRelativeRectToViewportRelativeRect:bie,getDocumentElement:rc,getClippingRect:Aie,getOffsetParent:H7,getElementRects:kie,getClientRects:wie,getDimensions:Eie,getScale:mh,isElement:ol,isRTL:Tie};function Die(e,t){let r=null,s;const a=rc(e);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:u,width:f,height:m}=e.getBoundingClientRect();if(l||t(),!f||!m)return;const h=Jy(u),x=Jy(a.clientWidth-(d+f)),p=Jy(a.clientHeight-(u+m)),g=Jy(d),y={rootMargin:-h+"px "+-x+"px "+-p+"px "+-g+"px",threshold:Ci(0,mu(1,c))||1};let w=!0;function b(N){const _=N[0].intersectionRatio;if(_!==c){if(!w)return o();_?o(!1,_):s=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(b,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(b,y)}r.observe(e)}return o(!0),i}function Iie(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Bk(e),u=a||i?[...d?m0(d):[],...m0(t)]:[];u.forEach(j=>{a&&j.addEventListener("scroll",r,{passive:!0}),i&&j.addEventListener("resize",r)});const f=d&&l?Die(d,r):null;let m=-1,h=null;o&&(h=new ResizeObserver(j=>{let[y]=j;y&&y.target===d&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),r()}),d&&!c&&h.observe(d),h.observe(t));let x,p=c?$f(e):null;c&&g();function g(){const j=$f(e);p&&(j.x!==p.x||j.y!==p.y||j.width!==p.width||j.height!==p.height)&&r(),p=j,x=requestAnimationFrame(g)}return r(),()=>{var j;u.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(j=h)==null||j.disconnect(),h=null,c&&cancelAnimationFrame(x)}}const Rie=mie,Mie=hie,Fie=die,$ie=xie,Lie=uie,lI=cie,Bie=pie,Uie=(e,t,r)=>{const s=new Map,a={platform:Oie,...r},i={...a.platform,_c:s};return lie(e,t,{...a,platform:i})};var rb=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Wb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!Wb(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Wb(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function q7(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cI(e,t){const r=q7(e);return Math.round(t*r)/r}function Z_(e){const t=v.useRef(e);return rb(()=>{t.current=e}),t}function Vie(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=v.useState(s);Wb(m,s)||h(s);const[x,p]=v.useState(null),[g,j]=v.useState(null),y=v.useCallback(M=>{M!==_.current&&(_.current=M,p(M))},[]),w=v.useCallback(M=>{M!==C.current&&(C.current=M,j(M))},[]),b=i||x,N=o||g,_=v.useRef(null),C=v.useRef(null),A=v.useRef(u),E=c!=null,k=Z_(c),O=Z_(a),I=Z_(d),W=v.useCallback(()=>{if(!_.current||!C.current)return;const M={placement:t,strategy:r,middleware:m};O.current&&(M.platform=O.current),Uie(_.current,C.current,M).then(D=>{const Y={...D,isPositioned:I.current!==!1};H.current&&!Wb(A.current,Y)&&(A.current=Y,ul.flushSync(()=>{f(Y)}))})},[m,t,r,O,I]);rb(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[d]);const H=v.useRef(!1);rb(()=>(H.current=!0,()=>{H.current=!1}),[]),rb(()=>{if(b&&(_.current=b),N&&(C.current=N),b&&N){if(k.current)return k.current(b,N,W);W()}},[b,N,W,k,E]);const F=v.useMemo(()=>({reference:_,floating:C,setReference:y,setFloating:w}),[y,w]),T=v.useMemo(()=>({reference:b,floating:N}),[b,N]),P=v.useMemo(()=>{const M={position:r,left:0,top:0};if(!T.floating)return M;const D=cI(T.floating,u.x),Y=cI(T.floating,u.y);return l?{...M,transform:"translate("+D+"px, "+Y+"px)",...q7(T.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:Y}},[r,l,T.floating,u.x,u.y]);return v.useMemo(()=>({...u,update:W,refs:F,elements:T,floatingStyles:P}),[u,W,F,T,P])}const zie=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?lI({element:s.current,padding:a}).fn(r):{}:s?lI({element:s,padding:a}).fn(r):{}}}},Wie=(e,t)=>({...Rie(e),options:[e,t]}),Hie=(e,t)=>({...Mie(e),options:[e,t]}),qie=(e,t)=>({...Bie(e),options:[e,t]}),Gie=(e,t)=>({...Fie(e),options:[e,t]}),Kie=(e,t)=>({...$ie(e),options:[e,t]}),Yie=(e,t)=>({...Lie(e),options:[e,t]}),Xie=(e,t)=>({...zie(e),options:[e,t]});var Qie="Arrow",G7=v.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...i}=e;return n.jsx(ft.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});G7.displayName=Qie;var Zie=G7;function Jie(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,eoe(a,...t)]}function eoe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function yN(e){const[t,r]=v.useState(void 0);return rs(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var Uk="Popper",[K7,Eu]=Jie(Uk),[toe,Y7]=K7(Uk),X7=e=>{const{__scopePopper:t,children:r}=e,[s,a]=v.useState(null);return n.jsx(toe,{scope:t,anchor:s,onAnchorChange:a,children:r})};X7.displayName=Uk;var Q7="PopperAnchor",Z7=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=Y7(Q7,r),o=v.useRef(null),l=Dt(t,o);return v.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:n.jsx(ft.div,{...a,ref:l})});Z7.displayName=Q7;var Vk="PopperContent",[roe,noe]=K7(Vk),J7=v.forwardRef((e,t)=>{var me,B,X,oe,Ne,ue;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:x,...p}=e,g=Y7(Vk,r),[j,y]=v.useState(null),w=Dt(t,ve=>y(ve)),[b,N]=v.useState(null),_=yN(b),C=(_==null?void 0:_.width)??0,A=(_==null?void 0:_.height)??0,E=s+(i!=="center"?"-"+i:""),k=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},O=Array.isArray(d)?d:[d],I=O.length>0,W={padding:k,boundary:O.filter(aoe),altBoundary:I},{refs:H,floatingStyles:F,placement:T,isPositioned:P,middlewareData:M}=Vie({strategy:"fixed",placement:E,whileElementsMounted:(...ve)=>Iie(...ve,{animationFrame:h==="always"}),elements:{reference:g.anchor},middleware:[Wie({mainAxis:a+A,alignmentAxis:o}),c&&Hie({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?qie():void 0,...W}),c&&Gie({...W}),Kie({...W,apply:({elements:ve,rects:xe,availableWidth:Ee,availableHeight:Me})=>{const{width:Te,height:se}=xe.reference,he=ve.floating.style;he.setProperty("--radix-popper-available-width",`${Ee}px`),he.setProperty("--radix-popper-available-height",`${Me}px`),he.setProperty("--radix-popper-anchor-width",`${Te}px`),he.setProperty("--radix-popper-anchor-height",`${se}px`)}}),b&&Xie({element:b,padding:l}),ioe({arrowWidth:C,arrowHeight:A}),m&&Yie({strategy:"referenceHidden",...W})]}),[D,Y]=rU(T),ae=pn(x);rs(()=>{P&&(ae==null||ae())},[P,ae]);const R=(me=M.arrow)==null?void 0:me.x,V=(B=M.arrow)==null?void 0:B.y,L=((X=M.arrow)==null?void 0:X.centerOffset)!==0,[K,le]=v.useState();return rs(()=>{j&&le(window.getComputedStyle(j).zIndex)},[j]),n.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:P?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(oe=M.transformOrigin)==null?void 0:oe.x,(Ne=M.transformOrigin)==null?void 0:Ne.y].join(" "),...((ue=M.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(roe,{scope:r,placedSide:D,onArrowChange:N,arrowX:R,arrowY:V,shouldHideArrow:L,children:n.jsx(ft.div,{"data-side":D,"data-align":Y,...p,ref:w,style:{...p.style,animation:P?void 0:"none"}})})})});J7.displayName=Vk;var eU="PopperArrow",soe={top:"bottom",right:"left",bottom:"top",left:"right"},tU=v.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=noe(eU,s),o=soe[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(Zie,{...a,ref:r,style:{...a.style,display:"block"}})})});tU.displayName=eU;function aoe(e){return e!==null}var ioe=e=>({name:"transformOrigin",options:e,fn(t){var g,j,y;const{placement:r,rects:s,middlewareData:a}=t,o=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=rU(r),f={start:"0%",center:"50%",end:"100%"}[u],m=(((j=a.arrow)==null?void 0:j.x)??0)+l/2,h=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let x="",p="";return d==="bottom"?(x=o?f:`${m}px`,p=`${-c}px`):d==="top"?(x=o?f:`${m}px`,p=`${s.floating.height+c}px`):d==="right"?(x=`${-c}px`,p=o?f:`${h}px`):d==="left"&&(x=`${s.floating.width+c}px`,p=o?f:`${h}px`),{data:{x,y:p}}}});function rU(e){const[t,r="center"]=e.split("-");return[t,r]}var jN=X7,Bv=Z7,bN=J7,wN=tU,[NN,Dnt]=Zs("Tooltip",[Eu]),_N=Eu(),nU="TooltipProvider",ooe=700,D4="tooltip.open",[loe,zk]=NN(nU),sU=e=>{const{__scopeTooltip:t,delayDuration:r=ooe,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,[o,l]=v.useState(!0),c=v.useRef(!1),d=v.useRef(0);return v.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),n.jsx(loe,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(u=>{c.current=u},[]),disableHoverableContent:a,children:i})};sU.displayName=nU;var SN="Tooltip",[coe,CN]=NN(SN),aU=e=>{const{__scopeTooltip:t,children:r,open:s,defaultOpen:a=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=zk(SN,e.__scopeTooltip),d=_N(t),[u,f]=v.useState(null),m=si(),h=v.useRef(0),x=o??c.disableHoverableContent,p=l??c.delayDuration,g=v.useRef(!1),[j=!1,y]=Oa({prop:s,defaultProp:a,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(D4))):c.onClose(),i==null||i(C)}}),w=v.useMemo(()=>j?g.current?"delayed-open":"instant-open":"closed",[j]),b=v.useCallback(()=>{window.clearTimeout(h.current),h.current=0,g.current=!1,y(!0)},[y]),N=v.useCallback(()=>{window.clearTimeout(h.current),h.current=0,y(!1)},[y]),_=v.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{g.current=!0,y(!0),h.current=0},p)},[p,y]);return v.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),n.jsx(jN,{...d,children:n.jsx(coe,{scope:t,contentId:m,open:j,stateAttribute:w,trigger:u,onTriggerChange:f,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayed?_():b()},[c.isOpenDelayed,_,b]),onTriggerLeave:v.useCallback(()=>{x?N():(window.clearTimeout(h.current),h.current=0)},[N,x]),onOpen:b,onClose:N,disableHoverableContent:x,children:r})})};aU.displayName=SN;var I4="TooltipTrigger",iU=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=CN(I4,r),i=zk(I4,r),o=_N(r),l=v.useRef(null),c=Dt(t,l,a.onTriggerChange),d=v.useRef(!1),u=v.useRef(!1),f=v.useCallback(()=>d.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),n.jsx(Bv,{asChild:!0,...o,children:n.jsx(ft.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:Ge(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ge(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:Ge(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ge(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:Ge(e.onBlur,a.onClose),onClick:Ge(e.onClick,a.onClose)})})});iU.displayName=I4;var doe="TooltipPortal",[Int,uoe]=NN(doe,{forceMount:void 0}),Yh="TooltipContent",oU=v.forwardRef((e,t)=>{const r=uoe(Yh,e.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...i}=e,o=CN(Yh,e.__scopeTooltip);return n.jsx(ns,{present:s||o.open,children:o.disableHoverableContent?n.jsx(lU,{side:a,...i,ref:t}):n.jsx(foe,{side:a,...i,ref:t})})}),foe=v.forwardRef((e,t)=>{const r=CN(Yh,e.__scopeTooltip),s=zk(Yh,e.__scopeTooltip),a=v.useRef(null),i=Dt(t,a),[o,l]=v.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:f}=s,m=v.useCallback(()=>{l(null),f(!1)},[f]),h=v.useCallback((x,p)=>{const g=x.currentTarget,j={x:x.clientX,y:x.clientY},y=xoe(j,g.getBoundingClientRect()),w=goe(j,y),b=voe(p.getBoundingClientRect()),N=joe([...w,...b]);l(N),f(!0)},[f]);return v.useEffect(()=>()=>m(),[m]),v.useEffect(()=>{if(c&&u){const x=g=>h(g,u),p=g=>h(g,c);return c.addEventListener("pointerleave",x),u.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",p)}}},[c,u,h,m]),v.useEffect(()=>{if(o){const x=p=>{const g=p.target,j={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(g))||(u==null?void 0:u.contains(g)),w=!yoe(j,o);y?m():w&&(m(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,u,o,d,m]),n.jsx(lU,{...e,ref:i})}),[moe,hoe]=NN(SN,{isInside:!1}),lU=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=CN(Yh,r),d=_N(r),{onClose:u}=c;return v.useEffect(()=>(document.addEventListener(D4,u),()=>document.removeEventListener(D4,u)),[u]),v.useEffect(()=>{if(c.trigger){const f=m=>{const h=m.target;h!=null&&h.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),n.jsx(im,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:n.jsxs(bN,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(Nk,{children:s}),n.jsx(moe,{scope:r,isInside:!0,children:n.jsx(Wne,{id:c.contentId,role:"tooltip",children:a||s})})]})})});oU.displayName=Yh;var cU="TooltipArrow",poe=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=_N(r);return hoe(cU,r).isInside?null:n.jsx(wN,{...a,...s,ref:t})});poe.displayName=cU;function xoe(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,s,a,i)){case i:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function goe(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function voe(e){const{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}function yoe(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>s!=u>s&&r<(d-l)*(s-c)/(u-c)+l&&(a=!a)}return a}function joe(e){const t=e.slice();return t.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),boe(t)}function boe(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var woe=sU,Noe=aU,_oe=iU,dU=oU;const uU=woe,Soe=Noe,Coe=_oe,fU=v.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(dU,{ref:s,sideOffset:t,className:ge("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));fU.displayName=dU.displayName;var Wp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Lf=typeof window>"u"||"Deno"in globalThis;function io(){}function Aoe(e,t){return typeof e=="function"?e(t):e}function R4(e){return typeof e=="number"&&e>=0&&e!==1/0}function mU(e,t){return Math.max(e+(t||0)-Date.now(),0)}function hh(e,t){return typeof e=="function"?e(t):e}function Ho(e,t){return typeof e=="function"?e(t):e}function dI(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==Wk(o,t.options))return!1}else if(!h0(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function uI(e,t){const{exact:r,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Bf(t.options.mutationKey)!==Bf(i))return!1}else if(!h0(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function Wk(e,t){return((t==null?void 0:t.queryKeyHashFn)||Bf)(e)}function Bf(e){return JSON.stringify(e,(t,r)=>M4(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function h0(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!h0(e[r],t[r])):!1}function hU(e,t){if(e===t)return e;const r=fI(e)&&fI(t);if(r||M4(e)&&M4(t)){const s=r?e:Object.keys(e),a=s.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d];(!r&&s.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=hU(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function Hb(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function fI(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function M4(e){if(!mI(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!mI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function mI(e){return Object.prototype.toString.call(e)==="[object Object]"}function Eoe(e){return new Promise(t=>{setTimeout(t,e)})}function F4(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?hU(e,t):t}function Poe(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function koe(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var Hk=Symbol();function pU(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Hk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var xf,Dd,Eh,w8,Toe=(w8=class extends Wp{constructor(){super();At(this,xf);At(this,Dd);At(this,Eh);mt(this,Eh,t=>{if(!Lf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){pe(this,Dd)||this.setEventListener(pe(this,Eh))}onUnsubscribe(){var t;this.hasListeners()||((t=pe(this,Dd))==null||t.call(this),mt(this,Dd,void 0))}setEventListener(t){var r;mt(this,Eh,t),(r=pe(this,Dd))==null||r.call(this),mt(this,Dd,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){pe(this,xf)!==t&&(mt(this,xf,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof pe(this,xf)=="boolean"?pe(this,xf):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},xf=new WeakMap,Dd=new WeakMap,Eh=new WeakMap,w8),qk=new Toe,Ph,Id,kh,N8,Ooe=(N8=class extends Wp{constructor(){super();At(this,Ph,!0);At(this,Id);At(this,kh);mt(this,kh,t=>{if(!Lf&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){pe(this,Id)||this.setEventListener(pe(this,kh))}onUnsubscribe(){var t;this.hasListeners()||((t=pe(this,Id))==null||t.call(this),mt(this,Id,void 0))}setEventListener(t){var r;mt(this,kh,t),(r=pe(this,Id))==null||r.call(this),mt(this,Id,t(this.setOnline.bind(this)))}setOnline(t){pe(this,Ph)!==t&&(mt(this,Ph,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return pe(this,Ph)}},Ph=new WeakMap,Id=new WeakMap,kh=new WeakMap,N8),qb=new Ooe;function $4(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},r.reject=a=>{s({status:"rejected",reason:a}),t(a)},r}function Doe(e){return Math.min(1e3*2**e,3e4)}function xU(e){return(e??"online")==="online"?qb.isOnline():!0}var gU=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function J_(e){return e instanceof gU}function vU(e){let t=!1,r=0,s=!1,a;const i=$4(),o=p=>{var g;s||(m(new gU(p)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>qk.isFocused()&&(e.networkMode==="always"||qb.isOnline())&&e.canRun(),u=()=>xU(e.networkMode)&&e.canRun(),f=p=>{var g;s||(s=!0,(g=e.onSuccess)==null||g.call(e,p),a==null||a(),i.resolve(p))},m=p=>{var g;s||(s=!0,(g=e.onError)==null||g.call(e,p),a==null||a(),i.reject(p))},h=()=>new Promise(p=>{var g;a=j=>{(s||d())&&p(j)},(g=e.onPause)==null||g.call(e)}).then(()=>{var p;a=void 0,s||(p=e.onContinue)==null||p.call(e)}),x=()=>{if(s)return;let p;const g=r===0?e.initialPromise:void 0;try{p=g??e.fn()}catch(j){p=Promise.reject(j)}Promise.resolve(p).then(f).catch(j=>{var _;if(s)return;const y=e.retry??(Lf?0:3),w=e.retryDelay??Doe,b=typeof w=="function"?w(r,j):w,N=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,j);if(t||!N){m(j);return}r++,(_=e.onFail)==null||_.call(e,r,j),Eoe(b).then(()=>d()?void 0:h()).then(()=>{t?m(j):x()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?x():h().then(x),i)}}function Ioe(){let e=[],t=0,r=l=>{l()},s=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var ms=Ioe(),gf,_8,yU=(_8=class{constructor(){At(this,gf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),R4(this.gcTime)&&mt(this,gf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Lf?1/0:5*60*1e3))}clearGcTimeout(){pe(this,gf)&&(clearTimeout(pe(this,gf)),mt(this,gf,void 0))}},gf=new WeakMap,_8),Th,Oh,ao,ra,Nv,vf,Lo,pc,S8,Roe=(S8=class extends yU{constructor(t){super();At(this,Lo);At(this,Th);At(this,Oh);At(this,ao);At(this,ra);At(this,Nv);At(this,vf);mt(this,vf,!1),mt(this,Nv,t.defaultOptions),this.setOptions(t.options),this.observers=[],mt(this,ao,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,mt(this,Th,Moe(this.options)),this.state=t.state??pe(this,Th),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=pe(this,ra))==null?void 0:t.promise}setOptions(t){this.options={...pe(this,Nv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&pe(this,ao).remove(this)}setData(t,r){const s=F4(this.state.data,t,this.options);return Xt(this,Lo,pc).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){Xt(this,Lo,pc).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=pe(this,ra))==null?void 0:s.promise;return(a=pe(this,ra))==null||a.cancel(t),r?r.then(io).catch(io):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(pe(this,Th))}isActive(){return this.observers.some(t=>Ho(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Hk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!mU(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=pe(this,ra))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=pe(this,ra))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),pe(this,ao).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(pe(this,ra)&&(pe(this,vf)?pe(this,ra).cancel({revert:!0}):pe(this,ra).cancelRetry()),this.scheduleGc()),pe(this,ao).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xt(this,Lo,pc).call(this,{type:"invalidate"})}fetch(t,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(pe(this,ra))return pe(this,ra).continueRetry(),pe(this,ra).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(mt(this,vf,!0),s.signal)})},i=()=>{const f=pU(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return a(m),mt(this,vf,!1),this.options.persister?this.options.persister(f,m,this):f(m)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),mt(this,Oh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Xt(this,Lo,pc).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=f=>{var m,h,x,p;J_(f)&&f.silent||Xt(this,Lo,pc).call(this,{type:"error",error:f}),J_(f)||((h=(m=pe(this,ao).config).onError)==null||h.call(m,f,this),(p=(x=pe(this,ao).config).onSettled)==null||p.call(x,this.state.data,f,this)),this.scheduleGc()};return mt(this,ra,vU({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var m,h,x,p;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(g){l(g);return}(h=(m=pe(this,ao).config).onSuccess)==null||h.call(m,f,this),(p=(x=pe(this,ao).config).onSettled)==null||p.call(x,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{Xt(this,Lo,pc).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Xt(this,Lo,pc).call(this,{type:"pause"})},onContinue:()=>{Xt(this,Lo,pc).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),pe(this,ra).start()}},Th=new WeakMap,Oh=new WeakMap,ao=new WeakMap,ra=new WeakMap,Nv=new WeakMap,vf=new WeakMap,Lo=new WeakSet,pc=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...jU(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return J_(a)&&a.revert&&pe(this,Oh)?{...pe(this,Oh),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),ms.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),pe(this,ao).notify({query:this,type:"updated",action:t})})},S8);function jU(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xU(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Moe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Tl,C8,Foe=(C8=class extends Wp{constructor(t={}){super();At(this,Tl);this.config=t,mt(this,Tl,new Map)}build(t,r,s){const a=r.queryKey,i=r.queryHash??Wk(a,r);let o=this.get(i);return o||(o=new Roe({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){pe(this,Tl).has(t.queryHash)||(pe(this,Tl).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=pe(this,Tl).get(t.queryHash);r&&(t.destroy(),r===t&&pe(this,Tl).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ms.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return pe(this,Tl).get(t)}getAll(){return[...pe(this,Tl).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>dI(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>dI(t,s)):r}notify(t){ms.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ms.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ms.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Tl=new WeakMap,C8),Ol,va,yf,Dl,wd,A8,$oe=(A8=class extends yU{constructor(t){super();At(this,Dl);At(this,Ol);At(this,va);At(this,yf);this.mutationId=t.mutationId,mt(this,va,t.mutationCache),mt(this,Ol,[]),this.state=t.state||bU(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){pe(this,Ol).includes(t)||(pe(this,Ol).push(t),this.clearGcTimeout(),pe(this,va).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){mt(this,Ol,pe(this,Ol).filter(r=>r!==t)),this.scheduleGc(),pe(this,va).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){pe(this,Ol).length||(this.state.status==="pending"?this.scheduleGc():pe(this,va).remove(this))}continue(){var t;return((t=pe(this,yf))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,d,u,f,m,h,x,p,g,j,y,w,b,N,_,C;mt(this,yf,vU({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,E)=>{Xt(this,Dl,wd).call(this,{type:"failed",failureCount:A,error:E})},onPause:()=>{Xt(this,Dl,wd).call(this,{type:"pause"})},onContinue:()=>{Xt(this,Dl,wd).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>pe(this,va).canRun(this)}));const r=this.state.status==="pending",s=!pe(this,yf).canStart();try{if(!r){Xt(this,Dl,wd).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(a=pe(this,va).config).onMutate)==null?void 0:i.call(a,t,this));const E=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));E!==this.state.context&&Xt(this,Dl,wd).call(this,{type:"pending",context:E,variables:t,isPaused:s})}const A=await pe(this,yf).start();return await((d=(c=pe(this,va).config).onSuccess)==null?void 0:d.call(c,A,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,A,t,this.state.context)),await((h=(m=pe(this,va).config).onSettled)==null?void 0:h.call(m,A,null,this.state.variables,this.state.context,this)),await((p=(x=this.options).onSettled)==null?void 0:p.call(x,A,null,t,this.state.context)),Xt(this,Dl,wd).call(this,{type:"success",data:A}),A}catch(A){try{throw await((j=(g=pe(this,va).config).onError)==null?void 0:j.call(g,A,t,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,A,t,this.state.context)),await((N=(b=pe(this,va).config).onSettled)==null?void 0:N.call(b,void 0,A,this.state.variables,this.state.context,this)),await((C=(_=this.options).onSettled)==null?void 0:C.call(_,void 0,A,t,this.state.context)),A}finally{Xt(this,Dl,wd).call(this,{type:"error",error:A})}}finally{pe(this,va).runNext(this)}}},Ol=new WeakMap,va=new WeakMap,yf=new WeakMap,Dl=new WeakSet,wd=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ms.batch(()=>{pe(this,Ol).forEach(s=>{s.onMutationUpdate(t)}),pe(this,va).notify({mutation:this,type:"updated",action:t})})},A8);function bU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ji,_v,E8,Loe=(E8=class extends Wp{constructor(t={}){super();At(this,ji);At(this,_v);this.config=t,mt(this,ji,new Map),mt(this,_v,Date.now())}build(t,r,s){const a=new $oe({mutationCache:this,mutationId:++Ty(this,_v)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){const r=ej(t),s=pe(this,ji).get(r)??[];s.push(t),pe(this,ji).set(r,s),this.notify({type:"added",mutation:t})}remove(t){var s;const r=ej(t);if(pe(this,ji).has(r)){const a=(s=pe(this,ji).get(r))==null?void 0:s.filter(i=>i!==t);a&&(a.length===0?pe(this,ji).delete(r):pe(this,ji).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const r=(s=pe(this,ji).get(ej(t)))==null?void 0:s.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var s;const r=(s=pe(this,ji).get(ej(t)))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ms.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...pe(this,ji).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(s=>uI(r,s))}findAll(t={}){return this.getAll().filter(r=>uI(t,r))}notify(t){ms.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ms.batch(()=>Promise.all(t.map(r=>r.continue().catch(io))))}},ji=new WeakMap,_v=new WeakMap,E8);function ej(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function hI(e){return{onFetch:(t,r)=>{var u,f,m,h,x;const s=t.options,a=(m=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((h=t.state.data)==null?void 0:h.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},j=pU(t.options,t.fetchOptions),y=async(w,b,N)=>{if(p)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const _={queryKey:t.queryKey,pageParam:b,direction:N?"backward":"forward",meta:t.options.meta};g(_);const C=await j(_),{maxPages:A}=t.options,E=N?koe:Poe;return{pages:E(w.pages,C,A),pageParams:E(w.pageParams,b,A)}};if(a&&i.length){const w=a==="backward",b=w?Boe:pI,N={pages:i,pageParams:o},_=b(s,N);l=await y(N,_,w)}else{const w=e??i.length;do{const b=c===0?o[0]??s.initialPageParam:pI(s,l);if(c>0&&b==null)break;l=await y(l,b),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,g;return(g=(p=t.options).persister)==null?void 0:g.call(p,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function pI(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function Boe(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var kn,Rd,Md,Dh,Ih,Fd,Rh,Mh,P8,Uoe=(P8=class{constructor(e={}){At(this,kn);At(this,Rd);At(this,Md);At(this,Dh);At(this,Ih);At(this,Fd);At(this,Rh);At(this,Mh);mt(this,kn,e.queryCache||new Foe),mt(this,Rd,e.mutationCache||new Loe),mt(this,Md,e.defaultOptions||{}),mt(this,Dh,new Map),mt(this,Ih,new Map),mt(this,Fd,0)}mount(){Ty(this,Fd)._++,pe(this,Fd)===1&&(mt(this,Rh,qk.subscribe(async e=>{e&&(await this.resumePausedMutations(),pe(this,kn).onFocus())})),mt(this,Mh,qb.subscribe(async e=>{e&&(await this.resumePausedMutations(),pe(this,kn).onOnline())})))}unmount(){var e,t;Ty(this,Fd)._--,pe(this,Fd)===0&&((e=pe(this,Rh))==null||e.call(this),mt(this,Rh,void 0),(t=pe(this,Mh))==null||t.call(this),mt(this,Mh,void 0))}isFetching(e){return pe(this,kn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return pe(this,Rd).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=pe(this,kn).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),s=pe(this,kn).build(this,r);return e.revalidateIfStale&&s.isStaleByTime(hh(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return pe(this,kn).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=pe(this,kn).get(s.queryHash),i=a==null?void 0:a.state.data,o=Aoe(t,i);if(o!==void 0)return pe(this,kn).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ms.batch(()=>pe(this,kn).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=pe(this,kn).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=pe(this,kn);ms.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=pe(this,kn),s={type:"active",...e};return ms.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},s=ms.batch(()=>pe(this,kn).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(io).catch(io)}invalidateQueries(e={},t={}){return ms.batch(()=>{if(pe(this,kn).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=ms.batch(()=>pe(this,kn).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(io)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(io)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=pe(this,kn).build(this,t);return r.isStaleByTime(hh(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(io).catch(io)}fetchInfiniteQuery(e){return e.behavior=hI(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(io).catch(io)}ensureInfiniteQueryData(e){return e.behavior=hI(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return qb.isOnline()?pe(this,Rd).resumePausedMutations():Promise.resolve()}getQueryCache(){return pe(this,kn)}getMutationCache(){return pe(this,Rd)}getDefaultOptions(){return pe(this,Md)}setDefaultOptions(e){mt(this,Md,e)}setQueryDefaults(e,t){pe(this,Dh).set(Bf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...pe(this,Dh).values()];let r={};return t.forEach(s=>{h0(e,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(e,t){pe(this,Ih).set(Bf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...pe(this,Ih).values()];let r={};return t.forEach(s=>{h0(e,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...pe(this,Md).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Wk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Hk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...pe(this,Md).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){pe(this,kn).clear(),pe(this,Rd).clear()}},kn=new WeakMap,Rd=new WeakMap,Md=new WeakMap,Dh=new WeakMap,Ih=new WeakMap,Fd=new WeakMap,Rh=new WeakMap,Mh=new WeakMap,P8),za,ar,Sv,ya,jf,Fh,$d,Il,Cv,$h,Lh,bf,wf,Ld,Bh,Cr,ig,L4,B4,U4,V4,z4,W4,H4,wU,k8,Voe=(k8=class extends Wp{constructor(t,r){super();At(this,Cr);At(this,za);At(this,ar);At(this,Sv);At(this,ya);At(this,jf);At(this,Fh);At(this,$d);At(this,Il);At(this,Cv);At(this,$h);At(this,Lh);At(this,bf);At(this,wf);At(this,Ld);At(this,Bh,new Set);this.options=r,mt(this,za,t),mt(this,Il,null),mt(this,$d,$4()),this.options.experimental_prefetchInRender||pe(this,$d).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(pe(this,ar).addObserver(this),xI(pe(this,ar),this.options)?Xt(this,Cr,ig).call(this):this.updateResult(),Xt(this,Cr,V4).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return q4(pe(this,ar),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return q4(pe(this,ar),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Xt(this,Cr,z4).call(this),Xt(this,Cr,W4).call(this),pe(this,ar).removeObserver(this)}setOptions(t,r){const s=this.options,a=pe(this,ar);if(this.options=pe(this,za).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ho(this.options.enabled,pe(this,ar))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Xt(this,Cr,H4).call(this),pe(this,ar).setOptions(this.options),s._defaulted&&!Hb(this.options,s)&&pe(this,za).getQueryCache().notify({type:"observerOptionsUpdated",query:pe(this,ar),observer:this});const i=this.hasListeners();i&&gI(pe(this,ar),a,this.options,s)&&Xt(this,Cr,ig).call(this),this.updateResult(r),i&&(pe(this,ar)!==a||Ho(this.options.enabled,pe(this,ar))!==Ho(s.enabled,pe(this,ar))||hh(this.options.staleTime,pe(this,ar))!==hh(s.staleTime,pe(this,ar)))&&Xt(this,Cr,L4).call(this);const o=Xt(this,Cr,B4).call(this);i&&(pe(this,ar)!==a||Ho(this.options.enabled,pe(this,ar))!==Ho(s.enabled,pe(this,ar))||o!==pe(this,Ld))&&Xt(this,Cr,U4).call(this,o)}getOptimisticResult(t){const r=pe(this,za).getQueryCache().build(pe(this,za),t),s=this.createResult(r,t);return Woe(this,s)&&(mt(this,ya,s),mt(this,Fh,this.options),mt(this,jf,pe(this,ar).state)),s}getCurrentResult(){return pe(this,ya)}trackResult(t,r){const s={};return Object.keys(t).forEach(a=>{Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),s}trackProp(t){pe(this,Bh).add(t)}getCurrentQuery(){return pe(this,ar)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=pe(this,za).defaultQueryOptions(t),s=pe(this,za).getQueryCache().build(pe(this,za),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return Xt(this,Cr,ig).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),pe(this,ya)))}createResult(t,r){var A;const s=pe(this,ar),a=this.options,i=pe(this,ya),o=pe(this,jf),l=pe(this,Fh),d=t!==s?t.state:pe(this,Sv),{state:u}=t;let f={...u},m=!1,h;if(r._optimisticResults){const E=this.hasListeners(),k=!E&&xI(t,r),O=E&&gI(t,s,r,a);(k||O)&&(f={...f,...jU(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:p,status:g}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&r.select===pe(this,Cv))h=pe(this,$h);else try{mt(this,Cv,r.select),h=r.select(f.data),h=F4(i==null?void 0:i.data,h,r),mt(this,$h,h),mt(this,Il,null)}catch(E){mt(this,Il,E)}else h=f.data;if(r.placeholderData!==void 0&&h===void 0&&g==="pending"){let E;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))E=i.data;else if(E=typeof r.placeholderData=="function"?r.placeholderData((A=pe(this,Lh))==null?void 0:A.state.data,pe(this,Lh)):r.placeholderData,r.select&&E!==void 0)try{E=r.select(E),mt(this,Il,null)}catch(k){mt(this,Il,k)}E!==void 0&&(g="success",h=F4(i==null?void 0:i.data,E,r),m=!0)}pe(this,Il)&&(x=pe(this,Il),h=pe(this,$h),p=Date.now(),g="error");const j=f.fetchStatus==="fetching",y=g==="pending",w=g==="error",b=y&&j,N=h!==void 0,C={status:g,fetchStatus:f.fetchStatus,isPending:y,isSuccess:g==="success",isError:w,isInitialLoading:b,isLoading:b,data:h,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:j,isRefetching:j&&!y,isLoadingError:w&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:w&&N,isStale:Gk(t,r),refetch:this.refetch,promise:pe(this,$d)};if(this.options.experimental_prefetchInRender){const E=I=>{C.status==="error"?I.reject(C.error):C.data!==void 0&&I.resolve(C.data)},k=()=>{const I=mt(this,$d,C.promise=$4());E(I)},O=pe(this,$d);switch(O.status){case"pending":t.queryHash===s.queryHash&&E(O);break;case"fulfilled":(C.status==="error"||C.data!==O.value)&&k();break;case"rejected":(C.status!=="error"||C.error!==O.reason)&&k();break}}return C}updateResult(t){const r=pe(this,ya),s=this.createResult(pe(this,ar),this.options);if(mt(this,jf,pe(this,ar).state),mt(this,Fh,this.options),pe(this,jf).data!==void 0&&mt(this,Lh,pe(this,ar)),Hb(s,r))return;mt(this,ya,s);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!pe(this,Bh).size)return!0;const c=new Set(l??pe(this,Bh));return this.options.throwOnError&&c.add("error"),Object.keys(pe(this,ya)).some(d=>{const u=d;return pe(this,ya)[u]!==r[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),Xt(this,Cr,wU).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Xt(this,Cr,V4).call(this)}},za=new WeakMap,ar=new WeakMap,Sv=new WeakMap,ya=new WeakMap,jf=new WeakMap,Fh=new WeakMap,$d=new WeakMap,Il=new WeakMap,Cv=new WeakMap,$h=new WeakMap,Lh=new WeakMap,bf=new WeakMap,wf=new WeakMap,Ld=new WeakMap,Bh=new WeakMap,Cr=new WeakSet,ig=function(t){Xt(this,Cr,H4).call(this);let r=pe(this,ar).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(io)),r},L4=function(){Xt(this,Cr,z4).call(this);const t=hh(this.options.staleTime,pe(this,ar));if(Lf||pe(this,ya).isStale||!R4(t))return;const s=mU(pe(this,ya).dataUpdatedAt,t)+1;mt(this,bf,setTimeout(()=>{pe(this,ya).isStale||this.updateResult()},s))},B4=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(pe(this,ar)):this.options.refetchInterval)??!1},U4=function(t){Xt(this,Cr,W4).call(this),mt(this,Ld,t),!(Lf||Ho(this.options.enabled,pe(this,ar))===!1||!R4(pe(this,Ld))||pe(this,Ld)===0)&&mt(this,wf,setInterval(()=>{(this.options.refetchIntervalInBackground||qk.isFocused())&&Xt(this,Cr,ig).call(this)},pe(this,Ld)))},V4=function(){Xt(this,Cr,L4).call(this),Xt(this,Cr,U4).call(this,Xt(this,Cr,B4).call(this))},z4=function(){pe(this,bf)&&(clearTimeout(pe(this,bf)),mt(this,bf,void 0))},W4=function(){pe(this,wf)&&(clearInterval(pe(this,wf)),mt(this,wf,void 0))},H4=function(){const t=pe(this,za).getQueryCache().build(pe(this,za),this.options);if(t===pe(this,ar))return;const r=pe(this,ar);mt(this,ar,t),mt(this,Sv,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},wU=function(t){ms.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(pe(this,ya))}),pe(this,za).getQueryCache().notify({query:pe(this,ar),type:"observerResultsUpdated"})})},k8);function zoe(e,t){return Ho(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function xI(e,t){return zoe(e,t)||e.state.data!==void 0&&q4(e,t,t.refetchOnMount)}function q4(e,t,r){if(Ho(t.enabled,e)!==!1){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&Gk(e,t)}return!1}function gI(e,t,r,s){return(e!==t||Ho(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Gk(e,r)}function Gk(e,t){return Ho(t.enabled,e)!==!1&&e.isStaleByTime(hh(t.staleTime,e))}function Woe(e,t){return!Hb(e.getCurrentResult(),t)}var Bd,Ud,Wa,Nc,Uc,nb,G4,T8,Hoe=(T8=class extends Wp{constructor(r,s){super();At(this,Uc);At(this,Bd);At(this,Ud);At(this,Wa);At(this,Nc);mt(this,Bd,r),this.setOptions(s),this.bindMethods(),Xt(this,Uc,nb).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const s=this.options;this.options=pe(this,Bd).defaultMutationOptions(r),Hb(this.options,s)||pe(this,Bd).getMutationCache().notify({type:"observerOptionsUpdated",mutation:pe(this,Wa),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Bf(s.mutationKey)!==Bf(this.options.mutationKey)?this.reset():((a=pe(this,Wa))==null?void 0:a.state.status)==="pending"&&pe(this,Wa).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=pe(this,Wa))==null||r.removeObserver(this)}onMutationUpdate(r){Xt(this,Uc,nb).call(this),Xt(this,Uc,G4).call(this,r)}getCurrentResult(){return pe(this,Ud)}reset(){var r;(r=pe(this,Wa))==null||r.removeObserver(this),mt(this,Wa,void 0),Xt(this,Uc,nb).call(this),Xt(this,Uc,G4).call(this)}mutate(r,s){var a;return mt(this,Nc,s),(a=pe(this,Wa))==null||a.removeObserver(this),mt(this,Wa,pe(this,Bd).getMutationCache().build(pe(this,Bd),this.options)),pe(this,Wa).addObserver(this),pe(this,Wa).execute(r)}},Bd=new WeakMap,Ud=new WeakMap,Wa=new WeakMap,Nc=new WeakMap,Uc=new WeakSet,nb=function(){var s;const r=((s=pe(this,Wa))==null?void 0:s.state)??bU();mt(this,Ud,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},G4=function(r){ms.batch(()=>{var s,a,i,o,l,c,d,u;if(pe(this,Nc)&&this.hasListeners()){const f=pe(this,Ud).variables,m=pe(this,Ud).context;(r==null?void 0:r.type)==="success"?((a=(s=pe(this,Nc)).onSuccess)==null||a.call(s,r.data,f,m),(o=(i=pe(this,Nc)).onSettled)==null||o.call(i,r.data,null,f,m)):(r==null?void 0:r.type)==="error"&&((c=(l=pe(this,Nc)).onError)==null||c.call(l,r.error,f,m),(u=(d=pe(this,Nc)).onSettled)==null||u.call(d,void 0,r.error,f,m))}this.listeners.forEach(f=>{f(pe(this,Ud))})})},T8),NU=v.createContext(void 0),qr=e=>{const t=v.useContext(NU);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},qoe=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(NU.Provider,{value:e,children:t})),_U=v.createContext(!1),Goe=()=>v.useContext(_U);_U.Provider;function Koe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Yoe=v.createContext(Koe()),Xoe=()=>v.useContext(Yoe);function SU(e,t){return typeof e=="function"?e(...t):!!e}function CU(){}var Qoe=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Zoe=e=>{v.useEffect(()=>{e.clearReset()},[e])},Joe=({result:e,errorResetBoundary:t,throwOnError:r,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&SU(r,[e.error,s]),ele=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},tle=(e,t)=>e.isLoading&&e.isFetching&&!t,rle=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,vI=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function nle(e,t,r){var u,f,m,h,x;const s=qr(),a=Goe(),i=Xoe(),o=s.defaultQueryOptions(e);(f=(u=s.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||f.call(u,o),o._optimisticResults=a?"isRestoring":"optimistic",ele(o),Qoe(o,i),Zoe(i);const l=!s.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new t(s,o)),d=c.getOptimisticResult(o);if(v.useSyncExternalStore(v.useCallback(p=>{const g=a?()=>{}:c.subscribe(ms.batchCalls(p));return c.updateResult(),g},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),rle(o,d))throw vI(o,c,i);if(Joe({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash)}))throw d.error;if((h=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||h.call(m,o,d),o.experimental_prefetchInRender&&!Lf&&tle(d,a)){const p=l?vI(o,c,i):(x=s.getQueryCache().get(o.queryHash))==null?void 0:x.promise;p==null||p.catch(CU).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function ws(e,t){return nle(e,Voe)}function un(e,t){const r=qr(),[s]=v.useState(()=>new Hoe(r,e));v.useEffect(()=>{s.setOptions(e)},[s,e]);const a=v.useSyncExternalStore(v.useCallback(o=>s.subscribe(ms.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=v.useCallback((o,l)=>{s.mutate(o,l).catch(CU)},[s]);if(a.error&&SU(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},p0.apply(this,arguments)}var Wd;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wd||(Wd={}));const yI="popstate";function sle(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return K4("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:Gb(a)}return ile(t,r,null,e)}function Kn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function AU(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ale(){return Math.random().toString(36).substr(2,8)}function jI(e,t){return{usr:e.state,key:e.key,idx:t}}function K4(e,t,r,s){return r===void 0&&(r=null),p0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Hp(t):t,{state:r,key:t&&t.key||s||ale()})}function Gb(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Hp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function ile(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=Wd.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(p0({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=Wd.Pop;let g=u(),j=g==null?null:g-d;d=g,c&&c({action:l,location:p.location,delta:j})}function m(g,j){l=Wd.Push;let y=K4(p.location,g,j);d=u()+1;let w=jI(y,d),b=p.createHref(y);try{o.pushState(w,"",b)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(b)}i&&c&&c({action:l,location:p.location,delta:1})}function h(g,j){l=Wd.Replace;let y=K4(p.location,g,j);d=u();let w=jI(y,d),b=p.createHref(y);o.replaceState(w,"",b),i&&c&&c({action:l,location:p.location,delta:0})}function x(g){let j=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof g=="string"?g:Gb(g);return y=y.replace(/ $/,"%20"),Kn(j,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,j)}let p={get action(){return l},get location(){return e(a,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(yI,f),c=g,()=>{a.removeEventListener(yI,f),c=null}},createHref(g){return t(a,g)},createURL:x,encodeLocation(g){let j=x(g);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:m,replace:h,go(g){return o.go(g)}};return p}var bI;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(bI||(bI={}));function ole(e,t,r){return r===void 0&&(r="/"),lle(e,t,r,!1)}function lle(e,t,r,s){let a=typeof t=="string"?Hp(t):t,i=Kk(a.pathname||"/",r);if(i==null)return null;let o=EU(e);cle(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=jle(i);l=vle(o[c],d,s)}return l}function EU(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Kn(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=au([s,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Kn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),EU(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:xle(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of PU(i.path))a(i,o,c)}),t}function PU(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=PU(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function cle(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:gle(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const dle=/^:[\w-]+$/,ule=3,fle=2,mle=1,hle=10,ple=-2,wI=e=>e==="*";function xle(e,t){let r=e.split("/"),s=r.length;return r.some(wI)&&(s+=ple),t&&(s+=fle),r.filter(a=>!wI(a)).reduce((a,i)=>a+(dle.test(i)?ule:i===""?mle:hle),s)}function gle(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function vle(e,t,r){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=NI({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!f&&d&&r&&!s[s.length-1].route.index&&(f=NI({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:au([i,f.pathname]),pathnameBase:_le(au([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=au([i,f.pathnameBase]))}return o}function NI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=yle(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,u,f)=>{let{paramName:m,isOptional:h}=u;if(m==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const x=l[f];return h&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function yle(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),AU(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function jle(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return AU(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Kk(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function ble(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?Hp(e):e;return{pathname:r?r.startsWith("/")?r:wle(r,t):t,search:Sle(s),hash:Cle(a)}}function wle(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function eS(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Nle(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Yk(e,t){let r=Nle(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Xk(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Hp(e):(a=p0({},e),Kn(!a.pathname||!a.pathname.includes("?"),eS("?","pathname","search",a)),Kn(!a.pathname||!a.pathname.includes("#"),eS("#","pathname","hash",a)),Kn(!a.search||!a.search.includes("#"),eS("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=ble(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const au=e=>e.join("/").replace(/\/\/+/g,"/"),_le=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Sle=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Cle=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ale(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const kU=["post","put","patch","delete"];new Set(kU);const Ele=["get",...kU];new Set(Ele);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},x0.apply(this,arguments)}const Qk=v.createContext(null),Ple=v.createContext(null),Pu=v.createContext(null),AN=v.createContext(null),od=v.createContext({outlet:null,matches:[],isDataRoute:!1}),TU=v.createContext(null);function kle(e,t){let{relative:r}=t===void 0?{}:t;qp()||Kn(!1);let{basename:s,navigator:a}=v.useContext(Pu),{hash:i,pathname:o,search:l}=DU(e,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:au([s,o])),a.createHref({pathname:c,search:l,hash:i})}function qp(){return v.useContext(AN)!=null}function nc(){return qp()||Kn(!1),v.useContext(AN).location}function OU(e){v.useContext(Pu).static||v.useLayoutEffect(e)}function dr(){let{isDataRoute:e}=v.useContext(od);return e?zle():Tle()}function Tle(){qp()||Kn(!1);let e=v.useContext(Qk),{basename:t,future:r,navigator:s}=v.useContext(Pu),{matches:a}=v.useContext(od),{pathname:i}=nc(),o=JSON.stringify(Yk(a,r.v7_relativeSplatPath)),l=v.useRef(!1);return OU(()=>{l.current=!0}),v.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let f=Xk(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:au([t,f.pathname])),(u.replace?s.replace:s.push)(f,u.state,u)},[t,s,o,i,e])}function Ki(){let{matches:e}=v.useContext(od),t=e[e.length-1];return t?t.params:{}}function DU(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=v.useContext(Pu),{matches:a}=v.useContext(od),{pathname:i}=nc(),o=JSON.stringify(Yk(a,s.v7_relativeSplatPath));return v.useMemo(()=>Xk(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Ole(e,t){return Dle(e,t)}function Dle(e,t,r,s){qp()||Kn(!1);let{navigator:a}=v.useContext(Pu),{matches:i}=v.useContext(od),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=nc(),u;if(t){var f;let g=typeof t=="string"?Hp(t):t;c==="/"||(f=g.pathname)!=null&&f.startsWith(c)||Kn(!1),u=g}else u=d;let m=u.pathname||"/",h=m;if(c!=="/"){let g=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=ole(e,{pathname:h}),p=$le(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:au([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:au([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,s);return t&&p?v.createElement(AN.Provider,{value:{location:x0({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Wd.Pop}},p):p}function Ile(){let e=Vle(),t=Ale(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:a},r):null,null)}const Rle=v.createElement(Ile,null);class Mle extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(od.Provider,{value:this.props.routeContext},v.createElement(TU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fle(e){let{routeContext:t,match:r,children:s}=e,a=v.useContext(Qk);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(od.Provider,{value:t},s)}function $le(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||Kn(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:m,errors:h}=r,x=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,m)=>{let h,x=!1,p=null,g=null;r&&(h=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||Rle,c&&(d<0&&m===0?(x=!0,g=null):d===m&&(x=!0,g=f.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,m+1)),y=()=>{let w;return h?w=p:x?w=g:f.route.Component?w=v.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,v.createElement(Fle,{match:f,routeContext:{outlet:u,matches:j,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?v.createElement(Mle,{location:r.location,revalidation:r.revalidation,component:p,error:h,children:y(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):y()},null)}var IU=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(IU||{}),Kb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Kb||{});function Lle(e){let t=v.useContext(Qk);return t||Kn(!1),t}function Ble(e){let t=v.useContext(Ple);return t||Kn(!1),t}function Ule(e){let t=v.useContext(od);return t||Kn(!1),t}function RU(e){let t=Ule(),r=t.matches[t.matches.length-1];return r.route.id||Kn(!1),r.route.id}function Vle(){var e;let t=v.useContext(TU),r=Ble(Kb.UseRouteError),s=RU(Kb.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function zle(){let{router:e}=Lle(IU.UseNavigateStable),t=RU(Kb.UseNavigateStable),r=v.useRef(!1);return OU(()=>{r.current=!0}),v.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,x0({fromRouteId:t},i)))},[e,t])}function MU(e){let{to:t,replace:r,state:s,relative:a}=e;qp()||Kn(!1);let{future:i,static:o}=v.useContext(Pu),{matches:l}=v.useContext(od),{pathname:c}=nc(),d=dr(),u=Xk(t,Yk(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(u);return v.useEffect(()=>d(JSON.parse(f),{replace:r,state:s,relative:a}),[d,f,a,r,s]),null}function Qt(e){Kn(!1)}function Wle(e){let{basename:t="/",children:r=null,location:s,navigationType:a=Wd.Pop,navigator:i,static:o=!1,future:l}=e;qp()&&Kn(!1);let c=t.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:c,navigator:i,static:o,future:x0({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=Hp(s));let{pathname:u="/",search:f="",hash:m="",state:h=null,key:x="default"}=s,p=v.useMemo(()=>{let g=Kk(u,c);return g==null?null:{location:{pathname:g,search:f,hash:m,state:h,key:x},navigationType:a}},[c,u,f,m,h,x,a]);return p==null?null:v.createElement(Pu.Provider,{value:d},v.createElement(AN.Provider,{children:r,value:p}))}function Hle(e){let{children:t,location:r}=e;return Ole(Y4(t),r)}new Promise(()=>{});function Y4(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(s,a)=>{if(!v.isValidElement(s))return;let i=[...t,a];if(s.type===v.Fragment){r.push.apply(r,Y4(s.props.children,i));return}s.type!==Qt&&Kn(!1),!s.props.index||!s.props.children||Kn(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Y4(s.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function X4(){return X4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},X4.apply(this,arguments)}function qle(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Gle(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Kle(e,t){return e.button===0&&(!t||t==="_self")&&!Gle(e)}function Q4(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(a=>[r,a]):[[r,s]])},[]))}function Yle(e,t){let r=Q4(e);return t&&t.forEach((s,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Xle=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Qle="6";try{window.__reactRouterVersion=Qle}catch{}const Zle="startTransition",_I=OP[Zle];function Jle(e){let{basename:t,children:r,future:s,window:a}=e,i=v.useRef();i.current==null&&(i.current=sle({window:a,v5Compat:!0}));let o=i.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=v.useCallback(f=>{d&&_I?_I(()=>c(f)):c(f)},[c,d]);return v.useLayoutEffect(()=>o.listen(u),[o,u]),v.createElement(Wle,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:s})}const ece=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vi=v.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,m=qle(t,Xle),{basename:h}=v.useContext(Pu),x,p=!1;if(typeof d=="string"&&tce.test(d)&&(x=d,ece))try{let w=new URL(window.location.href),b=d.startsWith("//")?new URL(w.protocol+d):new URL(d),N=Kk(b.pathname,h);b.origin===w.origin&&N!=null?d=N+b.search+b.hash:p=!0}catch{}let g=kle(d,{relative:a}),j=rce(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function y(w){s&&s(w),w.defaultPrevented||j(w)}return v.createElement("a",X4({},m,{href:x||g,onClick:p||i?s:y,ref:r,target:c}))});var SI;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(SI||(SI={}));var CI;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(CI||(CI={}));function rce(e,t){let{target:r,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=dr(),d=nc(),u=DU(e,{relative:o});return v.useCallback(f=>{if(Kle(f,r)){f.preventDefault();let m=s!==void 0?s:Gb(d)===Gb(u);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,a,r,e,i,o,l])}function EN(e){let t=v.useRef(Q4(e)),r=v.useRef(!1),s=nc(),a=v.useMemo(()=>Yle(s.search,r.current?null:t.current),[s.search]),i=dr(),o=v.useCallback((l,c)=>{const d=Q4(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}function FU(e,t){return function(){return e.apply(t,arguments)}}const{toString:nce}=Object.prototype,{getPrototypeOf:Zk}=Object,{iterator:PN,toStringTag:$U}=Symbol,kN=(e=>t=>{const r=nce.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),fl=e=>(e=e.toLowerCase(),t=>kN(t)===e),TN=e=>t=>typeof t===e,{isArray:Gp}=Array,Xh=TN("undefined");function Uv(e){return e!==null&&!Xh(e)&&e.constructor!==null&&!Xh(e.constructor)&&ai(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const LU=fl("ArrayBuffer");function sce(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&LU(e.buffer),t}const ace=TN("string"),ai=TN("function"),BU=TN("number"),Vv=e=>e!==null&&typeof e=="object",ice=e=>e===!0||e===!1,sb=e=>{if(kN(e)!=="object")return!1;const t=Zk(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!($U in e)&&!(PN in e)},oce=e=>{if(!Vv(e)||Uv(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},lce=fl("Date"),cce=fl("File"),dce=fl("Blob"),uce=fl("FileList"),fce=e=>Vv(e)&&ai(e.pipe),mce=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ai(e.append)&&((t=kN(e))==="formdata"||t==="object"&&ai(e.toString)&&e.toString()==="[object FormData]"))},hce=fl("URLSearchParams"),[pce,xce,gce,vce]=["ReadableStream","Request","Response","Headers"].map(fl),yce=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zv(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),Gp(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(Uv(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(s=0;s<o;s++)l=i[s],t.call(null,e[l],l,e)}}function UU(e,t){if(Uv(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,a;for(;s-- >0;)if(a=r[s],t===a.toLowerCase())return a;return null}const of=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,VU=e=>!Xh(e)&&e!==of;function Z4(){const{caseless:e,skipUndefined:t}=VU(this)&&this||{},r={},s=(a,i)=>{const o=e&&UU(r,i)||i;sb(r[o])&&sb(a)?r[o]=Z4(r[o],a):sb(a)?r[o]=Z4({},a):Gp(a)?r[o]=a.slice():(!t||!Xh(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&zv(arguments[a],s);return r}const jce=(e,t,r,{allOwnKeys:s}={})=>(zv(t,(a,i)=>{r&&ai(a)?e[i]=FU(a,r):e[i]=a},{allOwnKeys:s}),e),bce=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),wce=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Nce=(e,t,r,s)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!s||s(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&Zk(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},_ce=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},Sce=e=>{if(!e)return null;if(Gp(e))return e;let t=e.length;if(!BU(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Cce=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Zk(Uint8Array)),Ace=(e,t)=>{const s=(e&&e[PN]).call(e);let a;for(;(a=s.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},Ece=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},Pce=fl("HTMLFormElement"),kce=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),AI=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Tce=fl("RegExp"),zU=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};zv(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(s[i]=o||a)}),Object.defineProperties(e,s)},Oce=e=>{zU(e,(t,r)=>{if(ai(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(ai(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Dce=(e,t)=>{const r={},s=a=>{a.forEach(i=>{r[i]=!0})};return Gp(e)?s(e):s(String(e).split(t)),r},Ice=()=>{},Rce=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Mce(e){return!!(e&&ai(e.append)&&e[$U]==="FormData"&&e[PN])}const Fce=e=>{const t=new Array(10),r=(s,a)=>{if(Vv(s)){if(t.indexOf(s)>=0)return;if(Uv(s))return s;if(!("toJSON"in s)){t[a]=s;const i=Gp(s)?[]:{};return zv(s,(o,l)=>{const c=r(o,a+1);!Xh(c)&&(i[l]=c)}),t[a]=void 0,i}}return s};return r(e,0)},$ce=fl("AsyncFunction"),Lce=e=>e&&(Vv(e)||ai(e))&&ai(e.then)&&ai(e.catch),WU=((e,t)=>e?setImmediate:t?((r,s)=>(of.addEventListener("message",({source:a,data:i})=>{a===of&&i===r&&s.length&&s.shift()()},!1),a=>{s.push(a),of.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ai(of.postMessage)),Bce=typeof queueMicrotask<"u"?queueMicrotask.bind(of):typeof process<"u"&&process.nextTick||WU,Uce=e=>e!=null&&ai(e[PN]),Oe={isArray:Gp,isArrayBuffer:LU,isBuffer:Uv,isFormData:mce,isArrayBufferView:sce,isString:ace,isNumber:BU,isBoolean:ice,isObject:Vv,isPlainObject:sb,isEmptyObject:oce,isReadableStream:pce,isRequest:xce,isResponse:gce,isHeaders:vce,isUndefined:Xh,isDate:lce,isFile:cce,isBlob:dce,isRegExp:Tce,isFunction:ai,isStream:fce,isURLSearchParams:hce,isTypedArray:Cce,isFileList:uce,forEach:zv,merge:Z4,extend:jce,trim:yce,stripBOM:bce,inherits:wce,toFlatObject:Nce,kindOf:kN,kindOfTest:fl,endsWith:_ce,toArray:Sce,forEachEntry:Ace,matchAll:Ece,isHTMLForm:Pce,hasOwnProperty:AI,hasOwnProp:AI,reduceDescriptors:zU,freezeMethods:Oce,toObjectSet:Dce,toCamelCase:kce,noop:Ice,toFiniteNumber:Rce,findKey:UU,global:of,isContextDefined:VU,isSpecCompliantForm:Mce,toJSONObject:Fce,isAsyncFn:$ce,isThenable:Lce,setImmediate:WU,asap:Bce,isIterable:Uce};function Wt(e,t,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}Oe.inherits(Wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Oe.toJSONObject(this.config),code:this.code,status:this.status}}});const HU=Wt.prototype,qU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{qU[e]={value:e}});Object.defineProperties(Wt,qU);Object.defineProperty(HU,"isAxiosError",{value:!0});Wt.from=(e,t,r,s,a,i)=>{const o=Object.create(HU);Oe.toFlatObject(e,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Wt.call(o,l,c,r,s,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const Vce=null;function J4(e){return Oe.isPlainObject(e)||Oe.isArray(e)}function GU(e){return Oe.endsWith(e,"[]")?e.slice(0,-2):e}function EI(e,t,r){return e?e.concat(t).map(function(a,i){return a=GU(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function zce(e){return Oe.isArray(e)&&!e.some(J4)}const Wce=Oe.toFlatObject(Oe,{},null,function(t){return/^is[A-Z]/.test(t)});function ON(e,t,r){if(!Oe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Oe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,g){return!Oe.isUndefined(g[p])});const s=r.metaTokens,a=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Oe.isSpecCompliantForm(t);if(!Oe.isFunction(a))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(Oe.isDate(x))return x.toISOString();if(Oe.isBoolean(x))return x.toString();if(!c&&Oe.isBlob(x))throw new Wt("Blob is not supported. Use a Buffer instead.");return Oe.isArrayBuffer(x)||Oe.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,p,g){let j=x;if(x&&!g&&typeof x=="object"){if(Oe.endsWith(p,"{}"))p=s?p:p.slice(0,-2),x=JSON.stringify(x);else if(Oe.isArray(x)&&zce(x)||(Oe.isFileList(x)||Oe.endsWith(p,"[]"))&&(j=Oe.toArray(x)))return p=GU(p),j.forEach(function(w,b){!(Oe.isUndefined(w)||w===null)&&t.append(o===!0?EI([p],b,i):o===null?p:p+"[]",d(w))}),!1}return J4(x)?!0:(t.append(EI(g,p,i),d(x)),!1)}const f=[],m=Object.assign(Wce,{defaultVisitor:u,convertValue:d,isVisitable:J4});function h(x,p){if(!Oe.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(x),Oe.forEach(x,function(j,y){(!(Oe.isUndefined(j)||j===null)&&a.call(t,j,Oe.isString(y)?y.trim():y,p,m))===!0&&h(j,p?p.concat(y):[y])}),f.pop()}}if(!Oe.isObject(e))throw new TypeError("data must be an object");return h(e),t}function PI(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Jk(e,t){this._pairs=[],e&&ON(e,this,t)}const KU=Jk.prototype;KU.append=function(t,r){this._pairs.push([t,r])};KU.toString=function(t){const r=t?function(s){return t.call(this,s,PI)}:PI;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Hce(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function YU(e,t,r){if(!t)return e;const s=r&&r.encode||Hce;Oe.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=Oe.isURLSearchParams(t)?t.toString():new Jk(t,r).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class kI{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Oe.forEach(this.handlers,function(s){s!==null&&t(s)})}}const XU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qce=typeof URLSearchParams<"u"?URLSearchParams:Jk,Gce=typeof FormData<"u"?FormData:null,Kce=typeof Blob<"u"?Blob:null,Yce={isBrowser:!0,classes:{URLSearchParams:qce,FormData:Gce,Blob:Kce},protocols:["http","https","file","blob","url","data"]},eT=typeof window<"u"&&typeof document<"u",eA=typeof navigator=="object"&&navigator||void 0,Xce=eT&&(!eA||["ReactNative","NativeScript","NS"].indexOf(eA.product)<0),Qce=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Zce=eT&&window.location.href||"http://localhost",Jce=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:eT,hasStandardBrowserEnv:Xce,hasStandardBrowserWebWorkerEnv:Qce,navigator:eA,origin:Zce},Symbol.toStringTag,{value:"Module"})),oa={...Jce,...Yce};function ede(e,t){return ON(e,new oa.classes.URLSearchParams,{visitor:function(r,s,a,i){return oa.isNode&&Oe.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function tde(e){return Oe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function rde(e){const t={},r=Object.keys(e);let s;const a=r.length;let i;for(s=0;s<a;s++)i=r[s],t[i]=e[i];return t}function QU(e){function t(r,s,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&Oe.isArray(a)?a.length:o,c?(Oe.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!l):((!a[o]||!Oe.isObject(a[o]))&&(a[o]=[]),t(r,s,a[o],i)&&Oe.isArray(a[o])&&(a[o]=rde(a[o])),!l)}if(Oe.isFormData(e)&&Oe.isFunction(e.entries)){const r={};return Oe.forEachEntry(e,(s,a)=>{t(tde(s),a,r,0)}),r}return null}function nde(e,t,r){if(Oe.isString(e))try{return(t||JSON.parse)(e),Oe.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(0,JSON.stringify)(e)}const Wv={transitional:XU,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",a=s.indexOf("application/json")>-1,i=Oe.isObject(t);if(i&&Oe.isHTMLForm(t)&&(t=new FormData(t)),Oe.isFormData(t))return a?JSON.stringify(QU(t)):t;if(Oe.isArrayBuffer(t)||Oe.isBuffer(t)||Oe.isStream(t)||Oe.isFile(t)||Oe.isBlob(t)||Oe.isReadableStream(t))return t;if(Oe.isArrayBufferView(t))return t.buffer;if(Oe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return ede(t,this.formSerializer).toString();if((l=Oe.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ON(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),nde(t)):t}],transformResponse:[function(t){const r=this.transitional||Wv.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Oe.isResponse(t)||Oe.isReadableStream(t))return t;if(t&&Oe.isString(t)&&(s&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Wt.from(l,Wt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:oa.classes.FormData,Blob:oa.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Oe.forEach(["delete","get","head","post","put","patch"],e=>{Wv.headers[e]={}});const sde=Oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ade=e=>{const t={};let r,s,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!r||t[r]&&sde[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},TI=Symbol("internals");function Ix(e){return e&&String(e).trim().toLowerCase()}function ab(e){return e===!1||e==null?e:Oe.isArray(e)?e.map(ab):String(e)}function ide(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const ode=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function tS(e,t,r,s,a){if(Oe.isFunction(s))return s.call(this,t,r);if(a&&(t=r),!!Oe.isString(t)){if(Oe.isString(s))return t.indexOf(s)!==-1;if(Oe.isRegExp(s))return s.test(t)}}function lde(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function cde(e,t){const r=Oe.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(a,i,o){return this[s].call(this,t,a,i,o)},configurable:!0})})}class ii{constructor(t){t&&this.set(t)}set(t,r,s){const a=this;function i(l,c,d){const u=Ix(c);if(!u)throw new Error("header name must be a non-empty string");const f=Oe.findKey(a,u);(!f||a[f]===void 0||d===!0||d===void 0&&a[f]!==!1)&&(a[f||c]=ab(l))}const o=(l,c)=>Oe.forEach(l,(d,u)=>i(d,u,c));if(Oe.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Oe.isString(t)&&(t=t.trim())&&!ode(t))o(ade(t),r);else if(Oe.isObject(t)&&Oe.isIterable(t)){let l={},c,d;for(const u of t){if(!Oe.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?Oe.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,r)}else t!=null&&i(r,t,s);return this}get(t,r){if(t=Ix(t),t){const s=Oe.findKey(this,t);if(s){const a=this[s];if(!r)return a;if(r===!0)return ide(a);if(Oe.isFunction(r))return r.call(this,a,s);if(Oe.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ix(t),t){const s=Oe.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||tS(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let a=!1;function i(o){if(o=Ix(o),o){const l=Oe.findKey(s,o);l&&(!r||tS(s,s[l],l,r))&&(delete s[l],a=!0)}}return Oe.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let s=r.length,a=!1;for(;s--;){const i=r[s];(!t||tS(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,s={};return Oe.forEach(this,(a,i)=>{const o=Oe.findKey(s,i);if(o){r[o]=ab(a),delete r[i];return}const l=t?lde(i):String(i).trim();l!==i&&delete r[i],r[l]=ab(a),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Oe.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=t&&Oe.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[TI]=this[TI]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Ix(o);s[l]||(cde(a,o),s[l]=!0)}return Oe.isArray(t)?t.forEach(i):i(t),this}}ii.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Oe.reduceDescriptors(ii.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});Oe.freezeMethods(ii);function rS(e,t){const r=this||Wv,s=t||r,a=ii.from(s.headers);let i=s.data;return Oe.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function ZU(e){return!!(e&&e.__CANCEL__)}function Kp(e,t,r){Wt.call(this,e??"canceled",Wt.ERR_CANCELED,t,r),this.name="CanceledError"}Oe.inherits(Kp,Wt,{__CANCEL__:!0});function JU(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new Wt("Request failed with status code "+r.status,[Wt.ERR_BAD_REQUEST,Wt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function dde(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ude(e,t){e=e||10;const r=new Array(e),s=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=s[i];o||(o=d),r[a]=c,s[a]=d;let f=i,m=0;for(;f!==a;)m+=r[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<t)return;const h=u&&d-u;return h?Math.round(m*1e3/h):void 0}}function fde(e,t){let r=0,s=1e3/t,a,i;const o=(d,u=Date.now())=>{r=u,a=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),f=u-r;f>=s?o(d,u):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},s-f)))},()=>a&&o(a)]}const Yb=(e,t,r=3)=>{let s=0;const a=ude(50,250);return fde(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-s,d=a(c),u=o<=l;s=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},OI=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},DI=e=>(...t)=>Oe.asap(()=>e(...t)),mde=oa.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,oa.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(oa.origin),oa.navigator&&/(msie|trident)/i.test(oa.navigator.userAgent)):()=>!0,hde=oa.hasStandardBrowserEnv?{write(e,t,r,s,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];Oe.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),Oe.isString(s)&&l.push(`path=${s}`),Oe.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),Oe.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function pde(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xde(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function eV(e,t,r){let s=!pde(t);return e&&(s||r==!1)?xde(e,t):t}const II=e=>e instanceof ii?{...e}:e;function Uf(e,t){t=t||{};const r={};function s(d,u,f,m){return Oe.isPlainObject(d)&&Oe.isPlainObject(u)?Oe.merge.call({caseless:m},d,u):Oe.isPlainObject(u)?Oe.merge({},u):Oe.isArray(u)?u.slice():u}function a(d,u,f,m){if(Oe.isUndefined(u)){if(!Oe.isUndefined(d))return s(void 0,d,f,m)}else return s(d,u,f,m)}function i(d,u){if(!Oe.isUndefined(u))return s(void 0,u)}function o(d,u){if(Oe.isUndefined(u)){if(!Oe.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,f){if(f in t)return s(d,u);if(f in e)return s(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,f)=>a(II(d),II(u),f,!0)};return Oe.forEach(Object.keys({...e,...t}),function(u){const f=c[u]||a,m=f(e[u],t[u],u);Oe.isUndefined(m)&&f!==l||(r[u]=m)}),r}const tV=e=>{const t=Uf({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=ii.from(o),t.url=YU(eV(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Oe.isFormData(r)){if(oa.hasStandardBrowserEnv||oa.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Oe.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{d.includes(u.toLowerCase())&&o.set(u,f)})}}if(oa.hasStandardBrowserEnv&&(s&&Oe.isFunction(s)&&(s=s(t)),s||s!==!1&&mde(t.url))){const c=a&&i&&hde.read(i);c&&o.set(a,c)}return t},gde=typeof XMLHttpRequest<"u",vde=gde&&function(e){return new Promise(function(r,s){const a=tV(e);let i=a.data;const o=ii.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,f,m,h,x;function p(){h&&h(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function j(){if(!g)return;const w=ii.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:w,config:e,request:g};JU(function(C){r(C),p()},function(C){s(C),p()},N),g=null}"onloadend"in g?g.onloadend=j:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(j)},g.onabort=function(){g&&(s(new Wt("Request aborted",Wt.ECONNABORTED,e,g)),g=null)},g.onerror=function(b){const N=b&&b.message?b.message:"Network Error",_=new Wt(N,Wt.ERR_NETWORK,e,g);_.event=b||null,s(_),g=null},g.ontimeout=function(){let b=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||XU;a.timeoutErrorMessage&&(b=a.timeoutErrorMessage),s(new Wt(b,N.clarifyTimeoutError?Wt.ETIMEDOUT:Wt.ECONNABORTED,e,g)),g=null},i===void 0&&o.setContentType(null),"setRequestHeader"in g&&Oe.forEach(o.toJSON(),function(b,N){g.setRequestHeader(N,b)}),Oe.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),l&&l!=="json"&&(g.responseType=a.responseType),d&&([m,x]=Yb(d,!0),g.addEventListener("progress",m)),c&&g.upload&&([f,h]=Yb(c),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(u=w=>{g&&(s(!w||w.type?new Kp(null,e,g):w),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const y=dde(a.url);if(y&&oa.protocols.indexOf(y)===-1){s(new Wt("Unsupported protocol "+y+":",Wt.ERR_BAD_REQUEST,e));return}g.send(i||null)})},yde=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,a;const i=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof Wt?u:new Kp(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new Wt(`timeout ${t} of ms exceeded`,Wt.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>Oe.asap(l),c}},jde=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,a;for(;s<r;)a=s+t,yield e.slice(s,a),s=a},bde=async function*(e,t){for await(const r of wde(e))yield*jde(r,t)},wde=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},RI=(e,t,r,s)=>{const a=bde(e,t);let i=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let f=u.byteLength;if(r){let m=i+=f;r(m)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},MI=64*1024,{isFunction:tj}=Oe,Nde=(({Request:e,Response:t})=>({Request:e,Response:t}))(Oe.global),{ReadableStream:FI,TextEncoder:$I}=Oe.global,LI=(e,...t)=>{try{return!!e(...t)}catch{return!1}},_de=e=>{e=Oe.merge.call({skipUndefined:!0},Nde,e);const{fetch:t,Request:r,Response:s}=e,a=t?tj(t):typeof fetch=="function",i=tj(r),o=tj(s);if(!a)return!1;const l=a&&tj(FI),c=a&&(typeof $I=="function"?(x=>p=>x.encode(p))(new $I):async x=>new Uint8Array(await new r(x).arrayBuffer())),d=i&&l&&LI(()=>{let x=!1;const p=new r(oa.origin,{body:new FI,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!p}),u=o&&l&&LI(()=>Oe.isReadableStream(new s("").body)),f={stream:u&&(x=>x.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!f[x]&&(f[x]=(p,g)=>{let j=p&&p[x];if(j)return j.call(p);throw new Wt(`Response type '${x}' is not supported`,Wt.ERR_NOT_SUPPORT,g)})});const m=async x=>{if(x==null)return 0;if(Oe.isBlob(x))return x.size;if(Oe.isSpecCompliantForm(x))return(await new r(oa.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(Oe.isArrayBufferView(x)||Oe.isArrayBuffer(x))return x.byteLength;if(Oe.isURLSearchParams(x)&&(x=x+""),Oe.isString(x))return(await c(x)).byteLength},h=async(x,p)=>{const g=Oe.toFiniteNumber(x.getContentLength());return g??m(p)};return async x=>{let{url:p,method:g,data:j,signal:y,cancelToken:w,timeout:b,onDownloadProgress:N,onUploadProgress:_,responseType:C,headers:A,withCredentials:E="same-origin",fetchOptions:k}=tV(x),O=t||fetch;C=C?(C+"").toLowerCase():"text";let I=yde([y,w&&w.toAbortSignal()],b),W=null;const H=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let F;try{if(_&&d&&g!=="get"&&g!=="head"&&(F=await h(A,j))!==0){let ae=new r(p,{method:"POST",body:j,duplex:"half"}),R;if(Oe.isFormData(j)&&(R=ae.headers.get("content-type"))&&A.setContentType(R),ae.body){const[V,L]=OI(F,Yb(DI(_)));j=RI(ae.body,MI,V,L)}}Oe.isString(E)||(E=E?"include":"omit");const T=i&&"credentials"in r.prototype,P={...k,signal:I,method:g.toUpperCase(),headers:A.normalize().toJSON(),body:j,duplex:"half",credentials:T?E:void 0};W=i&&new r(p,P);let M=await(i?O(W,k):O(p,P));const D=u&&(C==="stream"||C==="response");if(u&&(N||D&&H)){const ae={};["status","statusText","headers"].forEach(K=>{ae[K]=M[K]});const R=Oe.toFiniteNumber(M.headers.get("content-length")),[V,L]=N&&OI(R,Yb(DI(N),!0))||[];M=new s(RI(M.body,MI,V,()=>{L&&L(),H&&H()}),ae)}C=C||"text";let Y=await f[Oe.findKey(f,C)||"text"](M,x);return!D&&H&&H(),await new Promise((ae,R)=>{JU(ae,R,{data:Y,headers:ii.from(M.headers),status:M.status,statusText:M.statusText,config:x,request:W})})}catch(T){throw H&&H(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new Wt("Network Error",Wt.ERR_NETWORK,x,W),{cause:T.cause||T}):Wt.from(T,T&&T.code,x,W)}}},Sde=new Map,rV=e=>{let t=e&&e.env||{};const{fetch:r,Request:s,Response:a}=t,i=[s,a,r];let o=i.length,l=o,c,d,u=Sde;for(;l--;)c=i[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:_de(t)),u=d;return d};rV();const tT={http:Vce,xhr:vde,fetch:{get:rV}};Oe.forEach(tT,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const BI=e=>`- ${e}`,Cde=e=>Oe.isFunction(e)||e===null||e===!1;function Ade(e,t){e=Oe.isArray(e)?e:[e];const{length:r}=e;let s,a;const i={};for(let o=0;o<r;o++){s=e[o];let l;if(a=s,!Cde(s)&&(a=tT[(l=String(s)).toLowerCase()],a===void 0))throw new Wt(`Unknown adapter '${l}'`);if(a&&(Oe.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(BI).join(`
`):" "+BI(o[0]):"as no adapter specified";throw new Wt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const nV={getAdapter:Ade,adapters:tT};function nS(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Kp(null,e)}function UI(e){return nS(e),e.headers=ii.from(e.headers),e.data=rS.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),nV.getAdapter(e.adapter||Wv.adapter,e)(e).then(function(s){return nS(e),s.data=rS.call(e,e.transformResponse,s),s.headers=ii.from(s.headers),s},function(s){return ZU(s)||(nS(e),s&&s.response&&(s.response.data=rS.call(e,e.transformResponse,s.response),s.response.headers=ii.from(s.response.headers))),Promise.reject(s)})}const sV="1.13.2",DN={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{DN[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const VI={};DN.transitional=function(t,r,s){function a(i,o){return"[Axios v"+sV+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(t===!1)throw new Wt(a(o," has been removed"+(r?" in "+r:"")),Wt.ERR_DEPRECATED);return r&&!VI[o]&&(VI[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};DN.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Ede(e,t,r){if(typeof e!="object")throw new Wt("options must be an object",Wt.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const i=s[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new Wt("option "+i+" must be "+c,Wt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Wt("Unknown option "+i,Wt.ERR_BAD_OPTION)}}const ib={assertOptions:Ede,validators:DN},Nl=ib.validators;class Cf{constructor(t){this.defaults=t||{},this.interceptors={request:new kI,response:new kI}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Uf(this.defaults,r);const{transitional:s,paramsSerializer:a,headers:i}=r;s!==void 0&&ib.assertOptions(s,{silentJSONParsing:Nl.transitional(Nl.boolean),forcedJSONParsing:Nl.transitional(Nl.boolean),clarifyTimeoutError:Nl.transitional(Nl.boolean)},!1),a!=null&&(Oe.isFunction(a)?r.paramsSerializer={serialize:a}:ib.assertOptions(a,{encode:Nl.function,serialize:Nl.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ib.assertOptions(r,{baseUrl:Nl.spelling("baseURL"),withXsrfToken:Nl.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Oe.merge(i.common,i[r.method]);i&&Oe.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),r.headers=ii.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,f=0,m;if(!c){const x=[UI.bind(this),void 0];for(x.unshift(...l),x.push(...d),m=x.length,u=Promise.resolve(r);f<m;)u=u.then(x[f++],x[f++]);return u}m=l.length;let h=r;for(;f<m;){const x=l[f++],p=l[f++];try{h=x(h)}catch(g){p.call(this,g);break}}try{u=UI.call(this,h)}catch(x){return Promise.reject(x)}for(f=0,m=d.length;f<m;)u=u.then(d[f++],d[f++]);return u}getUri(t){t=Uf(this.defaults,t);const r=eV(t.baseURL,t.url,t.allowAbsoluteUrls);return YU(r,t.params,t.paramsSerializer)}}Oe.forEach(["delete","get","head","options"],function(t){Cf.prototype[t]=function(r,s){return this.request(Uf(s||{},{method:t,url:r,data:(s||{}).data}))}});Oe.forEach(["post","put","patch"],function(t){function r(s){return function(i,o,l){return this.request(Uf(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Cf.prototype[t]=r(),Cf.prototype[t+"Form"]=r(!0)});class rT{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,l){s.reason||(s.reason=new Kp(i,o,l),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new rT(function(a){t=a}),cancel:t}}}function Pde(e){return function(r){return e.apply(null,r)}}function kde(e){return Oe.isObject(e)&&e.isAxiosError===!0}const tA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(tA).forEach(([e,t])=>{tA[t]=e});function aV(e){const t=new Cf(e),r=FU(Cf.prototype.request,t);return Oe.extend(r,Cf.prototype,t,{allOwnKeys:!0}),Oe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return aV(Uf(e,a))},r}const ir=aV(Wv);ir.Axios=Cf;ir.CanceledError=Kp;ir.CancelToken=rT;ir.isCancel=ZU;ir.VERSION=sV;ir.toFormData=ON;ir.AxiosError=Wt;ir.Cancel=ir.CanceledError;ir.all=function(t){return Promise.all(t)};ir.spread=Pde;ir.isAxiosError=kde;ir.mergeConfig=Uf;ir.AxiosHeaders=ii;ir.formToJSON=e=>QU(Oe.isHTMLForm(e)?new FormData(e):e);ir.getAdapter=nV.getAdapter;ir.HttpStatusCode=tA;ir.default=ir;const Yi="https://procurement.buy2rent.eu/api",Hv="https://procurement.buy2rent.eu/auth";console.log("API Configuration:",{API_BASE_URL:Yi,AUTH_BASE_URL:Hv,mode:"production"});const na=ir.create({baseURL:Hv,timeout:1e4,headers:{"Content-Type":"application/json"}});let Rx=!1,rA=[];const rj=(e=null)=>{rA.forEach(t=>{e?t.reject(e):t.resolve()}),rA=[]};na.interceptors.response.use(e=>e,async e=>{var r,s;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if((s=t.url)!=null&&s.includes("/refresh/"))return mn.clearTokens(),Rx=!1,rj(e),Promise.reject(e);if(Rx)return new Promise((i,o)=>{rA.push({resolve:i,reject:o})}).then(()=>na(t)).catch(i=>Promise.reject(i));t._retry=!0,Rx=!0;const a=mn.getRefreshToken();if(!a)return Rx=!1,mn.clearTokens(),rj(e),Promise.reject(e);try{const i=await na.post("/refresh/",{refresh:a}),{access:o}=i.data,l=mn.getRefreshToken();return l&&mn.setTokens(o,l),t.headers.Authorization=`Bearer ${o}`,rj(),na(t)}catch(i){return rj(i),mn.clearTokens(),Promise.reject(i)}finally{Rx=!1}}return Promise.reject(e)});const vc={async login(e){return(await na.post("/login/",e)).data},async register(e){const r=(await na.post("/register/",e)).data;return{access:r.tokens.access,refresh:r.tokens.refresh,user:r.user}},async refreshToken(e){return(await na.post("/refresh/",{refresh:e})).data},async logout(e){const t=localStorage.getItem("access_token");await na.post("/logout/",{refresh:e},{headers:t?{Authorization:`Bearer ${t}`}:{}})},async getProfile(){const e=localStorage.getItem("access_token");if(!e)throw new Error("No access token found");return(await na.get("/profile/",{headers:{Authorization:`Bearer ${e}`}})).data},async updateProfile(e){const t=localStorage.getItem("access_token");if(!t)throw new Error("No access token found");return(await na.put("/profile/",e,{headers:{Authorization:`Bearer ${t}`}})).data},async requestPasswordReset(e){await na.post("/password-reset/",e)},async confirmPasswordReset(e){await na.post("/password-reset-confirm/",e)},async changePassword(e){const t=localStorage.getItem("access_token");if(!t)throw new Error("No access token found");await na.post("/change-password/",e,{headers:{Authorization:`Bearer ${t}`}})},async getSessions(){const e=localStorage.getItem("access_token");if(!e)throw new Error("No access token found");return(await na.get("/sessions/",{headers:{Authorization:`Bearer ${e}`}})).data},async terminateSession(e){const t=localStorage.getItem("access_token");if(!t)throw new Error("No access token found");await na.delete(`/sessions/${e}/`,{headers:{Authorization:`Bearer ${t}`}})},async terminateAllSessions(){const e=localStorage.getItem("access_token");if(!e)throw new Error("No access token found");await na.delete("/sessions/",{headers:{Authorization:`Bearer ${e}`}})}},mn={getAccessToken(){return localStorage.getItem("access_token")},getRefreshToken(){return localStorage.getItem("refresh_token")},setTokens(e,t){localStorage.setItem("access_token",e),localStorage.setItem("refresh_token",t)},clearTokens(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")},isAuthenticated(){return!!this.getAccessToken()}},iV=v.createContext(void 0);function Tde({children:e}){const[t,r]=v.useState(null),[s,a]=v.useState(!0);v.useEffect(()=>{const p=setTimeout(()=>{console.warn("Auth check timed out after 15 seconds"),a(!1)},15e3);return i().finally(()=>{clearTimeout(p)}),()=>clearTimeout(p)},[]);const i=async()=>{try{const p=mn.getAccessToken(),g=mn.getRefreshToken();if(!p&&!g){a(!1);return}if(!p&&g)try{const j=await vc.refreshToken(g);mn.setTokens(j.access,g)}catch(j){console.error("Token refresh failed during auth check:",j),mn.clearTokens(),a(!1);return}if(mn.getAccessToken())try{const j=await vc.getProfile();r({...j,name:j.first_name&&j.last_name?`${j.first_name} ${j.last_name}`:j.username})}catch(j){console.error("Profile fetch failed:",j),mn.clearTokens(),r(null)}}catch(p){console.error("Auth check failed:",p),mn.clearTokens(),r(null)}finally{a(!1)}},o=async()=>{try{const p=await vc.getProfile();r({...p,name:p.first_name&&p.last_name?`${p.first_name} ${p.last_name}`:p.username})}catch(p){throw console.error("Failed to refresh user:",p),p}},l=async(p,g)=>{var j,y,w,b,N,_;try{const C=await vc.login({email:p,password:g});mn.setTokens(C.access,C.refresh),r({...C.user,name:C.user.first_name&&C.user.last_name?`${C.user.first_name} ${C.user.last_name}`:C.user.username})}catch(C){console.error("Login failed:",C);const A=((y=(j=C.response)==null?void 0:j.data)==null?void 0:y.message)||((b=(w=C.response)==null?void 0:w.data)==null?void 0:b.detail)||((_=(N=C.response)==null?void 0:N.data)==null?void 0:_.error)||C.message||"Login failed";throw new Error(A)}},c=async(p,g,j)=>{var y,w,b,N,_,C,A,E,k,O;try{const I=(j==null?void 0:j.split(" "))||[],W=I[0]||"User",H=I.slice(1).join(" ")||"Name",F=await vc.register({username:p.split("@")[0],email:p,password:g,password_confirm:g,first_name:W,last_name:H});mn.setTokens(F.access,F.refresh),r({...F.user,name:F.user.first_name&&F.user.last_name?`${F.user.first_name} ${F.user.last_name}`:F.user.username})}catch(I){console.error("Signup failed:",I);const W=((w=(y=I.response)==null?void 0:y.data)==null?void 0:w.details)||((N=(b=I.response)==null?void 0:b.data)==null?void 0:N.errors);let H=((C=(_=I.response)==null?void 0:_.data)==null?void 0:C.message)||((E=(A=I.response)==null?void 0:A.data)==null?void 0:E.detail)||((O=(k=I.response)==null?void 0:k.data)==null?void 0:O.error)||I.message||"Signup failed";if(W&&typeof W=="object"){const F=Object.values(W)[0];Array.isArray(F)?H=F[0]:typeof F=="string"&&(H=F)}throw new Error(H)}},d=async()=>{try{window.location.href="/api/auth/google"}catch(p){throw p}},u=async()=>{try{window.location.href="/api/auth/facebook"}catch(p){throw p}},f=async()=>{try{window.location.href="/api/auth/twitter"}catch(p){throw p}},m=async()=>{try{const p=mn.getRefreshToken();p&&await vc.logout(p),mn.clearTokens(),r(null)}catch(p){console.error("Logout failed:",p),mn.clearTokens(),r(null)}},h=async p=>{var g,j;try{await vc.requestPasswordReset({email:p})}catch(y){throw console.error("Password reset failed:",y),new Error(((j=(g=y.response)==null?void 0:g.data)==null?void 0:j.detail)||y.message||"Password reset failed")}},x=async p=>{try{console.warn("Email verification not implemented yet")}catch(g){throw g}};return n.jsx(iV.Provider,{value:{user:t,loading:s,login:l,signup:c,loginWithGoogle:d,loginWithFacebook:u,loginWithTwitter:f,logout:m,resetPassword:h,verifyEmail:x,refreshUser:o},children:e})}function qv(){const e=v.useContext(iV);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function S({className:e,...t}){return n.jsx("div",{className:ge("relative overflow-hidden rounded-md bg-muted","before:absolute before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:bg-gradient-to-r","before:from-transparent before:via-white/10 before:to-transparent",e),...t})}function or({children:e}){const{user:t,loading:r}=qv(),s=nc();if(r)return n.jsxs("div",{className:"min-h-screen flex bg-background",children:[n.jsxs("div",{className:"w-64 border-r border-border p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[n.jsx(S,{className:"h-10 w-10 rounded-lg"}),n.jsx(S,{className:"h-5 w-32"})]}),[...Array(8)].map((i,o)=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-4 w-24"})]},o))]}),n.jsx("div",{className:"flex-1 p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-8 w-64"}),n.jsx(S,{className:"h-4 w-96"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((i,o)=>n.jsxs("div",{className:"border rounded-lg p-6 space-y-3",children:[n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-8 w-20"}),n.jsx(S,{className:"h-3 w-16"})]},o))}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(2)].map((i,o)=>n.jsxs("div",{className:"border rounded-lg p-6 space-y-4",children:[n.jsx(S,{className:"h-6 w-40"}),n.jsx("div",{className:"space-y-2",children:[...Array(4)].map((l,c)=>n.jsx(S,{className:"h-4 w-full"},c))})]},o))})]})})]});const a=mn.isAuthenticated();return!t&&!a?n.jsx(MU,{to:"/login",state:{from:s},replace:!0}):a&&!t?n.jsxs("div",{className:"min-h-screen flex bg-background",children:[n.jsxs("div",{className:"w-64 border-r border-border p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[n.jsx(S,{className:"h-10 w-10 rounded-lg"}),n.jsx(S,{className:"h-5 w-32"})]}),[...Array(8)].map((i,o)=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-4 w-24"})]},o))]}),n.jsx("div",{className:"flex-1 p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-8 w-64"}),n.jsx(S,{className:"h-4 w-96"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((i,o)=>n.jsxs("div",{className:"border rounded-lg p-6 space-y-3",children:[n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-8 w-20"}),n.jsx(S,{className:"h-3 w-16"})]},o))})]})})]}):n.jsx(n.Fragment,{children:e})}function Ode({children:e,...t}){return n.jsx(wae,{...t,children:e})}var Gv=e=>e.type==="checkbox",lf=e=>e instanceof Date,_a=e=>e==null;const oV=e=>typeof e=="object";var Yn=e=>!_a(e)&&!Array.isArray(e)&&oV(e)&&!lf(e),Dde=e=>Yn(e)&&e.target?Gv(e.target)?e.target.checked:e.target.value:e,Ide=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Rde=(e,t)=>e.has(Ide(t)),Mde=e=>{const t=e.constructor&&e.constructor.prototype;return Yn(t)&&t.hasOwnProperty("isPrototypeOf")},nT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ro(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(nT&&(e instanceof Blob||e instanceof FileList))&&(r||Yn(e)))if(t=r?[]:{},!r&&!Mde(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=ro(e[s]));else return e;return t}var IN=e=>Array.isArray(e)?e.filter(Boolean):[],Un=e=>e===void 0,xt=(e,t,r)=>{if(!t||!Yn(e))return r;const s=IN(t.split(/[,[\].]+?/)).reduce((a,i)=>_a(a)?a:a[i],e);return Un(s)||s===e?Un(e[t])?r:e[t]:s},Pl=e=>typeof e=="boolean",sT=e=>/^\w*$/.test(e),lV=e=>IN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Fr=(e,t,r)=>{let s=-1;const a=sT(t)?[t]:lV(t),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let c=r;if(s!==o){const d=e[l];c=Yn(d)||Array.isArray(d)?d:isNaN(+a[s+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const zI={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},qo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};z.createContext(null);var Fde=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==qo.all&&(t._proxyFormState[o]=!s||qo.all),e[o]}});return a},Ha=e=>Yn(e)&&!Object.keys(e).length,$de=(e,t,r,s)=>{r(e);const{name:a,...i}=e;return Ha(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===qo.all)},ob=e=>Array.isArray(e)?e:[e];function Lde(e){const t=z.useRef(e);t.current=e,z.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var Bl=e=>typeof e=="string",Bde=(e,t,r,s,a)=>Bl(e)?(s&&t.watch.add(e),xt(r,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),xt(r,i))):(s&&(t.watchAll=!0),r),cV=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},WI=e=>({isOnSubmit:!e||e===qo.onSubmit,isOnBlur:e===qo.onBlur,isOnChange:e===qo.onChange,isOnAll:e===qo.all,isOnTouch:e===qo.onTouched}),HI=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Sg=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const i=xt(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(Sg(l,t))break}else if(Yn(l)&&Sg(l,t))break}}};var Ude=(e,t,r)=>{const s=ob(xt(e,r));return Fr(s,"root",t[r]),Fr(e,r,s),e},aT=e=>e.type==="file",Ac=e=>typeof e=="function",Xb=e=>{if(!nT)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},lb=e=>Bl(e),iT=e=>e.type==="radio",Qb=e=>e instanceof RegExp;const qI={value:!1,isValid:!1},GI={value:!0,isValid:!0};var dV=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Un(e[0].attributes.value)?Un(e[0].value)||e[0].value===""?GI:{value:e[0].value,isValid:!0}:GI:qI}return qI};const KI={isValid:!1,value:null};var uV=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,KI):KI;function YI(e,t,r="validate"){if(lb(e)||Array.isArray(e)&&e.every(lb)||Pl(e)&&!e)return{type:r,message:lb(e)?e:"",ref:t}}var Nm=e=>Yn(e)&&!Qb(e)?e:{value:e,message:""},XI=async(e,t,r,s,a)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:d,min:u,max:f,pattern:m,validate:h,name:x,valueAsNumber:p,mount:g,disabled:j}=e._f,y=xt(t,x);if(!g||j)return{};const w=o?o[0]:i,b=I=>{s&&w.reportValidity&&(w.setCustomValidity(Pl(I)?"":I||""),w.reportValidity())},N={},_=iT(i),C=Gv(i),A=_||C,E=(p||aT(i))&&Un(i.value)&&Un(y)||Xb(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,k=cV.bind(null,x,r,N),O=(I,W,H,F=fc.maxLength,T=fc.minLength)=>{const P=I?W:H;N[x]={type:I?F:T,message:P,ref:i,...k(I?F:T,P)}};if(a?!Array.isArray(y)||!y.length:l&&(!A&&(E||_a(y))||Pl(y)&&!y||C&&!dV(o).isValid||_&&!uV(o).isValid)){const{value:I,message:W}=lb(l)?{value:!!l,message:l}:Nm(l);if(I&&(N[x]={type:fc.required,message:W,ref:w,...k(fc.required,W)},!r))return b(W),N}if(!E&&(!_a(u)||!_a(f))){let I,W;const H=Nm(f),F=Nm(u);if(!_a(y)&&!isNaN(y)){const T=i.valueAsNumber||y&&+y;_a(H.value)||(I=T>H.value),_a(F.value)||(W=T<F.value)}else{const T=i.valueAsDate||new Date(y),P=Y=>new Date(new Date().toDateString()+" "+Y),M=i.type=="time",D=i.type=="week";Bl(H.value)&&y&&(I=M?P(y)>P(H.value):D?y>H.value:T>new Date(H.value)),Bl(F.value)&&y&&(W=M?P(y)<P(F.value):D?y<F.value:T<new Date(F.value))}if((I||W)&&(O(!!I,H.message,F.message,fc.max,fc.min),!r))return b(N[x].message),N}if((c||d)&&!E&&(Bl(y)||a&&Array.isArray(y))){const I=Nm(c),W=Nm(d),H=!_a(I.value)&&y.length>+I.value,F=!_a(W.value)&&y.length<+W.value;if((H||F)&&(O(H,I.message,W.message),!r))return b(N[x].message),N}if(m&&!E&&Bl(y)){const{value:I,message:W}=Nm(m);if(Qb(I)&&!y.match(I)&&(N[x]={type:fc.pattern,message:W,ref:i,...k(fc.pattern,W)},!r))return b(W),N}if(h){if(Ac(h)){const I=await h(y,t),W=YI(I,w);if(W&&(N[x]={...W,...k(fc.validate,W.message)},!r))return b(W.message),N}else if(Yn(h)){let I={};for(const W in h){if(!Ha(I)&&!r)break;const H=YI(await h[W](y,t),w,W);H&&(I={...H,...k(W,H.message)},b(H.message),r&&(N[x]=I))}if(!Ha(I)&&(N[x]={ref:w,...I},!r))return N}}return b(!0),N};function Vde(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=Un(e)?s++:e[t[s++]];return e}function zde(e){for(const t in e)if(e.hasOwnProperty(t)&&!Un(e[t]))return!1;return!0}function ls(e,t){const r=Array.isArray(t)?t:sT(t)?[t]:lV(t),s=r.length===1?e:Vde(e,r),a=r.length-1,i=r[a];return s&&delete s[i],a!==0&&(Yn(s)&&Ha(s)||Array.isArray(s)&&zde(s))&&ls(e,r.slice(0,-1)),e}var sS=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},nA=e=>_a(e)||!oV(e);function Td(e,t){if(nA(e)||nA(t))return e===t;if(lf(e)&&lf(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const a of r){const i=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const o=t[a];if(lf(i)&&lf(o)||Yn(i)&&Yn(o)||Array.isArray(i)&&Array.isArray(o)?!Td(i,o):i!==o)return!1}}return!0}var fV=e=>e.type==="select-multiple",Wde=e=>iT(e)||Gv(e),aS=e=>Xb(e)&&e.isConnected,mV=e=>{for(const t in e)if(Ac(e[t]))return!0;return!1};function Zb(e,t={}){const r=Array.isArray(e);if(Yn(e)||r)for(const s in e)Array.isArray(e[s])||Yn(e[s])&&!mV(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Zb(e[s],t[s])):_a(e[s])||(t[s]=!0);return t}function hV(e,t,r){const s=Array.isArray(e);if(Yn(e)||s)for(const a in e)Array.isArray(e[a])||Yn(e[a])&&!mV(e[a])?Un(t)||nA(r[a])?r[a]=Array.isArray(e[a])?Zb(e[a],[]):{...Zb(e[a])}:hV(e[a],_a(t)?{}:t[a],r[a]):r[a]=!Td(e[a],t[a]);return r}var Mx=(e,t)=>hV(e,t,Zb(t)),pV=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>Un(e)?e:t?e===""?NaN:e&&+e:r&&Bl(e)?new Date(e):s?s(e):e;function iS(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return aT(t)?t.files:iT(t)?uV(e.refs).value:fV(t)?[...t.selectedOptions].map(({value:r})=>r):Gv(t)?dV(e.refs).value:pV(Un(t.value)?e.ref.value:t.value,e)}var Hde=(e,t,r,s)=>{const a={};for(const i of e){const o=xt(t,i);o&&Fr(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}},Fx=e=>Un(e)?e:Qb(e)?e.source:Yn(e)?Qb(e.value)?e.value.source:e.value:e;const QI="AsyncFunction";var qde=e=>(!e||!e.validate)&&!!(Ac(e.validate)&&e.validate.constructor.name===QI||Yn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===QI)),Gde=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ZI(e,t,r){const s=xt(e,r);if(s||sT(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=xt(t,i),l=xt(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var Kde=(e,t,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:(r?s.isOnChange:a.isOnChange)?e:!0,Yde=(e,t)=>!IN(xt(e,t)).length&&ls(e,t);const Xde={mode:qo.onSubmit,reValidateMode:qo.onChange,shouldFocusError:!0};function Qde(e={}){let t={...Xde,...e},r={submitCount:0,isDirty:!1,isLoading:Ac(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Yn(t.defaultValues)||Yn(t.values)?ro(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:ro(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:sS(),array:sS(),state:sS()},m=WI(t.mode),h=WI(t.reValidateMode),x=t.criteriaMode===qo.all,p=se=>he=>{clearTimeout(d),d=setTimeout(se,he)},g=async se=>{if(!e.disabled&&(u.isValid||se)){const he=t.resolver?Ha((await A()).errors):await k(s,!0);he!==r.isValid&&f.state.next({isValid:he})}},j=(se,he)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((se||Array.from(l.mount)).forEach(ce=>{ce&&(he?Fr(r.validatingFields,ce,he):ls(r.validatingFields,ce))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Ha(r.validatingFields)}))},y=(se,he=[],ce,be,$e=!0,De=!0)=>{if(be&&ce&&!e.disabled){if(o.action=!0,De&&Array.isArray(xt(s,se))){const de=ce(xt(s,se),be.argA,be.argB);$e&&Fr(s,se,de)}if(De&&Array.isArray(xt(r.errors,se))){const de=ce(xt(r.errors,se),be.argA,be.argB);$e&&Fr(r.errors,se,de),Yde(r.errors,se)}if(u.touchedFields&&De&&Array.isArray(xt(r.touchedFields,se))){const de=ce(xt(r.touchedFields,se),be.argA,be.argB);$e&&Fr(r.touchedFields,se,de)}u.dirtyFields&&(r.dirtyFields=Mx(a,i)),f.state.next({name:se,isDirty:I(se,he),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Fr(i,se,he)},w=(se,he)=>{Fr(r.errors,se,he),f.state.next({errors:r.errors})},b=se=>{r.errors=se,f.state.next({errors:r.errors,isValid:!1})},N=(se,he,ce,be)=>{const $e=xt(s,se);if($e){const De=xt(i,se,Un(ce)?xt(a,se):ce);Un(De)||be&&be.defaultChecked||he?Fr(i,se,he?De:iS($e._f)):F(se,De),o.mount&&g()}},_=(se,he,ce,be,$e)=>{let De=!1,de=!1;const Ie={name:se};if(!e.disabled){const ot=!!(xt(s,se)&&xt(s,se)._f&&xt(s,se)._f.disabled);if(!ce||be){u.isDirty&&(de=r.isDirty,r.isDirty=Ie.isDirty=I(),De=de!==Ie.isDirty);const jt=ot||Td(xt(a,se),he);de=!!(!ot&&xt(r.dirtyFields,se)),jt||ot?ls(r.dirtyFields,se):Fr(r.dirtyFields,se,!0),Ie.dirtyFields=r.dirtyFields,De=De||u.dirtyFields&&de!==!jt}if(ce){const jt=xt(r.touchedFields,se);jt||(Fr(r.touchedFields,se,ce),Ie.touchedFields=r.touchedFields,De=De||u.touchedFields&&jt!==ce)}De&&$e&&f.state.next(Ie)}return De?Ie:{}},C=(se,he,ce,be)=>{const $e=xt(r.errors,se),De=u.isValid&&Pl(he)&&r.isValid!==he;if(e.delayError&&ce?(c=p(()=>w(se,ce)),c(e.delayError)):(clearTimeout(d),c=null,ce?Fr(r.errors,se,ce):ls(r.errors,se)),(ce?!Td($e,ce):$e)||!Ha(be)||De){const de={...be,...De&&Pl(he)?{isValid:he}:{},errors:r.errors,name:se};r={...r,...de},f.state.next(de)}},A=async se=>{j(se,!0);const he=await t.resolver(i,t.context,Hde(se||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return j(se),he},E=async se=>{const{errors:he}=await A(se);if(se)for(const ce of se){const be=xt(he,ce);be?Fr(r.errors,ce,be):ls(r.errors,ce)}else r.errors=he;return he},k=async(se,he,ce={valid:!0})=>{for(const be in se){const $e=se[be];if($e){const{_f:De,...de}=$e;if(De){const Ie=l.array.has(De.name),ot=$e._f&&qde($e._f);ot&&u.validatingFields&&j([be],!0);const jt=await XI($e,i,x,t.shouldUseNativeValidation&&!he,Ie);if(ot&&u.validatingFields&&j([be]),jt[De.name]&&(ce.valid=!1,he))break;!he&&(xt(jt,De.name)?Ie?Ude(r.errors,jt,De.name):Fr(r.errors,De.name,jt[De.name]):ls(r.errors,De.name))}!Ha(de)&&await k(de,he,ce)}}return ce.valid},O=()=>{for(const se of l.unMount){const he=xt(s,se);he&&(he._f.refs?he._f.refs.every(ce=>!aS(ce)):!aS(he._f.ref))&&le(se)}l.unMount=new Set},I=(se,he)=>!e.disabled&&(se&&he&&Fr(i,se,he),!Td(ae(),a)),W=(se,he,ce)=>Bde(se,l,{...o.mount?i:Un(he)?a:Bl(se)?{[se]:he}:he},ce,he),H=se=>IN(xt(o.mount?i:a,se,e.shouldUnregister?xt(a,se,[]):[])),F=(se,he,ce={})=>{const be=xt(s,se);let $e=he;if(be){const De=be._f;De&&(!De.disabled&&Fr(i,se,pV(he,De)),$e=Xb(De.ref)&&_a(he)?"":he,fV(De.ref)?[...De.ref.options].forEach(de=>de.selected=$e.includes(de.value)):De.refs?Gv(De.ref)?De.refs.length>1?De.refs.forEach(de=>(!de.defaultChecked||!de.disabled)&&(de.checked=Array.isArray($e)?!!$e.find(Ie=>Ie===de.value):$e===de.value)):De.refs[0]&&(De.refs[0].checked=!!$e):De.refs.forEach(de=>de.checked=de.value===$e):aT(De.ref)?De.ref.value="":(De.ref.value=$e,De.ref.type||f.values.next({name:se,values:{...i}})))}(ce.shouldDirty||ce.shouldTouch)&&_(se,$e,ce.shouldTouch,ce.shouldDirty,!0),ce.shouldValidate&&Y(se)},T=(se,he,ce)=>{for(const be in he){const $e=he[be],De=`${se}.${be}`,de=xt(s,De);(l.array.has(se)||Yn($e)||de&&!de._f)&&!lf($e)?T(De,$e,ce):F(De,$e,ce)}},P=(se,he,ce={})=>{const be=xt(s,se),$e=l.array.has(se),De=ro(he);Fr(i,se,De),$e?(f.array.next({name:se,values:{...i}}),(u.isDirty||u.dirtyFields)&&ce.shouldDirty&&f.state.next({name:se,dirtyFields:Mx(a,i),isDirty:I(se,De)})):be&&!be._f&&!_a(De)?T(se,De,ce):F(se,De,ce),HI(se,l)&&f.state.next({...r}),f.values.next({name:o.mount?se:void 0,values:{...i}})},M=async se=>{o.mount=!0;const he=se.target;let ce=he.name,be=!0;const $e=xt(s,ce),De=()=>he.type?iS($e._f):Dde(se),de=Ie=>{be=Number.isNaN(Ie)||lf(Ie)&&isNaN(Ie.getTime())||Td(Ie,xt(i,ce,Ie))};if($e){let Ie,ot;const jt=De(),Ze=se.type===zI.BLUR||se.type===zI.FOCUS_OUT,ye=!Gde($e._f)&&!t.resolver&&!xt(r.errors,ce)&&!$e._f.deps||Kde(Ze,xt(r.touchedFields,ce),r.isSubmitted,h,m),Ke=HI(ce,l,Ze);Fr(i,ce,jt),Ze?($e._f.onBlur&&$e._f.onBlur(se),c&&c(0)):$e._f.onChange&&$e._f.onChange(se);const Ct=_(ce,jt,Ze,!1),Et=!Ha(Ct)||Ke;if(!Ze&&f.values.next({name:ce,type:se.type,values:{...i}}),ye)return u.isValid&&(e.mode==="onBlur"?Ze&&g():g()),Et&&f.state.next({name:ce,...Ke?{}:Ct});if(!Ze&&Ke&&f.state.next({...r}),t.resolver){const{errors:ur}=await A([ce]);if(de(jt),be){const vr=ZI(r.errors,s,ce),Pn=ZI(ur,s,vr.name||ce);Ie=Pn.error,ce=Pn.name,ot=Ha(ur)}}else j([ce],!0),Ie=(await XI($e,i,x,t.shouldUseNativeValidation))[ce],j([ce]),de(jt),be&&(Ie?ot=!1:u.isValid&&(ot=await k(s,!0)));be&&($e._f.deps&&Y($e._f.deps),C(ce,ot,Ie,Ct))}},D=(se,he)=>{if(xt(r.errors,he)&&se.focus)return se.focus(),1},Y=async(se,he={})=>{let ce,be;const $e=ob(se);if(t.resolver){const De=await E(Un(se)?se:$e);ce=Ha(De),be=se?!$e.some(de=>xt(De,de)):ce}else se?(be=(await Promise.all($e.map(async De=>{const de=xt(s,De);return await k(de&&de._f?{[De]:de}:de)}))).every(Boolean),!(!be&&!r.isValid)&&g()):be=ce=await k(s);return f.state.next({...!Bl(se)||u.isValid&&ce!==r.isValid?{}:{name:se},...t.resolver||!se?{isValid:ce}:{},errors:r.errors}),he.shouldFocus&&!be&&Sg(s,D,se?$e:l.mount),be},ae=se=>{const he={...o.mount?i:a};return Un(se)?he:Bl(se)?xt(he,se):se.map(ce=>xt(he,ce))},R=(se,he)=>({invalid:!!xt((he||r).errors,se),isDirty:!!xt((he||r).dirtyFields,se),error:xt((he||r).errors,se),isValidating:!!xt(r.validatingFields,se),isTouched:!!xt((he||r).touchedFields,se)}),V=se=>{se&&ob(se).forEach(he=>ls(r.errors,he)),f.state.next({errors:se?r.errors:{}})},L=(se,he,ce)=>{const be=(xt(s,se,{_f:{}})._f||{}).ref,$e=xt(r.errors,se)||{},{ref:De,message:de,type:Ie,...ot}=$e;Fr(r.errors,se,{...ot,...he,ref:be}),f.state.next({name:se,errors:r.errors,isValid:!1}),ce&&ce.shouldFocus&&be&&be.focus&&be.focus()},K=(se,he)=>Ac(se)?f.values.subscribe({next:ce=>se(W(void 0,he),ce)}):W(se,he,!0),le=(se,he={})=>{for(const ce of se?ob(se):l.mount)l.mount.delete(ce),l.array.delete(ce),he.keepValue||(ls(s,ce),ls(i,ce)),!he.keepError&&ls(r.errors,ce),!he.keepDirty&&ls(r.dirtyFields,ce),!he.keepTouched&&ls(r.touchedFields,ce),!he.keepIsValidating&&ls(r.validatingFields,ce),!t.shouldUnregister&&!he.keepDefaultValue&&ls(a,ce);f.values.next({values:{...i}}),f.state.next({...r,...he.keepDirty?{isDirty:I()}:{}}),!he.keepIsValid&&g()},me=({disabled:se,name:he,field:ce,fields:be,value:$e})=>{if(Pl(se)&&o.mount||se){const De=se?void 0:Un($e)?iS(ce?ce._f:xt(be,he)._f):$e;Fr(i,he,De),_(he,De,!1,!1,!0)}},B=(se,he={})=>{let ce=xt(s,se);const be=Pl(he.disabled)||Pl(e.disabled);return Fr(s,se,{...ce||{},_f:{...ce&&ce._f?ce._f:{ref:{name:se}},name:se,mount:!0,...he}}),l.mount.add(se),ce?me({field:ce,disabled:Pl(he.disabled)?he.disabled:e.disabled,name:se,value:he.value}):N(se,!0,he.value),{...be?{disabled:he.disabled||e.disabled}:{},...t.progressive?{required:!!he.required,min:Fx(he.min),max:Fx(he.max),minLength:Fx(he.minLength),maxLength:Fx(he.maxLength),pattern:Fx(he.pattern)}:{},name:se,onChange:M,onBlur:M,ref:$e=>{if($e){B(se,he),ce=xt(s,se);const De=Un($e.value)&&$e.querySelectorAll&&$e.querySelectorAll("input,select,textarea")[0]||$e,de=Wde(De),Ie=ce._f.refs||[];if(de?Ie.find(ot=>ot===De):De===ce._f.ref)return;Fr(s,se,{_f:{...ce._f,...de?{refs:[...Ie.filter(aS),De,...Array.isArray(xt(a,se))?[{}]:[]],ref:{type:De.type,name:se}}:{ref:De}}}),N(se,!1,void 0,De)}else ce=xt(s,se,{}),ce._f&&(ce._f.mount=!1),(t.shouldUnregister||he.shouldUnregister)&&!(Rde(l.array,se)&&o.action)&&l.unMount.add(se)}}},X=()=>t.shouldFocusError&&Sg(s,D,l.mount),oe=se=>{Pl(se)&&(f.state.next({disabled:se}),Sg(s,(he,ce)=>{const be=xt(s,ce);be&&(he.disabled=be._f.disabled||se,Array.isArray(be._f.refs)&&be._f.refs.forEach($e=>{$e.disabled=be._f.disabled||se}))},0,!1))},Ne=(se,he)=>async ce=>{let be;ce&&(ce.preventDefault&&ce.preventDefault(),ce.persist&&ce.persist());let $e=ro(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:De,values:de}=await A();r.errors=De,$e=de}else await k(s);if(ls(r.errors,"root"),Ha(r.errors)){f.state.next({errors:{}});try{await se($e,ce)}catch(De){be=De}}else he&&await he({...r.errors},ce),X(),setTimeout(X);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ha(r.errors)&&!be,submitCount:r.submitCount+1,errors:r.errors}),be)throw be},ue=(se,he={})=>{xt(s,se)&&(Un(he.defaultValue)?P(se,ro(xt(a,se))):(P(se,he.defaultValue),Fr(a,se,ro(he.defaultValue))),he.keepTouched||ls(r.touchedFields,se),he.keepDirty||(ls(r.dirtyFields,se),r.isDirty=he.defaultValue?I(se,ro(xt(a,se))):I()),he.keepError||(ls(r.errors,se),u.isValid&&g()),f.state.next({...r}))},ve=(se,he={})=>{const ce=se?ro(se):a,be=ro(ce),$e=Ha(se),De=$e?a:be;if(he.keepDefaultValues||(a=ce),!he.keepValues){if(he.keepDirtyValues){const de=new Set([...l.mount,...Object.keys(Mx(a,i))]);for(const Ie of Array.from(de))xt(r.dirtyFields,Ie)?Fr(De,Ie,xt(i,Ie)):P(Ie,xt(De,Ie))}else{if(nT&&Un(se))for(const de of l.mount){const Ie=xt(s,de);if(Ie&&Ie._f){const ot=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(Xb(ot)){const jt=ot.closest("form");if(jt){jt.reset();break}}}}s={}}i=e.shouldUnregister?he.keepDefaultValues?ro(a):{}:ro(De),f.array.next({values:{...De}}),f.values.next({values:{...De}})}l={mount:he.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!he.keepIsValid||!!he.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:he.keepSubmitCount?r.submitCount:0,isDirty:$e?!1:he.keepDirty?r.isDirty:!!(he.keepDefaultValues&&!Td(se,a)),isSubmitted:he.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:$e?{}:he.keepDirtyValues?he.keepDefaultValues&&i?Mx(a,i):r.dirtyFields:he.keepDefaultValues&&se?Mx(a,se):he.keepDirty?r.dirtyFields:{},touchedFields:he.keepTouched?r.touchedFields:{},errors:he.keepErrors?r.errors:{},isSubmitSuccessful:he.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},xe=(se,he)=>ve(Ac(se)?se(i):se,he);return{control:{register:B,unregister:le,getFieldState:R,handleSubmit:Ne,setError:L,_executeSchema:A,_getWatch:W,_getDirty:I,_updateValid:g,_removeUnmounted:O,_updateFieldArray:y,_updateDisabledField:me,_getFieldArray:H,_reset:ve,_resetDefaultValues:()=>Ac(t.defaultValues)&&t.defaultValues().then(se=>{xe(se,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:se=>{r={...r,...se}},_disableForm:oe,_subjects:f,_proxyFormState:u,_setErrors:b,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(se){o=se},get _defaultValues(){return a},get _names(){return l},set _names(se){l=se},get _formState(){return r},set _formState(se){r=se},get _options(){return t},set _options(se){t={...t,...se}}},trigger:Y,register:B,handleSubmit:Ne,watch:K,setValue:P,getValues:ae,reset:xe,resetField:ue,clearErrors:V,unregister:le,setError:L,setFocus:(se,he={})=>{const ce=xt(s,se),be=ce&&ce._f;if(be){const $e=be.refs?be.refs[0]:be.ref;$e.focus&&($e.focus(),he.shouldSelect&&$e.select())}},getFieldState:R}}function oT(e={}){const t=z.useRef(),r=z.useRef(),[s,a]=z.useState({isDirty:!1,isValidating:!1,isLoading:Ac(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Ac(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Qde(e),formState:s});const i=t.current.control;return i._options=e,Lde({subject:i._subjects.state,next:o=>{$de(o,i._proxyFormState,i._updateFormState)&&a({...i._formState})}}),z.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),z.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),z.useEffect(()=>{e.values&&!Td(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),z.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),z.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),z.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),z.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[s]),t.current.formState=Fde(s,i),t.current}const JI=(e,t,r)=>{if(e&&"reportValidity"in e){const s=xt(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},xV=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?JI(s.ref,r,e):s.refs&&s.refs.forEach(a=>JI(a,r,e))}},Zde=(e,t)=>{t.shouldUseNativeValidation&&xV(e,t);const r={};for(const s in e){const a=xt(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if(Jde(t.names||Object.keys(e),s)){const o=Object.assign({},xt(r,s));Fr(o,"root",i),Fr(r,s,o)}else Fr(r,s,i)}return r},Jde=(e,t)=>e.some(r=>r.startsWith(t+"."));var eue=function(e,t){for(var r={};e.length;){var s=e[0],a=s.code,i=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,d=c&&c[s.code];r[o]=cV(o,t,r,a,d?[].concat(d,s.message):s.message)}e.shift()}return r},lT=function(e,t,r){return r===void 0&&(r={}),function(s,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(d){return i.shouldUseNativeValidation&&xV({},i),{errors:{},values:r.raw?s:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Zde(eue(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},mr;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(mr||(mr={}));var eR;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(eR||(eR={}));const pt=mr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Qu=e=>{switch(typeof e){case"undefined":return pt.undefined;case"string":return pt.string;case"number":return isNaN(e)?pt.nan:pt.number;case"boolean":return pt.boolean;case"function":return pt.function;case"bigint":return pt.bigint;case"symbol":return pt.symbol;case"object":return Array.isArray(e)?pt.array:e===null?pt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?pt.promise:typeof Map<"u"&&e instanceof Map?pt.map:typeof Set<"u"&&e instanceof Set?pt.set:typeof Date<"u"&&e instanceof Date?pt.date:pt.object;default:return pt.unknown}},Xe=mr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class go extends Error{constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),s}static assert(t){if(!(t instanceof go))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,mr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):s.push(t(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}go.create=e=>new go(e);const g0=(e,t)=>{let r;switch(e.code){case Xe.invalid_type:e.received===pt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Xe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,mr.jsonStringifyReplacer)}`;break;case Xe.unrecognized_keys:r=`Unrecognized key(s) in object: ${mr.joinValues(e.keys,", ")}`;break;case Xe.invalid_union:r="Invalid input";break;case Xe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${mr.joinValues(e.options)}`;break;case Xe.invalid_enum_value:r=`Invalid enum value. Expected ${mr.joinValues(e.options)}, received '${e.received}'`;break;case Xe.invalid_arguments:r="Invalid function arguments";break;case Xe.invalid_return_type:r="Invalid function return type";break;case Xe.invalid_date:r="Invalid date";break;case Xe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:mr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Xe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Xe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Xe.custom:r="Invalid input";break;case Xe.invalid_intersection_types:r="Intersection results could not be merged";break;case Xe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Xe.not_finite:r="Number must be finite";break;default:r=t.defaultError,mr.assertNever(e)}return{message:r}};let tue=g0;function sA(){return tue}const aA=e=>{const{data:t,path:r,errorMaps:s,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function ut(e,t){const r=sA(),s=aA({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===g0?void 0:g0].filter(a=>!!a)});e.common.issues.push(s)}class Ia{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const a of r){if(a.status==="aborted")return It;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const a of r){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return Ia.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return It;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const It=Object.freeze({status:"aborted"}),og=e=>({status:"dirty",value:e}),ci=e=>({status:"valid",value:e}),tR=e=>e.status==="aborted",rR=e=>e.status==="dirty",Jb=e=>e.status==="valid",e1=e=>typeof Promise<"u"&&e instanceof Promise;function t1(e,t,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function gV(e,t,r,s,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var wt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(wt||(wt={}));var lg,cg;class Zl{constructor(t,r,s,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const nR=(e,t)=>{if(Jb(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new go(e.common.issues);return this._error=r,this._error}}};function qt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:a}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,d;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??s)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??r)!==null&&d!==void 0?d:l.defaultError}},description:a}}class rr{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Qu(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Qu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ia,ctx:{common:t.parent.common,data:t.data,parsedType:Qu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(e1(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){var s;const a={common:{issues:[],async:(s=r==null?void 0:r.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Qu(t)},i=this._parseSync({data:t,path:a.path,parent:a});return nR(a,i)}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Qu(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(e1(a)?a:Promise.resolve(a));return nR(s,i)}refine(t,r){const s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:Xe.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(t){return new Qc({schema:this,typeName:Ot.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Dc.create(this,this._def)}nullable(){return zf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Hl.create(this,this._def)}promise(){return y0.create(this,this._def)}or(t){return s1.create([this,t],this._def)}and(t){return a1.create(this,t,this._def)}transform(t){return new Qc({...qt(this._def),schema:this,typeName:Ot.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new d1({...qt(this._def),innerType:this,defaultValue:r,typeName:Ot.ZodDefault})}brand(){return new bV({typeName:Ot.ZodBranded,type:this,...qt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new u1({...qt(this._def),innerType:this,catchValue:r,typeName:Ot.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return RN.create(this,t)}readonly(){return f1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const rue=/^c[^\s-]{8,}$/i,nue=/^[0-9a-z]+$/,sue=/^[0-9A-HJKMNP-TV-Z]{26}$/,aue=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,iue=/^[a-z0-9_-]{21}$/i,oue=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,lue=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,cue="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let oS;const due=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,uue=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,fue=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,vV="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",mue=new RegExp(`^${vV}$`);function yV(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function hue(e){return new RegExp(`^${yV(e)}$`)}function pue(e){let t=`${vV}T${yV(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function xue(e,t){return!!((t==="v4"||!t)&&due.test(e)||(t==="v6"||!t)&&uue.test(e))}class Ec extends rr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==pt.string){const i=this._getOrReturnCtx(t);return ut(i,{code:Xe.invalid_type,expected:pt.string,received:i.parsedType}),It}const s=new Ia;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:Xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:Xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?ut(a,{code:Xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&ut(a,{code:Xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")lue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"email",code:Xe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")oS||(oS=new RegExp(cue,"u")),oS.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"emoji",code:Xe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")aue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"uuid",code:Xe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")iue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"nanoid",code:Xe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")rue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"cuid",code:Xe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")nue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"cuid2",code:Xe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")sue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"ulid",code:Xe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),ut(a,{validation:"url",code:Xe.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"regex",code:Xe.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Xe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Xe.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Xe.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?pue(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Xe.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?mue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Xe.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?hue(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Xe.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?oue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"duration",code:Xe.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?xue(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"ip",code:Xe.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?fue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"base64",code:Xe.invalid_string,message:i.message}),s.dirty()):mr.assertNever(i);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(a=>t.test(a),{validation:r,code:Xe.invalid_string,...wt.errToObj(s)})}_addCheck(t){return new Ec({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...wt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...wt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...wt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...wt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...wt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...wt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...wt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...wt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...wt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...wt.errToObj(t)})}datetime(t){var r,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(s=t==null?void 0:t.local)!==null&&s!==void 0?s:!1,...wt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...wt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...wt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...wt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...wt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...wt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...wt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...wt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...wt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...wt.errToObj(r)})}nonempty(t){return this.min(1,wt.errToObj(t))}trim(){return new Ec({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ec({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ec({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ec.create=e=>{var t;return new Ec({checks:[],typeName:Ot.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...qt(e)})};function gue(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=r>s?r:s,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class Qh extends rr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==pt.number){const i=this._getOrReturnCtx(t);return ut(i,{code:Xe.invalid_type,expected:pt.number,received:i.parsedType}),It}let s;const a=new Ia;for(const i of this._def.checks)i.kind==="int"?mr.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),ut(s,{code:Xe.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Xe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Xe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?gue(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Xe.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),ut(s,{code:Xe.not_finite,message:i.message}),a.dirty()):mr.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,wt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,wt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,wt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,wt.toString(r))}setLimit(t,r,s,a){return new Qh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:wt.toString(a)}]})}_addCheck(t){return new Qh({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:wt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:wt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:wt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:wt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:wt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:wt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:wt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:wt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:wt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&mr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Qh.create=e=>new Qh({checks:[],typeName:Ot.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...qt(e)});class Zh extends rr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==pt.bigint){const i=this._getOrReturnCtx(t);return ut(i,{code:Xe.invalid_type,expected:pt.bigint,received:i.parsedType}),It}let s;const a=new Ia;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Xe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Xe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Xe.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):mr.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,wt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,wt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,wt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,wt.toString(r))}setLimit(t,r,s,a){return new Zh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:wt.toString(a)}]})}_addCheck(t){return new Zh({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:wt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:wt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:wt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:wt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:wt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Zh.create=e=>{var t;return new Zh({checks:[],typeName:Ot.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...qt(e)})};class iA extends rr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==pt.boolean){const s=this._getOrReturnCtx(t);return ut(s,{code:Xe.invalid_type,expected:pt.boolean,received:s.parsedType}),It}return ci(t.data)}}iA.create=e=>new iA({typeName:Ot.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...qt(e)});class v0 extends rr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==pt.date){const i=this._getOrReturnCtx(t);return ut(i,{code:Xe.invalid_type,expected:pt.date,received:i.parsedType}),It}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return ut(i,{code:Xe.invalid_date}),It}const s=new Ia;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:Xe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:Xe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):mr.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new v0({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:wt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:wt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}v0.create=e=>new v0({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ot.ZodDate,...qt(e)});class oA extends rr{_parse(t){if(this._getType(t)!==pt.symbol){const s=this._getOrReturnCtx(t);return ut(s,{code:Xe.invalid_type,expected:pt.symbol,received:s.parsedType}),It}return ci(t.data)}}oA.create=e=>new oA({typeName:Ot.ZodSymbol,...qt(e)});class r1 extends rr{_parse(t){if(this._getType(t)!==pt.undefined){const s=this._getOrReturnCtx(t);return ut(s,{code:Xe.invalid_type,expected:pt.undefined,received:s.parsedType}),It}return ci(t.data)}}r1.create=e=>new r1({typeName:Ot.ZodUndefined,...qt(e)});class n1 extends rr{_parse(t){if(this._getType(t)!==pt.null){const s=this._getOrReturnCtx(t);return ut(s,{code:Xe.invalid_type,expected:pt.null,received:s.parsedType}),It}return ci(t.data)}}n1.create=e=>new n1({typeName:Ot.ZodNull,...qt(e)});class lA extends rr{constructor(){super(...arguments),this._any=!0}_parse(t){return ci(t.data)}}lA.create=e=>new lA({typeName:Ot.ZodAny,...qt(e)});class ph extends rr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ci(t.data)}}ph.create=e=>new ph({typeName:Ot.ZodUnknown,...qt(e)});class gu extends rr{_parse(t){const r=this._getOrReturnCtx(t);return ut(r,{code:Xe.invalid_type,expected:pt.never,received:r.parsedType}),It}}gu.create=e=>new gu({typeName:Ot.ZodNever,...qt(e)});class cA extends rr{_parse(t){if(this._getType(t)!==pt.undefined){const s=this._getOrReturnCtx(t);return ut(s,{code:Xe.invalid_type,expected:pt.void,received:s.parsedType}),It}return ci(t.data)}}cA.create=e=>new cA({typeName:Ot.ZodVoid,...qt(e)});class Hl extends rr{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),a=this._def;if(r.parsedType!==pt.array)return ut(r,{code:Xe.invalid_type,expected:pt.array,received:r.parsedType}),It;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(ut(r,{code:o?Xe.too_big:Xe.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(ut(r,{code:Xe.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(ut(r,{code:Xe.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Zl(r,o,r.path,l)))).then(o=>Ia.mergeArray(s,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Zl(r,o,r.path,l)));return Ia.mergeArray(s,i)}get element(){return this._def.type}min(t,r){return new Hl({...this._def,minLength:{value:t,message:wt.toString(r)}})}max(t,r){return new Hl({...this._def,maxLength:{value:t,message:wt.toString(r)}})}length(t,r){return new Hl({...this._def,exactLength:{value:t,message:wt.toString(r)}})}nonempty(t){return this.min(1,t)}}Hl.create=(e,t)=>new Hl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ot.ZodArray,...qt(t)});function Fm(e){if(e instanceof On){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=Dc.create(Fm(s))}return new On({...e._def,shape:()=>t})}else return e instanceof Hl?new Hl({...e._def,type:Fm(e.element)}):e instanceof Dc?Dc.create(Fm(e.unwrap())):e instanceof zf?zf.create(Fm(e.unwrap())):e instanceof Xc?Xc.create(e.items.map(t=>Fm(t))):e}class On extends rr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=mr.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==pt.object){const d=this._getOrReturnCtx(t);return ut(d,{code:Xe.invalid_type,expected:pt.object,received:d.parsedType}),It}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof gu&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Zl(a,f,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof gu){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(ut(a,{code:Xe.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Zl(a,f,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,m=await u.value;d.push({key:f,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>Ia.mergeObjectSync(s,d)):Ia.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return wt.errToObj,new On({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,s).message)!==null&&o!==void 0?o:s.defaultError;return r.code==="unrecognized_keys"?{message:(l=wt.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new On({...this._def,unknownKeys:"strip"})}passthrough(){return new On({...this._def,unknownKeys:"passthrough"})}extend(t){return new On({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new On({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ot.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new On({...this._def,catchall:t})}pick(t){const r={};return mr.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new On({...this._def,shape:()=>r})}omit(t){const r={};return mr.objectKeys(this.shape).forEach(s=>{t[s]||(r[s]=this.shape[s])}),new On({...this._def,shape:()=>r})}deepPartial(){return Fm(this)}partial(t){const r={};return mr.objectKeys(this.shape).forEach(s=>{const a=this.shape[s];t&&!t[s]?r[s]=a:r[s]=a.optional()}),new On({...this._def,shape:()=>r})}required(t){const r={};return mr.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof Dc;)i=i._def.innerType;r[s]=i}}),new On({...this._def,shape:()=>r})}keyof(){return jV(mr.objectKeys(this.shape))}}On.create=(e,t)=>new On({shape:()=>e,unknownKeys:"strip",catchall:gu.create(),typeName:Ot.ZodObject,...qt(t)});On.strictCreate=(e,t)=>new On({shape:()=>e,unknownKeys:"strict",catchall:gu.create(),typeName:Ot.ZodObject,...qt(t)});On.lazycreate=(e,t)=>new On({shape:e,unknownKeys:"strip",catchall:gu.create(),typeName:Ot.ZodObject,...qt(t)});class s1 extends rr{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new go(l.ctx.common.issues));return ut(r,{code:Xe.invalid_union,unionErrors:o}),It}if(r.common.async)return Promise.all(s.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of s){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new go(c));return ut(r,{code:Xe.invalid_union,unionErrors:l}),It}}get options(){return this._def.options}}s1.create=(e,t)=>new s1({options:e,typeName:Ot.ZodUnion,...qt(t)});const xc=e=>e instanceof o1?xc(e.schema):e instanceof Qc?xc(e.innerType()):e instanceof l1?[e.value]:e instanceof Vf?e.options:e instanceof c1?mr.objectValues(e.enum):e instanceof d1?xc(e._def.innerType):e instanceof r1?[void 0]:e instanceof n1?[null]:e instanceof Dc?[void 0,...xc(e.unwrap())]:e instanceof zf?[null,...xc(e.unwrap())]:e instanceof bV||e instanceof f1?xc(e.unwrap()):e instanceof u1?xc(e._def.innerType):[];class cT extends rr{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==pt.object)return ut(r,{code:Xe.invalid_type,expected:pt.object,received:r.parsedType}),It;const s=this.discriminator,a=r.data[s],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(ut(r,{code:Xe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),It)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,s){const a=new Map;for(const i of r){const o=xc(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new cT({typeName:Ot.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...qt(s)})}}function dA(e,t){const r=Qu(e),s=Qu(t);if(e===t)return{valid:!0,data:e};if(r===pt.object&&s===pt.object){const a=mr.objectKeys(t),i=mr.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=dA(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===pt.array&&s===pt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=dA(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===pt.date&&s===pt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class a1 extends rr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(tR(i)||tR(o))return It;const l=dA(i.value,o.value);return l.valid?((rR(i)||rR(o))&&r.dirty(),{status:r.value,value:l.data}):(ut(s,{code:Xe.invalid_intersection_types}),It)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}a1.create=(e,t,r)=>new a1({left:e,right:t,typeName:Ot.ZodIntersection,...qt(r)});class Xc extends rr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==pt.array)return ut(s,{code:Xe.invalid_type,expected:pt.array,received:s.parsedType}),It;if(s.data.length<this._def.items.length)return ut(s,{code:Xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),It;!this._def.rest&&s.data.length>this._def.items.length&&(ut(s,{code:Xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Zl(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>Ia.mergeArray(r,o)):Ia.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Xc({...this._def,rest:t})}}Xc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xc({items:e,typeName:Ot.ZodTuple,rest:null,...qt(t)})};class i1 extends rr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==pt.object)return ut(s,{code:Xe.invalid_type,expected:pt.object,received:s.parsedType}),It;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in s.data)a.push({key:i._parse(new Zl(s,l,s.path,l)),value:o._parse(new Zl(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?Ia.mergeObjectAsync(r,a):Ia.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,s){return r instanceof rr?new i1({keyType:t,valueType:r,typeName:Ot.ZodRecord,...qt(s)}):new i1({keyType:Ec.create(),valueType:t,typeName:Ot.ZodRecord,...qt(r)})}}class uA extends rr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==pt.map)return ut(s,{code:Xe.invalid_type,expected:pt.map,received:s.parsedType}),It;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:a._parse(new Zl(s,l,s.path,[d,"key"])),value:i._parse(new Zl(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return It;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return It;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}uA.create=(e,t,r)=>new uA({valueType:t,keyType:e,typeName:Ot.ZodMap,...qt(r)});class Jh extends rr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==pt.set)return ut(s,{code:Xe.invalid_type,expected:pt.set,received:s.parsedType}),It;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(ut(s,{code:Xe.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(ut(s,{code:Xe.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return It;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...s.data.values()].map((c,d)=>i._parse(new Zl(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Jh({...this._def,minSize:{value:t,message:wt.toString(r)}})}max(t,r){return new Jh({...this._def,maxSize:{value:t,message:wt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Jh.create=(e,t)=>new Jh({valueType:e,minSize:null,maxSize:null,typeName:Ot.ZodSet,...qt(t)});class Cg extends rr{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==pt.function)return ut(r,{code:Xe.invalid_type,expected:pt.function,received:r.parsedType}),It;function s(l,c){return aA({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,sA(),g0].filter(d=>!!d),issueData:{code:Xe.invalid_arguments,argumentsError:c}})}function a(l,c){return aA({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,sA(),g0].filter(d=>!!d),issueData:{code:Xe.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof y0){const l=this;return ci(async function(...c){const d=new go([]),u=await l._def.args.parseAsync(c,i).catch(h=>{throw d.addIssue(s(c,h)),d}),f=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(f,i).catch(h=>{throw d.addIssue(a(f,h)),d})})}else{const l=this;return ci(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new go([s(c,d.error)]);const u=Reflect.apply(o,this,d.data),f=l._def.returns.safeParse(u,i);if(!f.success)throw new go([a(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Cg({...this._def,args:Xc.create(t).rest(ph.create())})}returns(t){return new Cg({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,s){return new Cg({args:t||Xc.create([]).rest(ph.create()),returns:r||ph.create(),typeName:Ot.ZodFunction,...qt(s)})}}class o1 extends rr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}o1.create=(e,t)=>new o1({getter:e,typeName:Ot.ZodLazy,...qt(t)});class l1 extends rr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ut(r,{received:r.data,code:Xe.invalid_literal,expected:this._def.value}),It}return{status:"valid",value:t.data}}get value(){return this._def.value}}l1.create=(e,t)=>new l1({value:e,typeName:Ot.ZodLiteral,...qt(t)});function jV(e,t){return new Vf({values:e,typeName:Ot.ZodEnum,...qt(t)})}class Vf extends rr{constructor(){super(...arguments),lg.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return ut(r,{expected:mr.joinValues(s),received:r.parsedType,code:Xe.invalid_type}),It}if(t1(this,lg)||gV(this,lg,new Set(this._def.values)),!t1(this,lg).has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return ut(r,{received:r.data,code:Xe.invalid_enum_value,options:s}),It}return ci(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Vf.create(t,{...this._def,...r})}exclude(t,r=this._def){return Vf.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}lg=new WeakMap;Vf.create=jV;class c1 extends rr{constructor(){super(...arguments),cg.set(this,void 0)}_parse(t){const r=mr.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==pt.string&&s.parsedType!==pt.number){const a=mr.objectValues(r);return ut(s,{expected:mr.joinValues(a),received:s.parsedType,code:Xe.invalid_type}),It}if(t1(this,cg)||gV(this,cg,new Set(mr.getValidEnumValues(this._def.values))),!t1(this,cg).has(t.data)){const a=mr.objectValues(r);return ut(s,{received:s.data,code:Xe.invalid_enum_value,options:a}),It}return ci(t.data)}get enum(){return this._def.values}}cg=new WeakMap;c1.create=(e,t)=>new c1({values:e,typeName:Ot.ZodNativeEnum,...qt(t)});class y0 extends rr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==pt.promise&&r.common.async===!1)return ut(r,{code:Xe.invalid_type,expected:pt.promise,received:r.parsedType}),It;const s=r.parsedType===pt.promise?r.data:Promise.resolve(r.data);return ci(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}y0.create=(e,t)=>new y0({type:e,typeName:Ot.ZodPromise,...qt(t)});class Qc extends rr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ot.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{ut(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return It;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?It:c.status==="dirty"||r.value==="dirty"?og(c.value):c});{if(r.value==="aborted")return It;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?It:l.status==="dirty"||r.value==="dirty"?og(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?It:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?It:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Jb(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Jb(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);mr.assertNever(a)}}Qc.create=(e,t,r)=>new Qc({schema:e,typeName:Ot.ZodEffects,effect:t,...qt(r)});Qc.createWithPreprocess=(e,t,r)=>new Qc({schema:t,effect:{type:"preprocess",transform:e},typeName:Ot.ZodEffects,...qt(r)});class Dc extends rr{_parse(t){return this._getType(t)===pt.undefined?ci(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Dc.create=(e,t)=>new Dc({innerType:e,typeName:Ot.ZodOptional,...qt(t)});class zf extends rr{_parse(t){return this._getType(t)===pt.null?ci(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}zf.create=(e,t)=>new zf({innerType:e,typeName:Ot.ZodNullable,...qt(t)});class d1 extends rr{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===pt.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}d1.create=(e,t)=>new d1({innerType:e,typeName:Ot.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...qt(t)});class u1 extends rr{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return e1(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new go(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new go(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}u1.create=(e,t)=>new u1({innerType:e,typeName:Ot.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...qt(t)});class fA extends rr{_parse(t){if(this._getType(t)!==pt.nan){const s=this._getOrReturnCtx(t);return ut(s,{code:Xe.invalid_type,expected:pt.nan,received:s.parsedType}),It}return{status:"valid",value:t.data}}}fA.create=e=>new fA({typeName:Ot.ZodNaN,...qt(e)});class bV extends rr{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class RN extends rr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?It:i.status==="dirty"?(r.dirty(),og(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?It:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,r){return new RN({in:t,out:r,typeName:Ot.ZodPipeline})}}class f1 extends rr{_parse(t){const r=this._def.innerType._parse(t),s=a=>(Jb(a)&&(a.value=Object.freeze(a.value)),a);return e1(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}}f1.create=(e,t)=>new f1({innerType:e,typeName:Ot.ZodReadonly,...qt(t)});On.lazycreate;var Ot;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ot||(Ot={}));const cf=Ec.create;Qh.create;fA.create;Zh.create;iA.create;v0.create;oA.create;r1.create;n1.create;lA.create;ph.create;gu.create;cA.create;Hl.create;const dT=On.create;On.strictCreate;s1.create;cT.create;a1.create;Xc.create;i1.create;uA.create;Jh.create;Cg.create;o1.create;l1.create;Vf.create;c1.create;y0.create;Qc.create;Dc.create;zf.create;Qc.createWithPreprocess;RN.create;const j0=Lp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",outlineSecondary:"border border-yellow-500 bg-yellow-500 text-white hover:bg-primary hover:border-primary",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),te=v.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},i)=>{const o=s?Yl:"button";return n.jsx(o,{className:ge(j0({variant:t,size:r,className:e})),ref:i,...a})});te.displayName="Button";const fe=v.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));fe.displayName="Input";var vue="Label",wV=v.forwardRef((e,t)=>n.jsx(ft.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));wV.displayName=vue;var NV=wV;const yue=Lp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),G=v.forwardRef(({className:e,...t},r)=>n.jsx(NV,{ref:r,className:ge(yue(),e),...t}));G.displayName=NV.displayName;const jue=dT({email:cf().email("Please enter a valid email address"),password:cf().min(6,"Password must be at least 6 characters")});function bue(){const[e,t]=v.useState(!1),[r,s]=v.useState(!1),{login:a,loginWithGoogle:i,loginWithFacebook:o,loginWithTwitter:l}=qv(),{toast:c}=pr(),d=dr(),{theme:u,setTheme:f}=Up(),{register:m,handleSubmit:h,formState:{errors:x}}=oT({resolver:lT(jue)}),p=async j=>{s(!0);try{await a(j.email,j.password),c({title:"Welcome back!",description:"You have successfully logged in."}),d("/overview")}catch(y){c({title:"Login failed",description:y.message||"Please check your credentials and try again.",variant:"destructive"})}finally{s(!1)}},g=async j=>{s(!0);try{j==="google"?await i():j==="facebook"?await o():await l()}catch(y){c({title:"Login failed",description:y.message||"Something went wrong. Please try again.",variant:"destructive"}),s(!1)}};return n.jsxs("div",{className:"min-h-screen flex",children:[n.jsxs("div",{className:"flex-1 flex items-center justify-center p-8 lg:p-12 bg-background relative",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>f(u==="dark"?"light":"dark"),className:"absolute top-4 right-4 z-10",children:u==="dark"?n.jsx($v,{className:"h-5 w-5"}):n.jsx(Mv,{className:"h-5 w-5"})}),n.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Welcome back"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Sign in to continue to your account"})]}),n.jsxs("form",{onSubmit:h(p),className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"email",className:"text-sm font-semibold",children:"Email address"}),n.jsx(fe,{id:"email",type:"email",placeholder:"name@example.com",...m("email"),className:`h-12 text-base ${x.email?"border-destructive":""}`}),x.email&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:x.email.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(G,{htmlFor:"password",className:"text-sm font-semibold",children:"Password"}),n.jsx(Vi,{to:"/forgot-password",className:"text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:"Forgot?"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(fe,{id:"password",type:e?"text":"password",placeholder:"Enter your password",...m("password"),className:`h-12 text-base pr-12 ${x.password?"border-destructive":""}`}),n.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:e?n.jsx(dh,{className:"h-5 w-5"}):n.jsx(ti,{className:"h-5 w-5"})})]}),x.password&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:x.password.message})]}),n.jsx(te,{type:"submit",className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all shadow-md",disabled:r,children:r?"Signing in...":"Sign in"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t border-border"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"bg-background px-4 text-muted-foreground font-medium",children:"or"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(te,{type:"button",variant:"outline",className:"w-full h-12 text-base font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>g("google"),disabled:r,children:[n.jsx(g7,{className:"mr-3 h-5 w-5"}),"Continue with Google"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs(te,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>g("facebook"),disabled:r,children:[n.jsx(j7,{className:"mr-2 h-5 w-5"}),"Facebook"]}),n.jsxs(te,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>g("twitter"),disabled:r,children:[n.jsx(_7,{className:"mr-2 h-5 w-5"}),"Twitter"]})]})]}),n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-muted-foreground",children:["Don't have an account?"," ",n.jsx(Vi,{to:"/signup",className:"text-primary font-semibold hover:text-primary/80 transition-colors",children:"Create account"})]})})]})]}),n.jsxs("div",{className:"hidden lg:flex lg:flex-1 bg-gradient-to-br from-primary via-primary/90 to-accent relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"}),n.jsx("div",{className:"relative flex flex-col items-center justify-center p-12 text-white",children:n.jsxs("div",{className:"max-w-md space-y-6 animate-fade-in",children:[n.jsx("h2",{className:"text-5xl font-bold leading-tight",children:"Manage your business with ease"}),n.jsx("p",{className:"text-xl text-white/90 leading-relaxed",children:"Streamline your operations, track your inventory, and grow your business with our all-in-one platform."}),n.jsxs("div",{className:"flex items-center gap-2 pt-8",children:[n.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(j=>n.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 border-2 border-white flex items-center justify-center backdrop-blur-sm",children:n.jsx("span",{className:"text-sm font-semibold",children:j})},j))}),n.jsx("p",{className:"text-sm text-white/80 font-medium",children:"Trusted by 1000+ businesses"})]})]})}),n.jsx("div",{className:"absolute top-20 right-20 w-72 h-72 bg-white/10 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 bg-accent/20 rounded-full blur-3xl"})]})]})}const wue=dT({name:cf().min(2,"Name must be at least 2 characters").max(100,"Name is too long"),email:cf().email("Please enter a valid email address").max(255,"Email is too long"),password:cf().min(8,"Password must be at least 8 characters").max(100,"Password is too long").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:cf()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Nue(){const[e,t]=v.useState(!1),[r,s]=v.useState(!1),[a,i]=v.useState(!1),{signup:o,loginWithGoogle:l,loginWithFacebook:c,loginWithTwitter:d}=qv(),{toast:u}=pr(),f=dr(),{theme:m,setTheme:h}=Up(),{register:x,handleSubmit:p,formState:{errors:g},watch:j}=oT({resolver:lT(wue)}),y=j("password",""),w=[{label:"At least 8 characters",met:y.length>=8},{label:"One uppercase letter",met:/[A-Z]/.test(y)},{label:"One lowercase letter",met:/[a-z]/.test(y)},{label:"One number",met:/[0-9]/.test(y)}],b=async _=>{i(!0);try{await o(_.email,_.password,_.name),u({title:"Account created!",description:"Please check your email to verify your account."}),f("/overview")}catch(C){u({title:"Signup failed",description:C.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{i(!1)}},N=async _=>{i(!0);try{_==="google"?await l():_==="facebook"?await c():await d()}catch(C){u({title:"Signup failed",description:C.message||"Something went wrong. Please try again.",variant:"destructive"}),i(!1)}};return n.jsxs("div",{className:"min-h-screen flex",children:[n.jsxs("div",{className:"hidden lg:flex lg:flex-1 bg-gradient-to-br from-accent via-accent/90 to-primary relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"}),n.jsx("div",{className:"relative flex flex-col items-center justify-center p-12 text-white",children:n.jsxs("div",{className:"max-w-md space-y-6 animate-fade-in",children:[n.jsx("h2",{className:"text-5xl font-bold leading-tight",children:"Start your journey today"}),n.jsx("p",{className:"text-xl text-white/90 leading-relaxed",children:"Join thousands of businesses already using our platform to streamline their operations and boost productivity."}),n.jsx("div",{className:"grid grid-cols-2 gap-6 pt-8",children:[{label:"Active Users",value:"10,000+"},{label:"Success Rate",value:"99.9%"},{label:"Countries",value:"50+"},{label:"Support 24/7",value:"Available"}].map(_=>n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-3xl font-bold",children:_.value}),n.jsx("p",{className:"text-sm text-white/80",children:_.label})]},_.label))})]})}),n.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-white/10 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-primary/20 rounded-full blur-3xl"})]}),n.jsxs("div",{className:"flex-1 flex items-center justify-center p-8 lg:p-12 bg-background overflow-y-auto relative",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>h(m==="dark"?"light":"dark"),className:"absolute top-4 right-4 z-10",children:m==="dark"?n.jsx($v,{className:"h-5 w-5"}):n.jsx(Mv,{className:"h-5 w-5"})}),n.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Create account"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Start your free trial today"})]}),n.jsxs("form",{onSubmit:p(b),className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"name",className:"text-sm font-semibold",children:"Full name"}),n.jsx(fe,{id:"name",type:"text",placeholder:"John Doe",...x("name"),className:`h-12 text-base ${g.name?"border-destructive":""}`}),g.name&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:g.name.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"email",className:"text-sm font-semibold",children:"Email address"}),n.jsx(fe,{id:"email",type:"email",placeholder:"name@example.com",...x("email"),className:`h-12 text-base ${g.email?"border-destructive":""}`}),g.email&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:g.email.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"password",className:"text-sm font-semibold",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(fe,{id:"password",type:e?"text":"password",placeholder:"Create a strong password",...x("password"),className:`h-12 text-base pr-12 ${g.password?"border-destructive":""}`}),n.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:e?n.jsx(dh,{className:"h-5 w-5"}):n.jsx(ti,{className:"h-5 w-5"})})]}),y&&n.jsx("div",{className:"space-y-2 pt-2",children:w.map(_=>n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(sr,{className:`h-4 w-4 ${_.met?"text-success":"text-muted-foreground"}`}),n.jsx("span",{className:_.met?"text-success":"text-muted-foreground",children:_.label})]},_.label))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"confirmPassword",className:"text-sm font-semibold",children:"Confirm password"}),n.jsxs("div",{className:"relative",children:[n.jsx(fe,{id:"confirmPassword",type:r?"text":"password",placeholder:"Confirm your password",...x("confirmPassword"),className:`h-12 text-base pr-12 ${g.confirmPassword?"border-destructive":""}`}),n.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:r?n.jsx(dh,{className:"h-5 w-5"}):n.jsx(ti,{className:"h-5 w-5"})})]}),g.confirmPassword&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:g.confirmPassword.message})]}),n.jsx(te,{type:"submit",className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all shadow-md",disabled:a,children:a?"Creating account...":"Create account"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t border-border"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"bg-background px-4 text-muted-foreground font-medium",children:"or"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(te,{type:"button",variant:"outline",className:"w-full h-12 text-base font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>N("google"),disabled:a,children:[n.jsx(g7,{className:"mr-3 h-5 w-5"}),"Continue with Google"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs(te,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>N("facebook"),disabled:a,children:[n.jsx(j7,{className:"mr-2 h-5 w-5"}),"Facebook"]}),n.jsxs(te,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>N("twitter"),disabled:a,children:[n.jsx(_7,{className:"mr-2 h-5 w-5"}),"Twitter"]})]})]}),n.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["By creating an account, you agree to our"," ",n.jsx("a",{href:"#",className:"text-primary hover:underline font-medium",children:"Terms of Service"})," ","and"," ",n.jsx("a",{href:"#",className:"text-primary hover:underline font-medium",children:"Privacy Policy"})]}),n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",n.jsx(Vi,{to:"/login",className:"text-primary font-semibold hover:text-primary/80 transition-colors",children:"Sign in"})]})})]})]})]})}const _ue=dT({email:cf().email("Please enter a valid email address").max(255,"Email is too long")});function Sue(){const[e,t]=v.useState(!1),[r,s]=v.useState(!1),{resetPassword:a}=qv(),{toast:i}=pr(),{theme:o,setTheme:l}=Up(),{register:c,handleSubmit:d,formState:{errors:u},getValues:f}=oT({resolver:lT(_ue)}),m=async h=>{t(!0);try{await a(h.email),s(!0),i({title:"Email sent!",description:"Check your inbox for password reset instructions."})}catch(x){i({title:"Failed to send email",description:x.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{t(!1)}};return n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-accent/5 p-4 relative",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>l(o==="dark"?"light":"dark"),className:"absolute top-4 right-4 z-10",children:o==="dark"?n.jsx($v,{className:"h-5 w-5"}):n.jsx(Mv,{className:"h-5 w-5"})}),n.jsx("div",{className:"w-full max-w-md",children:n.jsx("div",{className:"bg-card rounded-3xl shadow-2xl border border-border p-8 lg:p-10 animate-fade-in",children:r?n.jsx(n.Fragment,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-success/10 mb-6",children:n.jsx(Br,{className:"h-10 w-10 text-success"})}),n.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-foreground mb-3",children:"Check your email"}),n.jsx("p",{className:"text-muted-foreground text-base mb-6 leading-relaxed",children:"We've sent password reset instructions to"}),n.jsx("p",{className:"font-semibold text-foreground text-lg mb-6",children:f("email")}),n.jsx("div",{className:"bg-muted/50 rounded-xl p-4 mb-6",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Didn't receive the email? Check your spam folder or"," ",n.jsx("button",{type:"button",onClick:()=>s(!1),className:"text-primary hover:underline font-medium",children:"try another email address"})]})}),n.jsx(Vi,{to:"/login",children:n.jsx(te,{className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all",children:"Back to login"})})]})}):n.jsxs(n.Fragment,{children:[n.jsxs(Vi,{to:"/login",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-8 transition-colors group",children:[n.jsx(tr,{className:"mr-2 h-4 w-4 group-hover:-translate-x-1 transition-transform"}),"Back to login"]}),n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary/10 mb-6",children:n.jsx(yn,{className:"h-8 w-8 text-primary"})}),n.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-foreground mb-3",children:"Forgot password?"}),n.jsx("p",{className:"text-muted-foreground text-base lg:text-lg leading-relaxed",children:"No worries! Enter your email and we'll send you reset instructions."})]}),n.jsxs("form",{onSubmit:d(m),className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"email",className:"text-sm font-semibold",children:"Email address"}),n.jsx(fe,{id:"email",type:"email",placeholder:"name@example.com",...c("email"),className:`h-12 text-base ${u.email?"border-destructive":""}`}),u.email&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:u.email.message})]}),n.jsx(te,{type:"submit",className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all shadow-md",disabled:e,children:e?"Sending...":"Send reset instructions"})]})]})})})]})}var uT="Avatar",[Cue,Mnt]=Zs(uT),[Aue,_V]=Cue(uT),SV=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...s}=e,[a,i]=v.useState("idle");return n.jsx(Aue,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:n.jsx(ft.span,{...s,ref:t})})});SV.displayName=uT;var CV="AvatarImage",AV=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=_V(CV,r),l=Eue(s,i.referrerPolicy),c=pn(d=>{a(d),o.onImageLoadingStatusChange(d)});return rs(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?n.jsx(ft.img,{...i,ref:t,src:s}):null});AV.displayName=CV;var EV="AvatarFallback",PV=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:s,...a}=e,i=_V(EV,r),[o,l]=v.useState(s===void 0);return v.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(ft.span,{...a,ref:t}):null});PV.displayName=EV;function Eue(e,t){const[r,s]=v.useState("idle");return rs(()=>{if(!e){s("error");return}let a=!0;const i=new window.Image,o=l=>()=>{a&&s(l)};return s("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{a=!1}},[e,t]),r}var kV=SV,TV=AV,OV=PV;const mA=v.forwardRef(({className:e,...t},r)=>n.jsx(kV,{ref:r,className:ge("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));mA.displayName=kV.displayName;const Pue=v.forwardRef(({className:e,...t},r)=>n.jsx(TV,{ref:r,className:ge("aspect-square h-full w-full",e),...t}));Pue.displayName=TV.displayName;const hA=v.forwardRef(({className:e,...t},r)=>n.jsx(OV,{ref:r,className:ge("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));hA.displayName=OV.displayName;var kue=v.createContext(void 0);function om(e){const t=v.useContext(kue);return e||t||"ltr"}var lS=0;function MN(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??sR()),document.body.insertAdjacentElement("beforeend",e[1]??sR()),lS++,()=>{lS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),lS--}},[])}function sR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var cS="focusScope.autoFocusOnMount",dS="focusScope.autoFocusOnUnmount",aR={bubbles:!1,cancelable:!0},Tue="FocusScope",Kv=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),d=pn(a),u=pn(i),f=v.useRef(null),m=Dt(t,p=>c(p)),h=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(s){let p=function(w){if(h.paused||!l)return;const b=w.target;l.contains(b)?f.current=b:Nd(f.current,{select:!0})},g=function(w){if(h.paused||!l)return;const b=w.relatedTarget;b!==null&&(l.contains(b)||Nd(f.current,{select:!0}))},j=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Nd(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const y=new MutationObserver(j);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),y.disconnect()}}},[s,l,h.paused]),v.useEffect(()=>{if(l){oR.add(h);const p=document.activeElement;if(!l.contains(p)){const j=new CustomEvent(cS,aR);l.addEventListener(cS,d),l.dispatchEvent(j),j.defaultPrevented||(Oue(Fue(DV(l)),{select:!0}),document.activeElement===p&&Nd(l))}return()=>{l.removeEventListener(cS,d),setTimeout(()=>{const j=new CustomEvent(dS,aR);l.addEventListener(dS,u),l.dispatchEvent(j),j.defaultPrevented||Nd(p??document.body,{select:!0}),l.removeEventListener(dS,u),oR.remove(h)},0)}}},[l,d,u,h]);const x=v.useCallback(p=>{if(!r&&!s||h.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,j=document.activeElement;if(g&&j){const y=p.currentTarget,[w,b]=Due(y);w&&b?!p.shiftKey&&j===b?(p.preventDefault(),r&&Nd(w,{select:!0})):p.shiftKey&&j===w&&(p.preventDefault(),r&&Nd(b,{select:!0})):j===y&&p.preventDefault()}},[r,s,h.paused]);return n.jsx(ft.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});Kv.displayName=Tue;function Oue(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Nd(s,{select:t}),document.activeElement!==r)return}function Due(e){const t=DV(e),r=iR(t,e),s=iR(t.reverse(),e);return[r,s]}function DV(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function iR(e,t){for(const r of e)if(!Iue(r,{upTo:t}))return r}function Iue(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Rue(e){return e instanceof HTMLInputElement&&"select"in e}function Nd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Rue(e)&&t&&e.select()}}var oR=Mue();function Mue(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=lR(e,t),e.unshift(t)},remove(t){var r;e=lR(e,t),(r=e[0])==null||r.resume()}}}function lR(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function Fue(e){return e.filter(t=>t.tagName!=="A")}function $ue(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,Lue(a,...t)]}function Lue(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var uS="rovingFocusGroup.onEntryFocus",Bue={bubbles:!1,cancelable:!0},FN="RovingFocusGroup",[pA,IV,Uue]=Ov(FN),[Vue,Yp]=$ue(FN,[Uue]),[zue,Wue]=Vue(FN),RV=v.forwardRef((e,t)=>n.jsx(pA.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(pA.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Hue,{...e,ref:t})})}));RV.displayName=FN;var Hue=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,m=v.useRef(null),h=Dt(t,m),x=om(i),[p=null,g]=Oa({prop:o,defaultProp:l,onChange:c}),[j,y]=v.useState(!1),w=pn(d),b=IV(r),N=v.useRef(!1),[_,C]=v.useState(0);return v.useEffect(()=>{const A=m.current;if(A)return A.addEventListener(uS,w),()=>A.removeEventListener(uS,w)},[w]),n.jsx(zue,{scope:r,orientation:s,dir:x,loop:a,currentTabStopId:p,onItemFocus:v.useCallback(A=>g(A),[g]),onItemShiftTab:v.useCallback(()=>y(!0),[]),onFocusableItemAdd:v.useCallback(()=>C(A=>A+1),[]),onFocusableItemRemove:v.useCallback(()=>C(A=>A-1),[]),children:n.jsx(ft.div,{tabIndex:j||_===0?-1:0,"data-orientation":s,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:Ge(e.onMouseDown,()=>{N.current=!0}),onFocus:Ge(e.onFocus,A=>{const E=!N.current;if(A.target===A.currentTarget&&E&&!j){const k=new CustomEvent(uS,Bue);if(A.currentTarget.dispatchEvent(k),!k.defaultPrevented){const O=b().filter(T=>T.focusable),I=O.find(T=>T.active),W=O.find(T=>T.id===p),F=[I,W,...O].filter(Boolean).map(T=>T.ref.current);$V(F,u)}}N.current=!1}),onBlur:Ge(e.onBlur,()=>y(!1))})})}),MV="RovingFocusGroupItem",FV=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,...o}=e,l=si(),c=i||l,d=Wue(MV,r),u=d.currentTabStopId===c,f=IV(r),{onFocusableItemAdd:m,onFocusableItemRemove:h}=d;return v.useEffect(()=>{if(s)return m(),()=>h()},[s,m,h]),n.jsx(pA.ItemSlot,{scope:r,id:c,focusable:s,active:a,children:n.jsx(ft.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:Ge(e.onMouseDown,x=>{s?d.onItemFocus(c):x.preventDefault()}),onFocus:Ge(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Ge(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const p=Kue(x,d.orientation,d.dir);if(p!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let j=f().filter(y=>y.focusable).map(y=>y.ref.current);if(p==="last")j.reverse();else if(p==="prev"||p==="next"){p==="prev"&&j.reverse();const y=j.indexOf(x.currentTarget);j=d.loop?Yue(j,y+1):j.slice(y+1)}setTimeout(()=>$V(j))}})})})});FV.displayName=MV;var que={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Gue(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Kue(e,t,r){const s=Gue(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return que[s]}function $V(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function Yue(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var fT=RV,mT=FV,Xue=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},_m=new WeakMap,nj=new WeakMap,sj={},fS=0,LV=function(e){return e&&(e.host||LV(e.parentNode))},Que=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=LV(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Zue=function(e,t,r,s){var a=Que(t,Array.isArray(e)?e:[e]);sj[r]||(sj[r]=new WeakMap);var i=sj[r],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))u(m);else try{var h=m.getAttribute(s),x=h!==null&&h!=="false",p=(_m.get(m)||0)+1,g=(i.get(m)||0)+1;_m.set(m,p),i.set(m,g),o.push(m),p===1&&x&&nj.set(m,!0),g===1&&m.setAttribute(r,"true"),x||m.setAttribute(s,"true")}catch(j){console.error("aria-hidden: cannot operate on ",m,j)}})};return u(t),l.clear(),fS++,function(){o.forEach(function(f){var m=_m.get(f)-1,h=i.get(f)-1;_m.set(f,m),i.set(f,h),m||(nj.has(f)||f.removeAttribute(s),nj.delete(f)),h||f.removeAttribute(r)}),fS--,fS||(_m=new WeakMap,_m=new WeakMap,nj=new WeakMap,sj={})}},Yv=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=Xue(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),Zue(s,a,r,"aria-hidden")):function(){return null}},la=function(){return la=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},la.apply(this,arguments)};function hT(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function BV(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var Ag="right-scroll-bar-position",Eg="width-before-scroll-bar",Jue="with-scroll-bars-hidden",efe="--removed-body-scroll-bar-size";function mS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function tfe(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var rfe=typeof window<"u"?v.useLayoutEffect:v.useEffect,cR=new WeakMap;function UV(e,t){var r=tfe(null,function(s){return e.forEach(function(a){return mS(a,s)})});return rfe(function(){var s=cR.get(r);if(s){var a=new Set(s),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||mS(l,null)}),i.forEach(function(l){a.has(l)||mS(l,o)})}cR.set(r,e)},[e]),r}function nfe(e){return e}function sfe(e,t){t===void 0&&(t=nfe);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function VV(e){e===void 0&&(e={});var t=sfe(null);return t.options=la({async:!0,ssr:!1},e),t}var zV=function(e){var t=e.sideCar,r=hT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return v.createElement(s,la({},r))};zV.isSideCarExport=!0;function WV(e,t){return e.useMedium(t),zV}var HV=VV(),hS=function(){},$N=v.forwardRef(function(e,t){var r=v.useRef(null),s=v.useState({onScrollCapture:hS,onWheelCapture:hS,onTouchMoveCapture:hS}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,h=e.noIsolation,x=e.inert,p=e.allowPinchZoom,g=e.as,j=g===void 0?"div":g,y=e.gapMode,w=hT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=m,N=UV([r,t]),_=la(la({},w),a);return v.createElement(v.Fragment,null,u&&v.createElement(b,{sideCar:HV,removeScrollBar:d,shards:f,noIsolation:h,inert:x,setCallbacks:i,allowPinchZoom:!!p,lockRef:r,gapMode:y}),o?v.cloneElement(v.Children.only(l),la(la({},_),{ref:N})):v.createElement(j,la({},_,{className:c,ref:N}),l))});$N.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$N.classNames={fullWidth:Eg,zeroRight:Ag};var afe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ife(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=afe();return t&&e.setAttribute("nonce",t),e}function ofe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function lfe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var cfe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=ife())&&(ofe(t,r),lfe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},dfe=function(){var e=cfe();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},pT=function(){var e=dfe(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},ufe={left:0,top:0,right:0,gap:0},pS=function(e){return parseInt(e||"",10)||0},ffe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[pS(r),pS(s),pS(a)]},mfe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ufe;var t=ffe(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},hfe=pT(),xh="data-scroll-locked",pfe=function(e,t,r,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Jue,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(xh,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ag,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Eg,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Ag," .").concat(Ag,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Eg," .").concat(Eg,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(xh,`] {
    `).concat(efe,": ").concat(l,`px;
  }
`)},dR=function(){var e=parseInt(document.body.getAttribute(xh)||"0",10);return isFinite(e)?e:0},xfe=function(){v.useEffect(function(){return document.body.setAttribute(xh,(dR()+1).toString()),function(){var e=dR()-1;e<=0?document.body.removeAttribute(xh):document.body.setAttribute(xh,e.toString())}},[])},qV=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;xfe();var i=v.useMemo(function(){return mfe(a)},[a]);return v.createElement(hfe,{styles:pfe(i,!t,a,r?"":"!important")})},xA=!1;if(typeof window<"u")try{var aj=Object.defineProperty({},"passive",{get:function(){return xA=!0,!0}});window.addEventListener("test",aj,aj),window.removeEventListener("test",aj,aj)}catch{xA=!1}var Sm=xA?{passive:!1}:!1,gfe=function(e){return e.tagName==="TEXTAREA"},GV=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!gfe(e)&&r[t]==="visible")},vfe=function(e){return GV(e,"overflowY")},yfe=function(e){return GV(e,"overflowX")},uR=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=KV(e,s);if(a){var i=YV(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},jfe=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},bfe=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},KV=function(e,t){return e==="v"?vfe(t):yfe(t)},YV=function(e,t){return e==="v"?jfe(t):bfe(t)},wfe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Nfe=function(e,t,r,s,a){var i=wfe(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,m=0;do{var h=YV(e,l),x=h[0],p=h[1],g=h[2],j=p-g-i*x;(x||j)&&KV(e,l)&&(f+=j,m+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!a)||!u&&(Math.abs(m)<1||!a))&&(d=!0),d},ij=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},fR=function(e){return[e.deltaX,e.deltaY]},mR=function(e){return e&&"current"in e?e.current:e},_fe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Sfe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Cfe=0,Cm=[];function Afe(e){var t=v.useRef([]),r=v.useRef([0,0]),s=v.useRef(),a=v.useState(Cfe++)[0],i=v.useState(pT)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=BV([e.lockRef.current],(e.shards||[]).map(mR),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var j=ij(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-j[0],b="deltaY"in p?p.deltaY:y[1]-j[1],N,_=p.target,C=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in p&&C==="h"&&_.type==="range")return!1;var A=uR(C,_);if(!A)return!0;if(A?N=C:(N=C==="v"?"h":"v",A=uR(C,_)),!A)return!1;if(!s.current&&"changedTouches"in p&&(w||b)&&(s.current=N),!N)return!0;var E=s.current||N;return Nfe(E,g,p,E==="h"?w:b,!0)},[]),c=v.useCallback(function(p){var g=p;if(!(!Cm.length||Cm[Cm.length-1]!==i)){var j="deltaY"in g?fR(g):ij(g),y=t.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&_fe(N.delta,j)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(mR).filter(Boolean).filter(function(N){return N.contains(g.target)}),b=w.length>0?l(g,w[0]):!o.current.noIsolation;b&&g.cancelable&&g.preventDefault()}}},[]),d=v.useCallback(function(p,g,j,y){var w={name:p,delta:g,target:j,should:y,shadowParent:Efe(j)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),u=v.useCallback(function(p){r.current=ij(p),s.current=void 0},[]),f=v.useCallback(function(p){d(p.type,fR(p),p.target,l(p,e.lockRef.current))},[]),m=v.useCallback(function(p){d(p.type,ij(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return Cm.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Sm),document.addEventListener("touchmove",c,Sm),document.addEventListener("touchstart",u,Sm),function(){Cm=Cm.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Sm),document.removeEventListener("touchmove",c,Sm),document.removeEventListener("touchstart",u,Sm)}},[]);var h=e.removeScrollBar,x=e.inert;return v.createElement(v.Fragment,null,x?v.createElement(i,{styles:Sfe(a)}):null,h?v.createElement(qV,{gapMode:e.gapMode}):null)}function Efe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Pfe=WV(HV,Afe);var Xv=v.forwardRef(function(e,t){return v.createElement($N,la({},e,{ref:t,sideCar:Pfe}))});Xv.classNames=$N.classNames;var gA=["Enter"," "],kfe=["ArrowDown","PageUp","Home"],XV=["ArrowUp","PageDown","End"],Tfe=[...kfe,...XV],Ofe={ltr:[...gA,"ArrowRight"],rtl:[...gA,"ArrowLeft"]},Dfe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Qv="Menu",[b0,Ife,Rfe]=Ov(Qv),[lm,QV]=Zs(Qv,[Rfe,Eu,Yp]),LN=Eu(),ZV=Yp(),[Mfe,cm]=lm(Qv),[Ffe,Zv]=lm(Qv),JV=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,l=LN(t),[c,d]=v.useState(null),u=v.useRef(!1),f=pn(i),m=om(a);return v.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),n.jsx(jN,{...l,children:n.jsx(Mfe,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:d,children:n.jsx(Ffe,{scope:t,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:m,modal:o,children:s})})})};JV.displayName=Qv;var $fe="MenuAnchor",xT=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=LN(r);return n.jsx(Bv,{...a,...s,ref:t})});xT.displayName=$fe;var gT="MenuPortal",[Lfe,ez]=lm(gT,{forceMount:void 0}),tz=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:a}=e,i=cm(gT,t);return n.jsx(Lfe,{scope:t,forceMount:r,children:n.jsx(ns,{present:r||i.open,children:n.jsx($p,{asChild:!0,container:a,children:s})})})};tz.displayName=gT;var vo="MenuContent",[Bfe,vT]=lm(vo),rz=v.forwardRef((e,t)=>{const r=ez(vo,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=cm(vo,e.__scopeMenu),o=Zv(vo,e.__scopeMenu);return n.jsx(b0.Provider,{scope:e.__scopeMenu,children:n.jsx(ns,{present:s||i.open,children:n.jsx(b0.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(Ufe,{...a,ref:t}):n.jsx(Vfe,{...a,ref:t})})})})}),Ufe=v.forwardRef((e,t)=>{const r=cm(vo,e.__scopeMenu),s=v.useRef(null),a=Dt(t,s);return v.useEffect(()=>{const i=s.current;if(i)return Yv(i)},[]),n.jsx(yT,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ge(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Vfe=v.forwardRef((e,t)=>{const r=cm(vo,e.__scopeMenu);return n.jsx(yT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),yT=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:h,disableOutsideScroll:x,...p}=e,g=cm(vo,r),j=Zv(vo,r),y=LN(r),w=ZV(r),b=Ife(r),[N,_]=v.useState(null),C=v.useRef(null),A=Dt(t,C,g.onContentChange),E=v.useRef(0),k=v.useRef(""),O=v.useRef(0),I=v.useRef(null),W=v.useRef("right"),H=v.useRef(0),F=x?Xv:v.Fragment,T=x?{as:Yl,allowPinchZoom:!0}:void 0,P=D=>{var me,B;const Y=k.current+D,ae=b().filter(X=>!X.disabled),R=document.activeElement,V=(me=ae.find(X=>X.ref.current===R))==null?void 0:me.textValue,L=ae.map(X=>X.textValue),K=eme(L,Y,V),le=(B=ae.find(X=>X.textValue===K))==null?void 0:B.ref.current;(function X(oe){k.current=oe,window.clearTimeout(E.current),oe!==""&&(E.current=window.setTimeout(()=>X(""),1e3))})(Y),le&&setTimeout(()=>le.focus())};v.useEffect(()=>()=>window.clearTimeout(E.current),[]),MN();const M=v.useCallback(D=>{var ae,R;return W.current===((ae=I.current)==null?void 0:ae.side)&&rme(D,(R=I.current)==null?void 0:R.area)},[]);return n.jsx(Bfe,{scope:r,searchRef:k,onItemEnter:v.useCallback(D=>{M(D)&&D.preventDefault()},[M]),onItemLeave:v.useCallback(D=>{var Y;M(D)||((Y=C.current)==null||Y.focus(),_(null))},[M]),onTriggerLeave:v.useCallback(D=>{M(D)&&D.preventDefault()},[M]),pointerGraceTimerRef:O,onPointerGraceIntentChange:v.useCallback(D=>{I.current=D},[]),children:n.jsx(F,{...T,children:n.jsx(Kv,{asChild:!0,trapped:a,onMountAutoFocus:Ge(i,D=>{var Y;D.preventDefault(),(Y=C.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(im,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:h,children:n.jsx(fT,{asChild:!0,...w,dir:j.dir,orientation:"vertical",loop:s,currentTabStopId:N,onCurrentTabStopIdChange:_,onEntryFocus:Ge(c,D=>{j.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(bN,{role:"menu","aria-orientation":"vertical","data-state":vz(g.open),"data-radix-menu-content":"",dir:j.dir,...y,...p,ref:A,style:{outline:"none",...p.style},onKeyDown:Ge(p.onKeyDown,D=>{const ae=D.target.closest("[data-radix-menu-content]")===D.currentTarget,R=D.ctrlKey||D.altKey||D.metaKey,V=D.key.length===1;ae&&(D.key==="Tab"&&D.preventDefault(),!R&&V&&P(D.key));const L=C.current;if(D.target!==L||!Tfe.includes(D.key))return;D.preventDefault();const le=b().filter(me=>!me.disabled).map(me=>me.ref.current);XV.includes(D.key)&&le.reverse(),Zfe(le)}),onBlur:Ge(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(E.current),k.current="")}),onPointerMove:Ge(e.onPointerMove,w0(D=>{const Y=D.target,ae=H.current!==D.clientX;if(D.currentTarget.contains(Y)&&ae){const R=D.clientX>H.current?"right":"left";W.current=R,H.current=D.clientX}}))})})})})})})});rz.displayName=vo;var zfe="MenuGroup",jT=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(ft.div,{role:"group",...s,ref:t})});jT.displayName=zfe;var Wfe="MenuLabel",nz=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(ft.div,{...s,ref:t})});nz.displayName=Wfe;var m1="MenuItem",hR="menu.itemSelect",BN=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:s,...a}=e,i=v.useRef(null),o=Zv(m1,e.__scopeMenu),l=vT(m1,e.__scopeMenu),c=Dt(t,i),d=v.useRef(!1),u=()=>{const f=i.current;if(!r&&f){const m=new CustomEvent(hR,{bubbles:!0,cancelable:!0});f.addEventListener(hR,h=>s==null?void 0:s(h),{once:!0}),_k(f,m),m.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(sz,{...a,ref:c,disabled:r,onClick:Ge(e.onClick,u),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),d.current=!0},onPointerUp:Ge(e.onPointerUp,f=>{var m;d.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:Ge(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||gA.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});BN.displayName=m1;var sz=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...i}=e,o=vT(m1,r),l=ZV(r),c=v.useRef(null),d=Dt(t,c),[u,f]=v.useState(!1),[m,h]=v.useState("");return v.useEffect(()=>{const x=c.current;x&&h((x.textContent??"").trim())},[i.children]),n.jsx(b0.ItemSlot,{scope:r,disabled:s,textValue:a??m,children:n.jsx(mT,{asChild:!0,...l,focusable:!s,children:n.jsx(ft.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:d,onPointerMove:Ge(e.onPointerMove,w0(x=>{s?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ge(e.onPointerLeave,w0(x=>o.onItemLeave(x))),onFocus:Ge(e.onFocus,()=>f(!0)),onBlur:Ge(e.onBlur,()=>f(!1))})})})}),Hfe="MenuCheckboxItem",az=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:s,...a}=e;return n.jsx(dz,{scope:e.__scopeMenu,checked:r,children:n.jsx(BN,{role:"menuitemcheckbox","aria-checked":h1(r)?"mixed":r,...a,ref:t,"data-state":wT(r),onSelect:Ge(a.onSelect,()=>s==null?void 0:s(h1(r)?!0:!r),{checkForDefaultPrevented:!1})})})});az.displayName=Hfe;var iz="MenuRadioGroup",[qfe,Gfe]=lm(iz,{value:void 0,onValueChange:()=>{}}),oz=v.forwardRef((e,t)=>{const{value:r,onValueChange:s,...a}=e,i=pn(s);return n.jsx(qfe,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(jT,{...a,ref:t})})});oz.displayName=iz;var lz="MenuRadioItem",cz=v.forwardRef((e,t)=>{const{value:r,...s}=e,a=Gfe(lz,e.__scopeMenu),i=r===a.value;return n.jsx(dz,{scope:e.__scopeMenu,checked:i,children:n.jsx(BN,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":wT(i),onSelect:Ge(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});cz.displayName=lz;var bT="MenuItemIndicator",[dz,Kfe]=lm(bT,{checked:!1}),uz=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:s,...a}=e,i=Kfe(bT,r);return n.jsx(ns,{present:s||h1(i.checked)||i.checked===!0,children:n.jsx(ft.span,{...a,ref:t,"data-state":wT(i.checked)})})});uz.displayName=bT;var Yfe="MenuSeparator",fz=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(ft.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});fz.displayName=Yfe;var Xfe="MenuArrow",mz=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=LN(r);return n.jsx(wN,{...a,...s,ref:t})});mz.displayName=Xfe;var Qfe="MenuSub",[Fnt,hz]=lm(Qfe),dg="MenuSubTrigger",pz=v.forwardRef((e,t)=>{const r=cm(dg,e.__scopeMenu),s=Zv(dg,e.__scopeMenu),a=hz(dg,e.__scopeMenu),i=vT(dg,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>u,[u]),v.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),n.jsx(xT,{asChild:!0,...d,children:n.jsx(sz,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":vz(r.open),...e,ref:uN(t,a.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ge(e.onPointerMove,w0(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:Ge(e.onPointerLeave,w0(f=>{var h,x;u();const m=(h=r.content)==null?void 0:h.getBoundingClientRect();if(m){const p=(x=r.content)==null?void 0:x.dataset.side,g=p==="right",j=g?-5:5,y=m[g?"left":"right"],w=m[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+j,y:f.clientY},{x:y,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:y,y:m.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ge(e.onKeyDown,f=>{var h;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||Ofe[s.dir].includes(f.key)&&(r.onOpenChange(!0),(h=r.content)==null||h.focus(),f.preventDefault())})})})});pz.displayName=dg;var xz="MenuSubContent",gz=v.forwardRef((e,t)=>{const r=ez(vo,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=cm(vo,e.__scopeMenu),o=Zv(vo,e.__scopeMenu),l=hz(xz,e.__scopeMenu),c=v.useRef(null),d=Dt(t,c);return n.jsx(b0.Provider,{scope:e.__scopeMenu,children:n.jsx(ns,{present:s||i.open,children:n.jsx(b0.Slot,{scope:e.__scopeMenu,children:n.jsx(yT,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Ge(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ge(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Ge(e.onKeyDown,u=>{var h;const f=u.currentTarget.contains(u.target),m=Dfe[o.dir].includes(u.key);f&&m&&(i.onOpenChange(!1),(h=l.trigger)==null||h.focus(),u.preventDefault())})})})})})});gz.displayName=xz;function vz(e){return e?"open":"closed"}function h1(e){return e==="indeterminate"}function wT(e){return h1(e)?"indeterminate":e?"checked":"unchecked"}function Zfe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Jfe(e,t){return e.map((r,s)=>e[(t+s)%e.length])}function eme(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Jfe(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function tme(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>s!=u>s&&r<(d-l)*(s-c)/(u-c)+l&&(a=!a)}return a}function rme(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return tme(r,t)}function w0(e){return t=>t.pointerType==="mouse"?e(t):void 0}var nme=JV,sme=xT,ame=tz,ime=rz,ome=jT,lme=nz,cme=BN,dme=az,ume=oz,fme=cz,mme=uz,hme=fz,pme=mz,xme=pz,gme=gz,NT="DropdownMenu",[vme,$nt]=Zs(NT,[QV]),La=QV(),[yme,yz]=vme(NT),jz=e=>{const{__scopeDropdownMenu:t,children:r,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=La(t),d=v.useRef(null),[u=!1,f]=Oa({prop:a,defaultProp:i,onChange:o});return n.jsx(yme,{scope:t,triggerId:si(),triggerRef:d,contentId:si(),open:u,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(m=>!m),[f]),modal:l,children:n.jsx(nme,{...c,open:u,onOpenChange:f,dir:s,modal:l,children:r})})};jz.displayName=NT;var bz="DropdownMenuTrigger",wz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=e,i=yz(bz,r),o=La(r);return n.jsx(sme,{asChild:!0,...o,children:n.jsx(ft.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:uN(t,i.triggerRef),onPointerDown:Ge(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ge(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});wz.displayName=bz;var jme="DropdownMenuPortal",Nz=e=>{const{__scopeDropdownMenu:t,...r}=e,s=La(t);return n.jsx(ame,{...s,...r})};Nz.displayName=jme;var _z="DropdownMenuContent",Sz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=yz(_z,r),i=La(r),o=v.useRef(!1);return n.jsx(ime,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:Ge(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ge(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Sz.displayName=_z;var bme="DropdownMenuGroup",wme=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=La(r);return n.jsx(ome,{...a,...s,ref:t})});wme.displayName=bme;var Nme="DropdownMenuLabel",Cz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=La(r);return n.jsx(lme,{...a,...s,ref:t})});Cz.displayName=Nme;var _me="DropdownMenuItem",Az=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=La(r);return n.jsx(cme,{...a,...s,ref:t})});Az.displayName=_me;var Sme="DropdownMenuCheckboxItem",Ez=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=La(r);return n.jsx(dme,{...a,...s,ref:t})});Ez.displayName=Sme;var Cme="DropdownMenuRadioGroup",Ame=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=La(r);return n.jsx(ume,{...a,...s,ref:t})});Ame.displayName=Cme;var Eme="DropdownMenuRadioItem",Pz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=La(r);return n.jsx(fme,{...a,...s,ref:t})});Pz.displayName=Eme;var Pme="DropdownMenuItemIndicator",kz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=La(r);return n.jsx(mme,{...a,...s,ref:t})});kz.displayName=Pme;var kme="DropdownMenuSeparator",Tz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=La(r);return n.jsx(hme,{...a,...s,ref:t})});Tz.displayName=kme;var Tme="DropdownMenuArrow",Ome=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=La(r);return n.jsx(pme,{...a,...s,ref:t})});Ome.displayName=Tme;var Dme="DropdownMenuSubTrigger",Oz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=La(r);return n.jsx(xme,{...a,...s,ref:t})});Oz.displayName=Dme;var Ime="DropdownMenuSubContent",Dz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=La(r);return n.jsx(gme,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Dz.displayName=Ime;var Rme=jz,Mme=wz,Fme=Nz,Iz=Sz,Rz=Cz,Mz=Az,Fz=Ez,$z=Pz,Lz=kz,Bz=Tz,Uz=Oz,Vz=Dz;const Jv=Rme,ey=Mme,$me=v.forwardRef(({className:e,inset:t,children:r,...s},a)=>n.jsxs(Uz,{ref:a,className:ge("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[r,n.jsx(qc,{className:"ml-auto h-4 w-4"})]}));$me.displayName=Uz.displayName;const Lme=v.forwardRef(({className:e,...t},r)=>n.jsx(Vz,{ref:r,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Lme.displayName=Vz.displayName;const Xp=v.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(Fme,{children:n.jsx(Iz,{ref:s,sideOffset:t,className:ge("z-[9999] min-w-[12rem] overflow-hidden rounded-lg border border-border/50 bg-popover backdrop-blur-xl p-2 text-popover-foreground shadow-2xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Xp.displayName=Iz.displayName;const In=v.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(Mz,{ref:s,className:ge("relative flex cursor-pointer select-none items-center rounded-md px-3 py-2.5 text-sm font-medium outline-none transition-colors","hover:bg-accent/80 hover:text-accent-foreground focus:bg-accent/80 focus:text-accent-foreground","data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));In.displayName=Mz.displayName;const zz=v.forwardRef(({className:e,children:t,checked:r,...s},a)=>n.jsxs(Fz,{ref:a,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Lz,{children:n.jsx(mo,{className:"h-4 w-4"})})}),t]}));zz.displayName=Fz.displayName;const Bme=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs($z,{ref:s,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Lz,{children:n.jsx(v7,{className:"h-2 w-2 fill-current"})})}),t]}));Bme.displayName=$z.displayName;const vA=v.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(Rz,{ref:s,className:ge("px-3 py-2 text-xs font-bold text-muted-foreground uppercase tracking-wider",t&&"pl-8",e),...r}));vA.displayName=Rz.displayName;const Ic=v.forwardRef(({className:e,...t},r)=>n.jsx(Bz,{ref:r,className:ge("my-1.5 h-px bg-border/50",e),...t}));Ic.displayName=Bz.displayName;var _T="Dialog",[Wz,Hz]=Zs(_T),[Ume,ml]=Wz(_T),qz=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[d=!1,u]=Oa({prop:s,defaultProp:a,onChange:i});return n.jsx(Ume,{scope:t,triggerRef:l,contentRef:c,contentId:si(),titleId:si(),descriptionId:si(),open:d,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};qz.displayName=_T;var Gz="DialogTrigger",Kz=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ml(Gz,r),i=Dt(t,a.triggerRef);return n.jsx(ft.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":AT(a.open),...s,ref:i,onClick:Ge(e.onClick,a.onOpenToggle)})});Kz.displayName=Gz;var ST="DialogPortal",[Vme,Yz]=Wz(ST,{forceMount:void 0}),Xz=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=ml(ST,t);return n.jsx(Vme,{scope:t,forceMount:r,children:v.Children.map(s,o=>n.jsx(ns,{present:r||i.open,children:n.jsx($p,{asChild:!0,container:a,children:o})}))})};Xz.displayName=ST;var p1="DialogOverlay",Qz=v.forwardRef((e,t)=>{const r=Yz(p1,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=ml(p1,e.__scopeDialog);return i.modal?n.jsx(ns,{present:s||i.open,children:n.jsx(zme,{...a,ref:t})}):null});Qz.displayName=p1;var zme=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ml(p1,r);return n.jsx(Xv,{as:Yl,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(ft.div,{"data-state":AT(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Wf="DialogContent",Zz=v.forwardRef((e,t)=>{const r=Yz(Wf,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=ml(Wf,e.__scopeDialog);return n.jsx(ns,{present:s||i.open,children:i.modal?n.jsx(Wme,{...a,ref:t}):n.jsx(Hme,{...a,ref:t})})});Zz.displayName=Wf;var Wme=v.forwardRef((e,t)=>{const r=ml(Wf,e.__scopeDialog),s=v.useRef(null),a=Dt(t,r.contentRef,s);return v.useEffect(()=>{const i=s.current;if(i)return Yv(i)},[]),n.jsx(Jz,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ge(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ge(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ge(e.onFocusOutside,i=>i.preventDefault())})}),Hme=v.forwardRef((e,t)=>{const r=ml(Wf,e.__scopeDialog),s=v.useRef(!1),a=v.useRef(!1);return n.jsx(Jz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Jz=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ml(Wf,r),c=v.useRef(null),d=Dt(t,c);return MN(),n.jsxs(n.Fragment,{children:[n.jsx(Kv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(im,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":AT(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(Gme,{titleId:l.titleId}),n.jsx(Yme,{contentRef:c,descriptionId:l.descriptionId})]})]})}),CT="DialogTitle",eW=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ml(CT,r);return n.jsx(ft.h2,{id:a.titleId,...s,ref:t})});eW.displayName=CT;var tW="DialogDescription",rW=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ml(tW,r);return n.jsx(ft.p,{id:a.descriptionId,...s,ref:t})});rW.displayName=tW;var nW="DialogClose",sW=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ml(nW,r);return n.jsx(ft.button,{type:"button",...s,ref:t,onClick:Ge(e.onClick,()=>a.onOpenChange(!1))})});sW.displayName=nW;function AT(e){return e?"open":"closed"}var aW="DialogTitleWarning",[qme,iW]=Cne(aW,{contentName:Wf,titleName:CT,docsSlug:"dialog"}),Gme=({titleId:e})=>{const t=iW(aW),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Kme="DialogDescriptionWarning",Yme=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${iW(Kme).contentName}}.`;return v.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},ET=qz,oW=Kz,PT=Xz,ty=Qz,ry=Zz,ny=eW,sy=rW,UN=sW;const Xme=ET,Qme=PT,lW=v.forwardRef(({className:e,...t},r)=>n.jsx(ty,{className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));lW.displayName=ty.displayName;const Zme=Lp("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),cW=v.forwardRef(({side:e="right",className:t,children:r,...s},a)=>n.jsxs(Qme,{children:[n.jsx(lW,{}),n.jsxs(ry,{ref:a,className:ge(Zme({side:e}),t),...s,children:[r,n.jsxs(UN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(us,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));cW.displayName=ry.displayName;const dW=({className:e,...t})=>n.jsx("div",{className:ge("flex flex-col space-y-2 text-center sm:text-left",e),...t});dW.displayName="SheetHeader";const uW=v.forwardRef(({className:e,...t},r)=>n.jsx(ny,{ref:r,className:ge("text-lg font-semibold text-foreground",e),...t}));uW.displayName=ny.displayName;const Jme=v.forwardRef(({className:e,...t},r)=>n.jsx(sy,{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));Jme.displayName=sy.displayName;function yA(e,[t,r]){return Math.min(r,Math.max(t,e))}function ehe(e,t){return v.useReducer((r,s)=>t[r][s]??r,e)}var kT="ScrollArea",[fW,Lnt]=Zs(kT),[the,Co]=fW(kT),mW=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=v.useState(null),[d,u]=v.useState(null),[f,m]=v.useState(null),[h,x]=v.useState(null),[p,g]=v.useState(null),[j,y]=v.useState(0),[w,b]=v.useState(0),[N,_]=v.useState(!1),[C,A]=v.useState(!1),E=Dt(t,O=>c(O)),k=om(a);return n.jsx(the,{scope:r,type:s,dir:k,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:m,scrollbarX:h,onScrollbarXChange:x,scrollbarXEnabled:N,onScrollbarXEnabledChange:_,scrollbarY:p,onScrollbarYChange:g,scrollbarYEnabled:C,onScrollbarYEnabledChange:A,onCornerWidthChange:y,onCornerHeightChange:b,children:n.jsx(ft.div,{dir:k,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});mW.displayName=kT;var hW="ScrollAreaViewport",pW=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:s,asChild:a,nonce:i,...o}=e,l=Co(hW,r),c=v.useRef(null),d=Dt(t,c,l.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),n.jsx(ft.div,{"data-radix-scroll-area-viewport":"",...o,asChild:a,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:uhe({asChild:a,children:s},u=>n.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});pW.displayName=hW;var sc="ScrollAreaScrollbar",TT=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Co(sc,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return v.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?n.jsx(rhe,{...s,ref:t,forceMount:r}):a.type==="scroll"?n.jsx(nhe,{...s,ref:t,forceMount:r}):a.type==="auto"?n.jsx(xW,{...s,ref:t,forceMount:r}):a.type==="always"?n.jsx(OT,{...s,ref:t}):null});TT.displayName=sc;var rhe=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Co(sc,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(ns,{present:r||i,children:n.jsx(xW,{"data-state":i?"visible":"hidden",...s,ref:t})})}),nhe=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Co(sc,e.__scopeScrollArea),i=e.orientation==="horizontal",o=zN(()=>c("SCROLL_END"),100),[l,c]=ehe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),v.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let f=d[u];const m=()=>{const h=d[u];f!==h&&(c("SCROLL"),o()),f=h};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),n.jsx(ns,{present:r||l!=="hidden",children:n.jsx(OT,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:Ge(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ge(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),xW=v.forwardRef((e,t)=>{const r=Co(sc,e.__scopeScrollArea),{forceMount:s,...a}=e,[i,o]=v.useState(!1),l=e.orientation==="horizontal",c=zN(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return ep(r.viewport,c),ep(r.content,c),n.jsx(ns,{present:s||i,children:n.jsx(OT,{"data-state":i?"visible":"hidden",...a,ref:t})})}),OT=v.forwardRef((e,t)=>{const{orientation:r="vertical",...s}=e,a=Co(sc,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=bW(l.viewport,l.content),u={...s,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,h){return che(m,o.current,l,h)}return r==="horizontal"?n.jsx(she,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,h=pR(m,l,a.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}}):r==="vertical"?n.jsx(ahe,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,h=pR(m,l);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}}):null}),she=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=Co(sc,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),d=Dt(t,c,i.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(vW,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":VN(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),NW(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:g1(o.paddingLeft),paddingEnd:g1(o.paddingRight)}})}})}),ahe=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=Co(sc,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),d=Dt(t,c,i.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(vW,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":VN(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),NW(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:g1(o.paddingTop),paddingEnd:g1(o.paddingBottom)}})}})}),[ihe,gW]=fW(sc),vW=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...m}=e,h=Co(sc,r),[x,p]=v.useState(null),g=Dt(t,E=>p(E)),j=v.useRef(null),y=v.useRef(""),w=h.viewport,b=s.content-s.viewport,N=pn(u),_=pn(c),C=zN(f,10);function A(E){if(j.current){const k=E.clientX-j.current.left,O=E.clientY-j.current.top;d({x:k,y:O})}}return v.useEffect(()=>{const E=k=>{const O=k.target;(x==null?void 0:x.contains(O))&&N(k,b)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[w,x,b,N]),v.useEffect(_,[s,_]),ep(x,C),ep(h.content,C),n.jsx(ihe,{scope:r,scrollbar:x,hasThumb:a,onThumbChange:pn(i),onThumbPointerUp:pn(o),onThumbPositionChange:_,onThumbPointerDown:pn(l),children:n.jsx(ft.div,{...m,ref:g,style:{position:"absolute",...m.style},onPointerDown:Ge(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),j.current=x.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),A(E))}),onPointerMove:Ge(e.onPointerMove,A),onPointerUp:Ge(e.onPointerUp,E=>{const k=E.target;k.hasPointerCapture(E.pointerId)&&k.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=y.current,h.viewport&&(h.viewport.style.scrollBehavior=""),j.current=null})})})}),x1="ScrollAreaThumb",yW=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=gW(x1,e.__scopeScrollArea);return n.jsx(ns,{present:r||a.hasThumb,children:n.jsx(ohe,{ref:t,...s})})}),ohe=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:s,...a}=e,i=Co(x1,r),o=gW(x1,r),{onThumbPositionChange:l}=o,c=Dt(t,f=>o.onThumbChange(f)),d=v.useRef(),u=zN(()=>{d.current&&(d.current(),d.current=void 0)},100);return v.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(u(),!d.current){const h=dhe(f,l);d.current=h,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,u,l]),n.jsx(ft.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Ge(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),x=f.clientX-h.left,p=f.clientY-h.top;o.onThumbPointerDown({x,y:p})}),onPointerUp:Ge(e.onPointerUp,o.onThumbPointerUp)})});yW.displayName=x1;var DT="ScrollAreaCorner",jW=v.forwardRef((e,t)=>{const r=Co(DT,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?n.jsx(lhe,{...e,ref:t}):null});jW.displayName=DT;var lhe=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...s}=e,a=Co(DT,r),[i,o]=v.useState(0),[l,c]=v.useState(0),d=!!(i&&l);return ep(a.scrollbarX,()=>{var f;const u=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),ep(a.scrollbarY,()=>{var f;const u=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?n.jsx(ft.div,{...s,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function g1(e){return e?parseInt(e,10):0}function bW(e,t){const r=e/t;return isNaN(r)?0:r}function VN(e){const t=bW(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function che(e,t,r,s="ltr"){const a=VN(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,f=s==="ltr"?[0,u]:[u*-1,0];return wW([c,d],f)(e)}function pR(e,t,r="ltr"){const s=VN(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-s,c=r==="ltr"?[0,o]:[o*-1,0],d=yA(e,c);return wW([0,o],[0,l])(d)}function wW(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function NW(e,t){return e>0&&e<t}var dhe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function zN(e,t){const r=pn(e),s=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),v.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function ep(e,t){const r=pn(t);rs(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,r])}function uhe(e,t){const{asChild:r,children:s}=e;if(!r)return typeof t=="function"?t(s):t;const a=v.Children.only(s);return v.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var _W=mW,fhe=pW,mhe=jW;const ac=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(_W,{ref:s,className:ge("relative overflow-hidden",e),...r,children:[n.jsx(fhe,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(SW,{}),n.jsx(mhe,{})]}));ac.displayName=_W.displayName;const SW=v.forwardRef(({className:e,orientation:t="vertical",...r},s)=>n.jsx(TT,{ref:s,orientation:t,className:ge("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(yW,{className:"relative flex-1 rounded-full bg-border"})}));SW.displayName=TT.displayName;var xR=1,hhe=.9,phe=.8,xhe=.17,xS=.1,gS=.999,ghe=.9999,vhe=.99,yhe=/[\\\/_+.#"@\[\(\{&]/,jhe=/[\\\/_+.#"@\[\(\{&]/g,bhe=/[\s-]/,CW=/[\s-]/g;function jA(e,t,r,s,a,i,o){if(i===t.length)return a===e.length?xR:vhe;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=s.charAt(i),d=r.indexOf(c,a),u=0,f,m,h,x;d>=0;)f=jA(e,t,r,s,d+1,i+1,o),f>u&&(d===a?f*=xR:yhe.test(e.charAt(d-1))?(f*=phe,h=e.slice(a,d-1).match(jhe),h&&a>0&&(f*=Math.pow(gS,h.length))):bhe.test(e.charAt(d-1))?(f*=hhe,x=e.slice(a,d-1).match(CW),x&&a>0&&(f*=Math.pow(gS,x.length))):(f*=xhe,a>0&&(f*=Math.pow(gS,d-a))),e.charAt(d)!==t.charAt(i)&&(f*=ghe)),(f<xS&&r.charAt(d-1)===s.charAt(i+1)||s.charAt(i+1)===s.charAt(i)&&r.charAt(d-1)!==s.charAt(i))&&(m=jA(e,t,r,s,d+1,i+2,o),m*xS>f&&(f=m*xS)),f>u&&(u=f),d=r.indexOf(c,d+1);return o[l]=u,u}function gR(e){return e.toLowerCase().replace(CW," ")}function whe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,jA(e,t,gR(e),gR(t),0,0,{})}function Xs(){return Xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Xs.apply(null,arguments)}function gh(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Nhe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function AW(...e){return t=>e.forEach(r=>Nhe(r,t))}function ay(...e){return v.useCallback(AW(...e),e)}function _he(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return v.createElement(p.Provider,{value:g},h)}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,She(a,...t)]}function She(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}const bA=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},Che=OP.useId||(()=>{});let Ahe=0;function vS(e){const[t,r]=v.useState(Che());return bA(()=>{e||r(s=>s??String(Ahe++))},[e]),e||(t?`radix-${t}`:"")}function Hf(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var s;return(s=t.current)===null||s===void 0?void 0:s.call(t,...r)},[])}function Ehe({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=Phe({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:s,l=Hf(r),c=v.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else a(d)},[i,e,a,l]);return[o,c]}function Phe({defaultProp:e,onChange:t}){const r=v.useState(e),[s]=r,a=v.useRef(s),i=Hf(t);return v.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),r}const IT=v.forwardRef((e,t)=>{const{children:r,...s}=e,a=v.Children.toArray(r),i=a.find(The);if(i){const o=i.props.children,l=a.map(c=>c===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return v.createElement(wA,Xs({},s,{ref:t}),v.isValidElement(o)?v.cloneElement(o,void 0,l):null)}return v.createElement(wA,Xs({},s,{ref:t}),r)});IT.displayName="Slot";const wA=v.forwardRef((e,t)=>{const{children:r,...s}=e;return v.isValidElement(r)?v.cloneElement(r,{...Ohe(s,r.props),ref:t?AW(t,r.ref):r.ref}):v.Children.count(r)>1?v.Children.only(null):null});wA.displayName="SlotClone";const khe=({children:e})=>v.createElement(v.Fragment,null,e);function The(e){return v.isValidElement(e)&&e.type===khe}function Ohe(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}const Dhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ao=Dhe.reduce((e,t)=>{const r=v.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?IT:t;return v.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),v.createElement(l,Xs({},o,{ref:a}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ihe(e,t){e&&ul.flushSync(()=>e.dispatchEvent(t))}function Rhe(e,t=globalThis==null?void 0:globalThis.document){const r=Hf(e);v.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s),()=>t.removeEventListener("keydown",s)},[r,t])}const NA="dismissableLayer.update",Mhe="dismissableLayer.pointerDownOutside",Fhe="dismissableLayer.focusOutside";let vR;const $he=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lhe=v.forwardRef((e,t)=>{var r;const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=e,u=v.useContext($he),[f,m]=v.useState(null),h=(r=f==null?void 0:f.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,x]=v.useState({}),p=ay(t,A=>m(A)),g=Array.from(u.layers),[j]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(j),w=f?g.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,N=w>=y,_=Bhe(A=>{const E=A.target,k=[...u.branches].some(O=>O.contains(E));!N||k||(i==null||i(A),l==null||l(A),A.defaultPrevented||c==null||c())},h),C=Uhe(A=>{const E=A.target;[...u.branches].some(O=>O.contains(E))||(o==null||o(A),l==null||l(A),A.defaultPrevented||c==null||c())},h);return Rhe(A=>{w===u.layers.size-1&&(a==null||a(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},h),v.useEffect(()=>{if(f)return s&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(vR=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),yR(),()=>{s&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=vR)}},[f,h,s,u]),v.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),yR())},[f,u]),v.useEffect(()=>{const A=()=>x({});return document.addEventListener(NA,A),()=>document.removeEventListener(NA,A)},[]),v.createElement(Ao.div,Xs({},d,{ref:p,style:{pointerEvents:b?N?"auto":"none":void 0,...e.style},onFocusCapture:gh(e.onFocusCapture,C.onFocusCapture),onBlurCapture:gh(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:gh(e.onPointerDownCapture,_.onPointerDownCapture)}))});function Bhe(e,t=globalThis==null?void 0:globalThis.document){const r=Hf(e),s=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let u=function(){EW(Mhe,r,d,{discrete:!0})};var c=u;const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function Uhe(e,t=globalThis==null?void 0:globalThis.document){const r=Hf(e),s=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!s.current&&EW(Fhe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function yR(){const e=new CustomEvent(NA);document.dispatchEvent(e)}function EW(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?Ihe(a,i):a.dispatchEvent(i)}const yS="focusScope.autoFocusOnMount",jS="focusScope.autoFocusOnUnmount",jR={bubbles:!1,cancelable:!0},Vhe=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),d=Hf(a),u=Hf(i),f=v.useRef(null),m=ay(t,p=>c(p)),h=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(s){let y=function(_){if(h.paused||!l)return;const C=_.target;l.contains(C)?f.current=C:_d(f.current,{select:!0})},w=function(_){if(h.paused||!l)return;const C=_.relatedTarget;C!==null&&(l.contains(C)||_d(f.current,{select:!0}))},b=function(_){if(document.activeElement===document.body)for(const A of _)A.removedNodes.length>0&&_d(l)};var p=y,g=w,j=b;document.addEventListener("focusin",y),document.addEventListener("focusout",w);const N=new MutationObserver(b);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),N.disconnect()}}},[s,l,h.paused]),v.useEffect(()=>{if(l){wR.add(h);const p=document.activeElement;if(!l.contains(p)){const j=new CustomEvent(yS,jR);l.addEventListener(yS,d),l.dispatchEvent(j),j.defaultPrevented||(zhe(Khe(PW(l)),{select:!0}),document.activeElement===p&&_d(l))}return()=>{l.removeEventListener(yS,d),setTimeout(()=>{const j=new CustomEvent(jS,jR);l.addEventListener(jS,u),l.dispatchEvent(j),j.defaultPrevented||_d(p??document.body,{select:!0}),l.removeEventListener(jS,u),wR.remove(h)},0)}}},[l,d,u,h]);const x=v.useCallback(p=>{if(!r&&!s||h.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,j=document.activeElement;if(g&&j){const y=p.currentTarget,[w,b]=Whe(y);w&&b?!p.shiftKey&&j===b?(p.preventDefault(),r&&_d(w,{select:!0})):p.shiftKey&&j===w&&(p.preventDefault(),r&&_d(b,{select:!0})):j===y&&p.preventDefault()}},[r,s,h.paused]);return v.createElement(Ao.div,Xs({tabIndex:-1},o,{ref:m,onKeyDown:x}))});function zhe(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(_d(s,{select:t}),document.activeElement!==r)return}function Whe(e){const t=PW(e),r=bR(t,e),s=bR(t.reverse(),e);return[r,s]}function PW(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function bR(e,t){for(const r of e)if(!Hhe(r,{upTo:t}))return r}function Hhe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function qhe(e){return e instanceof HTMLInputElement&&"select"in e}function _d(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&qhe(e)&&t&&e.select()}}const wR=Ghe();function Ghe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=NR(e,t),e.unshift(t)},remove(t){var r;e=NR(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function NR(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function Khe(e){return e.filter(t=>t.tagName!=="A")}const Yhe=v.forwardRef((e,t)=>{var r;const{container:s=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...a}=e;return s?dN.createPortal(v.createElement(Ao.div,Xs({},a,{ref:t})),s):null});function Xhe(e,t){return v.useReducer((r,s)=>{const a=t[r][s];return a??r},e)}const WN=e=>{const{present:t,children:r}=e,s=Qhe(t),a=typeof r=="function"?r({present:s.isPresent}):v.Children.only(r),i=ay(s.ref,a.ref);return typeof r=="function"||s.isPresent?v.cloneElement(a,{ref:i}):null};WN.displayName="Presence";function Qhe(e){const[t,r]=v.useState(),s=v.useRef({}),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Xhe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const d=oj(s.current);i.current=l==="mounted"?d:"none"},[l]),bA(()=>{const d=s.current,u=a.current;if(u!==e){const m=i.current,h=oj(d);e?c("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),bA(()=>{if(t){const d=f=>{const h=oj(s.current).includes(f.animationName);f.target===t&&h&&ul.flushSync(()=>c("ANIMATION_END"))},u=f=>{f.target===t&&(i.current=oj(s.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(d=>{d&&(s.current=getComputedStyle(d)),r(d)},[])}}function oj(e){return(e==null?void 0:e.animationName)||"none"}let bS=0;function Zhe(){v.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:_R()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:_R()),bS++,()=>{bS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),bS--}},[])}function _R(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var kW=VV(),wS=function(){},HN=v.forwardRef(function(e,t){var r=v.useRef(null),s=v.useState({onScrollCapture:wS,onWheelCapture:wS,onTouchMoveCapture:wS}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,h=e.noIsolation,x=e.inert,p=e.allowPinchZoom,g=e.as,j=g===void 0?"div":g,y=hT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=m,b=UV([r,t]),N=la(la({},y),a);return v.createElement(v.Fragment,null,u&&v.createElement(w,{sideCar:kW,removeScrollBar:d,shards:f,noIsolation:h,inert:x,setCallbacks:i,allowPinchZoom:!!p,lockRef:r}),o?v.cloneElement(v.Children.only(l),la(la({},N),{ref:b})):v.createElement(j,la({},N,{className:c,ref:b}),l))});HN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};HN.classNames={fullWidth:Eg,zeroRight:Ag};var _A=!1;if(typeof window<"u")try{var lj=Object.defineProperty({},"passive",{get:function(){return _A=!0,!0}});window.addEventListener("test",lj,lj),window.removeEventListener("test",lj,lj)}catch{_A=!1}var Am=_A?{passive:!1}:!1,Jhe=function(e){return e.tagName==="TEXTAREA"},TW=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Jhe(e)&&r[t]==="visible")},epe=function(e){return TW(e,"overflowY")},tpe=function(e){return TW(e,"overflowX")},SR=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=OW(e,r);if(s){var a=DW(e,r),i=a[1],o=a[2];if(i>o)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},rpe=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},npe=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},OW=function(e,t){return e==="v"?epe(t):tpe(t)},DW=function(e,t){return e==="v"?rpe(t):npe(t)},spe=function(e,t){return e==="h"&&t==="rtl"?-1:1},ape=function(e,t,r,s,a){var i=spe(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,m=0;do{var h=DW(e,l),x=h[0],p=h[1],g=h[2],j=p-g-i*x;(x||j)&&OW(e,l)&&(f+=j,m+=x),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(f===0||!a)||!u&&(m===0||!a))&&(d=!0),d},cj=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},CR=function(e){return[e.deltaX,e.deltaY]},AR=function(e){return e&&"current"in e?e.current:e},ipe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ope=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},lpe=0,Em=[];function cpe(e){var t=v.useRef([]),r=v.useRef([0,0]),s=v.useRef(),a=v.useState(lpe++)[0],i=v.useState(function(){return pT()})[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=BV([e.lockRef.current],(e.shards||[]).map(AR),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,g){if("touches"in p&&p.touches.length===2)return!o.current.allowPinchZoom;var j=cj(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-j[0],b="deltaY"in p?p.deltaY:y[1]-j[1],N,_=p.target,C=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in p&&C==="h"&&_.type==="range")return!1;var A=SR(C,_);if(!A)return!0;if(A?N=C:(N=C==="v"?"h":"v",A=SR(C,_)),!A)return!1;if(!s.current&&"changedTouches"in p&&(w||b)&&(s.current=N),!N)return!0;var E=s.current||N;return ape(E,g,p,E==="h"?w:b,!0)},[]),c=v.useCallback(function(p){var g=p;if(!(!Em.length||Em[Em.length-1]!==i)){var j="deltaY"in g?CR(g):cj(g),y=t.current.filter(function(N){return N.name===g.type&&N.target===g.target&&ipe(N.delta,j)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(AR).filter(Boolean).filter(function(N){return N.contains(g.target)}),b=w.length>0?l(g,w[0]):!o.current.noIsolation;b&&g.cancelable&&g.preventDefault()}}},[]),d=v.useCallback(function(p,g,j,y){var w={name:p,delta:g,target:j,should:y};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),u=v.useCallback(function(p){r.current=cj(p),s.current=void 0},[]),f=v.useCallback(function(p){d(p.type,CR(p),p.target,l(p,e.lockRef.current))},[]),m=v.useCallback(function(p){d(p.type,cj(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return Em.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Am),document.addEventListener("touchmove",c,Am),document.addEventListener("touchstart",u,Am),function(){Em=Em.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Am),document.removeEventListener("touchmove",c,Am),document.removeEventListener("touchstart",u,Am)}},[]);var h=e.removeScrollBar,x=e.inert;return v.createElement(v.Fragment,null,x?v.createElement(i,{styles:ope(a)}):null,h?v.createElement(qV,{gapMode:"margin"}):null)}const dpe=WV(kW,cpe);var IW=v.forwardRef(function(e,t){return v.createElement(HN,la({},e,{ref:t,sideCar:dpe}))});IW.classNames=HN.classNames;const RW="Dialog",[MW,Bnt]=_he(RW),[upe,dm]=MW(RW),fpe=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[d=!1,u]=Ehe({prop:s,defaultProp:a,onChange:i});return v.createElement(upe,{scope:t,triggerRef:l,contentRef:c,contentId:vS(),titleId:vS(),descriptionId:vS(),open:d,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(f=>!f),[u]),modal:o},r)},FW="DialogPortal",[mpe,$W]=MW(FW,{forceMount:void 0}),hpe=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=dm(FW,t);return v.createElement(mpe,{scope:t,forceMount:r},v.Children.map(s,o=>v.createElement(WN,{present:r||i.open},v.createElement(Yhe,{asChild:!0,container:a},o))))},SA="DialogOverlay",ppe=v.forwardRef((e,t)=>{const r=$W(SA,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=dm(SA,e.__scopeDialog);return i.modal?v.createElement(WN,{present:s||i.open},v.createElement(xpe,Xs({},a,{ref:t}))):null}),xpe=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=dm(SA,r);return v.createElement(IW,{as:IT,allowPinchZoom:!0,shards:[a.contentRef]},v.createElement(Ao.div,Xs({"data-state":BW(a.open)},s,{ref:t,style:{pointerEvents:"auto",...s.style}})))}),N0="DialogContent",gpe=v.forwardRef((e,t)=>{const r=$W(N0,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=dm(N0,e.__scopeDialog);return v.createElement(WN,{present:s||i.open},i.modal?v.createElement(vpe,Xs({},a,{ref:t})):v.createElement(ype,Xs({},a,{ref:t})))}),vpe=v.forwardRef((e,t)=>{const r=dm(N0,e.__scopeDialog),s=v.useRef(null),a=ay(t,r.contentRef,s);return v.useEffect(()=>{const i=s.current;if(i)return Yv(i)},[]),v.createElement(LW,Xs({},e,{ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:gh(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)===null||o===void 0||o.focus()}),onPointerDownOutside:gh(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:gh(e.onFocusOutside,i=>i.preventDefault())}))}),ype=v.forwardRef((e,t)=>{const r=dm(N0,e.__scopeDialog),s=v.useRef(!1),a=v.useRef(!1);return v.createElement(LW,Xs({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o;if((o=e.onCloseAutoFocus)===null||o===void 0||o.call(e,i),!i.defaultPrevented){var l;s.current||(l=r.triggerRef.current)===null||l===void 0||l.focus(),i.preventDefault()}s.current=!1,a.current=!1},onInteractOutside:i=>{var o,l;(o=e.onInteractOutside)===null||o===void 0||o.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;((l=r.triggerRef.current)===null||l===void 0?void 0:l.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),LW=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=dm(N0,r),c=v.useRef(null),d=ay(t,c);return Zhe(),v.createElement(v.Fragment,null,v.createElement(Vhe,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i},v.createElement(Lhe,Xs({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":BW(l.open)},o,{ref:d,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function BW(e){return e?"open":"closed"}const jpe=fpe,bpe=hpe,wpe=ppe,Npe=gpe;var $x='[cmdk-group=""]',NS='[cmdk-group-items=""]',_pe='[cmdk-group-heading=""]',RT='[cmdk-item=""]',ER=`${RT}:not([aria-disabled="true"])`,CA="cmdk-item-select",Zu="data-value",Spe=(e,t,r)=>whe(e,t,r),UW=v.createContext(void 0),iy=()=>v.useContext(UW),VW=v.createContext(void 0),MT=()=>v.useContext(VW),zW=v.createContext(void 0),WW=v.forwardRef((e,t)=>{let r=$m(()=>{var R,V;return{search:"",value:(V=(R=e.value)!=null?R:e.defaultValue)!=null?V:"",filtered:{count:0,items:new Map,groups:new Set}}}),s=$m(()=>new Set),a=$m(()=>new Map),i=$m(()=>new Map),o=$m(()=>new Set),l=HW(e),{label:c,children:d,value:u,onValueChange:f,filter:m,shouldFilter:h,loop:x,disablePointerSelection:p=!1,vimBindings:g=!0,...j}=e,y=v.useId(),w=v.useId(),b=v.useId(),N=v.useRef(null),_=Mpe();qf(()=>{if(u!==void 0){let R=u.trim();r.current.value=R,C.emit()}},[u]),qf(()=>{_(6,W)},[]);let C=v.useMemo(()=>({subscribe:R=>(o.current.add(R),()=>o.current.delete(R)),snapshot:()=>r.current,setState:(R,V,L)=>{var K,le,me;if(!Object.is(r.current[R],V)){if(r.current[R]=V,R==="search")I(),k(),_(1,O);else if(R==="value"&&(L||_(5,W),((K=l.current)==null?void 0:K.value)!==void 0)){let B=V??"";(me=(le=l.current).onValueChange)==null||me.call(le,B);return}C.emit()}},emit:()=>{o.current.forEach(R=>R())}}),[]),A=v.useMemo(()=>({value:(R,V,L)=>{var K;V!==((K=i.current.get(R))==null?void 0:K.value)&&(i.current.set(R,{value:V,keywords:L}),r.current.filtered.items.set(R,E(V,L)),_(2,()=>{k(),C.emit()}))},item:(R,V)=>(s.current.add(R),V&&(a.current.has(V)?a.current.get(V).add(R):a.current.set(V,new Set([R]))),_(3,()=>{I(),k(),r.current.value||O(),C.emit()}),()=>{i.current.delete(R),s.current.delete(R),r.current.filtered.items.delete(R);let L=H();_(4,()=>{I(),(L==null?void 0:L.getAttribute("id"))===R&&O(),C.emit()})}),group:R=>(a.current.has(R)||a.current.set(R,new Set),()=>{i.current.delete(R),a.current.delete(R)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],disablePointerSelection:p,listId:y,inputId:b,labelId:w,listInnerRef:N}),[]);function E(R,V){var L,K;let le=(K=(L=l.current)==null?void 0:L.filter)!=null?K:Spe;return R?le(R,r.current.search,V):0}function k(){if(!r.current.search||l.current.shouldFilter===!1)return;let R=r.current.filtered.items,V=[];r.current.filtered.groups.forEach(K=>{let le=a.current.get(K),me=0;le.forEach(B=>{let X=R.get(B);me=Math.max(X,me)}),V.push([K,me])});let L=N.current;F().sort((K,le)=>{var me,B;let X=K.getAttribute("id"),oe=le.getAttribute("id");return((me=R.get(oe))!=null?me:0)-((B=R.get(X))!=null?B:0)}).forEach(K=>{let le=K.closest(NS);le?le.appendChild(K.parentElement===le?K:K.closest(`${NS} > *`)):L.appendChild(K.parentElement===L?K:K.closest(`${NS} > *`))}),V.sort((K,le)=>le[1]-K[1]).forEach(K=>{let le=N.current.querySelector(`${$x}[${Zu}="${encodeURIComponent(K[0])}"]`);le==null||le.parentElement.appendChild(le)})}function O(){let R=F().find(L=>L.getAttribute("aria-disabled")!=="true"),V=R==null?void 0:R.getAttribute(Zu);C.setState("value",V||void 0)}function I(){var R,V,L,K;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=s.current.size;return}r.current.filtered.groups=new Set;let le=0;for(let me of s.current){let B=(V=(R=i.current.get(me))==null?void 0:R.value)!=null?V:"",X=(K=(L=i.current.get(me))==null?void 0:L.keywords)!=null?K:[],oe=E(B,X);r.current.filtered.items.set(me,oe),oe>0&&le++}for(let[me,B]of a.current)for(let X of B)if(r.current.filtered.items.get(X)>0){r.current.filtered.groups.add(me);break}r.current.filtered.count=le}function W(){var R,V,L;let K=H();K&&(((R=K.parentElement)==null?void 0:R.firstChild)===K&&((L=(V=K.closest($x))==null?void 0:V.querySelector(_pe))==null||L.scrollIntoView({block:"nearest"})),K.scrollIntoView({block:"nearest"}))}function H(){var R;return(R=N.current)==null?void 0:R.querySelector(`${RT}[aria-selected="true"]`)}function F(){var R;return Array.from((R=N.current)==null?void 0:R.querySelectorAll(ER))}function T(R){let V=F()[R];V&&C.setState("value",V.getAttribute(Zu))}function P(R){var V;let L=H(),K=F(),le=K.findIndex(B=>B===L),me=K[le+R];(V=l.current)!=null&&V.loop&&(me=le+R<0?K[K.length-1]:le+R===K.length?K[0]:K[le+R]),me&&C.setState("value",me.getAttribute(Zu))}function M(R){let V=H(),L=V==null?void 0:V.closest($x),K;for(;L&&!K;)L=R>0?Ipe(L,$x):Rpe(L,$x),K=L==null?void 0:L.querySelector(ER);K?C.setState("value",K.getAttribute(Zu)):P(R)}let D=()=>T(F().length-1),Y=R=>{R.preventDefault(),R.metaKey?D():R.altKey?M(1):P(1)},ae=R=>{R.preventDefault(),R.metaKey?T(0):R.altKey?M(-1):P(-1)};return v.createElement(Ao.div,{ref:t,tabIndex:-1,...j,"cmdk-root":"",onKeyDown:R=>{var V;if((V=j.onKeyDown)==null||V.call(j,R),!R.defaultPrevented)switch(R.key){case"n":case"j":{g&&R.ctrlKey&&Y(R);break}case"ArrowDown":{Y(R);break}case"p":case"k":{g&&R.ctrlKey&&ae(R);break}case"ArrowUp":{ae(R);break}case"Home":{R.preventDefault(),T(0);break}case"End":{R.preventDefault(),D();break}case"Enter":if(!R.nativeEvent.isComposing&&R.keyCode!==229){R.preventDefault();let L=H();if(L){let K=new Event(CA);L.dispatchEvent(K)}}}}},v.createElement("label",{"cmdk-label":"",htmlFor:A.inputId,id:A.labelId,style:$pe},c),qN(e,R=>v.createElement(VW.Provider,{value:C},v.createElement(UW.Provider,{value:A},R))))}),Cpe=v.forwardRef((e,t)=>{var r,s;let a=v.useId(),i=v.useRef(null),o=v.useContext(zW),l=iy(),c=HW(e),d=(s=(r=c.current)==null?void 0:r.forceMount)!=null?s:o==null?void 0:o.forceMount;qf(()=>{if(!d)return l.item(a,o==null?void 0:o.id)},[d]);let u=qW(a,i,[e.value,e.children,i],e.keywords),f=MT(),m=Gf(_=>_.value&&_.value===u.current),h=Gf(_=>d||l.filter()===!1?!0:_.search?_.filtered.items.get(a)>0:!0);v.useEffect(()=>{let _=i.current;if(!(!_||e.disabled))return _.addEventListener(CA,x),()=>_.removeEventListener(CA,x)},[h,e.onSelect,e.disabled]);function x(){var _,C;p(),(C=(_=c.current).onSelect)==null||C.call(_,u.current)}function p(){f.setState("value",u.current,!0)}if(!h)return null;let{disabled:g,value:j,onSelect:y,forceMount:w,keywords:b,...N}=e;return v.createElement(Ao.div,{ref:_0([i,t]),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!m,"data-disabled":!!g,"data-selected":!!m,onPointerMove:g||l.disablePointerSelection?void 0:p,onClick:g?void 0:x},e.children)}),Ape=v.forwardRef((e,t)=>{let{heading:r,children:s,forceMount:a,...i}=e,o=v.useId(),l=v.useRef(null),c=v.useRef(null),d=v.useId(),u=iy(),f=Gf(h=>a||u.filter()===!1?!0:h.search?h.filtered.groups.has(o):!0);qf(()=>u.group(o),[]),qW(o,l,[e.value,e.heading,c]);let m=v.useMemo(()=>({id:o,forceMount:a}),[a]);return v.createElement(Ao.div,{ref:_0([l,t]),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&v.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),qN(e,h=>v.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},v.createElement(zW.Provider,{value:m},h))))}),Epe=v.forwardRef((e,t)=>{let{alwaysRender:r,...s}=e,a=v.useRef(null),i=Gf(o=>!o.search);return!r&&!i?null:v.createElement(Ao.div,{ref:_0([a,t]),...s,"cmdk-separator":"",role:"separator"})}),Ppe=v.forwardRef((e,t)=>{let{onValueChange:r,...s}=e,a=e.value!=null,i=MT(),o=Gf(u=>u.search),l=Gf(u=>u.value),c=iy(),d=v.useMemo(()=>{var u;let f=(u=c.listInnerRef.current)==null?void 0:u.querySelector(`${RT}[${Zu}="${encodeURIComponent(l)}"]`);return f==null?void 0:f.getAttribute("id")},[]);return v.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),v.createElement(Ao.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":d,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),kpe=v.forwardRef((e,t)=>{let{children:r,label:s="Suggestions",...a}=e,i=v.useRef(null),o=v.useRef(null),l=iy();return v.useEffect(()=>{if(o.current&&i.current){let c=o.current,d=i.current,u,f=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let m=c.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return f.observe(c),()=>{cancelAnimationFrame(u),f.unobserve(c)}}},[]),v.createElement(Ao.div,{ref:_0([i,t]),...a,"cmdk-list":"",role:"listbox","aria-label":s,id:l.listId},qN(e,c=>v.createElement("div",{ref:_0([o,l.listInnerRef]),"cmdk-list-sizer":""},c)))}),Tpe=v.forwardRef((e,t)=>{let{open:r,onOpenChange:s,overlayClassName:a,contentClassName:i,container:o,...l}=e;return v.createElement(jpe,{open:r,onOpenChange:s},v.createElement(bpe,{container:o},v.createElement(wpe,{"cmdk-overlay":"",className:a}),v.createElement(Npe,{"aria-label":e.label,"cmdk-dialog":"",className:i},v.createElement(WW,{ref:t,...l}))))}),Ope=v.forwardRef((e,t)=>Gf(r=>r.filtered.count===0)?v.createElement(Ao.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Dpe=v.forwardRef((e,t)=>{let{progress:r,children:s,label:a="Loading...",...i}=e;return v.createElement(Ao.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},qN(e,o=>v.createElement("div",{"aria-hidden":!0},o)))}),fi=Object.assign(WW,{List:kpe,Item:Cpe,Input:Ppe,Group:Ape,Separator:Epe,Dialog:Tpe,Empty:Ope,Loading:Dpe});function Ipe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Rpe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function HW(e){let t=v.useRef(e);return qf(()=>{t.current=e}),t}var qf=typeof window>"u"?v.useEffect:v.useLayoutEffect;function $m(e){let t=v.useRef();return t.current===void 0&&(t.current=e()),t}function _0(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}function Gf(e){let t=MT(),r=()=>e(t.snapshot());return v.useSyncExternalStore(t.subscribe,r,r)}function qW(e,t,r,s=[]){let a=v.useRef(),i=iy();return qf(()=>{var o;let l=(()=>{var d;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=s.map(d=>d.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(Zu,l),a.current=l}),a}var Mpe=()=>{let[e,t]=v.useState(),r=$m(()=>new Map);return qf(()=>{r.current.forEach(s=>s()),r.current=new Map},[e]),(s,a)=>{r.current.set(s,a),t({})}};function Fpe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function qN({asChild:e,children:t},r){return e&&v.isValidElement(t)?v.cloneElement(Fpe(t),{ref:t.ref},r(t.props.children)):r(t)}var $pe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Zr=ET,Lpe=oW,Bpe=PT,GW=v.forwardRef(({className:e,...t},r)=>n.jsx(ty,{ref:r,className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));GW.displayName=ty.displayName;const Hr=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Bpe,{children:[n.jsx(GW,{}),n.jsxs(ry,{ref:s,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(UN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(us,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hr.displayName=ry.displayName;const Jr=({className:e,...t})=>n.jsx("div",{className:ge("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Jr.displayName="DialogHeader";const Ba=({className:e,...t})=>n.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ba.displayName="DialogFooter";const en=v.forwardRef(({className:e,...t},r)=>n.jsx(ny,{ref:r,className:ge("text-lg font-semibold leading-none tracking-tight",e),...t}));en.displayName=ny.displayName;const ss=v.forwardRef(({className:e,...t},r)=>n.jsx(sy,{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));ss.displayName=sy.displayName;const FT=v.forwardRef(({className:e,...t},r)=>n.jsx(fi,{ref:r,className:ge("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));FT.displayName=fi.displayName;const Upe=({children:e,shouldFilter:t=!0,...r})=>n.jsx(Zr,{...r,children:n.jsx(Hr,{className:"overflow-hidden p-0 shadow-2xl border-border/50 max-w-2xl",children:n.jsx(FT,{shouldFilter:t,className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-semibold [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:uppercase [&_[cmdk-group-heading]]:tracking-wider [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-3 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),$T=v.forwardRef(({className:e,...t},r)=>n.jsxs("div",{className:"flex items-center border-b border-border/50 px-4 bg-muted/30","cmdk-input-wrapper":"",children:[n.jsx(ca,{className:"mr-3 h-5 w-5 shrink-0 text-primary/70"}),n.jsx(fi.Input,{ref:r,className:ge("flex h-14 w-full rounded-md bg-transparent py-3 text-base outline-none placeholder:text-muted-foreground/70 disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));$T.displayName=fi.Input.displayName;const LT=v.forwardRef(({className:e,...t},r)=>n.jsx(fi.List,{ref:r,className:ge("max-h-[400px] overflow-y-auto overflow-x-hidden p-2",e),...t}));LT.displayName=fi.List.displayName;const KW=v.forwardRef((e,t)=>n.jsx(fi.Empty,{ref:t,className:"py-12 text-center text-sm text-muted-foreground",...e}));KW.displayName=fi.Empty.displayName;const kl=v.forwardRef(({className:e,...t},r)=>n.jsx(fi.Group,{ref:r,className:ge("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-3 [&_[cmdk-group-heading]]:py-2 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-semibold [&_[cmdk-group-heading]]:text-muted-foreground/80 [&_[cmdk-group-heading]]:uppercase [&_[cmdk-group-heading]]:tracking-wider",e),...t}));kl.displayName=fi.Group.displayName;const Vpe=v.forwardRef(({className:e,...t},r)=>n.jsx(fi.Separator,{ref:r,className:ge("-mx-1 h-px bg-border",e),...t}));Vpe.displayName=fi.Separator.displayName;const vi=v.forwardRef(({className:e,...t},r)=>n.jsx(fi.Item,{ref:r,className:ge("relative flex cursor-pointer select-none items-center rounded-lg px-3 py-2.5 text-sm outline-none transition-all duration-150 data-[disabled=true]:pointer-events-none data-[selected='true']:bg-primary/10 data-[selected='true']:text-primary data-[selected=true]:shadow-sm data-[disabled=true]:opacity-50 hover:bg-muted/50",e),...t}));vi.displayName=fi.Item.displayName;const pi=ir.create({baseURL:Yi,timeout:3e4,headers:{"Content-Type":"application/json"}});pi.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const dj={async getNotifications(e){return(await pi.get("/notifications/",{params:e})).data},async getRecentNotifications(){return(await pi.get("/notifications/recent/")).data},async getNotification(e){return(await pi.get(`/notifications/${e}/`)).data},async getUnreadCount(){return(await pi.get("/notifications/unread_count/")).data.unread_count},async markAsRead(e){return(await pi.post(`/notifications/${e}/mark_read/`)).data},async markAllAsRead(){return(await pi.post("/notifications/mark_all_read/")).data},async deleteNotification(e){await pi.delete(`/notifications/${e}/`)},async clearReadNotifications(){return(await pi.delete("/notifications/clear_read/")).data},async getByType(e){return(await pi.get("/notifications/by_type/",{params:{type:e}})).data},async createNotification(e){return(await pi.post("/notifications/",e)).data},async getPreferences(){return(await pi.get("/notification-preferences/")).data},async updatePreferences(e){return(await pi.post("/notification-preferences/",e)).data}},zpe=e=>({info:"text-blue-500",success:"text-green-500",warning:"text-amber-500",error:"text-red-500",order:"text-blue-500",delivery:"text-cyan-500",payment:"text-green-500",issue:"text-orange-500",system:"text-purple-500"})[e]||"text-muted-foreground",Wpe=e=>{const t=new Date(e),s=new Date().getTime()-t.getTime(),a=Math.floor(s/6e4),i=Math.floor(s/36e5),o=Math.floor(s/864e5);return a<1?"Just now":a<60?`${a} min ago`:i<24?`${i} hour${i>1?"s":""} ago`:o<7?`${o} day${o>1?"s":""} ago`:t.toLocaleDateString()},BT=ir.create({baseURL:Yi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});BT.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));BT.interceptors.response.use(e=>e,e=>{var t,r;return console.error("Search API error:",(t=e.response)==null?void 0:t.status,(r=e.response)==null?void 0:r.data),Promise.reject(e)});const Hpe={async globalSearch(e,t=5){return(await BT.get("/search/",{params:{q:e,limit:t}})).data}};function qpe({className:e,onMenuToggle:t}){const[r,s]=v.useState(!1),[a,i]=v.useState(!1),[o,l]=v.useState(""),[c,d]=v.useState(null),[u,f]=v.useState(!1),[m,h]=v.useState([]),[x,p]=v.useState(0),[g,j]=v.useState(!1),[y,w]=v.useState(null),[b,N]=v.useState(!1),_=dr(),{toast:C}=pr();v.useEffect(()=>{(async()=>{try{if(mn.isAuthenticated()){const T=await vc.getProfile();d(T)}}catch(T){console.error("Failed to fetch profile:",T)}})()},[]),v.useEffect(()=>{const F=async()=>{try{if(mn.isAuthenticated()){j(!0);const[P,M]=await Promise.all([dj.getRecentNotifications(),dj.getUnreadCount()]);h(P),p(M)}}catch(P){console.error("Failed to fetch notifications:",P)}finally{j(!1)}};F();const T=setInterval(F,3e4);return()=>clearInterval(T)},[]);const A=v.useCallback(async()=>{try{await dj.markAllAsRead(),h(F=>F.map(T=>({...T,is_read:!0}))),p(0),C({title:"Notifications marked as read",description:"All notifications have been marked as read."})}catch(F){console.error("Failed to mark all as read:",F)}},[C]),E=v.useCallback(async F=>{try{await dj.markAsRead(F),h(T=>T.map(P=>P.id===F?{...P,is_read:!0}:P)),p(T=>Math.max(0,T-1))}catch(T){console.error("Failed to mark as read:",T)}},[]),k=v.useCallback(async()=>{f(!0);try{const F=mn.getRefreshToken();F&&await vc.logout(F),mn.clearTokens(),C({title:"Logged out",description:"You have been successfully logged out."}),_("/login")}catch(F){console.error("Logout failed:",F),mn.clearTokens(),_("/login")}finally{f(!1)}},[_,C]),O=v.useMemo(()=>{var P,M,D,Y;if(!c)return"U";const F=((P=c.first_name)==null?void 0:P[0])||"",T=((M=c.last_name)==null?void 0:M[0])||"";return F||T?(F+T).toUpperCase():((Y=(D=c.username)==null?void 0:D[0])==null?void 0:Y.toUpperCase())||"U"},[c]),I=v.useMemo(()=>c?c.first_name&&c.last_name?`${c.first_name} ${c.last_name}`:c.username||"User":"User",[c]);v.useEffect(()=>{const F=T=>{T.key==="k"&&(T.metaKey||T.ctrlKey)&&(T.preventDefault(),s(P=>!P))};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[]);const W=F=>{switch(F){case"order":return js;case"payment":return ys;case"delivery":return wr;case"issue":return _t;case"warning":return _t;case"success":return mo;default:return af}};v.useEffect(()=>{const F=setTimeout(async()=>{var P,M;const T=o.trim();if(T.length>=2){N(!0);try{console.log("Searching for:",T);const D=await Hpe.globalSearch(T,5);console.log("Search results:",D),w(D)}catch(D){console.error("Search failed:",D),console.error("Error response:",(P=D.response)==null?void 0:P.data),console.error("Error status:",(M=D.response)==null?void 0:M.status),w(null)}finally{N(!1)}}else w(null)},300);return()=>clearTimeout(F)},[o]);const H=(F,T,P)=>{s(!1),l(""),w(null),F==="apartment"?_(`/apartments/${T}`):F==="client"?_("/clients"):F==="vendor"?_("/vendors"):F==="delivery"?_("/deliveries"):F==="issue"?_(P?`/apartments/${P}`:"/issues"):F==="product"&&P&&_(`/apartments/${P}`)};return n.jsxs(n.Fragment,{children:[n.jsx("header",{className:ge("sticky top-0 z-20 w-full","bg-background/80 backdrop-blur-xl","border-b border-border/40","supports-[backdrop-filter]:bg-background/60",e),children:n.jsxs("div",{className:"flex items-center justify-between h-16 px-4 lg:px-6",children:[n.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[n.jsx(te,{variant:"ghost",size:"icon",className:"md:hidden h-9 w-9 hover:bg-muted/80",onClick:t,children:n.jsx(Sse,{className:"h-5 w-5"})}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center shadow-lg shadow-primary/20",children:n.jsx(Wo,{className:"h-4 w-4 text-primary-foreground"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-bold tracking-tight text-foreground",children:"Buy2Rent"}),n.jsx("span",{className:"text-[10px] text-muted-foreground -mt-0.5",children:"Procurement"})]})]})}),n.jsxs(te,{variant:"outline",className:ge("relative hidden lg:flex items-center gap-3","h-10 rounded-xl px-4","bg-muted/30 hover:bg-muted/50","border-border/50 hover:border-primary/30","text-sm text-muted-foreground","transition-all duration-300","min-w-[280px] lg:min-w-[360px]","justify-start","group"),onClick:()=>s(!0),children:[n.jsx(ca,{className:"h-4 w-4 text-muted-foreground/70 group-hover:text-primary transition-colors"}),n.jsx("span",{className:"flex-1 text-left text-muted-foreground/70",children:"Search apartments, clients, products..."}),n.jsxs("kbd",{className:ge("hidden lg:inline-flex h-5 select-none items-center gap-1","rounded-md border border-border/50 bg-background/80","px-1.5 font-mono text-[10px] font-medium text-muted-foreground/70"),children:[n.jsx("span",{className:"text-xs",children:""}),"K"]})]})]}),n.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[n.jsx(te,{variant:"ghost",size:"icon",className:"lg:hidden h-9 w-9 hover:bg-muted/80",onClick:()=>s(!0),children:n.jsx(ca,{className:"h-5 w-5"})}),n.jsxs(te,{variant:"ghost",size:"icon",className:ge("relative h-9 w-9 rounded-xl","hover:bg-muted/80 transition-all duration-200","group"),onClick:()=>i(!0),children:[n.jsx(af,{className:"h-5 w-5 text-muted-foreground group-hover:text-foreground transition-colors"}),x>0&&n.jsx("span",{className:ge("absolute -top-0.5 -right-0.5","flex h-5 min-w-5 items-center justify-center","rounded-full bg-primary px-1","text-[10px] font-bold text-primary-foreground","shadow-lg shadow-primary/30","animate-in zoom-in-50"),children:x})]}),n.jsx("div",{className:"hidden lg:block h-6 w-px bg-border/50 mx-2"}),n.jsxs(Jv,{children:[n.jsx(ey,{asChild:!0,children:n.jsxs(te,{variant:"ghost",className:ge("h-10 gap-2 px-2 lg:px-3 rounded-xl","hover:bg-muted/80 transition-all duration-200"),children:[n.jsx(mA,{className:ge("h-8 w-8","ring-2 ring-primary/20 ring-offset-2 ring-offset-background","transition-all duration-300"),children:n.jsx(hA,{className:"bg-gradient-to-br from-primary via-primary to-primary/80 text-primary-foreground text-xs font-semibold",children:O})}),n.jsxs("div",{className:"hidden lg:flex flex-col items-start",children:[n.jsx("span",{className:"text-sm font-medium",children:I}),n.jsx("span",{className:"text-[10px] text-muted-foreground",children:(c==null?void 0:c.username)||"User"})]}),n.jsx(Au,{className:"hidden lg:block h-4 w-4 text-muted-foreground"})]})}),n.jsxs(Xp,{align:"end",className:ge("w-64 p-2","bg-popover/95 backdrop-blur-xl","border-border/50","shadow-xl"),children:[n.jsxs("div",{className:"flex items-center gap-3 p-2 mb-2",children:[n.jsx(mA,{className:"h-10 w-10 ring-2 ring-primary/20",children:n.jsx(hA,{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground font-semibold",children:O})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-semibold",children:I}),n.jsx("span",{className:"text-xs text-muted-foreground",children:(c==null?void 0:c.email)||"user@example.com"})]})]}),n.jsx(Ic,{className:"bg-border/50"}),n.jsxs(In,{className:"cursor-pointer rounded-lg h-10 gap-3",children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-muted/50 flex items-center justify-center",children:n.jsx(S4,{className:"h-4 w-4 text-muted-foreground"})}),n.jsx("span",{children:"Profile"})]}),n.jsxs(In,{className:"cursor-pointer rounded-lg h-10 gap-3",onClick:()=>_("/settings"),children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-muted/50 flex items-center justify-center",children:n.jsx(Fv,{className:"h-4 w-4 text-muted-foreground"})}),n.jsx("span",{children:"Settings"})]}),n.jsxs(In,{className:"cursor-pointer rounded-lg h-10 gap-3",children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-muted/50 flex items-center justify-center",children:n.jsx(Gc,{className:"h-4 w-4 text-muted-foreground"})}),n.jsx("span",{children:"Team"})]}),n.jsx(Ic,{className:"bg-border/50"}),n.jsxs(In,{className:"cursor-pointer rounded-lg h-10 gap-3 text-red-500 hover:text-red-500 hover:bg-red-500/10",onClick:k,disabled:u,children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-red-500/10 flex items-center justify-center",children:n.jsx(Nse,{className:ge("h-4 w-4",u&&"animate-spin")})}),n.jsx("span",{children:u?"Logging out...":"Log out"})]})]})]})]})]})}),n.jsxs(Upe,{open:r,onOpenChange:F=>{s(F),F||l("")},shouldFilter:!1,children:[n.jsxs("div",{className:"flex items-center border-b px-3",children:[n.jsx(ca,{className:"h-4 w-4 text-muted-foreground mr-2"}),n.jsx($T,{placeholder:"Search apartments, clients, vendors, products...",className:"h-14 text-base border-0 focus:ring-0",value:o,onValueChange:l})]}),n.jsxs(LT,{className:"min-h-[350px] max-h-[450px]",children:[b&&n.jsx("div",{className:"py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Searching..."})]})}),!b&&o.length>=2&&y&&y.total_results===0&&n.jsx("div",{className:"py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(ca,{className:"h-10 w-10 text-muted-foreground/30"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"No results found"}),n.jsx("p",{className:"text-xs text-muted-foreground/70",children:"Try searching for apartments, clients, vendors, or products"})]})}),y&&y.apartments.length>0&&n.jsx(kl,{heading:`Apartments (${y.apartments.length})`,children:y.apartments.map(F=>n.jsxs(vi,{value:`apartment-${F.id}`,onSelect:()=>H("apartment",F.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-emerald-500/10 flex items-center justify-center mr-3",children:n.jsx(cr,{className:"h-4 w-4 text-emerald-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:F.address})]}),n.jsx("span",{className:ge("text-[10px] px-2 py-0.5 rounded-full",F.status==="In Progress"?"bg-blue-500/10 text-blue-500":F.status==="Completed"?"bg-green-500/10 text-green-500":"bg-muted text-muted-foreground"),children:F.status})]},F.id))}),y&&y.clients.length>0&&n.jsx(kl,{heading:`Clients (${y.clients.length})`,children:y.clients.map(F=>n.jsxs(vi,{value:`client-${F.id}`,onSelect:()=>H("client",F.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-violet-500/10 flex items-center justify-center mr-3",children:n.jsx(S7,{className:"h-4 w-4 text-violet-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:F.email})]}),n.jsx("span",{className:ge("text-[10px] px-2 py-0.5 rounded-full",F.account_status==="Active"?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"),children:F.account_status})]},F.id))}),y&&y.vendors.length>0&&n.jsx(kl,{heading:`Vendors (${y.vendors.length})`,children:y.vendors.map(F=>n.jsxs(vi,{value:`vendor-${F.id}`,onSelect:()=>H("vendor",F.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-amber-500/10 flex items-center justify-center mr-3",children:n.jsx(Da,{className:"h-4 w-4 text-amber-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:F.company_name||F.email||"No details"})]})]},F.id))}),y&&y.products.length>0&&n.jsx(kl,{heading:`Products (${y.products.length})`,children:y.products.map(F=>n.jsxs(vi,{value:`product-${F.id}`,onSelect:()=>H("product",F.id,F.apartment_id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-orange-500/10 flex items-center justify-center mr-3",children:n.jsx(ct,{className:"h-4 w-4 text-orange-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.product}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[F.vendor,"  ",F.category||"Uncategorized"]})]}),n.jsx("span",{className:ge("text-[10px] px-2 py-0.5 rounded-full",F.status==="Delivered"?"bg-green-500/10 text-green-500":F.status==="Ordered"?"bg-blue-500/10 text-blue-500":"bg-muted text-muted-foreground"),children:F.status})]},F.id))}),y&&y.deliveries.length>0&&n.jsx(kl,{heading:`Deliveries (${y.deliveries.length})`,children:y.deliveries.map(F=>n.jsxs(vi,{value:`delivery-${F.id}`,onSelect:()=>H("delivery",F.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-cyan-500/10 flex items-center justify-center mr-3",children:n.jsx(wr,{className:"h-4 w-4 text-cyan-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.order_reference||`Delivery #${F.id.slice(0,8)}`}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[F.vendor,"  ",F.expected_date||"No date"]})]}),n.jsx("span",{className:ge("text-[10px] px-2 py-0.5 rounded-full",F.status==="Delivered"?"bg-green-500/10 text-green-500":F.status==="In Transit"?"bg-blue-500/10 text-blue-500":F.status==="Scheduled"?"bg-amber-500/10 text-amber-500":"bg-muted text-muted-foreground"),children:F.status})]},F.id))}),y&&y.issues.length>0&&n.jsx(kl,{heading:`Issues (${y.issues.length})`,children:y.issues.map(F=>n.jsxs(vi,{value:`issue-${F.id}`,onSelect:()=>H("issue",F.id,F.apartment_id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-red-500/10 flex items-center justify-center mr-3",children:n.jsx(_t,{className:"h-4 w-4 text-red-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.product_name}),n.jsxs("span",{className:"text-xs text-muted-foreground line-clamp-1",children:[F.type,"  ",F.priority]})]}),n.jsx("span",{className:ge("text-[10px] px-2 py-0.5 rounded-full",F.status==="Closed"?"bg-green-500/10 text-green-500":F.status==="Open"?"bg-red-500/10 text-red-500":"bg-amber-500/10 text-amber-500"),children:F.status})]},F.id))}),!o&&n.jsxs(kl,{heading:"Quick Actions",children:[n.jsxs(vi,{value:"go-to-apartments",onSelect:()=>{s(!1),_("/apartments")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-emerald-500/10 flex items-center justify-center mr-3",children:n.jsx(cr,{className:"h-4 w-4 text-emerald-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:"View All Apartments"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse apartments"})]})]}),n.jsxs(vi,{value:"go-to-clients",onSelect:()=>{s(!1),_("/clients")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-violet-500/10 flex items-center justify-center mr-3",children:n.jsx(Gc,{className:"h-4 w-4 text-violet-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:"View All Clients"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse clients"})]})]}),n.jsxs(vi,{value:"go-to-vendors",onSelect:()=>{s(!1),_("/vendors")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-amber-500/10 flex items-center justify-center mr-3",children:n.jsx(Da,{className:"h-4 w-4 text-amber-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:"View All Vendors"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse vendors"})]})]}),n.jsxs(vi,{value:"go-to-deliveries",onSelect:()=>{s(!1),_("/deliveries")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-cyan-500/10 flex items-center justify-center mr-3",children:n.jsx(wr,{className:"h-4 w-4 text-cyan-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:"View All Deliveries"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse deliveries"})]})]})]})]})]}),n.jsx(Xme,{open:a,onOpenChange:i,children:n.jsxs(cW,{className:"w-full sm:w-[420px] p-0 border-l-border/50",children:[n.jsx(dW,{className:"p-6 pb-4 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx(af,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(uW,{className:"text-lg",children:"Notifications"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[x," unread messages"]})]})]}),x>0&&n.jsxs(te,{variant:"ghost",size:"sm",className:"text-xs text-primary hover:text-primary",onClick:A,children:[n.jsx(mo,{className:"h-3 w-3 mr-1"}),"Mark all read"]})]})}),n.jsx(ac,{className:"h-[calc(100vh-120px)]",children:n.jsx("div",{className:"p-4 space-y-2",children:g?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full"})}):m.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"h-12 w-12 rounded-xl bg-muted/50 flex items-center justify-center mb-3",children:n.jsx(af,{className:"h-6 w-6 text-muted-foreground/50"})}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No notifications"}),n.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:"You're all caught up!"})]}):m.map(F=>{const T=W(F.notification_type);return n.jsx("div",{className:ge("group relative p-4 rounded-xl border transition-all duration-200 cursor-pointer","hover:shadow-md hover:scale-[1.01]",F.is_read?"bg-card border-border/50 hover:bg-muted/50":"bg-primary/5 border-primary/20 hover:bg-primary/10"),onClick:()=>{F.is_read||E(F.id),F.action_url&&(_(F.action_url),i(!1))},children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:ge("h-10 w-10 rounded-xl flex items-center justify-center flex-shrink-0",F.is_read?"bg-muted/50":"bg-background"),children:n.jsx(T,{className:ge("h-5 w-5",zpe(F.notification_type))})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("p",{className:"font-medium text-sm",children:F.title}),!F.is_read&&n.jsx("span",{className:"h-2 w-2 rounded-full bg-primary flex-shrink-0 mt-1.5"})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:F.message}),n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-[10px] text-muted-foreground/70",children:[n.jsx(jr,{className:"h-3 w-3"}),n.jsx("span",{children:Wpe(F.created_at)})]})]})]})},F.id)})})})]})})]})}const _S=768;function YW(){const[e,t]=v.useState(void 0);return v.useEffect(()=>{const r=window.matchMedia(`(max-width: ${_S-1}px)`),s=()=>{t(window.innerWidth<_S)};return r.addEventListener("change",s),t(window.innerWidth<_S),()=>r.removeEventListener("change",s)},[]),!!e}const Gpe="/assets/buy2rent-CUbASZeg.png",Kpe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAAyCAYAAACauW+fAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADwZJREFUeNrsWwlYVdUW3ne+gDiWQw6pDyXLPmdNqLwKjljyKrG0TCtnM8vZ0rSytKeYiebwyinQcAiVckBDK3DAAVBfaQ6k4ggoCNz53vevc/e5Hi6XQYLv63vvrO9b3z5nn7X3Xmf/e6299jr3MiaTTDLJJJNMMskkk0wyySSTTDLJJJNMMv39SCFe/Gt88EQULR6suVPoQqVWspp1m7D6AV1YkyfDmN1qZA67taI6nQafAf/crl07GaEqIrV40aJxjX4oni035MBcpQToGhXTaNVM56NkfsoLzOfuXvZomxeZyufhiupUwDk7JSUlBuXiTp062WSoqgh4q82hQ6ErD+BKAlylZAq1GsCrmRKlk9mZqTCbZV1OYab8a+yRx/qymo26VkQn0qE2uHHHjh2bogxLSkqaERwcfEiGq/JIKbl2lGulaJRMo9PAwnVM56tjeirBel898/HzFa6dliyWk7GLFWSd/qv61QR3CwoKWp+YmNhFhqtqgC91LycrFwDXu8DWFwHdVQrXYB8/P2wDJpZ/bTdzOqyVoWeAwWBYn5CQ8JAMWSW7eu9unQBXInhTwdLVrGH9GkyDUqPVMDX29Tt5ZsHV07VG45JR056v0biulfnMlneCaWpWirG2DA0NnYXyHRm2qgIe+7gC8b4AqtoVvKnU6k3j5+/fpIDlk/UrFEoW+2VES61OOzIr1xhAwKsAuLAwhIBPg71fycx3T3sC/wfn45I6f3AH8DNl6PtGXFzcgvDw8GsydFUAvBKBm5pbsIZbNBZAWnJa5nap3OtTv1dD9uCK+S98A9knXN6AZBHsOR3MYraCr7JqTYt0vysiIuJLlNcldVpwg9jY2DA6WZaib7UBAwbQ4vhOhq4SgSdrVqtU3HWrXcBrXcDD3es9G+/59Twds47q9bqvIBtFsnSut1ltANzCTCYAbzJ7Nru9efPmCx51heC7Q4YMOR8dHR2K696l6BwqA1+JwR25dLhtd4B2v9Qyvd7FJZGPn88fWgR+DoeTmYxmVnCvkBXkGcFU5pc7roiJiaFIcEUZOjeXYatEi6fInFy0WqtyW7vU8mHxZm8dLPkonILAEVaLjZmNFmY2m5nFaBUs3gxX71RoK3KOL41UMmyVCDxZuCsiV7v3dpUEeHCLz6b3e4b2f0rRKhH92WyOh99+45neN2/m/lPYz+HWzULpAp7u6zbv4DmmvSRloqKihACuzLOlTFULvBDU8Sgd1/2mTwjpwBCtA3XGrA7mMFtqZmZmNyFLdwVyFmYF6GaLlVlxb0XZIDDEc0zfRYsW1fSii++4ceNeRWkoQ2e9DFtlunoOvBt0TVG3j7LevXxLPafTLABqhjs3C1Z9H3SL2eYG3OFUsYAuQ1j1uv/wHPP59957z9vHIB8euJW1N/xHhq1SgdeKLr2I5fOjnCBjs9kBONw5gS26cwF0F9M+byNrR1TvcKiYzq+utzEf51xRipFhq0xXr78PvEZLlu/KvtERzw7ACVg36KJblwBOVu4CHmy3Mwf41E9fM61PdfZQ4yfEYeK4RZN1N+J19EGmTjn1vfjxxx8ny7A9OM2aRUlP1hjzd0U4uosPrhyemQhLN1DGjaxdgSDO6XAwC7n1QgFss59OZRGidRF8k8X/dna+YOE2gQlwh5DqFaI4q5nVbvgY6zZkPi2Ay6jaD36ED9mEl/T9trw5+IEKhWKLZ+W0adPaliB/bcGCBbeqelLDn21GBtRaUnUH/Gfcz5dE/V6RvK8nGZnrNwg/Qdcq0Q/jB8yfP/8lmmfM3+QiwN9Kn5sIwA0UsVPcLBzPTASyWXDruN+xduuJHTabDR7AwewA2G61PT6kT2Bw9p3CLmThdI73JJvFyDr0m2Bq0fkFytb1ADekLF0F9F8aGRk5YdKkScXDfKczWXLUU0qi//OQT6DtAW3NVTGpzz3dtNs7g9rQpIbW8BMyWCy3wEKI7/hiU9rX8UkZRuiXjvsnS+mGUthzAUp0VeiI8b9grm8chzBGUBHg8859lkgRtR0AEtCUiBH3cTqiwaKndR747889Ox0Z3rp9r06NvsUst/J66FZrWd169RcGv74yftmyZTSeDtF73ANE55QdjEHb0ePHjzeW8GJlHfFm4YU/qewJ7fNUk5ZThrTfkZNnCqzup90bu//8DaqPCAkIyyuw1Knlr3s7dML2KKiXKJ5W8B7LxPaYh/oowvhcZOP9AvE4mz+jIgAcyMX/JM8gNsdzPxTN+LO74EeZ6zO2CXwWcle5XBiOyUtwSVH2KYwxg8ZyA3/3908TrWaLwWR0u3FJtC4AP7fb8Og53iZg87w+r6NY6+1ZzRr+h2N3p/Xs9PxkNnLkyHwO1GIUE8sxt5fh/pbVrl17KdoaS1nRIvC7Vq9evYtf+40YMeJFlB2FFQ7CPSUV2tM95FaL7VEfxregaxjrck5OTlfuMfZC7E+JXG/usnWoj9q/NHwWQP+I9NyXcrXlyrjTglcZFd46LLRTo2h4UFP41Pj6UuBJD7E/uF8V3DB9m3iXVz2Nx0kYp+GqVate4R6yG392DLwT87ARY2eiT9revuDPboLbcW+aA06G3GLIHYZcHh2VuTekHAqlx39xT17m0fcTL/4y1fn7vonO9PhxzuNbRzoPxQxzHlz7qnPfqpede5a9NKekiQfwfcBOL5w59oXWxSL4NWvW+EOhNGfZlNqzZ8/yuDKR3vaonyY+4PeR0nuJ3GlefXrv3r29JP25PdywYcM0uM/i9UISalfkc2PA2eCvPXXaHfVi8qGNw8VxE72NS++Gqnck4/XCODqUayR11ziLtIbLhHiZL6ncGcj5orSCHbzOwe/3uaN6yq8XOZrRmdxqdUfriOwt3ib96TYNaDWN8PLI7Oejmb182+li5+7hw4ff02q1owcPHrwXt9VKwbQNgBgEKyjvRxkD+syWbsG8TBJ3tBLa3RbLXr167cXEnOCeIQL9zYmJiSnEYg2SnD5mCuAevryV36cUSVSEtqrftGWjhv61/IsNhP4Gi9fR0dEBEmu3YpwrGIc81DBet3758uUb6GLs2LEkR7+LHAaZtR4Z0KNouxvlSXQ/EmVfOjJDrgXqZ6JuFHf1F3G/kjyU2+2cjBuTaLVYDBY6jhH4kjM5HecQuK1ZtPHkNx7voZ036qme2bmm6cXScHr1iv3Hro6J3JjKuj5Zf6BkgimKP3Do1I3bmOB54iSWQtcjIiLab968+UY5XH1JNAOLZz7EyGt96OlyJa74AKq7434AP3oKWzbqNqOOFl8EReHQ5XHolOE5SP+QVpTObvX9qqEfYE4G+1fTReubT39V6upLIHLVGzDOFMguxfV4MYwICgrKpIvk5GRqv5TX0zv8DE4UnQfa7uPvQttUsrQedWRg5DoTcN+ryDneWGB0W7fL0gE4jmcUvVO0jmkaCJD7eSjsjxf0LZaC06kPHTx5bQaBToR2sfwR/WyaDvV9eoyP27N9+/YPBwwYECzZx7wRfaefHR4ePhbyZVn8Vc4iUfDUlMbDOFvKG7RhnO2Q/425AtbJuE7g1kb0ozfQ+/Zo5bNz3Zt9mEY105hr7Kiw22PXbTo61kMsi8cO4k+QyYt+v2HDhj3Vq1dfw+s6SeTXA3Axk1kgqff8kGWSXGs8AmNpnaZYAkcAnp/FRSt38uMZt41qALlaOebtdlL69Qmff3virliBdp4uVQiCAKYtPj5+VFhY2BHc1iilzzFxcXHrsFqPlDH2ph9++GGReJOfn99u0KBB62hhoT1lMDLK8+EHeolHIHKLndF2mmRLWuLZuLfhsYAfY8e8lpV5Z7bS6biw7ce0yXa7c9HoWcUW6nHotw3vO4/nLmgeYhcuXLgtPT1dlLF6AOeQHFUv8sVyo6REHCvn7yjdQsZCi+uzKqJ5SsY4HRX6CObUa1XzPlt//FiRrypalcg+vHR/Wu3fv/9ZFAtZ2V/dloSGhvqWIZOF/m6IPGfOHIrwz/FnLSSTyNCXmpfipBahffv2RXMLJRK3snOoL5I5NAQFtN29ZczKa5duzc7Jyo3fGHe874iZcd5AFywVeq1CH+SqKRahIGBrWlraaFEfiXEQ0db6JhbeMDCdnN5nrh+hHHtAXESc7fyd/dwrxWI2M4fd6QJcUbFzrU6jij9+9nYxi0DdAX6ZyjNV0gCMHThw4BODwRDEg5KSqEtCQsJb3bt3/xLyJcm0Qj/uvZT/JLszvz3Fz8ICoa9h6OsIymaS9LE04i6A1dNRS5pOW4J6d1DVtf2jNRNjR8efS81omJtz71u73f7a3MgE1rp5HT13I6YzF7OZl76XQzcVVJ3DU9ZfQQ8b9FnLj8XPcSsm3XdPmTKFti9feCIKBgfz/d3xANAU8rIOzQ/GCnRDHPtJn1/h0oMrmszQalRXT13IbvvBysPZFWmflJTUDIHMEcn+V1Iypy1c/pkHDO7+wF5JE3YLY6TxRAfjLrO+VA30/bTE6n1DQkJo0mvRHos+GgQHB98Tn+emze5z/sLNXXl38ljunfyJiIu0dWv5KZwEuVPQK3NC5MHv0s9n0UoN9uwf7/wu9Jkt0Yei7018O3lZkuSi4K+eJMVr4FvPfl4Xgn5/4nPRw7MedVM9FvAp9X3glJRmrFtR4H/LyHm3oqATYUIvSaPuEohc8luSI5A05emNzMeOHTtPfaJ/YRNNSUn5tGPHjm/wPZYW/u+Svi9JGw8dOtSYmZlJQR55ozgp6ETpqRfvmArMt+gHJyqFYqFap1HkFZpd3ypcwLMJA9vs5P3W9ewf/S2GPmroM4K7Y3LlKdB5OMp7qO/OP2hRUHYR9RSj0LEtHc/aSN5bGvgVeNaj3UbIPy/J9J2Q/mmyAfsLP3KYEpV06a+mQE+ePEn6DClDrFq7du1WeLRrVoLsFcjavIxTh28rl/lJg6g6RceQv962bVuyQA3k6FckG8mQUlNTn8Kzo0WCjkkGPU49L3FL41GKU/RCxLlTopJ3oh9xboX+vejTTLIXF0DmBq8nw2wsyqH+kqSNXvLN4zqemcqop9OB+CPW/fL3Su95geng9ZIs2AF5Vv4/gN/CAc8Dnzx79myD/7V3VMswF6eMjIz19MGGbwVfBQYGFsizIpNMMskkk0wyySSTTDLJJNPfgP4rwAAac5xZmi8mLQAAAABJRU5ErkJggg==",Lm=ir.create({baseURL:Yi,headers:{"Content-Type":"application/json"}});Lm.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const UT={getOverview:async()=>(await Lm.get("/dashboard/overview/")).data,getStats:async()=>(await Lm.get("/dashboard/stats/")).data,getCharts:async()=>(await Lm.get("/dashboard/charts/")).data,getRecentActivities:async()=>{var t,r;const e=await Lm.get("/dashboard/recent-activities/");return console.log("=== API Response ==="),console.log("Full response:",e.data),console.log("Recent Orders count:",(t=e.data.recent_orders)==null?void 0:t.length),((r=e.data.recent_orders)==null?void 0:r.length)>0&&(console.log("First order:",e.data.recent_orders[0]),console.log("First order items:",e.data.recent_orders[0].items)),e.data},getQuickStats:async()=>(await Lm.get("/dashboard/quick-stats/")).data},VT={all:["dashboard"],overview:["dashboard","overview"],stats:["dashboard","stats"],charts:["dashboard","charts"],recentActivities:["dashboard","recent-activities"],quickStats:["dashboard","quick-stats"]},Ype=()=>ws({queryKey:VT.overview,queryFn:UT.getOverview,staleTime:60*1e3,refetchInterval:5*60*1e3}),XW=()=>ws({queryKey:VT.recentActivities,queryFn:UT.getRecentActivities,staleTime:30*1e3}),Xpe=()=>ws({queryKey:VT.quickStats,queryFn:UT.getQuickStats,staleTime:60*1e3});function Qpe({isCollapsed:e,onToggle:t,className:r,isMobileOpen:s=!1}){const a=nc(),i=YW(),{theme:o,setTheme:l}=Up(),c=o==="dark",{data:d,isLoading:u}=Xpe(),f=()=>{l(c?"light":"dark")},m=v.useMemo(()=>{var b,N,_;const p=((b=d==null?void 0:d.active_apartments)==null?void 0:b.value)??0,g=((N=d==null?void 0:d.deliveries_this_week)==null?void 0:N.value)??0,j=((_=d==null?void 0:d.open_issues)==null?void 0:_.value)??0,y=(d==null?void 0:d.total_clients)??0,w=(d==null?void 0:d.total_vendors)??0;return{totalApartments:p,pendingDeliveries:g,openIssues:j,totalClients:y,totalVendors:w}},[d]),h=[{title:"Main",items:[{title:"Overview",icon:b7,href:"/overview",color:"text-blue-500"}]},{title:"Management",items:[{title:"Clients",icon:Gc,href:"/clients",color:"text-violet-500"},{title:"Apartments",icon:Ek,href:"/apartments",color:"text-emerald-500"},{title:"Orders",icon:js,href:"/orders",color:"text-orange-500"},{title:"Deliveries",icon:wr,href:"/deliveries",badge:m.pendingDeliveries>0?m.pendingDeliveries:void 0,color:"text-cyan-500"},{title:"Payments",icon:ys,href:"/payments",color:"text-green-500"},{title:"Issues",icon:_t,href:"/issues",badge:m.openIssues>0?m.openIssues:void 0,color:"text-red-500"},{title:"Vendors",icon:Da,href:"/vendors",color:"text-amber-500"}]},{title:"System",items:[{title:"Automations",icon:u0,href:"/automations",color:"text-yellow-500"},{title:"Settings",icon:Fv,href:"/settings",color:"text-slate-500"}]}],x=({item:p,isActive:g})=>{const j=n.jsxs(Vi,{to:p.href,className:ge("group relative flex items-center gap-3 rounded-xl px-3 py-2.5 transition-all duration-300 ease-out","hover:bg-gradient-to-r hover:from-sidebar-accent hover:to-sidebar-accent/50",g?"bg-gradient-to-r from-primary/15 to-primary/5 text-primary shadow-sm":"text-sidebar-foreground/80 hover:text-sidebar-foreground",e&&!i&&"justify-center px-2.5"),children:[n.jsxs("div",{className:ge("relative flex items-center justify-center transition-transform duration-300","group-hover:scale-110",g&&"scale-110"),children:[n.jsx(p.icon,{className:ge("h-[18px] w-[18px] shrink-0 transition-colors duration-300",g?"text-primary":p.color||"text-sidebar-foreground/70","group-hover:text-primary")}),g&&n.jsx("div",{className:ge("absolute inset-0 blur-lg opacity-50",p.color||"bg-primary")})]}),n.jsx("span",{className:ge("text-sm font-medium transition-all duration-300 whitespace-nowrap",e&&!i?"opacity-0 w-0 hidden":"opacity-100",g&&"font-semibold"),children:p.title}),p.badge&&!e&&n.jsx("span",{className:ge("ml-auto flex h-5 min-w-5 items-center justify-center rounded-full px-1.5","text-[10px] font-semibold","bg-primary/10 text-primary","animate-pulse"),children:p.badge}),p.badge&&e&&!i&&n.jsx("span",{className:"absolute -top-0.5 -right-0.5 h-2 w-2 rounded-full bg-primary animate-pulse"})]});return e&&!i?n.jsxs(Soe,{delayDuration:0,children:[n.jsx(Coe,{asChild:!0,children:j}),n.jsxs(fU,{side:"right",sideOffset:12,className:"z-[100] flex items-center gap-2 bg-popover/95 backdrop-blur-sm shadow-lg border-border/50",children:[p.title,p.badge&&n.jsx("span",{className:"flex h-5 min-w-5 items-center justify-center rounded-full bg-primary/10 text-primary text-[10px] font-semibold px-1.5",children:p.badge})]})]}):j};return n.jsx(uU,{delayDuration:0,children:n.jsxs("aside",{className:ge("fixed top-0 left-0 flex flex-col h-screen","bg-gradient-to-b from-sidebar via-sidebar to-sidebar/95","border-r border-sidebar-border/50","transition-all duration-300 ease-out","backdrop-blur-xl",i?ge("w-72 z-50 shadow-2xl",s?"translate-x-0":"-translate-x-full"):ge(e?"w-[72px]":"w-72","z-40"),r),children:[n.jsxs("div",{className:ge("flex items-center shrink-0 relative","h-16 px-4","border-b border-sidebar-border/50","bg-gradient-to-r from-sidebar to-sidebar/80"),children:[n.jsx("div",{className:ge("flex items-center gap-3 transition-all duration-300",e&&!i?"justify-center w-full":""),children:n.jsx("div",{className:ge("relative flex items-center justify-center","transition-all duration-300",e&&!i?"w-10 h-10":"w-auto h-10"),children:n.jsx("img",{src:c?Kpe:Gpe,alt:"Buy2Rent",className:ge("transition-all duration-300 object-contain",e&&!i?"h-8 w-8":"h-9 max-w-[160px]")})})}),!i&&n.jsx(te,{variant:"outline",size:"icon",onClick:t,className:ge("absolute -right-4 top-1/2 -translate-y-1/2 z-50","h-7 w-7 rounded-full","bg-background border-2 border-border shadow-lg","hover:bg-primary hover:text-primary-foreground hover:border-primary","hover:scale-110","transition-all duration-300","flex items-center justify-center"),children:e?n.jsx(qc,{className:"h-4 w-4"}):n.jsx(hN,{className:"h-4 w-4"})})]}),n.jsx(ac,{className:"flex-1 py-1",children:n.jsx("nav",{className:"px-3 ",children:h.map((p,g)=>n.jsx("div",{children:n.jsx("div",{className:"",children:p.items.map((j,y)=>{const w=a.pathname===j.href||j.href!=="/overview"&&a.pathname.startsWith(j.href+"/");return n.jsx(x,{item:j,isActive:w},y)})})},g))})}),n.jsxs("div",{className:ge("mt-auto shrink-0","border-t border-sidebar-border/50","bg-gradient-to-t from-sidebar/50 to-transparent"),children:[n.jsx("div",{className:ge("p-3",e&&!i?"px-2":"px-4"),children:n.jsxs("button",{onClick:f,className:ge("w-full flex items-center gap-3 rounded-xl p-2.5 transition-all duration-300","bg-sidebar-accent/30 hover:bg-sidebar-accent/50","group",e&&!i&&"justify-center"),children:[n.jsxs("div",{className:ge("relative flex items-center justify-center","h-8 w-8 rounded-lg","bg-gradient-to-br transition-all duration-500",c?"from-indigo-500/20 to-purple-500/20":"from-amber-500/20 to-orange-500/20","group-hover:scale-110"),children:[n.jsx($v,{className:ge("h-4 w-4 absolute transition-all duration-500",c?"opacity-0 rotate-90 scale-0":"opacity-100 rotate-0 scale-100 text-amber-500")}),n.jsx(Mv,{className:ge("h-4 w-4 absolute transition-all duration-500",c?"opacity-100 rotate-0 scale-100 text-indigo-400":"opacity-0 -rotate-90 scale-0")})]}),(!e||i)&&n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("p",{className:"text-xs font-medium text-sidebar-foreground",children:c?"Dark Mode":"Light Mode"}),n.jsx("p",{className:"text-[10px] text-sidebar-foreground/50",children:"Click to switch"})]})]})}),(!e||i)&&n.jsx("div",{className:"p-4 pt-0",children:n.jsxs("div",{className:ge("relative overflow-hidden rounded-xl p-4","bg-gradient-to-br from-primary/10 via-primary/5 to-transparent","border border-primary/10"),children:[n.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full blur-2xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-primary/5 rounded-full blur-xl"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg bg-primary/10",children:n.jsx(Wo,{className:"h-3.5 w-3.5 text-primary"})}),n.jsx("span",{className:"text-xs font-semibold text-sidebar-foreground",children:"Project Overview"})]}),n.jsxs("div",{className:"space-y-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("span",{className:"text-2xl font-bold text-sidebar-foreground",children:m.totalApartments}),n.jsx("span",{className:"text-xs text-sidebar-foreground/60",children:"Apartments"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-sidebar-border/30",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(wr,{className:"h-3 w-3 text-cyan-500"}),n.jsxs("span",{className:"text-[10px] text-sidebar-foreground/70",children:[n.jsx("span",{className:"font-semibold text-sidebar-foreground",children:m.pendingDeliveries})," Deliveries"]})]}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(_t,{className:"h-3 w-3 text-red-500"}),n.jsxs("span",{className:"text-[10px] text-sidebar-foreground/70",children:[n.jsx("span",{className:"font-semibold text-sidebar-foreground",children:m.openIssues})," Issues"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-sidebar-border/30",children:[n.jsxs("p",{className:"text-[10px] text-sidebar-foreground/50 flex items-center gap-1",children:[n.jsx(Gc,{className:"h-3 w-3"}),m.totalClients," Clients"]}),n.jsxs("p",{className:"text-[10px] text-sidebar-foreground/50 flex items-center gap-1",children:[n.jsx(Da,{className:"h-3 w-3"}),m.totalVendors," Vendors"]})]})]})]})]})})]})]})})}function dt({children:e,title:t,subtitle:r,actions:s,fullWidth:a=!1,noPadding:i=!1}){const o=YW(),[l,c]=v.useState(()=>localStorage.getItem("sidebarCollapsed")==="true"),[d,u]=v.useState(!1);z.useEffect(()=>{const m=h=>{c(h.detail.collapsed)};return window.addEventListener("sidebarPreferenceChanged",m),()=>{window.removeEventListener("sidebarPreferenceChanged",m)}},[]);const f=()=>{o?u(m=>!m):c(m=>{const h=!m;return localStorage.setItem("sidebarCollapsed",String(h)),h})};return n.jsxs("div",{className:"h-screen flex bg-background overflow-hidden",children:[o&&d&&n.jsx("div",{className:ge("fixed inset-0 z-40 lg:hidden","bg-background/80 backdrop-blur-sm","animate-in fade-in-0 duration-200"),onClick:()=>u(!1)}),n.jsx(Qpe,{isCollapsed:l,onToggle:f,isMobileOpen:d}),n.jsxs("div",{className:ge("flex-1 flex flex-col min-w-0 w-full lg:w-auto h-screen","transition-all duration-300 ease-out","relative z-10"),style:{marginLeft:o?0:l?"72px":"288px"},children:[n.jsx(qpe,{onMenuToggle:f}),n.jsx("main",{className:"flex-1 overflow-y-auto overflow-x-hidden bg-gradient-to-br from-background via-background to-muted/20",children:n.jsxs("div",{className:ge("animate-in fade-in-0  slide-in-from-bottom-4 duration-500",!i&&"p-4 lg:p-6 xl:p-8",!a&&"max-w-[1600px] mx-auto"),children:[(t||s)&&n.jsxs("div",{className:ge("flex flex-col sm:flex-row sm:items-center justify-between gap-4","mb-6 lg:mb-8"),children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h1",{className:ge("text-2xl lg:text-3xl font-bold tracking-tight","bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text"),children:t}),r&&n.jsx("p",{className:"text-sm text-muted-foreground",children:r})]}),s&&n.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:s})]}),n.jsx("div",{className:"relative",children:e})]})})]})]})}const Z=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ge("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Z.displayName="Card";const we=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ge("flex flex-col space-y-1.5 p-6",e),...t}));we.displayName="CardHeader";const Ue=v.forwardRef(({className:e,...t},r)=>n.jsx("h3",{ref:r,className:ge("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ue.displayName="CardTitle";const Or=v.forwardRef(({className:e,...t},r)=>n.jsx("p",{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));Or.displayName="CardDescription";const J=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ge("p-6 pt-0",e),...t}));J.displayName="CardContent";const Zpe=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ge("flex items-center p-6 pt-0",e),...t}));Zpe.displayName="CardFooter";function Lx({title:e,value:t,icon:r,trend:s,className:a}){return n.jsx(Z,{className:ge("overflow-hidden",a),children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:e}),n.jsx("p",{className:"text-3xl font-bold",children:t}),s&&n.jsxs("p",{className:ge("text-xs font-medium",s.value>0?"text-success":s.value<0?"text-danger":"text-muted-foreground"),children:[s.value>0?"+":"",s.value,"% ",s.label]})]}),n.jsx("div",{className:"p-3 rounded-2xl bg-primary/10",children:n.jsx(r,{className:"h-6 w-6 text-primary"})})]})})})}const Jpe=Lp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ae({className:e,variant:t,...r}){return n.jsx("div",{className:ge(Jpe({variant:t}),e),...r})}function St(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Vr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Vs(e,t){const r=St(e);return isNaN(t)?Vr(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function No(e,t){const r=St(e);if(isNaN(t))return Vr(e,NaN);if(!t)return r;const s=r.getDate(),a=Vr(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return s>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}const zT=6048e5,exe=864e5,txe=6e4,rxe=36e5,nxe=1e3,uj=43200,PR=1440;let sxe={};function ku(){return sxe}function zi(e,t){var l,c,d,u;const r=ku(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=St(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Zc(e){return zi(e,{weekStartsOn:1})}function QW(e){const t=St(e),r=t.getFullYear(),s=Vr(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=Zc(s),i=Vr(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Zc(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function tp(e){const t=St(e);return t.setHours(0,0,0,0),t}function vu(e){const t=St(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Xo(e,t){const r=tp(e),s=tp(t),a=+r-vu(r),i=+s-vu(s);return Math.round((a-i)/exe)}function axe(e){const t=QW(e),r=Vr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Zc(r)}function AA(e,t){const r=t*7;return Vs(e,r)}function ixe(e,t){return No(e,t*12)}function oxe(e){let t;return e.forEach(function(r){const s=St(r);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function lxe(e){let t;return e.forEach(r=>{const s=St(r);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function cb(e,t){const r=St(e),s=St(t),a=r.getTime()-s.getTime();return a<0?-1:a>0?1:a}function cxe(e){return Vr(e,Date.now())}function Xa(e,t){const r=tp(e),s=tp(t);return+r==+s}function WT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function dxe(e){if(!WT(e)&&typeof e!="number")return!1;const t=St(e);return!isNaN(Number(t))}function rp(e,t){const r=St(e),s=St(t),a=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return a*12+i}function uxe(e,t,r){const s=zi(e,r),a=zi(t,r),i=+s-vu(s),o=+a-vu(a);return Math.round((i-o)/zT)}function fj(e,t){const r=St(e),s=St(t),a=kR(r,s),i=Math.abs(Xo(r,s));r.setDate(r.getDate()-a*i);const o=+(kR(r,s)===-a),l=a*(i-o);return l===0?0:l}function kR(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function fxe(e){return t=>{const s=(e?Math[e]:Math.trunc)(t);return s===0?0:s}}function mxe(e,t){return+St(e)-+St(t)}function hxe(e){const t=St(e);return t.setHours(23,59,59,999),t}function GN(e){const t=St(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function pxe(e){const t=St(e);return+hxe(t)==+GN(t)}function xxe(e,t){const r=St(e),s=St(t),a=cb(r,s),i=Math.abs(rp(r,s));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=cb(r,s)===-a;pxe(St(e))&&i===1&&cb(e,s)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function gxe(e,t,r){const s=mxe(e,t)/1e3;return fxe(r==null?void 0:r.roundingMethod)(s)}function oi(e){const t=St(e);return t.setDate(1),t.setHours(0,0,0,0),t}function ZW(e){const t=St(e),r=Vr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function HT(e,t){var l,c,d,u;const r=ku(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=St(e),i=a.getDay(),o=(i<s?-7:0)+6-(i-s);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function JW(e){return HT(e,{weekStartsOn:1})}const vxe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yxe=(e,t,r)=>{let s;const a=vxe[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function SS(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const jxe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bxe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wxe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Nxe={date:SS({formats:jxe,defaultWidth:"full"}),time:SS({formats:bxe,defaultWidth:"full"}),dateTime:SS({formats:wxe,defaultWidth:"full"})},_xe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Sxe=(e,t,r,s)=>_xe[e];function Bx(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Cxe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Axe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Exe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Pxe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Txe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Oxe=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Dxe={ordinalNumber:Oxe,era:Bx({values:Cxe,defaultWidth:"wide"}),quarter:Bx({values:Axe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Bx({values:Exe,defaultWidth:"wide"}),day:Bx({values:Pxe,defaultWidth:"wide"}),dayPeriod:Bx({values:kxe,defaultWidth:"wide",formattingValues:Txe,defaultFormattingWidth:"wide"})};function Ux(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Rxe(l,f=>f.test(o)):Ixe(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function Ixe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Rxe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Mxe(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Fxe=/^(\d+)(th|st|nd|rd)?/i,$xe=/\d+/i,Lxe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Bxe={any:[/^b/i,/^(a|c)/i]},Uxe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Vxe={any:[/1/i,/2/i,/3/i,/4/i]},zxe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Wxe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Hxe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qxe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gxe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Kxe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Yxe={ordinalNumber:Mxe({matchPattern:Fxe,parsePattern:$xe,valueCallback:e=>parseInt(e,10)}),era:Ux({matchPatterns:Lxe,defaultMatchWidth:"wide",parsePatterns:Bxe,defaultParseWidth:"any"}),quarter:Ux({matchPatterns:Uxe,defaultMatchWidth:"wide",parsePatterns:Vxe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ux({matchPatterns:zxe,defaultMatchWidth:"wide",parsePatterns:Wxe,defaultParseWidth:"any"}),day:Ux({matchPatterns:Hxe,defaultMatchWidth:"wide",parsePatterns:qxe,defaultParseWidth:"any"}),dayPeriod:Ux({matchPatterns:Gxe,defaultMatchWidth:"any",parsePatterns:Kxe,defaultParseWidth:"any"})},KN={code:"en-US",formatDistance:yxe,formatLong:Nxe,formatRelative:Sxe,localize:Dxe,match:Yxe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Xxe(e){const t=St(e);return Xo(t,ZW(t))+1}function qT(e){const t=St(e),r=+Zc(t)-+axe(t);return Math.round(r/zT)+1}function GT(e,t){var u,f,m,h;const r=St(e),s=r.getFullYear(),a=ku(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(m=a.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,o=Vr(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=zi(o,t),c=Vr(e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=zi(c,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function Qxe(e,t){var l,c,d,u;const r=ku(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=GT(e,t),i=Vr(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),zi(i,t)}function KT(e,t){const r=St(e),s=+zi(r,t)-+Qxe(r,t);return Math.round(s/zT)+1}function kr(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const jd={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return kr(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):kr(r+1,2)},d(e,t){return kr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return kr(e.getHours()%12||12,t.length)},H(e,t){return kr(e.getHours(),t.length)},m(e,t){return kr(e.getMinutes(),t.length)},s(e,t){return kr(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return kr(a,t.length)}},Pm={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},TR={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return jd.y(e,t)},Y:function(e,t,r,s){const a=GT(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return kr(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):kr(i,t.length)},R:function(e,t){const r=QW(e);return kr(r,t.length)},u:function(e,t){const r=e.getFullYear();return kr(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return kr(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return kr(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return jd.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return kr(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const a=KT(e,s);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):kr(a,t.length)},I:function(e,t,r){const s=qT(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):kr(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):jd.d(e,t)},D:function(e,t,r){const s=Xxe(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):kr(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return kr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return kr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return kr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let a;switch(s===12?a=Pm.noon:s===0?a=Pm.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let a;switch(s>=17?a=Pm.evening:s>=12?a=Pm.afternoon:s>=4?a=Pm.morning:a=Pm.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return jd.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):jd.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):kr(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):kr(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):jd.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):jd.s(e,t)},S:function(e,t){return jd.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return DR(s);case"XXXX":case"XX":return qu(s);case"XXXXX":case"XXX":default:return qu(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return DR(s);case"xxxx":case"xx":return qu(s);case"xxxxx":case"xxx":default:return qu(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+OR(s,":");case"OOOO":default:return"GMT"+qu(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+OR(s,":");case"zzzz":default:return"GMT"+qu(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return kr(s,t.length)},T:function(e,t,r){const s=e.getTime();return kr(s,t.length)}};function OR(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+t+kr(i,2)}function DR(e,t){return e%60===0?(e>0?"-":"+")+kr(Math.abs(e)/60,2):qu(e,t)}function qu(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=kr(Math.trunc(s/60),2),i=kr(s%60,2);return r+a+t+i}const IR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},eH=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Zxe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return IR(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",IR(s,t)).replace("{{time}}",eH(a,t))},EA={p:eH,P:Zxe},Jxe=/^D+$/,ege=/^Y+$/,tge=["D","DD","YY","YYYY"];function tH(e){return Jxe.test(e)}function rH(e){return ege.test(e)}function PA(e,t,r){const s=rge(e,t,r);if(console.warn(s),tge.includes(e))throw new RangeError(s)}function rge(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,age=/^'([^]*?)'?$/,ige=/''/g,oge=/[a-zA-Z]/;function Ht(e,t,r){var u,f,m,h,x,p,g,j;const s=ku(),a=(r==null?void 0:r.locale)??s.locale??KN,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(m=s.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:p.weekStartsOn)??s.weekStartsOn??((j=(g=s.locale)==null?void 0:g.options)==null?void 0:j.weekStartsOn)??0,l=St(e);if(!dxe(l))throw new RangeError("Invalid time value");let c=t.match(sge).map(y=>{const w=y[0];if(w==="p"||w==="P"){const b=EA[w];return b(y,a.formatLong)}return y}).join("").match(nge).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:lge(y)};if(TR[w])return{isToken:!0,value:y};if(w.match(oge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&rH(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&tH(w))&&PA(w,t,String(e));const b=TR[w[0]];return b(l,w,a.localize,d)}).join("")}function lge(e){const t=e.match(age);return t?t[1].replace(ige,"'"):e}function cge(e,t,r){const s=ku(),a=(r==null?void 0:r.locale)??s.locale??KN,i=2520,o=cb(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,d;o>0?(c=St(t),d=St(e)):(c=St(e),d=St(t));const u=gxe(d,c),f=(vu(d)-vu(c))/1e3,m=Math.round((u-f)/60);let h;if(m<2)return r!=null&&r.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<PR){const x=Math.round(m/60);return a.formatDistance("aboutXHours",x,l)}else{if(m<i)return a.formatDistance("xDays",1,l);if(m<uj){const x=Math.round(m/PR);return a.formatDistance("xDays",x,l)}else if(m<uj*2)return h=Math.round(m/uj),a.formatDistance("aboutXMonths",h,l)}if(h=xxe(d,c),h<12){const x=Math.round(m/uj);return a.formatDistance("xMonths",x,l)}else{const x=h%12,p=Math.trunc(h/12);return x<3?a.formatDistance("aboutXYears",p,l):x<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function dge(e,t){return cge(e,cxe(e),t)}function uge(e){const t=St(e),r=t.getFullYear(),s=t.getMonth(),a=Vr(e,0);return a.setFullYear(r,s+1,0),a.setHours(0,0,0,0),a.getDate()}function fge(){return Object.assign({},ku())}function mge(e){let r=St(e).getDay();return r===0&&(r=7),r}function hge(e){return Math.trunc(+St(e)/1e3)}function pge(e){const t=St(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function xge(e,t){return uxe(pge(e),oi(e),t)+1}function kA(e,t){const r=St(e),s=St(t);return r.getTime()>s.getTime()}function nH(e,t){const r=St(e),s=St(t);return+r<+s}function gge(e,t){const r=t instanceof Date?Vr(t,0):new t(0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}const vge=10;class sH{constructor(){ht(this,"subPriority",0)}validate(t,r){return!0}}class yge extends sH{constructor(t,r,s,a,i){super(),this.value=t,this.validateValue=r,this.setValue=s,this.priority=a,i&&(this.subPriority=i)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,s){return this.setValue(t,r,this.value,s)}}class jge extends sH{constructor(){super(...arguments);ht(this,"priority",vge);ht(this,"subPriority",-1)}set(r,s){return s.timestampIsSet?r:Vr(r,gge(r,Date))}}class Nr{run(t,r,s,a){const i=this.parse(t,r,s,a);return i?{setter:new yge(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,r,s){return!0}}class bge extends Nr{constructor(){super(...arguments);ht(this,"priority",140);ht(this,"incompatibleTokens",["R","u","t","T"])}parse(r,s,a){switch(s){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,s,a){return s.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const Hn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},$l={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function qn(e,t){return e&&{value:t(e.value),rest:e.rest}}function _n(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Ll(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const s=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:s*(a*rxe+i*txe+o*nxe),rest:t.slice(r[0].length)}}function aH(e){return _n(Hn.anyDigitsSigned,e)}function Ln(e,t){switch(e){case 1:return _n(Hn.singleDigit,t);case 2:return _n(Hn.twoDigits,t);case 3:return _n(Hn.threeDigits,t);case 4:return _n(Hn.fourDigits,t);default:return _n(new RegExp("^\\d{1,"+e+"}"),t)}}function v1(e,t){switch(e){case 1:return _n(Hn.singleDigitSigned,t);case 2:return _n(Hn.twoDigitsSigned,t);case 3:return _n(Hn.threeDigitsSigned,t);case 4:return _n(Hn.fourDigitsSigned,t);default:return _n(new RegExp("^-?\\d{1,"+e+"}"),t)}}function YT(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function iH(e,t){const r=t>0,s=r?t:1-t;let a;if(s<=50)a=e||100;else{const i=s+50,o=Math.trunc(i/100)*100,l=e>=i%100;a=e+o-(l?100:0)}return r?a:1-a}function oH(e){return e%400===0||e%4===0&&e%100!==0}class wge extends Nr{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,s,a){const i=o=>({year:o,isTwoDigitYear:s==="yy"});switch(s){case"y":return qn(Ln(4,r),i);case"yo":return qn(a.ordinalNumber(r,{unit:"year"}),i);default:return qn(Ln(s.length,r),i)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,a){const i=r.getFullYear();if(a.isTwoDigitYear){const l=iH(a.year,i);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const o=!("era"in s)||s.era===1?a.year:1-a.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class Nge extends Nr{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,s,a){const i=o=>({year:o,isTwoDigitYear:s==="YY"});switch(s){case"Y":return qn(Ln(4,r),i);case"Yo":return qn(a.ordinalNumber(r,{unit:"year"}),i);default:return qn(Ln(s.length,r),i)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,a,i){const o=GT(r,i);if(a.isTwoDigitYear){const c=iH(a.year,o);return r.setFullYear(c,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),zi(r,i)}const l=!("era"in s)||s.era===1?a.year:1-a.year;return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),zi(r,i)}}class _ge extends Nr{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,s){return v1(s==="R"?4:s.length,r)}set(r,s,a){const i=Vr(r,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),Zc(i)}}class Sge extends Nr{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,s){return v1(s==="u"?4:s.length,r)}set(r,s,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class Cge extends Nr{constructor(){super(...arguments);ht(this,"priority",120);ht(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,a){switch(s){case"Q":case"QQ":return Ln(s.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=1&&s<=4}set(r,s,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class Age extends Nr{constructor(){super(...arguments);ht(this,"priority",120);ht(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,a){switch(s){case"q":case"qq":return Ln(s.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=1&&s<=4}set(r,s,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class Ege extends Nr{constructor(){super(...arguments);ht(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ht(this,"priority",110)}parse(r,s,a){const i=o=>o-1;switch(s){case"M":return qn(_n(Hn.month,r),i);case"MM":return qn(Ln(2,r),i);case"Mo":return qn(a.ordinalNumber(r,{unit:"month"}),i);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=11}set(r,s,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class Pge extends Nr{constructor(){super(...arguments);ht(this,"priority",110);ht(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,s,a){const i=o=>o-1;switch(s){case"L":return qn(_n(Hn.month,r),i);case"LL":return qn(Ln(2,r),i);case"Lo":return qn(a.ordinalNumber(r,{unit:"month"}),i);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=11}set(r,s,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function kge(e,t,r){const s=St(e),a=KT(s,r)-t;return s.setDate(s.getDate()-a*7),s}class Tge extends Nr{constructor(){super(...arguments);ht(this,"priority",100);ht(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,s,a){switch(s){case"w":return _n(Hn.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return Ln(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,a,i){return zi(kge(r,a,i),i)}}function Oge(e,t){const r=St(e),s=qT(r)-t;return r.setDate(r.getDate()-s*7),r}class Dge extends Nr{constructor(){super(...arguments);ht(this,"priority",100);ht(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,s,a){switch(s){case"I":return _n(Hn.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return Ln(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,a){return Zc(Oge(r,a))}}const Ige=[31,28,31,30,31,30,31,31,30,31,30,31],Rge=[31,29,31,30,31,30,31,31,30,31,30,31];class Mge extends Nr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"subPriority",1);ht(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,s,a){switch(s){case"d":return _n(Hn.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return Ln(s.length,r)}}validate(r,s){const a=r.getFullYear(),i=oH(a),o=r.getMonth();return i?s>=1&&s<=Rge[o]:s>=1&&s<=Ige[o]}set(r,s,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class Fge extends Nr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"subpriority",1);ht(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,s,a){switch(s){case"D":case"DD":return _n(Hn.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return Ln(s.length,r)}}validate(r,s){const a=r.getFullYear();return oH(a)?s>=1&&s<=366:s>=1&&s<=365}set(r,s,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function XT(e,t,r){var f,m,h,x;const s=ku(),a=(r==null?void 0:r.weekStartsOn)??((m=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??s.weekStartsOn??((x=(h=s.locale)==null?void 0:h.options)==null?void 0:x.weekStartsOn)??0,i=St(e),o=i.getDay(),c=(t%7+7)%7,d=7-a,u=t<0||t>6?t-(o+d)%7:(c+d)%7-(o+d)%7;return Vs(i,u)}class $ge extends Nr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,s,a){switch(s){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,a,i){return r=XT(r,a,i),r.setHours(0,0,0,0),r}}class Lge extends Nr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,s,a,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(s){case"e":case"ee":return qn(Ln(s.length,r),o);case"eo":return qn(a.ordinalNumber(r,{unit:"day"}),o);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,a,i){return r=XT(r,a,i),r.setHours(0,0,0,0),r}}class Bge extends Nr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,s,a,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(s){case"c":case"cc":return qn(Ln(s.length,r),o);case"co":return qn(a.ordinalNumber(r,{unit:"day"}),o);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=6}set(r,s,a,i){return r=XT(r,a,i),r.setHours(0,0,0,0),r}}function Uge(e,t){const r=St(e),s=mge(r),a=t-s;return Vs(r,a)}class Vge extends Nr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,s,a){const i=o=>o===0?7:o;switch(s){case"i":case"ii":return Ln(s.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return qn(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return qn(a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return qn(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return qn(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,s){return s>=1&&s<=7}set(r,s,a){return r=Uge(r,a),r.setHours(0,0,0,0),r}}class zge extends Nr{constructor(){super(...arguments);ht(this,"priority",80);ht(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,s,a){switch(s){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,a){return r.setHours(YT(a),0,0,0),r}}class Wge extends Nr{constructor(){super(...arguments);ht(this,"priority",80);ht(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,s,a){switch(s){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,a){return r.setHours(YT(a),0,0,0),r}}class Hge extends Nr{constructor(){super(...arguments);ht(this,"priority",80);ht(this,"incompatibleTokens",["a","b","t","T"])}parse(r,s,a){switch(s){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,a){return r.setHours(YT(a),0,0,0),r}}class qge extends Nr{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,s,a){switch(s){case"h":return _n(Hn.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return Ln(s.length,r)}}validate(r,s){return s>=1&&s<=12}set(r,s,a){const i=r.getHours()>=12;return i&&a<12?r.setHours(a+12,0,0,0):!i&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class Gge extends Nr{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,s,a){switch(s){case"H":return _n(Hn.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return Ln(s.length,r)}}validate(r,s){return s>=0&&s<=23}set(r,s,a){return r.setHours(a,0,0,0),r}}class Kge extends Nr{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,s,a){switch(s){case"K":return _n(Hn.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return Ln(s.length,r)}}validate(r,s){return s>=0&&s<=11}set(r,s,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class Yge extends Nr{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,s,a){switch(s){case"k":return _n(Hn.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return Ln(s.length,r)}}validate(r,s){return s>=1&&s<=24}set(r,s,a){const i=a<=24?a%24:a;return r.setHours(i,0,0,0),r}}class Xge extends Nr{constructor(){super(...arguments);ht(this,"priority",60);ht(this,"incompatibleTokens",["t","T"])}parse(r,s,a){switch(s){case"m":return _n(Hn.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return Ln(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,a){return r.setMinutes(a,0,0),r}}class Qge extends Nr{constructor(){super(...arguments);ht(this,"priority",50);ht(this,"incompatibleTokens",["t","T"])}parse(r,s,a){switch(s){case"s":return _n(Hn.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return Ln(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,a){return r.setSeconds(a,0),r}}class Zge extends Nr{constructor(){super(...arguments);ht(this,"priority",30);ht(this,"incompatibleTokens",["t","T"])}parse(r,s){const a=i=>Math.trunc(i*Math.pow(10,-s.length+3));return qn(Ln(s.length,r),a)}set(r,s,a){return r.setMilliseconds(a),r}}class Jge extends Nr{constructor(){super(...arguments);ht(this,"priority",10);ht(this,"incompatibleTokens",["t","T","x"])}parse(r,s){switch(s){case"X":return Ll($l.basicOptionalMinutes,r);case"XX":return Ll($l.basic,r);case"XXXX":return Ll($l.basicOptionalSeconds,r);case"XXXXX":return Ll($l.extendedOptionalSeconds,r);case"XXX":default:return Ll($l.extended,r)}}set(r,s,a){return s.timestampIsSet?r:Vr(r,r.getTime()-vu(r)-a)}}class e0e extends Nr{constructor(){super(...arguments);ht(this,"priority",10);ht(this,"incompatibleTokens",["t","T","X"])}parse(r,s){switch(s){case"x":return Ll($l.basicOptionalMinutes,r);case"xx":return Ll($l.basic,r);case"xxxx":return Ll($l.basicOptionalSeconds,r);case"xxxxx":return Ll($l.extendedOptionalSeconds,r);case"xxx":default:return Ll($l.extended,r)}}set(r,s,a){return s.timestampIsSet?r:Vr(r,r.getTime()-vu(r)-a)}}class t0e extends Nr{constructor(){super(...arguments);ht(this,"priority",40);ht(this,"incompatibleTokens","*")}parse(r){return aH(r)}set(r,s,a){return[Vr(r,a*1e3),{timestampIsSet:!0}]}}class r0e extends Nr{constructor(){super(...arguments);ht(this,"priority",20);ht(this,"incompatibleTokens","*")}parse(r){return aH(r)}set(r,s,a){return[Vr(r,a),{timestampIsSet:!0}]}}const n0e={G:new bge,y:new wge,Y:new Nge,R:new _ge,u:new Sge,Q:new Cge,q:new Age,M:new Ege,L:new Pge,w:new Tge,I:new Dge,d:new Mge,D:new Fge,E:new $ge,e:new Lge,c:new Bge,i:new Vge,a:new zge,b:new Wge,B:new Hge,h:new qge,H:new Gge,K:new Kge,k:new Yge,m:new Xge,s:new Qge,S:new Zge,X:new Jge,x:new e0e,t:new t0e,T:new r0e},s0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,a0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,i0e=/^'([^]*?)'?$/,o0e=/''/g,l0e=/\S/,c0e=/[a-zA-Z]/;function d0e(e,t,r,s){var p,g,j,y;const a=fge(),i=a.locale??KN,o=a.firstWeekContainsDate??((g=(p=a.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,l=a.weekStartsOn??((y=(j=a.locale)==null?void 0:j.options)==null?void 0:y.weekStartsOn)??0,c={firstWeekContainsDate:o,weekStartsOn:l,locale:i},d=[new jge],u=t.match(a0e).map(w=>{const b=w[0];if(b in EA){const N=EA[b];return N(w,i.formatLong)}return w}).join("").match(s0e),f=[];for(let w of u){rH(w)&&PA(w,t,e),tH(w)&&PA(w,t,e);const b=w[0],N=n0e[b];if(N){const{incompatibleTokens:_}=N;if(Array.isArray(_)){const A=f.find(E=>_.includes(E.token)||E.token===b);if(A)throw new RangeError(`The format string mustn't contain \`${A.fullToken}\` and \`${w}\` at the same time`)}else if(N.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);f.push({token:b,fullToken:w});const C=N.run(e,w,i.match,c);if(!C)return Vr(r,NaN);d.push(C.setter),e=C.rest}else{if(b.match(c0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");if(w==="''"?w="'":b==="'"&&(w=u0e(w)),e.indexOf(w)===0)e=e.slice(w.length);else return Vr(r,NaN)}}if(e.length>0&&l0e.test(e))return Vr(r,NaN);const m=d.map(w=>w.priority).sort((w,b)=>b-w).filter((w,b,N)=>N.indexOf(w)===b).map(w=>d.filter(b=>b.priority===w).sort((b,N)=>N.subPriority-b.subPriority)).map(w=>w[0]);let h=St(r);if(isNaN(h.getTime()))return Vr(r,NaN);const x={};for(const w of m){if(!w.validate(h,c))return Vr(r,NaN);const b=w.set(h,x,c);Array.isArray(b)?(h=b[0],Object.assign(x,b[1])):h=b}return Vr(r,h)}function u0e(e){return e.match(i0e)[1].replace(o0e,"'")}function QT(e,t){const r=St(e),s=St(t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function f0e(e,t){const r=St(e),s=St(t);return r.getFullYear()===s.getFullYear()}function _c(e,t){return Vs(e,-t)}function CS(e,t){const r=St(e),s=r.getFullYear(),a=r.getDate(),i=Vr(e,0);i.setFullYear(s,t,15),i.setHours(0,0,0,0);const o=uge(i);return r.setMonth(t,Math.min(a,o)),r}function RR(e,t){const r=St(e);return isNaN(+r)?Vr(e,NaN):(r.setFullYear(t),r)}function m0e(e,t){return No(e,-t)}const MR={order:js,"shopping-cart":js,payment:ys,"credit-card":ys,delivery:wr,truck:wr,issue:_t,"alert-circle":_t,product:ct,package:ct,apartment:cr,building:cr,client:Gc,users:Gc,vendor:Da,store:Da,user:$n,status:Ff,activity:Ff,ai:vs,bot:vs},h0e={created:Gn,updated:kse,deleted:xn,delivered:Br,payment_received:Br,completed:Br,cancelled:xn,status_changed:Fb},p0e=(e,t)=>({created:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},updated:{bg:"bg-blue-500/5 dark:bg-blue-500/10",border:"border-blue-500/20",icon:"text-blue-500",badge:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/20",glow:"shadow-blue-500/5"},deleted:{bg:"bg-red-500/5 dark:bg-red-500/10",border:"border-red-500/20",icon:"text-red-500",badge:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",glow:"shadow-red-500/5"},delivered:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},payment_received:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},completed:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},cancelled:{bg:"bg-red-500/5 dark:bg-red-500/10",border:"border-red-500/20",icon:"text-red-500",badge:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",glow:"shadow-red-500/5"},status_changed:{bg:"bg-amber-500/5 dark:bg-amber-500/10",border:"border-amber-500/20",icon:"text-amber-500",badge:"bg-amber-500/10 text-amber-600 dark:text-amber-400 border-amber-500/20",glow:"shadow-amber-500/5"}})[e]||{bg:"bg-slate-500/5 dark:bg-slate-500/10",border:"border-slate-500/20",icon:"text-slate-500",badge:"bg-slate-500/10 text-slate-600 dark:text-slate-400 border-slate-500/20",glow:"shadow-slate-500/5"},x0e=e=>({order:"Order",payment:"Payment",delivery:"Delivery",issue:"Issue",product:"Product",apartment:"Apartment",client:"Client",vendor:"Vendor",user:"User"})[e]||e;function g0e(){const{data:e,isLoading:t,refetch:r}=XW(),s=(e==null?void 0:e.activities)||[],a=i=>{try{return dge(new Date(i),{addSuffix:!0})}catch{return"recently"}};return t?n.jsxs(Z,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/80",children:[n.jsx(we,{className:"pb-3",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(u0,{className:"h-4 w-4 text-primary"})}),n.jsx(Ue,{className:"text-lg font-semibold",children:"Recent Activity"})]})})}),n.jsx(J,{children:n.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(i=>n.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-muted/30",children:[n.jsx(S,{className:"h-10 w-10 rounded-xl"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(S,{className:"h-4 w-40"}),n.jsx(S,{className:"h-3 w-56"}),n.jsx(S,{className:"h-3 w-24"})]})]},i))})})]}):n.jsxs(Z,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/80 overflow-hidden",children:[n.jsx(we,{className:"pb-3 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-primary/20 to-primary/5 shadow-sm",children:n.jsx(u0,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(Ue,{className:"text-lg font-semibold",children:"Recent Activity"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[s.length," activities tracked"]})]})]}),n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>r(),className:"h-9 w-9 p-0 hover:bg-primary/10 hover:text-primary transition-colors",children:n.jsx(Sf,{className:"h-4 w-4"})})]})}),n.jsx(J,{className:"p-0",children:n.jsx(ac,{className:"h-[480px]",children:n.jsx("div",{className:"p-4 space-y-2",children:s.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-muted/50 mb-4",children:n.jsx(Ff,{className:"h-8 w-8 text-muted-foreground/50"})}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No recent activities"}),n.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1 max-w-[200px]",children:"Activities will appear here when you create, update, or delete records"})]}):s.slice(0,15).map((i,o)=>{const l=MR[i.icon]||MR[i.type]||Ff,c=h0e[i.action]||Gn,d=p0e(i.action,i.type);return n.jsxs("div",{className:ge("group relative flex items-center gap-3 px-4 py-2.5 rounded-lg transition-all duration-300","hover:shadow-sm cursor-pointer border border-transparent","hover:border-border/50 hover:bg-muted/30"),children:[o<s.slice(0,15).length-1&&n.jsx("div",{className:"absolute left-[26px] top-[42px] w-[1px] h-[calc(100%-14px)] bg-border/30"}),n.jsxs("div",{className:"relative flex-shrink-0",children:[n.jsx("div",{className:ge("p-2 rounded-lg transition-all duration-300","group-hover:shadow-sm",d.bg,`border ${d.border}`),children:n.jsx(l,{className:ge("h-4 w-4",d.icon)})}),n.jsx("div",{className:ge("absolute -bottom-1 -right-1 p-0.5 rounded-full bg-background border shadow-sm",d.border),children:n.jsx(c,{className:ge("h-2.5 w-2.5",d.icon)})})]}),n.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-0 space-y-0.5",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-semibold text-sm text-foreground truncate",children:i.title}),n.jsx(Ae,{variant:"outline",className:ge("text-[9px] px-2 py-0.5 h-4 font-semibold uppercase tracking-wide border flex-shrink-0",d.badge),children:i.action})]}),n.jsx("p",{className:"text-xs text-muted-foreground/80 truncate leading-relaxed",children:i.description})]}),n.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center gap-1.5 min-w-[70px]",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary/40"}),n.jsx("span",{className:"text-xs font-medium text-foreground/70",children:x0e(i.type)})]}),i.apartment&&n.jsxs("div",{className:"flex items-center gap-1.5 min-w-[100px] max-w-[140px]",children:[n.jsx(cr,{className:"h-3.5 w-3.5 text-muted-foreground/50 flex-shrink-0"}),n.jsx("span",{className:"text-xs text-muted-foreground/70 truncate",children:i.apartment})]}),n.jsxs("div",{className:"flex items-center gap-1.5 min-w-[90px]",children:[n.jsx(jr,{className:"h-3.5 w-3.5 text-muted-foreground/50 flex-shrink-0"}),n.jsx("span",{className:"text-xs text-muted-foreground/70 whitespace-nowrap",children:a(i.created_at)})]})]})]})]},i.id)})})})})]})}var v0e=Array.isArray,mi=v0e,y0e=typeof Oy=="object"&&Oy&&Oy.Object===Object&&Oy,lH=y0e,j0e=lH,b0e=typeof self=="object"&&self&&self.Object===Object&&self,w0e=j0e||b0e||Function("return this")(),ic=w0e,N0e=ic,_0e=N0e.Symbol,oy=_0e,FR=oy,cH=Object.prototype,S0e=cH.hasOwnProperty,C0e=cH.toString,Vx=FR?FR.toStringTag:void 0;function A0e(e){var t=S0e.call(e,Vx),r=e[Vx];try{e[Vx]=void 0;var s=!0}catch{}var a=C0e.call(e);return s&&(t?e[Vx]=r:delete e[Vx]),a}var E0e=A0e,P0e=Object.prototype,k0e=P0e.toString;function T0e(e){return k0e.call(e)}var O0e=T0e,$R=oy,D0e=E0e,I0e=O0e,R0e="[object Null]",M0e="[object Undefined]",LR=$R?$R.toStringTag:void 0;function F0e(e){return e==null?e===void 0?M0e:R0e:LR&&LR in Object(e)?D0e(e):I0e(e)}var ld=F0e;function $0e(e){return e!=null&&typeof e=="object"}var cd=$0e,L0e=ld,B0e=cd,U0e="[object Symbol]";function V0e(e){return typeof e=="symbol"||B0e(e)&&L0e(e)==U0e}var Qp=V0e,z0e=mi,W0e=Qp,H0e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q0e=/^\w*$/;function G0e(e,t){if(z0e(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||W0e(e)?!0:q0e.test(e)||!H0e.test(e)||t!=null&&e in Object(t)}var ZT=G0e;function K0e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Tu=K0e;const Zp=Ar(Tu);var Y0e=ld,X0e=Tu,Q0e="[object AsyncFunction]",Z0e="[object Function]",J0e="[object GeneratorFunction]",eve="[object Proxy]";function tve(e){if(!X0e(e))return!1;var t=Y0e(e);return t==Z0e||t==J0e||t==Q0e||t==eve}var JT=tve;const Tt=Ar(JT);var rve=ic,nve=rve["__core-js_shared__"],sve=nve,AS=sve,BR=function(){var e=/[^.]+$/.exec(AS&&AS.keys&&AS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ave(e){return!!BR&&BR in e}var ive=ave,ove=Function.prototype,lve=ove.toString;function cve(e){if(e!=null){try{return lve.call(e)}catch{}try{return e+""}catch{}}return""}var dH=cve,dve=JT,uve=ive,fve=Tu,mve=dH,hve=/[\\^$.*+?()[\]{}|]/g,pve=/^\[object .+?Constructor\]$/,xve=Function.prototype,gve=Object.prototype,vve=xve.toString,yve=gve.hasOwnProperty,jve=RegExp("^"+vve.call(yve).replace(hve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bve(e){if(!fve(e)||uve(e))return!1;var t=dve(e)?jve:pve;return t.test(mve(e))}var wve=bve;function Nve(e,t){return e==null?void 0:e[t]}var _ve=Nve,Sve=wve,Cve=_ve;function Ave(e,t){var r=Cve(e,t);return Sve(r)?r:void 0}var um=Ave,Eve=um,Pve=Eve(Object,"create"),YN=Pve,UR=YN;function kve(){this.__data__=UR?UR(null):{},this.size=0}var Tve=kve;function Ove(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Dve=Ove,Ive=YN,Rve="__lodash_hash_undefined__",Mve=Object.prototype,Fve=Mve.hasOwnProperty;function $ve(e){var t=this.__data__;if(Ive){var r=t[e];return r===Rve?void 0:r}return Fve.call(t,e)?t[e]:void 0}var Lve=$ve,Bve=YN,Uve=Object.prototype,Vve=Uve.hasOwnProperty;function zve(e){var t=this.__data__;return Bve?t[e]!==void 0:Vve.call(t,e)}var Wve=zve,Hve=YN,qve="__lodash_hash_undefined__";function Gve(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Hve&&t===void 0?qve:t,this}var Kve=Gve,Yve=Tve,Xve=Dve,Qve=Lve,Zve=Wve,Jve=Kve;function Jp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}Jp.prototype.clear=Yve;Jp.prototype.delete=Xve;Jp.prototype.get=Qve;Jp.prototype.has=Zve;Jp.prototype.set=Jve;var eye=Jp;function tye(){this.__data__=[],this.size=0}var rye=tye;function nye(e,t){return e===t||e!==e&&t!==t}var eO=nye,sye=eO;function aye(e,t){for(var r=e.length;r--;)if(sye(e[r][0],t))return r;return-1}var XN=aye,iye=XN,oye=Array.prototype,lye=oye.splice;function cye(e){var t=this.__data__,r=iye(t,e);if(r<0)return!1;var s=t.length-1;return r==s?t.pop():lye.call(t,r,1),--this.size,!0}var dye=cye,uye=XN;function fye(e){var t=this.__data__,r=uye(t,e);return r<0?void 0:t[r][1]}var mye=fye,hye=XN;function pye(e){return hye(this.__data__,e)>-1}var xye=pye,gye=XN;function vye(e,t){var r=this.__data__,s=gye(r,e);return s<0?(++this.size,r.push([e,t])):r[s][1]=t,this}var yye=vye,jye=rye,bye=dye,wye=mye,Nye=xye,_ye=yye;function ex(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}ex.prototype.clear=jye;ex.prototype.delete=bye;ex.prototype.get=wye;ex.prototype.has=Nye;ex.prototype.set=_ye;var QN=ex,Sye=um,Cye=ic,Aye=Sye(Cye,"Map"),tO=Aye,VR=eye,Eye=QN,Pye=tO;function kye(){this.size=0,this.__data__={hash:new VR,map:new(Pye||Eye),string:new VR}}var Tye=kye;function Oye(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Dye=Oye,Iye=Dye;function Rye(e,t){var r=e.__data__;return Iye(t)?r[typeof t=="string"?"string":"hash"]:r.map}var ZN=Rye,Mye=ZN;function Fye(e){var t=Mye(this,e).delete(e);return this.size-=t?1:0,t}var $ye=Fye,Lye=ZN;function Bye(e){return Lye(this,e).get(e)}var Uye=Bye,Vye=ZN;function zye(e){return Vye(this,e).has(e)}var Wye=zye,Hye=ZN;function qye(e,t){var r=Hye(this,e),s=r.size;return r.set(e,t),this.size+=r.size==s?0:1,this}var Gye=qye,Kye=Tye,Yye=$ye,Xye=Uye,Qye=Wye,Zye=Gye;function tx(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}tx.prototype.clear=Kye;tx.prototype.delete=Yye;tx.prototype.get=Xye;tx.prototype.has=Qye;tx.prototype.set=Zye;var rO=tx,uH=rO,Jye="Expected a function";function nO(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Jye);var r=function(){var s=arguments,a=t?t.apply(this,s):s[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,s);return r.cache=i.set(a,o)||i,o};return r.cache=new(nO.Cache||uH),r}nO.Cache=uH;var fH=nO;const eje=Ar(fH);var tje=fH,rje=500;function nje(e){var t=tje(e,function(s){return r.size===rje&&r.clear(),s}),r=t.cache;return t}var sje=nje,aje=sje,ije=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oje=/\\(\\)?/g,lje=aje(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ije,function(r,s,a,i){t.push(a?i.replace(oje,"$1"):s||r)}),t}),cje=lje;function dje(e,t){for(var r=-1,s=e==null?0:e.length,a=Array(s);++r<s;)a[r]=t(e[r],r,e);return a}var sO=dje,zR=oy,uje=sO,fje=mi,mje=Qp,hje=1/0,WR=zR?zR.prototype:void 0,HR=WR?WR.toString:void 0;function mH(e){if(typeof e=="string")return e;if(fje(e))return uje(e,mH)+"";if(mje(e))return HR?HR.call(e):"";var t=e+"";return t=="0"&&1/e==-hje?"-0":t}var pje=mH,xje=pje;function gje(e){return e==null?"":xje(e)}var hH=gje,vje=mi,yje=ZT,jje=cje,bje=hH;function wje(e,t){return vje(e)?e:yje(e,t)?[e]:jje(bje(e))}var pH=wje,Nje=Qp,_je=1/0;function Sje(e){if(typeof e=="string"||Nje(e))return e;var t=e+"";return t=="0"&&1/e==-_je?"-0":t}var JN=Sje,Cje=pH,Aje=JN;function Eje(e,t){t=Cje(t,e);for(var r=0,s=t.length;e!=null&&r<s;)e=e[Aje(t[r++])];return r&&r==s?e:void 0}var aO=Eje,Pje=aO;function kje(e,t,r){var s=e==null?void 0:Pje(e,t);return s===void 0?r:s}var xH=kje;const Ii=Ar(xH);function Tje(e){return e==null}var Oje=Tje;const $t=Ar(Oje);var Dje=ld,Ije=mi,Rje=cd,Mje="[object String]";function Fje(e){return typeof e=="string"||!Ije(e)&&Rje(e)&&Dje(e)==Mje}var $je=Fje;const ly=Ar($je);var gH={exports:{}},Mr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iO=Symbol.for("react.element"),oO=Symbol.for("react.portal"),e2=Symbol.for("react.fragment"),t2=Symbol.for("react.strict_mode"),r2=Symbol.for("react.profiler"),n2=Symbol.for("react.provider"),s2=Symbol.for("react.context"),Lje=Symbol.for("react.server_context"),a2=Symbol.for("react.forward_ref"),i2=Symbol.for("react.suspense"),o2=Symbol.for("react.suspense_list"),l2=Symbol.for("react.memo"),c2=Symbol.for("react.lazy"),Bje=Symbol.for("react.offscreen"),vH;vH=Symbol.for("react.module.reference");function Eo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case iO:switch(e=e.type,e){case e2:case r2:case t2:case i2:case o2:return e;default:switch(e=e&&e.$$typeof,e){case Lje:case s2:case a2:case c2:case l2:case n2:return e;default:return t}}case oO:return t}}}Mr.ContextConsumer=s2;Mr.ContextProvider=n2;Mr.Element=iO;Mr.ForwardRef=a2;Mr.Fragment=e2;Mr.Lazy=c2;Mr.Memo=l2;Mr.Portal=oO;Mr.Profiler=r2;Mr.StrictMode=t2;Mr.Suspense=i2;Mr.SuspenseList=o2;Mr.isAsyncMode=function(){return!1};Mr.isConcurrentMode=function(){return!1};Mr.isContextConsumer=function(e){return Eo(e)===s2};Mr.isContextProvider=function(e){return Eo(e)===n2};Mr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===iO};Mr.isForwardRef=function(e){return Eo(e)===a2};Mr.isFragment=function(e){return Eo(e)===e2};Mr.isLazy=function(e){return Eo(e)===c2};Mr.isMemo=function(e){return Eo(e)===l2};Mr.isPortal=function(e){return Eo(e)===oO};Mr.isProfiler=function(e){return Eo(e)===r2};Mr.isStrictMode=function(e){return Eo(e)===t2};Mr.isSuspense=function(e){return Eo(e)===i2};Mr.isSuspenseList=function(e){return Eo(e)===o2};Mr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===e2||e===r2||e===t2||e===i2||e===o2||e===Bje||typeof e=="object"&&e!==null&&(e.$$typeof===c2||e.$$typeof===l2||e.$$typeof===n2||e.$$typeof===s2||e.$$typeof===a2||e.$$typeof===vH||e.getModuleId!==void 0)};Mr.typeOf=Eo;gH.exports=Mr;var yH=gH.exports,Uje=ld,Vje=cd,zje="[object Number]";function Wje(e){return typeof e=="number"||Vje(e)&&Uje(e)==zje}var jH=Wje;const Hje=Ar(jH);var qje=jH;function Gje(e){return qje(e)&&e!=+e}var Kje=Gje;const rx=Ar(Kje);var Aa=function(t){return t===0?0:t>0?1:-1},df=function(t){return ly(t)&&t.indexOf("%")===t.length-1},Qe=function(t){return Hje(t)&&!rx(t)},bs=function(t){return Qe(t)||ly(t)},Yje=0,fm=function(t){var r=++Yje;return"".concat(t||"").concat(r)},Ea=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(t)&&!ly(t))return s;var i;if(df(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return rx(i)&&(i=s),a&&i>r&&(i=r),i},Od=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Xje=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,s={},a=0;a<r;a++)if(!s[t[a]])s[t[a]]=!0;else return!0;return!1},hs=function(t,r){return Qe(t)&&Qe(r)?function(s){return t+s*(r-t)}:function(){return r}};function y1(e,t,r){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):Ii(s,t))===r})}function vh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function TA(e){"@babel/helpers - typeof";return TA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},TA(e)}var Qje=["viewBox","children"],Zje=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],qR=["points","pathLength"],ES={svg:Qje,polygon:qR,polyline:qR},lO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],j1=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(v.isValidElement(t)&&(s=t.props),!Zp(s))return null;var a={};return Object.keys(s).forEach(function(i){lO.includes(i)&&(a[i]=r||function(o){return s[i](s,o)})}),a},Jje=function(t,r,s){return function(a){return t(r,s,a),null}},Kf=function(t,r,s){if(!Zp(t)||TA(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];lO.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Jje(o,r,s))}),a},ebe=["children"],tbe=["children"];function GR(e,t){if(e==null)return{};var r=rbe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function rbe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function OA(e){"@babel/helpers - typeof";return OA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OA(e)}var KR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Rc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},YR=null,PS=null,cO=function e(t){if(t===YR&&Array.isArray(PS))return PS;var r=[];return v.Children.forEach(t,function(s){$t(s)||(yH.isFragment(s)?r=r.concat(e(s.props.children)):r.push(s))}),PS=r,YR=t,r};function Ri(e,t){var r=[],s=[];return Array.isArray(t)?s=t.map(function(a){return Rc(a)}):s=[Rc(t)],cO(e).forEach(function(a){var i=Ii(a,"type.displayName")||Ii(a,"type.name");s.indexOf(i)!==-1&&r.push(a)}),r}function _i(e,t){var r=Ri(e,t);return r&&r[0]}var XR=function(t){if(!t||!t.props)return!1;var r=t.props,s=r.width,a=r.height;return!(!Qe(s)||s<=0||!Qe(a)||a<=0)},nbe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],sbe=function(t){return t&&t.type&&ly(t.type)&&nbe.indexOf(t.type)>=0},bH=function(t){return t&&OA(t)==="object"&&"clipDot"in t},abe=function(t,r,s,a){var i,o=(i=ES==null?void 0:ES[a])!==null&&i!==void 0?i:[];return!Tt(t)&&(a&&o.includes(r)||Zje.includes(r))||s&&lO.includes(r)},bt=function(t,r,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(v.isValidElement(t)&&(a=t.props),!Zp(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;abe((l=a)===null||l===void 0?void 0:l[o],o,r,s)&&(i[o]=a[o])}),i},DA=function e(t,r){if(t===r)return!0;var s=v.Children.count(t);if(s!==v.Children.count(r))return!1;if(s===0)return!0;if(s===1)return QR(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<s;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!QR(i,o))return!1}return!0},QR=function(t,r){if($t(t)&&$t(r))return!0;if(!$t(t)&&!$t(r)){var s=t.props||{},a=s.children,i=GR(s,ebe),o=r.props||{},l=o.children,c=GR(o,tbe);return a&&l?vh(i,c)&&DA(a,l):!a&&!l?vh(i,c):!1}return!1},ZR=function(t,r){var s=[],a={};return cO(t).forEach(function(i,o){if(sbe(i))s.push(i);else if(i){var l=Rc(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var f=d(i,l,o);s.push(f),a[l]=!0}}}),s},ibe=function(t){var r=t&&t.type;return r&&KR[r]?KR[r]:null},obe=function(t,r){return cO(r).indexOf(t)},lbe=["children","width","height","viewBox","className","style","title","desc"];function IA(){return IA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},IA.apply(this,arguments)}function cbe(e,t){if(e==null)return{};var r=dbe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function dbe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function RA(e){var t=e.children,r=e.width,s=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=cbe(e,lbe),u=a||{width:r,height:s,x:0,y:0},f=zt("recharts-surface",i);return z.createElement("svg",IA({},bt(d,!0,"svg"),{className:f,width:r,height:s,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),z.createElement("title",null,l),z.createElement("desc",null,c),t)}var ube=["children","className"];function MA(){return MA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},MA.apply(this,arguments)}function fbe(e,t){if(e==null)return{};var r=mbe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function mbe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var er=z.forwardRef(function(e,t){var r=e.children,s=e.className,a=fbe(e,ube),i=zt("recharts-layer",s);return z.createElement("g",MA({className:i},bt(a,!0),{ref:t}),r)}),rl=function(t,r){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]};function hbe(e,t,r){var s=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++s<a;)i[s]=e[s+t];return i}var pbe=hbe,xbe=pbe;function gbe(e,t,r){var s=e.length;return r=r===void 0?s:r,!t&&r>=s?e:xbe(e,t,r)}var vbe=gbe,ybe="\\ud800-\\udfff",jbe="\\u0300-\\u036f",bbe="\\ufe20-\\ufe2f",wbe="\\u20d0-\\u20ff",Nbe=jbe+bbe+wbe,_be="\\ufe0e\\ufe0f",Sbe="\\u200d",Cbe=RegExp("["+Sbe+ybe+Nbe+_be+"]");function Abe(e){return Cbe.test(e)}var wH=Abe;function Ebe(e){return e.split("")}var Pbe=Ebe,NH="\\ud800-\\udfff",kbe="\\u0300-\\u036f",Tbe="\\ufe20-\\ufe2f",Obe="\\u20d0-\\u20ff",Dbe=kbe+Tbe+Obe,Ibe="\\ufe0e\\ufe0f",Rbe="["+NH+"]",FA="["+Dbe+"]",$A="\\ud83c[\\udffb-\\udfff]",Mbe="(?:"+FA+"|"+$A+")",_H="[^"+NH+"]",SH="(?:\\ud83c[\\udde6-\\uddff]){2}",CH="[\\ud800-\\udbff][\\udc00-\\udfff]",Fbe="\\u200d",AH=Mbe+"?",EH="["+Ibe+"]?",$be="(?:"+Fbe+"(?:"+[_H,SH,CH].join("|")+")"+EH+AH+")*",Lbe=EH+AH+$be,Bbe="(?:"+[_H+FA+"?",FA,SH,CH,Rbe].join("|")+")",Ube=RegExp($A+"(?="+$A+")|"+Bbe+Lbe,"g");function Vbe(e){return e.match(Ube)||[]}var zbe=Vbe,Wbe=Pbe,Hbe=wH,qbe=zbe;function Gbe(e){return Hbe(e)?qbe(e):Wbe(e)}var Kbe=Gbe,Ybe=vbe,Xbe=wH,Qbe=Kbe,Zbe=hH;function Jbe(e){return function(t){t=Zbe(t);var r=Xbe(t)?Qbe(t):void 0,s=r?r[0]:t.charAt(0),a=r?Ybe(r,1).join(""):t.slice(1);return s[e]()+a}}var e1e=Jbe,t1e=e1e,r1e=t1e("toUpperCase"),n1e=r1e;const d2=Ar(n1e);function Yr(e){return function(){return e}}const PH=Math.cos,b1=Math.sin,hl=Math.sqrt,w1=Math.PI,u2=2*w1,LA=Math.PI,BA=2*LA,Gu=1e-6,s1e=BA-Gu;function kH(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function a1e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return kH;const r=10**t;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+s[a]}}class i1e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?kH:a1e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,s,a){this._append`Q${+t},${+r},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(t,r,s,a,i,o){this._append`C${+t},${+r},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,s,a,i){if(t=+t,r=+r,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-t,d=a-r,u=o-t,f=l-r,m=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Gu)if(!(Math.abs(f*c-d*u)>Gu)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=s-o,x=a-l,p=c*c+d*d,g=h*h+x*x,j=Math.sqrt(p),y=Math.sqrt(m),w=i*Math.tan((LA-Math.acos((p+m-g)/(2*j*y)))/2),b=w/y,N=w/j;Math.abs(b-1)>Gu&&this._append`L${t+b*u},${r+b*f}`,this._append`A${i},${i},0,0,${+(f*h>u*x)},${this._x1=t+N*c},${this._y1=r+N*d}`}}arc(t,r,s,a,i,o){if(t=+t,r=+r,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),c=s*Math.sin(a),d=t+l,u=r+c,f=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Gu||Math.abs(this._y1-u)>Gu)&&this._append`L${d},${u}`,s&&(m<0&&(m=m%BA+BA),m>s1e?this._append`A${s},${s},0,1,${f},${t-l},${r-c}A${s},${s},0,1,${f},${this._x1=d},${this._y1=u}`:m>Gu&&this._append`A${s},${s},0,${+(m>=LA)},${f},${this._x1=t+s*Math.cos(i)},${this._y1=r+s*Math.sin(i)}`)}rect(t,r,s,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function dO(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);t=s}return e},()=>new i1e(t)}function uO(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function TH(e){this._context=e}TH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function f2(e){return new TH(e)}function OH(e){return e[0]}function DH(e){return e[1]}function IH(e,t){var r=Yr(!0),s=null,a=f2,i=null,o=dO(l);e=typeof e=="function"?e:e===void 0?OH:Yr(e),t=typeof t=="function"?t:t===void 0?DH:Yr(t);function l(c){var d,u=(c=uO(c)).length,f,m=!1,h;for(s==null&&(i=a(h=o())),d=0;d<=u;++d)!(d<u&&r(f=c[d],d,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(f,d,c),+t(f,d,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Yr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Yr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Yr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),l):s},l}function mj(e,t,r){var s=null,a=Yr(!0),i=null,o=f2,l=null,c=dO(d);e=typeof e=="function"?e:e===void 0?OH:Yr(+e),t=typeof t=="function"?t:Yr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?DH:Yr(+r);function d(f){var m,h,x,p=(f=uO(f)).length,g,j=!1,y,w=new Array(p),b=new Array(p);for(i==null&&(l=o(y=c())),m=0;m<=p;++m){if(!(m<p&&a(g=f[m],m,f))===j)if(j=!j)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=h;--x)l.point(w[x],b[x]);l.lineEnd(),l.areaEnd()}j&&(w[m]=+e(g,m,f),b[m]=+t(g,m,f),l.point(s?+s(g,m,f):w[m],r?+r(g,m,f):b[m]))}if(y)return l=null,y+""||null}function u(){return IH().defined(a).curve(o).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Yr(+f),s=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Yr(+f),d):e},d.x1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:Yr(+f),d):s},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Yr(+f),r=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Yr(+f),d):t},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Yr(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(s).y(t)},d.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Yr(!!f),d):a},d.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),d):o},d.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),d):i},d}class RH{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function o1e(e){return new RH(e,!0)}function l1e(e){return new RH(e,!1)}const fO={draw(e,t){const r=hl(t/w1);e.moveTo(r,0),e.arc(0,0,r,0,u2)}},c1e={draw(e,t){const r=hl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},MH=hl(1/3),d1e=MH*2,u1e={draw(e,t){const r=hl(t/d1e),s=r*MH;e.moveTo(0,-r),e.lineTo(s,0),e.lineTo(0,r),e.lineTo(-s,0),e.closePath()}},f1e={draw(e,t){const r=hl(t),s=-r/2;e.rect(s,s,r,r)}},m1e=.8908130915292852,FH=b1(w1/10)/b1(7*w1/10),h1e=b1(u2/10)*FH,p1e=-PH(u2/10)*FH,x1e={draw(e,t){const r=hl(t*m1e),s=h1e*r,a=p1e*r;e.moveTo(0,-r),e.lineTo(s,a);for(let i=1;i<5;++i){const o=u2*i/5,l=PH(o),c=b1(o);e.lineTo(c*r,-l*r),e.lineTo(l*s-c*a,c*s+l*a)}e.closePath()}},kS=hl(3),g1e={draw(e,t){const r=-hl(t/(kS*3));e.moveTo(0,r*2),e.lineTo(-kS*r,-r),e.lineTo(kS*r,-r),e.closePath()}},Zi=-.5,Ji=hl(3)/2,UA=1/hl(12),v1e=(UA/2+1)*3,y1e={draw(e,t){const r=hl(t/v1e),s=r/2,a=r*UA,i=s,o=r*UA+r,l=-i,c=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Zi*s-Ji*a,Ji*s+Zi*a),e.lineTo(Zi*i-Ji*o,Ji*i+Zi*o),e.lineTo(Zi*l-Ji*c,Ji*l+Zi*c),e.lineTo(Zi*s+Ji*a,Zi*a-Ji*s),e.lineTo(Zi*i+Ji*o,Zi*o-Ji*i),e.lineTo(Zi*l+Ji*c,Zi*c-Ji*l),e.closePath()}};function j1e(e,t){let r=null,s=dO(a);e=typeof e=="function"?e:Yr(e||fO),t=typeof t=="function"?t:Yr(t===void 0?64:+t);function a(){let i;if(r||(r=i=s()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Yr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Yr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function N1(){}function _1(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function $H(e){this._context=e}$H.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function b1e(e){return new $H(e)}function LH(e){this._context=e}LH.prototype={areaStart:N1,areaEnd:N1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function w1e(e){return new LH(e)}function BH(e){this._context=e}BH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break;case 3:this._point=4;default:_1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function N1e(e){return new BH(e)}function UH(e){this._context=e}UH.prototype={areaStart:N1,areaEnd:N1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function _1e(e){return new UH(e)}function JR(e){return e<0?-1:1}function eM(e,t,r){var s=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(r-e._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(JR(i)+JR(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function tM(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function TS(e,t,r){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-s)/3;e._context.bezierCurveTo(s+l,a+l*t,i-l,o-l*r,i,o)}function S1(e){this._context=e}S1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:TS(this,this._t0,tM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,TS(this,tM(this,r=eM(this,e,t)),r);break;default:TS(this,this._t0,r=eM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function VH(e){this._context=new zH(e)}(VH.prototype=Object.create(S1.prototype)).point=function(e,t){S1.prototype.point.call(this,t,e)};function zH(e){this._context=e}zH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,s,a,i){this._context.bezierCurveTo(t,e,s,r,i,a)}};function S1e(e){return new S1(e)}function C1e(e){return new VH(e)}function WH(e){this._context=e}WH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var s=rM(e),a=rM(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function rM(e){var t,r=e.length-1,s,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)s=a[t]/i[t-1],i[t]-=s,o[t]-=s*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function A1e(e){return new WH(e)}function m2(e,t){this._context=e,this._t=t}m2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function E1e(e){return new m2(e,.5)}function P1e(e){return new m2(e,0)}function k1e(e){return new m2(e,1)}function np(e,t){if((o=e.length)>1)for(var r=1,s,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function VA(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function T1e(e,t){return e[t]}function O1e(e){const t=[];return t.key=e,t}function D1e(){var e=Yr([]),t=VA,r=np,s=T1e;function a(i){var o=Array.from(e.apply(this,arguments),O1e),l,c=o.length,d=-1,u;for(const f of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+s(f,o[l].key,d,i)]).data=f;for(l=0,u=uO(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Yr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:Yr(+i),a):s},a.order=function(i){return arguments.length?(t=i==null?VA:typeof i=="function"?i:Yr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??np,a):r},a}function I1e(e,t){if((s=e.length)>0){for(var r,s,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<s;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<s;++r)e[r][a][1]/=o}np(e,t)}}function R1e(e,t){if((a=e.length)>0){for(var r=0,s=e[t[0]],a,i=s.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;s[r][1]+=s[r][0]=-l/2}np(e,t)}}function M1e(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,s=1,a,i,o;s<i;++s){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],f=u[s][1]||0,m=u[s-1][1]||0,h=(f-m)/2,x=0;x<l;++x){var p=e[t[x]],g=p[s][1]||0,j=p[s-1][1]||0;h+=g-j}c+=f,d+=h*f}a[s-1][1]+=a[s-1][0]=r,c&&(r-=d/c)}a[s-1][1]+=a[s-1][0]=r,np(e,t)}}function S0(e){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S0(e)}var F1e=["type","size","sizeType"];function zA(){return zA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},zA.apply(this,arguments)}function nM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function sM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nM(Object(r),!0).forEach(function(s){$1e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function $1e(e,t,r){return t=L1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L1e(e){var t=B1e(e,"string");return S0(t)=="symbol"?t:t+""}function B1e(e,t){if(S0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(S0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U1e(e,t){if(e==null)return{};var r=V1e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function V1e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var HH={symbolCircle:fO,symbolCross:c1e,symbolDiamond:u1e,symbolSquare:f1e,symbolStar:x1e,symbolTriangle:g1e,symbolWye:y1e},z1e=Math.PI/180,W1e=function(t){var r="symbol".concat(d2(t));return HH[r]||fO},H1e=function(t,r,s){if(r==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*z1e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},q1e=function(t,r){HH["symbol".concat(d2(t))]=r},mO=function(t){var r=t.type,s=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=U1e(t,F1e),d=sM(sM({},c),{},{type:s,size:i,sizeType:l}),u=function(){var g=W1e(s),j=j1e().type(g).size(H1e(i,l,s));return j()},f=d.className,m=d.cx,h=d.cy,x=bt(d,!0);return m===+m&&h===+h&&i===+i?z.createElement("path",zA({},x,{className:zt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:u()})):null};mO.registerSymbol=q1e;function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function WA(){return WA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},WA.apply(this,arguments)}function aM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function G1e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aM(Object(r),!0).forEach(function(s){C0(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function K1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y1e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,GH(s.key),s)}}function X1e(e,t,r){return t&&Y1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q1e(e,t,r){return t=C1(t),Z1e(e,qH()?Reflect.construct(t,r||[],C1(e).constructor):t.apply(e,r))}function Z1e(e,t){if(t&&(sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J1e(e)}function J1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qH=function(){return!!e})()}function C1(e){return C1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C1(e)}function ewe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HA(e,t)}function HA(e,t){return HA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},HA(e,t)}function C0(e,t,r){return t=GH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GH(e){var t=twe(e,"string");return sp(t)=="symbol"?t:t+""}function twe(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(sp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eo=32,hO=function(e){function t(){return K1e(this,t),Q1e(this,t,arguments)}return ewe(t,e),X1e(t,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=eo/2,o=eo/6,l=eo/3,c=s.inactive?a:s.color;if(s.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:eo,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(eo,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(eo/8,"h").concat(eo,"v").concat(eo*3/4,"h").concat(-eo,"z"),className:"recharts-legend-icon"});if(z.isValidElement(s.legendIcon)){var d=G1e({},s);return delete d.legendIcon,z.cloneElement(s.legendIcon,d)}return z.createElement(mO,{fill:c,cx:i,cy:i,size:eo,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:eo,height:eo},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,x){var p=h.formatter||c,g=zt(C0(C0({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",h.inactive));if(h.type==="none")return null;var j=Tt(h.value)?null:h.value;rl(!Tt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=h.inactive?d:h.color;return z.createElement("li",WA({className:g,style:f,key:"legend-item-".concat(x)},Kf(s.props,h,x)),z.createElement(RA,{width:o,height:o,viewBox:u,style:m},s.renderIcon(h)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(j,h,x):j))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);C0(hO,"displayName","Legend");C0(hO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var rwe=QN;function nwe(){this.__data__=new rwe,this.size=0}var swe=nwe;function awe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var iwe=awe;function owe(e){return this.__data__.get(e)}var lwe=owe;function cwe(e){return this.__data__.has(e)}var dwe=cwe,uwe=QN,fwe=tO,mwe=rO,hwe=200;function pwe(e,t){var r=this.__data__;if(r instanceof uwe){var s=r.__data__;if(!fwe||s.length<hwe-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new mwe(s)}return r.set(e,t),this.size=r.size,this}var xwe=pwe,gwe=QN,vwe=swe,ywe=iwe,jwe=lwe,bwe=dwe,wwe=xwe;function nx(e){var t=this.__data__=new gwe(e);this.size=t.size}nx.prototype.clear=vwe;nx.prototype.delete=ywe;nx.prototype.get=jwe;nx.prototype.has=bwe;nx.prototype.set=wwe;var KH=nx,Nwe="__lodash_hash_undefined__";function _we(e){return this.__data__.set(e,Nwe),this}var Swe=_we;function Cwe(e){return this.__data__.has(e)}var Awe=Cwe,Ewe=rO,Pwe=Swe,kwe=Awe;function A1(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Ewe;++t<r;)this.add(e[t])}A1.prototype.add=A1.prototype.push=Pwe;A1.prototype.has=kwe;var YH=A1;function Twe(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(t(e[r],r,e))return!0;return!1}var XH=Twe;function Owe(e,t){return e.has(t)}var QH=Owe,Dwe=YH,Iwe=XH,Rwe=QH,Mwe=1,Fwe=2;function $we(e,t,r,s,a,i){var o=r&Mwe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var f=-1,m=!0,h=r&Fwe?new Dwe:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var x=e[f],p=t[f];if(s)var g=o?s(p,x,f,t,e,i):s(x,p,f,e,t,i);if(g!==void 0){if(g)continue;m=!1;break}if(h){if(!Iwe(t,function(j,y){if(!Rwe(h,y)&&(x===j||a(x,j,r,s,i)))return h.push(y)})){m=!1;break}}else if(!(x===p||a(x,p,r,s,i))){m=!1;break}}return i.delete(e),i.delete(t),m}var ZH=$we,Lwe=ic,Bwe=Lwe.Uint8Array,Uwe=Bwe;function Vwe(e){var t=-1,r=Array(e.size);return e.forEach(function(s,a){r[++t]=[a,s]}),r}var zwe=Vwe;function Wwe(e){var t=-1,r=Array(e.size);return e.forEach(function(s){r[++t]=s}),r}var pO=Wwe,iM=oy,oM=Uwe,Hwe=eO,qwe=ZH,Gwe=zwe,Kwe=pO,Ywe=1,Xwe=2,Qwe="[object Boolean]",Zwe="[object Date]",Jwe="[object Error]",eNe="[object Map]",tNe="[object Number]",rNe="[object RegExp]",nNe="[object Set]",sNe="[object String]",aNe="[object Symbol]",iNe="[object ArrayBuffer]",oNe="[object DataView]",lM=iM?iM.prototype:void 0,OS=lM?lM.valueOf:void 0;function lNe(e,t,r,s,a,i,o){switch(r){case oNe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case iNe:return!(e.byteLength!=t.byteLength||!i(new oM(e),new oM(t)));case Qwe:case Zwe:case tNe:return Hwe(+e,+t);case Jwe:return e.name==t.name&&e.message==t.message;case rNe:case sNe:return e==t+"";case eNe:var l=Gwe;case nNe:var c=s&Ywe;if(l||(l=Kwe),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;s|=Xwe,o.set(e,t);var u=qwe(l(e),l(t),s,a,i,o);return o.delete(e),u;case aNe:if(OS)return OS.call(e)==OS.call(t)}return!1}var cNe=lNe;function dNe(e,t){for(var r=-1,s=t.length,a=e.length;++r<s;)e[a+r]=t[r];return e}var JH=dNe,uNe=JH,fNe=mi;function mNe(e,t,r){var s=t(e);return fNe(e)?s:uNe(s,r(e))}var hNe=mNe;function pNe(e,t){for(var r=-1,s=e==null?0:e.length,a=0,i=[];++r<s;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var xNe=pNe;function gNe(){return[]}var vNe=gNe,yNe=xNe,jNe=vNe,bNe=Object.prototype,wNe=bNe.propertyIsEnumerable,cM=Object.getOwnPropertySymbols,NNe=cM?function(e){return e==null?[]:(e=Object(e),yNe(cM(e),function(t){return wNe.call(e,t)}))}:jNe,_Ne=NNe;function SNe(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s}var CNe=SNe,ANe=ld,ENe=cd,PNe="[object Arguments]";function kNe(e){return ENe(e)&&ANe(e)==PNe}var TNe=kNe,dM=TNe,ONe=cd,eq=Object.prototype,DNe=eq.hasOwnProperty,INe=eq.propertyIsEnumerable,RNe=dM(function(){return arguments}())?dM:function(e){return ONe(e)&&DNe.call(e,"callee")&&!INe.call(e,"callee")},xO=RNe,E1={exports:{}};function MNe(){return!1}var FNe=MNe;E1.exports;(function(e,t){var r=ic,s=FNe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||s;e.exports=d})(E1,E1.exports);var tq=E1.exports,$Ne=9007199254740991,LNe=/^(?:0|[1-9]\d*)$/;function BNe(e,t){var r=typeof e;return t=t??$Ne,!!t&&(r=="number"||r!="symbol"&&LNe.test(e))&&e>-1&&e%1==0&&e<t}var gO=BNe,UNe=9007199254740991;function VNe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=UNe}var vO=VNe,zNe=ld,WNe=vO,HNe=cd,qNe="[object Arguments]",GNe="[object Array]",KNe="[object Boolean]",YNe="[object Date]",XNe="[object Error]",QNe="[object Function]",ZNe="[object Map]",JNe="[object Number]",e2e="[object Object]",t2e="[object RegExp]",r2e="[object Set]",n2e="[object String]",s2e="[object WeakMap]",a2e="[object ArrayBuffer]",i2e="[object DataView]",o2e="[object Float32Array]",l2e="[object Float64Array]",c2e="[object Int8Array]",d2e="[object Int16Array]",u2e="[object Int32Array]",f2e="[object Uint8Array]",m2e="[object Uint8ClampedArray]",h2e="[object Uint16Array]",p2e="[object Uint32Array]",sn={};sn[o2e]=sn[l2e]=sn[c2e]=sn[d2e]=sn[u2e]=sn[f2e]=sn[m2e]=sn[h2e]=sn[p2e]=!0;sn[qNe]=sn[GNe]=sn[a2e]=sn[KNe]=sn[i2e]=sn[YNe]=sn[XNe]=sn[QNe]=sn[ZNe]=sn[JNe]=sn[e2e]=sn[t2e]=sn[r2e]=sn[n2e]=sn[s2e]=!1;function x2e(e){return HNe(e)&&WNe(e.length)&&!!sn[zNe(e)]}var g2e=x2e;function v2e(e){return function(t){return e(t)}}var rq=v2e,P1={exports:{}};P1.exports;(function(e,t){var r=lH,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(P1,P1.exports);var y2e=P1.exports,j2e=g2e,b2e=rq,uM=y2e,fM=uM&&uM.isTypedArray,w2e=fM?b2e(fM):j2e,nq=w2e,N2e=CNe,_2e=xO,S2e=mi,C2e=tq,A2e=gO,E2e=nq,P2e=Object.prototype,k2e=P2e.hasOwnProperty;function T2e(e,t){var r=S2e(e),s=!r&&_2e(e),a=!r&&!s&&C2e(e),i=!r&&!s&&!a&&E2e(e),o=r||s||a||i,l=o?N2e(e.length,String):[],c=l.length;for(var d in e)(t||k2e.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||A2e(d,c)))&&l.push(d);return l}var O2e=T2e,D2e=Object.prototype;function I2e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||D2e;return e===r}var R2e=I2e;function M2e(e,t){return function(r){return e(t(r))}}var sq=M2e,F2e=sq,$2e=F2e(Object.keys,Object),L2e=$2e,B2e=R2e,U2e=L2e,V2e=Object.prototype,z2e=V2e.hasOwnProperty;function W2e(e){if(!B2e(e))return U2e(e);var t=[];for(var r in Object(e))z2e.call(e,r)&&r!="constructor"&&t.push(r);return t}var H2e=W2e,q2e=JT,G2e=vO;function K2e(e){return e!=null&&G2e(e.length)&&!q2e(e)}var cy=K2e,Y2e=O2e,X2e=H2e,Q2e=cy;function Z2e(e){return Q2e(e)?Y2e(e):X2e(e)}var h2=Z2e,J2e=hNe,e_e=_Ne,t_e=h2;function r_e(e){return J2e(e,t_e,e_e)}var n_e=r_e,mM=n_e,s_e=1,a_e=Object.prototype,i_e=a_e.hasOwnProperty;function o_e(e,t,r,s,a,i){var o=r&s_e,l=mM(e),c=l.length,d=mM(t),u=d.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var m=l[f];if(!(o?m in t:i_e.call(t,m)))return!1}var h=i.get(e),x=i.get(t);if(h&&x)return h==t&&x==e;var p=!0;i.set(e,t),i.set(t,e);for(var g=o;++f<c;){m=l[f];var j=e[m],y=t[m];if(s)var w=o?s(y,j,m,t,e,i):s(j,y,m,e,t,i);if(!(w===void 0?j===y||a(j,y,r,s,i):w)){p=!1;break}g||(g=m=="constructor")}if(p&&!g){var b=e.constructor,N=t.constructor;b!=N&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof N=="function"&&N instanceof N)&&(p=!1)}return i.delete(e),i.delete(t),p}var l_e=o_e,c_e=um,d_e=ic,u_e=c_e(d_e,"DataView"),f_e=u_e,m_e=um,h_e=ic,p_e=m_e(h_e,"Promise"),x_e=p_e,g_e=um,v_e=ic,y_e=g_e(v_e,"Set"),aq=y_e,j_e=um,b_e=ic,w_e=j_e(b_e,"WeakMap"),N_e=w_e,qA=f_e,GA=tO,KA=x_e,YA=aq,XA=N_e,iq=ld,sx=dH,hM="[object Map]",__e="[object Object]",pM="[object Promise]",xM="[object Set]",gM="[object WeakMap]",vM="[object DataView]",S_e=sx(qA),C_e=sx(GA),A_e=sx(KA),E_e=sx(YA),P_e=sx(XA),Ku=iq;(qA&&Ku(new qA(new ArrayBuffer(1)))!=vM||GA&&Ku(new GA)!=hM||KA&&Ku(KA.resolve())!=pM||YA&&Ku(new YA)!=xM||XA&&Ku(new XA)!=gM)&&(Ku=function(e){var t=iq(e),r=t==__e?e.constructor:void 0,s=r?sx(r):"";if(s)switch(s){case S_e:return vM;case C_e:return hM;case A_e:return pM;case E_e:return xM;case P_e:return gM}return t});var k_e=Ku,DS=KH,T_e=ZH,O_e=cNe,D_e=l_e,yM=k_e,jM=mi,bM=tq,I_e=nq,R_e=1,wM="[object Arguments]",NM="[object Array]",hj="[object Object]",M_e=Object.prototype,_M=M_e.hasOwnProperty;function F_e(e,t,r,s,a,i){var o=jM(e),l=jM(t),c=o?NM:yM(e),d=l?NM:yM(t);c=c==wM?hj:c,d=d==wM?hj:d;var u=c==hj,f=d==hj,m=c==d;if(m&&bM(e)){if(!bM(t))return!1;o=!0,u=!1}if(m&&!u)return i||(i=new DS),o||I_e(e)?T_e(e,t,r,s,a,i):O_e(e,t,c,r,s,a,i);if(!(r&R_e)){var h=u&&_M.call(e,"__wrapped__"),x=f&&_M.call(t,"__wrapped__");if(h||x){var p=h?e.value():e,g=x?t.value():t;return i||(i=new DS),a(p,g,r,s,i)}}return m?(i||(i=new DS),D_e(e,t,r,s,a,i)):!1}var $_e=F_e,L_e=$_e,SM=cd;function oq(e,t,r,s,a){return e===t?!0:e==null||t==null||!SM(e)&&!SM(t)?e!==e&&t!==t:L_e(e,t,r,s,oq,a)}var yO=oq,B_e=KH,U_e=yO,V_e=1,z_e=2;function W_e(e,t,r,s){var a=r.length,i=a,o=!s;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var f=new B_e;if(s)var m=s(d,u,c,e,t,f);if(!(m===void 0?U_e(u,d,V_e|z_e,s,f):m))return!1}}return!0}var H_e=W_e,q_e=Tu;function G_e(e){return e===e&&!q_e(e)}var lq=G_e,K_e=lq,Y_e=h2;function X_e(e){for(var t=Y_e(e),r=t.length;r--;){var s=t[r],a=e[s];t[r]=[s,a,K_e(a)]}return t}var Q_e=X_e;function Z_e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var cq=Z_e,J_e=H_e,eSe=Q_e,tSe=cq;function rSe(e){var t=eSe(e);return t.length==1&&t[0][2]?tSe(t[0][0],t[0][1]):function(r){return r===e||J_e(r,e,t)}}var nSe=rSe;function sSe(e,t){return e!=null&&t in Object(e)}var aSe=sSe,iSe=pH,oSe=xO,lSe=mi,cSe=gO,dSe=vO,uSe=JN;function fSe(e,t,r){t=iSe(t,e);for(var s=-1,a=t.length,i=!1;++s<a;){var o=uSe(t[s]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++s!=a?i:(a=e==null?0:e.length,!!a&&dSe(a)&&cSe(o,a)&&(lSe(e)||oSe(e)))}var mSe=fSe,hSe=aSe,pSe=mSe;function xSe(e,t){return e!=null&&pSe(e,t,hSe)}var gSe=xSe,vSe=yO,ySe=xH,jSe=gSe,bSe=ZT,wSe=lq,NSe=cq,_Se=JN,SSe=1,CSe=2;function ASe(e,t){return bSe(e)&&wSe(t)?NSe(_Se(e),t):function(r){var s=ySe(r,e);return s===void 0&&s===t?jSe(r,e):vSe(t,s,SSe|CSe)}}var ESe=ASe;function PSe(e){return e}var ax=PSe;function kSe(e){return function(t){return t==null?void 0:t[e]}}var TSe=kSe,OSe=aO;function DSe(e){return function(t){return OSe(t,e)}}var ISe=DSe,RSe=TSe,MSe=ISe,FSe=ZT,$Se=JN;function LSe(e){return FSe(e)?RSe($Se(e)):MSe(e)}var BSe=LSe,USe=nSe,VSe=ESe,zSe=ax,WSe=mi,HSe=BSe;function qSe(e){return typeof e=="function"?e:e==null?zSe:typeof e=="object"?WSe(e)?VSe(e[0],e[1]):USe(e):HSe(e)}var oc=qSe;function GSe(e,t,r,s){for(var a=e.length,i=r+(s?1:-1);s?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var dq=GSe;function KSe(e){return e!==e}var YSe=KSe;function XSe(e,t,r){for(var s=r-1,a=e.length;++s<a;)if(e[s]===t)return s;return-1}var QSe=XSe,ZSe=dq,JSe=YSe,eCe=QSe;function tCe(e,t,r){return t===t?eCe(e,t,r):ZSe(e,JSe,r)}var rCe=tCe,nCe=rCe;function sCe(e,t){var r=e==null?0:e.length;return!!r&&nCe(e,t,0)>-1}var aCe=sCe;function iCe(e,t,r){for(var s=-1,a=e==null?0:e.length;++s<a;)if(r(t,e[s]))return!0;return!1}var oCe=iCe;function lCe(){}var cCe=lCe,IS=aq,dCe=cCe,uCe=pO,fCe=1/0,mCe=IS&&1/uCe(new IS([,-0]))[1]==fCe?function(e){return new IS(e)}:dCe,hCe=mCe,pCe=YH,xCe=aCe,gCe=oCe,vCe=QH,yCe=hCe,jCe=pO,bCe=200;function wCe(e,t,r){var s=-1,a=xCe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=gCe;else if(i>=bCe){var d=t?null:yCe(e);if(d)return jCe(d);o=!1,a=vCe,c=new pCe}else c=t?[]:l;e:for(;++s<i;){var u=e[s],f=t?t(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;t&&c.push(f),l.push(u)}else a(c,f,r)||(c!==l&&c.push(f),l.push(u))}return l}var NCe=wCe,_Ce=oc,SCe=NCe;function CCe(e,t){return e&&e.length?SCe(e,_Ce(t)):[]}var ACe=CCe;const CM=Ar(ACe);function uq(e,t,r){return t===!0?CM(e,r):Tt(t)?CM(e,t):e}function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}var ECe=["ref"];function AM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function mc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(r),!0).forEach(function(s){p2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function PCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EM(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,mq(s.key),s)}}function kCe(e,t,r){return t&&EM(e.prototype,t),r&&EM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TCe(e,t,r){return t=k1(t),OCe(e,fq()?Reflect.construct(t,r||[],k1(e).constructor):t.apply(e,r))}function OCe(e,t){if(t&&(ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DCe(e)}function DCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fq=function(){return!!e})()}function k1(e){return k1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k1(e)}function ICe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QA(e,t)}function QA(e,t){return QA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},QA(e,t)}function p2(e,t,r){return t=mq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mq(e){var t=RCe(e,"string");return ap(t)=="symbol"?t:t+""}function RCe(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ap(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MCe(e,t){if(e==null)return{};var r=FCe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function FCe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function $Ce(e){return e.value}function LCe(e,t){if(z.isValidElement(e))return z.cloneElement(e,t);if(typeof e=="function")return z.createElement(e,t);t.ref;var r=MCe(t,ECe);return z.createElement(hO,r)}var PM=1,nl=function(e){function t(){var r;PCe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=TCe(this,t,[].concat(a)),p2(r,"lastBoundingBox",{width:-1,height:-1}),r}return ICe(t,e),kCe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>PM||Math.abs(a.height-this.lastBoundingBox.height)>PM)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?mc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,f,m;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();f={left:((d||0)-h.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();m={top:((u||0)-x.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return mc(mc({},f),m)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,f=mc(mc({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return z.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){s.wrapperNode=h}},LCe(i,mc(mc({},this.props),{},{payload:uq(u,d,$Ce)})))}}],[{key:"getWithHeight",value:function(s,a){var i=mc(mc({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&Qe(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])}(v.PureComponent);p2(nl,"displayName","Legend");p2(nl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var kM=oy,BCe=xO,UCe=mi,TM=kM?kM.isConcatSpreadable:void 0;function VCe(e){return UCe(e)||BCe(e)||!!(TM&&e&&e[TM])}var zCe=VCe,WCe=JH,HCe=zCe;function hq(e,t,r,s,a){var i=-1,o=e.length;for(r||(r=HCe),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?hq(l,t-1,r,s,a):WCe(a,l):s||(a[a.length]=l)}return a}var pq=hq;function qCe(e){return function(t,r,s){for(var a=-1,i=Object(t),o=s(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var GCe=qCe,KCe=GCe,YCe=KCe(),XCe=YCe,QCe=XCe,ZCe=h2;function JCe(e,t){return e&&QCe(e,t,ZCe)}var xq=JCe,e4e=cy;function t4e(e,t){return function(r,s){if(r==null)return r;if(!e4e(r))return e(r,s);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&s(o[i],i,o)!==!1;);return r}}var r4e=t4e,n4e=xq,s4e=r4e,a4e=s4e(n4e),jO=a4e,i4e=jO,o4e=cy;function l4e(e,t){var r=-1,s=o4e(e)?Array(e.length):[];return i4e(e,function(a,i,o){s[++r]=t(a,i,o)}),s}var gq=l4e;function c4e(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var d4e=c4e,OM=Qp;function u4e(e,t){if(e!==t){var r=e!==void 0,s=e===null,a=e===e,i=OM(e),o=t!==void 0,l=t===null,c=t===t,d=OM(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||s&&o&&c||!r&&c||!a)return 1;if(!s&&!i&&!d&&e<t||d&&r&&a&&!s&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var f4e=u4e,m4e=f4e;function h4e(e,t,r){for(var s=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++s<o;){var c=m4e(a[s],i[s]);if(c){if(s>=l)return c;var d=r[s];return c*(d=="desc"?-1:1)}}return e.index-t.index}var p4e=h4e,RS=sO,x4e=aO,g4e=oc,v4e=gq,y4e=d4e,j4e=rq,b4e=p4e,w4e=ax,N4e=mi;function _4e(e,t,r){t.length?t=RS(t,function(i){return N4e(i)?function(o){return x4e(o,i.length===1?i[0]:i)}:i}):t=[w4e];var s=-1;t=RS(t,j4e(g4e));var a=v4e(e,function(i,o,l){var c=RS(t,function(d){return d(i)});return{criteria:c,index:++s,value:i}});return y4e(a,function(i,o){return b4e(i,o,r)})}var S4e=_4e;function C4e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var A4e=C4e,E4e=A4e,DM=Math.max;function P4e(e,t,r){return t=DM(t===void 0?e.length-1:t,0),function(){for(var s=arguments,a=-1,i=DM(s.length-t,0),o=Array(i);++a<i;)o[a]=s[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=s[a];return l[t]=r(o),E4e(e,this,l)}}var k4e=P4e;function T4e(e){return function(){return e}}var O4e=T4e,D4e=um,I4e=function(){try{var e=D4e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),vq=I4e,R4e=O4e,IM=vq,M4e=ax,F4e=IM?function(e,t){return IM(e,"toString",{configurable:!0,enumerable:!1,value:R4e(t),writable:!0})}:M4e,$4e=F4e,L4e=800,B4e=16,U4e=Date.now;function V4e(e){var t=0,r=0;return function(){var s=U4e(),a=B4e-(s-r);if(r=s,a>0){if(++t>=L4e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var z4e=V4e,W4e=$4e,H4e=z4e,q4e=H4e(W4e),G4e=q4e,K4e=ax,Y4e=k4e,X4e=G4e;function Q4e(e,t){return X4e(Y4e(e,t,K4e),e+"")}var Z4e=Q4e,J4e=eO,eAe=cy,tAe=gO,rAe=Tu;function nAe(e,t,r){if(!rAe(r))return!1;var s=typeof t;return(s=="number"?eAe(r)&&tAe(t,r.length):s=="string"&&t in r)?J4e(r[t],e):!1}var x2=nAe,sAe=pq,aAe=S4e,iAe=Z4e,RM=x2,oAe=iAe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&RM(e,t[0],t[1])?t=[]:r>2&&RM(t[0],t[1],t[2])&&(t=[t[0]]),aAe(e,sAe(t,1),[])}),lAe=oAe;const bO=Ar(lAe);function A0(e){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A0(e)}function ZA(){return ZA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ZA.apply(this,arguments)}function cAe(e,t){return mAe(e)||fAe(e,t)||uAe(e,t)||dAe()}function dAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uAe(e,t){if(e){if(typeof e=="string")return MM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MM(e,t)}}function MM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function fAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function mAe(e){if(Array.isArray(e))return e}function FM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function MS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FM(Object(r),!0).forEach(function(s){hAe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function hAe(e,t,r){return t=pAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pAe(e){var t=xAe(e,"string");return A0(t)=="symbol"?t:t+""}function xAe(e,t){if(A0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(A0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gAe(e){return Array.isArray(e)&&bs(e[0])&&bs(e[1])?e.join(" ~ "):e}var vAe=function(t){var r=t.separator,s=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,f=t.formatter,m=t.itemSorter,h=t.wrapperClassName,x=t.labelClassName,p=t.label,g=t.labelFormatter,j=t.accessibilityLayer,y=j===void 0?!1:j,w=function(){if(u&&u.length){var I={padding:0,margin:0},W=(m?bO(u,m):u).map(function(H,F){if(H.type==="none")return null;var T=MS({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),P=H.formatter||f||gAe,M=H.value,D=H.name,Y=M,ae=D;if(P&&Y!=null&&ae!=null){var R=P(M,D,H,F,u);if(Array.isArray(R)){var V=cAe(R,2);Y=V[0],ae=V[1]}else Y=R}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:T},bs(ae)?z.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,bs(ae)?z.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,z.createElement("span",{className:"recharts-tooltip-item-value"},Y),z.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:I},W)}return null},b=MS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=MS({margin:0},d),_=!$t(p),C=_?p:"",A=zt("recharts-default-tooltip",h),E=zt("recharts-tooltip-label",x);_&&g&&u!==void 0&&u!==null&&(C=g(p,u));var k=y?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",ZA({className:A,style:b},k),z.createElement("p",{className:E,style:N},z.isValidElement(C)?C:"".concat(C)),w())};function E0(e){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E0(e)}function pj(e,t,r){return t=yAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yAe(e){var t=jAe(e,"string");return E0(t)=="symbol"?t:t+""}function jAe(e,t){if(E0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(E0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zx="recharts-tooltip-wrapper",bAe={visibility:"hidden"};function wAe(e){var t=e.coordinate,r=e.translateX,s=e.translateY;return zt(zx,pj(pj(pj(pj({},"".concat(zx,"-right"),Qe(r)&&t&&Qe(t.x)&&r>=t.x),"".concat(zx,"-left"),Qe(r)&&t&&Qe(t.x)&&r<t.x),"".concat(zx,"-bottom"),Qe(s)&&t&&Qe(t.y)&&s>=t.y),"".concat(zx,"-top"),Qe(s)&&t&&Qe(t.y)&&s<t.y))}function $M(e){var t=e.allowEscapeViewBox,r=e.coordinate,s=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&Qe(i[s]))return i[s];var u=r[s]-l-a,f=r[s]+a;if(t[s])return o[s]?u:f;if(o[s]){var m=u,h=c[s];return m<h?Math.max(f,c[s]):Math.max(u,c[s])}var x=f+l,p=c[s]+d;return x>p?Math.max(u,c[s]):Math.max(f,c[s])}function NAe(e){var t=e.translateX,r=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function _Ae(e){var t=e.allowEscapeViewBox,r=e.coordinate,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,f;return o.height>0&&o.width>0&&r?(u=$M({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=$M({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=NAe({translateX:u,translateY:f,useTranslate3d:l})):d=bAe,{cssProperties:d,cssClasses:wAe({translateX:u,translateY:f,coordinate:r})}}function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function LM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function BM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(r),!0).forEach(function(s){eE(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function SAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CAe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,jq(s.key),s)}}function AAe(e,t,r){return t&&CAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EAe(e,t,r){return t=T1(t),PAe(e,yq()?Reflect.construct(t,r||[],T1(e).constructor):t.apply(e,r))}function PAe(e,t){if(t&&(ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kAe(e)}function kAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yq=function(){return!!e})()}function T1(e){return T1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T1(e)}function TAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JA(e,t)}function JA(e,t){return JA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},JA(e,t)}function eE(e,t,r){return t=jq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jq(e){var t=OAe(e,"string");return ip(t)=="symbol"?t:t+""}function OAe(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ip(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UM=1,DAe=function(e){function t(){var r;SAe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=EAe(this,t,[].concat(a)),eE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),eE(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return TAe(t,e),AAe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>UM||Math.abs(s.height-this.state.lastBoundingBox.height)>UM)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,h=a.offset,x=a.position,p=a.reverseDirection,g=a.useTranslate3d,j=a.viewBox,y=a.wrapperStyle,w=_Ae({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:h,position:x,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:j}),b=w.cssClasses,N=w.cssProperties,_=BM(BM({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return z.createElement("div",{tabIndex:-1,className:b,style:_,ref:function(A){s.wrapperNode=A}},d)}}])}(v.PureComponent),IAe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},sl={isSsr:IAe(),get:function(t){return sl[t]},set:function(t,r){if(typeof t=="string")sl[t]=r;else{var s=Object.keys(t);s&&s.length&&s.forEach(function(a){sl[a]=t[a]})}}};function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function VM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function zM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VM(Object(r),!0).forEach(function(s){wO(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function RAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MAe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,wq(s.key),s)}}function FAe(e,t,r){return t&&MAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ae(e,t,r){return t=O1(t),LAe(e,bq()?Reflect.construct(t,r||[],O1(e).constructor):t.apply(e,r))}function LAe(e,t){if(t&&(op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BAe(e)}function BAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bq=function(){return!!e})()}function O1(e){return O1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O1(e)}function UAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tE(e,t)}function tE(e,t){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},tE(e,t)}function wO(e,t,r){return t=wq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wq(e){var t=VAe(e,"string");return op(t)=="symbol"?t:t+""}function VAe(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(op(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zAe(e){return e.dataKey}function WAe(e,t){return z.isValidElement(e)?z.cloneElement(e,t):typeof e=="function"?z.createElement(e,t):z.createElement(vAe,t)}var fr=function(e){function t(){return RAe(this,t),$Ae(this,t,arguments)}return UAe(t,e),FAe(t,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,f=a.filterNull,m=a.isAnimationActive,h=a.offset,x=a.payload,p=a.payloadUniqBy,g=a.position,j=a.reverseDirection,y=a.useTranslate3d,w=a.viewBox,b=a.wrapperStyle,N=x??[];f&&N.length&&(N=uq(x.filter(function(C){return C.value!=null&&(C.hide!==!0||s.props.includeHidden)}),p,zAe));var _=N.length>0;return z.createElement(DAe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:u,hasPayload:_,offset:h,position:g,reverseDirection:j,useTranslate3d:y,viewBox:w,wrapperStyle:b},WAe(d,zM(zM({},this.props),{},{payload:N})))}}])}(v.PureComponent);wO(fr,"displayName","Tooltip");wO(fr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!sl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var HAe=ic,qAe=function(){return HAe.Date.now()},GAe=qAe,KAe=/\s/;function YAe(e){for(var t=e.length;t--&&KAe.test(e.charAt(t)););return t}var XAe=YAe,QAe=XAe,ZAe=/^\s+/;function JAe(e){return e&&e.slice(0,QAe(e)+1).replace(ZAe,"")}var eEe=JAe,tEe=eEe,WM=Tu,rEe=Qp,HM=NaN,nEe=/^[-+]0x[0-9a-f]+$/i,sEe=/^0b[01]+$/i,aEe=/^0o[0-7]+$/i,iEe=parseInt;function oEe(e){if(typeof e=="number")return e;if(rEe(e))return HM;if(WM(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=WM(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=tEe(e);var r=sEe.test(e);return r||aEe.test(e)?iEe(e.slice(2),r?2:8):nEe.test(e)?HM:+e}var Nq=oEe,lEe=Tu,FS=GAe,qM=Nq,cEe="Expected a function",dEe=Math.max,uEe=Math.min;function fEe(e,t,r){var s,a,i,o,l,c,d=0,u=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(cEe);t=qM(t)||0,lEe(r)&&(u=!!r.leading,f="maxWait"in r,i=f?dEe(qM(r.maxWait)||0,t):i,m="trailing"in r?!!r.trailing:m);function h(_){var C=s,A=a;return s=a=void 0,d=_,o=e.apply(A,C),o}function x(_){return d=_,l=setTimeout(j,t),u?h(_):o}function p(_){var C=_-c,A=_-d,E=t-C;return f?uEe(E,i-A):E}function g(_){var C=_-c,A=_-d;return c===void 0||C>=t||C<0||f&&A>=i}function j(){var _=FS();if(g(_))return y(_);l=setTimeout(j,p(_))}function y(_){return l=void 0,m&&s?h(_):(s=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),d=0,s=c=a=l=void 0}function b(){return l===void 0?o:y(FS())}function N(){var _=FS(),C=g(_);if(s=arguments,a=this,c=_,C){if(l===void 0)return x(c);if(f)return clearTimeout(l),l=setTimeout(j,t),h(c)}return l===void 0&&(l=setTimeout(j,t)),o}return N.cancel=w,N.flush=b,N}var mEe=fEe,hEe=mEe,pEe=Tu,xEe="Expected a function";function gEe(e,t,r){var s=!0,a=!0;if(typeof e!="function")throw new TypeError(xEe);return pEe(r)&&(s="leading"in r?!!r.leading:s,a="trailing"in r?!!r.trailing:a),hEe(e,t,{leading:s,maxWait:t,trailing:a})}var vEe=gEe;const _q=Ar(vEe);function P0(e){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P0(e)}function GM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function xj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GM(Object(r),!0).forEach(function(s){yEe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function yEe(e,t,r){return t=jEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jEe(e){var t=bEe(e,"string");return P0(t)=="symbol"?t:t+""}function bEe(e,t){if(P0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(P0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wEe(e,t){return CEe(e)||SEe(e,t)||_Ee(e,t)||NEe()}function NEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ee(e,t){if(e){if(typeof e=="string")return KM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KM(e,t)}}function KM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function SEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function CEe(e){if(Array.isArray(e))return e}var fn=v.forwardRef(function(e,t){var r=e.aspect,s=e.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,f=e.minHeight,m=e.maxHeight,h=e.children,x=e.debounce,p=x===void 0?0:x,g=e.id,j=e.className,y=e.onResize,w=e.style,b=w===void 0?{}:w,N=v.useRef(null),_=v.useRef();_.current=y,v.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var C=v.useState({containerWidth:a.width,containerHeight:a.height}),A=wEe(C,2),E=A[0],k=A[1],O=v.useCallback(function(W,H){k(function(F){var T=Math.round(W),P=Math.round(H);return F.containerWidth===T&&F.containerHeight===P?F:{containerWidth:T,containerHeight:P}})},[]);v.useEffect(function(){var W=function(D){var Y,ae=D[0].contentRect,R=ae.width,V=ae.height;O(R,V),(Y=_.current)===null||Y===void 0||Y.call(_,R,V)};p>0&&(W=_q(W,p,{trailing:!0,leading:!1}));var H=new ResizeObserver(W),F=N.current.getBoundingClientRect(),T=F.width,P=F.height;return O(T,P),H.observe(N.current),function(){H.disconnect()}},[O,p]);var I=v.useMemo(function(){var W=E.containerWidth,H=E.containerHeight;if(W<0||H<0)return null;rl(df(o)||df(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),rl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=df(o)?W:o,T=df(c)?H:c;r&&r>0&&(F?T=F/r:T&&(F=T*r),m&&T>m&&(T=m)),rl(F>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,T,o,c,u,f,r);var P=!Array.isArray(h)&&Rc(h.type).endsWith("Chart");return z.Children.map(h,function(M){return yH.isElement(M)?v.cloneElement(M,xj({width:F,height:T},P?{style:xj({height:"100%",width:"100%",maxHeight:T,maxWidth:F},M.props.style)}:{})):M})},[r,h,c,m,f,u,E,o]);return z.createElement("div",{id:g?"".concat(g):void 0,className:zt("recharts-responsive-container",j),style:xj(xj({},b),{},{width:o,height:c,minWidth:u,minHeight:f,maxHeight:m}),ref:N},I)}),ba=function(t){return null};ba.displayName="Cell";function k0(e){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k0(e)}function YM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function rE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(r),!0).forEach(function(s){AEe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function AEe(e,t,r){return t=EEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EEe(e){var t=PEe(e,"string");return k0(t)=="symbol"?t:t+""}function PEe(e,t){if(k0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(k0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var km={widthCache:{},cacheCount:0},kEe=2e3,TEe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XM="recharts_measurement_span";function OEe(e){var t=rE({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Pg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||sl.isSsr)return{width:0,height:0};var s=OEe(r),a=JSON.stringify({text:t,copyStyle:s});if(km.widthCache[a])return km.widthCache[a];try{var i=document.getElementById(XM);i||(i=document.createElement("span"),i.setAttribute("id",XM),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=rE(rE({},TEe),s);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return km.widthCache[a]=c,++km.cacheCount>kEe&&(km.cacheCount=0,km.widthCache={}),c}catch{return{width:0,height:0}}},DEe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function T0(e){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T0(e)}function D1(e,t){return FEe(e)||MEe(e,t)||REe(e,t)||IEe()}function IEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function REe(e,t){if(e){if(typeof e=="string")return QM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QM(e,t)}}function QM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function MEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function FEe(e){if(Array.isArray(e))return e}function $Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZM(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,BEe(s.key),s)}}function LEe(e,t,r){return t&&ZM(e.prototype,t),r&&ZM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BEe(e){var t=UEe(e,"string");return T0(t)=="symbol"?t:t+""}function UEe(e,t){if(T0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(T0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VEe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zEe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Sq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},WEe=Object.keys(Sq),Jm="NaN";function HEe(e,t){return e*Sq[t]}var gj=function(){function e(t,r){$Ee(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!VEe.test(r)&&(this.num=NaN,this.unit=""),WEe.includes(r)&&(this.num=HEe(t,r),this.unit="px")}return LEe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var s,a=(s=zEe.exec(r))!==null&&s!==void 0?s:[],i=D1(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function Cq(e){if(e.includes(Jm))return Jm;for(var t=e;t.includes("*")||t.includes("/");){var r,s=(r=JM.exec(t))!==null&&r!==void 0?r:[],a=D1(s,4),i=a[1],o=a[2],l=a[3],c=gj.parse(i??""),d=gj.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Jm;t=t.replace(JM,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,m=(f=eF.exec(t))!==null&&f!==void 0?f:[],h=D1(m,4),x=h[1],p=h[2],g=h[3],j=gj.parse(x??""),y=gj.parse(g??""),w=p==="+"?j.add(y):j.subtract(y);if(w.isNaN())return Jm;t=t.replace(eF,w.toString())}return t}var tF=/\(([^()]*)\)/;function qEe(e){for(var t=e;t.includes("(");){var r=tF.exec(t),s=D1(r,2),a=s[1];t=t.replace(tF,Cq(a))}return t}function GEe(e){var t=e.replace(/\s+/g,"");return t=qEe(t),t=Cq(t),t}function KEe(e){try{return GEe(e)}catch{return Jm}}function $S(e){var t=KEe(e.slice(5,-1));return t===Jm?"":t}var YEe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],XEe=["dx","dy","angle","className","breakAll"];function nE(){return nE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},nE.apply(this,arguments)}function rF(e,t){if(e==null)return{};var r=QEe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function QEe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function nF(e,t){return tPe(e)||ePe(e,t)||JEe(e,t)||ZEe()}function ZEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JEe(e,t){if(e){if(typeof e=="string")return sF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sF(e,t)}}function sF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function ePe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function tPe(e){if(Array.isArray(e))return e}var Aq=/[ \f\n\r\t\v\u2028\u2029]+/,Eq=function(t){var r=t.children,s=t.breakAll,a=t.style;try{var i=[];$t(r)||(s?i=r.toString().split(""):i=r.toString().split(Aq));var o=i.map(function(c){return{word:c,width:Pg(c,a).width}}),l=s?0:Pg("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},rPe=function(t,r,s,a,i){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=Qe(o),f=l,m=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(T,P){var M=P.word,D=P.width,Y=T[T.length-1];if(Y&&(a==null||i||Y.width+D+s<Number(a)))Y.words.push(M),Y.width+=D+s;else{var ae={words:[M],width:D};T.push(ae)}return T},[])},h=m(r),x=function(F){return F.reduce(function(T,P){return T.width>P.width?T:P})};if(!u)return h;for(var p="",g=function(F){var T=f.slice(0,F),P=Eq({breakAll:d,style:c,children:T+p}).wordsWithComputedWidth,M=m(P),D=M.length>o||x(M).width>Number(a);return[D,M]},j=0,y=f.length-1,w=0,b;j<=y&&w<=f.length-1;){var N=Math.floor((j+y)/2),_=N-1,C=g(_),A=nF(C,2),E=A[0],k=A[1],O=g(N),I=nF(O,1),W=I[0];if(!E&&!W&&(j=N+1),E&&W&&(y=N-1),!E&&W){b=k;break}w++}return b||h},aF=function(t){var r=$t(t)?[]:t.toString().split(Aq);return[{words:r}]},nPe=function(t){var r=t.width,s=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||s)&&!sl.isSsr){var c,d,u=Eq({breakAll:o,children:a,style:i});if(u){var f=u.wordsWithComputedWidth,m=u.spaceWidth;c=f,d=m}else return aF(a);return rPe({breakAll:o,children:a,maxLines:l,style:i},c,d,r,s)}return aF(a)},iF="#808080",Yf=function(t){var r=t.x,s=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,f=u===void 0?!1:u,m=t.textAnchor,h=m===void 0?"start":m,x=t.verticalAnchor,p=x===void 0?"end":x,g=t.fill,j=g===void 0?iF:g,y=rF(t,YEe),w=v.useMemo(function(){return nPe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),b=y.dx,N=y.dy,_=y.angle,C=y.className,A=y.breakAll,E=rF(y,XEe);if(!bs(s)||!bs(i))return null;var k=s+(Qe(b)?b:0),O=i+(Qe(N)?N:0),I;switch(p){case"start":I=$S("calc(".concat(d,")"));break;case"middle":I=$S("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:I=$S("calc(".concat(w.length-1," * -").concat(l,")"));break}var W=[];if(f){var H=w[0].width,F=y.width;W.push("scale(".concat((Qe(F)?F/H:1)/H,")"))}return _&&W.push("rotate(".concat(_,", ").concat(k,", ").concat(O,")")),W.length&&(E.transform=W.join(" ")),z.createElement("text",nE({},bt(E,!0),{x:k,y:O,className:zt("recharts-text",C),textAnchor:h,fill:j.includes("url")?iF:j}),w.map(function(T,P){var M=T.words.join(A?"":" ");return z.createElement("tspan",{x:k,dy:P===0?I:l,key:"".concat(M,"-").concat(P)},M)}))};function iu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sPe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function NO(e){let t,r,s;e.length!==2?(t=iu,r=(l,c)=>iu(e(l),c),s=(l,c)=>e(l)-c):(t=e===iu||e===sPe?e:aPe,r=e,s=e);function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function o(l,c,d=0,u=l.length){const f=a(l,c,d,u-1);return f>d&&s(l[f-1],c)>-s(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function aPe(){return 0}function Pq(e){return e===null?NaN:+e}function*iPe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const oPe=NO(iu),dy=oPe.right;NO(Pq).center;class oF extends Map{constructor(t,r=dPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[s,a]of t)this.set(s,a)}get(t){return super.get(lF(this,t))}has(t){return super.has(lF(this,t))}set(t,r){return super.set(lPe(this,t),r)}delete(t){return super.delete(cPe(this,t))}}function lF({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):r}function lPe({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):(e.set(s,r),r)}function cPe({_intern:e,_key:t},r){const s=t(r);return e.has(s)&&(r=e.get(s),e.delete(s)),r}function dPe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function uPe(e=iu){if(e===iu)return kq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const s=e(t,r);return s||s===0?s:(e(r,r)===0)-(e(t,t)===0)}}function kq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const fPe=Math.sqrt(50),mPe=Math.sqrt(10),hPe=Math.sqrt(2);function I1(e,t,r){const s=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=fPe?10:i>=mPe?5:i>=hPe?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?I1(e,t,r*2):[l,c,d]}function sE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const s=t<e,[a,i,o]=s?I1(t,e,r):I1(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(s)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function aE(e,t,r){return t=+t,e=+e,r=+r,I1(e,t,r)[2]}function iE(e,t,r){t=+t,e=+e,r=+r;const s=t<e,a=s?aE(t,e,r):aE(e,t,r);return(s?-1:1)*(a<0?1/-a:a)}function cF(e,t){let r;for(const s of e)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);return r}function dF(e,t){let r;for(const s of e)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);return r}function Tq(e,t,r=0,s=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(e.length-1,s)),!(r<=t&&t<=s))return e;for(a=a===void 0?kq:uPe(a);s>r;){if(s-r>600){const c=s-r+1,d=t-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),m=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),h=Math.max(r,Math.floor(t-d*f/c+m)),x=Math.min(s,Math.floor(t+(c-d)*f/c+m));Tq(e,t,h,x,a)}const i=e[t];let o=r,l=s;for(Wx(e,r,t),a(e[s],i)>0&&Wx(e,r,s);o<l;){for(Wx(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Wx(e,r,l):(++l,Wx(e,l,s)),l<=t&&(r=l+1),t<=l&&(s=l-1)}return e}function Wx(e,t,r){const s=e[t];e[t]=e[r],e[r]=s}function pPe(e,t,r){if(e=Float64Array.from(iPe(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return dF(e);if(t>=1)return cF(e);var s,a=(s-1)*t,i=Math.floor(a),o=cF(Tq(e,i).subarray(0,i+1)),l=dF(e.subarray(i+1));return o+(l-o)*(a-i)}}function xPe(e,t,r=Pq){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+r(e[0],0,e);if(t>=1)return+r(e[s-1],s-1,e);var s,a=(s-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function gPe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++s<a;)i[s]=e+s*r;return i}function Po(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function dd(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const oE=Symbol("implicit");function _O(){var e=new oF,t=[],r=[],s=oE;function a(i){let o=e.get(i);if(o===void 0){if(s!==oE)return s;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new oF;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return _O(t,r).unknown(s)},Po.apply(a,arguments),a}function O0(){var e=_O().unknown(void 0),t=e.domain,r=e.range,s=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var m=t().length,h=a<s,x=h?a:s,p=h?s:a;i=(p-x)/Math.max(1,m-c+d*2),l&&(i=Math.floor(i)),x+=(p-x-i*(m-c))*u,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var g=gPe(m).map(function(j){return x+i*j});return r(h?g.reverse():g)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([s,a]=m,s=+s,a=+a,f()):[s,a]},e.rangeRound=function(m){return[s,a]=m,s=+s,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(d=+m,f()):d},e.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),f()):u},e.copy=function(){return O0(t(),[s,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},Po.apply(f(),arguments)}function Oq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Oq(t())},e}function kg(){return Oq(O0.apply(null,arguments).paddingInner(1))}function SO(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Dq(e,t){var r=Object.create(e.prototype);for(var s in t)r[s]=t[s];return r}function uy(){}var D0=.7,R1=1/D0,yh="\\s*([+-]?\\d+)\\s*",I0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ql="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vPe=/^#([0-9a-f]{3,8})$/,yPe=new RegExp(`^rgb\\(${yh},${yh},${yh}\\)$`),jPe=new RegExp(`^rgb\\(${ql},${ql},${ql}\\)$`),bPe=new RegExp(`^rgba\\(${yh},${yh},${yh},${I0}\\)$`),wPe=new RegExp(`^rgba\\(${ql},${ql},${ql},${I0}\\)$`),NPe=new RegExp(`^hsl\\(${I0},${ql},${ql}\\)$`),_Pe=new RegExp(`^hsla\\(${I0},${ql},${ql},${I0}\\)$`),uF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};SO(uy,R0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:fF,formatHex:fF,formatHex8:SPe,formatHsl:CPe,formatRgb:mF,toString:mF});function fF(){return this.rgb().formatHex()}function SPe(){return this.rgb().formatHex8()}function CPe(){return Iq(this).formatHsl()}function mF(){return this.rgb().formatRgb()}function R0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=vPe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?hF(t):r===3?new Qa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?vj(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?vj(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=yPe.exec(e))?new Qa(t[1],t[2],t[3],1):(t=jPe.exec(e))?new Qa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=bPe.exec(e))?vj(t[1],t[2],t[3],t[4]):(t=wPe.exec(e))?vj(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=NPe.exec(e))?gF(t[1],t[2]/100,t[3]/100,1):(t=_Pe.exec(e))?gF(t[1],t[2]/100,t[3]/100,t[4]):uF.hasOwnProperty(e)?hF(uF[e]):e==="transparent"?new Qa(NaN,NaN,NaN,0):null}function hF(e){return new Qa(e>>16&255,e>>8&255,e&255,1)}function vj(e,t,r,s){return s<=0&&(e=t=r=NaN),new Qa(e,t,r,s)}function APe(e){return e instanceof uy||(e=R0(e)),e?(e=e.rgb(),new Qa(e.r,e.g,e.b,e.opacity)):new Qa}function lE(e,t,r,s){return arguments.length===1?APe(e):new Qa(e,t,r,s??1)}function Qa(e,t,r,s){this.r=+e,this.g=+t,this.b=+r,this.opacity=+s}SO(Qa,lE,Dq(uy,{brighter(e){return e=e==null?R1:Math.pow(R1,e),new Qa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?D0:Math.pow(D0,e),new Qa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qa(Af(this.r),Af(this.g),Af(this.b),M1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pF,formatHex:pF,formatHex8:EPe,formatRgb:xF,toString:xF}));function pF(){return`#${uf(this.r)}${uf(this.g)}${uf(this.b)}`}function EPe(){return`#${uf(this.r)}${uf(this.g)}${uf(this.b)}${uf((isNaN(this.opacity)?1:this.opacity)*255)}`}function xF(){const e=M1(this.opacity);return`${e===1?"rgb(":"rgba("}${Af(this.r)}, ${Af(this.g)}, ${Af(this.b)}${e===1?")":`, ${e})`}`}function M1(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Af(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function uf(e){return e=Af(e),(e<16?"0":"")+e.toString(16)}function gF(e,t,r,s){return s<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Go(e,t,r,s)}function Iq(e){if(e instanceof Go)return new Go(e.h,e.s,e.l,e.opacity);if(e instanceof uy||(e=R0(e)),!e)return new Go;if(e instanceof Go)return e;e=e.rgb();var t=e.r/255,r=e.g/255,s=e.b/255,a=Math.min(t,r,s),i=Math.max(t,r,s),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-s)/l+(r<s)*6:r===i?o=(s-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Go(o,l,c,e.opacity)}function PPe(e,t,r,s){return arguments.length===1?Iq(e):new Go(e,t,r,s??1)}function Go(e,t,r,s){this.h=+e,this.s=+t,this.l=+r,this.opacity=+s}SO(Go,PPe,Dq(uy,{brighter(e){return e=e==null?R1:Math.pow(R1,e),new Go(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?D0:Math.pow(D0,e),new Go(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*t,a=2*r-s;return new Qa(LS(e>=240?e-240:e+120,a,s),LS(e,a,s),LS(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new Go(vF(this.h),yj(this.s),yj(this.l),M1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=M1(this.opacity);return`${e===1?"hsl(":"hsla("}${vF(this.h)}, ${yj(this.s)*100}%, ${yj(this.l)*100}%${e===1?")":`, ${e})`}`}}));function vF(e){return e=(e||0)%360,e<0?e+360:e}function yj(e){return Math.max(0,Math.min(1,e||0))}function LS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const CO=e=>()=>e;function kPe(e,t){return function(r){return e+r*t}}function TPe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(s){return Math.pow(e+s*t,r)}}function OPe(e){return(e=+e)==1?Rq:function(t,r){return r-t?TPe(t,r,e):CO(isNaN(t)?r:t)}}function Rq(e,t){var r=t-e;return r?kPe(e,r):CO(isNaN(e)?t:e)}const yF=function e(t){var r=OPe(t);function s(a,i){var o=r((a=lE(a)).r,(i=lE(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=Rq(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return s.gamma=e,s}(1);function DPe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(i){for(a=0;a<r;++a)s[a]=e[a]*(1-i)+t[a]*i;return s}}function IPe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function RPe(e,t){var r=t?t.length:0,s=e?Math.min(r,e.length):0,a=new Array(s),i=new Array(r),o;for(o=0;o<s;++o)a[o]=ix(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function MPe(e,t){var r=new Date;return e=+e,t=+t,function(s){return r.setTime(e*(1-s)+t*s),r}}function F1(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function FPe(e,t){var r={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ix(e[a],t[a]):s[a]=t[a];return function(i){for(a in r)s[a]=r[a](i);return s}}var cE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,BS=new RegExp(cE.source,"g");function $Pe(e){return function(){return e}}function LPe(e){return function(t){return e(t)+""}}function BPe(e,t){var r=cE.lastIndex=BS.lastIndex=0,s,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=cE.exec(e))&&(a=BS.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:F1(s,a)})),r=BS.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?LPe(c[0].x):$Pe(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function ix(e,t){var r=typeof t,s;return t==null||r==="boolean"?CO(t):(r==="number"?F1:r==="string"?(s=R0(t))?(t=s,yF):BPe:t instanceof R0?yF:t instanceof Date?MPe:IPe(t)?DPe:Array.isArray(t)?RPe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?FPe:F1)(e,t)}function AO(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function UPe(e,t){t===void 0&&(t=e,e=ix);for(var r=0,s=t.length-1,a=t[0],i=new Array(s<0?0:s);r<s;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function VPe(e){return function(){return e}}function $1(e){return+e}var jF=[0,1];function Pa(e){return e}function dE(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:VPe(isNaN(t)?NaN:.5)}function zPe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(s){return Math.max(e,Math.min(t,s))}}function WPe(e,t,r){var s=e[0],a=e[1],i=t[0],o=t[1];return a<s?(s=dE(a,s),i=r(o,i)):(s=dE(s,a),i=r(i,o)),function(l){return i(s(l))}}function HPe(e,t,r){var s=Math.min(e.length,t.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)a[o]=dE(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=dy(e,l,1,s)-1;return i[c](a[c](l))}}function fy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function g2(){var e=jF,t=jF,r=ix,s,a,i,o=Pa,l,c,d;function u(){var m=Math.min(e.length,t.length);return o!==Pa&&(o=zPe(e[0],e[m-1])),l=m>2?HPe:WPe,c=d=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(s),t,r)))(s(o(m)))}return f.invert=function(m){return o(a((d||(d=l(t,e.map(s),F1)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,$1),u()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),u()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=AO,u()},f.clamp=function(m){return arguments.length?(o=m?!0:Pa,u()):o!==Pa},f.interpolate=function(m){return arguments.length?(r=m,u()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,h){return s=m,a=h,u()}}function EO(){return g2()(Pa,Pa)}function qPe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function L1(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,s=e.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+e.slice(r+1)]}function lp(e){return e=L1(Math.abs(e)),e?e[1]:NaN}function GPe(e,t){return function(r,s){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function KPe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var YPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function M0(e){if(!(t=YPe.exec(e)))throw new Error("invalid format: "+e);var t;return new PO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}M0.prototype=PO.prototype;function PO(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}PO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XPe(e){e:for(var t=e.length,r=1,s=-1,a;r<t;++r)switch(e[r]){case".":s=a=r;break;case"0":s===0&&(s=r),a=r;break;default:if(!+e[r])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var Mq;function QPe(e,t){var r=L1(e,t);if(!r)return e+"";var s=r[0],a=r[1],i=a-(Mq=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+L1(e,Math.max(0,t+i-1))[0]}function bF(e,t){var r=L1(e,t);if(!r)return e+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const wF={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:qPe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>bF(e*100,t),r:bF,s:QPe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function NF(e){return e}var _F=Array.prototype.map,SF=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ZPe(e){var t=e.grouping===void 0||e.thousands===void 0?NF:GPe(_F.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?NF:KPe(_F.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=M0(f);var m=f.fill,h=f.align,x=f.sign,p=f.symbol,g=f.zero,j=f.width,y=f.comma,w=f.precision,b=f.trim,N=f.type;N==="n"?(y=!0,N="g"):wF[N]||(w===void 0&&(w=12),b=!0,N="g"),(g||m==="0"&&h==="=")&&(g=!0,m="0",h="=");var _=p==="$"?r:p==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",C=p==="$"?s:/[%p]/.test(N)?o:"",A=wF[N],E=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function k(O){var I=_,W=C,H,F,T;if(N==="c")W=A(O)+W,O="";else{O=+O;var P=O<0||1/O<0;if(O=isNaN(O)?c:A(Math.abs(O),w),b&&(O=XPe(O)),P&&+O==0&&x!=="+"&&(P=!1),I=(P?x==="("?x:l:x==="-"||x==="("?"":x)+I,W=(N==="s"?SF[8+Mq/3]:"")+W+(P&&x==="("?")":""),E){for(H=-1,F=O.length;++H<F;)if(T=O.charCodeAt(H),48>T||T>57){W=(T===46?a+O.slice(H+1):O.slice(H))+W,O=O.slice(0,H);break}}}y&&!g&&(O=t(O,1/0));var M=I.length+O.length+W.length,D=M<j?new Array(j-M+1).join(m):"";switch(y&&g&&(O=t(D+O,D.length?j-W.length:1/0),D=""),h){case"<":O=I+O+W+D;break;case"=":O=I+D+O+W;break;case"^":O=D.slice(0,M=D.length>>1)+I+O+W+D.slice(M);break;default:O=D+I+O+W;break}return i(O)}return k.toString=function(){return f+""},k}function u(f,m){var h=d((f=M0(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(lp(m)/3)))*3,p=Math.pow(10,-x),g=SF[8+x/3];return function(j){return h(p*j)+g}}return{format:d,formatPrefix:u}}var jj,kO,Fq;JPe({thousands:",",grouping:[3],currency:["$",""]});function JPe(e){return jj=ZPe(e),kO=jj.format,Fq=jj.formatPrefix,jj}function eke(e){return Math.max(0,-lp(Math.abs(e)))}function tke(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lp(t)/3)))*3-lp(Math.abs(e)))}function rke(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,lp(t)-lp(e))+1}function $q(e,t,r,s){var a=iE(e,t,r),i;switch(s=M0(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=tke(a,o))&&(s.precision=i),Fq(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=rke(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=eke(a))&&(s.precision=i-(s.type==="%")*2);break}}return kO(s)}function Ou(e){var t=e.domain;return e.ticks=function(r){var s=t();return sE(s[0],s[s.length-1],r??10)},e.tickFormat=function(r,s){var a=t();return $q(a[0],a[a.length-1],r??10,s)},e.nice=function(r){r==null&&(r=10);var s=t(),a=0,i=s.length-1,o=s[a],l=s[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=aE(o,l,r),d===c)return s[a]=o,s[i]=l,t(s);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function B1(){var e=EO();return e.copy=function(){return fy(e,B1())},Po.apply(e,arguments),Ou(e)}function Lq(e){var t;function r(s){return s==null||isNaN(s=+s)?t:s}return r.invert=r,r.domain=r.range=function(s){return arguments.length?(e=Array.from(s,$1),r):e.slice()},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return Lq(e).unknown(t)},e=arguments.length?Array.from(e,$1):[0,1],Ou(r)}function Bq(e,t){e=e.slice();var r=0,s=e.length-1,a=e[r],i=e[s],o;return i<a&&(o=r,r=s,s=o,o=a,a=i,i=o),e[r]=t.floor(a),e[s]=t.ceil(i),e}function CF(e){return Math.log(e)}function AF(e){return Math.exp(e)}function nke(e){return-Math.log(-e)}function ske(e){return-Math.exp(-e)}function ake(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ike(e){return e===10?ake:e===Math.E?Math.exp:t=>Math.pow(e,t)}function oke(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function EF(e){return(t,r)=>-e(-t,r)}function TO(e){const t=e(CF,AF),r=t.domain;let s=10,a,i;function o(){return a=oke(s),i=ike(s),r()[0]<0?(a=EF(a),i=EF(i),e(nke,ske)):e(CF,AF),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let m=a(d),h=a(u),x,p;const g=l==null?10:+l;let j=[];if(!(s%1)&&h-m<g){if(m=Math.floor(m),h=Math.ceil(h),d>0){for(;m<=h;++m)for(x=1;x<s;++x)if(p=m<0?x/i(-m):x*i(m),!(p<d)){if(p>u)break;j.push(p)}}else for(;m<=h;++m)for(x=s-1;x>=1;--x)if(p=m>0?x/i(-m):x*i(m),!(p<d)){if(p>u)break;j.push(p)}j.length*2<g&&(j=sE(d,u,g))}else j=sE(m,h,Math.min(h-m,g)).map(i);return f?j.reverse():j},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=M0(c)).precision==null&&(c.trim=!0),c=kO(c)),l===1/0)return c;const d=Math.max(1,s*l/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*s<s-.5&&(f*=s),f<=d?c(u):""}},t.nice=()=>r(Bq(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function Uq(){const e=TO(g2()).domain([1,10]);return e.copy=()=>fy(e,Uq()).base(e.base()),Po.apply(e,arguments),e}function PF(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function kF(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function OO(e){var t=1,r=e(PF(t),kF(t));return r.constant=function(s){return arguments.length?e(PF(t=+s),kF(t)):t},Ou(r)}function Vq(){var e=OO(g2());return e.copy=function(){return fy(e,Vq()).constant(e.constant())},Po.apply(e,arguments)}function TF(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function lke(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function cke(e){return e<0?-e*e:e*e}function DO(e){var t=e(Pa,Pa),r=1;function s(){return r===1?e(Pa,Pa):r===.5?e(lke,cke):e(TF(r),TF(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,s()):r},Ou(t)}function IO(){var e=DO(g2());return e.copy=function(){return fy(e,IO()).exponent(e.exponent())},Po.apply(e,arguments),e}function dke(){return IO.apply(null,arguments).exponent(.5)}function OF(e){return Math.sign(e)*e*e}function uke(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function zq(){var e=EO(),t=[0,1],r=!1,s;function a(i){var o=uke(e(i));return isNaN(o)?s:r?Math.round(o):o}return a.invert=function(i){return e.invert(OF(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,$1)).map(OF)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return zq(e.domain(),t).round(r).clamp(e.clamp()).unknown(s)},Po.apply(a,arguments),Ou(a)}function Wq(){var e=[],t=[],r=[],s;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=xPe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:t[dy(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(iu),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return r.slice()},i.copy=function(){return Wq().domain(e).range(t).unknown(s)},Po.apply(i,arguments)}function Hq(){var e=0,t=1,r=1,s=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[dy(s,c,0,r)]:i}function l(){var c=-1;for(s=new Array(r);++c<r;)s[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,s[0]]:d>=r?[s[r-1],t]:[s[d-1],s[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return Hq().domain([e,t]).range(a).unknown(i)},Po.apply(Ou(o),arguments)}function qq(){var e=[.5],t=[0,1],r,s=1;function a(i){return i!=null&&i<=i?t[dy(e,i,0,s)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return qq().domain(e).range(t).unknown(r)},Po.apply(a,arguments)}const US=new Date,VS=new Date;function Ns(e,t,r,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},a.filter=i=>Ns(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(US.setTime(+i),VS.setTime(+o),e(US),e(VS),Math.floor(r(US,VS))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const U1=Ns(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);U1.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ns(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):U1);U1.range;const Pc=1e3,ho=Pc*60,kc=ho*60,Jc=kc*24,RO=Jc*7,DF=Jc*30,zS=Jc*365,ff=Ns(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Pc)},(e,t)=>(t-e)/Pc,e=>e.getUTCSeconds());ff.range;const MO=Ns(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pc)},(e,t)=>{e.setTime(+e+t*ho)},(e,t)=>(t-e)/ho,e=>e.getMinutes());MO.range;const FO=Ns(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ho)},(e,t)=>(t-e)/ho,e=>e.getUTCMinutes());FO.range;const $O=Ns(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pc-e.getMinutes()*ho)},(e,t)=>{e.setTime(+e+t*kc)},(e,t)=>(t-e)/kc,e=>e.getHours());$O.range;const LO=Ns(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*kc)},(e,t)=>(t-e)/kc,e=>e.getUTCHours());LO.range;const my=Ns(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ho)/Jc,e=>e.getDate()-1);my.range;const v2=Ns(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jc,e=>e.getUTCDate()-1);v2.range;const Gq=Ns(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jc,e=>Math.floor(e/Jc));Gq.range;function mm(e){return Ns(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ho)/RO)}const y2=mm(0),V1=mm(1),fke=mm(2),mke=mm(3),cp=mm(4),hke=mm(5),pke=mm(6);y2.range;V1.range;fke.range;mke.range;cp.range;hke.range;pke.range;function hm(e){return Ns(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/RO)}const j2=hm(0),z1=hm(1),xke=hm(2),gke=hm(3),dp=hm(4),vke=hm(5),yke=hm(6);j2.range;z1.range;xke.range;gke.range;dp.range;vke.range;yke.range;const BO=Ns(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());BO.range;const UO=Ns(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());UO.range;const ed=Ns(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ed.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ns(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ed.range;const td=Ns(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());td.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ns(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});td.range;function Kq(e,t,r,s,a,i){const o=[[ff,1,Pc],[ff,5,5*Pc],[ff,15,15*Pc],[ff,30,30*Pc],[i,1,ho],[i,5,5*ho],[i,15,15*ho],[i,30,30*ho],[a,1,kc],[a,3,3*kc],[a,6,6*kc],[a,12,12*kc],[s,1,Jc],[s,2,2*Jc],[r,1,RO],[t,1,DF],[t,3,3*DF],[e,1,zS]];function l(d,u,f){const m=u<d;m&&([d,u]=[u,d]);const h=f&&typeof f.range=="function"?f:c(d,u,f),x=h?h.range(d,+u+1):[];return m?x.reverse():x}function c(d,u,f){const m=Math.abs(u-d)/f,h=NO(([,,g])=>g).right(o,m);if(h===o.length)return e.every(iE(d/zS,u/zS,f));if(h===0)return U1.every(Math.max(iE(d,u,f),1));const[x,p]=o[m/o[h-1][2]<o[h][2]/m?h-1:h];return x.every(p)}return[l,c]}const[jke,bke]=Kq(td,UO,j2,Gq,LO,FO),[wke,Nke]=Kq(ed,BO,y2,my,$O,MO);function WS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function HS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Hx(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function _ke(e){var t=e.dateTime,r=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=qx(a),u=Gx(a),f=qx(i),m=Gx(i),h=qx(o),x=Gx(o),p=qx(l),g=Gx(l),j=qx(c),y=Gx(c),w={a:P,A:M,b:D,B:Y,c:null,d:LF,e:LF,f:Gke,g:nTe,G:aTe,H:Wke,I:Hke,j:qke,L:Yq,m:Kke,M:Yke,p:ae,q:R,Q:VF,s:zF,S:Xke,u:Qke,U:Zke,V:Jke,w:eTe,W:tTe,x:null,X:null,y:rTe,Y:sTe,Z:iTe,"%":UF},b={a:V,A:L,b:K,B:le,c:null,d:BF,e:BF,f:dTe,g:jTe,G:wTe,H:oTe,I:lTe,j:cTe,L:Qq,m:uTe,M:fTe,p:me,q:B,Q:VF,s:zF,S:mTe,u:hTe,U:pTe,V:xTe,w:gTe,W:vTe,x:null,X:null,y:yTe,Y:bTe,Z:NTe,"%":UF},N={a:k,A:O,b:I,B:W,c:H,d:FF,e:FF,f:Bke,g:MF,G:RF,H:$F,I:$F,j:Mke,L:Lke,m:Rke,M:Fke,p:E,q:Ike,Q:Vke,s:zke,S:$ke,u:Pke,U:kke,V:Tke,w:Eke,W:Oke,x:F,X:T,y:MF,Y:RF,Z:Dke,"%":Uke};w.x=_(r,w),w.X=_(s,w),w.c=_(t,w),b.x=_(r,b),b.X=_(s,b),b.c=_(t,b);function _(X,oe){return function(Ne){var ue=[],ve=-1,xe=0,Ee=X.length,Me,Te,se;for(Ne instanceof Date||(Ne=new Date(+Ne));++ve<Ee;)X.charCodeAt(ve)===37&&(ue.push(X.slice(xe,ve)),(Te=IF[Me=X.charAt(++ve)])!=null?Me=X.charAt(++ve):Te=Me==="e"?" ":"0",(se=oe[Me])&&(Me=se(Ne,Te)),ue.push(Me),xe=ve+1);return ue.push(X.slice(xe,ve)),ue.join("")}}function C(X,oe){return function(Ne){var ue=Hx(1900,void 0,1),ve=A(ue,X,Ne+="",0),xe,Ee;if(ve!=Ne.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(oe&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(xe=HS(Hx(ue.y,0,1)),Ee=xe.getUTCDay(),xe=Ee>4||Ee===0?z1.ceil(xe):z1(xe),xe=v2.offset(xe,(ue.V-1)*7),ue.y=xe.getUTCFullYear(),ue.m=xe.getUTCMonth(),ue.d=xe.getUTCDate()+(ue.w+6)%7):(xe=WS(Hx(ue.y,0,1)),Ee=xe.getDay(),xe=Ee>4||Ee===0?V1.ceil(xe):V1(xe),xe=my.offset(xe,(ue.V-1)*7),ue.y=xe.getFullYear(),ue.m=xe.getMonth(),ue.d=xe.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Ee="Z"in ue?HS(Hx(ue.y,0,1)).getUTCDay():WS(Hx(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(Ee+5)%7:ue.w+ue.U*7-(Ee+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,HS(ue)):WS(ue)}}function A(X,oe,Ne,ue){for(var ve=0,xe=oe.length,Ee=Ne.length,Me,Te;ve<xe;){if(ue>=Ee)return-1;if(Me=oe.charCodeAt(ve++),Me===37){if(Me=oe.charAt(ve++),Te=N[Me in IF?oe.charAt(ve++):Me],!Te||(ue=Te(X,Ne,ue))<0)return-1}else if(Me!=Ne.charCodeAt(ue++))return-1}return ue}function E(X,oe,Ne){var ue=d.exec(oe.slice(Ne));return ue?(X.p=u.get(ue[0].toLowerCase()),Ne+ue[0].length):-1}function k(X,oe,Ne){var ue=h.exec(oe.slice(Ne));return ue?(X.w=x.get(ue[0].toLowerCase()),Ne+ue[0].length):-1}function O(X,oe,Ne){var ue=f.exec(oe.slice(Ne));return ue?(X.w=m.get(ue[0].toLowerCase()),Ne+ue[0].length):-1}function I(X,oe,Ne){var ue=j.exec(oe.slice(Ne));return ue?(X.m=y.get(ue[0].toLowerCase()),Ne+ue[0].length):-1}function W(X,oe,Ne){var ue=p.exec(oe.slice(Ne));return ue?(X.m=g.get(ue[0].toLowerCase()),Ne+ue[0].length):-1}function H(X,oe,Ne){return A(X,t,oe,Ne)}function F(X,oe,Ne){return A(X,r,oe,Ne)}function T(X,oe,Ne){return A(X,s,oe,Ne)}function P(X){return o[X.getDay()]}function M(X){return i[X.getDay()]}function D(X){return c[X.getMonth()]}function Y(X){return l[X.getMonth()]}function ae(X){return a[+(X.getHours()>=12)]}function R(X){return 1+~~(X.getMonth()/3)}function V(X){return o[X.getUTCDay()]}function L(X){return i[X.getUTCDay()]}function K(X){return c[X.getUTCMonth()]}function le(X){return l[X.getUTCMonth()]}function me(X){return a[+(X.getUTCHours()>=12)]}function B(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var oe=_(X+="",w);return oe.toString=function(){return X},oe},parse:function(X){var oe=C(X+="",!1);return oe.toString=function(){return X},oe},utcFormat:function(X){var oe=_(X+="",b);return oe.toString=function(){return X},oe},utcParse:function(X){var oe=C(X+="",!0);return oe.toString=function(){return X},oe}}}var IF={"-":"",_:" ",0:"0"},Ms=/^\s*\d+/,Ske=/^%/,Cke=/[\\^$*+?|[\]().{}]/g;function gr(e,t,r){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<r?new Array(r-i+1).join(t)+a:a)}function Ake(e){return e.replace(Cke,"\\$&")}function qx(e){return new RegExp("^(?:"+e.map(Ake).join("|")+")","i")}function Gx(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Eke(e,t,r){var s=Ms.exec(t.slice(r,r+1));return s?(e.w=+s[0],r+s[0].length):-1}function Pke(e,t,r){var s=Ms.exec(t.slice(r,r+1));return s?(e.u=+s[0],r+s[0].length):-1}function kke(e,t,r){var s=Ms.exec(t.slice(r,r+2));return s?(e.U=+s[0],r+s[0].length):-1}function Tke(e,t,r){var s=Ms.exec(t.slice(r,r+2));return s?(e.V=+s[0],r+s[0].length):-1}function Oke(e,t,r){var s=Ms.exec(t.slice(r,r+2));return s?(e.W=+s[0],r+s[0].length):-1}function RF(e,t,r){var s=Ms.exec(t.slice(r,r+4));return s?(e.y=+s[0],r+s[0].length):-1}function MF(e,t,r){var s=Ms.exec(t.slice(r,r+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function Dke(e,t,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function Ike(e,t,r){var s=Ms.exec(t.slice(r,r+1));return s?(e.q=s[0]*3-3,r+s[0].length):-1}function Rke(e,t,r){var s=Ms.exec(t.slice(r,r+2));return s?(e.m=s[0]-1,r+s[0].length):-1}function FF(e,t,r){var s=Ms.exec(t.slice(r,r+2));return s?(e.d=+s[0],r+s[0].length):-1}function Mke(e,t,r){var s=Ms.exec(t.slice(r,r+3));return s?(e.m=0,e.d=+s[0],r+s[0].length):-1}function $F(e,t,r){var s=Ms.exec(t.slice(r,r+2));return s?(e.H=+s[0],r+s[0].length):-1}function Fke(e,t,r){var s=Ms.exec(t.slice(r,r+2));return s?(e.M=+s[0],r+s[0].length):-1}function $ke(e,t,r){var s=Ms.exec(t.slice(r,r+2));return s?(e.S=+s[0],r+s[0].length):-1}function Lke(e,t,r){var s=Ms.exec(t.slice(r,r+3));return s?(e.L=+s[0],r+s[0].length):-1}function Bke(e,t,r){var s=Ms.exec(t.slice(r,r+6));return s?(e.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function Uke(e,t,r){var s=Ske.exec(t.slice(r,r+1));return s?r+s[0].length:-1}function Vke(e,t,r){var s=Ms.exec(t.slice(r));return s?(e.Q=+s[0],r+s[0].length):-1}function zke(e,t,r){var s=Ms.exec(t.slice(r));return s?(e.s=+s[0],r+s[0].length):-1}function LF(e,t){return gr(e.getDate(),t,2)}function Wke(e,t){return gr(e.getHours(),t,2)}function Hke(e,t){return gr(e.getHours()%12||12,t,2)}function qke(e,t){return gr(1+my.count(ed(e),e),t,3)}function Yq(e,t){return gr(e.getMilliseconds(),t,3)}function Gke(e,t){return Yq(e,t)+"000"}function Kke(e,t){return gr(e.getMonth()+1,t,2)}function Yke(e,t){return gr(e.getMinutes(),t,2)}function Xke(e,t){return gr(e.getSeconds(),t,2)}function Qke(e){var t=e.getDay();return t===0?7:t}function Zke(e,t){return gr(y2.count(ed(e)-1,e),t,2)}function Xq(e){var t=e.getDay();return t>=4||t===0?cp(e):cp.ceil(e)}function Jke(e,t){return e=Xq(e),gr(cp.count(ed(e),e)+(ed(e).getDay()===4),t,2)}function eTe(e){return e.getDay()}function tTe(e,t){return gr(V1.count(ed(e)-1,e),t,2)}function rTe(e,t){return gr(e.getFullYear()%100,t,2)}function nTe(e,t){return e=Xq(e),gr(e.getFullYear()%100,t,2)}function sTe(e,t){return gr(e.getFullYear()%1e4,t,4)}function aTe(e,t){var r=e.getDay();return e=r>=4||r===0?cp(e):cp.ceil(e),gr(e.getFullYear()%1e4,t,4)}function iTe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+gr(t/60|0,"0",2)+gr(t%60,"0",2)}function BF(e,t){return gr(e.getUTCDate(),t,2)}function oTe(e,t){return gr(e.getUTCHours(),t,2)}function lTe(e,t){return gr(e.getUTCHours()%12||12,t,2)}function cTe(e,t){return gr(1+v2.count(td(e),e),t,3)}function Qq(e,t){return gr(e.getUTCMilliseconds(),t,3)}function dTe(e,t){return Qq(e,t)+"000"}function uTe(e,t){return gr(e.getUTCMonth()+1,t,2)}function fTe(e,t){return gr(e.getUTCMinutes(),t,2)}function mTe(e,t){return gr(e.getUTCSeconds(),t,2)}function hTe(e){var t=e.getUTCDay();return t===0?7:t}function pTe(e,t){return gr(j2.count(td(e)-1,e),t,2)}function Zq(e){var t=e.getUTCDay();return t>=4||t===0?dp(e):dp.ceil(e)}function xTe(e,t){return e=Zq(e),gr(dp.count(td(e),e)+(td(e).getUTCDay()===4),t,2)}function gTe(e){return e.getUTCDay()}function vTe(e,t){return gr(z1.count(td(e)-1,e),t,2)}function yTe(e,t){return gr(e.getUTCFullYear()%100,t,2)}function jTe(e,t){return e=Zq(e),gr(e.getUTCFullYear()%100,t,2)}function bTe(e,t){return gr(e.getUTCFullYear()%1e4,t,4)}function wTe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?dp(e):dp.ceil(e),gr(e.getUTCFullYear()%1e4,t,4)}function NTe(){return"+0000"}function UF(){return"%"}function VF(e){return+e}function zF(e){return Math.floor(+e/1e3)}var Tm,Jq,eG;_Te({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _Te(e){return Tm=_ke(e),Jq=Tm.format,Tm.parse,eG=Tm.utcFormat,Tm.utcParse,Tm}function STe(e){return new Date(e)}function CTe(e){return e instanceof Date?+e:+new Date(+e)}function VO(e,t,r,s,a,i,o,l,c,d){var u=EO(),f=u.invert,m=u.domain,h=d(".%L"),x=d(":%S"),p=d("%I:%M"),g=d("%I %p"),j=d("%a %d"),y=d("%b %d"),w=d("%B"),b=d("%Y");function N(_){return(c(_)<_?h:l(_)<_?x:o(_)<_?p:i(_)<_?g:s(_)<_?a(_)<_?j:y:r(_)<_?w:b)(_)}return u.invert=function(_){return new Date(f(_))},u.domain=function(_){return arguments.length?m(Array.from(_,CTe)):m().map(STe)},u.ticks=function(_){var C=m();return e(C[0],C[C.length-1],_??10)},u.tickFormat=function(_,C){return C==null?N:d(C)},u.nice=function(_){var C=m();return(!_||typeof _.range!="function")&&(_=t(C[0],C[C.length-1],_??10)),_?m(Bq(C,_)):u},u.copy=function(){return fy(u,VO(e,t,r,s,a,i,o,l,c,d))},u}function ATe(){return Po.apply(VO(wke,Nke,ed,BO,y2,my,$O,MO,ff,Jq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ETe(){return Po.apply(VO(jke,bke,td,UO,j2,v2,LO,FO,ff,eG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function b2(){var e=0,t=1,r,s,a,i,o=Pa,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),s=i(t=+t),a=r===s?0:1/(s-r),d):[e,t]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(o=f,d):o};function u(f){return function(m){var h,x;return arguments.length?([h,x]=m,o=f(h,x),d):[o(0),o(1)]}}return d.range=u(ix),d.rangeRound=u(AO),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return i=f,r=f(e),s=f(t),a=r===s?0:1/(s-r),d}}function Du(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function tG(){var e=Ou(b2()(Pa));return e.copy=function(){return Du(e,tG())},dd.apply(e,arguments)}function rG(){var e=TO(b2()).domain([1,10]);return e.copy=function(){return Du(e,rG()).base(e.base())},dd.apply(e,arguments)}function nG(){var e=OO(b2());return e.copy=function(){return Du(e,nG()).constant(e.constant())},dd.apply(e,arguments)}function zO(){var e=DO(b2());return e.copy=function(){return Du(e,zO()).exponent(e.exponent())},dd.apply(e,arguments)}function PTe(){return zO.apply(null,arguments).exponent(.5)}function sG(){var e=[],t=Pa;function r(s){if(s!=null&&!isNaN(s=+s))return t((dy(e,s,1)-1)/(e.length-1))}return r.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(iu),r},r.interpolator=function(s){return arguments.length?(t=s,r):t},r.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},r.quantiles=function(s){return Array.from({length:s+1},(a,i)=>pPe(e,i/s))},r.copy=function(){return sG(t).domain(e)},dd.apply(r,arguments)}function w2(){var e=0,t=.5,r=1,s=1,a,i,o,l,c,d=Pa,u,f=!1,m;function h(p){return isNaN(p=+p)?m:(p=.5+((p=+u(p))-i)*(s*p<s*i?l:c),d(f?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t,r]=p,a=u(e=+e),i=u(t=+t),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,h):[e,t,r]},h.clamp=function(p){return arguments.length?(f=!!p,h):f},h.interpolator=function(p){return arguments.length?(d=p,h):d};function x(p){return function(g){var j,y,w;return arguments.length?([j,y,w]=g,d=UPe(p,[j,y,w]),h):[d(0),d(.5),d(1)]}}return h.range=x(ix),h.rangeRound=x(AO),h.unknown=function(p){return arguments.length?(m=p,h):m},function(p){return u=p,a=p(e),i=p(t),o=p(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,h}}function aG(){var e=Ou(w2()(Pa));return e.copy=function(){return Du(e,aG())},dd.apply(e,arguments)}function iG(){var e=TO(w2()).domain([.1,1,10]);return e.copy=function(){return Du(e,iG()).base(e.base())},dd.apply(e,arguments)}function oG(){var e=OO(w2());return e.copy=function(){return Du(e,oG()).constant(e.constant())},dd.apply(e,arguments)}function WO(){var e=DO(w2());return e.copy=function(){return Du(e,WO()).exponent(e.exponent())},dd.apply(e,arguments)}function kTe(){return WO.apply(null,arguments).exponent(.5)}const WF=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:O0,scaleDiverging:aG,scaleDivergingLog:iG,scaleDivergingPow:WO,scaleDivergingSqrt:kTe,scaleDivergingSymlog:oG,scaleIdentity:Lq,scaleImplicit:oE,scaleLinear:B1,scaleLog:Uq,scaleOrdinal:_O,scalePoint:kg,scalePow:IO,scaleQuantile:Wq,scaleQuantize:Hq,scaleRadial:zq,scaleSequential:tG,scaleSequentialLog:rG,scaleSequentialPow:zO,scaleSequentialQuantile:sG,scaleSequentialSqrt:PTe,scaleSequentialSymlog:nG,scaleSqrt:dke,scaleSymlog:Vq,scaleThreshold:qq,scaleTime:ATe,scaleUtc:ETe,tickFormat:$q},Symbol.toStringTag,{value:"Module"}));var TTe=Qp;function OTe(e,t,r){for(var s=-1,a=e.length;++s<a;){var i=e[s],o=t(i);if(o!=null&&(l===void 0?o===o&&!TTe(o):r(o,l)))var l=o,c=i}return c}var N2=OTe;function DTe(e,t){return e>t}var lG=DTe,ITe=N2,RTe=lG,MTe=ax;function FTe(e){return e&&e.length?ITe(e,MTe,RTe):void 0}var $Te=FTe;const Hd=Ar($Te);function LTe(e,t){return e<t}var cG=LTe,BTe=N2,UTe=cG,VTe=ax;function zTe(e){return e&&e.length?BTe(e,VTe,UTe):void 0}var WTe=zTe;const _2=Ar(WTe);var HTe=sO,qTe=oc,GTe=gq,KTe=mi;function YTe(e,t){var r=KTe(e)?HTe:GTe;return r(e,qTe(t))}var XTe=YTe,QTe=pq,ZTe=XTe;function JTe(e,t){return QTe(ZTe(e,t),1)}var eOe=JTe;const tOe=Ar(eOe);var rOe=yO;function nOe(e,t){return rOe(e,t)}var sOe=nOe;const Xf=Ar(sOe);var ox=1e9,aOe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qO,vn=!0,_o="[DecimalError] ",Ef=_o+"Invalid argument: ",HO=_o+"Exponent out of range: ",lx=Math.floor,Yu=Math.pow,iOe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pi,_s=1e7,ln=7,dG=9007199254740991,W1=lx(dG/ln),vt={};vt.absoluteValue=vt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};vt.comparedTo=vt.cmp=function(e){var t,r,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,t=0,r=s<a?s:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};vt.decimalPlaces=vt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ln;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};vt.dividedBy=vt.div=function(e){return Mc(this,new this.constructor(e))};vt.dividedToIntegerBy=vt.idiv=function(e){var t=this,r=t.constructor;return zr(Mc(t,new r(e),0,1),r.precision)};vt.equals=vt.eq=function(e){return!this.cmp(e)};vt.exponent=function(){return es(this)};vt.greaterThan=vt.gt=function(e){return this.cmp(e)>0};vt.greaterThanOrEqualTo=vt.gte=function(e){return this.cmp(e)>=0};vt.isInteger=vt.isint=function(){return this.e>this.d.length-2};vt.isNegative=vt.isneg=function(){return this.s<0};vt.isPositive=vt.ispos=function(){return this.s>0};vt.isZero=function(){return this.s===0};vt.lessThan=vt.lt=function(e){return this.cmp(e)<0};vt.lessThanOrEqualTo=vt.lte=function(e){return this.cmp(e)<1};vt.logarithm=vt.log=function(e){var t,r=this,s=r.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(Pi))throw Error(_o+"NaN");if(r.s<1)throw Error(_o+(r.s?"NaN":"-Infinity"));return r.eq(Pi)?new s(0):(vn=!1,t=Mc(F0(r,i),F0(e,i),i),vn=!0,zr(t,a))};vt.minus=vt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mG(t,e):uG(t,(e.s=-e.s,e))};vt.modulo=vt.mod=function(e){var t,r=this,s=r.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(_o+"NaN");return r.s?(vn=!1,t=Mc(r,e,0,1).times(e),vn=!0,r.minus(t)):zr(new s(r),a)};vt.naturalExponential=vt.exp=function(){return fG(this)};vt.naturalLogarithm=vt.ln=function(){return F0(this)};vt.negated=vt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};vt.plus=vt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uG(t,e):mG(t,(e.s=-e.s,e))};vt.precision=vt.sd=function(e){var t,r,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ef+e);if(t=es(a)+1,s=a.d.length-1,r=s*ln+1,s=a.d[s],s){for(;s%10==0;s/=10)r--;for(s=a.d[0];s>=10;s/=10)r++}return e&&t>r?t:r};vt.squareRoot=vt.sqrt=function(){var e,t,r,s,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(_o+"NaN")}for(e=es(l),vn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Ul(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=lx((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=s,s=i.plus(Mc(l,i,o+2)).times(.5),Ul(i.d).slice(0,o)===(t=Ul(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(zr(i,r+1,0),i.times(i).eq(l)){s=i;break}}else if(t!="9999")break;o+=4}return vn=!0,zr(s,r)};vt.times=vt.mul=function(e){var t,r,s,a,i,o,l,c,d,u=this,f=u.constructor,m=u.d,h=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,c=m.length,d=h.length,c<d&&(i=m,m=h,h=i,o=c,c=d,d=o),i=[],o=c+d,s=o;s--;)i.push(0);for(s=d;--s>=0;){for(t=0,a=c+s;a>s;)l=i[a]+h[s]*m[a-s-1]+t,i[a--]=l%_s|0,t=l/_s|0;i[a]=(i[a]+t)%_s|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,vn?zr(e,f.precision):e};vt.toDecimalPlaces=vt.todp=function(e,t){var r=this,s=r.constructor;return r=new s(r),e===void 0?r:(Jl(e,0,ox),t===void 0?t=s.rounding:Jl(t,0,8),zr(r,e+es(r)+1,t))};vt.toExponential=function(e,t){var r,s=this,a=s.constructor;return e===void 0?r=Qf(s,!0):(Jl(e,0,ox),t===void 0?t=a.rounding:Jl(t,0,8),s=zr(new a(s),e+1,t),r=Qf(s,!0,e+1)),r};vt.toFixed=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?Qf(a):(Jl(e,0,ox),t===void 0?t=i.rounding:Jl(t,0,8),s=zr(new i(a),e+es(a)+1,t),r=Qf(s.abs(),!1,e+es(s)+1),a.isneg()&&!a.isZero()?"-"+r:r)};vt.toInteger=vt.toint=function(){var e=this,t=e.constructor;return zr(new t(e),es(e)+1,t.rounding)};vt.toNumber=function(){return+this};vt.toPower=vt.pow=function(e){var t,r,s,a,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Pi);if(l=new c(l),!l.s){if(e.s<1)throw Error(_o+"Infinity");return l}if(l.eq(Pi))return l;if(s=c.precision,e.eq(Pi))return zr(l,s);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=dG){for(a=new c(Pi),t=Math.ceil(s/ln+4),vn=!1;r%2&&(a=a.times(l),qF(a.d,t)),r=lx(r/2),r!==0;)l=l.times(l),qF(l.d,t);return vn=!0,e.s<0?new c(Pi).div(a):zr(a,s)}}else if(i<0)throw Error(_o+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,vn=!1,a=e.times(F0(l,s+d)),vn=!0,a=fG(a),a.s=i,a};vt.toPrecision=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?(r=es(a),s=Qf(a,r<=i.toExpNeg||r>=i.toExpPos)):(Jl(e,1,ox),t===void 0?t=i.rounding:Jl(t,0,8),a=zr(new i(a),e,t),r=es(a),s=Qf(a,e<=r||r<=i.toExpNeg,e)),s};vt.toSignificantDigits=vt.tosd=function(e,t){var r=this,s=r.constructor;return e===void 0?(e=s.precision,t=s.rounding):(Jl(e,1,ox),t===void 0?t=s.rounding:Jl(t,0,8)),zr(new s(r),e,t)};vt.toString=vt.valueOf=vt.val=vt.toJSON=vt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=es(e),r=e.constructor;return Qf(e,t<=r.toExpNeg||t>=r.toExpPos)};function uG(e,t){var r,s,a,i,o,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),vn?zr(t,f):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(s=c,i=-i,l=d.length):(s=d,a=o,l=c.length),o=Math.ceil(f/ln),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,s=d,d=c,c=s),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/_s|0,c[i]%=_s;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,vn?zr(t,f):t}function Jl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ef+e)}function Ul(e){var t,r,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)s=e[t]+"",r=ln-s.length,r&&(i+=Ed(r)),i+=s;o=e[t],s=o+"",r=ln-s.length,r&&(i+=Ed(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Mc=function(){function e(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%_s|0,o=i/_s|0;return o&&s.unshift(o),s}function t(s,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=a[l]){c=s[l]>a[l]?1:-1;break}return c}function r(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*_s+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,c,d,u,f,m,h,x,p,g,j,y,w,b,N,_,C,A,E=s.constructor,k=s.s==a.s?1:-1,O=s.d,I=a.d;if(!s.s)return new E(s);if(!a.s)throw Error(_o+"Division by zero");for(c=s.e-a.e,C=I.length,N=O.length,h=new E(k),x=h.d=[],d=0;I[d]==(O[d]||0);)++d;if(I[d]>(O[d]||0)&&--c,i==null?y=i=E.precision:o?y=i+(es(s)-es(a))+1:y=i,y<0)return new E(0);if(y=y/ln+2|0,d=0,C==1)for(u=0,I=I[0],y++;(d<N||u)&&y--;d++)w=u*_s+(O[d]||0),x[d]=w/I|0,u=w%I|0;else{for(u=_s/(I[0]+1)|0,u>1&&(I=e(I,u),O=e(O,u),C=I.length,N=O.length),b=C,p=O.slice(0,C),g=p.length;g<C;)p[g++]=0;A=I.slice(),A.unshift(0),_=I[0],I[1]>=_s/2&&++_;do u=0,l=t(I,p,C,g),l<0?(j=p[0],C!=g&&(j=j*_s+(p[1]||0)),u=j/_|0,u>1?(u>=_s&&(u=_s-1),f=e(I,u),m=f.length,g=p.length,l=t(f,p,m,g),l==1&&(u--,r(f,C<m?A:I,m))):(u==0&&(l=u=1),f=I.slice()),m=f.length,m<g&&f.unshift(0),r(p,f,g),l==-1&&(g=p.length,l=t(I,p,C,g),l<1&&(u++,r(p,C<g?A:I,g))),g=p.length):l===0&&(u++,p=[0]),x[d++]=u,l&&p[0]?p[g++]=O[b]||0:(p=[O[b]],g=1);while((b++<N||p[0]!==void 0)&&y--)}return x[0]||x.shift(),h.e=c,zr(h,o?i+es(h)+1:i)}}();function fG(e,t){var r,s,a,i,o,l,c=0,d=0,u=e.constructor,f=u.precision;if(es(e)>16)throw Error(HO+es(e));if(!e.s)return new u(Pi);for(t==null?(vn=!1,l=f):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(s=Math.log(Yu(2,d))/Math.LN10*2+5|0,l+=s,r=a=i=new u(Pi),u.precision=l;;){if(a=zr(a.times(e),l),r=r.times(++c),o=i.plus(Mc(a,r,l)),Ul(o.d).slice(0,l)===Ul(i.d).slice(0,l)){for(;d--;)i=zr(i.times(i),l);return u.precision=f,t==null?(vn=!0,zr(i,f)):i}i=o}}function es(e){for(var t=e.e*ln,r=e.d[0];r>=10;r/=10)t++;return t}function qS(e,t,r){if(t>e.LN10.sd())throw vn=!0,r&&(e.precision=r),Error(_o+"LN10 precision limit exceeded");return zr(new e(e.LN10),t)}function Ed(e){for(var t="";e--;)t+="0";return t}function F0(e,t){var r,s,a,i,o,l,c,d,u,f=1,m=10,h=e,x=h.d,p=h.constructor,g=p.precision;if(h.s<1)throw Error(_o+(h.s?"NaN":"-Infinity"));if(h.eq(Pi))return new p(0);if(t==null?(vn=!1,d=g):d=t,h.eq(10))return t==null&&(vn=!0),qS(p,d);if(d+=m,p.precision=d,r=Ul(x),s=r.charAt(0),i=es(h),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&r.charAt(1)>3;)h=h.times(e),r=Ul(h.d),s=r.charAt(0),f++;i=es(h),s>1?(h=new p("0."+r),i++):h=new p(s+"."+r.slice(1))}else return c=qS(p,d+2,g).times(i+""),h=F0(new p(s+"."+r.slice(1)),d-m).plus(c),p.precision=g,t==null?(vn=!0,zr(h,g)):h;for(l=o=h=Mc(h.minus(Pi),h.plus(Pi),d),u=zr(h.times(h),d),a=3;;){if(o=zr(o.times(u),d),c=l.plus(Mc(o,new p(a),d)),Ul(c.d).slice(0,d)===Ul(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(qS(p,d+2,g).times(i+""))),l=Mc(l,new p(f),d),p.precision=g,t==null?(vn=!0,zr(l,g)):l;l=c,a+=2}}function HF(e,t){var r,s,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charCodeAt(s)===48;)++s;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(s,a),t){if(a-=s,r=r-s-1,e.e=lx(r/ln),e.d=[],s=(r+1)%ln,r<0&&(s+=ln),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=ln;s<a;)e.d.push(+t.slice(s,s+=ln));t=t.slice(s),s=ln-t.length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),vn&&(e.e>W1||e.e<-W1))throw Error(HO+r)}else e.s=0,e.e=0,e.d=[0];return e}function zr(e,t,r){var s,a,i,o,l,c,d,u,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(s=t-o,s<0)s+=ln,a=t,d=f[u=0];else{if(u=Math.ceil((s+1)/ln),i=f.length,u>=i)return e;for(d=i=f[u],o=1;i>=10;i/=10)o++;s%=ln,a=s-ln+o}if(r!==void 0&&(i=Yu(10,o-a-1),l=d/i%10|0,c=t<0||f[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(s>0?a>0?d/Yu(10,o-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=es(e),f.length=1,t=t-i-1,f[0]=Yu(10,(ln-t%ln)%ln),e.e=lx(-t/ln)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(s==0?(f.length=u,i=1,u--):(f.length=u+1,i=Yu(10,ln-s),f[u]=a>0?(d/Yu(10,o-a)%Yu(10,a)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==_s&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=_s)break;f[u--]=0,i=1}for(s=f.length;f[--s]===0;)f.pop();if(vn&&(e.e>W1||e.e<-W1))throw Error(HO+es(e));return e}function mG(e,t){var r,s,a,i,o,l,c,d,u,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),vn?zr(t,h):t;if(c=e.d,f=t.d,s=t.e,d=e.e,c=c.slice(),o=d-s,o){for(u=o<0,u?(r=c,o=-o,l=f.length):(r=f,s=d,l=c.length),a=Math.max(Math.ceil(h/ln),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){u=c[a]<f[a];break}o=0}for(u&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=_s-1;--c[i],c[a]+=_s}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,vn?zr(t,h):t):new m(0)}function Qf(e,t,r){var s,a=es(e),i=Ul(e.d),o=i.length;return t?(r&&(s=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ed(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ed(-a-1)+i,r&&(s=r-o)>0&&(i+=Ed(s))):a>=o?(i+=Ed(a+1-o),r&&(s=r-a-1)>0&&(i=i+"."+Ed(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),r&&(s=r-o)>0&&(a+1===o&&(i+="."),i+=Ed(s))),e.s<0?"-"+i:i}function qF(e,t){if(e.length>t)return e.length=t,!0}function hG(e){var t,r,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ef+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return HF(o,i.toString())}else if(typeof i!="string")throw Error(Ef+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,iOe.test(i))HF(o,i);else throw Error(Ef+i)}if(a.prototype=vt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=hG,a.config=a.set=oOe,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(r=s[t++])||(e[r]=this[r]);return a.config(e),a}function oOe(e){if(!e||typeof e!="object")throw Error(_o+"Object expected");var t,r,s,a=["precision",1,ox,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((s=e[r=a[t]])!==void 0)if(lx(s)===s&&s>=a[t+1]&&s<=a[t+2])this[r]=s;else throw Error(Ef+r+": "+s);if((s=e[r="LN10"])!==void 0)if(s==Math.LN10)this[r]=new this(s);else throw Error(Ef+r+": "+s);return this}var qO=hG(aOe);Pi=new qO(1);const $r=qO;function lOe(e){return fOe(e)||uOe(e)||dOe(e)||cOe()}function cOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dOe(e,t){if(e){if(typeof e=="string")return uE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uE(e,t)}}function uOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function fOe(e){if(Array.isArray(e))return uE(e)}function uE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var mOe=function(t){return t},pG={"@@functional/placeholder":!0},xG=function(t){return t===pG},GF=function(t){return function r(){return arguments.length===0||arguments.length===1&&xG(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},hOe=function e(t,r){return t===1?r:GF(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==pG}).length;return o>=t?r.apply(void 0,a):e(t-o,GF(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(f){return xG(f)?c.shift():f});return r.apply(void 0,lOe(u).concat(c))}))})},S2=function(t){return hOe(t.length,t)},fE=function(t,r){for(var s=[],a=t;a<r;++a)s[a-t]=a;return s},pOe=S2(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),xOe=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];if(!r.length)return mOe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},mE=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},gG=function(t){var r=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,s=t.apply(void 0,i)),s}};function gOe(e){var t;return e===0?t=1:t=Math.floor(new $r(e).abs().log(10).toNumber())+1,t}function vOe(e,t,r){for(var s=new $r(e),a=0,i=[];s.lt(t)&&a<1e5;)i.push(s.toNumber()),s=s.add(r),a++;return i}var yOe=S2(function(e,t,r){var s=+e,a=+t;return s+r*(a-s)}),jOe=S2(function(e,t,r){var s=t-+e;return s=s||1/0,(r-e)/s}),bOe=S2(function(e,t,r){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(r-e)/s))});const C2={rangeStep:vOe,getDigitCount:gOe,interpolateNumber:yOe,uninterpolateNumber:jOe,uninterpolateTruncation:bOe};function hE(e){return _Oe(e)||NOe(e)||vG(e)||wOe()}function wOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function _Oe(e){if(Array.isArray(e))return pE(e)}function $0(e,t){return AOe(e)||COe(e,t)||vG(e,t)||SOe()}function SOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vG(e,t){if(e){if(typeof e=="string")return pE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pE(e,t)}}function pE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function COe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],s=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));s=!0);}catch(c){a=!0,i=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function AOe(e){if(Array.isArray(e))return e}function yG(e){var t=$0(e,2),r=t[0],s=t[1],a=r,i=s;return r>s&&(a=s,i=r),[a,i]}function jG(e,t,r){if(e.lte(0))return new $r(0);var s=C2.getDigitCount(e.toNumber()),a=new $r(10).pow(s),i=e.div(a),o=s!==1?.05:.1,l=new $r(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new $r(Math.ceil(c))}function EOe(e,t,r){var s=1,a=new $r(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(s=new $r(10).pow(C2.getDigitCount(e)-1),a=new $r(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new $r(Math.floor(e)))}else e===0?a=new $r(Math.floor((t-1)/2)):r||(a=new $r(Math.floor(e)));var o=Math.floor((t-1)/2),l=xOe(pOe(function(c){return a.add(new $r(c-o).mul(s)).toNumber()}),fE);return l(0,t)}function bG(e,t,r,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new $r(0),tickMin:new $r(0),tickMax:new $r(0)};var i=jG(new $r(t).sub(e).div(r-1),s,a),o;e<=0&&t>=0?o=new $r(0):(o=new $r(e).add(t).div(2),o=o.sub(new $r(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new $r(t).sub(o).div(i).toNumber()),d=l+c+1;return d>r?bG(e,t,r,s,a+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:i,tickMin:o.sub(new $r(l).mul(i)),tickMax:o.add(new $r(c).mul(i))})}function POe(e){var t=$0(e,2),r=t[0],s=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=yG([r,s]),c=$0(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var f=u===1/0?[d].concat(hE(fE(0,a-1).map(function(){return 1/0}))):[].concat(hE(fE(0,a-1).map(function(){return-1/0})),[u]);return r>s?mE(f):f}if(d===u)return EOe(d,a,i);var m=bG(d,u,o,i),h=m.step,x=m.tickMin,p=m.tickMax,g=C2.rangeStep(x,p.add(new $r(.1).mul(h)),h);return r>s?mE(g):g}function kOe(e,t){var r=$0(e,2),s=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=yG([s,a]),l=$0(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[s,a];if(c===d)return[c];var u=Math.max(t,2),f=jG(new $r(d).sub(c).div(u-1),i,0),m=[].concat(hE(C2.rangeStep(new $r(c),new $r(d).sub(new $r(.99).mul(f)),f)),[d]);return s>a?mE(m):m}var TOe=gG(POe),OOe=gG(kOe),DOe="Invariant failed";function yu(e,t){throw new Error(DOe)}var IOe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function H1(){return H1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},H1.apply(this,arguments)}function ROe(e,t){return LOe(e)||$Oe(e,t)||FOe(e,t)||MOe()}function MOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FOe(e,t){if(e){if(typeof e=="string")return KF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KF(e,t)}}function KF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function $Oe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function LOe(e){if(Array.isArray(e))return e}function BOe(e,t){if(e==null)return{};var r=UOe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function UOe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function VOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zOe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,_G(s.key),s)}}function WOe(e,t,r){return t&&zOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HOe(e,t,r){return t=q1(t),qOe(e,wG()?Reflect.construct(t,r||[],q1(e).constructor):t.apply(e,r))}function qOe(e,t){if(t&&(up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GOe(e)}function GOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wG=function(){return!!e})()}function q1(e){return q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},q1(e)}function KOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xE(e,t)}function xE(e,t){return xE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},xE(e,t)}function NG(e,t,r){return t=_G(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _G(e){var t=YOe(e,"string");return up(t)=="symbol"?t:t+""}function YOe(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(up(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hy=function(e){function t(){return VOe(this,t),HOe(this,t,arguments)}return KOe(t,e),WOe(t,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,c=s.data,d=s.dataPointFormatter,u=s.xAxis,f=s.yAxis,m=BOe(s,IOe),h=bt(m,!1);this.props.direction==="x"&&u.type!=="number"&&yu();var x=c.map(function(p){var g=d(p,l),j=g.x,y=g.y,w=g.value,b=g.errorVal;if(!b)return null;var N=[],_,C;if(Array.isArray(b)){var A=ROe(b,2);_=A[0],C=A[1]}else _=C=b;if(i==="vertical"){var E=u.scale,k=y+a,O=k+o,I=k-o,W=E(w-_),H=E(w+C);N.push({x1:H,y1:O,x2:H,y2:I}),N.push({x1:W,y1:k,x2:H,y2:k}),N.push({x1:W,y1:O,x2:W,y2:I})}else if(i==="horizontal"){var F=f.scale,T=j+a,P=T-o,M=T+o,D=F(w-_),Y=F(w+C);N.push({x1:P,y1:Y,x2:M,y2:Y}),N.push({x1:T,y1:D,x2:T,y2:Y}),N.push({x1:P,y1:D,x2:M,y2:D})}return z.createElement(er,H1({className:"recharts-errorBar",key:"bar-".concat(N.map(function(ae){return"".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))},h),N.map(function(ae){return z.createElement("line",H1({},ae,{key:"line-".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))}))});return z.createElement(er,{className:"recharts-errorBars"},x)}}])}(z.Component);NG(hy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});NG(hy,"displayName","ErrorBar");function L0(e){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L0(e)}function YF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Bu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YF(Object(r),!0).forEach(function(s){XOe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function XOe(e,t,r){return t=QOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QOe(e){var t=ZOe(e,"string");return L0(t)=="symbol"?t:t+""}function ZOe(e,t){if(L0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(L0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SG=function(t){var r=t.children,s=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=_i(r,nl);if(!o)return null;var l=nl.defaultProps,c=l!==void 0?Bu(Bu({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(s||[]).reduce(function(u,f){var m=f.item,h=f.props,x=h.sectors||h.data||[];return u.concat(x.map(function(p){return{type:o.props.iconType||m.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):d=(s||[]).map(function(u){var f=u.item,m=f.type.defaultProps,h=m!==void 0?Bu(Bu({},m),f.props):{},x=h.dataKey,p=h.name,g=h.legendType,j=h.hide;return{inactive:j,dataKey:x,type:c.iconType||g||"square",color:GO(f),value:p||x,payload:h}}),Bu(Bu(Bu({},c),nl.getWithHeight(o,a)),{},{payload:d,item:o})};function B0(e){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B0(e)}function XF(e){return r3e(e)||t3e(e)||e3e(e)||JOe()}function JOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e3e(e,t){if(e){if(typeof e=="string")return gE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gE(e,t)}}function t3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function r3e(e){if(Array.isArray(e))return gE(e)}function gE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function QF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QF(Object(r),!0).forEach(function(s){jh(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function jh(e,t,r){return t=n3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n3e(e){var t=s3e(e,"string");return B0(t)=="symbol"?t:t+""}function s3e(e,t){if(B0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(B0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wn(e,t,r){return $t(e)||$t(t)?r:bs(t)?Ii(e,t,r):Tt(t)?t(e):r}function Tg(e,t,r,s){var a=tOe(e,function(l){return Wn(l,t)});if(r==="number"){var i=a.filter(function(l){return Qe(l)||parseFloat(l)});return i.length?[_2(i),Hd(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!$t(l)}):a;return o.map(function(l){return bs(l)||l instanceof Date?l:""})}var a3e=function(t){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=s==null?void 0:s.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,f=a[d].coordinate,m=d>=l-1?a[0].coordinate:a[d+1].coordinate,h=void 0;if(Aa(f-u)!==Aa(m-f)){var x=[];if(Aa(m-f)===Aa(c[1]-c[0])){h=m;var p=f+c[1]-c[0];x[0]=Math.min(p,(p+u)/2),x[1]=Math.max(p,(p+u)/2)}else{h=u;var g=m+c[1]-c[0];x[0]=Math.min(f,(g+f)/2),x[1]=Math.max(f,(g+f)/2)}var j=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(t>j[0]&&t<=j[1]||t>=x[0]&&t<=x[1]){o=a[d].index;break}}else{var y=Math.min(u,m),w=Math.max(u,m);if(t>(y+f)/2&&t<=(w+f)/2){o=a[d].index;break}}}else for(var b=0;b<l;b++)if(b===0&&t<=(s[b].coordinate+s[b+1].coordinate)/2||b>0&&b<l-1&&t>(s[b].coordinate+s[b-1].coordinate)/2&&t<=(s[b].coordinate+s[b+1].coordinate)/2||b===l-1&&t>(s[b].coordinate+s[b-1].coordinate)/2){o=s[b].index;break}return o},GO=function(t){var r,s=t,a=s.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Rn(Rn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},i3e=function(t){var r=t.barSize,s=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,f=Object.keys(u),m=0,h=f.length;m<h;m++){var x=u[f[m]],p=x.items,g=x.cateAxisId,j=p.filter(function(C){return Rc(C.type).indexOf("Bar")>=0});if(j&&j.length){var y=j[0].type.defaultProps,w=y!==void 0?Rn(Rn({},y),j[0].props):j[0].props,b=w.barSize,N=w[g];o[N]||(o[N]=[]);var _=$t(b)?r:b;o[N].push({item:j[0],stackList:j.slice(1),barSize:$t(_)?void 0:Ea(_,s,0)})}}return o},o3e=function(t){var r=t.barGap,s=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=Ea(r,a,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,h=a/c,x=o.reduce(function(b,N){return b+N.barSize||0},0);x+=(c-1)*d,x>=a&&(x-=(c-1)*d,d=0),x>=a&&h>0&&(m=!0,h*=.9,x=c*h);var p=(a-x)/2>>0,g={offset:p-d,size:0};u=o.reduce(function(b,N){var _={item:N.item,position:{offset:g.offset+g.size+d,size:m?h:N.barSize}},C=[].concat(XF(b),[_]);return g=C[C.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(A){C.push({item:A,position:g})}),C},f)}else{var j=Ea(s,a,0,!0);a-2*j-(c-1)*d<=0&&(d=0);var y=(a-2*j-(c-1)*d)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;u=o.reduce(function(b,N,_){var C=[].concat(XF(b),[{item:N.item,position:{offset:j+(y+d)*_+(y-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(A){C.push({item:A,position:C[C.length-1].position})}),C},f)}return u},l3e=function(t,r,s,a){var i=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),d=SG({children:i,legendWidth:c});if(d){var u=a||{},f=u.width,m=u.height,h=d.align,x=d.verticalAlign,p=d.layout;if((p==="vertical"||p==="horizontal"&&x==="middle")&&h!=="center"&&Qe(t[h]))return Rn(Rn({},t),{},jh({},h,t[h]+(f||0)));if((p==="horizontal"||p==="vertical"&&h==="center")&&x!=="middle"&&Qe(t[x]))return Rn(Rn({},t),{},jh({},x,t[x]+(m||0)))}return t},c3e=function(t,r,s){return $t(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||s==="x"?r==="xAxis":s==="y"?r==="yAxis":!0},CG=function(t,r,s,a,i){var o=r.props.children,l=Ri(o,hy).filter(function(d){return c3e(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var f=Wn(u,s);if($t(f))return d;var m=Array.isArray(f)?[_2(f),Hd(f)]:[f,f],h=c.reduce(function(x,p){var g=Wn(u,p,0),j=m[0]-Math.abs(Array.isArray(g)?g[0]:g),y=m[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(j,x[0]),Math.max(y,x[1])]},[1/0,-1/0]);return[Math.min(h[0],d[0]),Math.max(h[1],d[1])]},[1/0,-1/0])}return null},d3e=function(t,r,s,a,i){var o=r.map(function(l){return CG(t,l,s,i,a)}).filter(function(l){return!$t(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},AG=function(t,r,s,a,i){var o=r.map(function(c){var d=c.props.dataKey;return s==="number"&&d&&CG(t,c,d,a)||Tg(t,d,s,i)});if(s==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,f=d.length;u<f;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},EG=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},PG=function(t,r,s,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===s&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(s),l},Tc=function(t,r,s){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||s)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Aa(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var m=i?i.indexOf(f):f;return{coordinate:a(m)+d,value:f,offset:d}});return u.filter(function(f){return!rx(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,m){return{coordinate:a(f)+d,value:f,index:m,offset:d}}):a.ticks&&!s?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+d,value:f,offset:d}}):a.domain().map(function(f,m){return{coordinate:a(f)+d,value:i?i[f]:f,index:m,offset:d}})},GS=new WeakMap,bj=function(t,r){if(typeof r!="function")return t;GS.has(t)||GS.set(t,new WeakMap);var s=GS.get(t);if(s.has(r))return s.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return s.set(r,a),a},kG=function(t,r,s){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:O0(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:B1(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!s)?{scale:kg(),realScaleType:"point"}:i==="category"?{scale:O0(),realScaleType:"band"}:{scale:B1(),realScaleType:"linear"};if(ly(a)){var c="scale".concat(d2(a));return{scale:(WF[c]||kg)(),realScaleType:WF[c]?c:"point"}}return Tt(a)?{scale:a}:{scale:kg(),realScaleType:"point"}},ZF=1e-4,TG=function(t){var r=t.domain();if(!(!r||r.length<=2)){var s=r.length,a=t.range(),i=Math.min(a[0],a[1])-ZF,o=Math.max(a[0],a[1])+ZF,l=t(r[0]),c=t(r[s-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[s-1]])}},u3e=function(t,r){if(!t)return null;for(var s=0,a=t.length;s<a;s++)if(t[s].item===r)return t[s].position;return null},f3e=function(t,r){if(!r||r.length!==2||!Qe(r[0])||!Qe(r[1]))return t;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Qe(t[0])||t[0]<s)&&(i[0]=s),(!Qe(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},m3e=function(t){var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0,l=0;l<r;++l){var c=rx(t[l][s][1])?t[l][s][0]:t[l][s][1];c>=0?(t[l][s][0]=i,t[l][s][1]=i+c,i=t[l][s][1]):(t[l][s][0]=o,t[l][s][1]=o+c,o=t[l][s][1])}},h3e=function(t){var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0;o<r;++o){var l=rx(t[o][s][1])?t[o][s][0]:t[o][s][1];l>=0?(t[o][s][0]=i,t[o][s][1]=i+l,i=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},p3e={sign:m3e,expand:I1e,none:np,silhouette:R1e,wiggle:M1e,positive:h3e},x3e=function(t,r,s){var a=r.map(function(l){return l.props.dataKey}),i=p3e[s],o=D1e().keys(a).value(function(l,c){return+Wn(l,c,0)}).order(VA).offset(i);return o(t)},g3e=function(t,r,s,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(f,m){var h,x=(h=m.type)!==null&&h!==void 0&&h.defaultProps?Rn(Rn({},m.type.defaultProps),m.props):m.props,p=x.stackId,g=x.hide;if(g)return f;var j=x[s],y=f[j]||{hasStack:!1,stackGroups:{}};if(bs(p)){var w=y.stackGroups[p]||{numericAxisId:s,cateAxisId:a,items:[]};w.items.push(m),y.hasStack=!0,y.stackGroups[p]=w}else y.stackGroups[fm("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[m]};return Rn(Rn({},f),{},jh({},j,y))},c),u={};return Object.keys(d).reduce(function(f,m){var h=d[m];if(h.hasStack){var x={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(p,g){var j=h.stackGroups[g];return Rn(Rn({},p),{},jh({},g,{numericAxisId:s,cateAxisId:a,items:j.items,stackedData:x3e(t,j.items,i)}))},x)}return Rn(Rn({},f),{},jh({},m,h))},u)},OG=function(t,r){var s=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=s||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=TOe(d,i,l);return t.domain([_2(u),Hd(u)]),{niceTicks:u}}if(i&&a==="number"){var f=t.domain(),m=OOe(f,i,l);return{niceTicks:m}}return null};function G1(e){var t=e.axis,r=e.ticks,s=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!$t(a[t.dataKey])){var l=y1(r,"value",a[t.dataKey]);if(l)return l.coordinate+s/2}return r[i]?r[i].coordinate+s/2:null}var c=Wn(a,$t(o)?t.dataKey:o);return $t(c)?null:t.scale(c)}var JF=function(t){var r=t.axis,s=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return s[l]?s[l].coordinate+a:null;var c=Wn(o,r.dataKey,r.domain[l]);return $t(c)?null:r.scale(c)-i/2+a},v3e=function(t){var r=t.numericAxis,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},y3e=function(t,r){var s,a=(s=t.type)!==null&&s!==void 0&&s.defaultProps?Rn(Rn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(bs(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},j3e=function(t){return t.reduce(function(r,s){return[_2(s.concat([r[0]]).filter(Qe)),Hd(s.concat([r[1]]).filter(Qe))]},[1/0,-1/0])},DG=function(t,r,s){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(d,u){var f=j3e(u.slice(r,s+1));return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},e6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,t6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vE=function(t,r,s){if(Tt(t))return t(r,s);if(!Array.isArray(t))return r;var a=[];if(Qe(t[0]))a[0]=s?t[0]:Math.min(t[0],r[0]);else if(e6.test(t[0])){var i=+e6.exec(t[0])[1];a[0]=r[0]-i}else Tt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Qe(t[1]))a[1]=s?t[1]:Math.max(t[1],r[1]);else if(t6.test(t[1])){var o=+t6.exec(t[1])[1];a[1]=r[1]+o}else Tt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},K1=function(t,r,s){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!s||a>0)return a}if(t&&r&&r.length>=2){for(var i=bO(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},r6=function(t,r,s){return!t||!t.length||Xf(t,Ii(s,"type.defaultProps.domain"))?r:t},IG=function(t,r){var s=t.type.defaultProps?Rn(Rn({},t.type.defaultProps),t.props):t.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,d=s.chartType,u=s.hide;return Rn(Rn({},bt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:GO(t),value:Wn(r,a),type:c,payload:r,chartType:d,hide:u})};function U0(e){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U0(e)}function n6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function yc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n6(Object(r),!0).forEach(function(s){RG(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function RG(e,t,r){return t=b3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b3e(e){var t=w3e(e,"string");return U0(t)=="symbol"?t:t+""}function w3e(e,t){if(U0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(U0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N3e(e,t){return A3e(e)||C3e(e,t)||S3e(e,t)||_3e()}function _3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S3e(e,t){if(e){if(typeof e=="string")return s6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s6(e,t)}}function s6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function C3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function A3e(e){if(Array.isArray(e))return e}var Y1=Math.PI/180,E3e=function(t){return t*180/Math.PI},Qr=function(t,r,s,a){return{x:t+Math.cos(-Y1*a)*s,y:r+Math.sin(-Y1*a)*s}},MG=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(r-(s.top||0)-(s.bottom||0)))/2},P3e=function(t,r,s,a,i){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=Ea(t.cx,o,o/2),f=Ea(t.cy,l,l/2),m=MG(o,l,s),h=Ea(t.innerRadius,m,0),x=Ea(t.outerRadius,m,m*.8),p=Object.keys(r);return p.reduce(function(g,j){var y=r[j],w=y.domain,b=y.reversed,N;if($t(y.range))a==="angleAxis"?N=[c,d]:a==="radiusAxis"&&(N=[h,x]),b&&(N=[N[1],N[0]]);else{N=y.range;var _=N,C=N3e(_,2);c=C[0],d=C[1]}var A=kG(y,i),E=A.realScaleType,k=A.scale;k.domain(w).range(N),TG(k);var O=OG(k,yc(yc({},y),{},{realScaleType:E})),I=yc(yc(yc({},y),O),{},{range:N,radius:x,realScaleType:E,scale:k,cx:u,cy:f,innerRadius:h,outerRadius:x,startAngle:c,endAngle:d});return yc(yc({},g),{},RG({},j,I))},{})},k3e=function(t,r){var s=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},T3e=function(t,r){var s=t.x,a=t.y,i=r.cx,o=r.cy,l=k3e({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(s-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:E3e(d),angleInRadian:d}},O3e=function(t){var r=t.startAngle,s=t.endAngle,a=Math.floor(r/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:s-o*360}},D3e=function(t,r){var s=r.startAngle,a=r.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},a6=function(t,r){var s=t.x,a=t.y,i=T3e({x:s,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=O3e(r),f=u.startAngle,m=u.endAngle,h=l,x;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;x=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;x=h>=m&&h<=f}return x?yc(yc({},r),{},{radius:o,angle:D3e(h,r)}):null},FG=function(t){return!v.isValidElement(t)&&!Tt(t)&&typeof t!="boolean"?t.className:""};function V0(e){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V0(e)}var I3e=["offset"];function R3e(e){return L3e(e)||$3e(e)||F3e(e)||M3e()}function M3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F3e(e,t){if(e){if(typeof e=="string")return yE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yE(e,t)}}function $3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function L3e(e){if(Array.isArray(e))return yE(e)}function yE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function B3e(e,t){if(e==null)return{};var r=U3e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function U3e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function i6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i6(Object(r),!0).forEach(function(s){V3e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function V3e(e,t,r){return t=z3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z3e(e){var t=W3e(e,"string");return V0(t)=="symbol"?t:t+""}function W3e(e,t){if(V0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(V0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},z0.apply(this,arguments)}var H3e=function(t){var r=t.value,s=t.formatter,a=$t(t.children)?r:t.children;return Tt(s)?s(a):a},q3e=function(t,r){var s=Aa(r-t),a=Math.min(Math.abs(r-t),360);return s*a},G3e=function(t,r,s){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,d=c.cx,u=c.cy,f=c.innerRadius,m=c.outerRadius,h=c.startAngle,x=c.endAngle,p=c.clockWise,g=(f+m)/2,j=q3e(h,x),y=j>=0?1:-1,w,b;a==="insideStart"?(w=h+y*o,b=p):a==="insideEnd"?(w=x-y*o,b=!p):a==="end"&&(w=x+y*o,b=p),b=j<=0?b:!b;var N=Qr(d,u,g,w),_=Qr(d,u,g,w+(b?1:-1)*359),C="M".concat(N.x,",").concat(N.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(_.x,",").concat(_.y),A=$t(t.id)?fm("recharts-radial-line-"):t.id;return z.createElement("text",z0({},s,{dominantBaseline:"central",className:zt("recharts-radial-bar-label",l)}),z.createElement("defs",null,z.createElement("path",{id:A,d:C})),z.createElement("textPath",{xlinkHref:"#".concat(A)},r))},K3e=function(t){var r=t.viewBox,s=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,f=i.endAngle,m=(u+f)/2;if(a==="outside"){var h=Qr(o,l,d+s,m),x=h.x,p=h.y;return{x,y:p,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+d)/2,j=Qr(o,l,g,m),y=j.x,w=j.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Y3e=function(t){var r=t.viewBox,s=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,f=u>=0?1:-1,m=f*a,h=f>0?"end":"start",x=f>0?"start":"end",p=d>=0?1:-1,g=p*a,j=p>0?"end":"start",y=p>0?"start":"end";if(i==="top"){var w={x:l+d/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return os(os({},w),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var b={x:l+d/2,y:c+u+m,textAnchor:"middle",verticalAnchor:x};return os(os({},b),s?{height:Math.max(s.y+s.height-(c+u),0),width:d}:{})}if(i==="left"){var N={x:l-g,y:c+u/2,textAnchor:j,verticalAnchor:"middle"};return os(os({},N),s?{width:Math.max(N.x-s.x,0),height:u}:{})}if(i==="right"){var _={x:l+d+g,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return os(os({},_),s?{width:Math.max(s.x+s.width-_.x,0),height:u}:{})}var C=s?{width:d,height:u}:{};return i==="insideLeft"?os({x:l+g,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},C):i==="insideRight"?os({x:l+d-g,y:c+u/2,textAnchor:j,verticalAnchor:"middle"},C):i==="insideTop"?os({x:l+d/2,y:c+m,textAnchor:"middle",verticalAnchor:x},C):i==="insideBottom"?os({x:l+d/2,y:c+u-m,textAnchor:"middle",verticalAnchor:h},C):i==="insideTopLeft"?os({x:l+g,y:c+m,textAnchor:y,verticalAnchor:x},C):i==="insideTopRight"?os({x:l+d-g,y:c+m,textAnchor:j,verticalAnchor:x},C):i==="insideBottomLeft"?os({x:l+g,y:c+u-m,textAnchor:y,verticalAnchor:h},C):i==="insideBottomRight"?os({x:l+d-g,y:c+u-m,textAnchor:j,verticalAnchor:h},C):Zp(i)&&(Qe(i.x)||df(i.x))&&(Qe(i.y)||df(i.y))?os({x:l+Ea(i.x,d),y:c+Ea(i.y,u),textAnchor:"end",verticalAnchor:"end"},C):os({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},C)},X3e=function(t){return"cx"in t&&Qe(t.cx)};function Cs(e){var t=e.offset,r=t===void 0?5:t,s=B3e(e,I3e),a=os({offset:r},s),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,f=u===void 0?"":u,m=a.textBreakAll;if(!i||$t(l)&&$t(c)&&!v.isValidElement(d)&&!Tt(d))return null;if(v.isValidElement(d))return v.cloneElement(d,a);var h;if(Tt(d)){if(h=v.createElement(d,a),v.isValidElement(h))return h}else h=H3e(a);var x=X3e(i),p=bt(a,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return G3e(a,h,p);var g=x?K3e(a):Y3e(a);return z.createElement(Yf,z0({className:zt("recharts-label",f)},p,g,{breakAll:m}),h)}Cs.displayName="Label";var $G=function(t){var r=t.cx,s=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,f=t.x,m=t.y,h=t.top,x=t.left,p=t.width,g=t.height,j=t.clockWise,y=t.labelViewBox;if(y)return y;if(Qe(p)&&Qe(g)){if(Qe(f)&&Qe(m))return{x:f,y:m,width:p,height:g};if(Qe(h)&&Qe(x))return{x:h,y:x,width:p,height:g}}return Qe(f)&&Qe(m)?{x:f,y:m,width:0,height:0}:Qe(r)&&Qe(s)?{cx:r,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:j}:t.viewBox?t.viewBox:{}},Q3e=function(t,r){return t?t===!0?z.createElement(Cs,{key:"label-implicit",viewBox:r}):bs(t)?z.createElement(Cs,{key:"label-implicit",viewBox:r,value:t}):v.isValidElement(t)?t.type===Cs?v.cloneElement(t,{key:"label-implicit",viewBox:r}):z.createElement(Cs,{key:"label-implicit",content:t,viewBox:r}):Tt(t)?z.createElement(Cs,{key:"label-implicit",content:t,viewBox:r}):Zp(t)?z.createElement(Cs,z0({viewBox:r},t,{key:"label-implicit"})):null:null},Z3e=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var a=t.children,i=$G(t),o=Ri(a,Cs).map(function(c,d){return v.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!s)return o;var l=Q3e(t.label,r||i);return[l].concat(R3e(o))};Cs.parseViewBox=$G;Cs.renderCallByParent=Z3e;function J3e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var eDe=J3e;const tDe=Ar(eDe);function W0(e){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W0(e)}var rDe=["valueAccessor"],nDe=["data","dataKey","clockWise","id","textBreakAll"];function sDe(e){return lDe(e)||oDe(e)||iDe(e)||aDe()}function aDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iDe(e,t){if(e){if(typeof e=="string")return jE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jE(e,t)}}function oDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lDe(e){if(Array.isArray(e))return jE(e)}function jE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function X1(){return X1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},X1.apply(this,arguments)}function o6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function l6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o6(Object(r),!0).forEach(function(s){cDe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function cDe(e,t,r){return t=dDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dDe(e){var t=uDe(e,"string");return W0(t)=="symbol"?t:t+""}function uDe(e,t){if(W0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(W0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c6(e,t){if(e==null)return{};var r=fDe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function fDe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var mDe=function(t){return Array.isArray(t.value)?tDe(t.value):t.value};function Gl(e){var t=e.valueAccessor,r=t===void 0?mDe:t,s=c6(e,rDe),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,d=c6(s,nDe);return!a||!a.length?null:z.createElement(er,{className:"recharts-label-list"},a.map(function(u,f){var m=$t(i)?r(u,f):Wn(u&&u.payload,i),h=$t(l)?{}:{id:"".concat(l,"-").concat(f)};return z.createElement(Cs,X1({},bt(u,!0),d,h,{parentViewBox:u.parentViewBox,value:m,textBreakAll:c,viewBox:Cs.parseViewBox($t(o)?u:l6(l6({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Gl.displayName="LabelList";function hDe(e,t){return e?e===!0?z.createElement(Gl,{key:"labelList-implicit",data:t}):z.isValidElement(e)||Tt(e)?z.createElement(Gl,{key:"labelList-implicit",data:t,content:e}):Zp(e)?z.createElement(Gl,X1({data:t},e,{key:"labelList-implicit"})):null:null}function pDe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var s=e.children,a=Ri(s,Gl).map(function(o,l){return v.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=hDe(e.label,t);return[i].concat(sDe(a))}Gl.renderCallByParent=pDe;function H0(e){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H0(e)}function bE(){return bE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},bE.apply(this,arguments)}function d6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function u6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d6(Object(r),!0).forEach(function(s){xDe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function xDe(e,t,r){return t=gDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gDe(e){var t=vDe(e,"string");return H0(t)=="symbol"?t:t+""}function vDe(e,t){if(H0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(H0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yDe=function(t,r){var s=Aa(r-t),a=Math.min(Math.abs(r-t),359.999);return s*a},wj=function(t){var r=t.cx,s=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+a,f=Math.asin(c/u)/Y1,m=d?i:i+o*f,h=Qr(r,s,u,m),x=Qr(r,s,a,m),p=d?i-o*f:i,g=Qr(r,s,u*Math.cos(f*Y1),p);return{center:h,circleTangency:x,lineTangency:g,theta:f}},LG=function(t){var r=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=yDe(o,l),d=o+c,u=Qr(r,s,i,o),f=Qr(r,s,i,d),m="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=Qr(r,s,a,o),x=Qr(r,s,a,d);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(r,",").concat(s," Z");return m},jDe=function(t){var r=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,f=Aa(u-d),m=wj({cx:r,cy:s,radius:i,angle:d,sign:f,cornerRadius:o,cornerIsExternal:c}),h=m.circleTangency,x=m.lineTangency,p=m.theta,g=wj({cx:r,cy:s,radius:i,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:c}),j=g.circleTangency,y=g.lineTangency,w=g.theta,b=c?Math.abs(d-u):Math.abs(d-u)-p-w;if(b<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):LG({cx:r,cy:s,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var N="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var _=wj({cx:r,cy:s,radius:a,angle:d,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=_.circleTangency,A=_.lineTangency,E=_.theta,k=wj({cx:r,cy:s,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=k.circleTangency,I=k.lineTangency,W=k.theta,H=c?Math.abs(d-u):Math.abs(d-u)-E-W;if(H<0&&o===0)return"".concat(N,"L").concat(r,",").concat(s,"Z");N+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(H>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else N+="L".concat(r,",").concat(s,"Z");return N},bDe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},BG=function(t){var r=u6(u6({},bDe),t),s=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,m=r.className;if(o<i||u===f)return null;var h=zt("recharts-sector",m),x=o-i,p=Ea(l,x,0,!0),g;return p>0&&Math.abs(u-f)<360?g=jDe({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:f}):g=LG({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:f}),z.createElement("path",bE({},bt(r,!0),{className:h,d:g,role:"img"}))};function q0(e){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q0(e)}function wE(){return wE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},wE.apply(this,arguments)}function f6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function m6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f6(Object(r),!0).forEach(function(s){wDe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function wDe(e,t,r){return t=NDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NDe(e){var t=_De(e,"string");return q0(t)=="symbol"?t:t+""}function _De(e,t){if(q0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(q0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h6={curveBasisClosed:w1e,curveBasisOpen:N1e,curveBasis:b1e,curveBumpX:o1e,curveBumpY:l1e,curveLinearClosed:_1e,curveLinear:f2,curveMonotoneX:S1e,curveMonotoneY:C1e,curveNatural:A1e,curveStep:E1e,curveStepAfter:k1e,curveStepBefore:P1e},Nj=function(t){return t.x===+t.x&&t.y===+t.y},Kx=function(t){return t.x},Yx=function(t){return t.y},SDe=function(t,r){if(Tt(t))return t;var s="curve".concat(d2(t));return(s==="curveMonotone"||s==="curveBump")&&r?h6["".concat(s).concat(r==="vertical"?"Y":"X")]:h6[s]||f2},CDe=function(t){var r=t.type,s=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=SDe(s,l),f=d?i.filter(function(p){return Nj(p)}):i,m;if(Array.isArray(o)){var h=d?o.filter(function(p){return Nj(p)}):o,x=f.map(function(p,g){return m6(m6({},p),{},{base:h[g]})});return l==="vertical"?m=mj().y(Yx).x1(Kx).x0(function(p){return p.base.x}):m=mj().x(Kx).y1(Yx).y0(function(p){return p.base.y}),m.defined(Nj).curve(u),m(x)}return l==="vertical"&&Qe(o)?m=mj().y(Yx).x1(Kx).x0(o):Qe(o)?m=mj().x(Kx).y1(Yx).y0(o):m=IH().x(Kx).y(Yx),m.defined(Nj).curve(u),m(f)},Pf=function(t){var r=t.className,s=t.points,a=t.path,i=t.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?CDe(t):a;return z.createElement("path",wE({},bt(t,!1),j1(t),{className:zt("recharts-curve",r),d:o,ref:i}))},UG={exports:{}},ADe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",EDe=ADe,PDe=EDe;function VG(){}function zG(){}zG.resetWarningCache=VG;var kDe=function(){function e(s,a,i,o,l,c){if(c!==PDe){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:zG,resetWarningCache:VG};return r.PropTypes=r,r};UG.exports=kDe();var TDe=UG.exports;const Kt=Ar(TDe);var ODe=Object.getOwnPropertyNames,DDe=Object.getOwnPropertySymbols,IDe=Object.prototype.hasOwnProperty;function p6(e,t){return function(s,a,i){return e(s,a,i)&&t(s,a,i)}}function _j(e){return function(r,s,a){if(!r||!s||typeof r!="object"||typeof s!="object")return e(r,s,a);var i=a.cache,o=i.get(r),l=i.get(s);if(o&&l)return o===s&&l===r;i.set(r,s),i.set(s,r);var c=e(r,s,a);return i.delete(r),i.delete(s),c}}function x6(e){return ODe(e).concat(DDe(e))}var WG=Object.hasOwn||function(e,t){return IDe.call(e,t)};function cx(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var HG="_owner",g6=Object.getOwnPropertyDescriptor,v6=Object.keys;function RDe(e,t,r){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!r.equals(e[s],t[s],s,s,e,t,r))return!1;return!0}function MDe(e,t){return cx(e.getTime(),t.getTime())}function y6(e,t,r){if(e.size!==t.size)return!1;for(var s={},a=e.entries(),i=0,o,l;(o=a.next())&&!o.done;){for(var c=t.entries(),d=!1,u=0;(l=c.next())&&!l.done;){var f=o.value,m=f[0],h=f[1],x=l.value,p=x[0],g=x[1];!d&&!s[u]&&(d=r.equals(m,p,i,u,e,t,r)&&r.equals(h,g,m,p,e,t,r))&&(s[u]=!0),u++}if(!d)return!1;i++}return!0}function FDe(e,t,r){var s=v6(e),a=s.length;if(v6(t).length!==a)return!1;for(var i;a-- >0;)if(i=s[a],i===HG&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!WG(t,i)||!r.equals(e[i],t[i],i,i,e,t,r))return!1;return!0}function Xx(e,t,r){var s=x6(e),a=s.length;if(x6(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=s[a],i===HG&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!WG(t,i)||!r.equals(e[i],t[i],i,i,e,t,r)||(o=g6(e,i),l=g6(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function $De(e,t){return cx(e.valueOf(),t.valueOf())}function LDe(e,t){return e.source===t.source&&e.flags===t.flags}function j6(e,t,r){if(e.size!==t.size)return!1;for(var s={},a=e.values(),i,o;(i=a.next())&&!i.done;){for(var l=t.values(),c=!1,d=0;(o=l.next())&&!o.done;)!c&&!s[d]&&(c=r.equals(i.value,o.value,i.value,o.value,e,t,r))&&(s[d]=!0),d++;if(!c)return!1}return!0}function BDe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var UDe="[object Arguments]",VDe="[object Boolean]",zDe="[object Date]",WDe="[object Map]",HDe="[object Number]",qDe="[object Object]",GDe="[object RegExp]",KDe="[object Set]",YDe="[object String]",XDe=Array.isArray,b6=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,w6=Object.assign,QDe=Object.prototype.toString.call.bind(Object.prototype.toString);function ZDe(e){var t=e.areArraysEqual,r=e.areDatesEqual,s=e.areMapsEqual,a=e.areObjectsEqual,i=e.arePrimitiveWrappersEqual,o=e.areRegExpsEqual,l=e.areSetsEqual,c=e.areTypedArraysEqual;return function(u,f,m){if(u===f)return!0;if(u==null||f==null||typeof u!="object"||typeof f!="object")return u!==u&&f!==f;var h=u.constructor;if(h!==f.constructor)return!1;if(h===Object)return a(u,f,m);if(XDe(u))return t(u,f,m);if(b6!=null&&b6(u))return c(u,f,m);if(h===Date)return r(u,f,m);if(h===RegExp)return o(u,f,m);if(h===Map)return s(u,f,m);if(h===Set)return l(u,f,m);var x=QDe(u);return x===zDe?r(u,f,m):x===GDe?o(u,f,m):x===WDe?s(u,f,m):x===KDe?l(u,f,m):x===qDe?typeof u.then!="function"&&typeof f.then!="function"&&a(u,f,m):x===UDe?a(u,f,m):x===VDe||x===HDe||x===YDe?i(u,f,m):!1}}function JDe(e){var t=e.circular,r=e.createCustomConfig,s=e.strict,a={areArraysEqual:s?Xx:RDe,areDatesEqual:MDe,areMapsEqual:s?p6(y6,Xx):y6,areObjectsEqual:s?Xx:FDe,arePrimitiveWrappersEqual:$De,areRegExpsEqual:LDe,areSetsEqual:s?p6(j6,Xx):j6,areTypedArraysEqual:s?Xx:BDe};if(r&&(a=w6({},a,r(a))),t){var i=_j(a.areArraysEqual),o=_j(a.areMapsEqual),l=_j(a.areObjectsEqual),c=_j(a.areSetsEqual);a=w6({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function e5e(e){return function(t,r,s,a,i,o,l){return e(t,r,l)}}function t5e(e){var t=e.circular,r=e.comparator,s=e.createState,a=e.equals,i=e.strict;if(s)return function(c,d){var u=s(),f=u.cache,m=f===void 0?t?new WeakMap:void 0:f,h=u.meta;return r(c,d,{cache:m,equals:a,meta:h,strict:i})};if(t)return function(c,d){return r(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var r5e=Iu();Iu({strict:!0});Iu({circular:!0});Iu({circular:!0,strict:!0});Iu({createInternalComparator:function(){return cx}});Iu({strict:!0,createInternalComparator:function(){return cx}});Iu({circular:!0,createInternalComparator:function(){return cx}});Iu({circular:!0,createInternalComparator:function(){return cx},strict:!0});function Iu(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,s=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=JDe(e),c=ZDe(l),d=s?s(c):e5e(c);return t5e({circular:r,comparator:c,createState:a,equals:d,strict:o})}function n5e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function N6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,s=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):n5e(a)};requestAnimationFrame(s)}function NE(e){"@babel/helpers - typeof";return NE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NE(e)}function s5e(e){return l5e(e)||o5e(e)||i5e(e)||a5e()}function a5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i5e(e,t){if(e){if(typeof e=="string")return _6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _6(e,t)}}function _6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function o5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l5e(e){if(Array.isArray(e))return e}function c5e(){var e={},t=function(){return null},r=!1,s=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=s5e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){N6(a.bind(null,d),c);return}a(c),N6(a.bind(null,d));return}NE(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,s(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function G0(e){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G0(e)}function S6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function C6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S6(Object(r),!0).forEach(function(s){qG(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function qG(e,t,r){return t=d5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d5e(e){var t=u5e(e,"string");return G0(t)==="symbol"?t:String(t)}function u5e(e,t){if(G0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(G0(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f5e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},m5e=function(t){return t},h5e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Og=function(t,r){return Object.keys(r).reduce(function(s,a){return C6(C6({},s),{},qG({},a,t(a,r[a])))},{})},A6=function(t,r,s){return t.map(function(a){return"".concat(h5e(a)," ").concat(r,"ms ").concat(s)}).join(",")};function p5e(e,t){return v5e(e)||g5e(e,t)||GG(e,t)||x5e()}function x5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function v5e(e){if(Array.isArray(e))return e}function y5e(e){return w5e(e)||b5e(e)||GG(e)||j5e()}function j5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GG(e,t){if(e){if(typeof e=="string")return _E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _E(e,t)}}function b5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w5e(e){if(Array.isArray(e))return _E(e)}function _E(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var Q1=1e-4,KG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},YG=function(t,r){return t.map(function(s,a){return s*Math.pow(r,a)}).reduce(function(s,a){return s+a})},E6=function(t,r){return function(s){var a=KG(t,r);return YG(a,s)}},N5e=function(t,r){return function(s){var a=KG(t,r),i=[].concat(y5e(a.map(function(o,l){return o*l}).slice(1)),[0]);return YG(i,s)}},P6=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=p5e(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var f=E6(a,o),m=E6(i,l),h=N5e(a,o),x=function(j){return j>1?1:j<0?0:j},p=function(j){for(var y=j>1?1:j,w=y,b=0;b<8;++b){var N=f(w)-y,_=h(w);if(Math.abs(N-y)<Q1||_<Q1)return m(w);w=x(w-N/_)}return m(w)};return p.isStepper=!1,p},_5e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,s=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(u,f,m){var h=-(u-f)*s,x=m*i,p=m+(h-x)*l/1e3,g=m*l/1e3+u;return Math.abs(g-f)<Q1&&Math.abs(p)<Q1?[f,0]:[g,p]};return c.isStepper=!0,c.dt=l,c},S5e=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return P6(a);case"spring":return _5e();default:if(a.split("(")[0]==="cubic-bezier")return P6(a)}return typeof a=="function"?a:null};function K0(e){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K0(e)}function k6(e){return E5e(e)||A5e(e)||XG(e)||C5e()}function C5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function E5e(e){if(Array.isArray(e))return CE(e)}function T6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ls(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T6(Object(r),!0).forEach(function(s){SE(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function SE(e,t,r){return t=P5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P5e(e){var t=k5e(e,"string");return K0(t)==="symbol"?t:String(t)}function k5e(e,t){if(K0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(K0(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T5e(e,t){return I5e(e)||D5e(e,t)||XG(e,t)||O5e()}function O5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XG(e,t){if(e){if(typeof e=="string")return CE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CE(e,t)}}function CE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function D5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function I5e(e){if(Array.isArray(e))return e}var Z1=function(t,r,s){return t+(r-t)*s},AE=function(t){var r=t.from,s=t.to;return r!==s},R5e=function e(t,r,s){var a=Og(function(i,o){if(AE(o)){var l=t(o.from,o.to,o.velocity),c=T5e(l,2),d=c[0],u=c[1];return Ls(Ls({},o),{},{from:d,velocity:u})}return o},r);return s<1?Og(function(i,o){return AE(o)?Ls(Ls({},o),{},{velocity:Z1(o.velocity,a[i].velocity,s),from:Z1(o.from,a[i].from,s)}):o},r):e(t,a,s-1)};const M5e=function(e,t,r,s,a){var i=f5e(e,t),o=i.reduce(function(g,j){return Ls(Ls({},g),{},SE({},j,[e[j],t[j]]))},{}),l=i.reduce(function(g,j){return Ls(Ls({},g),{},SE({},j,{from:e[j],velocity:0,to:t[j]}))},{}),c=-1,d,u,f=function(){return null},m=function(){return Og(function(j,y){return y.from},l)},h=function(){return!Object.values(l).filter(AE).length},x=function(j){d||(d=j);var y=j-d,w=y/r.dt;l=R5e(r,l,w),a(Ls(Ls(Ls({},e),t),m())),d=j,h()||(c=requestAnimationFrame(f))},p=function(j){u||(u=j);var y=(j-u)/s,w=Og(function(N,_){return Z1.apply(void 0,k6(_).concat([r(y)]))},o);if(a(Ls(Ls(Ls({},e),t),w)),y<1)c=requestAnimationFrame(f);else{var b=Og(function(N,_){return Z1.apply(void 0,k6(_).concat([r(1)]))},o);a(Ls(Ls(Ls({},e),t),b))}};return f=r.isStepper?x:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}var F5e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function $5e(e,t){if(e==null)return{};var r=L5e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function L5e(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function KS(e){return z5e(e)||V5e(e)||U5e(e)||B5e()}function B5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U5e(e,t){if(e){if(typeof e=="string")return EE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EE(e,t)}}function V5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function z5e(e){if(Array.isArray(e))return EE(e)}function EE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function O6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O6(Object(r),!0).forEach(function(s){ug(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ug(e,t,r){return t=QG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H5e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,QG(s.key),s)}}function q5e(e,t,r){return t&&H5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QG(e){var t=G5e(e,"string");return fp(t)==="symbol"?t:String(t)}function G5e(e,t){if(fp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(fp(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PE(e,t)}function PE(e,t){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},PE(e,t)}function Y5e(e){var t=X5e();return function(){var s=J1(e),a;if(t){var i=J1(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return kE(this,a)}}function kE(e,t){if(t&&(fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TE(e)}function TE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X5e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function J1(e){return J1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J1(e)}var cl=function(e){K5e(r,e);var t=Y5e(r);function r(s,a){var i;W5e(this,r),i=t.call(this,s,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,f=o.steps,m=o.children,h=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(TE(i)),i.changeStyle=i.changeStyle.bind(TE(i)),!l||h<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:u}),kE(i);if(f&&f.length)i.state={style:f[0].style};else if(d){if(typeof m=="function")return i.state={style:d},kE(i);i.state={style:c?ug({},c,d):d}}else i.state={style:{}};return i}return q5e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,f=i.from,m=this.state.style;if(l){if(!o){var h={style:c?ug({},c,u):u};this.state&&m&&(c&&m[c]!==u||!c&&m!==u)&&this.setState(h);return}if(!(r5e(a.to,u)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=x||d?f:a.to;if(this.state&&m){var g={style:c?ug({},c,p):p};(c&&m[c]!==p||!c&&m!==p)&&this.setState(g)}this.runAnimation(Io(Io({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,h=M5e(o,l,S5e(d),c,this.changeStyle),x=function(){i.stopJSAnimation=h()};this.manager.start([m,u,x,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,f=d.duration,m=f===void 0?0:f,h=function(p,g,j){if(j===0)return p;var y=g.duration,w=g.easing,b=w===void 0?"ease":w,N=g.style,_=g.properties,C=g.onAnimationEnd,A=j>0?o[j-1]:g,E=_||Object.keys(N);if(typeof b=="function"||b==="spring")return[].concat(KS(p),[i.runJSAnimation.bind(i,{from:A.style,to:N,duration:y,easing:b}),y]);var k=A6(E,y,b),O=Io(Io(Io({},A.style),N),{},{transition:k});return[].concat(KS(p),[O,y,C]).filter(m5e)};return this.manager.start([c].concat(KS(o.reduce(h,[u,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=c5e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,h=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof d=="function"||typeof h=="function"||d==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var p=l?ug({},l,c):c,g=A6(Object.keys(p),o,d);x.start([u,i,Io(Io({},p),{},{transition:g}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=$5e(a,F5e),d=v.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var f=function(h){var x=h.props,p=x.style,g=p===void 0?{}:p,j=x.className,y=v.cloneElement(h,Io(Io({},c),{},{style:Io(Io({},g),u),className:j}));return y};return d===1?f(v.Children.only(i)):z.createElement("div",null,v.Children.map(i,function(m){return f(m)}))}}]),r}(v.PureComponent);cl.displayName="Animate";cl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};cl.propTypes={from:Kt.oneOfType([Kt.object,Kt.string]),to:Kt.oneOfType([Kt.object,Kt.string]),attributeName:Kt.string,duration:Kt.number,begin:Kt.number,easing:Kt.oneOfType([Kt.string,Kt.func]),steps:Kt.arrayOf(Kt.shape({duration:Kt.number.isRequired,style:Kt.object.isRequired,easing:Kt.oneOfType([Kt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Kt.func]),properties:Kt.arrayOf("string"),onAnimationEnd:Kt.func})),children:Kt.oneOfType([Kt.node,Kt.func]),isActive:Kt.bool,canBegin:Kt.bool,onAnimationEnd:Kt.func,shouldReAnimate:Kt.bool,onAnimationStart:Kt.func,onAnimationReStart:Kt.func};Kt.object,Kt.object,Kt.object,Kt.element;Kt.object,Kt.object,Kt.object,Kt.oneOfType([Kt.array,Kt.element]),Kt.any;function Y0(e){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y0(e)}function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ew.apply(this,arguments)}function Q5e(e,t){return tIe(e)||eIe(e,t)||J5e(e,t)||Z5e()}function Z5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J5e(e,t){if(e){if(typeof e=="string")return D6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D6(e,t)}}function D6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function eIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function tIe(e){if(Array.isArray(e))return e}function I6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function R6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I6(Object(r),!0).forEach(function(s){rIe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function rIe(e,t,r){return t=nIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nIe(e){var t=sIe(e,"string");return Y0(t)=="symbol"?t:t+""}function sIe(e,t){if(Y0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Y0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M6=function(t,r,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,u;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],m=0,h=4;m<h;m++)f[m]=i[m]>o?o:i[m];u="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(d,",").concat(t+c*f[0],",").concat(r)),u+="L ".concat(t+s-c*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(d,`,
        `).concat(t+s,",").concat(r+l*f[1])),u+="L ".concat(t+s,",").concat(r+a-l*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(d,`,
        `).concat(t+s-c*f[2],",").concat(r+a)),u+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+a-l*f[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);u="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+s-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+s,",").concat(r+l*x,`
            L `).concat(t+s,",").concat(r+a-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+s-c*x,",").concat(r+a,`
            L `).concat(t+c*x,",").concat(r+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t,",").concat(r+a-l*x," Z")}else u="M ".concat(t,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return u},aIe=function(t,r){if(!t||!r)return!1;var s=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return s>=d&&s<=u&&a>=f&&a<=m}return!1},iIe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KO=function(t){var r=R6(R6({},iIe),t),s=v.useRef(),a=v.useState(-1),i=Q5e(a,2),o=i[0],l=i[1];v.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var b=s.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,d=r.y,u=r.width,f=r.height,m=r.radius,h=r.className,x=r.animationEasing,p=r.animationDuration,g=r.animationBegin,j=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||u===0||f===0)return null;var w=zt("recharts-rectangle",h);return y?z.createElement(cl,{canBegin:o>0,from:{width:u,height:f,x:c,y:d},to:{width:u,height:f,x:c,y:d},duration:p,animationEasing:x,isActive:y},function(b){var N=b.width,_=b.height,C=b.x,A=b.y;return z.createElement(cl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,isActive:j,easing:x},z.createElement("path",ew({},bt(r,!0),{className:w,d:M6(C,A,N,_,m),ref:s})))}):z.createElement("path",ew({},bt(r,!0),{className:w,d:M6(c,d,u,f,m)}))},oIe=["points","className","baseLinePoints","connectNulls"];function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},eh.apply(this,arguments)}function lIe(e,t){if(e==null)return{};var r=cIe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function cIe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function F6(e){return mIe(e)||fIe(e)||uIe(e)||dIe()}function dIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uIe(e,t){if(e){if(typeof e=="string")return OE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OE(e,t)}}function fIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mIe(e){if(Array.isArray(e))return OE(e)}function OE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var $6=function(t){return t&&t.x===+t.x&&t.y===+t.y},hIe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(s){$6(s)?r[r.length-1].push(s):r[r.length-1].length>0&&r.push([])}),$6(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Dg=function(t,r){var s=hIe(t);r&&(s=[s.reduce(function(i,o){return[].concat(F6(i),F6(o))},[])]);var a=s.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(a,"Z"):a},pIe=function(t,r,s){var a=Dg(t,s);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Dg(r.reverse(),s).slice(1))},xIe=function(t){var r=t.points,s=t.className,a=t.baseLinePoints,i=t.connectNulls,o=lIe(t,oIe);if(!r||!r.length)return null;var l=zt("recharts-polygon",s);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=pIe(r,a,i);return z.createElement("g",{className:l},z.createElement("path",eh({},bt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?z.createElement("path",eh({},bt(o,!0),{fill:"none",d:Dg(r,i)})):null,c?z.createElement("path",eh({},bt(o,!0),{fill:"none",d:Dg(a,i)})):null)}var u=Dg(r,i);return z.createElement("path",eh({},bt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function DE(){return DE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},DE.apply(this,arguments)}var py=function(t){var r=t.cx,s=t.cy,a=t.r,i=t.className,o=zt("recharts-dot",i);return r===+r&&s===+s&&a===+a?z.createElement("circle",DE({},bt(t,!1),j1(t),{className:o,cx:r,cy:s,r:a})):null};function X0(e){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X0(e)}var gIe=["x","y","top","left","width","height","className"];function IE(){return IE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},IE.apply(this,arguments)}function L6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function vIe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L6(Object(r),!0).forEach(function(s){yIe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function yIe(e,t,r){return t=jIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jIe(e){var t=bIe(e,"string");return X0(t)=="symbol"?t:t+""}function bIe(e,t){if(X0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(X0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wIe(e,t){if(e==null)return{};var r=NIe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function NIe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var _Ie=function(t,r,s,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(s)},SIe=function(t){var r=t.x,s=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,f=u===void 0?0:u,m=t.height,h=m===void 0?0:m,x=t.className,p=wIe(t,gIe),g=vIe({x:s,y:i,top:l,left:d,width:f,height:h},p);return!Qe(s)||!Qe(i)||!Qe(f)||!Qe(h)||!Qe(l)||!Qe(d)?null:z.createElement("path",IE({},bt(g,!0),{className:zt("recharts-cross",x),d:_Ie(s,i,f,h,l,d)}))},CIe=N2,AIe=lG,EIe=oc;function PIe(e,t){return e&&e.length?CIe(e,EIe(t),AIe):void 0}var kIe=PIe;const TIe=Ar(kIe);var OIe=N2,DIe=oc,IIe=cG;function RIe(e,t){return e&&e.length?OIe(e,DIe(t),IIe):void 0}var MIe=RIe;const FIe=Ar(MIe);var $Ie=["cx","cy","angle","ticks","axisLine"],LIe=["ticks","tick","angle","tickFormatter","stroke"];function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ig.apply(this,arguments)}function B6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B6(Object(r),!0).forEach(function(s){A2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function U6(e,t){if(e==null)return{};var r=BIe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function BIe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function UIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,JG(s.key),s)}}function VIe(e,t,r){return t&&V6(e.prototype,t),r&&V6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zIe(e,t,r){return t=tw(t),WIe(e,ZG()?Reflect.construct(t,r||[],tw(e).constructor):t.apply(e,r))}function WIe(e,t){if(t&&(mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HIe(e)}function HIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZG=function(){return!!e})()}function tw(e){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tw(e)}function qIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RE(e,t)}function RE(e,t){return RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},RE(e,t)}function A2(e,t,r){return t=JG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JG(e){var t=GIe(e,"string");return mp(t)=="symbol"?t:t+""}function GIe(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(mp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E2=function(e){function t(){return UIe(this,t),zIe(this,t,arguments)}return qIe(t,e),VIe(t,[{key:"getTickValueCoord",value:function(s){var a=s.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Qr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,a;switch(s){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=TIe(l,function(u){return u.coordinate||0}),d=FIe(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,d=U6(s,$Ie),u=l.reduce(function(x,p){return[Math.min(x[0],p.coordinate),Math.max(x[1],p.coordinate)]},[1/0,-1/0]),f=Qr(a,i,u[0],o),m=Qr(a,i,u[1],o),h=Uu(Uu(Uu({},bt(d,!1)),{},{fill:"none"},bt(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return z.createElement("line",Ig({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=U6(a,LIe),f=this.getTickTextAnchor(),m=bt(u,!1),h=bt(o,!1),x=i.map(function(p,g){var j=s.getTickValueCoord(p),y=Uu(Uu(Uu(Uu({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(j.x,", ").concat(j.y,")")},m),{},{stroke:"none",fill:d},h),{},{index:g},j),{},{payload:p});return z.createElement(er,Ig({className:zt("recharts-polar-radius-axis-tick",FG(o)),key:"tick-".concat(p.coordinate)},Kf(s.props,p,g)),t.renderTickItem(o,y,c?c(p.value,g):p.value))});return z.createElement(er,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.axisLine,o=s.tick;return!a||!a.length?null:z.createElement(er,{className:zt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Cs.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return z.isValidElement(s)?o=z.cloneElement(s,a):Tt(s)?o=s(a):o=z.createElement(Yf,Ig({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(v.PureComponent);A2(E2,"displayName","PolarRadiusAxis");A2(E2,"axisType","radiusAxis");A2(E2,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ju.apply(this,arguments)}function z6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Vu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z6(Object(r),!0).forEach(function(s){P2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function KIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,tK(s.key),s)}}function YIe(e,t,r){return t&&W6(e.prototype,t),r&&W6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XIe(e,t,r){return t=rw(t),QIe(e,eK()?Reflect.construct(t,r||[],rw(e).constructor):t.apply(e,r))}function QIe(e,t){if(t&&(hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZIe(e)}function ZIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eK=function(){return!!e})()}function rw(e){return rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rw(e)}function JIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ME(e,t)}function ME(e,t){return ME=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},ME(e,t)}function P2(e,t,r){return t=tK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tK(e){var t=eRe(e,"string");return hp(t)=="symbol"?t:t+""}function eRe(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(hp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tRe=Math.PI/180,H6=1e-5,k2=function(e){function t(){return KIe(this,t),XIe(this,t,arguments)}return JIe(t,e),YIe(t,[{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,f=Qr(i,o,l,s.coordinate),m=Qr(i,o,l+(c==="inner"?-1:1)*u,s.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(s){var a=this.props.orientation,i=Math.cos(-s.coordinate*tRe),o;return i>H6?o=a==="outer"?"start":"end":i<-H6?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,d=Vu(Vu({},bt(this.props,!1)),{},{fill:"none"},bt(l,!1));if(c==="circle")return z.createElement(py,Ju({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,f=u.map(function(m){return Qr(a,i,o,m.coordinate)});return z.createElement(xIe,Ju({className:"recharts-polar-angle-axis-line"},d,{points:f}))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=bt(this.props,!1),f=bt(o,!1),m=Vu(Vu({},u),{},{fill:"none"},bt(l,!1)),h=i.map(function(x,p){var g=s.getTickLineCoord(x),j=s.getTickTextAnchor(x),y=Vu(Vu(Vu({textAnchor:j},u),{},{stroke:"none",fill:d},f),{},{index:p,payload:x,x:g.x2,y:g.y2});return z.createElement(er,Ju({className:zt("recharts-polar-angle-axis-tick",FG(o)),key:"tick-".concat(x.coordinate)},Kf(s.props,x,p)),l&&z.createElement("line",Ju({className:"recharts-polar-angle-axis-tick-line"},m,g)),o&&t.renderTickItem(o,y,c?c(x.value,p):x.value))});return z.createElement(er,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.radius,o=s.axisLine;return i<=0||!a||!a.length?null:z.createElement(er,{className:zt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,a,i){var o;return z.isValidElement(s)?o=z.cloneElement(s,a):Tt(s)?o=s(a):o=z.createElement(Yf,Ju({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(v.PureComponent);P2(k2,"displayName","PolarAngleAxis");P2(k2,"axisType","angleAxis");P2(k2,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var rRe=sq,nRe=rRe(Object.getPrototypeOf,Object),sRe=nRe,aRe=ld,iRe=sRe,oRe=cd,lRe="[object Object]",cRe=Function.prototype,dRe=Object.prototype,rK=cRe.toString,uRe=dRe.hasOwnProperty,fRe=rK.call(Object);function mRe(e){if(!oRe(e)||aRe(e)!=lRe)return!1;var t=iRe(e);if(t===null)return!0;var r=uRe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&rK.call(r)==fRe}var hRe=mRe;const pRe=Ar(hRe);var xRe=ld,gRe=cd,vRe="[object Boolean]";function yRe(e){return e===!0||e===!1||gRe(e)&&xRe(e)==vRe}var jRe=yRe;const bRe=Ar(jRe);function Q0(e){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q0(e)}function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},nw.apply(this,arguments)}function wRe(e,t){return CRe(e)||SRe(e,t)||_Re(e,t)||NRe()}function NRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Re(e,t){if(e){if(typeof e=="string")return q6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q6(e,t)}}function q6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function SRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function CRe(e){if(Array.isArray(e))return e}function G6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function K6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G6(Object(r),!0).forEach(function(s){ARe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ARe(e,t,r){return t=ERe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ERe(e){var t=PRe(e,"string");return Q0(t)=="symbol"?t:t+""}function PRe(e,t){if(Q0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Q0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y6=function(t,r,s,a,i){var o=s-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+s,",").concat(r),l+="L ".concat(t+s-o/2,",").concat(r+i),l+="L ".concat(t+s-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},kRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},TRe=function(t){var r=K6(K6({},kRe),t),s=v.useRef(),a=v.useState(-1),i=wRe(a,2),o=i[0],l=i[1];v.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var w=s.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,f=r.lowerWidth,m=r.height,h=r.className,x=r.animationEasing,p=r.animationDuration,g=r.animationBegin,j=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||m!==+m||u===0&&f===0||m===0)return null;var y=zt("recharts-trapezoid",h);return j?z.createElement(cl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:d},to:{upperWidth:u,lowerWidth:f,height:m,x:c,y:d},duration:p,animationEasing:x,isActive:j},function(w){var b=w.upperWidth,N=w.lowerWidth,_=w.height,C=w.x,A=w.y;return z.createElement(cl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,easing:x},z.createElement("path",nw({},bt(r,!0),{className:y,d:Y6(C,A,b,N,_),ref:s})))}):z.createElement("g",null,z.createElement("path",nw({},bt(r,!0),{className:y,d:Y6(c,d,u,f,m)})))},ORe=["option","shapeType","propTransformer","activeClassName","isActive"];function Z0(e){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z0(e)}function DRe(e,t){if(e==null)return{};var r=IRe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function IRe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function X6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function sw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X6(Object(r),!0).forEach(function(s){RRe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function RRe(e,t,r){return t=MRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MRe(e){var t=FRe(e,"string");return Z0(t)=="symbol"?t:t+""}function FRe(e,t){if(Z0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Z0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Re(e,t){return sw(sw({},t),e)}function LRe(e,t){return e==="symbols"}function Q6(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return z.createElement(KO,r);case"trapezoid":return z.createElement(TRe,r);case"sector":return z.createElement(BG,r);case"symbols":if(LRe(t))return z.createElement(mO,r);break;default:return null}}function BRe(e){return v.isValidElement(e)?e.props:e}function nK(e){var t=e.option,r=e.shapeType,s=e.propTransformer,a=s===void 0?$Re:s,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=DRe(e,ORe),d;if(v.isValidElement(t))d=v.cloneElement(t,sw(sw({},c),BRe(t)));else if(Tt(t))d=t(c);else if(pRe(t)&&!bRe(t)){var u=a(t,c);d=z.createElement(Q6,{shapeType:r,elementProps:u})}else{var f=c;d=z.createElement(Q6,{shapeType:r,elementProps:f})}return l?z.createElement(er,{className:o},d):d}function T2(e,t){return t!=null&&"trapezoids"in e.props}function O2(e,t){return t!=null&&"sectors"in e.props}function J0(e,t){return t!=null&&"points"in e.props}function URe(e,t){var r,s,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return a&&i}function VRe(e,t){var r=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return r&&s}function zRe(e,t){var r=e.x===t.x,s=e.y===t.y,a=e.z===t.z;return r&&s&&a}function WRe(e,t){var r;return T2(e,t)?r=URe:O2(e,t)?r=VRe:J0(e,t)&&(r=zRe),r}function HRe(e,t){var r;return T2(e,t)?r="trapezoids":O2(e,t)?r="sectors":J0(e,t)&&(r="points"),r}function qRe(e,t){if(T2(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(O2(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return J0(e,t)?t.payload:{}}function GRe(e){var t=e.activeTooltipItem,r=e.graphicalItem,s=e.itemData,a=HRe(r,t),i=qRe(r,t),o=s.filter(function(c,d){var u=Xf(i,c),f=r.props[a].filter(function(x){var p=WRe(r,t);return p(x,t)}),m=r.props[a].indexOf(f[f.length-1]),h=d===m;return u&&h}),l=s.indexOf(o[o.length-1]);return l}var db;function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},th.apply(this,arguments)}function Z6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z6(Object(r),!0).forEach(function(s){uo(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function KRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,aK(s.key),s)}}function YRe(e,t,r){return t&&J6(e.prototype,t),r&&J6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XRe(e,t,r){return t=aw(t),QRe(e,sK()?Reflect.construct(t,r||[],aw(e).constructor):t.apply(e,r))}function QRe(e,t){if(t&&(pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZRe(e)}function ZRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sK=function(){return!!e})()}function aw(e){return aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aw(e)}function JRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FE(e,t)}function FE(e,t){return FE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},FE(e,t)}function uo(e,t,r){return t=aK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aK(e){var t=eMe(e,"string");return pp(t)=="symbol"?t:t+""}function eMe(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(pp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mi=function(e){function t(r){var s;return KRe(this,t),s=XRe(this,t,[r]),uo(s,"pieRef",null),uo(s,"sectorRefs",[]),uo(s,"id",fm("recharts-pie-")),uo(s,"handleAnimationEnd",function(){var a=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),Tt(a)&&a()}),uo(s,"handleAnimationStart",function(){var a=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),Tt(a)&&a()}),s.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},s}return JRe(t,e),YRe(t,[{key:"isActiveIndex",value:function(s){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(s)!==-1:s===a}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=bt(this.props,!1),f=bt(o,!1),m=bt(l,!1),h=o&&o.offsetRadius||20,x=s.map(function(p,g){var j=(p.startAngle+p.endAngle)/2,y=Qr(p.cx,p.cy,p.outerRadius+h,j),w=Kr(Kr(Kr(Kr({},u),p),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(y.x,p.cx)},y),b=Kr(Kr(Kr(Kr({},u),p),{},{fill:"none",stroke:p.fill},m),{},{index:g,points:[Qr(p.cx,p.cy,p.outerRadius,j),y]}),N=c;return $t(c)&&$t(d)?N="value":$t(c)&&(N=d),z.createElement(er,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(g)},l&&t.renderLabelLineItem(l,b,"line"),t.renderLabelItem(o,w,Wn(p,N)))});return z.createElement(er,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(s){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return s.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&s.length!==1)return null;var f=a.isActiveIndex(u),m=c&&a.hasActiveIndex()?c:null,h=f?o:m,x=Kr(Kr({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return z.createElement(er,th({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Kf(a.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),z.createElement(nK,th({option:h,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,f=this.state,m=f.prevSectors,h=f.prevIsAnimationActive;return z.createElement(cl,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var p=x.t,g=[],j=i&&i[0],y=j.startAngle;return i.forEach(function(w,b){var N=m&&m[b],_=b>0?Ii(w,"paddingAngle",0):0;if(N){var C=hs(N.endAngle-N.startAngle,w.endAngle-w.startAngle),A=Kr(Kr({},w),{},{startAngle:y+_,endAngle:y+C(p)+_});g.push(A),y=A.endAngle}else{var E=w.endAngle,k=w.startAngle,O=hs(0,E-k),I=O(p),W=Kr(Kr({},w),{},{startAngle:y+_,endAngle:y+I+_});g.push(W),y=W.endAngle}}),z.createElement(er,null,s.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(s){var a=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,a=s.sectors,i=s.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Xf(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,f=a.innerRadius,m=a.outerRadius,h=a.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!Qe(d)||!Qe(u)||!Qe(f)||!Qe(m))return null;var p=zt("recharts-pie",l);return z.createElement(er,{tabIndex:this.props.rootTabIndex,className:p,ref:function(j){s.pieRef=j}},this.renderSectors(),c&&this.renderLabels(o),Cs.renderCallByParent(this.props,null,!1),(!h||x)&&Gl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return a.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:s.sectors!==a.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,a){return s>a?"start":s<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,a,i){if(z.isValidElement(s))return z.cloneElement(s,a);if(Tt(s))return s(a);var o=zt("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return z.createElement(Pf,th({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,a,i){if(z.isValidElement(s))return z.cloneElement(s,a);var o=i;if(Tt(s)&&(o=s(a),z.isValidElement(o)))return o;var l=zt("recharts-pie-label-text",typeof s!="boolean"&&!Tt(s)?s.className:"");return z.createElement(Yf,th({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(v.PureComponent);db=Mi;uo(Mi,"displayName","Pie");uo(Mi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!sl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});uo(Mi,"parseDeltaAngle",function(e,t){var r=Aa(t-e),s=Math.min(Math.abs(t-e),360);return r*s});uo(Mi,"getRealPieData",function(e){var t=e.data,r=e.children,s=bt(e,!1),a=Ri(r,ba);return t&&t.length?t.map(function(i,o){return Kr(Kr(Kr({payload:i},s),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Kr(Kr({},s),i.props)}):[]});uo(Mi,"parseCoordinateOfPie",function(e,t){var r=t.top,s=t.left,a=t.width,i=t.height,o=MG(a,i),l=s+Ea(e.cx,a,a/2),c=r+Ea(e.cy,i,i/2),d=Ea(e.innerRadius,o,0),u=Ea(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:f}});uo(Mi,"getComposedData",function(e){var t=e.item,r=e.offset,s=t.type.defaultProps!==void 0?Kr(Kr({},t.type.defaultProps),t.props):t.props,a=db.getRealPieData(s);if(!a||!a.length)return null;var i=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,d=s.dataKey,u=s.nameKey,f=s.valueKey,m=s.tooltipType,h=Math.abs(s.minAngle),x=db.parseCoordinateOfPie(s,r),p=db.parseDeltaAngle(o,l),g=Math.abs(p),j=d;$t(d)&&$t(f)?(rl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):$t(d)&&(rl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=f);var y=a.filter(function(A){return Wn(A,j,0)!==0}).length,w=(g>=360?y:y-1)*c,b=g-y*h-w,N=a.reduce(function(A,E){var k=Wn(E,j,0);return A+(Qe(k)?k:0)},0),_;if(N>0){var C;_=a.map(function(A,E){var k=Wn(A,j,0),O=Wn(A,u,E),I=(Qe(k)?k:0)/N,W;E?W=C.endAngle+Aa(p)*c*(k!==0?1:0):W=o;var H=W+Aa(p)*((k!==0?h:0)+I*b),F=(W+H)/2,T=(x.innerRadius+x.outerRadius)/2,P=[{name:O,value:k,payload:A,dataKey:j,type:m}],M=Qr(x.cx,x.cy,T,F);return C=Kr(Kr(Kr({percent:I,cornerRadius:i,name:O,tooltipPayload:P,midAngle:F,middleRadius:T,tooltipPosition:M},A),x),{},{value:Wn(A,j),startAngle:W,endAngle:H,payload:A,paddingAngle:Aa(p)*c}),C})}return Kr(Kr({},x),{},{sectors:_,data:a})});var tMe=Math.ceil,rMe=Math.max;function nMe(e,t,r,s){for(var a=-1,i=rMe(tMe((t-e)/(r||1)),0),o=Array(i);i--;)o[s?i:++a]=e,e+=r;return o}var sMe=nMe,aMe=Nq,e$=1/0,iMe=17976931348623157e292;function oMe(e){if(!e)return e===0?e:0;if(e=aMe(e),e===e$||e===-e$){var t=e<0?-1:1;return t*iMe}return e===e?e:0}var iK=oMe,lMe=sMe,cMe=x2,YS=iK;function dMe(e){return function(t,r,s){return s&&typeof s!="number"&&cMe(t,r,s)&&(r=s=void 0),t=YS(t),r===void 0?(r=t,t=0):r=YS(r),s=s===void 0?t<r?1:-1:YS(s),lMe(t,r,s,e)}}var uMe=dMe,fMe=uMe,mMe=fMe(),hMe=mMe;const iw=Ar(hMe);function ev(e){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev(e)}function t$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function r$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t$(Object(r),!0).forEach(function(s){oK(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function oK(e,t,r){return t=pMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pMe(e){var t=xMe(e,"string");return ev(t)=="symbol"?t:t+""}function xMe(e,t){if(ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ev(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gMe=["Webkit","Moz","O","ms"],vMe=function(t,r){var s=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=gMe.reduce(function(i,o){return r$(r$({},i),{},oK({},o+s,r))},{});return a[t]=r,a};function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ow.apply(this,arguments)}function n$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function XS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n$(Object(r),!0).forEach(function(s){yi(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function yMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,cK(s.key),s)}}function jMe(e,t,r){return t&&s$(e.prototype,t),r&&s$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bMe(e,t,r){return t=lw(t),wMe(e,lK()?Reflect.construct(t,r||[],lw(e).constructor):t.apply(e,r))}function wMe(e,t){if(t&&(xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NMe(e)}function NMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lK=function(){return!!e})()}function lw(e){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lw(e)}function _Me(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$E(e,t)}function $E(e,t){return $E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},$E(e,t)}function yi(e,t,r){return t=cK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cK(e){var t=SMe(e,"string");return xp(t)=="symbol"?t:t+""}function SMe(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(xp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CMe=function(t){var r=t.data,s=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=kg().domain(iw(0,c)).range([i,i+o-l]),u=d.domain().map(function(f){return d(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(s),endX:d(a),scale:d,scaleValues:u}},a$=function(t){return t.changedTouches&&!!t.changedTouches.length},gp=function(e){function t(r){var s;return yMe(this,t),s=bMe(this,t,[r]),yi(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),yi(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),yi(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),yi(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),yi(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),yi(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),yi(s,"handleSlideDragStart",function(a){var i=a$(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return _Me(t,e),jMe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,f=Math.min(a,i),m=Math.max(a,i),h=t.getIndexInRange(o,f),x=t.getIndexInRange(o,m);return{startIndex:h-h%c,endIndex:x===u?u:x-x%c}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Wn(i[s],l,s);return Tt(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,f=c.travellerWidth,m=c.startIndex,h=c.endIndex,x=c.onChange,p=s.pageX-i;p>0?p=Math.min(p,d+u-f-l,d+u-f-o):p<0&&(p=Math.max(p,d-o,d-l));var g=this.getIndex({startX:o+p,endX:l+p});(g.startIndex!==m||g.endIndex!==h)&&x&&x(g),this.setState({startX:o+p,endX:l+p,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=a$(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,f=u.x,m=u.width,h=u.travellerWidth,x=u.onChange,p=u.gap,g=u.data,j={startX:this.state.startX,endX:this.state.endX},y=s.pageX-i;y>0?y=Math.min(y,f+m-h-d):y<0&&(y=Math.max(y,f-d)),j[o]=d+y;var w=this.getIndex(j),b=w.startIndex,N=w.endIndex,_=function(){var A=g.length-1;return o==="startX"&&(l>c?b%p===0:N%p===0)||l<c&&N===A||o==="endX"&&(l>c?N%p===0:b%p===0)||l>c&&N===A};this.setState(yi(yi({},o,d+y),"brushMoveStartX",s.pageX),function(){x&&_()&&x(w)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],f=l.indexOf(u);if(f!==-1){var m=f+s;if(!(m===-1||m>=l.length)){var h=l[m];a==="startX"&&h>=d||a==="endX"&&h<=c||this.setState(yi({},a,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.fill,d=s.stroke;return z.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.data,d=s.children,u=s.padding,f=v.Children.only(d);return f?z.cloneElement(f,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,f=c.height,m=c.traveller,h=c.ariaLabel,x=c.data,p=c.startIndex,g=c.endIndex,j=Math.max(s,this.props.x),y=XS(XS({},bt(this.props,!1)),{},{x:j,y:d,width:u,height:f}),w=h||"Min value: ".concat((i=x[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[g])===null||o===void 0?void 0:o.name);return z.createElement(er,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,y))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(s,a)+d,f=Math.max(Math.abs(a-s)-d,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:f,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,d=s.stroke,u=this.state,f=u.startX,m=u.endX,h=5,x={pointerEvents:"none",fill:d};return z.createElement(er,{className:"recharts-brush-texts"},z.createElement(Yf,ow({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-h,y:o+l/2},x),this.getTextOfTick(a)),z.createElement(Yf,ow({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+h,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,c=s.y,d=s.width,u=s.height,f=s.alwaysShowText,m=this.state,h=m.startX,x=m.endX,p=m.isTextActive,g=m.isSlideMoving,j=m.isTravellerMoving,y=m.isTravellerFocused;if(!a||!a.length||!Qe(l)||!Qe(c)||!Qe(d)||!Qe(u)||d<=0||u<=0)return null;var w=zt("recharts-brush",i),b=z.Children.count(o)===1,N=vMe("userSelect","none");return z.createElement(er,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),b&&this.renderPanorama(),this.renderSlide(h,x),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(x,"endX"),(p||g||j||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.stroke,d=Math.floor(i+l/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),z.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return z.isValidElement(s)?i=z.cloneElement(s,a):Tt(s)?i=s(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,c=s.travellerWidth,d=s.updateId,u=s.startIndex,f=s.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return XS({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?CMe({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var m=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>a?l=c:o=c}return a>=s[l]?l:o}}])}(v.PureComponent);yi(gp,"displayName","Brush");yi(gp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var AMe=jO;function EMe(e,t){var r;return AMe(e,function(s,a,i){return r=t(s,a,i),!r}),!!r}var PMe=EMe,kMe=XH,TMe=oc,OMe=PMe,DMe=mi,IMe=x2;function RMe(e,t,r){var s=DMe(e)?kMe:OMe;return r&&IMe(e,t,r)&&(t=void 0),s(e,TMe(t))}var MMe=RMe;const FMe=Ar(MMe);var Kl=function(t,r){var s=t.alwaysShow,a=t.ifOverflow;return s&&(a="extendDomain"),a===r},i$=vq;function $Me(e,t,r){t=="__proto__"&&i$?i$(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var LMe=$Me,BMe=LMe,UMe=xq,VMe=oc;function zMe(e,t){var r={};return t=VMe(t),UMe(e,function(s,a,i){BMe(r,a,t(s,a,i))}),r}var WMe=zMe;const HMe=Ar(WMe);function qMe(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(!t(e[r],r,e))return!1;return!0}var GMe=qMe,KMe=jO;function YMe(e,t){var r=!0;return KMe(e,function(s,a,i){return r=!!t(s,a,i),r}),r}var XMe=YMe,QMe=GMe,ZMe=XMe,JMe=oc,eFe=mi,tFe=x2;function rFe(e,t,r){var s=eFe(e)?QMe:ZMe;return r&&tFe(e,t,r)&&(t=void 0),s(e,JMe(t))}var nFe=rFe;const dK=Ar(nFe);var sFe=["x","y"];function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}function LE(){return LE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},LE.apply(this,arguments)}function o$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Qx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o$(Object(r),!0).forEach(function(s){aFe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function aFe(e,t,r){return t=iFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iFe(e){var t=oFe(e,"string");return tv(t)=="symbol"?t:t+""}function oFe(e,t){if(tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(tv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lFe(e,t){if(e==null)return{};var r=cFe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function cFe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function dFe(e,t){var r=e.x,s=e.y,a=lFe(e,sFe),i="".concat(r),o=parseInt(i,10),l="".concat(s),c=parseInt(l,10),d="".concat(t.height||a.height),u=parseInt(d,10),f="".concat(t.width||a.width),m=parseInt(f,10);return Qx(Qx(Qx(Qx(Qx({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:m,name:t.name,radius:t.radius})}function l$(e){return z.createElement(nK,LE({shapeType:"rectangle",propTransformer:dFe,activeClassName:"recharts-active-bar"},e))}var uFe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof t=="number")return t;var i=typeof s=="number";return i?t(s,a):(i||yu(),r)}},fFe=["value","background"],uK;function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function mFe(e,t){if(e==null)return{};var r=hFe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function hFe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},cw.apply(this,arguments)}function c$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c$(Object(r),!0).forEach(function(s){qd(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function pFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,mK(s.key),s)}}function xFe(e,t,r){return t&&d$(e.prototype,t),r&&d$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gFe(e,t,r){return t=dw(t),vFe(e,fK()?Reflect.construct(t,r||[],dw(e).constructor):t.apply(e,r))}function vFe(e,t){if(t&&(vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yFe(e)}function yFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fK=function(){return!!e})()}function dw(e){return dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dw(e)}function jFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BE(e,t)}function BE(e,t){return BE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},BE(e,t)}function qd(e,t,r){return t=mK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mK(e){var t=bFe(e,"string");return vp(t)=="symbol"?t:t+""}function bFe(e,t){if(vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(vp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wn=function(e){function t(){var r;pFe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=gFe(this,t,[].concat(a)),qd(r,"state",{isAnimationFinished:!1}),qd(r,"id",fm("recharts-bar-")),qd(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),qd(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return jFe(t,e),xFe(t,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=bt(this.props,!1);return s&&s.map(function(f,m){var h=m===c,x=h?d:o,p=Zn(Zn(Zn({},u),f),{},{isActive:h,option:x,index:m,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return z.createElement(er,cw({className:"recharts-bar-rectangle"},Kf(a.props,f,m),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),z.createElement(l$,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,f=a.animationId,m=this.state.prevData;return z.createElement(cl,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var x=h.t,p=i.map(function(g,j){var y=m&&m[j];if(y){var w=hs(y.x,g.x),b=hs(y.y,g.y),N=hs(y.width,g.width),_=hs(y.height,g.height);return Zn(Zn({},g),{},{x:w(x),y:b(x),width:N(x),height:_(x)})}if(o==="horizontal"){var C=hs(0,g.height),A=C(x);return Zn(Zn({},g),{},{y:g.y+g.height-A,height:A})}var E=hs(0,g.width),k=E(x);return Zn(Zn({},g),{},{width:k})});return z.createElement(er,null,s.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Xf(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=bt(this.props.background,!1);return i.map(function(d,u){d.value;var f=d.background,m=mFe(d,fFe);if(!f)return null;var h=Zn(Zn(Zn(Zn(Zn({},m),{},{fill:"#eee"},f),c),Kf(s.props,d,u)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return z.createElement(l$,cw({key:"background-bar-".concat(u),option:s.props.background,isActive:u===l},h))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,f=Ri(u,hy);if(!f)return null;var m=d==="vertical"?o[0].height/2:o[0].width/2,h=function(g,j){var y=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:y,errorVal:Wn(g,j)}},x={clipPath:s?"url(#clipPath-".concat(a,")"):null};return z.createElement(er,x,f.map(function(p){return z.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:m,dataPointFormatter:h})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,c=s.yAxis,d=s.left,u=s.top,f=s.width,m=s.height,h=s.isAnimationActive,x=s.background,p=s.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,j=zt("recharts-bar",o),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,b=y||w,N=$t(p)?this.id:p;return z.createElement(er,{className:j},y||w?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(N)},z.createElement("rect",{x:y?d:d-f/2,y:w?u:u-m/2,width:y?f:f*2,height:w?m:m*2}))):null,z.createElement(er,{className:"recharts-bar-rectangles",clipPath:b?"url(#clipPath-".concat(N,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(b,N),(!h||g)&&Gl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])}(v.PureComponent);uK=wn;qd(wn,"displayName","Bar");qd(wn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!sl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});qd(wn,"getComposedData",function(e){var t=e.props,r=e.item,s=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,m=e.offset,h=u3e(s,r);if(!h)return null;var x=t.layout,p=r.type.defaultProps,g=p!==void 0?Zn(Zn({},p),r.props):r.props,j=g.dataKey,y=g.children,w=g.minPointSize,b=x==="horizontal"?o:i,N=d?b.scale.domain():null,_=v3e({numericAxis:b}),C=Ri(y,ba),A=f.map(function(E,k){var O,I,W,H,F,T;d?O=f3e(d[u+k],N):(O=Wn(E,j),Array.isArray(O)||(O=[_,O]));var P=uFe(w,uK.defaultProps.minPointSize)(O[1],k);if(x==="horizontal"){var M,D=[o.scale(O[0]),o.scale(O[1])],Y=D[0],ae=D[1];I=JF({axis:i,ticks:l,bandSize:a,offset:h.offset,entry:E,index:k}),W=(M=ae??Y)!==null&&M!==void 0?M:void 0,H=h.size;var R=Y-ae;if(F=Number.isNaN(R)?0:R,T={x:I,y:o.y,width:H,height:o.height},Math.abs(P)>0&&Math.abs(F)<Math.abs(P)){var V=Aa(F||P)*(Math.abs(P)-Math.abs(F));W-=V,F+=V}}else{var L=[i.scale(O[0]),i.scale(O[1])],K=L[0],le=L[1];if(I=K,W=JF({axis:o,ticks:c,bandSize:a,offset:h.offset,entry:E,index:k}),H=le-K,F=h.size,T={x:i.x,y:W,width:i.width,height:F},Math.abs(P)>0&&Math.abs(H)<Math.abs(P)){var me=Aa(H||P)*(Math.abs(P)-Math.abs(H));H+=me}}return Zn(Zn(Zn({},E),{},{x:I,y:W,width:H,height:F,value:d?O:O[1],payload:E,background:T},C&&C[k]&&C[k].props),{},{tooltipPayload:[IG(r,E)],tooltipPosition:{x:I+H/2,y:W+F/2}})});return Zn({data:A,layout:x},m)});function rv(e){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rv(e)}function wFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,hK(s.key),s)}}function NFe(e,t,r){return t&&u$(e.prototype,t),r&&u$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f$(Object(r),!0).forEach(function(s){D2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function D2(e,t,r){return t=hK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hK(e){var t=_Fe(e,"string");return rv(t)=="symbol"?t:t+""}function _Fe(e,t){if(rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(rv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YO=function(t,r,s,a,i){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(r),f={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},m=!!_i(d,wn);return u.reduce(function(h,x){var p=r[x],g=p.orientation,j=p.domain,y=p.padding,w=y===void 0?{}:y,b=p.mirror,N=p.reversed,_="".concat(g).concat(b?"Mirror":""),C,A,E,k,O;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var I=j[1]-j[0],W=1/0,H=p.categoricalDomain.sort();if(H.forEach(function(L,K){K>0&&(W=Math.min((L||0)-(H[K-1]||0),W))}),Number.isFinite(W)){var F=W/I,T=p.layout==="vertical"?s.height:s.width;if(p.padding==="gap"&&(C=F*T/2),p.padding==="no-gap"){var P=Ea(t.barCategoryGap,F*T),M=F*T/2;C=M-P-(M-P)/T*P}}}a==="xAxis"?A=[s.left+(w.left||0)+(C||0),s.left+s.width-(w.right||0)-(C||0)]:a==="yAxis"?A=c==="horizontal"?[s.top+s.height-(w.bottom||0),s.top+(w.top||0)]:[s.top+(w.top||0)+(C||0),s.top+s.height-(w.bottom||0)-(C||0)]:A=p.range,N&&(A=[A[1],A[0]]);var D=kG(p,i,m),Y=D.scale,ae=D.realScaleType;Y.domain(j).range(A),TG(Y);var R=OG(Y,Uo(Uo({},p),{},{realScaleType:ae}));a==="xAxis"?(O=g==="top"&&!b||g==="bottom"&&b,E=s.left,k=f[_]-O*p.height):a==="yAxis"&&(O=g==="left"&&!b||g==="right"&&b,E=f[_]-O*p.width,k=s.top);var V=Uo(Uo(Uo({},p),R),{},{realScaleType:ae,x:E,y:k,scale:Y,width:a==="xAxis"?s.width:p.width,height:a==="yAxis"?s.height:p.height});return V.bandSize=K1(V,R),!p.hide&&a==="xAxis"?f[_]+=(O?-1:1)*V.height:p.hide||(f[_]+=(O?-1:1)*V.width),Uo(Uo({},h),{},D2({},x,V))},{})},pK=function(t,r){var s=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},SFe=function(t){var r=t.x1,s=t.y1,a=t.x2,i=t.y2;return pK({x:r,y:s},{x:a,y:i})},xK=function(){function e(t){wFe(this,e),this.scale=t}return NFe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();D2(xK,"EPS",1e-4);var XO=function(t){var r=Object.keys(t).reduce(function(s,a){return Uo(Uo({},s),{},D2({},a,xK.create(t[a])))},{});return Uo(Uo({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return HMe(a,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return dK(a,function(i,o){return r[o].isInRange(i)})}})};function CFe(e){return(e%180+180)%180}var AFe=function(t){var r=t.width,s=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=CFe(a),o=i*Math.PI/180,l=Math.atan(s/r),c=o>l&&o<Math.PI-l?s/Math.sin(o):r/Math.cos(o);return Math.abs(c)},EFe=oc,PFe=cy,kFe=h2;function TFe(e){return function(t,r,s){var a=Object(t);if(!PFe(t)){var i=EFe(r);t=kFe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,s);return o>-1?a[i?t[o]:o]:void 0}}var OFe=TFe,DFe=iK;function IFe(e){var t=DFe(e),r=t%1;return t===t?r?t-r:t:0}var RFe=IFe,MFe=dq,FFe=oc,$Fe=RFe,LFe=Math.max;function BFe(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var a=r==null?0:$Fe(r);return a<0&&(a=LFe(s+a,0)),MFe(e,FFe(t),a)}var UFe=BFe,VFe=OFe,zFe=UFe,WFe=VFe(zFe),HFe=WFe;const qFe=Ar(HFe);var GFe=eje(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),QO=v.createContext(void 0),ZO=v.createContext(void 0),gK=v.createContext(void 0),vK=v.createContext({}),yK=v.createContext(void 0),jK=v.createContext(0),bK=v.createContext(0),m$=function(t){var r=t.state,s=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=GFe(i);return z.createElement(QO.Provider,{value:s},z.createElement(ZO.Provider,{value:a},z.createElement(vK.Provider,{value:i},z.createElement(gK.Provider,{value:u},z.createElement(yK.Provider,{value:o},z.createElement(jK.Provider,{value:d},z.createElement(bK.Provider,{value:c},l)))))))},KFe=function(){return v.useContext(yK)},wK=function(t){var r=v.useContext(QO);r==null&&yu();var s=r[t];return s==null&&yu(),s},YFe=function(){var t=v.useContext(QO);return Od(t)},XFe=function(){var t=v.useContext(ZO),r=qFe(t,function(s){return dK(s.domain,Number.isFinite)});return r||Od(t)},NK=function(t){var r=v.useContext(ZO);r==null&&yu();var s=r[t];return s==null&&yu(),s},QFe=function(){var t=v.useContext(gK);return t},ZFe=function(){return v.useContext(vK)},JO=function(){return v.useContext(bK)},e3=function(){return v.useContext(jK)};function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function JFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e6e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,SK(s.key),s)}}function t6e(e,t,r){return t&&e6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function r6e(e,t,r){return t=uw(t),n6e(e,_K()?Reflect.construct(t,r||[],uw(e).constructor):t.apply(e,r))}function n6e(e,t){if(t&&(yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s6e(e)}function s6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _K(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_K=function(){return!!e})()}function uw(e){return uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uw(e)}function a6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UE(e,t)}function UE(e,t){return UE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},UE(e,t)}function h$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function p$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h$(Object(r),!0).forEach(function(s){t3(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function t3(e,t,r){return t=SK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SK(e){var t=i6e(e,"string");return yp(t)=="symbol"?t:t+""}function i6e(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(yp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o6e(e,t){return u6e(e)||d6e(e,t)||c6e(e,t)||l6e()}function l6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c6e(e,t){if(e){if(typeof e=="string")return x$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x$(e,t)}}function x$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function d6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function u6e(e){if(Array.isArray(e))return e}function VE(){return VE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},VE.apply(this,arguments)}var f6e=function(t,r){var s;return z.isValidElement(t)?s=z.cloneElement(t,r):Tt(t)?s=t(r):s=z.createElement("line",VE({},r,{className:"recharts-reference-line-line"})),s},m6e=function(t,r,s,a,i,o,l,c,d){var u=i.x,f=i.y,m=i.width,h=i.height;if(s){var x=d.y,p=t.y.apply(x,{position:o});if(Kl(d,"discard")&&!t.y.isInRange(p))return null;var g=[{x:u+m,y:p},{x:u,y:p}];return c==="left"?g.reverse():g}if(r){var j=d.x,y=t.x.apply(j,{position:o});if(Kl(d,"discard")&&!t.x.isInRange(y))return null;var w=[{x:y,y:f+h},{x:y,y:f}];return l==="top"?w.reverse():w}if(a){var b=d.segment,N=b.map(function(_){return t.apply(_,{position:o})});return Kl(d,"discard")&&FMe(N,function(_){return!t.isInRange(_)})?null:N}return null};function h6e(e){var t=e.x,r=e.y,s=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=KFe(),u=wK(a),f=NK(i),m=QFe();if(!d||!m)return null;rl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=XO({x:u.scale,y:f.scale}),x=bs(t),p=bs(r),g=s&&s.length===2,j=m6e(h,x,p,g,m,e.position,u.orientation,f.orientation,e);if(!j)return null;var y=o6e(j,2),w=y[0],b=w.x,N=w.y,_=y[1],C=_.x,A=_.y,E=Kl(e,"hidden")?"url(#".concat(d,")"):void 0,k=p$(p$({clipPath:E},bt(e,!0)),{},{x1:b,y1:N,x2:C,y2:A});return z.createElement(er,{className:zt("recharts-reference-line",l)},f6e(o,k),Cs.renderCallByParent(e,SFe({x1:b,y1:N,x2:C,y2:A})))}var r3=function(e){function t(){return JFe(this,t),r6e(this,t,arguments)}return a6e(t,e),t6e(t,[{key:"render",value:function(){return z.createElement(h6e,this.props)}}])}(z.Component);t3(r3,"displayName","ReferenceLine");t3(r3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function zE(){return zE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},zE.apply(this,arguments)}function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function g$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function v$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g$(Object(r),!0).forEach(function(s){I2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function p6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x6e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,AK(s.key),s)}}function g6e(e,t,r){return t&&x6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function v6e(e,t,r){return t=fw(t),y6e(e,CK()?Reflect.construct(t,r||[],fw(e).constructor):t.apply(e,r))}function y6e(e,t){if(t&&(jp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j6e(e)}function j6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CK=function(){return!!e})()}function fw(e){return fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fw(e)}function b6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WE(e,t)}function WE(e,t){return WE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},WE(e,t)}function I2(e,t,r){return t=AK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AK(e){var t=w6e(e,"string");return jp(t)=="symbol"?t:t+""}function w6e(e,t){if(jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(jp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N6e=function(t){var r=t.x,s=t.y,a=t.xAxis,i=t.yAxis,o=XO({x:a.scale,y:i.scale}),l=o.apply({x:r,y:s},{bandAware:!0});return Kl(t,"discard")&&!o.isInRange(l)?null:l},R2=function(e){function t(){return p6e(this,t),v6e(this,t,arguments)}return b6e(t,e),g6e(t,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,d=bs(a),u=bs(i);if(rl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var f=N6e(this.props);if(!f)return null;var m=f.x,h=f.y,x=this.props,p=x.shape,g=x.className,j=Kl(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=v$(v$({clipPath:j},bt(this.props,!0)),{},{cx:m,cy:h});return z.createElement(er,{className:zt("recharts-reference-dot",g)},t.renderDot(p,y),Cs.renderCallByParent(this.props,{x:m-o,y:h-o,width:2*o,height:2*o}))}}])}(z.Component);I2(R2,"displayName","ReferenceDot");I2(R2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});I2(R2,"renderDot",function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):Tt(e)?r=e(t):r=z.createElement(py,zE({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function HE(){return HE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},HE.apply(this,arguments)}function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function y$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function j$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y$(Object(r),!0).forEach(function(s){M2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function _6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S6e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,PK(s.key),s)}}function C6e(e,t,r){return t&&S6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function A6e(e,t,r){return t=mw(t),E6e(e,EK()?Reflect.construct(t,r||[],mw(e).constructor):t.apply(e,r))}function E6e(e,t){if(t&&(bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P6e(e)}function P6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EK=function(){return!!e})()}function mw(e){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(e)}function k6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qE(e,t)}function qE(e,t){return qE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},qE(e,t)}function M2(e,t,r){return t=PK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PK(e){var t=T6e(e,"string");return bp(t)=="symbol"?t:t+""}function T6e(e,t){if(bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(bp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O6e=function(t,r,s,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var m=XO({x:u.scale,y:f.scale}),h={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:s?m.y.apply(c,{position:"start"}):m.y.rangeMin},x={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(d,{position:"end"}):m.y.rangeMax};return Kl(i,"discard")&&(!m.isInRange(h)||!m.isInRange(x))?null:pK(h,x)},F2=function(e){function t(){return _6e(this,t),A6e(this,t,arguments)}return k6e(t,e),C6e(t,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,c=s.className,d=s.alwaysShow,u=s.clipPathId;rl(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=bs(a),m=bs(i),h=bs(o),x=bs(l),p=this.props.shape;if(!f&&!m&&!h&&!x&&!p)return null;var g=O6e(f,m,h,x,this.props);if(!g&&!p)return null;var j=Kl(this.props,"hidden")?"url(#".concat(u,")"):void 0;return z.createElement(er,{className:zt("recharts-reference-area",c)},t.renderRect(p,j$(j$({clipPath:j},bt(this.props,!0)),g)),Cs.renderCallByParent(this.props,g))}}])}(z.Component);M2(F2,"displayName","ReferenceArea");M2(F2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});M2(F2,"renderRect",function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):Tt(e)?r=e(t):r=z.createElement(KO,HE({},t,{className:"recharts-reference-area-rect"})),r});function kK(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var s=[],a=0;a<e.length;a+=t)s.push(e[a]);return s}function D6e(e,t,r){var s={width:e.width+t.width,height:e.height+t.height};return AFe(s,r)}function I6e(e,t,r){var s=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function hw(e,t,r,s,a){if(e*t<e*s||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-s)>=0&&e*(t+e*i/2-a)<=0}function R6e(e,t){return kK(e,t+1)}function M6e(e,t,r,s,a){for(var i=(s||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,f=function(){var x=s==null?void 0:s[c];if(x===void 0)return{v:kK(s,d)};var p=c,g,j=function(){return g===void 0&&(g=r(x,p)),g},y=x.coordinate,w=c===0||hw(e,y,j,u,l);w||(c=0,u=o,d+=1),w&&(u=y+e*(j()/2+a),c+=d)},m;d<=i.length;)if(m=f(),m)return m.v;return[]}function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}function b$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b$(Object(r),!0).forEach(function(s){F6e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function F6e(e,t,r){return t=$6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $6e(e){var t=L6e(e,"string");return nv(t)=="symbol"?t:t+""}function L6e(e,t){if(nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(nv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B6e(e,t,r,s,a){for(var i=(s||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(m){var h=i[m],x,p=function(){return x===void 0&&(x=r(h,m)),x};if(m===o-1){var g=e*(h.coordinate+e*p()/2-c);i[m]=h=sa(sa({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate})}else i[m]=h=sa(sa({},h),{},{tickCoord:h.coordinate});var j=hw(e,h.tickCoord,p,l,c);j&&(c=h.tickCoord-e*(p()/2+a),i[m]=sa(sa({},h),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function U6e(e,t,r,s,a,i){var o=(s||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var u=s[l-1],f=r(u,l-1),m=e*(u.coordinate+e*f/2-d);o[l-1]=u=sa(sa({},u),{},{tickCoord:m>0?u.coordinate-m*e:u.coordinate});var h=hw(e,u.tickCoord,function(){return f},c,d);h&&(d=u.tickCoord-e*(f/2+a),o[l-1]=sa(sa({},u),{},{isShow:!0}))}for(var x=i?l-1:l,p=function(y){var w=o[y],b,N=function(){return b===void 0&&(b=r(w,y)),b};if(y===0){var _=e*(w.coordinate-e*N()/2-c);o[y]=w=sa(sa({},w),{},{tickCoord:_<0?w.coordinate-_*e:w.coordinate})}else o[y]=w=sa(sa({},w),{},{tickCoord:w.coordinate});var C=hw(e,w.tickCoord,N,c,d);C&&(c=w.tickCoord+e*(N()/2+a),o[y]=sa(sa({},w),{},{isShow:!0}))},g=0;g<x;g++)p(g);return o}function n3(e,t,r){var s=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!s)return[];if(Qe(c)||sl.isSsr)return R6e(a,typeof c=="number"&&Qe(c)?c:0);var m=[],h=l==="top"||l==="bottom"?"width":"height",x=u&&h==="width"?Pg(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,b){var N=Tt(d)?d(w.value,b):w.value;return h==="width"?D6e(Pg(N,{fontSize:t,letterSpacing:r}),x,f):Pg(N,{fontSize:t,letterSpacing:r})[h]},g=a.length>=2?Aa(a[1].coordinate-a[0].coordinate):1,j=I6e(i,g,h);return c==="equidistantPreserveStart"?M6e(g,j,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=U6e(g,j,p,a,o,c==="preserveStartEnd"):m=B6e(g,j,p,a,o),m.filter(function(y){return y.isShow}))}var V6e=["viewBox"],z6e=["viewBox"],W6e=["ticks"];function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},rh.apply(this,arguments)}function w$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w$(Object(r),!0).forEach(function(s){s3(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function QS(e,t){if(e==null)return{};var r=H6e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function H6e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function q6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,OK(s.key),s)}}function G6e(e,t,r){return t&&N$(e.prototype,t),r&&N$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function K6e(e,t,r){return t=pw(t),Y6e(e,TK()?Reflect.construct(t,r||[],pw(e).constructor):t.apply(e,r))}function Y6e(e,t){if(t&&(wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X6e(e)}function X6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TK=function(){return!!e})()}function pw(e){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pw(e)}function Q6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GE(e,t)}function GE(e,t){return GE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},GE(e,t)}function s3(e,t,r){return t=OK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OK(e){var t=Z6e(e,"string");return wp(t)=="symbol"?t:t+""}function Z6e(e,t){if(wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(wp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dx=function(e){function t(r){var s;return q6e(this,t),s=K6e(this,t,[r]),s.state={fontSize:"",letterSpacing:""},s}return Q6e(t,e),G6e(t,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=QS(s,V6e),l=this.props,c=l.viewBox,d=QS(l,z6e);return!vh(i,c)||!vh(o,d)||!vh(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,f=a.mirror,m=a.tickMargin,h,x,p,g,j,y,w=f?-1:1,b=s.tickSize||u,N=Qe(s.tickCoord)?s.tickCoord:s.coordinate;switch(d){case"top":h=x=s.coordinate,g=o+ +!f*c,p=g-w*b,y=p-w*m,j=N;break;case"left":p=g=s.coordinate,x=i+ +!f*l,h=x-w*b,j=h-w*m,y=N;break;case"right":p=g=s.coordinate,x=i+ +f*l,h=x+w*b,j=h+w*m,y=N;break;default:h=x=s.coordinate,g=o+ +f*c,p=g+w*b,y=p+w*m,j=N;break}return{line:{x1:h,y1:p,x2:x,y2:g},tick:{x:j,y}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.orientation,d=s.mirror,u=s.axisLine,f=pa(pa(pa({},bt(this.props,!1)),bt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!d||c==="bottom"&&d);f=pa(pa({},f),{},{x1:a,y1:i+m*l,x2:a+o,y2:i+m*l})}else{var h=+(c==="left"&&!d||c==="right"&&d);f=pa(pa({},f),{},{x1:a+h*o,y1:i,x2:a+h*o,y2:i+l})}return z.createElement("line",rh({},f,{className:zt("recharts-cartesian-axis-line",Ii(u,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,f=l.tickFormatter,m=l.unit,h=n3(pa(pa({},this.props),{},{ticks:s}),a,i),x=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),g=bt(this.props,!1),j=bt(u,!1),y=pa(pa({},g),{},{fill:"none"},bt(c,!1)),w=h.map(function(b,N){var _=o.getTickLineCoord(b),C=_.line,A=_.tick,E=pa(pa(pa(pa({textAnchor:x,verticalAnchor:p},g),{},{stroke:"none",fill:d},j),A),{},{index:N,payload:b,visibleTicksCount:h.length,tickFormatter:f});return z.createElement(er,rh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},Kf(o.props,b,N)),c&&z.createElement("line",rh({},y,C,{className:zt("recharts-cartesian-axis-tick-line",Ii(c,"className"))})),u&&t.renderTickItem(u,E,"".concat(Tt(f)?f(b.value,N):b.value).concat(m||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var f=this.props,m=f.ticks,h=QS(f,W6e),x=m;return Tt(c)&&(x=m&&m.length>0?c(this.props):c(h)),o<=0||l<=0||!x||!x.length?null:z.createElement(er,{className:zt("recharts-cartesian-axis",d),ref:function(g){s.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Cs.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return z.isValidElement(s)?o=z.cloneElement(s,a):Tt(s)?o=s(a):o=z.createElement(Yf,rh({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(v.Component);s3(dx,"displayName","CartesianAxis");s3(dx,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var J6e=["x1","y1","x2","y2","key"],e$e=["offset"];function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}function _$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_$(Object(r),!0).forEach(function(s){t$e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function t$e(e,t,r){return t=r$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r$e(e){var t=n$e(e,"string");return Zf(t)=="symbol"?t:t+""}function n$e(e,t){if(Zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Zf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},mf.apply(this,arguments)}function S$(e,t){if(e==null)return{};var r=s$e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function s$e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var a$e=function(t){var r=t.fill;if(!r||r==="none")return null;var s=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return z.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function DK(e,t){var r;if(z.isValidElement(e))r=z.cloneElement(e,t);else if(Tt(e))r=e(t);else{var s=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=S$(t,J6e),d=bt(c,!1);d.offset;var u=S$(d,e$e);r=z.createElement("line",mf({},u,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function i$e(e){var t=e.x,r=e.width,s=e.horizontal,a=s===void 0?!0:s,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=ia(ia({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return DK(a,d)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function o$e(e){var t=e.y,r=e.height,s=e.vertical,a=s===void 0?!0:s,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=ia(ia({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return DK(a,d)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function l$e(e){var t=e.horizontalFill,r=e.fillOpacity,s=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(m){return Math.round(m+a-a)}).sort(function(m,h){return m-h});a!==u[0]&&u.unshift(0);var f=u.map(function(m,h){var x=!u[h+1],p=x?a+o-m:u[h+1]-m;if(p<=0)return null;var g=h%t.length;return z.createElement("rect",{key:"react-".concat(h),y:m,x:s,height:p,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function c$e(e){var t=e.vertical,r=t===void 0?!0:t,s=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!s||!s.length)return null;var u=d.map(function(m){return Math.round(m+i-i)}).sort(function(m,h){return m-h});i!==u[0]&&u.unshift(0);var f=u.map(function(m,h){var x=!u[h+1],p=x?i+l-m:u[h+1]-m;if(p<=0)return null;var g=h%s.length;return z.createElement("rect",{key:"react-".concat(h),x:m,y:o,width:p,height:c,stroke:"none",fill:s[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var d$e=function(t,r){var s=t.xAxis,a=t.width,i=t.height,o=t.offset;return PG(n3(ia(ia(ia({},dx.defaultProps),s),{},{ticks:Tc(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},u$e=function(t,r){var s=t.yAxis,a=t.width,i=t.height,o=t.offset;return PG(n3(ia(ia(ia({},dx.defaultProps),s),{},{ticks:Tc(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Om={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Bn(e){var t,r,s,a,i,o,l=JO(),c=e3(),d=ZFe(),u=ia(ia({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Om.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Om.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:Om.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Om.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Om.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Om.verticalFill,x:Qe(e.x)?e.x:d.left,y:Qe(e.y)?e.y:d.top,width:Qe(e.width)?e.width:d.width,height:Qe(e.height)?e.height:d.height}),f=u.x,m=u.y,h=u.width,x=u.height,p=u.syncWithTicks,g=u.horizontalValues,j=u.verticalValues,y=YFe(),w=XFe();if(!Qe(h)||h<=0||!Qe(x)||x<=0||!Qe(f)||f!==+f||!Qe(m)||m!==+m)return null;var b=u.verticalCoordinatesGenerator||d$e,N=u.horizontalCoordinatesGenerator||u$e,_=u.horizontalPoints,C=u.verticalPoints;if((!_||!_.length)&&Tt(N)){var A=g&&g.length,E=N({yAxis:w?ia(ia({},w),{},{ticks:A?g:w.ticks}):void 0,width:l,height:c,offset:d},A?!0:p);rl(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Zf(E),"]")),Array.isArray(E)&&(_=E)}if((!C||!C.length)&&Tt(b)){var k=j&&j.length,O=b({xAxis:y?ia(ia({},y),{},{ticks:k?j:y.ticks}):void 0,width:l,height:c,offset:d},k?!0:p);rl(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Zf(O),"]")),Array.isArray(O)&&(C=O)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(a$e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),z.createElement(i$e,mf({},u,{offset:d,horizontalPoints:_,xAxis:y,yAxis:w})),z.createElement(o$e,mf({},u,{offset:d,verticalPoints:C,xAxis:y,yAxis:w})),z.createElement(l$e,mf({},u,{horizontalPoints:_})),z.createElement(c$e,mf({},u,{verticalPoints:C})))}Bn.displayName="CartesianGrid";var f$e=["type","layout","connectNulls","ref"],m$e=["key"];function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function C$(e,t){if(e==null)return{};var r=h$e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function h$e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Rg.apply(this,arguments)}function A$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A$(Object(r),!0).forEach(function(s){Vo(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Dm(e){return v$e(e)||g$e(e)||x$e(e)||p$e()}function p$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x$e(e,t){if(e){if(typeof e=="string")return KE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KE(e,t)}}function g$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v$e(e){if(Array.isArray(e))return KE(e)}function KE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function y$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,RK(s.key),s)}}function j$e(e,t,r){return t&&E$(e.prototype,t),r&&E$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function b$e(e,t,r){return t=xw(t),w$e(e,IK()?Reflect.construct(t,r||[],xw(e).constructor):t.apply(e,r))}function w$e(e,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N$e(e)}function N$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IK=function(){return!!e})()}function xw(e){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xw(e)}function _$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YE(e,t)}function YE(e,t){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},YE(e,t)}function Vo(e,t,r){return t=RK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RK(e){var t=S$e(e,"string");return Np(t)=="symbol"?t:t+""}function S$e(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Np(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ec=function(e){function t(){var r;y$e(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=b$e(this,t,[].concat(a)),Vo(r,"state",{isAnimationFinished:!0,totalLength:0}),Vo(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Vo(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(j,y){return j+y});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),f=o%d,m=l-o,h=[],x=0,p=0;x<c.length;p+=c[x],++x)if(p+c[x]>f){h=[].concat(Dm(c.slice(0,x)),[f-p]);break}var g=h.length%2===0?[0,m]:[m];return[].concat(Dm(t.repeat(c,u)),Dm(h),g).map(function(j){return"".concat(j,"px")}).join(", ")}),Vo(r,"id",fm("recharts-line-")),Vo(r,"pathRef",function(o){r.mainCurve=o}),Vo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Vo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return _$e(t,e),j$e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,f=Ri(u,hy);if(!f)return null;var m=function(p,g){return{x:p.x,y:p.y,value:p.value,errorVal:Wn(p.payload,g)}},h={clipPath:s?"url(#clipPath-".concat(a,")"):null};return z.createElement(er,h,f.map(function(x){return z.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:m})}))}},{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,f=bt(this.props,!1),m=bt(c,!0),h=d.map(function(p,g){var j=xi(xi(xi({key:"dot-".concat(g),r:3},f),m),{},{value:p.value,dataKey:u,cx:p.x,cy:p.y,index:g,payload:p.payload});return t.renderDotItem(c,j)}),x={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return z.createElement(er,Rg({className:"recharts-line-dots",key:"dots"},x),h)}},{key:"renderCurveStatically",value:function(s,a,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var f=C$(l,f$e),m=xi(xi(xi({},bt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:s},o),{},{type:c,layout:d,connectNulls:u});return z.createElement(Pf,Rg({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,m=o.animationEasing,h=o.animationId,x=o.animateNewValues,p=o.width,g=o.height,j=this.state,y=j.prevPoints,w=j.totalLength;return z.createElement(cl,{begin:u,duration:f,isActive:d,easing:m,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var N=b.t;if(y){var _=y.length/l.length,C=l.map(function(I,W){var H=Math.floor(W*_);if(y[H]){var F=y[H],T=hs(F.x,I.x),P=hs(F.y,I.y);return xi(xi({},I),{},{x:T(N),y:P(N)})}if(x){var M=hs(p*2,I.x),D=hs(g/2,I.y);return xi(xi({},I),{},{x:M(N),y:D(N)})}return xi(xi({},I),{},{x:I.x,y:I.y})});return i.renderCurveStatically(C,s,a)}var A=hs(0,w),E=A(N),k;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});k=i.getStrokeDasharray(E,w,O)}else k=i.generateSimpleStrokeDasharray(w,E);return i.renderCurveStatically(l,s,a,{strokeDasharray:k})})}},{key:"renderCurve",value:function(s,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!Xf(d,o))?this.renderCurveWithAnimation(s,a):this.renderCurveStatically(o,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.xAxis,u=a.yAxis,f=a.top,m=a.left,h=a.width,x=a.height,p=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var j=this.state.isAnimationFinished,y=l.length===1,w=zt("recharts-line",c),b=d&&d.allowDataOverflow,N=u&&u.allowDataOverflow,_=b||N,C=$t(g)?this.id:g,A=(s=bt(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},E=A.r,k=E===void 0?3:E,O=A.strokeWidth,I=O===void 0?2:O,W=bH(o)?o:{},H=W.clipDot,F=H===void 0?!0:H,T=k*2+I;return z.createElement(er,{className:w},b||N?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(C)},z.createElement("rect",{x:b?m:m-h/2,y:N?f:f-x/2,width:b?h:h*2,height:N?x:x*2})),!F&&z.createElement("clipPath",{id:"clipPath-dots-".concat(C)},z.createElement("rect",{x:m-T/2,y:f-T/2,width:h+T,height:x+T}))):null,!y&&this.renderCurve(_,C),this.renderErrorBar(_,C),(y||o)&&this.renderDots(_,F,C),(!p||j)&&Gl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,a){for(var i=s.length%2!==0?[].concat(Dm(s),[0]):s,o=[],l=0;l<a;++l)o=[].concat(Dm(o),Dm(i));return o}},{key:"renderDotItem",value:function(s,a){var i;if(z.isValidElement(s))i=z.cloneElement(s,a);else if(Tt(s))i=s(a);else{var o=a.key,l=C$(a,m$e),c=zt("recharts-line-dot",typeof s!="boolean"?s.className:"");i=z.createElement(py,Rg({key:o},l,{className:c}))}return i}}])}(v.PureComponent);Vo(ec,"displayName","Line");Vo(ec,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!sl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Vo(ec,"getComposedData",function(e){var t=e.props,r=e.xAxis,s=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,f=c.map(function(m,h){var x=Wn(m,o);return u==="horizontal"?{x:G1({axis:r,ticks:a,bandSize:l,entry:m,index:h}),y:$t(x)?null:s.scale(x),value:x,payload:m}:{x:$t(x)?null:r.scale(x),y:G1({axis:s,ticks:i,bandSize:l,entry:m,index:h}),value:x,payload:m}});return xi({points:f,layout:u},d)});var C$e=["layout","type","stroke","connectNulls","isRange","ref"],A$e=["key"],MK;function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function FK(e,t){if(e==null)return{};var r=E$e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function E$e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},hf.apply(this,arguments)}function P$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Sd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P$(Object(r),!0).forEach(function(s){Vl(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function P$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,LK(s.key),s)}}function k$e(e,t,r){return t&&k$(e.prototype,t),r&&k$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function T$e(e,t,r){return t=gw(t),O$e(e,$K()?Reflect.construct(t,r||[],gw(e).constructor):t.apply(e,r))}function O$e(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D$e(e)}function D$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $K(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($K=function(){return!!e})()}function gw(e){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gw(e)}function I$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XE(e,t)}function XE(e,t){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},XE(e,t)}function Vl(e,t,r){return t=LK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LK(e){var t=R$e(e,"string");return _p(t)=="symbol"?t:t+""}function R$e(e,t){if(_p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(_p(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rd=function(e){function t(){var r;P$e(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=T$e(this,t,[].concat(a)),Vl(r,"state",{isAnimationFinished:!0}),Vl(r,"id",fm("recharts-area-")),Vl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Tt(o)&&o()}),Vl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Tt(o)&&o()}),r}return I$e(t,e),k$e(t,[{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,f=c.dataKey,m=bt(this.props,!1),h=bt(d,!0),x=u.map(function(g,j){var y=Sd(Sd(Sd({key:"dot-".concat(j),r:3},m),h),{},{index:j,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:u});return t.renderDotItem(d,y)}),p={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return z.createElement(er,hf({className:"recharts-area-dots"},p),x)}},{key:"renderHorizontalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=s*Math.abs(c-d),f=Hd(o.map(function(m){return m.y||0}));return Qe(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Hd(i.map(function(m){return m.y||0})),f)),Qe(f)?z.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=s*Math.abs(c-d),f=Hd(o.map(function(m){return m.x||0}));return Qe(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Hd(i.map(function(m){return m.x||0})),f)),Qe(f)?z.createElement("rect",{x:0,y:c<d?c:c-u,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(s){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,a,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,f=l.connectNulls,m=l.isRange;l.ref;var h=FK(l,C$e);return z.createElement(er,{clipPath:i?"url(#clipPath-".concat(o,")"):null},z.createElement(Pf,hf({},bt(h,!0),{points:s,connectNulls:f,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&z.createElement(Pf,hf({},bt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:s})),u!=="none"&&m&&z.createElement(Pf,hf({},bt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,m=o.animationEasing,h=o.animationId,x=this.state,p=x.prevPoints,g=x.prevBaseLine;return z.createElement(cl,{begin:u,duration:f,isActive:d,easing:m,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var y=j.t;if(p){var w=p.length/l.length,b=l.map(function(A,E){var k=Math.floor(E*w);if(p[k]){var O=p[k],I=hs(O.x,A.x),W=hs(O.y,A.y);return Sd(Sd({},A),{},{x:I(y),y:W(y)})}return A}),N;if(Qe(c)&&typeof c=="number"){var _=hs(g,c);N=_(y)}else if($t(c)||rx(c)){var C=hs(g,0);N=C(y)}else N=c.map(function(A,E){var k=Math.floor(E*w);if(g[k]){var O=g[k],I=hs(O.x,A.x),W=hs(O.y,A.y);return Sd(Sd({},A),{},{x:I(y),y:W(y)})}return A});return i.renderAreaStatically(b,N,s,a)}return z.createElement(er,null,z.createElement("defs",null,z.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(y))),z.createElement(er,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,s,a)))})}},{key:"renderArea",value:function(s,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,f=d.prevBaseLine,m=d.totalLength;return c&&o&&o.length&&(!u&&m>0||!Xf(u,o)||!Xf(f,l))?this.renderAreaWithAnimation(s,a):this.renderAreaStatically(o,l,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.top,u=a.left,f=a.xAxis,m=a.yAxis,h=a.width,x=a.height,p=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var j=this.state.isAnimationFinished,y=l.length===1,w=zt("recharts-area",c),b=f&&f.allowDataOverflow,N=m&&m.allowDataOverflow,_=b||N,C=$t(g)?this.id:g,A=(s=bt(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},E=A.r,k=E===void 0?3:E,O=A.strokeWidth,I=O===void 0?2:O,W=bH(o)?o:{},H=W.clipDot,F=H===void 0?!0:H,T=k*2+I;return z.createElement(er,{className:w},b||N?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(C)},z.createElement("rect",{x:b?u:u-h/2,y:N?d:d-x/2,width:b?h:h*2,height:N?x:x*2})),!F&&z.createElement("clipPath",{id:"clipPath-dots-".concat(C)},z.createElement("rect",{x:u-T/2,y:d-T/2,width:h+T,height:x+T}))):null,y?null:this.renderArea(_,C),(o||y)&&this.renderDots(_,F,C),(!p||j)&&Gl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:s.points!==a.curPoints||s.baseLine!==a.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(v.PureComponent);MK=rd;Vl(rd,"displayName","Area");Vl(rd,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!sl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Vl(rd,"getBaseValue",function(e,t,r,s){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(Qe(l)&&typeof l=="number")return l;var c=a==="horizontal"?s:r,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),f=Math.min(d[0],d[1]);return l==="dataMin"?f:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});Vl(rd,"getComposedData",function(e){var t=e.props,r=e.item,s=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,m=e.offset,h=t.layout,x=d&&d.length,p=MK.getBaseValue(t,r,s,a),g=h==="horizontal",j=!1,y=f.map(function(b,N){var _;x?_=d[u+N]:(_=Wn(b,c),Array.isArray(_)?j=!0:_=[p,_]);var C=_[1]==null||x&&Wn(b,c)==null;return g?{x:G1({axis:s,ticks:i,bandSize:l,entry:b,index:N}),y:C?null:a.scale(_[1]),value:_,payload:b}:{x:C?null:s.scale(_[1]),y:G1({axis:a,ticks:o,bandSize:l,entry:b,index:N}),value:_,payload:b}}),w;return x||j?w=y.map(function(b){var N=Array.isArray(b.value)?b.value[0]:null;return g?{x:b.x,y:N!=null&&b.y!=null?a.scale(N):null}:{x:N!=null?s.scale(N):null,y:b.y}}):w=g?a.scale(p):s.scale(p),Sd({points:y,baseLine:w,layout:h,isRange:j},m)});Vl(rd,"renderDotItem",function(e,t){var r;if(z.isValidElement(e))r=z.cloneElement(e,t);else if(Tt(e))r=e(t);else{var s=zt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=FK(t,A$e);r=z.createElement(py,hf({},i,{key:a,className:s}))}return r});function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function M$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F$e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,VK(s.key),s)}}function $$e(e,t,r){return t&&F$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function L$e(e,t,r){return t=vw(t),B$e(e,BK()?Reflect.construct(t,r||[],vw(e).constructor):t.apply(e,r))}function B$e(e,t){if(t&&(Sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U$e(e)}function U$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BK=function(){return!!e})()}function vw(e){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vw(e)}function V$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QE(e,t)}function QE(e,t){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},QE(e,t)}function UK(e,t,r){return t=VK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VK(e){var t=z$e(e,"string");return Sp(t)=="symbol"?t:t+""}function z$e(e,t){if(Sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Sp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZE(){return ZE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ZE.apply(this,arguments)}function W$e(e){var t=e.xAxisId,r=JO(),s=e3(),a=wK(t);return a==null?null:z.createElement(dx,ZE({},a,{className:zt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(o){return Tc(o,!0)}}))}var an=function(e){function t(){return M$e(this,t),L$e(this,t,arguments)}return V$e(t,e),$$e(t,[{key:"render",value:function(){return z.createElement(W$e,this.props)}}])}(z.Component);UK(an,"displayName","XAxis");UK(an,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function H$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q$e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,HK(s.key),s)}}function G$e(e,t,r){return t&&q$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K$e(e,t,r){return t=yw(t),Y$e(e,zK()?Reflect.construct(t,r||[],yw(e).constructor):t.apply(e,r))}function Y$e(e,t){if(t&&(Cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X$e(e)}function X$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zK=function(){return!!e})()}function yw(e){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(e)}function Q$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JE(e,t)}function JE(e,t){return JE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},JE(e,t)}function WK(e,t,r){return t=HK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HK(e){var t=Z$e(e,"string");return Cp(t)=="symbol"?t:t+""}function Z$e(e,t){if(Cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Cp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eP(){return eP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},eP.apply(this,arguments)}var J$e=function(t){var r=t.yAxisId,s=JO(),a=e3(),i=NK(r);return i==null?null:z.createElement(dx,eP({},i,{className:zt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return Tc(l,!0)}}))},on=function(e){function t(){return H$e(this,t),K$e(this,t,arguments)}return Q$e(t,e),G$e(t,[{key:"render",value:function(){return z.createElement(J$e,this.props)}}])}(z.Component);WK(on,"displayName","YAxis");WK(on,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function T$(e){return nLe(e)||rLe(e)||tLe(e)||eLe()}function eLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tLe(e,t){if(e){if(typeof e=="string")return tP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tP(e,t)}}function rLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nLe(e){if(Array.isArray(e))return tP(e)}function tP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var rP=function(t,r,s,a,i){var o=Ri(t,r3),l=Ri(t,R2),c=[].concat(T$(o),T$(l)),d=Ri(t,F2),u="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(p,g){if(g.props[u]===s&&Kl(g.props,"extendDomain")&&Qe(g.props[f])){var j=g.props[f];return[Math.min(p[0],j),Math.max(p[1],j)]}return p},m)),d.length){var h="".concat(f,"1"),x="".concat(f,"2");m=d.reduce(function(p,g){if(g.props[u]===s&&Kl(g.props,"extendDomain")&&Qe(g.props[h])&&Qe(g.props[x])){var j=g.props[h],y=g.props[x];return[Math.min(p[0],j,y),Math.max(p[1],j,y)]}return p},m)}return i&&i.length&&(m=i.reduce(function(p,g){return Qe(g)?[Math.min(p[0],g),Math.max(p[1],g)]:p},m)),m},qK={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,f,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new a(u,f||c,m),x=r?r+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],h]:c._events[x].push(h):(c._events[x]=h,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,x=new Array(h);m<h;m++)x[m]=f[m].fn;return x},l.prototype.listenerCount=function(d){var u=r?r+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,m,h,x){var p=r?r+d:d;if(!this._events[p])return!1;var g=this._events[p],j=arguments.length,y,w;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),j){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,m),!0;case 5:return g.fn.call(g.context,u,f,m,h),!0;case 6:return g.fn.call(g.context,u,f,m,h,x),!0}for(w=1,y=new Array(j-1);w<j;w++)y[w-1]=arguments[w];g.fn.apply(g.context,y)}else{var b=g.length,N;for(w=0;w<b;w++)switch(g[w].once&&this.removeListener(d,g[w].fn,void 0,!0),j){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,u);break;case 3:g[w].fn.call(g[w].context,u,f);break;case 4:g[w].fn.call(g[w].context,u,f,m);break;default:if(!y)for(N=1,y=new Array(j-1);N<j;N++)y[N-1]=arguments[N];g[w].fn.apply(g[w].context,y)}}return!0},l.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,m){var h=r?r+d:d;if(!this._events[h])return this;if(!u)return o(this,h),this;var x=this._events[h];if(x.fn)x.fn===u&&(!m||x.once)&&(!f||x.context===f)&&o(this,h);else{for(var p=0,g=[],j=x.length;p<j;p++)(x[p].fn!==u||m&&!x[p].once||f&&x[p].context!==f)&&g.push(x[p]);g.length?this._events[h]=g.length===1?g[0]:g:o(this,h)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(qK);var sLe=qK.exports;const aLe=Ar(sLe);var ZS=new aLe,JS="recharts.syncMouseEvents";function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function iLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oLe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,GK(s.key),s)}}function lLe(e,t,r){return t&&oLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eC(e,t,r){return t=GK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GK(e){var t=cLe(e,"string");return sv(t)=="symbol"?t:t+""}function cLe(e,t){if(sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(sv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dLe=function(){function e(){iLe(this,e),eC(this,"activeIndex",0),eC(this,"coordinateList",[]),eC(this,"layout","horizontal")}return lLe(e,[{key:"setDetails",value:function(r){var s,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,f=u===void 0?null:u,m=r.mouseHandlerCallback,h=m===void 0?null:m;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((s=window)===null||s===void 0?void 0:s.scrollY)||0,f=i+c+d,m=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function uLe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var s=e==null?void 0:e[0],a=e==null?void 0:e[1];if(s&&a&&Qe(s)&&Qe(a))return!0}return!1}function fLe(e,t,r,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?s:r.width-1,height:e==="horizontal"?r.height-1:s}}function KK(e){var t=e.cx,r=e.cy,s=e.radius,a=e.startAngle,i=e.endAngle,o=Qr(t,r,s,a),l=Qr(t,r,s,i);return{points:[o,l],cx:t,cy:r,radius:s,startAngle:a,endAngle:i}}function mLe(e,t,r){var s,a,i,o;if(e==="horizontal")s=t.x,i=s,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,s=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,f=t.angle,m=Qr(l,c,d,f),h=Qr(l,c,u,f);s=m.x,a=m.y,i=h.x,o=h.y}else return KK(t);return[{x:s,y:a},{x:i,y:o}]}function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}function O$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Sj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O$(Object(r),!0).forEach(function(s){hLe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function hLe(e,t,r){return t=pLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pLe(e){var t=xLe(e,"string");return av(t)=="symbol"?t:t+""}function xLe(e,t){if(av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(av(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gLe(e){var t,r,s=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,h=(t=s.props.cursor)!==null&&t!==void 0?t:(r=s.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!s||!h||!i||!o||m!=="ScatterChart"&&a!=="axis")return null;var x,p=Pf;if(m==="ScatterChart")x=o,p=SIe;else if(m==="BarChart")x=fLe(f,o,c,u),p=KO;else if(f==="radial"){var g=KK(o),j=g.cx,y=g.cy,w=g.radius,b=g.startAngle,N=g.endAngle;x={cx:j,cy:y,startAngle:b,endAngle:N,innerRadius:w,outerRadius:w},p=BG}else x={points:mLe(f,o,c)},p=Pf;var _=Sj(Sj(Sj(Sj({stroke:"#ccc",pointerEvents:"none"},c),x),bt(h,!1)),{},{payload:l,payloadIndex:d,className:zt("recharts-tooltip-cursor",h.className)});return v.isValidElement(h)?v.cloneElement(h,_):v.createElement(p,_)}var vLe=["item"],yLe=["children","className","width","height","style","compact","title","desc"];function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Mg.apply(this,arguments)}function D$(e,t){return wLe(e)||bLe(e,t)||XK(e,t)||jLe()}function jLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function wLe(e){if(Array.isArray(e))return e}function I$(e,t){if(e==null)return{};var r=NLe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function NLe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function _Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SLe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,QK(s.key),s)}}function CLe(e,t,r){return t&&SLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ALe(e,t,r){return t=jw(t),ELe(e,YK()?Reflect.construct(t,r||[],jw(e).constructor):t.apply(e,r))}function ELe(e,t){if(t&&(Ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PLe(e)}function PLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YK=function(){return!!e})()}function jw(e){return jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jw(e)}function kLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nP(e,t)}function nP(e,t){return nP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},nP(e,t)}function Ep(e){return DLe(e)||OLe(e)||XK(e)||TLe()}function TLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XK(e,t){if(e){if(typeof e=="string")return sP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sP(e,t)}}function OLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DLe(e){if(Array.isArray(e))return sP(e)}function sP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function R$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R$(Object(r),!0).forEach(function(s){Pt(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Pt(e,t,r){return t=QK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QK(e){var t=ILe(e,"string");return Ap(t)=="symbol"?t:t+""}function ILe(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Ap(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RLe={xAxis:["bottom","top"],yAxis:["left","right"]},MLe={width:"100%",height:"100%"},ZK={x:0,y:0};function Cj(e){return e}var FLe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},$Le=function(t,r,s,a){var i=r.find(function(u){return u&&u.index===s});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return Le(Le(Le({},a),Qr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return Le(Le(Le({},a),Qr(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return ZK},$2=function(t,r){var s=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(s??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Ep(l),Ep(d)):l},[]);return o.length>0?o:t&&t.length&&Qe(a)&&Qe(i)?t.slice(a,i+1):[]};function JK(e){return e==="number"?[0,"auto"]:void 0}var aP=function(t,r,s,a){var i=t.graphicalItems,o=t.tooltipAxis,l=$2(r,t);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(c,d){var u,f=(u=d.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?l:f;m=y1(h,o.dataKey,a)}else m=f&&f[s]||l[s];return m?[].concat(Ep(c),[IG(d,m)]):c},[])},M$=function(t,r,s,a){var i=a||{x:t.chartX,y:t.chartY},o=FLe(i,s),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=a3e(o,l,d,c);if(u>=0&&d){var f=d[u]&&d[u].value,m=aP(t,r,u,f),h=$Le(s,l,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:m,activeCoordinate:h}}return null},LLe=function(t,r){var s=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,m=t.stackOffset,h=EG(u,i);return s.reduce(function(x,p){var g,j=p.type.defaultProps!==void 0?Le(Le({},p.type.defaultProps),p.props):p.props,y=j.type,w=j.dataKey,b=j.allowDataOverflow,N=j.allowDuplicatedCategory,_=j.scale,C=j.ticks,A=j.includeHidden,E=j[o];if(x[E])return x;var k=$2(t.data,{graphicalItems:a.filter(function(R){var V,L=o in R.props?R.props[o]:(V=R.type.defaultProps)===null||V===void 0?void 0:V[o];return L===E}),dataStartIndex:c,dataEndIndex:d}),O=k.length,I,W,H;uLe(j.domain,b,y)&&(I=vE(j.domain,null,b),h&&(y==="number"||_!=="auto")&&(H=Tg(k,w,"category")));var F=JK(y);if(!I||I.length===0){var T,P=(T=j.domain)!==null&&T!==void 0?T:F;if(w){if(I=Tg(k,w,y),y==="category"&&h){var M=Xje(I);N&&M?(W=I,I=iw(0,O)):N||(I=r6(P,I,p).reduce(function(R,V){return R.indexOf(V)>=0?R:[].concat(Ep(R),[V])},[]))}else if(y==="category")N?I=I.filter(function(R){return R!==""&&!$t(R)}):I=r6(P,I,p).reduce(function(R,V){return R.indexOf(V)>=0||V===""||$t(V)?R:[].concat(Ep(R),[V])},[]);else if(y==="number"){var D=d3e(k,a.filter(function(R){var V,L,K=o in R.props?R.props[o]:(V=R.type.defaultProps)===null||V===void 0?void 0:V[o],le="hide"in R.props?R.props.hide:(L=R.type.defaultProps)===null||L===void 0?void 0:L.hide;return K===E&&(A||!le)}),w,i,u);D&&(I=D)}h&&(y==="number"||_!=="auto")&&(H=Tg(k,w,"category"))}else h?I=iw(0,O):l&&l[E]&&l[E].hasStack&&y==="number"?I=m==="expand"?[0,1]:DG(l[E].stackGroups,c,d):I=AG(k,a.filter(function(R){var V=o in R.props?R.props[o]:R.type.defaultProps[o],L="hide"in R.props?R.props.hide:R.type.defaultProps.hide;return V===E&&(A||!L)}),y,u,!0);if(y==="number")I=rP(f,I,E,i,C),P&&(I=vE(P,I,b));else if(y==="category"&&P){var Y=P,ae=I.every(function(R){return Y.indexOf(R)>=0});ae&&(I=Y)}}return Le(Le({},x),{},Pt({},E,Le(Le({},j),{},{axisType:i,domain:I,categoricalDomain:H,duplicateDomain:W,originalDomain:(g=j.domain)!==null&&g!==void 0?g:F,isCategorical:h,layout:u})))},{})},BLe=function(t,r){var s=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,m=$2(t.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:d}),h=m.length,x=EG(u,i),p=-1;return s.reduce(function(g,j){var y=j.type.defaultProps!==void 0?Le(Le({},j.type.defaultProps),j.props):j.props,w=y[o],b=JK("number");if(!g[w]){p++;var N;return x?N=iw(0,h):l&&l[w]&&l[w].hasStack?(N=DG(l[w].stackGroups,c,d),N=rP(f,N,w,i)):(N=vE(b,AG(m,s.filter(function(_){var C,A,E=o in _.props?_.props[o]:(C=_.type.defaultProps)===null||C===void 0?void 0:C[o],k="hide"in _.props?_.props.hide:(A=_.type.defaultProps)===null||A===void 0?void 0:A.hide;return E===w&&!k}),"number",u),a.defaultProps.allowDataOverflow),N=rP(f,N,w,i)),Le(Le({},g),{},Pt({},w,Le(Le({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ii(RLe,"".concat(i,".").concat(p%2),null),domain:N,originalDomain:b,isCategorical:x,layout:u})))}return g},{})},ULe=function(t,r){var s=r.axisType,a=s===void 0?"xAxis":s,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),m=Ri(u,i),h={};return m&&m.length?h=LLe(t,{axes:m,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(h=BLe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),h},VLe=function(t){var r=Od(t),s=Tc(r,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:bO(s,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:K1(r,s)}},F$=function(t){var r=t.children,s=t.defaultShowTooltip,a=_i(r,gp),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},zLe=function(t){return!t||!t.length?!1:t.some(function(r){var s=Rc(r&&r.type);return s&&s.indexOf("Bar")>=0})},$$=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},WLe=function(t,r){var s=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,d=s.width,u=s.height,f=s.children,m=s.margin||{},h=_i(f,gp),x=_i(f,nl),p=Object.keys(c).reduce(function(N,_){var C=c[_],A=C.orientation;return!C.mirror&&!C.hide?Le(Le({},N),{},Pt({},A,N[A]+C.width)):N},{left:m.left||0,right:m.right||0}),g=Object.keys(o).reduce(function(N,_){var C=o[_],A=C.orientation;return!C.mirror&&!C.hide?Le(Le({},N),{},Pt({},A,Ii(N,"".concat(A))+C.height)):N},{top:m.top||0,bottom:m.bottom||0}),j=Le(Le({},g),p),y=j.bottom;h&&(j.bottom+=h.props.height||gp.defaultProps.height),x&&r&&(j=l3e(j,a,s,r));var w=d-j.left-j.right,b=u-j.top-j.bottom;return Le(Le({brushBottom:y},j),{},{width:Math.max(w,0),height:Math.max(b,0)})},HLe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},L2=function(t){var r=t.chartName,s=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,m=function(g,j){var y=j.graphicalItems,w=j.stackGroups,b=j.offset,N=j.updateId,_=j.dataStartIndex,C=j.dataEndIndex,A=g.barSize,E=g.layout,k=g.barGap,O=g.barCategoryGap,I=g.maxBarSize,W=$$(E),H=W.numericAxisName,F=W.cateAxisName,T=zLe(y),P=[];return y.forEach(function(M,D){var Y=$2(g.data,{graphicalItems:[M],dataStartIndex:_,dataEndIndex:C}),ae=M.type.defaultProps!==void 0?Le(Le({},M.type.defaultProps),M.props):M.props,R=ae.dataKey,V=ae.maxBarSize,L=ae["".concat(H,"Id")],K=ae["".concat(F,"Id")],le={},me=c.reduce(function(ce,be){var $e=j["".concat(be.axisType,"Map")],De=ae["".concat(be.axisType,"Id")];$e&&$e[De]||be.axisType==="zAxis"||yu();var de=$e[De];return Le(Le({},ce),{},Pt(Pt({},be.axisType,de),"".concat(be.axisType,"Ticks"),Tc(de)))},le),B=me[F],X=me["".concat(F,"Ticks")],oe=w&&w[L]&&w[L].hasStack&&y3e(M,w[L].stackGroups),Ne=Rc(M.type).indexOf("Bar")>=0,ue=K1(B,X),ve=[],xe=T&&i3e({barSize:A,stackGroups:w,totalSize:HLe(me,F)});if(Ne){var Ee,Me,Te=$t(V)?I:V,se=(Ee=(Me=K1(B,X,!0))!==null&&Me!==void 0?Me:Te)!==null&&Ee!==void 0?Ee:0;ve=o3e({barGap:k,barCategoryGap:O,bandSize:se!==ue?se:ue,sizeList:xe[K],maxBarSize:Te}),se!==ue&&(ve=ve.map(function(ce){return Le(Le({},ce),{},{position:Le(Le({},ce.position),{},{offset:ce.position.offset-se/2})})}))}var he=M&&M.type&&M.type.getComposedData;he&&P.push({props:Le(Le({},he(Le(Le({},me),{},{displayedData:Y,props:g,dataKey:R,item:M,bandSize:ue,barPosition:ve,offset:b,stackedData:oe,layout:E,dataStartIndex:_,dataEndIndex:C}))),{},Pt(Pt(Pt({key:M.key||"item-".concat(D)},H,me[H]),F,me[F]),"animationId",N)),childIndex:obe(M,g.children),item:M})}),P},h=function(g,j){var y=g.props,w=g.dataStartIndex,b=g.dataEndIndex,N=g.updateId;if(!XR({props:y}))return null;var _=y.children,C=y.layout,A=y.stackOffset,E=y.data,k=y.reverseStackOrder,O=$$(C),I=O.numericAxisName,W=O.cateAxisName,H=Ri(_,s),F=g3e(E,H,"".concat(I,"Id"),"".concat(W,"Id"),A,k),T=c.reduce(function(ae,R){var V="".concat(R.axisType,"Map");return Le(Le({},ae),{},Pt({},V,ULe(y,Le(Le({},R),{},{graphicalItems:H,stackGroups:R.axisType===I&&F,dataStartIndex:w,dataEndIndex:b}))))},{}),P=WLe(Le(Le({},T),{},{props:y,graphicalItems:H}),j==null?void 0:j.legendBBox);Object.keys(T).forEach(function(ae){T[ae]=u(y,T[ae],P,ae.replace("Map",""),r)});var M=T["".concat(W,"Map")],D=VLe(M),Y=m(y,Le(Le({},T),{},{dataStartIndex:w,dataEndIndex:b,updateId:N,graphicalItems:H,stackGroups:F,offset:P}));return Le(Le({formattedGraphicalItems:Y,graphicalItems:H,offset:P,stackGroups:F},D),T)},x=function(p){function g(j){var y,w,b;return _Le(this,g),b=ALe(this,g,[j]),Pt(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Pt(b,"accessibilityManager",new dLe),Pt(b,"handleLegendBBoxUpdate",function(N){if(N){var _=b.state,C=_.dataStartIndex,A=_.dataEndIndex,E=_.updateId;b.setState(Le({legendBBox:N},h({props:b.props,dataStartIndex:C,dataEndIndex:A,updateId:E},Le(Le({},b.state),{},{legendBBox:N}))))}}),Pt(b,"handleReceiveSyncEvent",function(N,_,C){if(b.props.syncId===N){if(C===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(_)}}),Pt(b,"handleBrushChange",function(N){var _=N.startIndex,C=N.endIndex;if(_!==b.state.dataStartIndex||C!==b.state.dataEndIndex){var A=b.state.updateId;b.setState(function(){return Le({dataStartIndex:_,dataEndIndex:C},h({props:b.props,dataStartIndex:_,dataEndIndex:C,updateId:A},b.state))}),b.triggerSyncEvent({dataStartIndex:_,dataEndIndex:C})}}),Pt(b,"handleMouseEnter",function(N){var _=b.getMouseInfo(N);if(_){var C=Le(Le({},_),{},{isTooltipActive:!0});b.setState(C),b.triggerSyncEvent(C);var A=b.props.onMouseEnter;Tt(A)&&A(C,N)}}),Pt(b,"triggeredAfterMouseMove",function(N){var _=b.getMouseInfo(N),C=_?Le(Le({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(C),b.triggerSyncEvent(C);var A=b.props.onMouseMove;Tt(A)&&A(C,N)}),Pt(b,"handleItemMouseEnter",function(N){b.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Pt(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),Pt(b,"handleMouseMove",function(N){N.persist(),b.throttleTriggeredAfterMouseMove(N)}),Pt(b,"handleMouseLeave",function(N){b.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};b.setState(_),b.triggerSyncEvent(_);var C=b.props.onMouseLeave;Tt(C)&&C(_,N)}),Pt(b,"handleOuterEvent",function(N){var _=ibe(N),C=Ii(b.props,"".concat(_));if(_&&Tt(C)){var A,E;/.*touch.*/i.test(_)?E=b.getMouseInfo(N.changedTouches[0]):E=b.getMouseInfo(N),C((A=E)!==null&&A!==void 0?A:{},N)}}),Pt(b,"handleClick",function(N){var _=b.getMouseInfo(N);if(_){var C=Le(Le({},_),{},{isTooltipActive:!0});b.setState(C),b.triggerSyncEvent(C);var A=b.props.onClick;Tt(A)&&A(C,N)}}),Pt(b,"handleMouseDown",function(N){var _=b.props.onMouseDown;if(Tt(_)){var C=b.getMouseInfo(N);_(C,N)}}),Pt(b,"handleMouseUp",function(N){var _=b.props.onMouseUp;if(Tt(_)){var C=b.getMouseInfo(N);_(C,N)}}),Pt(b,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Pt(b,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.handleMouseDown(N.changedTouches[0])}),Pt(b,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.handleMouseUp(N.changedTouches[0])}),Pt(b,"triggerSyncEvent",function(N){b.props.syncId!==void 0&&ZS.emit(JS,b.props.syncId,N,b.eventEmitterSymbol)}),Pt(b,"applySyncEvent",function(N){var _=b.props,C=_.layout,A=_.syncMethod,E=b.state.updateId,k=N.dataStartIndex,O=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)b.setState(Le({dataStartIndex:k,dataEndIndex:O},h({props:b.props,dataStartIndex:k,dataEndIndex:O,updateId:E},b.state)));else if(N.activeTooltipIndex!==void 0){var I=N.chartX,W=N.chartY,H=N.activeTooltipIndex,F=b.state,T=F.offset,P=F.tooltipTicks;if(!T)return;if(typeof A=="function")H=A(P,N);else if(A==="value"){H=-1;for(var M=0;M<P.length;M++)if(P[M].value===N.activeLabel){H=M;break}}var D=Le(Le({},T),{},{x:T.left,y:T.top}),Y=Math.min(I,D.x+D.width),ae=Math.min(W,D.y+D.height),R=P[H]&&P[H].value,V=aP(b.state,b.props.data,H),L=P[H]?{x:C==="horizontal"?P[H].coordinate:Y,y:C==="horizontal"?ae:P[H].coordinate}:ZK;b.setState(Le(Le({},N),{},{activeLabel:R,activeCoordinate:L,activePayload:V,activeTooltipIndex:H}))}else b.setState(N)}),Pt(b,"renderCursor",function(N){var _,C=b.state,A=C.isTooltipActive,E=C.activeCoordinate,k=C.activePayload,O=C.offset,I=C.activeTooltipIndex,W=C.tooltipAxisBandSize,H=b.getTooltipEventType(),F=(_=N.props.active)!==null&&_!==void 0?_:A,T=b.props.layout,P=N.key||"_recharts-cursor";return z.createElement(gLe,{key:P,activeCoordinate:E,activePayload:k,activeTooltipIndex:I,chartName:r,element:N,isActive:F,layout:T,offset:O,tooltipAxisBandSize:W,tooltipEventType:H})}),Pt(b,"renderPolarAxis",function(N,_,C){var A=Ii(N,"type.axisType"),E=Ii(b.state,"".concat(A,"Map")),k=N.type.defaultProps,O=k!==void 0?Le(Le({},k),N.props):N.props,I=E&&E[O["".concat(A,"Id")]];return v.cloneElement(N,Le(Le({},I),{},{className:zt(A,I.className),key:N.key||"".concat(_,"-").concat(C),ticks:Tc(I,!0)}))}),Pt(b,"renderPolarGrid",function(N){var _=N.props,C=_.radialLines,A=_.polarAngles,E=_.polarRadius,k=b.state,O=k.radiusAxisMap,I=k.angleAxisMap,W=Od(O),H=Od(I),F=H.cx,T=H.cy,P=H.innerRadius,M=H.outerRadius;return v.cloneElement(N,{polarAngles:Array.isArray(A)?A:Tc(H,!0).map(function(D){return D.coordinate}),polarRadius:Array.isArray(E)?E:Tc(W,!0).map(function(D){return D.coordinate}),cx:F,cy:T,innerRadius:P,outerRadius:M,key:N.key||"polar-grid",radialLines:C})}),Pt(b,"renderLegend",function(){var N=b.state.formattedGraphicalItems,_=b.props,C=_.children,A=_.width,E=_.height,k=b.props.margin||{},O=A-(k.left||0)-(k.right||0),I=SG({children:C,formattedGraphicalItems:N,legendWidth:O,legendContent:d});if(!I)return null;var W=I.item,H=I$(I,vLe);return v.cloneElement(W,Le(Le({},H),{},{chartWidth:A,chartHeight:E,margin:k,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),Pt(b,"renderTooltip",function(){var N,_=b.props,C=_.children,A=_.accessibilityLayer,E=_i(C,fr);if(!E)return null;var k=b.state,O=k.isTooltipActive,I=k.activeCoordinate,W=k.activePayload,H=k.activeLabel,F=k.offset,T=(N=E.props.active)!==null&&N!==void 0?N:O;return v.cloneElement(E,{viewBox:Le(Le({},F),{},{x:F.left,y:F.top}),active:T,label:H,payload:T?W:[],coordinate:I,accessibilityLayer:A})}),Pt(b,"renderBrush",function(N){var _=b.props,C=_.margin,A=_.data,E=b.state,k=E.offset,O=E.dataStartIndex,I=E.dataEndIndex,W=E.updateId;return v.cloneElement(N,{key:N.key||"_recharts-brush",onChange:bj(b.handleBrushChange,N.props.onChange),data:A,x:Qe(N.props.x)?N.props.x:k.left,y:Qe(N.props.y)?N.props.y:k.top+k.height+k.brushBottom-(C.bottom||0),width:Qe(N.props.width)?N.props.width:k.width,startIndex:O,endIndex:I,updateId:"brush-".concat(W)})}),Pt(b,"renderReferenceElement",function(N,_,C){if(!N)return null;var A=b,E=A.clipPathId,k=b.state,O=k.xAxisMap,I=k.yAxisMap,W=k.offset,H=N.type.defaultProps||{},F=N.props,T=F.xAxisId,P=T===void 0?H.xAxisId:T,M=F.yAxisId,D=M===void 0?H.yAxisId:M;return v.cloneElement(N,{key:N.key||"".concat(_,"-").concat(C),xAxis:O[P],yAxis:I[D],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:E})}),Pt(b,"renderActivePoints",function(N){var _=N.item,C=N.activePoint,A=N.basePoint,E=N.childIndex,k=N.isRange,O=[],I=_.props.key,W=_.item.type.defaultProps!==void 0?Le(Le({},_.item.type.defaultProps),_.item.props):_.item.props,H=W.activeDot,F=W.dataKey,T=Le(Le({index:E,dataKey:F,cx:C.x,cy:C.y,r:4,fill:GO(_.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},bt(H,!1)),j1(H));return O.push(g.renderActiveDot(H,T,"".concat(I,"-activePoint-").concat(E))),A?O.push(g.renderActiveDot(H,Le(Le({},T),{},{cx:A.x,cy:A.y}),"".concat(I,"-basePoint-").concat(E))):k&&O.push(null),O}),Pt(b,"renderGraphicChild",function(N,_,C){var A=b.filterFormatItem(N,_,C);if(!A)return null;var E=b.getTooltipEventType(),k=b.state,O=k.isTooltipActive,I=k.tooltipAxis,W=k.activeTooltipIndex,H=k.activeLabel,F=b.props.children,T=_i(F,fr),P=A.props,M=P.points,D=P.isRange,Y=P.baseLine,ae=A.item.type.defaultProps!==void 0?Le(Le({},A.item.type.defaultProps),A.item.props):A.item.props,R=ae.activeDot,V=ae.hide,L=ae.activeBar,K=ae.activeShape,le=!!(!V&&O&&T&&(R||L||K)),me={};E!=="axis"&&T&&T.props.trigger==="click"?me={onClick:bj(b.handleItemMouseEnter,N.props.onClick)}:E!=="axis"&&(me={onMouseLeave:bj(b.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:bj(b.handleItemMouseEnter,N.props.onMouseEnter)});var B=v.cloneElement(N,Le(Le({},A.props),me));function X(be){return typeof I.dataKey=="function"?I.dataKey(be.payload):null}if(le)if(W>=0){var oe,Ne;if(I.dataKey&&!I.allowDuplicatedCategory){var ue=typeof I.dataKey=="function"?X:"payload.".concat(I.dataKey.toString());oe=y1(M,ue,H),Ne=D&&Y&&y1(Y,ue,H)}else oe=M==null?void 0:M[W],Ne=D&&Y&&Y[W];if(K||L){var ve=N.props.activeIndex!==void 0?N.props.activeIndex:W;return[v.cloneElement(N,Le(Le(Le({},A.props),me),{},{activeIndex:ve})),null,null]}if(!$t(oe))return[B].concat(Ep(b.renderActivePoints({item:A,activePoint:oe,basePoint:Ne,childIndex:W,isRange:D})))}else{var xe,Ee=(xe=b.getItemByXY(b.state.activeCoordinate))!==null&&xe!==void 0?xe:{graphicalItem:B},Me=Ee.graphicalItem,Te=Me.item,se=Te===void 0?N:Te,he=Me.childIndex,ce=Le(Le(Le({},A.props),me),{},{activeIndex:he});return[v.cloneElement(se,ce),null,null]}return D?[B,null,null]:[B,null]}),Pt(b,"renderCustomized",function(N,_,C){return v.cloneElement(N,Le(Le({key:"recharts-customized-".concat(C)},b.props),b.state))}),Pt(b,"renderMap",{CartesianGrid:{handler:Cj,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:Cj},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:Cj},YAxis:{handler:Cj},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((y=j.id)!==null&&y!==void 0?y:fm("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=_q(b.triggeredAfterMouseMove,(w=j.throttleDelay)!==null&&w!==void 0?w:1e3/60),b.state={},b}return kLe(g,p),CLe(g,[{key:"componentDidMount",value:function(){var y,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,w=y.children,b=y.data,N=y.height,_=y.layout,C=_i(w,fr);if(C){var A=C.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,k=aP(this.state,b,A,E),O=this.state.tooltipTicks[A].coordinate,I=(this.state.offset.top+N)/2,W=_==="horizontal",H=W?{x:O,y:I}:{y:O,x:I},F=this.state.formattedGraphicalItems.find(function(P){var M=P.item;return M.type.name==="Scatter"});F&&(H=Le(Le({},H),F.props.points[A].tooltipPosition),k=F.props.points[A].tooltipPayload);var T={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:E,activePayload:k,activeCoordinate:H};this.setState(T),this.renderCursor(C),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var b,N;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(y){DA([_i(y.children,fr)],[_i(this.props.children,fr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=_i(this.props.children,fr);if(y&&typeof y.props.shared=="boolean"){var w=y.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var w=this.container,b=w.getBoundingClientRect(),N=DEe(b),_={chartX:Math.round(y.pageX-N.left),chartY:Math.round(y.pageY-N.top)},C=b.width/w.offsetWidth||1,A=this.inRange(_.chartX,_.chartY,C);if(!A)return null;var E=this.state,k=E.xAxisMap,O=E.yAxisMap,I=this.getTooltipEventType();if(I!=="axis"&&k&&O){var W=Od(k).scale,H=Od(O).scale,F=W&&W.invert?W.invert(_.chartX):null,T=H&&H.invert?H.invert(_.chartY):null;return Le(Le({},_),{},{xValue:F,yValue:T})}var P=M$(this.state,this.props.data,this.props.layout,A);return P?Le(Le({},_),P):null}},{key:"inRange",value:function(y,w){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,_=y/b,C=w/b;if(N==="horizontal"||N==="vertical"){var A=this.state.offset,E=_>=A.left&&_<=A.left+A.width&&C>=A.top&&C<=A.top+A.height;return E?{x:_,y:C}:null}var k=this.state,O=k.angleAxisMap,I=k.radiusAxisMap;if(O&&I){var W=Od(O);return a6({x:_,y:C},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,w=this.getTooltipEventType(),b=_i(y,fr),N={};b&&w==="axis"&&(b.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var _=j1(this.props,this.handleOuterEvent);return Le(Le({},_),N)}},{key:"addListener",value:function(){ZS.on(JS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ZS.removeListener(JS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,w,b){for(var N=this.state.formattedGraphicalItems,_=0,C=N.length;_<C;_++){var A=N[_];if(A.item===y||A.props.key===y.key||w===Rc(A.item.type)&&b===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,w=this.state.offset,b=w.left,N=w.top,_=w.height,C=w.width;return z.createElement("defs",null,z.createElement("clipPath",{id:y},z.createElement("rect",{x:b,y:N,height:_,width:C})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(w,b){var N=D$(b,2),_=N[0],C=N[1];return Le(Le({},w),{},Pt({},_,C.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(w,b){var N=D$(b,2),_=N[0],C=N[1];return Le(Le({},w),{},Pt({},_,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(y){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(y){var w=this.state,b=w.formattedGraphicalItems,N=w.activeItem;if(b&&b.length)for(var _=0,C=b.length;_<C;_++){var A=b[_],E=A.props,k=A.item,O=k.type.defaultProps!==void 0?Le(Le({},k.type.defaultProps),k.props):k.props,I=Rc(k.type);if(I==="Bar"){var W=(E.data||[]).find(function(P){return aIe(y,P)});if(W)return{graphicalItem:A,payload:W}}else if(I==="RadialBar"){var H=(E.data||[]).find(function(P){return a6(y,P)});if(H)return{graphicalItem:A,payload:H}}else if(T2(A,N)||O2(A,N)||J0(A,N)){var F=GRe({graphicalItem:A,activeTooltipItem:N,itemData:O.data}),T=O.activeIndex===void 0?F:O.activeIndex;return{graphicalItem:Le(Le({},A),{},{childIndex:T}),payload:J0(A,N)?O.data[F]:A.props.data[F]}}}return null}},{key:"render",value:function(){var y=this;if(!XR(this))return null;var w=this.props,b=w.children,N=w.className,_=w.width,C=w.height,A=w.style,E=w.compact,k=w.title,O=w.desc,I=I$(w,yLe),W=bt(I,!1);if(E)return z.createElement(m$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(RA,Mg({},W,{width:_,height:C,title:k,desc:O}),this.renderClipPath(),ZR(b,this.renderMap)));if(this.props.accessibilityLayer){var H,F;W.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,W.role=(F=this.props.role)!==null&&F!==void 0?F:"application",W.onKeyDown=function(P){y.accessibilityManager.keyboardEvent(P)},W.onFocus=function(){y.accessibilityManager.focus()}}var T=this.parseEventsOfWrapper();return z.createElement(m$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",Mg({className:zt("recharts-wrapper",N),style:Le({position:"relative",cursor:"default",width:_,height:C},A)},T,{ref:function(M){y.container=M}}),z.createElement(RA,Mg({},W,{width:_,height:C,title:k,desc:O,style:MLe}),this.renderClipPath(),ZR(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);return Pt(x,"displayName",r),Pt(x,"defaultProps",Le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Pt(x,"getDerivedStateFromProps",function(p,g){var j=p.dataKey,y=p.data,w=p.children,b=p.width,N=p.height,_=p.layout,C=p.stackOffset,A=p.margin,E=g.dataStartIndex,k=g.dataEndIndex;if(g.updateId===void 0){var O=F$(p);return Le(Le(Le({},O),{},{updateId:0},h(Le(Le({props:p},O),{},{updateId:0}),g)),{},{prevDataKey:j,prevData:y,prevWidth:b,prevHeight:N,prevLayout:_,prevStackOffset:C,prevMargin:A,prevChildren:w})}if(j!==g.prevDataKey||y!==g.prevData||b!==g.prevWidth||N!==g.prevHeight||_!==g.prevLayout||C!==g.prevStackOffset||!vh(A,g.prevMargin)){var I=F$(p),W={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},H=Le(Le({},M$(g,y,_)),{},{updateId:g.updateId+1}),F=Le(Le(Le({},I),W),H);return Le(Le(Le({},F),h(Le({props:p},F),g)),{},{prevDataKey:j,prevData:y,prevWidth:b,prevHeight:N,prevLayout:_,prevStackOffset:C,prevMargin:A,prevChildren:w})}if(!DA(w,g.prevChildren)){var T,P,M,D,Y=_i(w,gp),ae=Y&&(T=(P=Y.props)===null||P===void 0?void 0:P.startIndex)!==null&&T!==void 0?T:E,R=Y&&(M=(D=Y.props)===null||D===void 0?void 0:D.endIndex)!==null&&M!==void 0?M:k,V=ae!==E||R!==k,L=!$t(y),K=L&&!V?g.updateId:g.updateId+1;return Le(Le({updateId:K},h(Le(Le({props:p},g),{},{updateId:K,dataStartIndex:ae,dataEndIndex:R}),g)),{},{prevChildren:w,dataStartIndex:ae,dataEndIndex:R})}return null}),Pt(x,"renderActiveDot",function(p,g,j){var y;return v.isValidElement(p)?y=v.cloneElement(p,g):Tt(p)?y=p(g):y=z.createElement(py,g),z.createElement(er,{className:"recharts-active-dot",key:j},y)}),function(g){return z.createElement(x,g)}},B2=L2({chartName:"LineChart",GraphicalChild:ec,axisComponents:[{axisType:"xAxis",AxisComp:an},{axisType:"yAxis",AxisComp:on}],formatAxisMap:YO}),ja=L2({chartName:"BarChart",GraphicalChild:wn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:an},{axisType:"yAxis",AxisComp:on}],formatAxisMap:YO}),Fg=L2({chartName:"PieChart",GraphicalChild:Mi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:k2},{axisType:"radiusAxis",AxisComp:E2}],formatAxisMap:P3e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),qLe=L2({chartName:"AreaChart",GraphicalChild:rd,axisComponents:[{axisType:"xAxis",AxisComp:an},{axisType:"yAxis",AxisComp:on}],formatAxisMap:YO});const GLe={light:"",dark:".dark"},eY=v.createContext(null);function tY(){const e=v.useContext(eY);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const iv=v.forwardRef(({id:e,className:t,children:r,config:s,...a},i)=>{const o=v.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return n.jsx(eY.Provider,{value:{config:s},children:n.jsxs("div",{"data-chart":l,ref:i,className:ge("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[n.jsx(KLe,{id:l,config:s}),n.jsx(fn,{children:r})]})})});iv.displayName="Chart";const KLe=({id:e,config:t})=>{const r=Object.entries(t).filter(([s,a])=>a.theme||a.color);return r.length?n.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(GLe).map(([s,a])=>`
${a} [data-chart=${e}] {
${r.map(([i,o])=>{var c;const l=((c=o.theme)==null?void 0:c[s])||o.color;return l?`  --color-${i}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},L$=fr,ov=v.forwardRef(({active:e,payload:t,className:r,indicator:s="dot",hideLabel:a=!1,hideIndicator:i=!1,label:o,labelFormatter:l,labelClassName:c,formatter:d,color:u,nameKey:f,labelKey:m},h)=>{const{config:x}=tY(),p=v.useMemo(()=>{var N;if(a||!(t!=null&&t.length))return null;const[j]=t,y=`${m||j.dataKey||j.name||"value"}`,w=iP(x,j,y),b=!m&&typeof o=="string"?((N=x[o])==null?void 0:N.label)||o:w==null?void 0:w.label;return l?n.jsx("div",{className:ge("font-medium",c),children:l(b,t)}):b?n.jsx("div",{className:ge("font-medium",c),children:b}):null},[o,l,t,a,c,x,m]);if(!e||!(t!=null&&t.length))return null;const g=t.length===1&&s!=="dot";return n.jsxs("div",{ref:h,className:ge("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[g?null:p,n.jsx("div",{className:"grid gap-1.5",children:t.map((j,y)=>{const w=`${f||j.name||j.dataKey||"value"}`,b=iP(x,j,w),N=u||j.payload.fill||j.color;return n.jsx("div",{className:ge("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",s==="dot"&&"items-center"),children:d&&(j==null?void 0:j.value)!==void 0&&j.name?d(j.value,j.name,j,y,j.payload):n.jsxs(n.Fragment,{children:[b!=null&&b.icon?n.jsx(b.icon,{}):!i&&n.jsx("div",{className:ge("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":s==="dot","w-1":s==="line","w-0 border-[1.5px] border-dashed bg-transparent":s==="dashed","my-0.5":g&&s==="dashed"}),style:{"--color-bg":N,"--color-border":N}}),n.jsxs("div",{className:ge("flex flex-1 justify-between leading-none",g?"items-end":"items-center"),children:[n.jsxs("div",{className:"grid gap-1.5",children:[g?p:null,n.jsx("span",{className:"text-muted-foreground",children:(b==null?void 0:b.label)||j.name})]}),j.value&&n.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:j.value.toLocaleString()})]})]})},j.dataKey)})})]})});ov.displayName="ChartTooltip";const YLe=v.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:s="bottom",nameKey:a},i)=>{const{config:o}=tY();return r!=null&&r.length?n.jsx("div",{ref:i,className:ge("flex items-center justify-center gap-4",s==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,d=iP(o,l,c);return n.jsxs("div",{className:ge("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[d!=null&&d.icon&&!t?n.jsx(d.icon,{}):n.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),d==null?void 0:d.label]},l.value)})}):null});YLe.displayName="ChartLegend";function iP(e,t,r){if(typeof t!="object"||t===null)return;const s="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:s&&r in s&&typeof s[r]=="string"&&(a=s[r]),a in e?e[a]:e[r]}const XLe=[{month:"Jun",ordered:0,delivered:0},{month:"Jul",ordered:0,delivered:0},{month:"Aug",ordered:0,delivered:0},{month:"Sep",ordered:0,delivered:0},{month:"Oct",ordered:0,delivered:0},{month:"Nov",ordered:0,delivered:0}],QLe=[{month:"Jun",amount:0},{month:"Jul",amount:0},{month:"Aug",amount:0},{month:"Sep",amount:0},{month:"Oct",amount:0},{month:"Nov",amount:0}],ZLe=()=>{var j,y,w,b,N,_,C,A,E,k,O,I,W,H,F;const{data:e,isLoading:t,refetch:r}=Ype(),{data:s}=XW(),[a,i]=v.useState(null),[o,l]=v.useState(null),[c,d]=v.useState(null),[u,f]=v.useState(null),m=e==null?void 0:e.kpi,h=(e==null?void 0:e.orders_chart)||XLe,x=(e==null?void 0:e.spending_chart)||QLe,p=(s==null?void 0:s.recent_orders)||[];s!=null&&s.recent_issues;const g=(s==null?void 0:s.recent_payments)||[];return console.log("Recent Data:",s),console.log("Recent Orders:",p),t?n.jsx(dt,{title:"Dashboard Overview",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[1,2,3,4,5].map(T=>n.jsx(Z,{children:n.jsxs(J,{className:"p-6",children:[n.jsx(S,{className:"h-4 w-24 mb-2"}),n.jsx(S,{className:"h-8 w-16 mb-2"}),n.jsx(S,{className:"h-3 w-20"})]})},T))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsx(S,{className:"h-[300px] w-full"})})}),n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsx(S,{className:"h-[300px] w-full"})})})]})]})}):n.jsx(dt,{title:"Dashboard Overview",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsx(Lx,{title:"Active Apartments",value:((j=m==null?void 0:m.active_apartments)==null?void 0:j.value)??0,icon:cr,trend:{value:((y=m==null?void 0:m.active_apartments)==null?void 0:y.trend)??0,label:((w=m==null?void 0:m.active_apartments)==null?void 0:w.trend_label)??"vs last month"}}),n.jsx(Lx,{title:"Pending Orders",value:((b=m==null?void 0:m.pending_orders)==null?void 0:b.value)??0,icon:ct,trend:{value:((N=m==null?void 0:m.pending_orders)==null?void 0:N.trend)??0,label:((_=m==null?void 0:m.pending_orders)==null?void 0:_.trend_label)??"vs last week"}}),n.jsx(Lx,{title:"Open Issues",value:((C=m==null?void 0:m.open_issues)==null?void 0:C.value)??0,icon:_t,trend:{value:((A=m==null?void 0:m.open_issues)==null?void 0:A.trend)??0,label:((E=m==null?void 0:m.open_issues)==null?void 0:E.trend_label)??"no change"}}),n.jsx(Lx,{title:"Deliveries This Week",value:((k=m==null?void 0:m.deliveries_this_week)==null?void 0:k.value)??0,icon:wr,trend:{value:((O=m==null?void 0:m.deliveries_this_week)==null?void 0:O.trend)??0,label:((I=m==null?void 0:m.deliveries_this_week)==null?void 0:I.trend_label)??"vs last week"}}),n.jsx(Lx,{title:"Overdue Payments",value:((W=m==null?void 0:m.overdue_payments)==null?void 0:W.value)??0,icon:ys,trend:{value:((H=m==null?void 0:m.overdue_payments)==null?void 0:H.trend)??0,label:((F=m==null?void 0:m.overdue_payments)==null?void 0:F.trend_label)??"vs last month"}})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs(Z,{className:"overflow-hidden",children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ue,{className:"flex items-center gap-2 text-base sm:text-lg",children:[n.jsx(ct,{className:"h-4 w-4 sm:h-5 sm:w-5"}),n.jsx("span",{className:"text-sm sm:text-base",children:"Orders Placed vs Delivered"})]})}),n.jsx(J,{className:"p-2 sm:p-6",children:n.jsx(iv,{config:{ordered:{label:"ordered",color:"hsl(var(--primary))"},delivered:{label:"delivered",color:"hsl(var(--success))"}},className:"h-[280px] sm:h-[320px] w-full",children:n.jsx(fn,{width:"100%",height:"100%",children:n.jsxs(ja,{data:h,margin:{top:10,right:5,left:-20,bottom:5},children:[n.jsx(Bn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(an,{dataKey:"month",tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),n.jsx(on,{tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),n.jsx(L$,{content:n.jsx(ov,{})}),n.jsx(nl,{wrapperStyle:{fontSize:"11px",paddingTop:"10px"},iconSize:10}),n.jsx(wn,{dataKey:"ordered",fill:"hsl(var(--primary))",radius:[6,6,0,0]}),n.jsx(wn,{dataKey:"delivered",fill:"hsl(var(--success))",radius:[6,6,0,0]})]})})})})]}),n.jsxs(Z,{className:"overflow-hidden",children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ue,{className:"flex items-center gap-2 text-base sm:text-lg",children:[n.jsx(ri,{className:"h-4 w-4 sm:h-5 sm:w-5"}),n.jsx("span",{className:"text-sm sm:text-base",children:"Total Spending Trend"})]})}),n.jsx(J,{className:"p-2 sm:p-6",children:n.jsx(iv,{config:{amount:{label:"Amount ()",color:"hsl(var(--primary))"}},className:"h-[280px] sm:h-[320px] w-full",children:n.jsx(fn,{width:"100%",height:"100%",children:n.jsxs(B2,{data:x,margin:{top:10,right:5,left:-20,bottom:5},children:[n.jsx(Bn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(an,{dataKey:"month",tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),n.jsx(on,{tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),n.jsx(L$,{content:n.jsx(ov,{})}),n.jsx(ec,{type:"monotone",dataKey:"amount",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",r:3}})]})})})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Z,{className:"overflow-hidden",children:[n.jsx(we,{className:"border-b bg-gradient-to-r from-background to-muted/20",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(ct,{className:"h-5 w-5 text-primary"})}),n.jsx("span",{children:"Recent Orders"})]}),n.jsxs(Ae,{variant:"secondary",className:"font-semibold",children:[p.length," orders"]})]})}),n.jsx(J,{className:"p-4",children:n.jsx("div",{className:"space-y-3",children:p.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-muted/50 mb-3",children:n.jsx(ct,{className:"h-8 w-8 text-muted-foreground"})}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No recent orders"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Orders will appear here once placed"})]}):p.slice(0,5).map(T=>{var Y,ae;const P=o===T.id,M=a===T.id,D=P||M;return n.jsxs("div",{className:`
                          group relative rounded-xl border-2
                          transition-all duration-500 ease-out cursor-pointer
                          ${D?"bg-gradient-to-br from-primary/5 via-primary/3 to-background shadow-xl border-primary/30":"bg-card/50 hover:bg-card border-border/50 hover:border-border hover:shadow-md"}
                        `,onMouseEnter:()=>!P&&i(T.id),onMouseLeave:()=>!P&&i(null),onClick:()=>l(P?null:T.id),children:[n.jsx("div",{className:`
                          absolute inset-0 bg-gradient-to-r from-primary/5 to-transparent opacity-0 transition-opacity duration-500 pointer-events-none rounded-xl
                          ${D?"opacity-100":""}
                        `}),n.jsx("div",{className:"relative p-4",children:n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:[n.jsx("div",{className:`
                                p-2 rounded-lg transition-all duration-300
                                ${D?"bg-primary/15":"bg-muted/60"}
                              `,children:n.jsx(uh,{className:`h-4 w-4 transition-colors ${D?"text-primary":"text-muted-foreground"}`})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Ae,{variant:"outline",className:`text-xs font-bold transition-all ${D?"border-primary/50 bg-primary/5":""}`,children:T.po_number}),n.jsx(Ae,{variant:T.status==="delivered"?"default":T.status==="sent"?"secondary":T.status==="cancelled"?"destructive":"outline",className:"text-xs capitalize",children:T.status})]}),n.jsx("p",{className:"text-sm font-semibold text-foreground truncate",children:T.apartment})]})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsxs("p",{className:`text-base font-bold transition-colors ${D?"text-primary":"text-foreground"}`,children:[T.total.toLocaleString()," Ft"]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[((Y=T.items)==null?void 0:Y.length)||0," ",((ae=T.items)==null?void 0:ae.length)===1?"item":"items"]})]})]})}),n.jsx("div",{className:`
                          transition-all duration-500 ease-out overflow-hidden
                          ${D?"max-h-[600px]":"max-h-0"}
                        `,children:n.jsx("div",{className:"overflow-visible",children:n.jsxs("div",{className:"px-4 pb-4 pt-2 border-t border-border/50 bg-gradient-to-b from-muted/20 via-muted/5 to-transparent",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4 mt-3",children:[n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(uh,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Order ID"})]}),n.jsxs("p",{className:"text-xs font-mono font-medium text-foreground truncate",title:T.id,children:[T.id.substring(0,8),"..."]})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(ha,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Apartment"})]}),n.jsx("p",{className:"text-xs font-medium text-foreground truncate",title:T.apartment,children:T.apartment})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Da,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Vendor"})]}),n.jsx("p",{className:"text-xs font-medium text-foreground truncate",title:T.vendor,children:T.vendor})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-background/40 border border-border/30",children:[n.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:n.jsx(Wr,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Placed On"}),n.jsx("p",{className:"text-xs font-semibold text-foreground",children:T.placed_on?Ht(new Date(T.placed_on),"MMM dd, yyyy"):"N/A"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-background/40 border border-border/30",children:[n.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:n.jsx(br,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-xs font-bold text-primary",children:[T.total.toLocaleString()," Ft"]})]})]})]}),T.items&&T.items.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 px-1",children:[n.jsx("div",{className:"p-1 rounded bg-primary/10",children:n.jsx(ct,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("p",{className:"text-xs font-bold text-foreground uppercase tracking-wide",children:["Products (",T.items.length,")"]})]}),n.jsx("div",{className:"space-y-2 max-h-[240px] overflow-y-auto pr-2",style:{scrollbarWidth:"thin",scrollbarColor:"hsl(var(--primary) / 0.3) transparent"},children:T.items.map((R,V)=>n.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-lg bg-background/80 border border-border/40 hover:bg-background hover:border-primary/30 hover:shadow-sm transition-all duration-200",children:[R.product_image?n.jsx("img",{src:R.product_image,alt:R.product_name,className:"w-10 h-10 rounded-md object-cover flex-shrink-0 border-2 border-border/50"}):n.jsx("div",{className:"w-10 h-10 rounded-md bg-muted/60 flex items-center justify-center flex-shrink-0 border-2 border-border/50",children:n.jsx(ct,{className:"w-5 h-5 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-semibold text-foreground truncate leading-tight mb-1",title:R.product_name,children:R.product_name}),n.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-muted-foreground",children:[n.jsxs("span",{className:"font-medium",children:["Qty: ",n.jsx("span",{className:"text-foreground font-semibold",children:R.quantity})]}),n.jsx("span",{children:""}),n.jsxs("span",{className:"font-medium",children:[R.unit_price.toLocaleString()," Ft/unit"]})]})]}),n.jsx("div",{className:"text-right flex-shrink-0",children:n.jsxs("p",{className:"text-xs font-bold text-foreground",children:[(R.quantity*R.unit_price).toLocaleString()," Ft"]})})]},R.id))})]})]})})})]},T.id)})})})]}),n.jsxs(Z,{className:"overflow-hidden",children:[n.jsx(we,{className:"border-b bg-gradient-to-r from-background to-muted/20",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(ys,{className:"h-5 w-5 text-primary"})}),n.jsx("span",{children:"Recent Payments"})]}),n.jsxs(Ae,{variant:"secondary",className:"font-semibold",children:[g.length," payments"]})]})}),n.jsx(J,{className:"p-4",children:n.jsx("div",{className:"space-y-3",children:g.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-muted/50 mb-3",children:n.jsx(ys,{className:"h-8 w-8 text-muted-foreground"})}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No recent payments"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Payments will appear here once made"})]}):g.slice(0,5).map(T=>{const P=u===T.id,M=c===T.id,D=P||M;return n.jsxs("div",{className:`
                          group relative rounded-xl border-2
                          transition-all duration-500 ease-out cursor-pointer
                          ${D?"bg-gradient-to-br from-primary/5 via-primary/3 to-background shadow-xl border-primary/30":"bg-card/50 hover:bg-card border-border/50 hover:border-border hover:shadow-md"}
                        `,onMouseEnter:()=>!P&&d(T.id),onMouseLeave:()=>!P&&d(null),onClick:()=>f(P?null:T.id),children:[n.jsx("div",{className:`
                          absolute inset-0 bg-gradient-to-r from-primary/5 to-transparent opacity-0 transition-opacity duration-500 pointer-events-none rounded-xl
                          ${D?"opacity-100":""}
                        `}),n.jsx("div",{className:"relative p-4",children:n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:[n.jsx("div",{className:`
                                p-2 rounded-lg transition-all duration-300
                                ${D?"bg-primary/15":"bg-muted/60"}
                              `,children:n.jsx(ys,{className:`h-4 w-4 transition-colors ${D?"text-primary":"text-muted-foreground"}`})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Ae,{variant:"outline",className:`text-xs font-bold transition-all ${D?"border-primary/50 bg-primary/5":""}`,children:T.order_reference}),n.jsx(Ae,{variant:T.status==="Paid"?"default":T.status==="Partial"?"secondary":"destructive",className:"text-xs capitalize",children:T.status})]}),n.jsx("p",{className:"text-sm font-semibold text-foreground truncate",children:T.vendor||"Unknown vendor"})]})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsxs("p",{className:`text-base font-bold transition-colors ${D?"text-primary":"text-foreground"}`,children:[T.amount_paid.toLocaleString()," Ft"]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["of ",T.total_amount.toLocaleString()," Ft"]})]})]})}),n.jsx("div",{className:`
                          transition-all duration-500 ease-out overflow-hidden
                          ${D?"max-h-[600px]":"max-h-0"}
                        `,children:n.jsx("div",{className:"overflow-visible",children:n.jsxs("div",{className:"px-4 pb-4 pt-2 border-t border-border/50 bg-gradient-to-b from-muted/20 via-muted/5 to-transparent",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4 mt-3",children:[n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(uh,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Payment ID"})]}),n.jsxs("p",{className:"text-xs font-mono font-medium text-foreground truncate",title:T.id,children:[T.id.substring(0,8),"..."]})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(ct,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Order Ref"})]}),n.jsx("p",{className:"text-xs font-medium text-foreground truncate",title:T.order_reference,children:T.order_reference})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Da,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Vendor"})]}),n.jsx("p",{className:"text-xs font-medium text-foreground truncate",title:T.vendor,children:T.vendor||"Unknown"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-background/40 border border-border/30",children:[n.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:n.jsx(br,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Amount Paid"}),n.jsxs("p",{className:"text-xs font-bold text-primary",children:[T.amount_paid.toLocaleString()," Ft"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-background/40 border border-border/30",children:[n.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:n.jsx(br,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-xs font-semibold text-foreground",children:[T.total_amount.toLocaleString()," Ft"]})]})]})]}),n.jsxs("div",{className:"space-y-2 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-xs font-semibold text-foreground",children:"Payment Progress"}),n.jsxs("p",{className:"text-xs font-bold text-primary",children:[Math.round(T.amount_paid/T.total_amount*100),"%"]})]}),n.jsx("div",{className:"w-full bg-muted/50 rounded-full h-2 overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-primary/70 rounded-full transition-all duration-500",style:{width:`${T.amount_paid/T.total_amount*100}%`}})}),n.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground",children:[n.jsxs("span",{children:["Paid: ",T.amount_paid.toLocaleString()," Ft"]}),n.jsxs("span",{children:["Remaining: ",(T.total_amount-T.amount_paid).toLocaleString()," Ft"]})]})]})]})})})]},T.id)})})})]})]}),n.jsx(g0e,{})]})})},JLe=()=>{const e=nc();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),n.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),n.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},rY=ir.create({baseURL:Yi.replace("/api",""),headers:{"Content-Type":"application/json"}});rY.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const e8e=()=>{const[e,t]=v.useState(!1);return{enhanceText:async(s,a="improve")=>{var i,o;if(!s||!s.trim())return Be.error("Please enter some text first"),null;t(!0);try{const l=await rY.post("/api/utils/enhance-text/",{text:s,type:a});return Be.success("Text enhanced successfully"),l.data.enhanced}catch(l){console.error("Failed to enhance text:",l);const c=((o=(i=l.response)==null?void 0:i.data)==null?void 0:o.error)||"Failed to enhance text";return Be.error(c),null}finally{t(!1)}},isEnhancing:e}},pf=({text:e,onTextEnhanced:t,className:r="",variant:s="outline",size:a="sm"})=>{const{enhanceText:i,isEnhancing:o}=e8e(),[l,c]=v.useState(!1),d=async u=>{c(!1);const f=await i(e,u);f&&t(f)};return n.jsxs(Jv,{open:l,onOpenChange:c,children:[n.jsx(ey,{asChild:!0,children:n.jsx(te,{type:"button",variant:s,size:a,className:r,disabled:o||!(e!=null&&e.trim()),children:o?n.jsx(n.Fragment,{children:n.jsx(Bt,{className:"h-4 w-4  animate-spin"})}):n.jsx(n.Fragment,{children:n.jsx(Wo,{className:"h-4 w-4 "})})})}),n.jsxs(Xp,{align:"end",children:[n.jsxs(In,{onClick:()=>d("improve"),children:[n.jsx(Wo,{className:"h-4 w-4 mr-2"}),"Improve & Fix"]}),n.jsxs(In,{onClick:()=>d("shorten"),children:[n.jsx(Wo,{className:"h-4 w-4 mr-2"}),"Make Shorter"]}),n.jsxs(In,{onClick:()=>d("professional"),children:[n.jsx(Wo,{className:"h-4 w-4 mr-2"}),"Professional Tone"]}),n.jsxs(In,{onClick:()=>d("friendly"),children:[n.jsx(Wo,{className:"h-4 w-4 mr-2"}),"Friendly Tone"]}),n.jsxs(In,{onClick:()=>d("translate"),children:[n.jsx(Wo,{className:"h-4 w-4 mr-2"}),"Translate to English"]})]})]})},da=v.forwardRef(({className:e,value:t,onChange:r,...s},a)=>{const[i,o]=v.useState(t||"");v.useEffect(()=>{o(t||"")},[t]);const l=d=>{o(d.target.value),r==null||r(d)},c=d=>{const u={target:{value:d}};o(d),r==null||r(u)};return n.jsxs("div",{className:"relative",children:[n.jsx("textarea",{className:ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 pr-24 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,value:i,onChange:l,...s}),n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(pf,{text:i.toString(),onTextEnhanced:c,variant:"ghost",size:"sm"})})]})});da.displayName="EnhancedTextarea";const Os=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:ge("w-full caption-bottom text-sm",e),...t})}));Os.displayName="Table";const Ds=v.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:ge("[&_tr]:border-b",e),...t}));Ds.displayName="TableHeader";const Is=v.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:ge("[&_tr:last-child]:border-0",e),...t}));Is.displayName="TableBody";const t8e=v.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:ge("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));t8e.displayName="TableFooter";const Ut=v.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:ge("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ut.displayName="TableRow";const ke=v.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:ge("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ke.displayName="TableHead";const Se=v.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:ge("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Se.displayName="TableCell";const r8e=v.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:ge("mt-4 text-sm text-muted-foreground",e),...t}));r8e.displayName="TableCaption";function U2(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var n8e=[" ","Enter","ArrowUp","ArrowDown"],s8e=[" ","Enter"],xy="Select",[V2,z2,a8e]=Ov(xy),[ux,Unt]=Zs(xy,[a8e,Eu]),W2=Eu(),[i8e,Ru]=ux(xy),[o8e,l8e]=ux(xy),nY=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:m,required:h,form:x}=e,p=W2(t),[g,j]=v.useState(null),[y,w]=v.useState(null),[b,N]=v.useState(!1),_=om(d),[C=!1,A]=Oa({prop:s,defaultProp:a,onChange:i}),[E,k]=Oa({prop:o,defaultProp:l,onChange:c}),O=v.useRef(null),I=g?x||!!g.closest("form"):!0,[W,H]=v.useState(new Set),F=Array.from(W).map(T=>T.props.value).join(";");return n.jsx(jN,{...p,children:n.jsxs(i8e,{required:h,scope:t,trigger:g,onTriggerChange:j,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:N,contentId:si(),value:E,onValueChange:k,open:C,onOpenChange:A,dir:_,triggerPointerDownPosRef:O,disabled:m,children:[n.jsx(V2.Provider,{scope:t,children:n.jsx(o8e,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(T=>{H(P=>new Set(P).add(T))},[]),onNativeOptionRemove:v.useCallback(T=>{H(P=>{const M=new Set(P);return M.delete(T),M})},[]),children:r})}),I?n.jsxs(EY,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:f,value:E,onChange:T=>k(T.target.value),disabled:m,form:x,children:[E===void 0?n.jsx("option",{value:""}):null,Array.from(W)]},F):null]})})};nY.displayName=xy;var sY="SelectTrigger",aY=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,i=W2(r),o=Ru(sY,r),l=o.disabled||s,c=Dt(t,o.onTriggerChange),d=z2(r),u=v.useRef("touch"),[f,m,h]=PY(p=>{const g=d().filter(w=>!w.disabled),j=g.find(w=>w.value===o.value),y=kY(g,p,j);y!==void 0&&o.onValueChange(y.value)}),x=p=>{l||(o.onOpenChange(!0),h()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return n.jsx(Bv,{asChild:!0,...i,children:n.jsx(ft.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":AY(o.value)?"":void 0,...a,ref:c,onClick:Ge(a.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&x(p)}),onPointerDown:Ge(a.onPointerDown,p=>{u.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(x(p),p.preventDefault())}),onKeyDown:Ge(a.onKeyDown,p=>{const g=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&m(p.key),!(g&&p.key===" ")&&n8e.includes(p.key)&&(x(),p.preventDefault())})})})});aY.displayName=sY;var iY="SelectValue",oY=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...l}=e,c=Ru(iY,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=Dt(t,c.onValueNodeChange);return rs(()=>{d(u)},[d,u]),n.jsx(ft.span,{...l,ref:f,style:{pointerEvents:"none"},children:AY(c.value)?n.jsx(n.Fragment,{children:o}):i})});oY.displayName=iY;var c8e="SelectIcon",lY=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(ft.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});lY.displayName=c8e;var d8e="SelectPortal",cY=e=>n.jsx($p,{asChild:!0,...e});cY.displayName=d8e;var Jf="SelectContent",dY=v.forwardRef((e,t)=>{const r=Ru(Jf,e.__scopeSelect),[s,a]=v.useState();if(rs(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?ul.createPortal(n.jsx(uY,{scope:e.__scopeSelect,children:n.jsx(V2.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(fY,{...e,ref:t})});dY.displayName=Jf;var Fo=10,[uY,Mu]=ux(Jf),u8e="SelectContentImpl",fY=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:x,hideWhenDetached:p,avoidCollisions:g,...j}=e,y=Ru(Jf,r),[w,b]=v.useState(null),[N,_]=v.useState(null),C=Dt(t,me=>b(me)),[A,E]=v.useState(null),[k,O]=v.useState(null),I=z2(r),[W,H]=v.useState(!1),F=v.useRef(!1);v.useEffect(()=>{if(w)return Yv(w)},[w]),MN();const T=v.useCallback(me=>{const[B,...X]=I().map(ue=>ue.ref.current),[oe]=X.slice(-1),Ne=document.activeElement;for(const ue of me)if(ue===Ne||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===B&&N&&(N.scrollTop=0),ue===oe&&N&&(N.scrollTop=N.scrollHeight),ue==null||ue.focus(),document.activeElement!==Ne))return},[I,N]),P=v.useCallback(()=>T([A,w]),[T,A,w]);v.useEffect(()=>{W&&P()},[W,P]);const{onOpenChange:M,triggerPointerDownPosRef:D}=y;v.useEffect(()=>{if(w){let me={x:0,y:0};const B=oe=>{var Ne,ue;me={x:Math.abs(Math.round(oe.pageX)-(((Ne=D.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(oe.pageY)-(((ue=D.current)==null?void 0:ue.y)??0))}},X=oe=>{me.x<=10&&me.y<=10?oe.preventDefault():w.contains(oe.target)||M(!1),document.removeEventListener("pointermove",B),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",B),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",X,{capture:!0})}}},[w,M,D]),v.useEffect(()=>{const me=()=>M(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[M]);const[Y,ae]=PY(me=>{const B=I().filter(Ne=>!Ne.disabled),X=B.find(Ne=>Ne.ref.current===document.activeElement),oe=kY(B,me,X);oe&&setTimeout(()=>oe.ref.current.focus())}),R=v.useCallback((me,B,X)=>{const oe=!F.current&&!X;(y.value!==void 0&&y.value===B||oe)&&(E(me),oe&&(F.current=!0))},[y.value]),V=v.useCallback(()=>w==null?void 0:w.focus(),[w]),L=v.useCallback((me,B,X)=>{const oe=!F.current&&!X;(y.value!==void 0&&y.value===B||oe)&&O(me)},[y.value]),K=s==="popper"?oP:mY,le=K===oP?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:x,hideWhenDetached:p,avoidCollisions:g}:{};return n.jsx(uY,{scope:r,content:w,viewport:N,onViewportChange:_,itemRefCallback:R,selectedItem:A,onItemLeave:V,itemTextRefCallback:L,focusSelectedItem:P,selectedItemText:k,position:s,isPositioned:W,searchRef:Y,children:n.jsx(Xv,{as:Yl,allowPinchZoom:!0,children:n.jsx(Kv,{asChild:!0,trapped:y.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:Ge(a,me=>{var B;(B=y.trigger)==null||B.focus({preventScroll:!0}),me.preventDefault()}),children:n.jsx(im,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:n.jsx(K,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:me=>me.preventDefault(),...j,...le,onPlaced:()=>H(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Ge(j.onKeyDown,me=>{const B=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!B&&me.key.length===1&&ae(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let oe=I().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(me.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const Ne=me.target,ue=oe.indexOf(Ne);oe=oe.slice(ue+1)}setTimeout(()=>T(oe)),me.preventDefault()}})})})})})})});fY.displayName=u8e;var f8e="SelectItemAlignedPosition",mY=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,i=Ru(Jf,r),o=Mu(Jf,r),[l,c]=v.useState(null),[d,u]=v.useState(null),f=Dt(t,C=>u(C)),m=z2(r),h=v.useRef(!1),x=v.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:j,focusSelectedItem:y}=o,w=v.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&p&&g&&j){const C=i.trigger.getBoundingClientRect(),A=d.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),k=j.getBoundingClientRect();if(i.dir!=="rtl"){const Ne=k.left-A.left,ue=E.left-Ne,ve=C.left-ue,xe=C.width+ve,Ee=Math.max(xe,A.width),Me=window.innerWidth-Fo,Te=yA(ue,[Fo,Math.max(Fo,Me-Ee)]);l.style.minWidth=xe+"px",l.style.left=Te+"px"}else{const Ne=A.right-k.right,ue=window.innerWidth-E.right-Ne,ve=window.innerWidth-C.right-ue,xe=C.width+ve,Ee=Math.max(xe,A.width),Me=window.innerWidth-Fo,Te=yA(ue,[Fo,Math.max(Fo,Me-Ee)]);l.style.minWidth=xe+"px",l.style.right=Te+"px"}const O=m(),I=window.innerHeight-Fo*2,W=p.scrollHeight,H=window.getComputedStyle(d),F=parseInt(H.borderTopWidth,10),T=parseInt(H.paddingTop,10),P=parseInt(H.borderBottomWidth,10),M=parseInt(H.paddingBottom,10),D=F+T+W+M+P,Y=Math.min(g.offsetHeight*5,D),ae=window.getComputedStyle(p),R=parseInt(ae.paddingTop,10),V=parseInt(ae.paddingBottom,10),L=C.top+C.height/2-Fo,K=I-L,le=g.offsetHeight/2,me=g.offsetTop+le,B=F+T+me,X=D-B;if(B<=L){const Ne=O.length>0&&g===O[O.length-1].ref.current;l.style.bottom="0px";const ue=d.clientHeight-p.offsetTop-p.offsetHeight,ve=Math.max(K,le+(Ne?V:0)+ue+P),xe=B+ve;l.style.height=xe+"px"}else{const Ne=O.length>0&&g===O[0].ref.current;l.style.top="0px";const ve=Math.max(L,F+p.offsetTop+(Ne?R:0)+le)+X;l.style.height=ve+"px",p.scrollTop=B-L+p.offsetTop}l.style.margin=`${Fo}px 0`,l.style.minHeight=Y+"px",l.style.maxHeight=I+"px",s==null||s(),requestAnimationFrame(()=>h.current=!0)}},[m,i.trigger,i.valueNode,l,d,p,g,j,i.dir,s]);rs(()=>w(),[w]);const[b,N]=v.useState();rs(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const _=v.useCallback(C=>{C&&x.current===!0&&(w(),y==null||y(),x.current=!1)},[w,y]);return n.jsx(h8e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:_,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:n.jsx(ft.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});mY.displayName=f8e;var m8e="SelectPopperPosition",oP=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=Fo,...i}=e,o=W2(r);return n.jsx(bN,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});oP.displayName=m8e;var[h8e,a3]=ux(Jf,{}),lP="SelectViewport",hY=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,i=Mu(lP,r),o=a3(lP,r),l=Dt(t,i.onViewportChange),c=v.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(V2.Slot,{scope:r,children:n.jsx(ft.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ge(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const h=Math.abs(c.current-u.scrollTop);if(h>0){const x=window.innerHeight-Fo*2,p=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),j=Math.max(p,g);if(j<x){const y=j+h,w=Math.min(x,y),b=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(u.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});hY.displayName=lP;var pY="SelectGroup",[p8e,x8e]=ux(pY),g8e=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=si();return n.jsx(p8e,{scope:r,id:a,children:n.jsx(ft.div,{role:"group","aria-labelledby":a,...s,ref:t})})});g8e.displayName=pY;var xY="SelectLabel",gY=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=x8e(xY,r);return n.jsx(ft.div,{id:a.id,...s,ref:t})});gY.displayName=xY;var bw="SelectItem",[v8e,vY]=ux(bw),yY=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=e,l=Ru(bw,r),c=Mu(bw,r),d=l.value===s,[u,f]=v.useState(i??""),[m,h]=v.useState(!1),x=Dt(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,s,a)}),p=si(),g=v.useRef("touch"),j=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(v8e,{scope:r,value:s,disabled:a,textId:p,isSelected:d,onItemTextChange:v.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:n.jsx(V2.ItemSlot,{scope:r,value:s,disabled:a,textValue:u,children:n.jsx(ft.div,{role:"option","aria-labelledby":p,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:Ge(o.onFocus,()=>h(!0)),onBlur:Ge(o.onBlur,()=>h(!1)),onClick:Ge(o.onClick,()=>{g.current!=="mouse"&&j()}),onPointerUp:Ge(o.onPointerUp,()=>{g.current==="mouse"&&j()}),onPointerDown:Ge(o.onPointerDown,y=>{g.current=y.pointerType}),onPointerMove:Ge(o.onPointerMove,y=>{var w;g.current=y.pointerType,a?(w=c.onItemLeave)==null||w.call(c):g.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ge(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ge(o.onKeyDown,y=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&y.key===" "||(s8e.includes(y.key)&&j(),y.key===" "&&y.preventDefault())})})})})});yY.displayName=bw;var fg="SelectItemText",jY=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...i}=e,o=Ru(fg,r),l=Mu(fg,r),c=vY(fg,r),d=l8e(fg,r),[u,f]=v.useState(null),m=Dt(t,j=>f(j),c.onItemTextChange,j=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,j,c.value,c.disabled)}),h=u==null?void 0:u.textContent,x=v.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=d;return rs(()=>(p(x),()=>g(x)),[p,g,x]),n.jsxs(n.Fragment,{children:[n.jsx(ft.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ul.createPortal(i.children,o.valueNode):null]})});jY.displayName=fg;var bY="SelectItemIndicator",wY=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return vY(bY,r).isSelected?n.jsx(ft.span,{"aria-hidden":!0,...s,ref:t}):null});wY.displayName=bY;var cP="SelectScrollUpButton",NY=v.forwardRef((e,t)=>{const r=Mu(cP,e.__scopeSelect),s=a3(cP,e.__scopeSelect),[a,i]=v.useState(!1),o=Dt(t,s.onScrollButtonChange);return rs(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(SY,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});NY.displayName=cP;var dP="SelectScrollDownButton",_Y=v.forwardRef((e,t)=>{const r=Mu(dP,e.__scopeSelect),s=a3(dP,e.__scopeSelect),[a,i]=v.useState(!1),o=Dt(t,s.onScrollButtonChange);return rs(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(SY,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});_Y.displayName=dP;var SY=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,i=Mu("SelectScrollButton",r),o=v.useRef(null),l=z2(r),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),rs(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(ft.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ge(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:Ge(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:Ge(a.onPointerLeave,()=>{c()})})}),y8e="SelectSeparator",CY=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(ft.div,{"aria-hidden":!0,...s,ref:t})});CY.displayName=y8e;var uP="SelectArrow",j8e=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=W2(r),i=Ru(uP,r),o=Mu(uP,r);return i.open&&o.position==="popper"?n.jsx(wN,{...a,...s,ref:t}):null});j8e.displayName=uP;function AY(e){return e===""||e===void 0}var EY=v.forwardRef((e,t)=>{const{value:r,...s}=e,a=v.useRef(null),i=Dt(t,a),o=U2(r);return v.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&u){const f=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(f)}},[o,r]),n.jsx(Dv,{asChild:!0,children:n.jsx("select",{...s,ref:i,defaultValue:r})})});EY.displayName="BubbleSelect";function PY(e){const t=pn(e),r=v.useRef(""),s=v.useRef(0),a=v.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=v.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function kY(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=b8e(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function b8e(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var w8e=nY,TY=aY,N8e=oY,_8e=lY,S8e=cY,OY=dY,C8e=hY,DY=gY,IY=yY,A8e=jY,E8e=wY,RY=NY,MY=_Y,FY=CY;const at=w8e,it=N8e,nt=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(TY,{ref:s,className:ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(_8e,{asChild:!0,children:n.jsx(Au,{className:"h-4 w-4 opacity-50"})})]}));nt.displayName=TY.displayName;const $Y=v.forwardRef(({className:e,...t},r)=>n.jsx(RY,{ref:r,className:ge("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(pN,{className:"h-4 w-4"})}));$Y.displayName=RY.displayName;const LY=v.forwardRef(({className:e,...t},r)=>n.jsx(MY,{ref:r,className:ge("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Au,{className:"h-4 w-4"})}));LY.displayName=MY.displayName;const st=v.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx(S8e,{children:n.jsxs(OY,{ref:a,className:ge("relative z-[9999] max-h-96 overflow-hidden rounded-lg border border-border/50 bg-popover backdrop-blur-xl text-popover-foreground shadow-2xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,sideOffset:4,...s,children:[n.jsx($Y,{}),n.jsx(C8e,{className:ge("p-2 min-w-[12rem]",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full"),children:t}),n.jsx(LY,{})]})}));st.displayName=OY.displayName;const P8e=v.forwardRef(({className:e,...t},r)=>n.jsx(DY,{ref:r,className:ge("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));P8e.displayName=DY.displayName;const ne=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(IY,{ref:s,className:ge("relative flex w-full cursor-pointer select-none items-center rounded-md py-2.5 px-3 text-sm font-medium outline-none","hover:bg-accent/80 hover:text-accent-foreground focus:bg-accent/80 focus:text-accent-foreground","data-[disabled]:pointer-events-none data-[disabled]:opacity-50","transition-colors duration-150",e),...r,children:[n.jsx("span",{className:"absolute left-3 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(E8e,{children:n.jsx(mo,{className:"h-4 w-4 text-primary"})})}),n.jsx(A8e,{className:"pl-6",children:t})]}));ne.displayName=IY.displayName;const k8e=v.forwardRef(({className:e,...t},r)=>n.jsx(FY,{ref:r,className:ge("my-1.5 h-px bg-border/50",e),...t}));k8e.displayName=FY.displayName;var BY="AlertDialog",[T8e,Vnt]=Zs(BY,[Hz]),ud=Hz(),UY=e=>{const{__scopeAlertDialog:t,...r}=e,s=ud(t);return n.jsx(ET,{...s,...r,modal:!0})};UY.displayName=BY;var O8e="AlertDialogTrigger",VY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=ud(r);return n.jsx(oW,{...a,...s,ref:t})});VY.displayName=O8e;var D8e="AlertDialogPortal",zY=e=>{const{__scopeAlertDialog:t,...r}=e,s=ud(t);return n.jsx(PT,{...s,...r})};zY.displayName=D8e;var I8e="AlertDialogOverlay",WY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=ud(r);return n.jsx(ty,{...a,...s,ref:t})});WY.displayName=I8e;var bh="AlertDialogContent",[R8e,M8e]=T8e(bh),HY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...a}=e,i=ud(r),o=v.useRef(null),l=Dt(t,o),c=v.useRef(null);return n.jsx(qme,{contentName:bh,titleName:qY,docsSlug:"alert-dialog",children:n.jsx(R8e,{scope:r,cancelRef:c,children:n.jsxs(ry,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Ge(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[n.jsx(Nk,{children:s}),n.jsx($8e,{contentRef:o})]})})})});HY.displayName=bh;var qY="AlertDialogTitle",GY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=ud(r);return n.jsx(ny,{...a,...s,ref:t})});GY.displayName=qY;var KY="AlertDialogDescription",YY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=ud(r);return n.jsx(sy,{...a,...s,ref:t})});YY.displayName=KY;var F8e="AlertDialogAction",XY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=ud(r);return n.jsx(UN,{...a,...s,ref:t})});XY.displayName=F8e;var QY="AlertDialogCancel",ZY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=M8e(QY,r),i=ud(r),o=Dt(t,a);return n.jsx(UN,{...i,...s,ref:o})});ZY.displayName=QY;var $8e=({contentRef:e})=>{const t=`\`${bh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${bh}\` by passing a \`${KY}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${bh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},L8e=UY,B8e=VY,U8e=zY,JY=WY,eX=HY,tX=XY,rX=ZY,nX=GY,sX=YY;const lc=L8e,aX=B8e,V8e=U8e,iX=v.forwardRef(({className:e,...t},r)=>n.jsx(JY,{className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));iX.displayName=JY.displayName;const pl=v.forwardRef(({className:e,...t},r)=>n.jsxs(V8e,{children:[n.jsx(iX,{}),n.jsx(eX,{ref:r,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));pl.displayName=eX.displayName;const xl=({className:e,...t})=>n.jsx("div",{className:ge("flex flex-col space-y-2 text-center sm:text-left",e),...t});xl.displayName="AlertDialogHeader";const gl=({className:e,...t})=>n.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});gl.displayName="AlertDialogFooter";const vl=v.forwardRef(({className:e,...t},r)=>n.jsx(nX,{ref:r,className:ge("text-lg font-semibold",e),...t}));vl.displayName=nX.displayName;const yl=v.forwardRef(({className:e,...t},r)=>n.jsx(sX,{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));yl.displayName=sX.displayName;const jl=v.forwardRef(({className:e,...t},r)=>n.jsx(tX,{ref:r,className:ge(j0(),e),...t}));jl.displayName=tX.displayName;const bl=v.forwardRef(({className:e,...t},r)=>n.jsx(rX,{ref:r,className:ge(j0({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));bl.displayName=rX.displayName;const wa=ir.create({baseURL:Yi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1,validateStatus:e=>e<500});wa.interceptors.request.use(e=>(e.metadata={startTime:Date.now()},e),e=>Promise.reject(e));wa.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));let Aj=!1,fP=[];const tC=(e,t=null)=>{fP.forEach(r=>{e?r.reject(e):r.resolve(t)}),fP=[]};wa.interceptors.response.use(e=>e,async e=>{var r,s;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if(Aj)return new Promise((i,o)=>{fP.push({resolve:i,reject:o})}).then(i=>(t.headers&&(t.headers.Authorization=`Bearer ${i}`),wa(t))).catch(i=>Promise.reject(i));t._retry=!0,Aj=!0;const a=localStorage.getItem("refresh_token");if(!a)return Aj=!1,tC(e,null),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),Promise.reject(e);try{const i=await ir.post(`${Hv}/refresh/`,{refresh:a},{timeout:1e4}),{access:o}=i.data;return localStorage.setItem("access_token",o),t.headers&&(t.headers.Authorization=`Bearer ${o}`),tC(null,o),wa(t)}catch(i){return tC(i,null),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),Promise.reject(i)}finally{Aj=!1}}if((s=e.response)!=null&&s.data){const a=e.response.data,i=a.error||a.detail||a.message||"An error occurred";return Promise.reject(new Error(i))}return Promise.reject(e)});const gy={async getClients(e){return(await wa.get("/clients/",{params:e,signal:new AbortController().signal})).data},async getClient(e){return(await wa.get(`/clients/${e}/`,{headers:{"Cache-Control":"max-age=300"}})).data},async createClient(e){return(await wa.post("/clients/",e)).data},async updateClient(e,t){return(await wa.patch(`/clients/${e}/`,t)).data},async deleteClient(e){await wa.delete(`/clients/${e}/`)},async replaceClient(e,t){return(await wa.put(`/clients/${e}/`,t)).data},async batchGetClients(e){const t=e.map(r=>this.getClient(r));return Promise.all(t)},async checkEmailExists(e){try{return(await wa.get("/clients/",{params:{search:e}})).data.results.some(r=>r.email===e)}catch{return!1}},async getClientApartments(e){return(await wa.get(`/clients/${e}/apartments/`)).data},async getClientProducts(e){return(await wa.get(`/clients/${e}/products/`)).data},async getClientDetails(e){return(await wa.get(`/clients/${e}/details/`)).data}},Ko={all:["clients"],lists:()=>[...Ko.all,"list"],list:e=>[...Ko.lists(),e],details:()=>[...Ko.all,"detail"],detail:e=>[...Ko.details(),e]};function z8e(e,t){const[r,s]=v.useState(e);return v.useEffect(()=>{const a=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function H2(e,t){const r=z8e(e==null?void 0:e.search,300),s={...e,search:r};return ws({queryKey:Ko.list(s),queryFn:()=>gy.getClients(s),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:a=>a,...t})}function W8e(){const e=qr(),{toast:t}=pr();return un({mutationFn:r=>gy.createClient(r),onMutate:async r=>{await e.cancelQueries({queryKey:Ko.all});const s=e.getQueryData(Ko.all),a={id:`temp-${Date.now()}`,...r,apartments_count:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return e.setQueriesData({queryKey:Ko.lists()},i=>i&&{...i,results:[a,...i.results||[]],count:(i.count||0)+1}),{previousClients:s,optimisticClient:a}},onError:(r,s,a)=>{a!=null&&a.previousClients&&e.setQueryData(Ko.all,a.previousClients),t({title:"Error creating client",description:r.message||"Something went wrong",variant:"destructive"})},onSuccess:r=>{t({title:"Client created",description:`${r.name} has been created successfully.`})},onSettled:()=>{e.invalidateQueries({queryKey:Ko.all})}})}function oX(){const e=qr(),{toast:t}=pr();return un({mutationFn:({id:r,data:s})=>gy.updateClient(r,s),onSuccess:r=>{e.invalidateQueries({queryKey:Ko.detail(r.id)}),e.invalidateQueries({queryKey:["clients"]}),t({title:"Client updated",description:`${r.name} has been updated successfully.`})},onError:r=>{t({title:"Error updating client",description:r.message||"Something went wrong",variant:"destructive"})}})}function H8e(){const e=qr(),{toast:t}=pr();return un({mutationFn:({id:r,name:s})=>gy.deleteClient(r).then(()=>({id:r,name:s})),onSuccess:r=>{e.invalidateQueries({queryKey:["clients"]}),t({title:"Client deleted",description:`${r.name} has been deleted successfully.`})},onError:r=>{t({title:"Error deleting client",description:r.message||"Something went wrong",variant:"destructive"})}})}const q8e=()=>{const e=dr(),{toast:t}=pr(),[r,s]=v.useState(""),[a,i]=v.useState("all"),[o,l]=v.useState("all"),[c,d]=v.useState(!1),[u,f]=v.useState(null),[m,h]=v.useState(!1),[x,p]=v.useState(null),{data:g,isLoading:j,error:y,refetch:w}=H2({search:r||void 0,account_status:a!=="all"?a:void 0,type:o!=="all"?o:void 0}),b=W8e(),N=oX(),_=H8e(),C=v.useMemo(()=>(g==null?void 0:g.results)||[],[g==null?void 0:g.results]),[A,E]=v.useState({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""}),k=C,O=v.useMemo(()=>{const D=(g==null?void 0:g.results)||[],Y=D.length,ae=D.filter(me=>me.account_status==="Active").length,R=D.filter(me=>me.account_status==="Inactive").length,V=D.filter(me=>me.type==="Investor").length,L=D.filter(me=>me.type==="Buy2Rent Internal").length,K=D.reduce((me,B)=>me+(B.apartments_count||0),0),le=Y>0?(K/Y).toFixed(1):"0";return{totalClients:Y,activeClients:ae,inactiveClients:R,investorClients:V,internalClients:L,totalApartments:K,avgApartmentsPerClient:le}},[g==null?void 0:g.results]),I=v.useCallback(D=>{s(D.target.value)},[]),W=D=>{if(D){const Y=C.find(ae=>ae.id===D);Y&&(f(D),E({name:Y.name,email:Y.email,phone:Y.phone||"",account_status:Y.account_status,type:Y.type,notes:Y.notes||""}))}else f(null),E({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""});d(!0)},H=async D=>{if(D.preventDefault(),console.log("Form submitted with data:",A),!A.name.trim()||!A.email.trim()){t({title:"Validation Error",description:"Name and email are required.",variant:"destructive"});return}try{u?(console.log("Updating client:",u),await N.mutateAsync({id:u,data:A}),t({title:"Success",description:"Client updated successfully"})):(console.log("Creating new client:",A),await b.mutateAsync(A),t({title:"Success",description:"Client created successfully"})),d(!1),f(null),E({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""})}catch(Y){console.error("Error submitting form:",Y)}},F=(D,Y)=>{const ae=C.find(V=>V.id===D),R=(ae==null?void 0:ae.apartments_count)??0;if(R>0){t({title:"Cannot delete client",description:`${Y} has ${R} apartment(s) associated. Please reassign or delete the apartments first.`,variant:"destructive"});return}p({id:D,name:Y}),h(!0)},T=async()=>{if(x)try{await _.mutateAsync({id:x.id,name:x.name}),t({title:"Success",description:`Client "${x.name}" deleted successfully`})}catch{}finally{h(!1),p(null)}},P=D=>{e(`/clients/${D}`)},M=D=>D==="Active"?"bg-success/10 text-success border-success/20":"bg-muted text-muted-foreground border-border/50";return j?n.jsx(dt,{title:"Clients",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(S,{className:"h-10 w-64"}),n.jsx(S,{className:"h-10 w-32"})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsx(S,{className:"h-6 w-48"})}),n.jsx(J,{children:n.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(D=>n.jsx(S,{className:"h-16 w-full"},D))})})]})]})}):y?n.jsx(dt,{title:"Clients",children:n.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[n.jsxs("p",{className:"text-destructive mb-4",children:["Failed to load clients: ",y.message]}),n.jsxs(te,{onClick:()=>w(),variant:"outline",children:[n.jsx(Sf,{className:"mr-2 h-4 w-4"}),"Retry"]})]})}):n.jsx(dt,{title:"Clients",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[n.jsx(Z,{className:"border-border/50 bg-gradient-to-br from-background to-muted/20",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Total Clients"}),n.jsx("p",{className:"text-2xl font-bold mt-1",children:O.totalClients})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx(Gc,{className:"h-5 w-5 text-primary"})})]})})}),n.jsx(Z,{className:"border-border/50 bg-gradient-to-br from-background to-green-500/5",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Active"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-green-600",children:O.activeClients})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-green-500/10 flex items-center justify-center",children:n.jsx(S7,{className:"h-5 w-5 text-green-500"})})]})})}),n.jsx(Z,{className:"border-border/50 bg-gradient-to-br from-background to-red-500/5",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Inactive"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-red-500",children:O.inactiveClients})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-red-500/10 flex items-center justify-center",children:n.jsx(C7,{className:"h-5 w-5 text-red-500"})})]})})}),n.jsx(Z,{className:"border-border/50 bg-gradient-to-br from-background to-violet-500/5",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Investors"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-violet-600",children:O.investorClients})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-violet-500/10 flex items-center justify-center",children:n.jsx(p7,{className:"h-5 w-5 text-violet-500"})})]})})}),n.jsx(Z,{className:"border-border/50 bg-gradient-to-br from-background to-emerald-500/5",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Apartments"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-emerald-600",children:O.totalApartments})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-500/10 flex items-center justify-center",children:n.jsx(b7,{className:"h-5 w-5 text-emerald-500"})})]})})}),n.jsx(Z,{className:"border-border/50 bg-gradient-to-br from-background to-amber-500/5",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Avg/Client"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-amber-600",children:O.avgApartmentsPerClient})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-amber-500/10 flex items-center justify-center",children:n.jsx(ri,{className:"h-5 w-5 text-amber-500"})})]})})})]}),n.jsx("div",{className:"flex flex-col gap-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-stretch sm:items-center",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(ca,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/70 pointer-events-none z-10"}),n.jsx(fe,{placeholder:"Search by name or email...",value:r,onChange:I,className:"pl-10 h-11 bg-muted/30 border-border/50 focus:bg-background transition-colors",autoComplete:"off"},"client-search-input")]}),n.jsxs("div",{className:"flex gap-2 flex-wrap sm:flex-nowrap",children:[n.jsxs(at,{value:a,onValueChange:i,children:[n.jsx(nt,{className:"w-full sm:w-[140px] h-11 bg-muted/30 border-border/50",children:n.jsx(it,{placeholder:"Status"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"all",children:"All Status"}),n.jsx(ne,{value:"Active",children:"Active"}),n.jsx(ne,{value:"Inactive",children:"Inactive"})]})]}),n.jsxs(at,{value:o,onValueChange:l,children:[n.jsx(nt,{className:"w-full sm:w-[160px] h-11 bg-muted/30 border-border/50",children:n.jsx(it,{placeholder:"Type"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"all",children:"All Types"}),n.jsx(ne,{value:"Individual",children:"Individual"}),n.jsx(ne,{value:"Company",children:"Company"})]})]}),n.jsxs(Zr,{open:c,onOpenChange:d,children:[n.jsx(Lpe,{asChild:!0,children:n.jsxs(te,{onClick:()=>W(),className:"h-11 w-full sm:w-auto",children:[n.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Add Client"]})}),n.jsx(Hr,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:n.jsxs("form",{onSubmit:H,children:[n.jsx(Jr,{className:"pb-4 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsxs("div",{children:[n.jsx(en,{className:"text-xl",children:u?"Edit Client":"Add New Client"}),n.jsx(ss,{className:"text-sm",children:u?"Update client information":"Create a new client profile"})]})]})}),n.jsxs("div",{className:"grid gap-6 py-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx("div",{className:"w-1 h-5 bg-primary rounded-full"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Basic Information"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"name",className:"text-sm font-medium",children:"Full Name *"}),n.jsx(fe,{id:"name",value:A.name,onChange:D=>E({...A,name:D.target.value}),placeholder:"John Doe",className:"h-11"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx("div",{className:"w-1 h-5 bg-primary rounded-full"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Contact Information"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"email",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Email *"]}),n.jsx(fe,{id:"email",type:"email",value:A.email,onChange:D=>E({...A,email:D.target.value}),placeholder:"john@example.com",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"phone",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Phone"]}),n.jsx(fe,{id:"phone",value:A.phone,onChange:D=>E({...A,phone:D.target.value}),placeholder:"+36 20 123 4567",className:"h-11"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx("div",{className:"w-1 h-5 bg-primary rounded-full"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Account Settings"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"type",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Client Type"]}),n.jsxs(at,{value:A.type,onValueChange:D=>E({...A,type:D}),children:[n.jsx(nt,{id:"type",className:"h-11",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"Investor",children:"Investor"}),n.jsx(ne,{value:"Buy2Rent Internal",children:"Buy2Rent Internal"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"status",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Account Status"]}),n.jsxs(at,{value:A.account_status,onValueChange:D=>E({...A,account_status:D}),children:[n.jsx(nt,{id:"status",className:"h-11",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"Active",children:"Active"}),n.jsx(ne,{value:"Inactive",children:"Inactive"}),n.jsx(ne,{value:"Suspended",children:"Suspended"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx("div",{className:"w-1 h-5 bg-primary rounded-full"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Additional Information"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"notes",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Notes"]}),n.jsx(da,{id:"notes",value:A.notes,onChange:D=>E({...A,notes:D.target.value}),placeholder:"Add any additional notes or comments about this client...",rows:4,className:"resize-none"})]})]})]}),n.jsxs(Ba,{className:"pt-6 border-t border-border/50 gap-3",children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>d(!1),className:"flex-1 h-11",children:"Cancel"}),n.jsxs(te,{type:"submit",className:"flex-1 h-11 bg-primary hover:bg-primary/90",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),u?"Save Changes":"Create Client"]})]})]})})]})]})]})}),n.jsxs(Z,{className:"border-border/50",children:[n.jsx(we,{className:"border-b border-border/50 bg-muted/20",children:n.jsxs(Ue,{className:"text-lg font-semibold",children:["All Clients (",k.length,")"]})}),n.jsx(J,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Os,{children:[n.jsx(Ds,{children:n.jsxs(Ut,{className:"hover:bg-transparent border-b border-border/50",children:[n.jsx(ke,{className:"font-semibold text-foreground/90",children:"Name"}),n.jsx(ke,{className:"font-semibold text-foreground/90",children:"Type"}),n.jsx(ke,{className:"font-semibold text-foreground/90",children:"Email"}),n.jsx(ke,{className:"font-semibold text-foreground/90",children:"Phone"}),n.jsx(ke,{className:"font-semibold text-foreground/90",children:"Status"}),n.jsx(ke,{className:"font-semibold text-foreground/90",children:"Apartments"}),n.jsx(ke,{className:"font-semibold text-foreground/90",children:"Notes"}),n.jsx(ke,{className:"text-right font-semibold text-foreground/90",children:"Actions"})]})}),n.jsx(Is,{children:k.length===0?n.jsx(Ut,{className:"hover:bg-transparent",children:n.jsx(Se,{colSpan:8,className:"text-center py-12 text-muted-foreground",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(ca,{className:"h-8 w-8 text-muted-foreground/50"}),n.jsx("p",{className:"font-medium",children:"No clients found"}),n.jsx("p",{className:"text-sm",children:"Try adjusting your filters or add a new client."})]})})}):k.map(D=>{const Y=D.apartments_count??0;return n.jsxs(Ut,{className:"hover:bg-muted/30 transition-colors border-b border-border/30 last:border-0",children:[n.jsx(Se,{className:"font-medium text-foreground py-4",children:D.name}),n.jsx(Se,{className:"py-4",children:n.jsx(Ae,{variant:"outline",className:"capitalize border-border/50 bg-muted/40",children:D.type})}),n.jsx(Se,{className:"text-muted-foreground py-4",children:D.email}),n.jsx(Se,{className:"text-muted-foreground py-4",children:D.phone}),n.jsx(Se,{className:"py-4",children:n.jsx(Ae,{className:M(D.account_status),children:D.account_status})}),n.jsx(Se,{className:"py-4",children:n.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[n.jsx(cr,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:Y})]})}),n.jsx(Se,{className:"max-w-[200px] truncate text-muted-foreground py-4",children:D.notes||"-"}),n.jsx(Se,{className:"text-right py-4",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(te,{size:"sm",variant:"ghost",onClick:()=>P(D.id),className:"hover:bg-primary/10 hover:text-primary",title:"View Details",children:n.jsx(ti,{className:"h-4 w-4"})}),n.jsx(te,{size:"sm",variant:"ghost",onClick:()=>W(D.id),className:"hover:bg-muted/50 hover:text-foreground",title:"Edit Client",children:n.jsx(Gs,{className:"h-4 w-4"})}),n.jsx(te,{size:"sm",variant:"ghost",onClick:()=>F(D.id,D.name),className:"hover:bg-destructive/10 hover:text-destructive",title:"Delete Client",children:n.jsx(xn,{className:"h-4 w-4"})})]})})]},D.id)})})]})})})]}),n.jsx(lc,{open:m,onOpenChange:h,children:n.jsxs(pl,{children:[n.jsx(xl,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(ni,{className:"h-6 w-6 text-destructive"})}),n.jsxs("div",{children:[n.jsx(vl,{className:"text-xl",children:"Delete Client"}),n.jsx(yl,{className:"mt-1",children:"This action cannot be undone."})]})]})}),n.jsx("div",{className:"py-4",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to delete"," ",n.jsxs("span",{className:"font-semibold text-foreground",children:['"',x==null?void 0:x.name,'"']}),"? This will permanently remove the client from the system."]})}),n.jsxs(gl,{children:[n.jsx(bl,{autoFocus:!1,children:"Cancel"}),n.jsx(jl,{onClick:T,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",autoFocus:!0,children:"Delete Client"})]})]})})]})})};var i3="Tabs",[G8e,znt]=Zs(i3,[Yp]),lX=Yp(),[K8e,o3]=G8e(i3),cX=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=om(l),[f,m]=Oa({prop:s,onChange:a,defaultProp:i});return n.jsx(K8e,{scope:r,baseId:si(),value:f,onValueChange:m,orientation:o,dir:u,activationMode:c,children:n.jsx(ft.div,{dir:u,"data-orientation":o,...d,ref:t})})});cX.displayName=i3;var dX="TabsList",uX=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...a}=e,i=o3(dX,r),o=lX(r);return n.jsx(fT,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:n.jsx(ft.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});uX.displayName=dX;var fX="TabsTrigger",mX=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...i}=e,o=o3(fX,r),l=lX(r),c=xX(o.baseId,s),d=gX(o.baseId,s),u=s===o.value;return n.jsx(mT,{asChild:!0,...l,focusable:!a,active:u,children:n.jsx(ft.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Ge(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:Ge(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:Ge(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(s)})})})});mX.displayName=fX;var hX="TabsContent",pX=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:a,children:i,...o}=e,l=o3(hX,r),c=xX(l.baseId,s),d=gX(l.baseId,s),u=s===l.value,f=v.useRef(u);return v.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),n.jsx(ns,{present:a||u,children:({present:m})=>n.jsx(ft.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});pX.displayName=hX;function xX(e,t){return`${e}-trigger-${t}`}function gX(e,t){return`${e}-content-${t}`}var Y8e=cX,vX=uX,yX=mX,jX=pX;const ko=Y8e,Xi=v.forwardRef(({className:e,...t},r)=>n.jsx(vX,{ref:r,className:ge("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Xi.displayName=vX.displayName;const Vt=v.forwardRef(({className:e,...t},r)=>n.jsx(yX,{ref:r,className:ge("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Vt.displayName=yX.displayName;const Yt=v.forwardRef(({className:e,...t},r)=>n.jsx(jX,{ref:r,className:ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Yt.displayName=jX.displayName;function X8e(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,Q8e(a,...t)]}function Q8e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var l3="Progress",c3=100,[Z8e,Wnt]=X8e(l3),[J8e,eBe]=Z8e(l3),bX=v.forwardRef((e,t)=>{const{__scopeProgress:r,value:s=null,max:a,getValueLabel:i=tBe,...o}=e;(a||a===0)&&!B$(a)&&console.error(rBe(`${a}`,"Progress"));const l=B$(a)?a:c3;s!==null&&!U$(s,l)&&console.error(nBe(`${s}`,"Progress"));const c=U$(s,l)?s:null,d=ww(c)?i(c,l):void 0;return n.jsx(J8e,{scope:r,value:c,max:l,children:n.jsx(ft.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":ww(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":_X(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});bX.displayName=l3;var wX="ProgressIndicator",NX=v.forwardRef((e,t)=>{const{__scopeProgress:r,...s}=e,a=eBe(wX,r);return n.jsx(ft.div,{"data-state":_X(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});NX.displayName=wX;function tBe(e,t){return`${Math.round(e/t*100)}%`}function _X(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ww(e){return typeof e=="number"}function B$(e){return ww(e)&&!isNaN(e)&&e>0}function U$(e,t){return ww(e)&&!isNaN(e)&&e<=t&&e>=0}function rBe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${c3}\`.`}function nBe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${c3} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var SX=bX,sBe=NX;const q2=v.forwardRef(({className:e,value:t,...r},s)=>n.jsx(SX,{ref:s,className:ge("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:n.jsx(sBe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));q2.displayName=SX.displayName;const gn=v.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));gn.displayName="Textarea";const Ra=v.forwardRef(({...e},t)=>n.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));Ra.displayName="Breadcrumb";const Ma=v.forwardRef(({className:e,...t},r)=>n.jsx("ol",{ref:r,className:ge("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));Ma.displayName="BreadcrumbList";const Jt=v.forwardRef(({className:e,...t},r)=>n.jsx("li",{ref:r,className:ge("inline-flex items-center gap-1.5",e),...t}));Jt.displayName="BreadcrumbItem";const Xn=v.forwardRef(({asChild:e,className:t,...r},s)=>{const a=e?Yl:"a";return n.jsx(a,{ref:s,className:ge("transition-colors hover:text-foreground",t),...r})});Xn.displayName="BreadcrumbLink";const hi=v.forwardRef(({className:e,...t},r)=>n.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:ge("font-normal text-foreground",e),...t}));hi.displayName="BreadcrumbPage";const Sn=({children:e,className:t,...r})=>n.jsx("li",{role:"presentation","aria-hidden":"true",className:ge("[&>svg]:size-3.5",t),...r,children:e??n.jsx(qc,{})});Sn.displayName="BreadcrumbSeparator";const aBe=()=>n.jsx(dt,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-4 w-16"}),n.jsx(S,{className:"h-4 w-2"}),n.jsx(S,{className:"h-4 w-32"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(S,{className:"h-9 w-20 rounded-md"}),n.jsx(S,{className:"h-9 w-24 rounded-md"})]})]}),n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/5 via-primary/3 to-background border border-border/50",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-white/5 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.5))]"}),n.jsxs("div",{className:"relative p-8",children:[n.jsx(S,{className:"h-9 w-24 rounded-md absolute top-4 left-4"}),n.jsxs("div",{className:"flex items-start gap-6 mt-8",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-primary/20 to-primary/10 animate-pulse"}),n.jsx(S,{className:"absolute -bottom-2 -right-2 w-8 h-8 rounded-full border-4 border-background"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(S,{className:"h-9 w-48"}),n.jsx(S,{className:"h-6 w-20 rounded-full"}),n.jsx(S,{className:"h-6 w-24 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-3 gap-6 mt-4",children:[1,2,3].map(e=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(S,{className:"w-10 h-10 rounded-lg"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"h-3 w-12"}),n.jsx(S,{className:"h-4 w-32"})]})]},e))}),n.jsx("div",{className:"mt-4 p-3 rounded-lg bg-background/60 border border-border/50",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(S,{className:"h-4 w-4 mt-0.5"}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsx(S,{className:"h-3 w-full"}),n.jsx(S,{className:"h-3 w-3/4"})]})]})})]})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{gradient:"from-blue-500/5 to-blue-500/0",iconBg:"bg-blue-500/10",accentBg:"bg-blue-500/5"},{gradient:"from-amber-500/5 to-amber-500/0",iconBg:"bg-amber-500/10",accentBg:"bg-amber-500/5"},{gradient:"from-green-500/5 to-green-500/0",iconBg:"bg-green-500/10",accentBg:"bg-green-500/5"},{gradient:"from-orange-500/5 to-orange-500/0",iconBg:"bg-orange-500/10",accentBg:"bg-orange-500/5"}].map((e,t)=>n.jsx(Z,{className:`border-border/50 bg-gradient-to-br ${e.gradient} hover:shadow-xl transition-all duration-300 group`,children:n.jsxs(J,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:`w-14 h-14 rounded-2xl ${e.iconBg} flex items-center justify-center group-hover:scale-110 transition-transform`,children:n.jsx(S,{className:"w-7 h-7 rounded"})}),n.jsx("div",{className:`w-10 h-10 rounded-xl ${e.accentBg} flex items-center justify-center`,children:n.jsx(S,{className:"w-5 h-5 rounded"})})]}),n.jsxs("div",{children:[n.jsx(S,{className:"h-8 w-24 mb-1"}),n.jsx(S,{className:"h-4 w-32 mb-3"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"w-2 h-2 rounded-full animate-pulse"}),n.jsx(S,{className:"h-3 w-28"})]})})]})]})},t))}),n.jsxs(Z,{className:"border-border/50 bg-gradient-to-br from-card to-card/50",children:[n.jsx(we,{className:"pb-3 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(S,{className:"h-6 w-6"}),n.jsx(S,{className:"h-6 w-48"})]}),n.jsx(S,{className:"h-4 w-64 mt-1"})]}),n.jsx(S,{className:"h-6 w-20 rounded-full"})]})}),n.jsxs(J,{className:"p-0",children:[n.jsx("div",{className:"px-6 pt-4",children:n.jsx("div",{className:"grid w-full grid-cols-3 bg-muted/50 rounded-lg p-1",children:[1,2,3].map(e=>n.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[n.jsx(S,{className:"h-4 w-4"}),n.jsx(S,{className:"h-4 w-16"})]},e))})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{gradient:"from-blue-500/10 to-blue-500/5",border:"border-blue-500/20"},{gradient:"from-green-500/10 to-green-500/5",border:"border-green-500/20"},{gradient:"from-orange-500/10 to-orange-500/5",border:"border-orange-500/20"},{gradient:"from-purple-500/10 to-purple-500/5",border:"border-purple-500/20"}].map((e,t)=>n.jsxs("div",{className:`p-4 rounded-xl bg-gradient-to-br ${e.gradient} border ${e.border}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(S,{className:"w-8 h-8 rounded-lg"}),n.jsx(S,{className:"h-3 w-20"})]}),n.jsx(S,{className:"h-7 w-16"})]},t))}),n.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-4 w-24"})]}),n.jsx(S,{className:"h-3 w-full rounded-full"}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx(S,{className:"h-3 w-20"}),n.jsx(S,{className:"h-3 w-20"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(S,{className:"h-8 w-20"}),n.jsx(S,{className:"h-8 w-20"}),n.jsx(S,{className:"h-8 w-20"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx(S,{className:"h-4 w-48 mb-3"}),n.jsx("div",{className:"h-[220px] flex items-center justify-center",children:n.jsxs("div",{className:"relative",children:[n.jsx(S,{className:"h-40 w-40 rounded-full"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"h-20 w-20 rounded-full bg-background"})})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx(S,{className:"h-4 w-40 mb-3"}),n.jsx("div",{className:"h-[220px] space-y-3 flex flex-col justify-end",children:[70,90,50,85,60].map((e,t)=>n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsx(S,{className:"h-3 w-16"}),n.jsx(S,{className:"h-4 flex-1",style:{height:`${e}%`}})]},t))})]})]}),n.jsxs("div",{children:[n.jsx(S,{className:"h-5 w-32 mb-4"}),n.jsx("div",{className:"space-y-3",children:[1,2,3].map(e=>n.jsxs("div",{className:"p-5 rounded-xl bg-gradient-to-br from-card to-muted/20 border border-border/50 hover:shadow-md transition-all",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center",children:n.jsx(S,{className:"w-6 h-6 rounded"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-5 w-40"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-3 w-3 rounded"}),n.jsx(S,{className:"h-3 w-56"})]})]})]}),n.jsx(S,{className:"h-6 w-28 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-4 gap-2 pt-3 border-t border-border/30",children:[1,2,3,4].map(t=>n.jsxs("div",{className:"p-2 rounded-lg bg-gradient-to-br from-muted/60 to-muted/30",children:[n.jsx(S,{className:"h-2 w-16 mb-1"}),n.jsx(S,{className:"h-4 w-20"})]},t))})]},e))})]})]})]})]})]})}),iBe=()=>{var ae,R,V,L,K,le,me,B,X,oe,Ne,ue;const{id:e}=Ki(),t=dr(),{toast:r}=pr();v.useState("portfolio");const[s,a]=v.useState("overview"),[i,o]=v.useState("financial"),[l,c]=v.useState("status"),[d,u]=v.useState("status"),[f,m]=v.useState(!1),[h,x]=v.useState({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""}),{data:p,isLoading:g,error:j,refetch:y}=ws({queryKey:["clientDetails",e],queryFn:()=>gy.getClientDetails(e),enabled:!!e}),w=oX(),b=p,N=p==null?void 0:p.apartments,_=(N==null?void 0:N.data)||[];N!=null&&N.count;const C=p==null?void 0:p.products,A=(C==null?void 0:C.data)||[];C!=null&&C.count;const E=(p==null?void 0:p.statistics)||{},k=(E==null?void 0:E.apartments)||{},O=(E==null?void 0:E.products)||{},I=(E==null?void 0:E.financial)||{},W=ve=>ve==="Active"?"bg-success/10 text-success border-success/20":"bg-muted text-muted-foreground border-border/50",H=ve=>({"Design Approved":"bg-primary/10 text-primary border-primary/20",Ordering:"bg-warning/10 text-warning border-warning/20",Renovating:"bg-accent/10 text-accent border-accent/20",Completed:"bg-success/10 text-success border-success/20"})[ve]||"bg-muted text-muted-foreground border-border/50",F=()=>{b&&(x({name:b.name,email:b.email,phone:b.phone||"",account_status:b.account_status,type:b.type,notes:b.notes||""}),m(!0))},T=async ve=>{if(ve.preventDefault(),!h.name.trim()||!h.email.trim()){r({title:"Validation Error",description:"Name and email are required.",variant:"destructive"});return}try{await w.mutateAsync({id:e,data:h}),r({title:"Success",description:"Client updated successfully"}),m(!1),y()}catch(xe){console.error("Error updating client:",xe)}},P=k.by_status?Object.entries(k.by_status).map(([ve,xe])=>({name:ve,value:xe,fill:ve==="Completed"?"#10b981":ve==="Renovating"?"#8b5cf6":ve==="Ordering"?"#f59e0b":"#3b82f6"})):[],M=O.by_status?Object.entries(O.by_status).map(([ve,xe])=>({name:ve,value:xe})):[],D=[{name:"Paid",value:I.total_paid||0,fill:"#10b981"},{name:"Outstanding",value:I.outstanding||0,fill:"#f59e0b"}],Y=["#3b82f6","#8b5cf6","#f59e0b","#10b981","#ef4444","#06b6d4"];return g?n.jsx(aBe,{}):j||!b?n.jsx(dt,{title:"Client Not Found",children:n.jsx(Z,{children:n.jsxs(J,{className:"p-12 text-center",children:[n.jsx(_t,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Client Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:j instanceof Error?j.message:"The client you're looking for doesn't exist."}),n.jsx(te,{onClick:()=>t("/clients"),children:"Back to Clients"})]})})}):n.jsxs(dt,{title:b.name,children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsx(Ra,{children:n.jsxs(Ma,{children:[n.jsx(Jt,{children:n.jsx(Xn,{asChild:!0,children:n.jsx(Vi,{to:"/clients",children:"Clients"})})}),n.jsx(Sn,{}),n.jsx(Jt,{children:n.jsx(hi,{children:b.name})})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(te,{variant:"outline",size:"sm",onClick:F,children:[n.jsx(Gs,{className:"mr-2 h-4 w-4"}),"Edit"]}),n.jsxs(te,{variant:"destructive",size:"sm",onClick:()=>{window.confirm(`Are you sure you want to delete "${b.name}"?`)&&t("/clients")},children:[n.jsx(xn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/5 via-primary/3 to-background border border-border/50",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-white/5 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.5))]"}),n.jsxs("div",{className:"relative p-8",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>t("/clients"),className:"absolute top-4 left-4 flex items-center gap-1",children:n.jsx(tr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex items-start gap-6 mt-8",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center text-white shadow-xl",children:n.jsx(S4,{className:"h-14 w-14"})}),n.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 rounded-full bg-success border-4 border-background flex items-center justify-center",children:n.jsx(sr,{className:"h-4 w-4 text-white"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h2",{className:"text-3xl font-bold text-foreground",children:b.name}),n.jsx(Ae,{className:W(b.account_status),children:b.account_status}),n.jsxs(Ae,{variant:"secondary",children:[n.jsx(fse,{className:"h-3.5 w-3.5 mr-1"}),b.type]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-6 mt-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:n.jsx(yn,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Email"}),n.jsx("p",{className:"text-sm font-semibold",children:b.email})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-success/10 flex items-center justify-center",children:n.jsx(So,{className:"h-5 w-5 text-success"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone"}),n.jsx("p",{className:"text-sm font-semibold",children:b.phone})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-500/10 flex items-center justify-center",children:n.jsx(Wr,{className:"h-5 w-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Member Since"}),n.jsx("p",{className:"text-sm font-semibold",children:Ht(new Date(b.created_at),"MMM dd, yyyy")})]})]})]}),b.notes&&n.jsx("div",{className:"mt-4 p-3 rounded-lg bg-background/60 border border-border/50",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(An,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b.notes})]})})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(Z,{className:"border-border/50 bg-gradient-to-br from-blue-500/5 to-blue-500/0 hover:shadow-xl transition-all duration-300 group",children:n.jsxs(J,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-500/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:n.jsx(cr,{className:"h-7 w-7 text-blue-600"})}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/5 flex items-center justify-center",children:n.jsx(ri,{className:"h-5 w-5 text-blue-600/60"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-3xl font-bold text-foreground mb-1",children:k.total}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Total Apartments"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-success",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-success animate-pulse"}),n.jsx("span",{className:"font-medium",children:"Active Properties"})]})})]})]})}),n.jsx(Z,{className:"border-border/50 bg-gradient-to-br from-amber-500/5 to-amber-500/0 hover:shadow-xl transition-all duration-300 group",children:n.jsxs(J,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-amber-500/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:n.jsx(ct,{className:"h-7 w-7 text-amber-600"})}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500/5 flex items-center justify-center",children:n.jsx(_g,{className:"h-5 w-5 text-amber-600/60"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-3xl font-bold text-foreground mb-1",children:O.total}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Total Products"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600",children:[n.jsx(Lb,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium",children:"Across All Properties"})]})})]})]})}),n.jsx(Z,{className:"border-border/50 bg-gradient-to-br from-green-500/5 to-green-500/0 hover:shadow-xl transition-all duration-300 group",children:n.jsxs(J,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-green-500/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:n.jsx(br,{className:"h-7 w-7 text-green-600"})}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-500/5 flex items-center justify-center",children:n.jsx(A7,{className:"h-5 w-5 text-green-600/60"})})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold text-foreground mb-1",children:[new Intl.NumberFormat("hu-HU").format(O.total_value||0)," Ft"]}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Total Investment"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600",children:[n.jsx(ri,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium",children:"Portfolio Value"})]})})]})]})}),n.jsx(Z,{className:"border-border/50 bg-gradient-to-br from-orange-500/5 to-orange-500/0 hover:shadow-xl transition-all duration-300 group",children:n.jsxs(J,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-orange-500/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:n.jsx(_t,{className:"h-7 w-7 text-orange-600"})}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-500/5 flex items-center justify-center",children:n.jsx(jr,{className:"h-5 w-5 text-orange-600/60"})})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold text-foreground mb-1",children:[I.outstanding<0?"-":"",new Intl.NumberFormat("hu-HU").format(Math.abs(I.outstanding||0))," Ft"]}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Outstanding Amount"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-orange-600",children:[n.jsx(Ff,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium",children:"Pending Payments"})]})})]})]})})]}),n.jsxs(Z,{className:"border-border/50 bg-gradient-to-br from-card to-card/50",children:[n.jsx(we,{className:"pb-3 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Ue,{className:"text-xl flex items-center gap-2",children:[n.jsx(x7,{className:"h-6 w-6 text-primary"}),"Analytics Dashboard"]}),n.jsx(Or,{className:"mt-1",children:"Comprehensive insights and analytics"})]}),n.jsxs(Ae,{variant:"outline",className:"text-xs",children:[n.jsx(Ff,{className:"h-3 w-3 mr-1"}),"Live Data"]})]})}),n.jsx(J,{className:"p-0",children:n.jsxs(ko,{value:s,onValueChange:a,className:"w-full",children:[n.jsx("div",{className:"px-6 pt-4",children:n.jsxs(Xi,{className:"grid w-full grid-cols-3 bg-muted/50",children:[n.jsxs(Vt,{value:"overview",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[n.jsx(G5,{className:"h-4 w-4 mr-2"}),"Overview"]}),n.jsxs(Vt,{value:"apartments",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[n.jsx(cr,{className:"h-4 w-4 mr-2"}),"Apartments"]}),n.jsxs(Vt,{value:"products",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[n.jsx(ct,{className:"h-4 w-4 mr-2"}),"Products"]})]})}),n.jsxs(Yt,{value:"overview",className:"p-6 space-y-6 mt-0",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center",children:n.jsx(_g,{className:"h-4 w-4 text-blue-600"})}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Total Orders"})]}),n.jsx("p",{className:"text-xl font-bold text-foreground",children:((ae=p==null?void 0:p.orders)==null?void 0:ae.count)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-green-500/10 to-green-500/5 border border-green-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-500/20 flex items-center justify-center",children:n.jsx(ct,{className:"h-4 w-4 text-green-600"})}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Deliveries"})]}),n.jsx("p",{className:"text-xl font-bold text-green-600",children:((R=p==null?void 0:p.deliveries)==null?void 0:R.count)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-orange-500/10 to-orange-500/5 border border-orange-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-500/20 flex items-center justify-center",children:n.jsx(_t,{className:"h-4 w-4 text-orange-600"})}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Open Issues"})]}),n.jsx("p",{className:"text-xl font-bold text-orange-600",children:((V=p==null?void 0:p.issues)==null?void 0:V.open_count)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-500/10 to-purple-500/5 border border-purple-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center",children:n.jsx(S4,{className:"h-4 w-4 text-purple-600"})}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Vendors"})]}),n.jsx("p",{className:"text-xl font-bold text-purple-600",children:((L=p==null?void 0:p.vendors)==null?void 0:L.count)||new Set(A.map(ve=>ve.vendor_id).filter(Boolean)).size})]})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Payment Progress"}),n.jsxs("span",{className:"text-sm font-bold text-primary",children:[Math.round((I.total_paid||0)/(I.total_spent||1)*100),"% Complete"]})]}),n.jsx(q2,{value:Math.min((I.total_paid||0)/(I.total_spent||1)*100,100),className:"h-3"}),n.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-muted-foreground",children:[n.jsxs("span",{children:[new Intl.NumberFormat("hu-HU").format(I.total_paid||0)," Ft paid"]}),n.jsxs("span",{children:[new Intl.NumberFormat("hu-HU").format(I.outstanding||0)," Ft remaining"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Financial Analytics"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(te,{size:"sm",variant:i==="financial"?"default":"outline",onClick:()=>o("financial"),className:"h-8 text-xs",children:[n.jsx(G5,{className:"h-3 w-3 mr-1"}),"Financial"]}),n.jsxs(te,{size:"sm",variant:i==="apartments"?"default":"outline",onClick:()=>o("apartments"),className:"h-8 text-xs",children:[n.jsx(cr,{className:"h-3 w-3 mr-1"}),"Properties"]}),n.jsxs(te,{size:"sm",variant:i==="products"?"default":"outline",onClick:()=>o("products"),className:"h-8 text-xs",children:[n.jsx(ct,{className:"h-3 w-3 mr-1"}),"Products"]})]})]}),i==="financial"&&D.some(ve=>ve.value>0)&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Payment Distribution"}),n.jsx(fn,{width:"100%",height:200,children:n.jsxs(Fg,{children:[n.jsx(Mi,{data:D,cx:"50%",cy:"50%",labelLine:!1,label:({name:ve,percent:xe})=>`${ve}: ${(xe*100).toFixed(0)}%`,outerRadius:70,fill:"#8884d8",dataKey:"value",children:D.map((ve,xe)=>n.jsx(ba,{fill:ve.fill},`cell-${xe}`))}),n.jsx(fr,{formatter:ve=>`${new Intl.NumberFormat("hu-HU").format(ve)} Ft`})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Payment Breakdown"}),n.jsx(fn,{width:"100%",height:200,children:n.jsxs(ja,{data:D,layout:"vertical",children:[n.jsx(Bn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(an,{type:"number",tick:{fontSize:11}}),n.jsx(on,{dataKey:"name",type:"category",tick:{fontSize:11},width:90}),n.jsx(fr,{formatter:ve=>`${new Intl.NumberFormat("hu-HU").format(ve)} Ft`}),n.jsx(wn,{dataKey:"value",radius:[0,6,6,0],children:D.map((ve,xe)=>n.jsx(ba,{fill:ve.fill},`cell-${xe}`))})]})})]})]}),i==="apartments"&&P.length>0&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Apartment Status Distribution"}),n.jsx(fn,{width:"100%",height:200,children:n.jsxs(Fg,{children:[n.jsx(Mi,{data:P,cx:"50%",cy:"50%",labelLine:!1,label:({name:ve,percent:xe})=>`${(xe*100).toFixed(0)}%`,outerRadius:70,fill:"#8884d8",dataKey:"value",children:P.map((ve,xe)=>n.jsx(ba,{fill:ve.fill},`cell-${xe}`))}),n.jsx(fr,{})]})}),n.jsx("div",{className:"grid grid-cols-2 gap-2 mt-3",children:P.map((ve,xe)=>n.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/30",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ve.fill}}),n.jsx("span",{className:"text-xs font-medium truncate",children:ve.name}),n.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:ve.value})]},xe))})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Breakdown"}),n.jsx(fn,{width:"100%",height:200,children:n.jsxs(ja,{data:P,children:[n.jsx(Bn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(an,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:70}),n.jsx(on,{tick:{fontSize:11}}),n.jsx(fr,{}),n.jsx(wn,{dataKey:"value",radius:[6,6,0,0],children:P.map((ve,xe)=>n.jsx(ba,{fill:ve.fill},`cell-${xe}`))})]})})]})]}),i==="products"&&M.length>0&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Product Status Distribution"}),n.jsx(fn,{width:"100%",height:200,children:n.jsxs(ja,{data:M,children:[n.jsx(Bn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(an,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:70}),n.jsx(on,{tick:{fontSize:11}}),n.jsx(fr,{}),n.jsx(wn,{dataKey:"value",fill:"#8b5cf6",radius:[6,6,0,0],children:M.map((ve,xe)=>n.jsx(ba,{fill:Y[xe%Y.length]},`cell-${xe}`))})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Breakdown"}),n.jsx(fn,{width:"100%",height:200,children:n.jsxs(ja,{data:M,layout:"vertical",children:[n.jsx(Bn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(an,{type:"number",tick:{fontSize:11}}),n.jsx(on,{dataKey:"name",type:"category",tick:{fontSize:10},width:110}),n.jsx(fr,{}),n.jsx(wn,{dataKey:"value",radius:[0,6,6,0],children:M.map((ve,xe)=>n.jsx(ba,{fill:Y[xe%Y.length]},`cell-${xe}`))})]})}),n.jsx("div",{className:"grid grid-cols-2 gap-2 mt-3",children:M.slice(0,6).map((ve,xe)=>n.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/30",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Y[xe%Y.length]}}),n.jsx("span",{className:"text-xs font-medium truncate",children:ve.name}),n.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:ve.value})]},xe))})]})]})]}),n.jsxs(Yt,{value:"apartments",className:"p-6 space-y-6 mt-0",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(sr,{className:"h-5 w-5 text-blue-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Completed"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((K=k.by_status)==null?void 0:K.Completed)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-amber-500/10 to-amber-500/5 border border-amber-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(jr,{className:"h-5 w-5 text-amber-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"In Progress"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((le=k.by_status)==null?void 0:le.Renovating)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-500/10 to-purple-500/5 border border-purple-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Lb,{className:"h-5 w-5 text-purple-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Planning"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((me=k.by_status)==null?void 0:me.Planning)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-green-500/10 to-green-500/5 border border-green-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ri,{className:"h-5 w-5 text-green-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Avg Progress"})]}),n.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[Math.round(_.reduce((ve,xe)=>ve+(xe.progress||0),0)/(_.length||1)),"%"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Apartment Analytics"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(te,{size:"sm",variant:l==="status"?"default":"outline",onClick:()=>c("status"),className:"h-8 text-xs",children:"Status"}),n.jsx(te,{size:"sm",variant:l==="value"?"default":"outline",onClick:()=>c("value"),className:"h-8 text-xs",children:"Value"}),n.jsx(te,{size:"sm",variant:l==="products"?"default":"outline",onClick:()=>c("products"),className:"h-8 text-xs",children:"Products"})]})]}),l==="status"&&P.length>0&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Distribution"}),n.jsx(fn,{width:"100%",height:220,children:n.jsxs(Fg,{children:[n.jsx(Mi,{data:P,cx:"50%",cy:"50%",labelLine:!1,label:({name:ve,percent:xe})=>`${ve}: ${(xe*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:P.map((ve,xe)=>n.jsx(ba,{fill:ve.fill},`cell-${xe}`))}),n.jsx(fr,{})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Comparison"}),n.jsx(fn,{width:"100%",height:220,children:n.jsxs(ja,{data:P,children:[n.jsx(Bn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(an,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(on,{tick:{fontSize:11}}),n.jsx(fr,{}),n.jsx(wn,{dataKey:"value",radius:[8,8,0,0],children:P.map((ve,xe)=>n.jsx(ba,{fill:ve.fill},`cell-${xe}`))})]})})]})]}),l==="value"&&n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Apartment Value Distribution"}),n.jsx(fn,{width:"100%",height:250,children:n.jsxs(ja,{data:_.map(ve=>{const xe=A.filter(Me=>Me.apartment_id===ve.id),Ee=xe.reduce((Me,Te)=>Me+parseFloat(Te.unit_price||0)*Te.qty,0);return{name:ve.name,value:Ee,products:xe.length}}),children:[n.jsx(Bn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(an,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(on,{tick:{fontSize:11}}),n.jsx(fr,{formatter:ve=>`${new Intl.NumberFormat("hu-HU").format(ve)} Ft`}),n.jsx(wn,{dataKey:"value",fill:"#10b981",radius:[8,8,0,0]})]})})]}),l==="products"&&n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Products per Apartment"}),n.jsx(fn,{width:"100%",height:250,children:n.jsxs(ja,{data:_.map(ve=>({name:ve.name,products:A.filter(xe=>xe.apartment_id===ve.id).length})),children:[n.jsx(Bn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(an,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(on,{tick:{fontSize:11}}),n.jsx(fr,{}),n.jsx(wn,{dataKey:"products",fill:"#f59e0b",radius:[8,8,0,0]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"All Apartments"}),n.jsx("div",{className:"space-y-3",children:_.slice(0,5).map(ve=>{const xe=A.filter(Me=>Me.apartment_id===ve.id),Ee=xe.reduce((Me,Te)=>Me+parseFloat(Te.unit_price||0)*Te.qty,0);return n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-card to-muted/20 border border-border/50 hover:border-primary/30 transition-all",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:n.jsx(cr,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-foreground",children:ve.name}),n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(ha,{className:"h-3 w-3"}),ve.address]})]})]}),n.jsx(Ae,{variant:"outline",className:H(ve.status),children:ve.status})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[n.jsxs("div",{className:"p-2 rounded-lg bg-muted/40",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-semibold",children:"Type"}),n.jsx("p",{className:"text-xs font-bold",children:ve.type||"N/A"})]}),n.jsxs("div",{className:"p-2 rounded-lg bg-amber-500/10",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-semibold",children:"Products"}),n.jsx("p",{className:"text-xs font-bold",children:xe.length})]}),n.jsxs("div",{className:"p-2 rounded-lg bg-green-500/10",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-semibold",children:"Value"}),n.jsxs("p",{className:"text-xs font-bold",children:[new Intl.NumberFormat("hu-HU",{notation:"compact"}).format(Ee)," Ft"]})]}),n.jsxs("div",{className:"p-2 rounded-lg bg-primary/10",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-semibold",children:"Due Date"}),n.jsx("p",{className:"text-xs font-bold",children:ve.due_date?Ht(new Date(ve.due_date),"MMM dd"):"N/A"})]})]})]},ve.id)})})]})]}),n.jsxs(Yt,{value:"products",className:"p-6 space-y-6 mt-0",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-500/10 to-purple-500/5 border border-purple-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(_g,{className:"h-5 w-5 text-purple-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Ordered"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((B=O.by_status)==null?void 0:B.Ordered)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ct,{className:"h-5 w-5 text-blue-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Delivered"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((X=O.by_status)==null?void 0:X.Delivered)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-amber-500/10 to-amber-500/5 border border-amber-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(jr,{className:"h-5 w-5 text-amber-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Pending"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((oe=O.by_status)==null?void 0:oe.Pending)||((Ne=O.by_status)==null?void 0:Ne["Not Ordered"])||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-green-500/10 to-green-500/5 border border-green-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(sr,{className:"h-5 w-5 text-green-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Installed"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((ue=O.by_status)==null?void 0:ue.Installed)||0})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Product Analytics"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(te,{size:"sm",variant:d==="status"?"default":"outline",onClick:()=>u("status"),className:"h-8 text-xs",children:"Status"}),n.jsx(te,{size:"sm",variant:d==="category"?"default":"outline",onClick:()=>u("category"),className:"h-8 text-xs",children:"Category"}),n.jsx(te,{size:"sm",variant:d==="vendor"?"default":"outline",onClick:()=>u("vendor"),className:"h-8 text-xs",children:"Vendors"})]})]}),d==="status"&&M.length>0&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Distribution"}),n.jsx(fn,{width:"100%",height:220,children:n.jsxs(ja,{data:M,children:[n.jsx(Bn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(an,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(on,{tick:{fontSize:11}}),n.jsx(fr,{}),n.jsx(wn,{dataKey:"value",radius:[8,8,0,0],children:M.map((ve,xe)=>n.jsx(ba,{fill:Y[xe%Y.length]},`cell-${xe}`))})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Breakdown"}),n.jsx(fn,{width:"100%",height:220,children:n.jsxs(ja,{data:M,layout:"vertical",children:[n.jsx(Bn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(an,{type:"number",tick:{fontSize:11}}),n.jsx(on,{dataKey:"name",type:"category",tick:{fontSize:10},width:110}),n.jsx(fr,{}),n.jsx(wn,{dataKey:"value",radius:[0,8,8,0],children:M.map((ve,xe)=>n.jsx(ba,{fill:Y[xe%Y.length]},`cell-${xe}`))})]})})]})]}),d==="category"&&n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Products by Category"}),n.jsx(fn,{width:"100%",height:250,children:n.jsxs(ja,{data:Object.entries(A.reduce((ve,xe)=>{var Me;const Ee=xe.category_name||((Me=xe.category_details)==null?void 0:Me.name)||"Uncategorized";return ve[Ee]=(ve[Ee]||0)+1,ve},{})).map(([ve,xe])=>({name:ve,value:xe})).slice(0,10),children:[n.jsx(Bn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(an,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(on,{tick:{fontSize:11}}),n.jsx(fr,{}),n.jsx(wn,{dataKey:"value",fill:"#8b5cf6",radius:[8,8,0,0]})]})})]}),d==="vendor"&&n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Products by Vendor"}),n.jsx(fn,{width:"100%",height:250,children:n.jsxs(ja,{data:Object.entries(A.reduce((ve,xe)=>{const Ee=xe.vendor_name||"Unknown";return ve[Ee]=(ve[Ee]||0)+1,ve},{})).map(([ve,xe])=>({name:ve,value:xe})).slice(0,10),children:[n.jsx(Bn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(an,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(on,{tick:{fontSize:11}}),n.jsx(fr,{}),n.jsx(wn,{dataKey:"value",fill:"#10b981",radius:[8,8,0,0]})]})})]}),M.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Legend"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:M.map((ve,xe)=>n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/30 border border-border/50",children:[n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:Y[xe%Y.length]}}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium truncate",children:ve.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[ve.value," products"]})]})]},xe))})]})]})]})})]})]}),n.jsx(Zr,{open:f,onOpenChange:m,children:n.jsx(Hr,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:n.jsxs("form",{onSubmit:T,children:[n.jsx(Jr,{className:"pb-4 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsxs("div",{children:[n.jsx(en,{className:"text-xl",children:"Edit Client"}),n.jsx(ss,{className:"text-sm",children:"Update client information"})]})]})}),n.jsxs("div",{className:"grid gap-6 py-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border/30",children:[n.jsx($n,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Basic Information"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"name",className:"text-sm font-medium",children:["Full Name ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(fe,{id:"name",value:h.name,onChange:ve=>x({...h,name:ve.target.value}),placeholder:"John Doe",className:"h-11",required:!0})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border/30",children:[n.jsx(yn,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Contact Information"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"email",className:"text-sm font-medium",children:["Email ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(fe,{id:"email",type:"email",value:h.email,onChange:ve=>x({...h,email:ve.target.value}),placeholder:"john@example.com",className:"h-11",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"phone",className:"text-sm font-medium",children:"Phone"}),n.jsx(fe,{id:"phone",type:"tel",value:h.phone,onChange:ve=>x({...h,phone:ve.target.value}),placeholder:"+36 20 123 4567",className:"h-11"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border/30",children:[n.jsx(p7,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Account Settings"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"type",className:"text-sm font-medium",children:"Client Type"}),n.jsxs(at,{value:h.type,onValueChange:ve=>x({...h,type:ve}),children:[n.jsx(nt,{id:"type",className:"h-11",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"Investor",children:"Investor"}),n.jsx(ne,{value:"Buy2Rent Internal",children:"Buy2Rent Internal"}),n.jsx(ne,{value:"Company",children:"Company"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"status",className:"text-sm font-medium",children:"Account Status"}),n.jsxs(at,{value:h.account_status,onValueChange:ve=>x({...h,account_status:ve}),children:[n.jsx(nt,{id:"status",className:"h-11",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"Active",children:"Active"}),n.jsx(ne,{value:"Inactive",children:"Inactive"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border/30",children:[n.jsx(An,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Additional Information"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"notes",className:"text-sm font-medium",children:"Notes"}),n.jsx(gn,{id:"notes",value:h.notes,onChange:ve=>x({...h,notes:ve.target.value}),placeholder:"Add any additional notes or comments about this client...",className:"min-h-[100px] resize-none"})]})]})]}),n.jsxs(Ba,{className:"pt-6 border-t border-border/50 gap-3",children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>m(!1),className:"flex-1 h-11",children:"Cancel"}),n.jsx(te,{type:"submit",className:"flex-1 h-11 bg-primary hover:bg-primary/90",disabled:w.isPending,children:w.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save Changes"]})})]})]})})})]})},El=ir.create({baseURL:Yi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});El.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));El.interceptors.response.use(e=>e,async e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const cc={getApartments:async e=>(await El.get("/apartments/",{params:e})).data,getApartment:async e=>(await El.get(`/apartments/${e}/`)).data,createApartment:async e=>(await El.post("/apartments/",e)).data,updateApartment:async(e,t)=>(await El.put(`/apartments/${e}/`,t)).data,patchApartment:async(e,t)=>(await El.patch(`/apartments/${e}/`,t)).data,deleteApartment:async e=>{await El.delete(`/apartments/${e}/`)},getApartmentStatistics:async e=>(await El.get(`/apartments/${e}/statistics/`)).data,getApartmentActivities:async e=>(await El.get(`/apartments/${e}/activities/`)).data},Ga={all:["apartments"],lists:()=>[...Ga.all,"list"],list:e=>[...Ga.lists(),e],details:()=>[...Ga.all,"detail"],detail:e=>[...Ga.details(),e],statistics:e=>[...Ga.all,"statistics",e],activities:e=>[...Ga.all,"activities",e]};function oBe(e,t){const[r,s]=v.useState(e);return v.useEffect(()=>{const a=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function d3(e){const t=oBe(e==null?void 0:e.search,300),r={...e,search:t};return ws({queryKey:Ga.list(r),queryFn:()=>cc.getApartments(r),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:s=>s})}function u3(e){return ws({queryKey:Ga.detail(e),queryFn:()=>cc.getApartment(e),enabled:!!e,staleTime:5*60*1e3})}function lBe(){const e=qr(),{toast:t}=pr();return un({mutationFn:r=>cc.createApartment(r),onSuccess:r=>{e.invalidateQueries({queryKey:Ga.lists()}),t({title:"Success",description:`Apartment "${r.name}" created successfully`})},onError:r=>{t({title:"Error creating apartment",description:r.message||"Something went wrong",variant:"destructive"})}})}function cBe(){const e=qr(),{toast:t}=pr();return un({mutationFn:({id:r,data:s})=>cc.updateApartment(r,s),onSuccess:r=>{e.invalidateQueries({queryKey:Ga.lists()}),e.invalidateQueries({queryKey:Ga.detail(r.id)}),t({title:"Success",description:`Apartment "${r.name}" updated successfully`})},onError:r=>{t({title:"Error updating apartment",description:r.message||"Something went wrong",variant:"destructive"})}})}function dBe(){const e=qr(),{toast:t}=pr();return un({mutationFn:({id:r})=>cc.deleteApartment(r),onSuccess:(r,s)=>{e.invalidateQueries({queryKey:Ga.lists()}),t({title:"Success",description:`Apartment "${s.name}" deleted successfully`})},onError:r=>{t({title:"Error deleting apartment",description:r.message||"Something went wrong",variant:"destructive"})}})}function uBe(e){return ws({queryKey:Ga.statistics(e),queryFn:()=>cc.getApartmentStatistics(e),enabled:!!e,staleTime:2*60*1e3,refetchOnWindowFocus:!1})}function fBe(e){return ws({queryKey:Ga.activities(e),queryFn:()=>cc.getApartmentActivities(e),enabled:!!e,staleTime:1*60*1e3,refetchOnWindowFocus:!1})}const jc=ir.create({baseURL:Yi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});jc.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));jc.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});const To={getVendors:async e=>{const t=e?{search:e}:{};return(await jc.get("/vendors/",{params:t})).data},getVendor:async e=>(await jc.get(`/vendors/${e}/`)).data,createVendor:async e=>(await jc.post("/vendors/",e)).data,updateVendor:async(e,t)=>(await jc.patch(`/vendors/${e}/`,t)).data,deleteVendor:async e=>{await jc.delete(`/vendors/${e}/`)},getVendorProducts:async e=>(await jc.get(`/vendors/${e}/products/`)).data,removeVendorProduct:async(e,t)=>{await jc.delete(`/vendors/${e}/products/${t}/`)}},nd={vendors:["vendors"],vendor:e=>["vendors",e],vendorProducts:e=>["vendors",e,"products"]};function pm(e){return ws({queryKey:nd.vendors,queryFn:()=>To.getVendors(e),staleTime:10*60*1e3,retry:1,refetchOnWindowFocus:!1})}function CX(e){return ws({queryKey:nd.vendor(e),queryFn:()=>To.getVendor(e),enabled:!!e,staleTime:10*60*1e3,retry:1,refetchOnWindowFocus:!1})}function mBe(){const e=qr();return un({mutationFn:t=>To.createVendor(t),onSuccess:()=>{e.invalidateQueries({queryKey:nd.vendors}),Be.success("Vendor created successfully")},onError:t=>{var s,a;const r=((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||t.message||"Failed to create vendor";Be.error(r),console.error("Create vendor error:",t)}})}function hBe(){const e=qr();return un({mutationFn:({id:t,data:r})=>To.updateVendor(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:nd.vendors}),e.invalidateQueries({queryKey:nd.vendor(r.id)}),Be.success("Vendor updated successfully")},onError:t=>{var s,a;const r=((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||t.message||"Failed to update vendor";Be.error(r),console.error("Update vendor error:",t)}})}function AX(){const e=qr();return un({mutationFn:t=>To.deleteVendor(t),onSuccess:()=>{e.invalidateQueries({queryKey:nd.vendors}),Be.success("Vendor deleted successfully")},onError:t=>{var s,a;const r=((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||t.message||"Failed to delete vendor";Be.error(r),console.error("Delete vendor error:",t)}})}function pBe(e){return ws({queryKey:nd.vendorProducts(e),queryFn:()=>To.getVendorProducts(e),enabled:!!e,staleTime:5*60*1e3,retry:1,refetchOnWindowFocus:!1})}function xBe(e){const t=qr();return un({mutationFn:r=>To.removeVendorProduct(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:nd.vendorProducts(e)}),t.invalidateQueries({queryKey:nd.vendor(e)}),Be.success("Product removed from vendor successfully")},onError:r=>{var a,i;const s=((i=(a=r.response)==null?void 0:a.data)==null?void 0:i.message)||r.message||"Failed to remove product";Be.error(s),console.error("Remove product error:",r)}})}const Fs=ir.create({baseURL:Yi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});Fs.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Fs.interceptors.response.use(e=>e,async e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const Wi={getProducts:async e=>(await Fs.get("/products/",{params:e})).data,getProductsByApartment:async(e,t)=>(await Fs.get("/products/by_apartment/",{params:{apartment_id:e,...t}})).data,getProductsByCategory:async e=>(await Fs.get("/products/by_category/",{params:e})).data,getProduct:async e=>(await Fs.get(`/products/${e}/`)).data,createProduct:async e=>{const t=e instanceof FormData?{headers:{"Content-Type":void 0}}:{};return(await Fs.post("/products/",e,t)).data},updateProduct:async(e,t)=>{const r=t instanceof FormData?{headers:{"Content-Type":void 0}}:{};return(await Fs.patch(`/products/${e}/`,t,r)).data},deleteProduct:async e=>{await Fs.delete(`/products/${e}/`)},getProductCategories:async e=>(await Fs.get("/products/categories/",{params:{apartment_id:e}})).data,createCategory:async e=>(await Fs.post("/products/create_category/",{...e,sheet_name:e.sheet_name||e.name})).data,importProducts:async(e,t,r)=>{console.log(" DEBUG productApi: Received parameters:",{file:e.name,apartmentId:t,vendorId:r});const s=new FormData;s.append("file",e),s.append("apartment_id",t),s.append("vendor_id",r),console.log(" DEBUG productApi: FormData contents:");for(let[i,o]of s.entries())console.log(`  ${i}:`,o);return(await Fs.post("/products/import_excel/",s,{headers:{"Content-Type":"multipart/form-data"}})).data},getImportSessions:async e=>(await Fs.get("/products/import_sessions/",{params:{apartment:e}})).data,deleteImportSession:async e=>{await Fs.delete(`/products/delete_import_session/${e}/`)},downloadImportTemplate:async()=>(await Fs.get("/products/import_template/",{responseType:"blob"})).data,getProductStatistics:async e=>(await Fs.get("/products/statistics/",{params:e?{apartment:e}:void 0})).data,createApartmentAndImport:async e=>{const t=new FormData;return t.append("file",e.file),t.append("apartment_name",e.apartment_name),e.apartment_type&&t.append("apartment_type",e.apartment_type),e.owner&&t.append("owner",e.owner),e.status&&t.append("status",e.status),e.designer&&t.append("designer",e.designer),e.start_date&&t.append("start_date",e.start_date),e.due_date&&t.append("due_date",e.due_date),e.address&&t.append("address",e.address),e.vendor_id&&t.append("vendor_id",e.vendor_id),(await Fs.post("/products/create_apartment_and_import/",t,{headers:{"Content-Type":"multipart/form-data"}})).data}},gBe=()=>{const e=dr(),[t,r]=EN(),{toast:s}=pr(),[a,i]=v.useState(""),[o,l]=v.useState("all"),[c,d]=v.useState(!1),[u,f]=v.useState([]),[m,h]=v.useState(!1),[x,p]=v.useState(!1),[g,j]=v.useState({}),[y,w]=v.useState({open:!1,id:"",name:""}),[b,N]=v.useState({name:"",type:"furnishing",client:"",address:"",status:"Planning",designer:"",start_date:"",due_date:"",vendor:""}),_=t.get("type")||"furnishing",C=B=>{B&&r({type:B})},{data:A,isLoading:E,error:k,refetch:O}=d3({search:a||void 0,type:_!=="all"?_:void 0,status:o!=="all"?o:void 0}),I=dBe(),{data:W,isLoading:H}=H2({page_size:100,ordering:"name"}),{data:F,isLoading:T}=pm(),P=(F==null?void 0:F.results)||[],M=v.useMemo(()=>(A==null?void 0:A.results)||[],[A==null?void 0:A.results]),D=v.useMemo(()=>{const B=(A==null?void 0:A.results)||[],X=B.length,oe=B.filter(Te=>Te.type==="furnishing").length,Ne=B.filter(Te=>Te.type==="renovating").length,ue=B.filter(Te=>Te.status==="Planning").length,ve=B.filter(Te=>Te.status==="Ordering").length,xe=B.filter(Te=>Te.status==="Delivery").length,Ee=B.filter(Te=>Te.status==="Completed").length,Me=X-Ee;return{totalApartments:X,furnishingCount:oe,renovatingCount:Ne,planningCount:ue,orderingCount:ve,deliveryCount:xe,completeCount:Ee,inProgressCount:Me}},[A==null?void 0:A.results]),Y=()=>{const B={};if(b.name.trim()?b.name.trim().length<3&&(B.name="Apartment name must be at least 3 characters"):B.name="Apartment name is required",b.client||(B.client="Client selection is required"),b.address.trim()?b.address.trim().length<10&&(B.address="Please provide a complete address (minimum 10 characters)"):B.address="Address is required",b.start_date||(B.start_date="Start date is required"),b.due_date||(B.due_date="Due date is required"),b.start_date&&b.due_date){const X=new Date(b.start_date);new Date(b.due_date)<=X&&(B.due_date="Due date must be after start date")}return j(B),Object.keys(B).length===0},ae=B=>{var ue;const X=(ue=B.name.split(".").pop())==null?void 0:ue.toLowerCase(),oe=["xlsx","xls","csv"],Ne=50*1024*1024;return oe.includes(X||"")?B.size>Ne?{valid:!1,error:`File too large: ${B.name}. Maximum size is 50MB.`}:B.size===0?{valid:!1,error:`Empty file: ${B.name}. Please select a valid file.`}:{valid:!0}:{valid:!1,error:`Invalid file type: ${B.name}. Only Excel (.xlsx, .xls) and CSV (.csv) files are allowed.`}},R=async()=>{var B,X;if(j({}),!Y()){s({title:"Validation Error",description:"Please fix the errors in the form before submitting.",variant:"destructive"});return}if(u.length>0)for(const oe of u){const Ne=ae(oe);if(!Ne.valid){s({title:"File Validation Error",description:Ne.error,variant:"destructive"});return}}p(!0);try{if(u.length===0){s({title:"File Required",description:"Please upload an Excel or CSV file to import products.",variant:"destructive"}),p(!1);return}const oe=await Wi.createApartmentAndImport({file:u[0],apartment_name:b.name,apartment_type:b.type,owner:b.client,status:b.status,designer:b.designer,start_date:b.start_date,due_date:b.due_date,address:b.address,vendor_id:b.vendor||void 0});if(oe.success)s({title:"Success!",description:n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-semibold",children:oe.message}),n.jsxs("p",{className:"text-sm",children:["Apartment: ",oe.data.apartment_name]}),n.jsxs("p",{className:"text-sm",children:["Products imported: ",oe.data.successful_imports," / ",oe.data.total_products]}),oe.data.failed_imports>0&&n.jsxs("p",{className:"text-sm text-yellow-600",children:["Failed: ",oe.data.failed_imports]}),oe.data.errors.length>0&&n.jsxs("p",{className:"text-sm text-red-600",children:["Errors: ",oe.data.errors.join(", ")]})]})}),V(),d(!1),O(),setTimeout(()=>{e(`/apartments/${oe.data.apartment_id}`)},1e3);else throw new Error(oe.message||"Import failed")}catch(oe){console.error("Import error:",oe),s({title:"Error",description:((X=(B=oe.response)==null?void 0:B.data)==null?void 0:X.message)||oe.message||"Failed to create apartment and import products. Please try again.",variant:"destructive"})}finally{p(!1)}},V=()=>{N({name:"",type:"furnishing",client:"",address:"",status:"Planning",designer:"",start_date:"",due_date:"",vendor:""}),f([]),j({})},L=B=>{const X=Array.from(B),oe=[];for(const Ne of X){const ue=ae(Ne);ue.valid?oe.push(Ne):s({title:"File Validation Error",description:ue.error,variant:"destructive"})}oe.length>0&&f(Ne=>[...Ne,...oe])},K=(B,X)=>{w({open:!0,id:B,name:X})},le=async()=>{try{await I.mutateAsync({id:y.id,name:y.name}),w({open:!1,id:"",name:""})}catch(B){console.error("Delete failed:",B)}},me=B=>({Planning:"bg-blue-500/10 text-blue-500",Ordering:"bg-yellow-500/10 text-yellow-500",Delivery:"bg-purple-500/10 text-purple-500",Complete:"bg-green-500/10 text-green-500"})[B]||"bg-gray-500/10 text-gray-500";return n.jsx(dt,{title:"Apartments",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[n.jsx(Z,{className:"border-border/50 bg-gradient-to-br from-background to-muted/20",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Total"}),n.jsx("p",{className:"text-2xl font-bold mt-1",children:D.totalApartments})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx(cr,{className:"h-5 w-5 text-primary"})})]})})}),n.jsx(Z,{className:"border-border/50 bg-gradient-to-br from-background to-yellow-500/5",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Furnishing"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-yellow-600",children:D.furnishingCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-yellow-500/10 flex items-center justify-center",children:n.jsx(Dse,{className:"h-5 w-5 text-yellow-500"})})]})})}),n.jsx(Z,{className:"border-border/50 bg-gradient-to-br from-background to-orange-500/5",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Renovating"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-orange-600",children:D.renovatingCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-orange-500/10 flex items-center justify-center",children:n.jsx(yse,{className:"h-5 w-5 text-orange-500"})})]})})}),n.jsx(Z,{className:"border-border/50 bg-gradient-to-br from-background to-blue-500/5",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"In Progress"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-blue-600",children:D.inProgressCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-blue-500/10 flex items-center justify-center",children:n.jsx(jr,{className:"h-5 w-5 text-blue-500"})})]})})}),n.jsx(Z,{className:"border-border/50 bg-gradient-to-br from-background to-green-500/5",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Completed"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-green-600",children:D.completeCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-green-500/10 flex items-center justify-center",children:n.jsx(Br,{className:"h-5 w-5 text-green-500"})})]})})}),n.jsx(Z,{className:"border-border/50 bg-gradient-to-br from-background to-purple-500/5",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Delivery"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-purple-600",children:D.deliveryCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-purple-500/10 flex items-center justify-center",children:n.jsx(ct,{className:"h-5 w-5 text-purple-500"})})]})})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[n.jsxs("div",{className:"flex gap-2 flex-1 max-w-md",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{placeholder:"Search apartments...",value:a,onChange:B=>i(B.target.value),className:"pl-9"})]}),n.jsxs(at,{value:o,onValueChange:l,children:[n.jsx(nt,{className:"w-[140px]",children:n.jsx(it,{placeholder:"Status"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"all",children:"All Status"}),n.jsx(ne,{value:"Planning",children:"Planning"}),n.jsx(ne,{value:"Ordering",children:"Ordering"}),n.jsx(ne,{value:"Delivery",children:"Delivery"}),n.jsx(ne,{value:"Complete",children:"Complete"}),n.jsx(ne,{value:"Design Approved",children:"Design Approved"}),n.jsx(ne,{value:"Renovating",children:"Renovating"})]})]})]}),n.jsxs("div",{className:"flex gap-3 items-center",children:[n.jsx(te,{variant:_==="furnishing"?"default":"outline",onClick:()=>C("furnishing"),className:_==="furnishing"?"bg-yellow-500 hover:bg-yellow-600 text-white":"",children:"Furnishing"}),n.jsx(te,{variant:_==="renovating"?"default":"outline",onClick:()=>C("renovating"),children:"Renovating"}),n.jsxs(te,{variant:"outline",onClick:()=>d(!0),children:[n.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Import Data"]}),n.jsxs(te,{onClick:()=>e("/apartments/new"),className:"bg-cyan-500 hover:bg-cyan-600",children:[n.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Add Apartment"]})]})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ue,{children:["All Apartments (",(A==null?void 0:A.count)||0,")"]}),n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>O(),disabled:E,children:n.jsx(Sf,{className:`h-4 w-4 ${E?"animate-spin":""}`})})]})}),n.jsx(J,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Os,{children:[n.jsx(Ds,{children:n.jsxs(Ut,{children:[n.jsx(ke,{children:"Apartment Name"}),n.jsx(ke,{children:"Type"}),n.jsx(ke,{children:"Clients"}),n.jsx(ke,{children:"Address"}),n.jsx(ke,{children:"Status"}),n.jsx(ke,{children:"Designer"}),n.jsx(ke,{children:"Start Date"}),n.jsx(ke,{children:"Due Date"}),n.jsx(ke,{className:"text-right",children:"Actions"})]})}),n.jsx(Is,{children:E?Array.from({length:3}).map((B,X)=>n.jsxs(Ut,{children:[n.jsx(Se,{children:n.jsx(S,{className:"h-4 w-32"})}),n.jsx(Se,{children:n.jsx(S,{className:"h-4 w-20"})}),n.jsx(Se,{children:n.jsx(S,{className:"h-4 w-24"})}),n.jsx(Se,{children:n.jsx(S,{className:"h-4 w-40"})}),n.jsx(Se,{children:n.jsx(S,{className:"h-4 w-20"})}),n.jsx(Se,{children:n.jsx(S,{className:"h-4 w-24"})}),n.jsx(Se,{children:n.jsx(S,{className:"h-4 w-20"})}),n.jsx(Se,{children:n.jsx(S,{className:"h-4 w-20"})}),n.jsx(Se,{children:n.jsx(S,{className:"h-4 w-16"})}),n.jsx(Se,{children:n.jsx(S,{className:"h-4 w-20"})})]},X)):k?n.jsx(Ut,{children:n.jsx(Se,{colSpan:10,className:"text-center py-8 text-destructive",children:"Error loading apartments. Please try again."})}):M.length===0?n.jsx(Ut,{children:n.jsx(Se,{colSpan:10,className:"text-center py-8 text-muted-foreground",children:"No apartments found. Try adjusting your filters or add a new apartment."})}):M.map(B=>{var X;return n.jsxs(Ut,{children:[n.jsx(Se,{className:"font-medium",children:B.name}),n.jsx(Se,{children:n.jsx(Ae,{variant:"outline",className:"capitalize",children:B.type})}),n.jsx(Se,{children:((X=B.client_details)==null?void 0:X.name)||"N/A"}),n.jsx(Se,{className:"max-w-[200px] truncate",children:B.address}),n.jsx(Se,{children:n.jsx(Ae,{className:me(B.status),children:B.status})}),n.jsx(Se,{children:B.designer}),n.jsx(Se,{children:B.start_date}),n.jsx(Se,{children:B.due_date}),n.jsx(Se,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(te,{size:"sm",variant:"ghost",onClick:()=>e(`/apartments/${B.id}`),children:n.jsx(ti,{className:"h-4 w-4"})}),n.jsx(te,{size:"sm",variant:"ghost",onClick:()=>e(`/apartments/${B.id}/edit`),children:n.jsx(Gs,{className:"h-4 w-4"})}),n.jsx(te,{size:"sm",variant:"ghost",onClick:()=>K(B.id,B.name),children:n.jsx(xn,{className:"h-4 w-4"})})]})})]},B.id)})})]})})})]}),n.jsx(Zr,{open:c,onOpenChange:d,children:n.jsxs(Hr,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Jr,{children:[n.jsx(en,{className:"text-xl",children:"Create Apartment & Import Data"}),n.jsx(ss,{children:"Fill in the apartment details and upload Excel (.xlsx, .xls) or CSV (.csv) files to import product data."})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Apartment Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"apt-name",children:["Apartment Name ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(fe,{id:"apt-name",placeholder:"Enter apartment name",value:b.name,onChange:B=>{N({...b,name:B.target.value}),g.name&&j({...g,name:""})},className:g.name?"border-destructive":""}),g.name&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"apt-type",children:["Type ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(at,{value:b.type,onValueChange:B=>N({...b,type:B}),children:[n.jsx(nt,{id:"apt-type",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"furnishing",children:"Furnishing"}),n.jsx(ne,{value:"renovating",children:"Renovating"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"apt-owner",children:["Clients ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(at,{value:b.client,onValueChange:B=>{N({...b,client:B}),g.client&&j({...g,client:""})},disabled:H,children:[n.jsx(nt,{id:"apt-client",className:g.client?"border-destructive":"",children:n.jsx(it,{placeholder:H?"Loading clients...":"Select client"})}),n.jsx(st,{children:W!=null&&W.results&&W.results.length>0?W.results.map(B=>n.jsx(ne,{value:B.id,children:B.name},B.id)):n.jsx(ne,{value:"no-clients",disabled:!0,children:"No clients available"})})]}),g.client&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.client})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"apt-status",children:["Status ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(at,{value:b.status,onValueChange:B=>N({...b,status:B}),children:[n.jsx(nt,{id:"apt-status",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"Planning",children:"Planning"}),n.jsx(ne,{value:"Design Approved",children:"Design Approved"}),n.jsx(ne,{value:"Ordering",children:"Ordering"}),n.jsx(ne,{value:"Delivery",children:"Delivery"}),n.jsx(ne,{value:"Installation",children:"Installation"}),n.jsx(ne,{value:"Completed",children:"Completed"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"apt-designer",children:"Designer"}),n.jsx(fe,{id:"apt-designer",placeholder:"Enter designer name",value:b.designer,onChange:B=>N({...b,designer:B.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"apt-start",children:["Start Date ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(fe,{id:"apt-start",type:"date",value:b.start_date,onChange:B=>{N({...b,start_date:B.target.value}),g.start_date&&j({...g,start_date:""})},className:g.start_date?"border-destructive":""}),g.start_date&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.start_date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"apt-due",children:["Due Date ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(fe,{id:"apt-due",type:"date",value:b.due_date,onChange:B=>{N({...b,due_date:B.target.value}),g.due_date&&j({...g,due_date:""})},className:g.due_date?"border-destructive":""}),g.due_date&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.due_date})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"apt-address",children:["Address ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(gn,{id:"apt-address",placeholder:"Enter complete address",value:b.address,onChange:B=>{N({...b,address:B.target.value}),g.address&&j({...g,address:""})},rows:3,className:g.address?"border-destructive":""}),g.address&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.address})]})]}),n.jsxs("div",{className:"space-y-4 bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Import Product Data"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Upload Excel or CSV files containing product information for this apartment."})]}),n.jsxs(te,{variant:"outline",size:"sm",className:"gap-2",onClick:async()=>{try{const B=await Wi.downloadImportTemplate(),X=window.URL.createObjectURL(B),oe=document.createElement("a");oe.href=X,oe.download="apartment-template.xlsx",document.body.appendChild(oe),oe.click(),window.URL.revokeObjectURL(X),document.body.removeChild(oe),s({title:"Success",description:"Template downloaded successfully"})}catch{s({title:"Error",description:"Failed to download template",variant:"destructive"})}},children:[n.jsx(Iv,{className:"h-4 w-4"}),"Download Template"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"apt-vendor",children:"Vendor (Optional)"}),n.jsxs(at,{value:b.vendor,onValueChange:B=>N({...b,vendor:B}),disabled:T,children:[n.jsx(nt,{id:"apt-vendor",children:n.jsx(it,{placeholder:T?"Loading vendors...":"Select a vendor (optional)"})}),n.jsx(st,{children:P.length>0?P.map(B=>n.jsx(ne,{value:B.id,children:B.name},B.id)):n.jsx(ne,{value:"no-vendors",disabled:!0,children:"No vendors available"})})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Optionally assign a vendor to all imported products"})]}),n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${m?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onDragEnter:B=>{B.preventDefault(),B.stopPropagation(),h(!0)},onDragLeave:B=>{B.preventDefault(),B.stopPropagation(),h(!1)},onDragOver:B=>{B.preventDefault(),B.stopPropagation()},onDrop:B=>{B.preventDefault(),B.stopPropagation(),h(!1),B.dataTransfer.files&&L(B.dataTransfer.files)},children:[n.jsx(pse,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("p",{className:"text-base font-medium mb-1",children:"Drag & drop files here"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"or click to browse"}),n.jsxs("label",{htmlFor:"file-upload",children:[n.jsx(te,{variant:"outline",size:"sm",className:"gap-2",asChild:!0,children:n.jsxs("span",{children:[n.jsx(Ui,{className:"h-4 w-4"}),"Choose Files"]})}),n.jsx("input",{id:"file-upload",type:"file",className:"hidden",accept:".xlsx,.xls,.csv",multiple:!0,onChange:B=>{B.target.files&&L(B.target.files)}})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum file size: 50MB. Supported formats: Excel (.xlsx, .xls) and CSV (.csv)"}),u.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm font-medium",children:["Uploaded Files (",u.length,")"]}),u.map((B,X)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Br,{className:"h-5 w-5 text-green-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:B.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[(B.size/1024).toFixed(2)," KB"]})]})]}),n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>{f(u.filter((oe,Ne)=>Ne!==X))},children:n.jsx(us,{className:"h-4 w-4"})})]},X))]})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(te,{variant:"outline",onClick:()=>{d(!1),V()},disabled:x,children:"Cancel"}),n.jsx(te,{variant:"outline",onClick:V,disabled:x,children:"Reset Form"})]}),n.jsx(te,{className:"bg-blue-600 hover:bg-blue-700 gap-2",onClick:R,disabled:x,children:x?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Gn,{className:"h-4 w-4"}),"Create Apartment & Import Data"]})})]})]})}),n.jsx(lc,{open:y.open,onOpenChange:B=>!B&&w({open:!1,id:"",name:""}),children:n.jsxs(pl,{children:[n.jsx(xl,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(ni,{className:"h-6 w-6 text-destructive"})}),n.jsxs("div",{children:[n.jsx(vl,{className:"text-xl",children:"Delete Apartment"}),n.jsx(yl,{className:"mt-1",children:"This action cannot be undone."})]})]})}),n.jsx("div",{className:"py-4",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to delete"," ",n.jsxs("span",{className:"font-semibold text-foreground",children:['"',y.name,'"']}),"? This will permanently remove the apartment and all associated products from the system."]})}),n.jsxs(gl,{children:[n.jsx(bl,{autoFocus:!1,children:"Cancel"}),n.jsx(jl,{onClick:le,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",autoFocus:!0,children:"Delete Apartment"})]})]})})]})})};var f3="Radio",[vBe,EX]=Zs(f3),[yBe,jBe]=vBe(f3),PX=v.forwardRef((e,t)=>{const{__scopeRadio:r,name:s,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[f,m]=v.useState(null),h=Dt(t,g=>m(g)),x=v.useRef(!1),p=f?d||!!f.closest("form"):!0;return n.jsxs(yBe,{scope:r,checked:a,disabled:o,children:[n.jsx(ft.button,{type:"button",role:"radio","aria-checked":a,"data-state":OX(a),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:h,onClick:Ge(e.onClick,g=>{a||c==null||c(),p&&(x.current=g.isPropagationStopped(),x.current||g.stopPropagation())})}),p&&n.jsx(bBe,{control:f,bubbles:!x.current,name:s,value:l,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});PX.displayName=f3;var kX="RadioIndicator",TX=v.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:s,...a}=e,i=jBe(kX,r);return n.jsx(ns,{present:s||i.checked,children:n.jsx(ft.span,{"data-state":OX(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});TX.displayName=kX;var bBe=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,i=v.useRef(null),o=U2(r),l=yN(t);return v.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&f){const m=new Event("click",{bubbles:s});f.call(c,r),c.dispatchEvent(m)}},[o,r,s]),n.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function OX(e){return e?"checked":"unchecked"}var wBe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],m3="RadioGroup",[NBe,Hnt]=Zs(m3,[Yp,EX]),DX=Yp(),IX=EX(),[_Be,SBe]=NBe(m3),RX=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:s,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:f,...m}=e,h=DX(r),x=om(d),[p,g]=Oa({prop:i,defaultProp:a,onChange:f});return n.jsx(_Be,{scope:r,name:s,required:o,disabled:l,value:p,onValueChange:g,children:n.jsx(fT,{asChild:!0,...h,orientation:c,dir:x,loop:u,children:n.jsx(ft.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...m,ref:t})})})});RX.displayName=m3;var MX="RadioGroupItem",FX=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:s,...a}=e,i=SBe(MX,r),o=i.disabled||s,l=DX(r),c=IX(r),d=v.useRef(null),u=Dt(t,d),f=i.value===a.value,m=v.useRef(!1);return v.useEffect(()=>{const h=p=>{wBe.includes(p.key)&&(m.current=!0)},x=()=>m.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",x)}},[]),n.jsx(mT,{asChild:!0,...l,focusable:!o,active:f,children:n.jsx(PX,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:Ge(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:Ge(a.onFocus,()=>{var h;m.current&&((h=d.current)==null||h.click())})})})});FX.displayName=MX;var CBe="RadioGroupIndicator",$X=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...s}=e,a=IX(r);return n.jsx(TX,{...a,...s,ref:t})});$X.displayName=CBe;var LX=RX,BX=FX,ABe=$X;const h3=v.forwardRef(({className:e,...t},r)=>n.jsx(LX,{className:ge("grid gap-2",e),...t,ref:r}));h3.displayName=LX.displayName;const lv=v.forwardRef(({className:e,...t},r)=>n.jsx(BX,{ref:r,className:ge("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(ABe,{className:"flex items-center justify-center",children:n.jsx(v7,{className:"h-2.5 w-2.5 fill-current text-current"})})}));lv.displayName=BX.displayName;const EBe=()=>{const e=dr(),{toast:t}=pr(),{data:r,isLoading:s}=H2({}),a=(r==null?void 0:r.results)||[],i=lBe(),[o,l]=v.useState({name:"",type:"furnishing",client:"",address:"",designer:"",status:"Planning",start_date:"",due_date:"",progress:0,notes:""}),[c,d]=v.useState({}),u=()=>{const m={};return o.name.trim()||(m.name="Apartment name is required"),o.client||(m.client="Client selection is required"),o.address.trim()||(m.address="Address is required"),o.designer.trim()||(m.designer="Designer is required"),o.start_date||(m.start_date="Start date is required"),o.due_date||(m.due_date="Due date is required"),o.start_date&&o.due_date&&new Date(o.due_date)<new Date(o.start_date)&&(m.due_date="Due date must be after start date"),d(m),Object.keys(m).length===0},f=async m=>{var h,x;if(m.preventDefault(),!u()){t({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{await i.mutateAsync(o),t({title:"Success",description:`${o.name} has been created successfully.`}),e("/apartments?type="+o.type)}catch(p){t({title:"Error",description:((x=(h=p.response)==null?void 0:h.data)==null?void 0:x.message)||"Failed to create apartment. Please try again.",variant:"destructive"})}};return n.jsx(dt,{title:"New Apartment",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ra,{children:n.jsxs(Ma,{children:[n.jsx(Jt,{children:n.jsx(Xn,{href:"/apartments",children:"Apartments"})}),n.jsx(Sn,{}),n.jsx(Jt,{children:n.jsx(hi,{children:"New Apartment"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>e("/apartments"),children:n.jsx(tr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"New Apartment"})]}),n.jsx("form",{onSubmit:f,children:n.jsxs(Z,{children:[n.jsx(we,{children:n.jsx(Ue,{children:"Apartment Details"})}),n.jsxs(J,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"name",children:"Apartment Name *"}),n.jsx(fe,{id:"name",value:o.name,onChange:m=>l({...o,name:m.target.value}),placeholder:"Izabella utca 3  A/12"}),c.name&&n.jsx("p",{className:"text-sm text-destructive",children:c.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Type *"}),n.jsx(h3,{value:o.type,onValueChange:m=>l({...o,type:m}),children:n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(lv,{value:"furnishing",id:"furnishing"}),n.jsx(G,{htmlFor:"furnishing",className:"font-normal cursor-pointer",children:"Furnishing"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(lv,{value:"renovating",id:"renovating"}),n.jsx(G,{htmlFor:"renovating",className:"font-normal cursor-pointer",children:"Renovating"})]})]})})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"client",children:"Client/Owner *"}),n.jsxs(at,{value:o.client,onValueChange:m=>l({...o,client:m}),disabled:s,children:[n.jsx(nt,{id:"client",children:n.jsx(it,{placeholder:s?"Loading clients...":"Select client"})}),n.jsx(st,{children:a.map(m=>n.jsxs(ne,{value:m.id,children:[m.name," - ",m.type]},m.id))})]}),c.client&&n.jsx("p",{className:"text-sm text-destructive",children:c.client})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"designer",children:"Assigned Designer *"}),n.jsx(fe,{id:"designer",value:o.designer,onChange:m=>l({...o,designer:m.target.value}),placeholder:"Enter designer name"}),c.designer&&n.jsx("p",{className:"text-sm text-destructive",children:c.designer})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"address",children:"Address *"}),n.jsx(fe,{id:"address",value:o.address,onChange:m=>l({...o,address:m.target.value}),placeholder:"Izabella u. 3, Budapest"}),c.address&&n.jsx("p",{className:"text-sm text-destructive",children:c.address})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"status",children:"Status"}),n.jsxs(at,{value:o.status,onValueChange:m=>l({...o,status:m}),children:[n.jsx(nt,{id:"status",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"Planning",children:"Planning"}),n.jsx(ne,{value:"Design Approved",children:"Design Approved"}),n.jsx(ne,{value:"Ordering",children:"Ordering"}),n.jsx(ne,{value:"Delivery",children:"Delivery"}),n.jsx(ne,{value:"Renovating",children:"Renovating"}),n.jsx(ne,{value:"Complete",children:"Complete"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"start_date",children:"Start Date *"}),n.jsx(fe,{id:"start_date",type:"date",value:o.start_date,onChange:m=>l({...o,start_date:m.target.value})}),c.start_date&&n.jsx("p",{className:"text-sm text-destructive",children:c.start_date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"due_date",children:"Due Date *"}),n.jsx(fe,{id:"due_date",type:"date",value:o.due_date,onChange:m=>l({...o,due_date:m.target.value})}),c.due_date&&n.jsx("p",{className:"text-sm text-destructive",children:c.due_date})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"notes",children:"Notes"}),n.jsx(da,{id:"notes",value:o.notes,onChange:m=>l({...o,notes:m.target.value}),placeholder:"Additional notes about this apartment...",rows:4})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>e("/apartments"),children:"Cancel"}),n.jsx(te,{type:"submit",disabled:i.isPending,children:i.isPending?"Creating...":"Create Apartment"})]})]})]})})]})})},Vn={all:["products"],lists:()=>[...Vn.all,"list"],list:e=>[...Vn.lists(),e],details:()=>[...Vn.all,"detail"],detail:e=>[...Vn.details(),e],byApartment:e=>[...Vn.all,"apartment",e],byCategory:()=>[...Vn.all,"category"],categories:e=>[...Vn.all,"categories",e],statistics:e=>[...Vn.all,"statistics",e],importSessions:e=>[...Vn.all,"importSessions",e]};function UX(e,t){const[r,s]=v.useState(e);return v.useEffect(()=>{const a=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function VX(e){const t=UX(e==null?void 0:e.search,300),r={...e,search:t};return ws({queryKey:Vn.list(r),queryFn:()=>Wi.getProducts(r),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:s=>s})}function PBe(e,t){const r=UX(t==null?void 0:t.search,300),s={...t,search:r};return ws({queryKey:[...Vn.byApartment(e),s],queryFn:async()=>{const a=await Wi.getProductsByApartment(e,s);return Array.isArray(a)?a:[]},enabled:!!e,staleTime:5*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:a=>a})}function zX(e){return ws({queryKey:Vn.detail(e),queryFn:()=>Wi.getProduct(e),enabled:!!e,staleTime:5*60*1e3})}function kBe(){const e=qr(),{toast:t}=pr();return un({mutationFn:r=>Wi.createProduct(r),onSuccess:r=>{e.invalidateQueries({queryKey:Vn.lists()}),e.invalidateQueries({queryKey:Vn.byApartment(r.apartment)}),t({title:"Success",description:`Product "${r.product}" created successfully`})},onError:r=>{t({title:"Error creating product",description:r.message||"Something went wrong",variant:"destructive"})}})}function WX(){const e=qr(),{toast:t}=pr();return un({mutationFn:({id:r,data:s})=>Wi.updateProduct(r,s),onSuccess:r=>{e.invalidateQueries({queryKey:Vn.lists()}),e.invalidateQueries({queryKey:Vn.detail(r.id)}),e.invalidateQueries({queryKey:Vn.byApartment(r.apartment)}),t({title:"Success",description:`Product "${r.product}" updated successfully`})},onError:r=>{t({title:"Error updating product",description:r.message||"Something went wrong",variant:"destructive"})}})}function TBe(){const e=qr(),{toast:t}=pr();return un({mutationFn:({id:r})=>Wi.deleteProduct(r),onSuccess:(r,s)=>{e.invalidateQueries({queryKey:Vn.lists()}),e.invalidateQueries({queryKey:Vn.byApartment(s.apartmentId)}),t({title:"Success",description:`Product "${s.name}" deleted successfully`})},onError:r=>{t({title:"Error deleting product",description:r.message||"Something went wrong",variant:"destructive"})}})}function HX(e){return ws({queryKey:Vn.categories(e),queryFn:()=>Wi.getProductCategories(e),enabled:!!e,staleTime:0,gcTime:0,retry:1,refetchOnWindowFocus:!1})}function qX(){const e=qr(),{toast:t}=pr();return un({mutationFn:r=>Wi.createCategory(r),onSuccess:(r,s)=>{e.invalidateQueries({queryKey:Vn.categories(s.apartment)}),t({title:"Success",description:`Category "${r.name}" created successfully`})},onError:r=>{t({title:"Error creating category",description:r.message||"Something went wrong",variant:"destructive"})}})}const Va=ir.create({baseURL:Yi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});Va.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Va.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});const ps={getOrders:async e=>(await Va.get("/orders/",{params:e})).data,getOrder:async e=>(await Va.get(`/orders/${e}/`)).data,createOrder:async e=>(await Va.post("/orders/",e)).data,updateOrder:async(e,t)=>(await Va.patch(`/orders/${e}/`,t)).data,deleteOrder:async e=>{await Va.delete(`/orders/${e}/`)},getStatistics:async()=>(await Va.get("/orders/statistics/")).data,updateStatus:async(e,t)=>(await Va.patch(`/orders/${e}/update_status/`,{status:t})).data,markDelivered:async(e,t)=>(await Va.patch(`/orders/${e}/`,{status:"delivered",actual_delivery:t||new Date().toISOString().split("T")[0],is_delivered:!0})).data,getVendorOrders:async e=>(await Va.get("/orders/",{params:{vendor:e}})).data,getApartmentOrders:async e=>(await Va.get("/orders/",{params:{apartment:e}})).data,getDashboardCharts:async()=>(await Va.get("/dashboard/charts/")).data,importOrder:async e=>{const t=new FormData;return t.append("file",e.file),t.append("apartment_id",e.apartment_id),t.append("vendor_id",e.vendor_id),t.append("po_number",e.po_number),e.status&&t.append("status",e.status),e.confirmation_code&&t.append("confirmation_code",e.confirmation_code),e.tracking_number&&t.append("tracking_number",e.tracking_number),e.expected_delivery&&t.append("expected_delivery",e.expected_delivery),e.shipping_address&&t.append("shipping_address",e.shipping_address),e.notes&&t.append("notes",e.notes),(await Va.post("/orders/import_order/",t,{headers:{"Content-Type":"multipart/form-data"}})).data}},OBe=Object.freeze(Object.defineProperty({__proto__:null,orderApi:ps},Symbol.toStringTag,{value:"Module"})),so=ir.create({baseURL:Yi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});so.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));so.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const fd={getPayments:async e=>(await so.get("/payments/",{params:e})).data,getPayment:async e=>(await so.get(`/payments/${e}/`)).data,createPayment:async e=>(await so.post("/payments/",e)).data,createPaymentFromOrder:async e=>(await so.post("/payments/from-order/",e)).data,updatePayment:async(e,t)=>(await so.put(`/payments/${e}/`,t)).data,patchPayment:async(e,t)=>(await so.patch(`/payments/${e}/`,t)).data,deletePayment:async e=>{await so.delete(`/payments/${e}/`)},getPaymentHistory:async e=>{const t=e?{payment:e}:{},r=await so.get("/payment-history/",{params:t});return r.data.results||r.data},createPaymentHistory:async e=>(await so.post("/payment-history/",e)).data,deletePaymentHistory:async e=>{await so.delete(`/payment-history/${e}/`)}},xs={all:["payments"],lists:()=>[...xs.all,"list"],list:e=>[...xs.lists(),e],details:()=>[...xs.all,"detail"],detail:e=>[...xs.details(),e],history:e=>[...xs.all,"history",e]},p3=e=>ws({queryKey:xs.list(e),queryFn:()=>fd.getPayments(e)}),GX=e=>ws({queryKey:xs.detail(e),queryFn:()=>fd.getPayment(e),enabled:!!e}),DBe=()=>{const e=qr();return un({mutationFn:t=>fd.createPaymentFromOrder(t),onSuccess:()=>{e.invalidateQueries({queryKey:xs.lists()})}})},KX=()=>{const e=qr();return un({mutationFn:({id:t,data:r})=>fd.updatePayment(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:xs.lists()}),e.invalidateQueries({queryKey:xs.detail(t.id)})}})},IBe=()=>{const e=qr();return un({mutationFn:({id:t,data:r})=>fd.patchPayment(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:xs.lists()}),e.invalidateQueries({queryKey:xs.detail(t.id)})}})},RBe=()=>{const e=qr();return un({mutationFn:t=>fd.deletePayment(t),onSuccess:()=>{e.invalidateQueries({queryKey:xs.lists()})}})},x3=()=>{const e=qr();return un({mutationFn:t=>fd.createPaymentHistory(t),onSuccess:t=>{e.invalidateQueries({queryKey:xs.history(t.payment)}),e.invalidateQueries({queryKey:xs.lists()}),e.invalidateQueries({queryKey:xs.details()})}})},MBe=()=>{const e=qr();return un({mutationFn:t=>fd.deletePaymentHistory(t),onSuccess:()=>{e.invalidateQueries({queryKey:xs.history()}),e.invalidateQueries({queryKey:xs.lists()}),e.invalidateQueries({queryKey:xs.details()})}})},g3=({payment:e,open:t,onOpenChange:r,onSave:s})=>{var w;const[a,i]=v.useState(0),[o,l]=v.useState("Bank Transfer"),[c,d]=v.useState(""),[u,f]=v.useState(""),m=(e==null?void 0:e.total_amount)??(e==null?void 0:e.totalAmount)??0,h=(e==null?void 0:e.amount_paid)??(e==null?void 0:e.amountPaid)??0,x=(e==null?void 0:e.vendor_name)??((w=e==null?void 0:e.vendor_details)==null?void 0:w.name)??(e==null?void 0:e.vendor)??"Unknown",p=(e==null?void 0:e.order_reference)??(e==null?void 0:e.orderReference)??"";if(v.useEffect(()=>{if(t&&e){const b=(e==null?void 0:e.total_amount)??(e==null?void 0:e.totalAmount)??0,N=(e==null?void 0:e.amount_paid)??(e==null?void 0:e.amountPaid)??0,_=b-N;i(_>0?_:0),l("Bank Transfer"),d(""),f("")}},[t,e==null?void 0:e.id]),!e)return n.jsx(Zr,{open:t,onOpenChange:r,children:n.jsx(Hr,{className:"max-w-2xl",children:n.jsx(Jr,{children:n.jsx(en,{children:"Loading..."})})})});const g=m-h,j=g-a,y=()=>{if(!(a<=0)){if(a>g){alert("Payment amount cannot exceed remaining balance");return}s(a,o,c,u)}};return n.jsx(Zr,{open:t,onOpenChange:r,children:n.jsxs(Hr,{className:"max-w-2xl",children:[n.jsxs(Jr,{children:[n.jsxs(en,{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(br,{className:"h-5 w-5 text-primary"})}),"Record Payment"]}),n.jsxs(ss,{children:["Record a new payment for ",n.jsx("span",{className:"font-semibold",children:x})," - ",p]})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-muted/30 rounded-lg border",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-lg font-bold",children:[m.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Already Paid"}),n.jsxs("p",{className:"text-lg font-bold text-success",children:[h.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Remaining"}),n.jsxs("p",{className:"text-lg font-bold text-warning",children:[g.toLocaleString()," HUF"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"amount",className:"text-sm font-semibold",children:"Payment Amount *"}),n.jsxs("div",{className:"relative",children:[n.jsx(fe,{id:"amount",type:"number",value:a,onChange:b=>i(Number(b.target.value)),placeholder:"Enter amount",className:"text-lg font-semibold pr-16",min:0,max:g}),n.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground font-medium",children:"HUF"})]}),a>0&&n.jsxs("div",{className:"flex items-center justify-between text-sm px-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"New balance after payment:"}),n.jsxs("span",{className:`font-semibold ${j===0?"text-success":"text-warning"}`,children:[j.toLocaleString()," HUF"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"paymentMethod",className:"text-sm font-semibold",children:"Payment Method *"}),n.jsxs(at,{value:o,onValueChange:l,children:[n.jsx(nt,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ys,{className:"h-4 w-4"}),n.jsx(it,{})]})}),n.jsxs(st,{children:[n.jsx(ne,{value:"Bank Transfer",children:"Bank Transfer"}),n.jsx(ne,{value:"Credit Card",children:"Credit Card"}),n.jsx(ne,{value:"Cash",children:"Cash"}),n.jsx(ne,{value:"Check",children:"Check"}),n.jsx(ne,{value:"Wire Transfer",children:"Wire Transfer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"referenceNo",className:"text-sm font-semibold",children:"Reference Number"}),n.jsx(fe,{id:"referenceNo",value:c,onChange:b=>d(b.target.value),placeholder:"Optional",className:"font-mono"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"note",className:"text-sm font-semibold",children:"Notes"}),n.jsx(gn,{id:"note",value:u,onChange:b=>f(b.target.value),placeholder:"Add any additional notes about this payment...",rows:3,className:"resize-none"})]})]}),n.jsxs(Ba,{className:"gap-2",children:[n.jsx(te,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsxs(te,{onClick:y,disabled:a<=0||a>g,className:"min-w-[120px]",children:[n.jsx(br,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]})]})})};function FBe({open:e,onOpenChange:t,payment:r,onUpdate:s}){const[a,i]=v.useState(""),[o,l]=v.useState(!1);v.useEffect(()=>{r!=null&&r.due_date&&i(r.due_date)},[r]);const c=async()=>{if(!(!(r!=null&&r.id)||!a)){l(!0);try{await s(r.id,a),t(!1)}catch(d){console.error("Failed to update payment due date:",d)}finally{l(!1)}}};return r?n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(Hr,{className:"sm:max-w-[425px]",children:[n.jsxs(Jr,{children:[n.jsx(en,{children:"Update Payment Due Date"}),n.jsxs(ss,{children:["Update the payment due date for order ",r.order_reference||"N/A"]})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(G,{htmlFor:"due-date",children:"Due Date"}),n.jsxs("div",{className:"relative",children:[n.jsx(fe,{id:"due-date",type:"date",value:a,onChange:d=>i(d.target.value),className:"pl-10"}),n.jsx(Wr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-muted-foreground",children:"Total Amount"}),n.jsxs("div",{className:"font-medium",children:[((r.total_amount||0)+(r.shipping_cost||0)-(r.discount||0)).toLocaleString()," HUF"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-muted-foreground",children:"Status"}),n.jsx("div",{className:"font-medium",children:r.status||"Unpaid"})]})]})]}),n.jsxs(Ba,{children:[n.jsx(te,{variant:"outline",onClick:()=>t(!1),disabled:o,children:"Cancel"}),n.jsx(te,{onClick:c,disabled:o||!a,children:o?"Updating...":"Update Due Date"})]})]})}):null}const $Be="modulepreload",LBe=function(e){return"/"+e},V$={},z$=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=LBe(c),c in V$)return;V$[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":$Be,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function Pp({options:e,value:t=[],onChange:r,placeholder:s="Add status...",className:a,allowCustom:i=!1,customPlaceholder:o="Enter custom value..."}){const[l,c]=v.useState(!1),[d,u]=v.useState(""),[f,m]=v.useState(!1),h=g=>{if(g==="Other (Custom)"&&i){m(!0);return}t.includes(g)?r(t.filter(j=>j!==g)):r([...t,g])},x=()=>{d.trim()&&(r([...t,d.trim()]),u(""),m(!1),c(!1))},p=(g,j)=>{j.stopPropagation(),r(t.filter(y=>y!==g))};return n.jsxs("div",{className:ge("flex flex-col gap-2",a),children:[n.jsx("div",{className:"flex flex-wrap gap-1 min-h-[32px]",children:t.map(g=>n.jsxs(Ae,{variant:"secondary",className:"pl-2 pr-1 py-1 text-xs flex items-center gap-1",children:[g,n.jsx("button",{type:"button",className:"h-4 w-4 p-0 hover:bg-transparent inline-flex items-center justify-center rounded-sm hover:opacity-70",onClick:j=>p(g,j),children:n.jsx(us,{className:"h-3 w-3"})})]},g))}),n.jsxs(Jv,{open:l,onOpenChange:c,children:[n.jsx(ey,{asChild:!0,children:n.jsxs(te,{variant:"outline",size:"sm",className:"w-full justify-start text-left font-normal",type:"button",children:[n.jsx(Gn,{className:"mr-2 h-3 w-3"}),s]})}),n.jsx(Xp,{className:"w-[250px] p-0 max-h-[300px] overflow-hidden",align:"start",side:"bottom",children:f?n.jsxs("div",{className:"p-3 space-y-2",children:[n.jsx("input",{type:"text",value:d,onChange:g=>u(g.target.value),onKeyDown:g=>{g.key==="Enter"?x():g.key==="Escape"&&(m(!1),u(""))},placeholder:o,className:"w-full px-3 py-2 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",autoFocus:!0}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(te,{type:"button",size:"sm",onClick:x,className:"flex-1",children:"Add"}),n.jsx(te,{type:"button",size:"sm",variant:"outline",onClick:()=>{m(!1),u("")},children:"Cancel"})]})]}):n.jsx(ac,{className:"h-full max-h-[300px]",children:n.jsx("div",{className:"p-1",children:e.map(g=>n.jsxs(zz,{checked:t.includes(g),onCheckedChange:()=>h(g),onSelect:j=>j.preventDefault(),className:"cursor-pointer",children:[n.jsx("span",{className:"flex-1",children:g}),t.includes(g)&&n.jsx(mo,{className:"h-4 w-4 ml-2"})]},g))})})})]})]})}var v3="Checkbox",[BBe,qnt]=Zs(v3),[UBe,VBe]=BBe(v3),YX=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[m,h]=v.useState(null),x=Dt(t,b=>h(b)),p=v.useRef(!1),g=m?u||!!m.closest("form"):!0,[j=!1,y]=Oa({prop:a,defaultProp:i,onChange:d}),w=v.useRef(j);return v.useEffect(()=>{const b=m==null?void 0:m.form;if(b){const N=()=>y(w.current);return b.addEventListener("reset",N),()=>b.removeEventListener("reset",N)}},[m,y]),n.jsxs(UBe,{scope:r,state:j,disabled:l,children:[n.jsx(ft.button,{type:"button",role:"checkbox","aria-checked":ou(j)?"mixed":j,"aria-required":o,"data-state":ZX(j),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onKeyDown:Ge(e.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Ge(e.onClick,b=>{y(N=>ou(N)?!0:!N),g&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),g&&n.jsx(zBe,{control:m,bubbles:!p.current,name:s,value:c,checked:j,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:ou(i)?!1:i})]})});YX.displayName=v3;var XX="CheckboxIndicator",QX=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...a}=e,i=VBe(XX,r);return n.jsx(ns,{present:s||ou(i.state)||i.state===!0,children:n.jsx(ft.span,{"data-state":ZX(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});QX.displayName=XX;var zBe=e=>{const{control:t,checked:r,bubbles:s=!0,defaultChecked:a,...i}=e,o=v.useRef(null),l=U2(r),c=yN(t);v.useEffect(()=>{const u=o.current,f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&h){const x=new Event("click",{bubbles:s});u.indeterminate=ou(r),h.call(u,ou(r)?!1:r),u.dispatchEvent(x)}},[l,r,s]);const d=v.useRef(ou(r)?!1:r);return n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ou(e){return e==="indeterminate"}function ZX(e){return ou(e)?"indeterminate":e?"checked":"unchecked"}var JX=YX,WBe=QX;const yo=v.forwardRef(({className:e,...t},r)=>n.jsx(JX,{ref:r,className:ge("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(WBe,{className:ge("flex items-center justify-center text-current"),children:n.jsx(mo,{className:"h-4 w-4"})})}));yo.displayName=JX.displayName;const HBe=["Other (Custom)","Broken/Damaged","Wrong Item/Color","Missing Parts","Incorrect Quantity","Poor Quality","Late Delivery","Installation Issue","Warranty Claim","Defective Product","Packaging Damage","Wrong Size/Dimensions","Expired Product","Missing Documentation","Safety Hazard"],qBe=[{value:"Critical",label:"Critical",color:"bg-red-500/10 text-red-600 border-red-200"},{value:"High",label:"High",color:"bg-orange-500/10 text-orange-600 border-orange-200"},{value:"Medium",label:"Medium",color:"bg-yellow-500/10 text-yellow-600 border-yellow-200"},{value:"Low",label:"Low",color:"bg-green-500/10 text-green-600 border-green-200"}],GBe=["Blocking Progress","Delaying Project","Partial Impact","Minor Inconvenience","No Impact"],KBe=["Full Replacement","Partial Replacement","Repair","Refund","Credit Note","Exchange","Other"];function YBe({open:e,onOpenChange:t,product:r,apartmentId:s,existingIssueId:a,onSubmit:i}){const[o,l]=v.useState(1),[c,d]=v.useState({}),[u,f]=v.useState(!1),[m,h]=v.useState(!1),[x,p]=v.useState(null),g=v.useRef(!1),[j,y]=v.useState({totalQuantity:0,issueTypes:[],description:"",priority:"",impact:"",expectedResolution:"",replacementEta:"",resolutionType:"",resolutionNotes:"",aiActivated:!1,autoNotifyVendor:!0});v.useEffect(()=>{a&&e&&(async()=>{var O,I;if(a&&e&&(r!=null&&r.order_status_info)){h(!0);try{const{issueApi:W}=await z$(async()=>{const{issueApi:P}=await Promise.resolve().then(()=>XBe);return{issueApi:P}},void 0),H=await W.getIssue(a);p(H);const F=H.type?H.type.split(", ").filter(Boolean):[];y({totalQuantity:((O=H.items)==null?void 0:O.reduce((P,M)=>P+(M.quantity_affected||0),0))||0,issueTypes:F,description:((I=H.description)==null?void 0:I.split(`

Issue Description:
`)[1])||H.description||"",priority:H.priority||"",impact:H.impact||"",expectedResolution:H.expected_resolution||"",replacementEta:H.replacement_eta||"",resolutionType:H.resolution_type||"",resolutionNotes:H.resolution_notes||"",aiActivated:H.ai_activated||!1,autoNotifyVendor:H.auto_notify_vendor!==!1});const T={};r.order_status_info.forEach(P=>{T[P.order_id]={selected:!1,quantity:P.quantity}}),r.order_status_info.forEach(P=>{H.items.some(D=>{var Y;return D.description&&P.po_number?D.description.includes(P.po_number):(Y=D.order_item)!=null&&Y.order?D.order_item.order===P.order_id:!1})&&(T[P.order_id].selected=!0)}),d(T),g.current=!0}catch(W){console.error("Failed to fetch existing issue:",W),Be.error("Failed to load issue data")}finally{h(!1)}}})()},[a,e]),v.useEffect(()=>{if(r!=null&&r.order_status_info&&!a&&!g.current&&e){const k={};r.order_status_info.forEach(O=>{k[O.order_id]={selected:!1,quantity:O.quantity}}),d(k),g.current=!0}},[r,a,e]),v.useEffect(()=>{e||(l(1),d({}),p(null),g.current=!1,y({totalQuantity:0,issueTypes:[],description:"",priority:"",impact:"",expectedResolution:"",replacementEta:"",resolutionType:"",resolutionNotes:"",aiActivated:!1,autoNotifyVendor:!0}))},[e]);const w=k=>{d(O=>{var I;return{...O,[k]:{...O[k],selected:!((I=O[k])!=null&&I.selected)}}})},N=Object.entries(c).filter(([k,O])=>O.selected).map(([k,O])=>{var W;const I=(W=r==null?void 0:r.order_status_info)==null?void 0:W.find(H=>H.order_id===k);return{orderId:k,orderInfo:I,quantity:O.quantity}}),_=N.reduce((k,O)=>k+O.quantity,0),C=N.length>0;v.useEffect(()=>{o===2&&y(k=>({...k,totalQuantity:_}))},[N.length,o,_]);const A=async()=>{if(!j.priority||!j.issueTypes.length||!j.description.trim()){Be.error("Please complete all required fields (Priority, Issue Types, Description)");return}f(!0);try{const k=N[0],{orderApi:O}=await z$(async()=>{const{orderApi:P}=await Promise.resolve().then(()=>OBe);return{orderApi:P}},void 0),I=await O.getOrder(k.orderId),W=N.map(P=>{var M,D;return{order_item:null,product:(r==null?void 0:r.id)||null,product_name:(r==null?void 0:r.product)||"",quantity_affected:P.quantity,issue_types:j.issueTypes.join(", "),description:`Order: ${((M=P.orderInfo)==null?void 0:M.po_number)||"N/A"} | Ordered: ${(D=P.orderInfo)!=null&&D.expected_delivery?new Date(P.orderInfo.expected_delivery).toLocaleDateString():"N/A"} | Qty: ${P.quantity}`}}),H=N.map(P=>{var M,D;return` Order ${((M=P.orderInfo)==null?void 0:M.po_number)||"N/A"} (${P.quantity} units) - Expected: ${(D=P.orderInfo)!=null&&D.expected_delivery?new Date(P.orderInfo.expected_delivery).toLocaleDateString():"N/A"}`}).join(`
`),F=`Product: ${r==null?void 0:r.product}${r!=null&&r.sku?` (SKU: ${r.sku})`:""}

Affected Orders (${N.length}):
${H}

Total Quantity Affected: ${j.totalQuantity}

Issue Description:
${j.description}`,T={apartment:s,vendor:I.vendor,order:k.orderId,product:(r==null?void 0:r.id)||null,product_name:(r==null?void 0:r.product)||"",type:j.issueTypes.join(", "),description:F,priority:j.priority,expected_resolution:j.expectedResolution||void 0,impact:j.impact||void 0,replacement_eta:j.replacementEta||void 0,ai_activated:j.aiActivated,resolution_status:"Open",resolution_type:j.resolutionType||void 0,resolution_notes:j.resolutionNotes||void 0,auto_notify_vendor:j.autoNotifyVendor,items_data:W};await i(T,a),t(!1)}catch(k){console.error("Issue submission error:",k)}finally{f(!1)}};if(!r)return null;const E=r.order_status_info||[];return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(Hr,{className:"max-w-3xl max-h-[90vh]",children:[n.jsxs(Jr,{children:[n.jsxs(en,{children:[a?"Edit Issue":"Report Issue"," - ",r.product]}),n.jsx(ss,{children:m?"Loading issue data...":o===1?`Step 1: Select which orders have this issue (${E.length} order(s) available)`:"Step 2: Describe the issue and set priority"})]}),n.jsx(ac,{className:"max-h-[60vh] pr-4",children:m?n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[n.jsx(S,{className:"w-16 h-16 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(S,{className:"h-5 w-48"}),n.jsx(S,{className:"h-4 w-32"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(S,{className:"h-5 w-40"}),[1,2,3].map(k=>n.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[n.jsx(S,{className:"w-4 h-4 rounded-full"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-5 w-16 rounded"}),n.jsx(S,{className:"h-4 w-20"})]}),n.jsx(S,{className:"h-3 w-32"})]})]},k))]})]}):n.jsxs(n.Fragment,{children:[o===1&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[r.product_image?n.jsx("img",{src:r.product_image,alt:r.product,className:"w-16 h-16 rounded object-cover border"}):n.jsx("div",{className:"w-16 h-16 rounded flex items-center justify-center border bg-muted",children:n.jsx(ct,{className:"h-8 w-8 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold",children:r.product}),n.jsx("p",{className:"text-sm text-muted-foreground",children:r.sku||"N/A"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium",children:"Select orders with issues:"}),N.length>0&&n.jsxs(Ae,{variant:"secondary",className:"text-xs",children:[N.length," selected  ",_," units total"]})]}),n.jsx("div",{className:"space-y-2",children:E.map(k=>{const O=c[k.order_id];return n.jsx("div",{className:ge("border rounded-lg p-3 transition-all cursor-pointer hover:bg-muted/50",(O==null?void 0:O.selected)&&"ring-2 ring-primary border-primary bg-primary/5"),onClick:()=>w(k.order_id),children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yo,{checked:(O==null?void 0:O.selected)||!1,onCheckedChange:()=>w(k.order_id),onClick:I=>I.stopPropagation()}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("h4",{className:"font-semibold text-sm",children:k.po_number}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:k.status}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[" ",k.quantity," units"]}),k.expected_delivery&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:[" Expected: ",new Date(k.expected_delivery).toLocaleDateString()]})]}),k.shipping_address&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:k.shipping_address})]})]})},k.order_id)})}),N.length===0&&n.jsxs("div",{className:"p-4 text-center text-sm text-muted-foreground bg-muted/30 rounded-lg",children:[n.jsx(_t,{className:"h-5 w-5 mx-auto mb-2 opacity-50"}),"Select at least one order to continue"]})]})]}),o===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[n.jsxs("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[n.jsx(ct,{className:"h-4 w-4"}),"Selected Orders Summary"]}),n.jsxs("div",{className:"space-y-1 text-xs",children:[N.map(k=>{var O,I;return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-muted-foreground",children:[(O=k.orderInfo)==null?void 0:O.po_number,"  ",(I=k.orderInfo)!=null&&I.expected_delivery?new Date(k.orderInfo.expected_delivery).toLocaleDateString():"N/A"]}),n.jsxs(Ae,{variant:"outline",className:"text-xs",children:[k.quantity," units"]})]},k.orderId)}),n.jsxs("div",{className:"pt-2 mt-2 border-t flex items-center justify-between font-semibold",children:[n.jsx("span",{children:"Total Affected Quantity:"}),n.jsxs("span",{className:"text-primary",children:[_," units"]})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(ni,{className:"h-4 w-4"}),"Issue Details"]}),n.jsxs("div",{className:"grid gap-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{className:"flex items-center gap-1.5",children:[n.jsx(ni,{className:"h-3.5 w-3.5 text-orange-500"}),"Issue Type(s) *"]}),n.jsx(Pp,{options:HBe,value:j.issueTypes,onChange:k=>y(O=>({...O,issueTypes:k})),placeholder:"Select issue types (e.g., Broken/Damaged, Wrong Item)",allowCustom:!0,customPlaceholder:"Custom issue type..."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{className:"flex items-center gap-1.5",children:[n.jsx(An,{className:"h-3.5 w-3.5 text-primary"}),"Issue Description *"]}),n.jsxs("div",{className:"relative",children:[n.jsx(gn,{value:j.description,onChange:k=>y(O=>({...O,description:k.target.value})),placeholder:"Describe the issue in detail... (This will be sent to the vendor with order context)",rows:4,className:"pr-10"}),n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(pf,{text:j.description,onTextEnhanced:k=>y(O=>({...O,description:k})),variant:"ghost",size:"sm"})})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Order details (PO numbers, dates, quantities) will be automatically included for the vendor"})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(ni,{className:"h-4 w-4"}),"Priority & Impact"]}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Priority *"}),n.jsxs(at,{value:j.priority,onValueChange:k=>y(O=>({...O,priority:k})),children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select priority"})}),n.jsx(st,{children:qBe.map(k=>n.jsx(ne,{value:k.value,children:n.jsx(Ae,{className:k.color,children:k.label})},k.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Impact"}),n.jsxs(at,{value:j.impact,onValueChange:k=>y(O=>({...O,impact:k})),children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select impact"})}),n.jsx(st,{children:GBe.map(k=>n.jsx(ne,{value:k,children:k},k))})]})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(Wr,{className:"h-4 w-4"}),"Timeline"]}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Expected Resolution"}),n.jsx(fe,{type:"date",value:j.expectedResolution,onChange:k=>y(O=>({...O,expectedResolution:k.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Replacement ETA"}),n.jsx(fe,{type:"date",value:j.replacementEta,onChange:k=>y(O=>({...O,replacementEta:k.target.value}))})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(sr,{className:"h-4 w-4"}),"Resolution"]}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Resolution Type"}),n.jsxs(at,{value:j.resolutionType,onValueChange:k=>y(O=>({...O,resolutionType:k})),children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select type"})}),n.jsx(st,{children:KBe.map(k=>n.jsx(ne,{value:k,children:k},k))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Notes"}),n.jsx(fe,{value:j.resolutionNotes,onChange:k=>y(O=>({...O,resolutionNotes:k.target.value})),placeholder:"Resolution notes..."})]})]})]}),n.jsxs("div",{className:"space-y-3 pt-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yo,{id:"ai",checked:j.aiActivated,onCheckedChange:k=>y(O=>({...O,aiActivated:k}))}),n.jsx(G,{htmlFor:"ai",className:"text-sm",children:"Enable AI-assisted communication"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yo,{id:"notify",checked:j.autoNotifyVendor,onCheckedChange:k=>y(O=>({...O,autoNotifyVendor:k}))}),n.jsx(G,{htmlFor:"notify",className:"text-sm",children:"Auto-notify vendor"})]})]}),n.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Report Summary:"}),n.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[n.jsxs("li",{children:[" Product: ",r.product]}),n.jsxs("li",{children:[" Affected Orders: ",N.length]}),n.jsxs("li",{children:[" Total Quantity: ",_," units"]}),n.jsxs("li",{children:[" Issue Types: ",j.issueTypes.length>0?j.issueTypes.join(", "):"Not set"]}),n.jsxs("li",{children:[" Priority: ",j.priority||"Not set"]})]})]})]})]})}),n.jsx(Ba,{className:"flex justify-between sm:justify-between",children:o===1?n.jsxs(n.Fragment,{children:[n.jsx(te,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsxs(te,{onClick:()=>l(2),disabled:!C,children:["Next: Describe Issue (",N.length," order",N.length!==1?"s":"",")"]})]}):n.jsxs(n.Fragment,{children:[n.jsx(te,{variant:"outline",onClick:()=>l(1),children:"Back to Orders"}),n.jsx(te,{onClick:A,disabled:u||!j.priority||!j.issueTypes.length||!j.description.trim(),children:u?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):a?`Update Issue for ${N.length} Order${N.length!==1?"s":""}`:`Report Issue for ${N.length} Order${N.length!==1?"s":""}`})]})})]})})}const ds=ir.create({baseURL:Yi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});let Ej=!1,mP=[];const W$=(e=null)=>{mP.forEach(t=>{e?t.reject(e):t.resolve()}),mP=[]};ds.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));ds.interceptors.response.use(e=>e,async e=>{var r,s;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!(t!=null&&t._retry)){if((s=t==null?void 0:t.url)!=null&&s.includes("/refresh/"))return localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(e);if(Ej)return new Promise((i,o)=>{mP.push({resolve:i,reject:o})}).then(()=>ds(t));t._retry=!0,Ej=!0;const a=localStorage.getItem("refresh_token");if(!a)return Ej=!1,localStorage.removeItem("access_token"),window.location.href="/login",Promise.reject(e);try{const i=await ir.post(`${Hv}/refresh/`,{refresh:a}),{access:o}=i.data;return localStorage.setItem("access_token",o),t.headers&&(t.headers.Authorization=`Bearer ${o}`),W$(),ds(t)}catch(i){return W$(i),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(i)}finally{Ej=!1}}return Promise.reject(e)});const _r={getIssues:async(e={})=>{const t=new URLSearchParams;return e.search&&t.append("search",e.search),e.status&&t.append("status",e.status),e.priority&&t.append("priority",e.priority),e.apartment&&t.append("apartment",e.apartment),e.vendor&&t.append("vendor",e.vendor),e.product&&t.append("product",e.product),e.page&&t.append("page",e.page.toString()),e.page_size&&t.append("page_size",e.page_size.toString()),(await ds.get(`/issues/?${t.toString()}`)).data},getIssue:async e=>(await ds.get(`/issues/${e}/`)).data,createIssue:async e=>(await ds.post("/issues/",e)).data,updateIssue:async(e,t)=>(await ds.patch(`/issues/${e}/`,t)).data,deleteIssue:async e=>{await ds.delete(`/issues/${e}/`)},uploadPhoto:async(e,t)=>(await ds.post(`/issues/${e}/photos/`,{url:t})).data,activateAIEmail:async e=>await ds.post(`/issues/${e}/activate_ai_email/`),getEmailThread:async e=>await ds.get(`/issues/${e}/email_thread/`),generateAIReply:async(e,t)=>await ds.post(`/issues/${e}/generate_ai_reply/`,{vendor_message:t}),addVendorResponse:async(e,t)=>await ds.post(`/issues/${e}/add_vendor_response/`,t),analyzeVendorResponse:async(e,t)=>await ds.post(`/issues/${e}/analyze_vendor_response/`,{message:t}),getConversation:async e=>(await ds.get(`/issues/${e}/conversation/`)).data,getSummary:async e=>(await ds.get(`/issues/${e}/summary/`)).data,sendManualMessage:async(e,t)=>(await ds.post(`/issues/${e}/send_manual_message/`,t)).data,sendBulkEmail:async e=>(await ds.post("/issues/bulk-email/",e)).data},XBe=Object.freeze(Object.defineProperty({__proto__:null,issueApi:_r},Symbol.toStringTag,{value:"Module"})),bc=ir.create({baseURL:Yi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});bc.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));bc.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});const Fc={getDeliveries:async(e={})=>{const t=new URLSearchParams;return e.search&&t.append("search",e.search),e.status&&t.append("status",e.status),e.priority&&t.append("priority",e.priority),e.apartment&&t.append("apartment",e.apartment),e.vendor&&t.append("vendor",e.vendor),e.page&&t.append("page",e.page.toString()),e.page_size&&t.append("page_size",e.page_size.toString()),(await bc.get(`/deliveries/?${t.toString()}`)).data},getDelivery:async e=>(await bc.get(`/deliveries/${e}/`)).data,createDelivery:async e=>(await bc.post("/deliveries/",e)).data,updateDelivery:async(e,t)=>(await bc.patch(`/deliveries/${e}/`,t)).data,deleteDelivery:async e=>{await bc.delete(`/deliveries/${e}/`)},updateStatus:async(e,t,r)=>(await bc.patch(`/deliveries/${e}/update_status/`,{status:t,...r})).data,updateDeliveryField:async(e,t,r)=>(await bc.patch(`/deliveries/${e}/`,{[t]:r})).data};var kt=function(){return kt=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},kt.apply(this,arguments)};function QBe(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function eQ(e,t,r){for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function vy(e){return e.mode==="multiple"}function yy(e){return e.mode==="range"}function G2(e){return e.mode==="single"}var ZBe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function JBe(e,t){return Ht(e,"LLLL y",t)}function e9e(e,t){return Ht(e,"d",t)}function t9e(e,t){return Ht(e,"LLLL",t)}function r9e(e){return"".concat(e)}function n9e(e,t){return Ht(e,"cccccc",t)}function s9e(e,t){return Ht(e,"yyyy",t)}var a9e=Object.freeze({__proto__:null,formatCaption:JBe,formatDay:e9e,formatMonthCaption:t9e,formatWeekNumber:r9e,formatWeekdayName:n9e,formatYearCaption:s9e}),i9e=function(e,t,r){return Ht(e,"do MMMM (EEEE)",r)},o9e=function(){return"Month: "},l9e=function(){return"Go to next month"},c9e=function(){return"Go to previous month"},d9e=function(e,t){return Ht(e,"cccc",t)},u9e=function(e){return"Week n. ".concat(e)},f9e=function(){return"Year: "},m9e=Object.freeze({__proto__:null,labelDay:i9e,labelMonthDropdown:o9e,labelNext:l9e,labelPrevious:c9e,labelWeekNumber:u9e,labelWeekday:d9e,labelYearDropdown:f9e});function h9e(){var e="buttons",t=ZBe,r=KN,s={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:a9e,labels:m9e,locale:r,modifiersClassNames:s,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function p9e(e){var t=e.fromYear,r=e.toYear,s=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return s?i=oi(s):t&&(i=new Date(t,0,1)),a?o=GN(a):r&&(o=new Date(r,11,31)),{fromDate:i?tp(i):void 0,toDate:o?tp(o):void 0}}var tQ=v.createContext(void 0);function x9e(e){var t,r=e.initialProps,s=h9e(),a=p9e(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:s.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(G2(r)||vy(r)||yy(r))&&(c=r.onSelect);var d=kt(kt(kt({},s),r),{captionLayout:l,classNames:kt(kt({},s.classNames),r.classNames),components:kt({},r.components),formatters:kt(kt({},s.formatters),r.formatters),fromDate:i,labels:kt(kt({},s.labels),r.labels),mode:r.mode||s.mode,modifiers:kt(kt({},s.modifiers),r.modifiers),modifiersClassNames:kt(kt({},s.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:kt(kt({},s.styles),r.styles),toDate:o});return n.jsx(tQ.Provider,{value:d,children:e.children})}function tn(){var e=v.useContext(tQ);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function rQ(e){var t=tn(),r=t.locale,s=t.classNames,a=t.styles,i=t.formatters.formatCaption;return n.jsx("div",{className:s.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function g9e(e){return n.jsx("svg",kt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function nQ(e){var t,r,s=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=tn(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:g9e;return n.jsxs("div",{className:l,style:c,children:[n.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:s,children:i}),n.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,n.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function v9e(e){var t,r=tn(),s=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!s)return n.jsx(n.Fragment,{});if(!a)return n.jsx(n.Fragment,{});var f=[];if(f0e(s,a))for(var m=oi(s),h=s.getMonth();h<=a.getMonth();h++)f.push(CS(m,h));else for(var m=oi(new Date),h=0;h<=11;h++)f.push(CS(m,h));var x=function(g){var j=Number(g.target.value),y=CS(oi(e.displayMonth),j);e.onChange(y)},p=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:nQ;return n.jsx(p,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(g){return n.jsx("option",{value:g.getMonth(),children:l(g,{locale:o})},g.getMonth())})})}function y9e(e){var t,r=e.displayMonth,s=tn(),a=s.fromDate,i=s.toDate,o=s.locale,l=s.styles,c=s.classNames,d=s.components,u=s.formatters.formatYearCaption,f=s.labels.labelYearDropdown,m=[];if(!a)return n.jsx(n.Fragment,{});if(!i)return n.jsx(n.Fragment,{});for(var h=a.getFullYear(),x=i.getFullYear(),p=h;p<=x;p++)m.push(RR(ZW(new Date),p));var g=function(y){var w=RR(oi(r),Number(y.target.value));e.onChange(w)},j=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:nQ;return n.jsx(j,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:g,value:r.getFullYear(),caption:u(r,{locale:o}),children:m.map(function(y){return n.jsx("option",{value:y.getFullYear(),children:u(y,{locale:o})},y.getFullYear())})})}function j9e(e,t){var r=v.useState(e),s=r[0],a=r[1],i=t===void 0?s:t;return[i,a]}function b9e(e){var t=e.month,r=e.defaultMonth,s=e.today,a=t||r||s||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&rp(i,a)<0){var d=-1*(c-1);a=No(i,d)}return o&&rp(a,o)<0&&(a=o),oi(a)}function w9e(){var e=tn(),t=b9e(e),r=j9e(t,e.month),s=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=oi(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[s,i]}function N9e(e,t){for(var r=t.reverseMonths,s=t.numberOfMonths,a=oi(e),i=oi(No(a,s)),o=rp(i,a),l=[],c=0;c<o;c++){var d=No(a,c);l.push(d)}return r&&(l=l.reverse()),l}function _9e(e,t){if(!t.disableNavigation){var r=t.toDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=oi(e);if(!r)return No(l,o);var c=rp(r,e);if(!(c<i))return No(l,o)}}function S9e(e,t){if(!t.disableNavigation){var r=t.fromDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=oi(e);if(!r)return No(l,-o);var c=rp(l,r);if(!(c<=0))return No(l,-o)}}var sQ=v.createContext(void 0);function C9e(e){var t=tn(),r=w9e(),s=r[0],a=r[1],i=N9e(s,t),o=_9e(s,t),l=S9e(s,t),c=function(f){return i.some(function(m){return QT(f,m)})},d=function(f,m){c(f)||(m&&nH(f,m)?a(No(f,1+t.numberOfMonths*-1)):a(f))},u={currentMonth:s,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return n.jsx(sQ.Provider,{value:u,children:e.children})}function jy(){var e=v.useContext(sQ);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function H$(e){var t,r=tn(),s=r.classNames,a=r.styles,i=r.components,o=jy().goToMonth,l=function(u){o(No(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:rQ,d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:s.caption_dropdowns,style:a.caption_dropdowns,children:[n.jsx("div",{className:s.vhidden,children:d}),n.jsx(v9e,{onChange:l,displayMonth:e.displayMonth}),n.jsx(y9e,{onChange:l,displayMonth:e.displayMonth})]})}function A9e(e){return n.jsx("svg",kt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function E9e(e){return n.jsx("svg",kt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Nw=v.forwardRef(function(e,t){var r=tn(),s=r.classNames,a=r.styles,i=[s.button_reset,s.button];e.className&&i.push(e.className);var o=i.join(" "),l=kt(kt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),n.jsx("button",kt({},e,{ref:t,type:"button",className:o,style:l}))});function P9e(e){var t,r,s=tn(),a=s.dir,i=s.locale,o=s.classNames,l=s.styles,c=s.labels,d=c.labelPrevious,u=c.labelNext,f=s.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var m=d(e.previousMonth,{locale:i}),h=[o.nav_button,o.nav_button_previous].join(" "),x=u(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),g=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:E9e,j=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:A9e;return n.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&n.jsx(Nw,{name:"previous-month","aria-label":m,className:h,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?n.jsx(g,{className:o.nav_icon,style:l.nav_icon}):n.jsx(j,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&n.jsx(Nw,{name:"next-month","aria-label":x,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?n.jsx(j,{className:o.nav_icon,style:l.nav_icon}):n.jsx(g,{className:o.nav_icon,style:l.nav_icon})})]})}function q$(e){var t=tn().numberOfMonths,r=jy(),s=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(x){return QT(e.displayMonth,x)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),f=t>1&&(d||!c),m=function(){s&&i(s)},h=function(){a&&i(a)};return n.jsx(P9e,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:a,previousMonth:s,onPreviousClick:m,onNextClick:h})}function k9e(e){var t,r=tn(),s=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:rQ,d;return a?d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=n.jsx(H$,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=n.jsxs(n.Fragment,{children:[n.jsx(H$,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx(q$,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=n.jsxs(n.Fragment,{children:[n.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(q$,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:s.caption,style:i.caption,children:d})}function T9e(e){var t=tn(),r=t.footer,s=t.styles,a=t.classNames.tfoot;return r?n.jsx("tfoot",{className:a,style:s.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:r})})}):n.jsx(n.Fragment,{})}function O9e(e,t,r){for(var s=r?Zc(new Date):zi(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Vs(s,i);a.push(o)}return a}function D9e(){var e=tn(),t=e.classNames,r=e.styles,s=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=O9e(a,i,o);return n.jsxs("tr",{style:r.head_row,className:t.head_row,children:[s&&n.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,f){return n.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},f)})]})}function I9e(){var e,t=tn(),r=t.classNames,s=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:D9e;return n.jsx("thead",{style:s.head,className:r.head,children:n.jsx(i,{})})}function R9e(e){var t=tn(),r=t.locale,s=t.formatters.formatDay;return n.jsx(n.Fragment,{children:s(e.date,{locale:r})})}var y3=v.createContext(void 0);function M9e(e){if(!vy(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return n.jsx(y3.Provider,{value:t,children:e.children})}return n.jsx(F9e,{initialProps:e.initialProps,children:e.children})}function F9e(e){var t=e.initialProps,r=e.children,s=t.selected,a=t.min,i=t.max,o=function(d,u,f){var m,h;(m=t.onDayClick)===null||m===void 0||m.call(t,d,u,f);var x=!!(u.selected&&a&&(s==null?void 0:s.length)===a);if(!x){var p=!!(!u.selected&&i&&(s==null?void 0:s.length)===i);if(!p){var g=s?eQ([],s):[];if(u.selected){var j=g.findIndex(function(y){return Xa(d,y)});g.splice(j,1)}else g.push(d);(h=t.onSelect)===null||h===void 0||h.call(t,g,d,u,f)}}},l={disabled:[]};s&&l.disabled.push(function(d){var u=i&&s.length>i-1,f=s.some(function(m){return Xa(m,d)});return!!(u&&!f)});var c={selected:s,onDayClick:o,modifiers:l};return n.jsx(y3.Provider,{value:c,children:r})}function j3(){var e=v.useContext(y3);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function $9e(e,t){var r=t||{},s=r.from,a=r.to;return s&&a?Xa(a,e)&&Xa(s,e)?void 0:Xa(a,e)?{from:a,to:void 0}:Xa(s,e)?void 0:kA(s,e)?{from:e,to:a}:{from:s,to:e}:a?kA(e,a)?{from:a,to:e}:{from:e,to:a}:s?nH(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var b3=v.createContext(void 0);function L9e(e){if(!yy(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(b3.Provider,{value:t,children:e.children})}return n.jsx(B9e,{initialProps:e.initialProps,children:e.children})}function B9e(e){var t=e.initialProps,r=e.children,s=t.selected,a=s||{},i=a.from,o=a.to,l=t.min,c=t.max,d=function(h,x,p){var g,j;(g=t.onDayClick)===null||g===void 0||g.call(t,h,x,p);var y=$9e(h,s);(j=t.onSelect)===null||j===void 0||j.call(t,y,h,x,p)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],Xa(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:_c(i,l-1),before:Vs(i,l-1)}),i&&o&&u.disabled.push({after:i,before:Vs(i,l-1)}),!i&&o&&u.disabled.push({after:_c(o,l-1),before:Vs(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:Vs(i,-c+1)}),u.disabled.push({after:Vs(i,c-1)})),i&&o){var f=Xo(o,i)+1,m=c-f;u.disabled.push({before:_c(i,m)}),u.disabled.push({after:Vs(o,m)})}!i&&o&&(u.disabled.push({before:Vs(o,-c+1)}),u.disabled.push({after:Vs(o,c-1)}))}return n.jsx(b3.Provider,{value:{selected:s,onDayClick:d,modifiers:u},children:r})}function w3(){var e=v.useContext(b3);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function ub(e){return Array.isArray(e)?eQ([],e):e!==void 0?[e]:[]}function U9e(e){var t={};return Object.entries(e).forEach(function(r){var s=r[0],a=r[1];t[s]=ub(a)}),t}var dl;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(dl||(dl={}));var V9e=dl.Selected,hc=dl.Disabled,z9e=dl.Hidden,W9e=dl.Today,rC=dl.RangeEnd,nC=dl.RangeMiddle,sC=dl.RangeStart,H9e=dl.Outside;function q9e(e,t,r){var s,a=(s={},s[V9e]=ub(e.selected),s[hc]=ub(e.disabled),s[z9e]=ub(e.hidden),s[W9e]=[e.today],s[rC]=[],s[nC]=[],s[sC]=[],s[H9e]=[],s);return e.fromDate&&a[hc].push({before:e.fromDate}),e.toDate&&a[hc].push({after:e.toDate}),vy(e)?a[hc]=a[hc].concat(t.modifiers[hc]):yy(e)&&(a[hc]=a[hc].concat(r.modifiers[hc]),a[sC]=r.modifiers[sC],a[nC]=r.modifiers[nC],a[rC]=r.modifiers[rC]),a}var aQ=v.createContext(void 0);function G9e(e){var t=tn(),r=j3(),s=w3(),a=q9e(t,r,s),i=U9e(t.modifiers),o=kt(kt({},a),i);return n.jsx(aQ.Provider,{value:o,children:e.children})}function iQ(){var e=v.useContext(aQ);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function K9e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Y9e(e){return!!(e&&typeof e=="object"&&"from"in e)}function X9e(e){return!!(e&&typeof e=="object"&&"after"in e)}function Q9e(e){return!!(e&&typeof e=="object"&&"before"in e)}function Z9e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function J9e(e,t){var r,s=t.from,a=t.to;if(s&&a){var i=Xo(a,s)<0;i&&(r=[a,s],s=r[0],a=r[1]);var o=Xo(e,s)>=0&&Xo(a,e)>=0;return o}return a?Xa(a,e):s?Xa(s,e):!1}function e7e(e){return WT(e)}function t7e(e){return Array.isArray(e)&&e.every(WT)}function r7e(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(e7e(r))return Xa(e,r);if(t7e(r))return r.includes(e);if(Y9e(r))return J9e(e,r);if(Z9e(r))return r.dayOfWeek.includes(e.getDay());if(K9e(r)){var s=Xo(r.before,e),a=Xo(r.after,e),i=s>0,o=a<0,l=kA(r.before,r.after);return l?o&&i:i||o}return X9e(r)?Xo(e,r.after)>0:Q9e(r)?Xo(r.before,e)>0:typeof r=="function"?r(e):!1})}function N3(e,t,r){var s=Object.keys(t).reduce(function(i,o){var l=t[o];return r7e(e,l)&&i.push(o),i},[]),a={};return s.forEach(function(i){return a[i]=!0}),r&&!QT(e,r)&&(a.outside=!0),a}function n7e(e,t){for(var r=oi(e[0]),s=GN(e[e.length-1]),a,i,o=r;o<=s;){var l=N3(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Vs(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Vs(o,1)}return i||a}var s7e=365;function oQ(e,t){var r=t.moveBy,s=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,f=a.locale,m={day:Vs,week:AA,month:No,year:ixe,startOfWeek:function(g){return a.ISOWeek?Zc(g):zi(g,{locale:f,weekStartsOn:c})},endOfWeek:function(g){return a.ISOWeek?JW(g):HT(g,{locale:f,weekStartsOn:c})}},h=m[r](e,s==="after"?1:-1);s==="before"&&d?h=oxe([d,h]):s==="after"&&u&&(h=lxe([u,h]));var x=!0;if(i){var p=N3(h,i);x=!p.disabled&&!p.hidden}return x?h:l.count>s7e?l.lastFocused:oQ(h,{moveBy:r,direction:s,context:a,modifiers:i,retry:kt(kt({},l),{count:l.count+1})})}var lQ=v.createContext(void 0);function a7e(e){var t=jy(),r=iQ(),s=v.useState(),a=s[0],i=s[1],o=v.useState(),l=o[0],c=o[1],d=n7e(t.displayMonths,r),u=a??(l&&t.isDateDisplayed(l))?l:d,f=function(){c(a),i(void 0)},m=function(g){i(g)},h=tn(),x=function(g,j){if(a){var y=oQ(a,{moveBy:g,direction:j,context:h,modifiers:r});Xa(a,y)||(t.goToDate(y,a),m(y))}},p={focusedDay:a,focusTarget:u,blur:f,focus:m,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return n.jsx(lQ.Provider,{value:p,children:e.children})}function _3(){var e=v.useContext(lQ);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function i7e(e,t){var r=iQ(),s=N3(e,r,t);return s}var S3=v.createContext(void 0);function o7e(e){if(!G2(e.initialProps)){var t={selected:void 0};return n.jsx(S3.Provider,{value:t,children:e.children})}return n.jsx(l7e,{initialProps:e.initialProps,children:e.children})}function l7e(e){var t=e.initialProps,r=e.children,s=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:s};return n.jsx(S3.Provider,{value:a,children:r})}function cQ(){var e=v.useContext(S3);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function c7e(e,t){var r=tn(),s=cQ(),a=j3(),i=w3(),o=_3(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,f=o.blur,m=o.focus,h=o.focusMonthBefore,x=o.focusMonthAfter,p=o.focusYearBefore,g=o.focusYearAfter,j=o.focusStartOfWeek,y=o.focusEndOfWeek,w=function(P){var M,D,Y,ae;G2(r)?(M=s.onDayClick)===null||M===void 0||M.call(s,e,t,P):vy(r)?(D=a.onDayClick)===null||D===void 0||D.call(a,e,t,P):yy(r)?(Y=i.onDayClick)===null||Y===void 0||Y.call(i,e,t,P):(ae=r.onDayClick)===null||ae===void 0||ae.call(r,e,t,P)},b=function(P){var M;m(e),(M=r.onDayFocus)===null||M===void 0||M.call(r,e,t,P)},N=function(P){var M;f(),(M=r.onDayBlur)===null||M===void 0||M.call(r,e,t,P)},_=function(P){var M;(M=r.onDayMouseEnter)===null||M===void 0||M.call(r,e,t,P)},C=function(P){var M;(M=r.onDayMouseLeave)===null||M===void 0||M.call(r,e,t,P)},A=function(P){var M;(M=r.onDayPointerEnter)===null||M===void 0||M.call(r,e,t,P)},E=function(P){var M;(M=r.onDayPointerLeave)===null||M===void 0||M.call(r,e,t,P)},k=function(P){var M;(M=r.onDayTouchCancel)===null||M===void 0||M.call(r,e,t,P)},O=function(P){var M;(M=r.onDayTouchEnd)===null||M===void 0||M.call(r,e,t,P)},I=function(P){var M;(M=r.onDayTouchMove)===null||M===void 0||M.call(r,e,t,P)},W=function(P){var M;(M=r.onDayTouchStart)===null||M===void 0||M.call(r,e,t,P)},H=function(P){var M;(M=r.onDayKeyUp)===null||M===void 0||M.call(r,e,t,P)},F=function(P){var M;switch(P.key){case"ArrowLeft":P.preventDefault(),P.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":P.preventDefault(),P.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":P.preventDefault(),P.stopPropagation(),d();break;case"ArrowUp":P.preventDefault(),P.stopPropagation(),u();break;case"PageUp":P.preventDefault(),P.stopPropagation(),P.shiftKey?p():h();break;case"PageDown":P.preventDefault(),P.stopPropagation(),P.shiftKey?g():x();break;case"Home":P.preventDefault(),P.stopPropagation(),j();break;case"End":P.preventDefault(),P.stopPropagation(),y();break}(M=r.onDayKeyDown)===null||M===void 0||M.call(r,e,t,P)},T={onClick:w,onFocus:b,onBlur:N,onKeyDown:F,onKeyUp:H,onMouseEnter:_,onMouseLeave:C,onPointerEnter:A,onPointerLeave:E,onTouchCancel:k,onTouchEnd:O,onTouchMove:I,onTouchStart:W};return T}function d7e(){var e=tn(),t=cQ(),r=j3(),s=w3(),a=G2(e)?t.selected:vy(e)?r.selected:yy(e)?s.selected:void 0;return a}function u7e(e){return Object.values(dl).includes(e)}function f7e(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(s){var a=e.modifiersClassNames[s];if(a)r.push(a);else if(u7e(s)){var i=e.classNames["day_".concat(s)];i&&r.push(i)}}),r}function m7e(e,t){var r=kt({},e.styles.day);return Object.keys(t).forEach(function(s){var a;r=kt(kt({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[s])}),r}function h7e(e,t,r){var s,a,i,o=tn(),l=_3(),c=i7e(e,t),d=c7e(e,c),u=d7e(),f=!!(o.onDayClick||o.mode!=="default");v.useEffect(function(){var _;c.outside||l.focusedDay&&f&&Xa(l.focusedDay,e)&&((_=r.current)===null||_===void 0||_.focus())},[l.focusedDay,e,r,f,c.outside]);var m=f7e(o,c).join(" "),h=m7e(o,c),x=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:R9e,g=n.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),j={style:h,className:m,children:g,role:"gridcell"},y=l.focusTarget&&Xa(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Xa(l.focusedDay,e),b=kt(kt(kt({},j),(s={disabled:c.disabled,role:"gridcell"},s["aria-selected"]=c.selected,s.tabIndex=w||y?0:-1,s)),d),N={isButton:f,isHidden:x,activeModifiers:c,selectedDays:u,buttonProps:b,divProps:j};return N}function p7e(e){var t=v.useRef(null),r=h7e(e.date,e.displayMonth,t);return r.isHidden?n.jsx("div",{role:"gridcell"}):r.isButton?n.jsx(Nw,kt({name:"day",ref:t},r.buttonProps)):n.jsx("div",kt({},r.divProps))}function x7e(e){var t=e.number,r=e.dates,s=tn(),a=s.onWeekNumberClick,i=s.styles,o=s.classNames,l=s.locale,c=s.labels.labelWeekNumber,d=s.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return n.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var f=c(Number(t),{locale:l}),m=function(h){a(t,r,h)};return n.jsx(Nw,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:m,children:u})}function g7e(e){var t,r,s=tn(),a=s.styles,i=s.classNames,o=s.showWeekNumber,l=s.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:p7e,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:x7e,u;return o&&(u=n.jsx("td",{className:i.cell,style:a.cell,children:n.jsx(d,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:i.row,style:a.row,children:[u,e.dates.map(function(f){return n.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:n.jsx(c,{displayMonth:e.displayMonth,date:f})},hge(f))})]})}function G$(e,t,r){for(var s=r!=null&&r.ISOWeek?JW(t):HT(t,r),a=r!=null&&r.ISOWeek?Zc(e):zi(e,r),i=Xo(s,a),o=[],l=0;l<=i;l++)o.push(Vs(a,l));var c=o.reduce(function(d,u){var f=r!=null&&r.ISOWeek?qT(u):KT(u,r),m=d.find(function(h){return h.weekNumber===f});return m?(m.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return c}function v7e(e,t){var r=G$(oi(e),GN(e),t);if(t!=null&&t.useFixedWeeks){var s=xge(e,t);if(s<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=AA(i,6-s),l=G$(AA(i,1),o,t);r.push.apply(r,l)}}return r}function y7e(e){var t,r,s,a=tn(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,f=a.weekStartsOn,m=a.firstWeekContainsDate,h=a.ISOWeek,x=v7e(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:h,locale:i,weekStartsOn:f,firstWeekContainsDate:m}),p=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:I9e,g=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:g7e,j=(s=u==null?void 0:u.Footer)!==null&&s!==void 0?s:T9e;return n.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&n.jsx(p,{}),n.jsx("tbody",{className:o.tbody,style:l.tbody,children:x.map(function(y){return n.jsx(g,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),n.jsx(j,{displayMonth:e.displayMonth})]})}function j7e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var b7e=j7e()?v.useLayoutEffect:v.useEffect,aC=!1,w7e=0;function K$(){return"react-day-picker-".concat(++w7e)}function N7e(e){var t,r=e??(aC?K$():null),s=v.useState(r),a=s[0],i=s[1];return b7e(function(){a===null&&i(K$())},[]),v.useEffect(function(){aC===!1&&(aC=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function _7e(e){var t,r,s=tn(),a=s.dir,i=s.classNames,o=s.styles,l=s.components,c=jy().displayMonths,d=N7e(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),u=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],m=o.month,h=e.displayIndex===0,x=e.displayIndex===c.length-1,p=!h&&!x;a==="rtl"&&(t=[h,x],x=t[0],h=t[1]),h&&(f.push(i.caption_start),m=kt(kt({},m),o.caption_start)),x&&(f.push(i.caption_end),m=kt(kt({},m),o.caption_end)),p&&(f.push(i.caption_between),m=kt(kt({},m),o.caption_between));var g=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:k9e;return n.jsxs("div",{className:f.join(" "),style:m,children:[n.jsx(g,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(y7e,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function S7e(e){var t=tn(),r=t.classNames,s=t.styles;return n.jsx("div",{className:r.months,style:s.months,children:e.children})}function C7e(e){var t,r,s=e.initialProps,a=tn(),i=_3(),o=jy(),l=v.useState(!1),c=l[0],d=l[1];v.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var f=kt(kt({},a.styles.root),a.style),m=Object.keys(s).filter(function(x){return x.startsWith("data-")}).reduce(function(x,p){var g;return kt(kt({},x),(g={},g[p]=s[p],g))},{}),h=(r=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:S7e;return n.jsx("div",kt({className:u.join(" "),style:f,dir:a.dir,id:a.id,nonce:s.nonce,title:s.title,lang:s.lang},m,{children:n.jsx(h,{children:o.displayMonths.map(function(x,p){return n.jsx(_7e,{displayIndex:p,displayMonth:x},p)})})}))}function A7e(e){var t=e.children,r=QBe(e,["children"]);return n.jsx(x9e,{initialProps:r,children:n.jsx(C9e,{children:n.jsx(o7e,{initialProps:r,children:n.jsx(M9e,{initialProps:r,children:n.jsx(L9e,{initialProps:r,children:n.jsx(G9e,{children:n.jsx(a7e,{children:t})})})})})})})}function E7e(e){return n.jsx(A7e,kt({},e,{children:n.jsx(C7e,{initialProps:e})}))}function $g({className:e,classNames:t,showOutsideDays:r=!0,...s}){return n.jsx(E7e,{showOutsideDays:r,className:ge("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ge(j0({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ge(j0({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>n.jsx(hN,{className:"h-4 w-4"}),IconRight:({...a})=>n.jsx(qc,{className:"h-4 w-4"})},...s})}$g.displayName="Calendar";var C3="Popover",[dQ,Gnt]=Zs(C3,[Eu]),by=Eu(),[P7e,Fu]=dQ(C3),uQ=e=>{const{__scopePopover:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=by(t),c=v.useRef(null),[d,u]=v.useState(!1),[f=!1,m]=Oa({prop:s,defaultProp:a,onChange:i});return n.jsx(jN,{...l,children:n.jsx(P7e,{scope:t,contentId:si(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(h=>!h),[m]),hasCustomAnchor:d,onCustomAnchorAdd:v.useCallback(()=>u(!0),[]),onCustomAnchorRemove:v.useCallback(()=>u(!1),[]),modal:o,children:r})})};uQ.displayName=C3;var fQ="PopoverAnchor",k7e=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Fu(fQ,r),i=by(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return v.useEffect(()=>(o(),()=>l()),[o,l]),n.jsx(Bv,{...i,...s,ref:t})});k7e.displayName=fQ;var mQ="PopoverTrigger",hQ=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Fu(mQ,r),i=by(r),o=Dt(t,a.triggerRef),l=n.jsx(ft.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":yQ(a.open),...s,ref:o,onClick:Ge(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:n.jsx(Bv,{asChild:!0,...i,children:l})});hQ.displayName=mQ;var A3="PopoverPortal",[T7e,O7e]=dQ(A3,{forceMount:void 0}),pQ=e=>{const{__scopePopover:t,forceMount:r,children:s,container:a}=e,i=Fu(A3,t);return n.jsx(T7e,{scope:t,forceMount:r,children:n.jsx(ns,{present:r||i.open,children:n.jsx($p,{asChild:!0,container:a,children:s})})})};pQ.displayName=A3;var kp="PopoverContent",xQ=v.forwardRef((e,t)=>{const r=O7e(kp,e.__scopePopover),{forceMount:s=r.forceMount,...a}=e,i=Fu(kp,e.__scopePopover);return n.jsx(ns,{present:s||i.open,children:i.modal?n.jsx(D7e,{...a,ref:t}):n.jsx(I7e,{...a,ref:t})})});xQ.displayName=kp;var D7e=v.forwardRef((e,t)=>{const r=Fu(kp,e.__scopePopover),s=v.useRef(null),a=Dt(t,s),i=v.useRef(!1);return v.useEffect(()=>{const o=s.current;if(o)return Yv(o)},[]),n.jsx(Xv,{as:Yl,allowPinchZoom:!0,children:n.jsx(gQ,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ge(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ge(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Ge(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),I7e=v.forwardRef((e,t)=>{const r=Fu(kp,e.__scopePopover),s=v.useRef(!1),a=v.useRef(!1);return n.jsx(gQ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),gQ=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,m=Fu(kp,r),h=by(r);return MN(),n.jsx(Kv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(im,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:n.jsx(bN,{"data-state":yQ(m.open),role:"dialog",id:m.contentId,...h,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),vQ="PopoverClose",R7e=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Fu(vQ,r);return n.jsx(ft.button,{type:"button",...s,ref:t,onClick:Ge(e.onClick,()=>a.onOpenChange(!1))})});R7e.displayName=vQ;var M7e="PopoverArrow",F7e=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=by(r);return n.jsx(wN,{...a,...s,ref:t})});F7e.displayName=M7e;function yQ(e){return e?"open":"closed"}var $7e=uQ,L7e=hQ,B7e=pQ,jQ=xQ;const wh=$7e,Nh=L7e,kf=v.forwardRef(({className:e,align:t="center",sideOffset:r=4,...s},a)=>n.jsx(B7e,{children:n.jsx(jQ,{ref:a,align:t,sideOffset:r,className:ge("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));kf.displayName=jQ.displayName;const U7e=({open:e,onOpenChange:t,vendorName:r,productId:s,onVendorUpdated:a,openInEditMode:i=!1})=>{const[o,l]=v.useState(!1),[c,d]=v.useState([]),[u,f]=v.useState(null),[m,h]=v.useState(!1),[x,p]=v.useState("");v.useEffect(()=>{e?(g(),h(i)):(f(null),p(""),h(!1))},[e,i]);const g=async()=>{l(!0);try{const y=await To.getVendors();d(y.results);const w=y.results.find(b=>b.name.toLowerCase()===r.toLowerCase());w?(f(w),p(w.id)):(f(null),p(""))}catch(y){console.error("Error fetching vendors:",y),Be.error("Failed to load vendors")}finally{l(!1)}},j=async()=>{if(!x){Be.error("Please select a vendor");return}const y=c.find(w=>w.id===x);y&&(a==null||a(y.id,y.name),Be.success(`Vendor changed to ${y.name}`),t(!1))};return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(Hr,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Jr,{children:[n.jsxs(en,{className:"flex items-center gap-2",children:[n.jsx(cr,{className:"h-5 w-5"}),"Vendor Details"]}),n.jsx(ss,{children:"View vendor information and change vendor assignment"})]}),o?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Bt,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsx("div",{className:"space-y-6 py-4",children:u?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Current Vendor"}),n.jsx(te,{variant:"outline",size:"sm",onClick:()=>h(!m),children:m?"Cancel":"Change Vendor"})]}),m?n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[n.jsx(G,{children:"Select New Vendor"}),n.jsxs(at,{value:x,onValueChange:p,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Choose a vendor"})}),n.jsx(st,{children:c.map(y=>n.jsx(ne,{value:y.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(cr,{className:"h-4 w-4"}),n.jsx("span",{children:y.name}),y.company_name&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",y.company_name,")"]})]})},y.id))})]})]}):n.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 border rounded-lg bg-muted/50",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(G,{className:"text-xs text-muted-foreground",children:"Vendor Name"}),n.jsx("p",{className:"font-semibold",children:u.name})]}),n.jsxs("div",{children:[n.jsx(G,{className:"text-xs text-muted-foreground",children:"Company Name"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(cr,{className:"h-4 w-4 text-muted-foreground"}),u.company_name||"N/A"]})]}),n.jsxs("div",{children:[n.jsx(G,{className:"text-xs text-muted-foreground",children:"Contact Person"}),n.jsx("p",{children:u.contact_person||"N/A"})]}),n.jsxs("div",{children:[n.jsx(G,{className:"text-xs text-muted-foreground",children:"Category"}),n.jsx("p",{children:u.category||"N/A"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(G,{className:"text-xs text-muted-foreground",children:"Email"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(yn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:`mailto:${u.email}`,className:"text-primary hover:underline",children:u.email})]})]}),n.jsxs("div",{children:[n.jsx(G,{className:"text-xs text-muted-foreground",children:"Phone"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(So,{className:"h-4 w-4 text-muted-foreground"}),u.phone||"N/A"]})]}),n.jsxs("div",{children:[n.jsx(G,{className:"text-xs text-muted-foreground",children:"Website"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(Xl,{className:"h-4 w-4 text-muted-foreground"}),u.website?n.jsx("a",{href:u.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:u.website}):"N/A"]})]}),n.jsxs("div",{children:[n.jsx(G,{className:"text-xs text-muted-foreground",children:"Address"}),n.jsxs("p",{className:"flex items-start gap-2",children:[n.jsx(ha,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsxs("span",{className:"text-sm",children:[u.address||"N/A",u.city&&`, ${u.city}`,u.country&&`, ${u.country}`]})]})]})]}),n.jsxs("div",{className:"col-span-2 grid grid-cols-3 gap-4 pt-4 border-t",children:[n.jsxs("div",{children:[n.jsx(G,{className:"text-xs text-muted-foreground",children:"Lead Time"}),n.jsx("p",{className:"font-semibold",children:u.lead_time||"N/A"})]}),n.jsxs("div",{children:[n.jsx(G,{className:"text-xs text-muted-foreground",children:"Reliability"}),n.jsx("p",{className:"font-semibold",children:u.reliability||"N/A"})]}),n.jsxs("div",{children:[n.jsx(G,{className:"text-xs text-muted-foreground",children:"Total Orders"}),n.jsx("p",{className:"font-semibold",children:u.orders_count||0})]})]})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"No vendor assigned or vendor not found in the system."}),n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[n.jsx(G,{children:"Assign Vendor"}),n.jsxs(at,{value:x,onValueChange:p,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Choose a vendor"})}),n.jsx(st,{children:c.map(y=>n.jsx(ne,{value:y.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(cr,{className:"h-4 w-4"}),n.jsx("span",{children:y.name}),y.company_name&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",y.company_name,")"]})]})},y.id))})]})]})]})}),n.jsxs(Ba,{children:[n.jsx(te,{variant:"outline",onClick:()=>t(!1),children:"Close"}),(m||!u)&&n.jsx(te,{onClick:j,disabled:!x,children:u?"Change Vendor":"Assign Vendor"})]})]})})};var E3="Switch",[V7e,Knt]=Zs(E3),[z7e,W7e]=V7e(E3),bQ=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[m,h]=v.useState(null),x=Dt(t,w=>h(w)),p=v.useRef(!1),g=m?u||!!m.closest("form"):!0,[j=!1,y]=Oa({prop:a,defaultProp:i,onChange:d});return n.jsxs(z7e,{scope:r,checked:j,disabled:l,children:[n.jsx(ft.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":_Q(j),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:Ge(e.onClick,w=>{y(b=>!b),g&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),g&&n.jsx(H7e,{control:m,bubbles:!p.current,name:s,value:c,checked:j,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});bQ.displayName=E3;var wQ="SwitchThumb",NQ=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,a=W7e(wQ,r);return n.jsx(ft.span,{"data-state":_Q(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});NQ.displayName=wQ;var H7e=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,i=v.useRef(null),o=U2(r),l=yN(t);return v.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&f){const m=new Event("click",{bubbles:s});f.call(c,r),c.dispatchEvent(m)}},[o,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function _Q(e){return e?"checked":"unchecked"}var SQ=bQ,q7e=NQ;const Tn=v.forwardRef(({className:e,...t},r)=>n.jsx(SQ,{className:ge("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(q7e,{className:ge("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Tn.displayName=SQ.displayName;var G7e="Separator",Y$="horizontal",K7e=["horizontal","vertical"],CQ=v.forwardRef((e,t)=>{const{decorative:r,orientation:s=Y$,...a}=e,i=Y7e(s)?s:Y$,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(ft.div,{"data-orientation":i,...l,...a,ref:t})});CQ.displayName=G7e;function Y7e(e){return K7e.includes(e)}var AQ=CQ;const Ft=v.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...s},a)=>n.jsx(AQ,{ref:a,decorative:r,orientation:t,className:ge("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Ft.displayName=AQ.displayName;const X$=e=>{let t;const r=new Set,s=(d,u)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const m=t;t=u??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(h=>h(t,m))}},a=()=>t,l={setState:s,getState:a,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d))},c=t=e(s,a,l);return l},X7e=e=>e?X$(e):X$,Q7e=e=>e;function Z7e(e,t=Q7e){const r=z.useSyncExternalStore(e.subscribe,z.useCallback(()=>t(e.getState()),[e,t]),z.useCallback(()=>t(e.getInitialState()),[e,t]));return z.useDebugValue(r),r}const J7e=e=>{const t=X7e(e),r=s=>Z7e(t,s);return Object.assign(r,t),r},eUe=e=>J7e;function tUe(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=r.getItem(a))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const hP=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(s){return hP(s)(r)},catch(s){return this}}}catch(r){return{then(s){return this},catch(s){return hP(s)(r)}}}},rUe=(e,t)=>(r,s,a)=>{let i={storage:tUe(()=>localStorage),partialize:p=>p,version:0,merge:(p,g)=>({...g,...p}),...t},o=!1;const l=new Set,c=new Set;let d=i.storage;if(!d)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...p)},s,a);const u=()=>{const p=i.partialize({...s()});return d.setItem(i.name,{state:p,version:i.version})},f=a.setState;a.setState=(p,g)=>(f(p,g),u());const m=e((...p)=>(r(...p),u()),s,a);a.getInitialState=()=>m;let h;const x=()=>{var p,g;if(!d)return;o=!1,l.forEach(y=>{var w;return y((w=s())!=null?w:m)});const j=((g=i.onRehydrateStorage)==null?void 0:g.call(i,(p=s())!=null?p:m))||void 0;return hP(d.getItem.bind(d))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate){const w=i.migrate(y.state,y.version);return w instanceof Promise?w.then(b=>[!0,b]):[!0,w]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var w;const[b,N]=y;if(h=i.merge(N,(w=s())!=null?w:m),r(h,!0),b)return u()}).then(()=>{j==null||j(h,void 0),h=s(),o=!0,c.forEach(y=>y(h))}).catch(y=>{j==null||j(void 0,y)})};return a.persist={setOptions:p=>{i={...i,...p},p.storage&&(d=p.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},i.skipHydration||x(),h||m},nUe=rUe,sUe=()=>({vendors:[{id:"vendor-001",name:"IKEA",companyName:"IKEA Hungary Kft.",contactPerson:"Sales Department",email:"sales@ikea.hu",phone:"+36 1 123 4567",website:"https://www.ikea.com/hu/hu/",notes:"Main furniture supplier"},{id:"vendor-002",name:"Royalty Line",companyName:"Royalty Line Europe",contactPerson:"Customer Service",email:"support@royaltyline.eu",phone:"+36 30 234 5678",website:"https://royaltyline.eu/",notes:"Kitchen and cookware specialist"},{id:"vendor-003",name:"JYSK",companyName:"JYSK Hungary",contactPerson:"B2B Sales",email:"b2b@jysk.hu",phone:"+36 1 345 6789",website:"https://jysk.hu/",notes:"Bedroom furniture and textiles"}],clients:[{id:"client-001",name:"John Doe",email:"john.doe@example.com",phone:"+36 20 123 4567",accountStatus:"Active",type:"Investor",notes:"Long-term investor with multiple properties"},{id:"client-002",name:"Anna Nagy",email:"anna.nagy@example.com",phone:"+36 30 987 6543",accountStatus:"Active",type:"Investor",notes:""},{id:"client-003",name:"Mikls Szab",email:"miklos.szabo@example.com",phone:"+36 70 555 1234",accountStatus:"Active",type:"Investor",notes:""},{id:"client-internal",name:"Buy2Rent Internal",email:"info@buy2rent.com",phone:"+36 1 234 5678",accountStatus:"Active",type:"Buy2Rent Internal",notes:"Internal company projects"}],apartments:[{id:"apt-001",name:"Izabella utca 3  A/12",type:"furnishing",clientId:"client-001",owner:"John Doe",address:"Izabella u. 3, Budapest",status:"Ordering",designer:"Barbara Kovcs",startDate:"2025-10-15",dueDate:"2025-12-05",progress:68,notes:""},{id:"apt-002",name:"Vci t 41  3.em 7",type:"renovating",clientId:"client-002",owner:"Anna Nagy",address:"Vci t 41, Budapest",status:"Renovating",designer:"Barbara Kovcs",startDate:"2025-09-10",dueDate:"2025-11-28",progress:52,notes:""},{id:"apt-003",name:"Andrssy t 25  B/5",type:"furnishing",clientId:"client-003",owner:"Mikls Szab",address:"Andrssy t 25, Budapest",status:"Design Approved",designer:"Barbara Kovcs",startDate:"2025-10-01",dueDate:"2025-12-01",progress:74,notes:""}],products:[{id:"p-1001",apartmentId:"apt-001",product:"Kanap  3 szemlyes",vendor:"IKEA",vendorLink:"https://www.ikea.com/hu/hu/",sku:"IK-SOFA-3",unitPrice:159999,qty:1,availability:"In Stock",status:"Ordered",statusTags:["Ordered"],deliveryStatusTags:["Scheduled"],eta:"2025-11-14",category:"Living Room",room:"Nappali",imageUrl:"",orderedOn:"2025-11-01",expectedDeliveryDate:"2025-11-14",paymentStatus:"Partially Paid",paymentDueDate:"2025-11-12",paymentAmount:159999,paidAmount:63999,issueState:"AI Resolving",issueId:"issue-002",vendorId:"vendor-001"},{id:"p-1002",apartmentId:"apt-001",product:"tkezasztal  Tlgy",vendor:"IKEA",vendorLink:"https://www.ikea.com/hu/hu/",sku:"IK-DINE-OAK",unitPrice:89999,qty:1,availability:"Backorder",status:"Waiting For Stock",statusTags:["Ordered","Waiting For Stock"],deliveryStatusTags:["Scheduled"],eta:"2025-11-25",category:"Dining",room:"tkez",imageUrl:"",orderedOn:"2025-11-02",expectedDeliveryDate:"2025-11-25",paymentStatus:"Partially Paid",paymentDueDate:"2025-11-12",paymentAmount:89999,paidAmount:36001,issueState:"No Issue",vendorId:"vendor-001"},{id:"p-1003",apartmentId:"apt-001",product:"Marble Cookware Set",vendor:"Royalty Line",vendorLink:"https://royaltyline.eu/",sku:"RL-COOK-SET",unitPrice:12999,qty:2,availability:"In Stock",status:"Damaged",statusTags:["Delivered","Damaged"],deliveryStatusTags:["Delivered","Issue Reported"],eta:"2025-11-12",category:"Kitchen",room:"Konyha",imageUrl:"",orderedOn:"2025-10-28",actualDeliveryDate:"2025-11-04",expectedDeliveryDate:"2025-11-04",paymentStatus:"Paid",paymentDueDate:"2025-11-03",paymentAmount:25998,paidAmount:25998,issueState:"AI Resolving",issueId:"issue-001",vendorId:"vendor-002"},{id:"p-1004",apartmentId:"apt-003",product:"King Size gy - Fekete",vendor:"JYSK",vendorLink:"https://jysk.hu/",sku:"JY-BED-KING-BLK",unitPrice:129e3,qty:1,availability:"In Stock",status:"Delivered",statusTags:["Delivered"],deliveryStatusTags:["Delivered"],category:"Bedroom",room:"Hlszoba",imageUrl:"",orderedOn:"2025-10-20",actualDeliveryDate:"2025-11-03",expectedDeliveryDate:"2025-11-03",paymentStatus:"Paid",paymentDueDate:"2025-10-25",paymentAmount:129e3,paidAmount:129e3,issueState:"No Issue",vendorId:"vendor-003"}],deliveries:[{id:"del-001",apartmentId:"apt-001",vendor:"IKEA",orderReference:"IK-ORD-001",expectedDate:"2025-11-14",status:"Scheduled",notes:"Delivery window: 9:00-12:00"},{id:"del-002",apartmentId:"apt-001",vendor:"Royalty Line",orderReference:"RL-ORD-002",expectedDate:"2025-11-04",actualDate:"2025-11-04",receivedBy:"John Doe",status:"Issue Reported",notes:"Items damaged during shipping",proofPhotos:[]}],payments:[{id:"pay-001",apartmentId:"apt-001",vendor:"IKEA",orderReference:"IK-ORD-001",totalAmount:249998,amountPaid:1e5,dueDate:"2025-11-12",status:"Partial",lastPaymentDate:"2025-11-01",paymentHistory:[{date:"2025-11-01",amount:1e5,method:"Bank Transfer",referenceNo:"TRF-20251101-001",note:"Initial payment"}]},{id:"pay-002",apartmentId:"apt-001",vendor:"Royalty Line",orderReference:"RL-ORD-002",totalAmount:25998,amountPaid:25998,dueDate:"2025-11-03",status:"Paid",lastPaymentDate:"2025-10-30",paymentHistory:[{date:"2025-10-30",amount:25998,method:"Credit Card",referenceNo:"CC-20251030-002"}]}],issues:[{id:"issue-001",apartmentId:"apt-001",productId:"p-1003",productName:"Marble Cookware Set",vendor:"Royalty Line",type:"Broken/Damaged",description:"Two pans arrived with cracked marble coating. Product unusable.",reportedOn:"2025-11-04",status:"Pending Vendor Response",photos:[],aiActivated:!0,aiCommunicationLog:[{timestamp:"2025-11-04T16:12:00",sender:"AI",message:`Dear Royalty Line Team,

We received order RL-ORD-002 (Marble Cookware Set, SKU: RL-COOK-SET) on November 4th, 2025. Unfortunately, two pans arrived with cracked marble coating, rendering them unusable.

Kindly confirm the replacement or refund procedure at your earliest convenience.

Best regards,
Buy2Rent FPMS`},{timestamp:"2025-11-04T18:45:00",sender:"Vendor",message:`Hello,

Thank you for contacting us. We apologize for the damaged items. We will arrange a replacement shipment immediately.

Please return the damaged items to our warehouse. RMA #RL-2025-1104.

Expected replacement delivery: November 10th, 2025.

Best regards,
Royalty Line Customer Service`},{timestamp:"2025-11-04T18:46:00",sender:"System",message:" HUMAN ACTION REQUIRED: Vendor requires damaged item to be shipped back. Please arrange pickup or return shipping for damaged cookware set by November 8th, 2025. RMA Number: RL-2025-1104."},{timestamp:"2025-11-04T19:00:00",sender:"AI",message:`Thank you for your prompt response. We acknowledge the replacement shipment scheduled for November 10th. Return shipment will be arranged as per RMA #RL-2025-1104.

Best regards,
Buy2Rent FPMS`}],resolutionStatus:"Resolution Agreed"},{id:"issue-002",apartmentId:"apt-001",productId:"p-1001",productName:"Kanap  3 szemlyes",vendor:"IKEA",type:"Wrong Item/Color",description:"Sofa delivered in wrong color - ordered grey (kivitelben szrke), received beige.",reportedOn:"2025-11-05",status:"Pending Vendor Response",photos:[],aiActivated:!0,aiCommunicationLog:[{timestamp:"2025-11-05T09:15:00",sender:"AI",message:`Dear IKEA Customer Service,

We have an issue with order IK-ORD-001 for the 3-seater sofa (SKU: IK-SOFA-3).

Ordered: Grey color (kivitelben szrke)
Received: Beige color

Could you please advise on the exchange process? We need the correct grey sofa as per our original order.

Best regards,
Buy2Rent Procurement Team`},{timestamp:"2025-11-05T11:30:00",sender:"Vendor",message:`Hello,

Thank you for reporting this issue. We sincerely apologize for the color mix-up.

We have checked our inventory and the grey 3-seater sofa is currently in stock. We can arrange:

1. Pickup of the beige sofa: November 8th, 2025
2. Delivery of the correct grey sofa: November 12th, 2025

No additional charges will apply. We will send you a return label via email within 2 hours.

Reference Number: IKEA-EXCH-20251105-001

Best regards,
IKEA Hungary Customer Service`},{timestamp:"2025-11-05T11:45:00",sender:"AI",message:`Thank you for your prompt response and the proposed solution.

We confirm:
- Pickup of beige sofa: November 8th, 2025 
- Delivery of grey sofa: November 12th, 2025 
- Reference: IKEA-EXCH-20251105-001 

We will ensure the beige sofa is ready for pickup on the 8th. Please send the return label to our registered email address.

Thank you for your cooperation.

Best regards,
Buy2Rent Procurement Team`},{timestamp:"2025-11-05T14:20:00",sender:"Vendor",message:`Perfect! Return label has been sent to your email (info@buy2rent.com).

Pickup scheduled for November 8th between 10:00-14:00.
Delivery scheduled for November 12th between 9:00-13:00.

We have also applied a 10% courtesy discount on your next purchase as an apology for the inconvenience.

Thank you for your understanding!

IKEA Hungary`},{timestamp:"2025-11-05T14:25:00",sender:"AI",message:`Excellent! We have received the return label.

We appreciate the courtesy discount and your professional handling of this matter. Looking forward to receiving the correct grey sofa on November 12th.

Best regards,
Buy2Rent Procurement Team`}],resolutionStatus:"Resolution Agreed"}],activities:[{id:"act-001",apartmentId:"apt-001",timestamp:"2025-11-04T09:15:00",actor:"Admin",icon:"ShoppingCart",summary:'Product "Kanap  3 szemlyes" marked as Ordered',type:"product"},{id:"act-002",apartmentId:"apt-001",timestamp:"2025-11-04T14:30:00",actor:"Admin",icon:"CreditCard",summary:"Partial payment of 100,000 HUF logged for IKEA order (Outstanding: 149,998 HUF)",type:"payment"},{id:"act-003",apartmentId:"apt-001",timestamp:"2025-11-04T16:12:00",actor:"AI Assistant",icon:"Mail",summary:"AI emailed vendor Royalty Line about broken cookware set",type:"ai"},{id:"act-004",apartmentId:"apt-001",timestamp:"2025-11-04T11:45:00",actor:"John Doe",icon:"PackageCheck",summary:"Delivery received from Royalty Line - issue reported",type:"delivery"}],aiNotes:[{id:"ai-001",apartmentId:"apt-001",timestamp:"2025-11-04T16:12:00",sender:"AI",content:`Dear Royalty Line Team,

We received order RL-ORD-002 (Marble Cookware Set, SKU: RL-COOK-SET) on November 4th, 2025. Unfortunately, two pans arrived with cracked marble coating, rendering them unusable.

Kindly confirm the replacement or refund procedure at your earliest convenience.

Best regards,
Buy2Rent FPMS`,emailSubject:"Issue Report: Damaged Items - Order RL-ORD-002",relatedTo:"issue-001"}],manualNotes:{}}),_l=sUe(),Rl=eUe()(nUe((e,t)=>({clients:_l.clients,apartments:_l.apartments,vendors:_l.vendors,products:_l.products,deliveries:_l.deliveries,payments:_l.payments,issues:_l.issues,activities:_l.activities,aiNotes:_l.aiNotes,manualNotes:_l.manualNotes,addClient:r=>e(s=>({clients:[...s.clients,{...r,id:`client-${Date.now()}`}]})),updateClient:(r,s)=>e(a=>({clients:a.clients.map(i=>i.id===r?{...i,...s}:i)})),deleteClient:r=>e(s=>({clients:s.clients.filter(a=>a.id!==r)})),getClient:r=>t().clients.find(s=>s.id===r),addVendor:r=>e(s=>({vendors:[...s.vendors,{...r,id:`vendor-${Date.now()}`}]})),updateVendor:(r,s)=>e(a=>({vendors:a.vendors.map(i=>i.id===r?{...i,...s}:i)})),deleteVendor:r=>e(s=>({vendors:s.vendors.filter(a=>a.id!==r)})),getVendor:r=>t().vendors.find(s=>s.id===r),getVendorByName:r=>t().vendors.find(s=>s.name.toLowerCase()===r.toLowerCase()),addApartment:r=>e(s=>({apartments:[...s.apartments,{...r,id:`apt-${Date.now()}`}]})),updateApartment:(r,s)=>e(a=>({apartments:a.apartments.map(i=>i.id===r?{...i,...s}:i)})),deleteApartment:r=>e(s=>({apartments:s.apartments.filter(a=>a.id!==r)})),getApartment:r=>t().apartments.find(s=>s.id===r),getApartmentsByType:r=>t().apartments.filter(s=>s.type===r),getApartmentsByClient:r=>t().apartments.filter(s=>s.clientId===r),addProduct:r=>e(s=>({products:[...s.products,{...r,id:`p-${Date.now()}`}]})),addProducts:r=>e(s=>({products:[...s.products,...r.map((a,i)=>({...a,id:`p-${Date.now()}-${i}`}))]})),updateProduct:(r,s)=>e(a=>({products:a.products.map(i=>i.id===r?{...i,...s}:i)})),deleteProduct:r=>e(s=>({products:s.products.filter(a=>a.id!==r)})),getProduct:r=>t().products.find(s=>s.id===r),getProductsByApartment:r=>t().products.filter(s=>s.apartmentId===r),addDelivery:r=>e(s=>({deliveries:[...s.deliveries,{...r,id:`del-${Date.now()}`}]})),updateDelivery:(r,s)=>e(a=>({deliveries:a.deliveries.map(i=>i.id===r?{...i,...s}:i)})),getDeliveriesByApartment:r=>t().deliveries.filter(s=>s.apartmentId===r),addPayment:r=>e(s=>({payments:[...s.payments,{...r,id:`pay-${Date.now()}`}]})),updatePayment:(r,s)=>e(a=>({payments:a.payments.map(i=>i.id===r?{...i,...s}:i)})),addPaymentToHistory:(r,s)=>e(a=>({payments:a.payments.map(i=>i.id===r?{...i,paymentHistory:[...i.paymentHistory,s],amountPaid:i.amountPaid+s.amount,lastPaymentDate:s.date,status:i.amountPaid+s.amount>=i.totalAmount?"Paid":"Partial"}:i)})),getPaymentsByApartment:r=>t().payments.filter(s=>s.apartmentId===r),addIssue:r=>e(s=>({issues:[...s.issues,{...r,id:`issue-${Date.now()}`}]})),updateIssue:(r,s)=>e(a=>({issues:a.issues.map(i=>i.id===r?{...i,...s}:i)})),getIssuesByApartment:r=>t().issues.filter(s=>s.apartmentId===r),addActivity:r=>e(s=>({activities:[...s.activities,{...r,id:`act-${Date.now()}`,timestamp:new Date().toISOString()}]})),getActivitiesByApartment:r=>t().activities.filter(s=>s.apartmentId===r).sort((s,a)=>new Date(a.timestamp).getTime()-new Date(s.timestamp).getTime()),addAINote:r=>e(s=>({aiNotes:[...s.aiNotes,{...r,id:`ai-${Date.now()}`,timestamp:new Date().toISOString()}]})),getAINotesByApartment:r=>t().aiNotes.filter(s=>s.apartmentId===r).sort((s,a)=>new Date(a.timestamp).getTime()-new Date(s.timestamp).getTime()),setManualNote:(r,s)=>e(a=>({manualNotes:{...a.manualNotes,[r]:s}})),getManualNote:r=>t().manualNotes[r]||""}),{name:"fpms-data-storage"})),EQ=({open:e,onOpenChange:t,product:r,onIssueUpdated:s})=>{const a=Rl(C=>C.getIssuesByApartment),i=Rl(C=>C.addIssue),o=Rl(C=>C.updateIssue),l=Rl(C=>C.updateProduct),c=Rl(C=>C.addActivity),d=Rl(C=>C.addAINote),f=a(r.apartmentId).find(C=>C.id===r.issueId||C.productId===r.id),[m,h]=v.useState(""),[x,p]=v.useState("Broken/Damaged"),[g,j]=v.useState(!1),[y,w]=v.useState("Open");v.useEffect(()=>{f?(h(f.description),p(f.type),j(f.aiActivated||!1),w(f.resolutionStatus||"Open")):(h(""),p("Broken/Damaged"),j(!1),w("Open"))},[f,e]);const b=()=>{if(!m.trim()){Be.error("Please provide a description of the issue");return}if(f){o(f.id,{description:m,type:x,aiActivated:g,resolutionStatus:y});const C=g?"AI Resolving":y==="Closed"?"Resolved":"Issue Reported";l(r.id,{issueState:C}),Be.success("Issue updated")}else{const C={apartmentId:r.apartmentId,productId:r.id,productName:r.product,vendor:r.vendor,type:x,description:m,reportedOn:new Date().toISOString(),status:"Open",aiActivated:g,aiCommunicationLog:[],resolutionStatus:"Open"};i(C);const A=g?"AI Resolving":"Issue Reported";l(r.id,{issueState:A}),c({apartmentId:r.apartmentId,actor:"Admin",icon:"AlertCircle",summary:`Issue reported for "${r.product}": ${x}`,type:"issue"}),g&&setTimeout(()=>{d({apartmentId:r.apartmentId,sender:"AI",content:`Automatically analyzing issue with ${r.product}. Preparing vendor communication for ${r.vendor}...`})},500),Be.success("Issue created"+(g?" - AI activated":""))}s==null||s(),t(!1)},N=()=>{const C=!g;j(C),f&&C&&Be.info("AI Chatbot activated for this issue")},_=C=>{switch(C){case"Closed":return n.jsx(Br,{className:"h-4 w-4 text-success"});case"Resolution Agreed":return n.jsx(Br,{className:"h-4 w-4 text-primary"});case"Pending Vendor Response":return n.jsx(jr,{className:"h-4 w-4 text-warning"});default:return n.jsx(_t,{className:"h-4 w-4 text-danger"})}};return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(Hr,{className:"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs(Jr,{children:[n.jsxs(en,{children:["Issue Management - ",r.product]}),n.jsx(ss,{children:"Report and track issues, activate AI assistance for automated vendor communication"})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto space-y-6 py-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"issueType",children:"Issue Type"}),n.jsxs(at,{value:x,onValueChange:C=>p(C),children:[n.jsx(nt,{children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"Broken/Damaged",children:"Broken/Damaged"}),n.jsx(ne,{value:"Wrong Item/Color",children:"Wrong Item/Color"}),n.jsx(ne,{value:"Missing Parts",children:"Missing Parts"}),n.jsx(ne,{value:"Incorrect Quantity",children:"Incorrect Quantity"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"description",children:"Detailed Description"}),n.jsx(da,{id:"description",value:m,onChange:C=>h(C.target.value),placeholder:"Describe the issue in detail...",rows:4})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"resolutionStatus",children:"Resolution Status"}),n.jsxs(at,{value:y,onValueChange:C=>w(C),children:[n.jsx(nt,{children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"Open",children:"Open"}),n.jsx(ne,{value:"Pending Vendor Response",children:"Pending Vendor Response"}),n.jsx(ne,{value:"Resolution Agreed",children:"Resolution Agreed"}),n.jsx(ne,{value:"Closed",children:"Closed"})]})]})]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/30",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vs,{className:"h-5 w-5 text-primary"}),n.jsx(G,{htmlFor:"aiActivated",className:"text-base font-semibold cursor-pointer",children:"Activate AI Chatbot for Resolution"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"AI will automatically communicate with vendor to resolve this issue"})]}),n.jsx(Tn,{id:"aiActivated",checked:g,onCheckedChange:N})]}),g&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[n.jsx(N7,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:"AI Chatbot is active"}),n.jsxs(te,{size:"sm",variant:"outline",className:"ml-auto",onClick:()=>Be.info("AI chatbot paused for this issue"),children:[n.jsx(Pse,{className:"h-3 w-3 mr-1"}),"Pause AI"]})]})]}),f&&f.aiCommunicationLog&&f.aiCommunicationLog.length>0&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(G,{className:"text-base font-semibold",children:"AI Communication Log"}),n.jsxs(Ae,{variant:"outline",children:[f.aiCommunicationLog.length," messages"]})]}),n.jsx(ac,{className:"h-64 border rounded-lg p-4",children:n.jsx("div",{className:"space-y-4",children:f.aiCommunicationLog.map((C,A)=>{const E=C.message.toLowerCase().includes("please arrange")||C.message.toLowerCase().includes("action required")||C.message.toLowerCase().includes("human action");return n.jsxs("div",{className:ge("flex gap-3 p-3 rounded-lg",C.sender==="AI"?"bg-primary/5":"bg-muted",E&&"border-2 border-warning shadow-sm"),children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:C.sender==="AI"?n.jsx(vs,{className:"h-4 w-4 text-primary"}):C.sender==="Vendor"?n.jsx($n,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(_t,{className:"h-4 w-4 text-warning"})}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ae,{variant:C.sender==="AI"?"default":"outline",className:ge("text-xs",E&&"bg-warning text-warning-foreground"),children:C.sender}),E&&n.jsxs(Ae,{variant:"outline",className:"text-xs bg-warning/10 text-warning border-warning/50",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Action Required"]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(C.timestamp).toLocaleString()})]}),n.jsx("p",{className:ge("text-sm whitespace-pre-wrap",E&&"font-medium"),children:C.message})]})]},A)})})}),f.aiCommunicationLog.some(C=>C.message.toLowerCase().includes("please arrange")||C.message.toLowerCase().includes("action required"))&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-warning/10 border border-warning/30 rounded-lg",children:[n.jsx(_t,{className:"h-5 w-5 text-warning"}),n.jsx("span",{className:"text-sm font-medium text-warning-foreground",children:"Human action required - please review the communication log above"})]})]})]}),f&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{}),n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[_(f.resolutionStatus),n.jsx("span",{className:"font-medium",children:"Current Status:"}),n.jsx(Ae,{children:f.resolutionStatus||"Open"})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Reported: ",new Date(f.reportedOn).toLocaleDateString()]})]})]})]}),n.jsxs(Ba,{children:[n.jsx(te,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsxs(te,{onClick:b,children:[f?"Update":"Create"," Issue"]})]})]})})},aUe=({open:e,onOpenChange:t,product:r})=>{if(!r)return null;const s=a=>a!=null&&a.includes("DPD")?"bg-blue-500 text-white":a!=null&&a.includes("GLS")?"bg-yellow-500 text-black":a!=null&&a.includes("Sameday")?"bg-green-500 text-white":"bg-muted text-muted-foreground";return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(Hr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Jr,{children:[n.jsxs(en,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5 text-primary"}),"Delivery Location Details"]}),n.jsxs(ss,{children:["Complete delivery information for ",r.product]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start gap-4 p-4 bg-muted/50 rounded-lg",children:[r.product_image?n.jsx("img",{src:r.product_image,alt:r.product,className:"h-16 w-16 rounded object-cover"}):n.jsx("div",{className:"h-16 w-16 rounded bg-muted flex items-center justify-center",children:n.jsx(ct,{className:"h-8 w-8 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-lg",children:r.product}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["SKU: ",r.sku]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Vendor: ",r.vendor]})]})]}),n.jsx(Ft,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(wr,{className:"h-4 w-4 text-primary"}),n.jsx("h4",{className:"font-semibold",children:"Delivery Service"})]}),n.jsx(Ae,{className:s(r.deliveryType),variant:"secondary",children:r.deliveryType||"Not specified"}),r.trackingNumber&&n.jsxs("div",{className:"mt-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Tracking Number:"}),n.jsx("span",{className:"ml-2 font-mono font-medium",children:r.trackingNumber})]})]}),n.jsx(Ft,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(ha,{className:"h-4 w-4 text-primary"}),n.jsx("h4",{className:"font-semibold",children:"Delivery Address"})]}),n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg space-y-2",children:[n.jsx("p",{className:"font-medium",children:r.deliveryAddress||"Not specified"}),r.deliveryCity&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.deliveryCity,", ",r.deliveryPostalCode||""]}),r.deliveryCountry&&n.jsx("p",{className:"text-sm text-muted-foreground",children:r.deliveryCountry})]})]}),n.jsx(Ft,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(ct,{className:"h-4 w-4 text-primary"}),n.jsx("h4",{className:"font-semibold",children:"How to Receive"})]}),n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg space-y-3",children:[r.deliveryInstructions?n.jsx("p",{className:"text-sm leading-relaxed",children:r.deliveryInstructions}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No special instructions"}),r.deliveryContactPerson&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx($n,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),n.jsx("span",{className:"font-medium",children:r.deliveryContactPerson})]}),r.deliveryContactPhone&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(So,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:r.deliveryContactPhone})]}),r.deliveryContactEmail&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(yn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:r.deliveryContactEmail})]})]})]}),n.jsx(Ft,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(jr,{className:"h-4 w-4 text-primary"}),n.jsx("h4",{className:"font-semibold",children:"Delivery Schedule"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground mb-1",children:"Expected Delivery"}),n.jsx("p",{className:"font-medium",children:r.expectedDeliveryDate?new Date(r.expectedDeliveryDate).toLocaleDateString():"Not set"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground mb-1",children:"Actual Delivery"}),n.jsx("p",{className:"font-medium",children:r.actualDeliveryDate?new Date(r.actualDeliveryDate).toLocaleDateString():"Pending"})]}),r.deliveryTimeWindow&&n.jsxs("div",{className:"col-span-2",children:[n.jsx("p",{className:"text-muted-foreground mb-1",children:"Time Window"}),n.jsx("p",{className:"font-medium",children:r.deliveryTimeWindow})]})]})]}),r.deliveryNotes&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Additional Notes"}),n.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed p-3 bg-muted/30 rounded",children:r.deliveryNotes})]})]})]})]})})},iUe=({open:e,onOpenChange:t,currentSku:r,productId:s,productName:a,onSkuUpdated:i})=>{const[o,l]=v.useState(r||""),[c,d]=v.useState(!1);v.useEffect(()=>{e&&l(r||"")},[e,r]);const u=async()=>{if(!o.trim()){Be.error("SKU cannot be empty");return}d(!0);try{i==null||i(o.trim()),t(!1)}catch(m){console.error("Error updating SKU:",m),Be.error("Failed to update SKU")}finally{d(!1)}},f=m=>{m.key==="Enter"&&!c&&u()};return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(Hr,{className:"max-w-md",children:[n.jsxs(Jr,{children:[n.jsxs(en,{className:"flex items-center gap-2",children:[n.jsx(ct,{className:"h-5 w-5"}),"Edit SKU"]}),n.jsxs(ss,{children:['Update the SKU for "',a,'"']})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"sku",children:"SKU (Stock Keeping Unit)"}),n.jsx(fe,{id:"sku",value:o,onChange:m=>l(m.target.value),onKeyPress:f,placeholder:"Enter SKU code",className:"font-mono",autoFocus:!0,disabled:c}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter a unique identifier for this product"})]})}),n.jsxs(Ba,{children:[n.jsx(te,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),n.jsxs(te,{onClick:u,disabled:c||!o.trim(),children:[c&&n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Save SKU"]})]})]})})},oUe=({open:e,onOpenChange:t,currentPrice:r,productId:s,productName:a,onPriceUpdated:i})=>{const[o,l]=v.useState((r==null?void 0:r.toString())||""),[c,d]=v.useState(!1);v.useEffect(()=>{if(e){const h=r?Math.round(parseFloat(r.toString())):0;l(h.toString())}},[e,r]);const u=async()=>{const h=parseInt(o);if(!o.trim()||isNaN(h)){Be.error("Please enter a valid price");return}if(h<0){Be.error("Price cannot be negative");return}d(!0);try{i==null||i(h.toString()),t(!1)}catch(x){console.error("Error updating unit price:",x),Be.error("Failed to update unit price")}finally{d(!1)}},f=h=>{h.key==="Enter"&&!c&&u()},m=h=>{const x=h.target.value;(x===""||/^\d+$/.test(x))&&l(x)};return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(Hr,{className:"max-w-md",children:[n.jsxs(Jr,{children:[n.jsxs(en,{className:"flex items-center gap-2",children:[n.jsx(br,{className:"h-5 w-5"}),"Edit Unit Price"]}),n.jsxs(ss,{children:['Update the unit price for "',a,'"']})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"price",children:"Unit Price (HUF)"}),n.jsxs("div",{className:"relative",children:[n.jsx(fe,{id:"price",value:o,onChange:m,onKeyPress:f,placeholder:"Enter unit price",className:"pr-12",autoFocus:!0,disabled:c,type:"text",inputMode:"numeric"}),n.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground",children:"HUF"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the price per unit in Hungarian Forint (whole numbers only)"})]})}),n.jsxs(Ba,{children:[n.jsx(te,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),n.jsxs(te,{onClick:u,disabled:c||!o.trim()||isNaN(parseInt(o)),children:[c&&n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Price"]})]})]})})},lUe=({open:e,onOpenChange:t,currentQuantity:r,productId:s,productName:a,onQuantityUpdated:i})=>{const[o,l]=v.useState((r==null?void 0:r.toString())||"1"),[c,d]=v.useState(!1);v.useEffect(()=>{e&&l((r==null?void 0:r.toString())||"1")},[e,r]);const u=async()=>{const p=parseInt(o);if(!o.trim()||isNaN(p)){Be.error("Please enter a valid quantity");return}if(p<=0){Be.error("Quantity must be greater than 0");return}d(!0);try{i==null||i(o.trim()),t(!1)}catch(g){console.error("Error updating quantity:",g),Be.error("Failed to update quantity")}finally{d(!1)}},f=p=>{p.key==="Enter"&&!c&&u()},m=p=>{const g=p.target.value;(g===""||/^\d+$/.test(g))&&l(g)},h=()=>{const p=parseInt(o)||0;l((p+1).toString())},x=()=>{const p=parseInt(o)||0;p>1&&l((p-1).toString())};return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(Hr,{className:"max-w-md",children:[n.jsxs(Jr,{children:[n.jsxs(en,{className:"flex items-center gap-2",children:[n.jsx(uh,{className:"h-5 w-5"}),"Edit Quantity"]}),n.jsxs(ss,{children:['Update the quantity for "',a,'"']})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"quantity",children:"Quantity"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(te,{type:"button",variant:"outline",size:"icon",onClick:x,disabled:c||parseInt(o)<=1,children:"-"}),n.jsx(fe,{id:"quantity",value:o,onChange:m,onKeyPress:f,placeholder:"Enter quantity",className:"text-center",autoFocus:!0,disabled:c,type:"text",inputMode:"numeric"}),n.jsx(te,{type:"button",variant:"outline",size:"icon",onClick:h,disabled:c,children:"+"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the number of units to order"})]})}),n.jsxs(Ba,{children:[n.jsx(te,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),n.jsxs(te,{onClick:u,disabled:c||!o.trim()||parseInt(o)<=0,children:[c&&n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Quantity"]})]})]})})},cUe=[{value:"Confirmed",label:"Confirmed",icon:Br,color:"text-yellow-500"},{value:"In Transit",label:"In Transit",icon:wr,color:"text-blue-500"},{value:"Delayed",label:"Delayed",icon:jr,color:"text-orange-500"},{value:"Received",label:"Received",icon:ct,color:"text-green-500"},{value:"Cancelled",label:"Cancelled",icon:Fl,color:"text-red-500"},{value:"Returned",label:"Returned",icon:Tse,color:"text-purple-500"}];function PQ({open:e,onOpenChange:t,deliveryId:r,currentStatus:s,orderReference:a,onStatusUpdated:i}){const{toast:o}=pr(),[l,c]=v.useState(s),[d,u]=v.useState(!1),[f,m]=v.useState(!1),[h,x]=v.useState(null),[p,g]=v.useState(""),[j,y]=v.useState(""),[w,b]=v.useState(void 0),[N,_]=v.useState(""),[C,A]=v.useState(""),[E,k]=v.useState(""),[O,I]=v.useState(""),[W,H]=v.useState(""),[F,T]=v.useState("");v.useEffect(()=>{e&&r?(g(""),y(""),b(void 0),_(""),A(""),k(""),I(""),H(""),T(""),x(null),m(!0),Fc.getDelivery(r).then(D=>{if(x(D),c(D.status),D.received_by&&y(D.received_by),D.actual_date)try{const Y=d0e(D.actual_date,"yyyy-MM-dd",new Date);b(Y)}catch(Y){console.error("Error parsing date:",Y)}if(D.status_history&&D.status_history.length>0){const Y=D.status_history[0];D.status==="Received"&&Y.received_by&&y(Y.received_by),D.status==="In Transit"&&Y.location&&_(Y.location),D.status==="Delayed"&&Y.delay_reason&&A(Y.delay_reason),D.status==="Returned"&&Y.notes&&k(Y.notes),D.status==="Cancelled"&&Y.notes&&I(Y.notes),D.status==="Confirmed"&&(Y.received_by&&H(Y.received_by),Y.notes&&T(Y.notes))}D.notes&&g(D.notes)}).catch(D=>{console.error("Error fetching delivery details:",D),o({title:"Error",description:"Failed to load delivery details",variant:"destructive"})}).finally(()=>{m(!1)})):e||(g(""),y(""),b(void 0),_(""),A(""),k(""),I(""),H(""),T(""),x(null))},[e,r,o]);const P=async()=>{var D,Y;if(!l){o({title:"Error",description:"Please select a status",variant:"destructive"});return}if(l==="Received"&&!j){o({title:"Error",description:"Please enter who received the delivery",variant:"destructive"});return}if(l==="Delayed"&&!C){o({title:"Error",description:"Please enter the delay reason",variant:"destructive"});return}if(l==="Returned"&&!E){o({title:"Error",description:"Please enter the return reason",variant:"destructive"});return}if(l==="Cancelled"&&!O){o({title:"Error",description:"Please enter the cancellation reason",variant:"destructive"});return}try{u(!0);const ae={status_notes:p};l==="Received"&&(ae.received_by=j,w&&(ae.actual_date=Ht(w,"yyyy-MM-dd"))),l==="In Transit"&&(ae.location=N),l==="Delayed"&&(ae.delay_reason=C),l==="Returned"&&(ae.status_notes=E+(p?`

Additional Notes: ${p}`:"")),l==="Cancelled"&&(ae.status_notes=O+(p?`

Additional Notes: ${p}`:"")),l==="Confirmed"&&(ae.received_by=W,ae.status_notes=F||p),await Fc.updateStatus(r,l,ae),o({title:"Success",description:`Delivery status updated to ${l}`}),t(!1),i&&i()}catch(ae){o({title:"Error",description:((Y=(D=ae.response)==null?void 0:D.data)==null?void 0:Y.error)||"Failed to update delivery status",variant:"destructive"})}finally{u(!1)}},M=()=>{switch(l){case"Received":return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"receivedBy",children:["Received By ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(fe,{id:"receivedBy",placeholder:"Enter recipient name",value:j,onChange:D=>y(D.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Delivery Date"}),n.jsxs(wh,{children:[n.jsx(Nh,{asChild:!0,children:n.jsxs(te,{variant:"outline",className:ge("w-full justify-start text-left font-normal",!w&&"text-muted-foreground"),children:[n.jsx(Wr,{className:"mr-2 h-4 w-4"}),w?Ht(w,"PPP"):"Pick a date"]})}),n.jsx(kf,{className:"w-auto p-0",align:"start",children:n.jsx($g,{mode:"single",selected:w,onSelect:b,initialFocus:!0})})]})]})]});case"In Transit":return n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"location",children:"Current Location"}),n.jsx(fe,{id:"location",placeholder:"Enter current location",value:N,onChange:D=>_(D.target.value)})]});case"Delayed":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"delayReason",children:["Delay Reason ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(gn,{id:"delayReason",placeholder:"Explain the reason for delay",value:C,onChange:D=>A(D.target.value),rows:3}),n.jsx(pf,{text:C,onEnhanced:A,context:"delivery delay reason"})]})]});case"Returned":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"returnReason",children:["Return Reason ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(gn,{id:"returnReason",placeholder:"Explain why the delivery was returned",value:E,onChange:D=>k(D.target.value),rows:3}),n.jsx(pf,{text:E,onEnhanced:k,context:"delivery return reason"})]})]});case"Cancelled":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"cancellationReason",children:["Cancellation Reason ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(gn,{id:"cancellationReason",placeholder:"Explain why the delivery was cancelled",value:O,onChange:D=>I(D.target.value),rows:3}),n.jsx(pf,{text:O,onEnhanced:I,context:"delivery cancellation reason"})]})]});case"Confirmed":return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"confirmedBy",children:"Confirmed By"}),n.jsx(fe,{id:"confirmedBy",placeholder:"Enter name of person who confirmed",value:W,onChange:D=>H(D.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"confirmationNotes",children:"Confirmation Notes"}),n.jsx(gn,{id:"confirmationNotes",placeholder:"Add any confirmation details",value:F,onChange:D=>T(D.target.value),rows:2})]})]});default:return null}};return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(Hr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Jr,{children:[n.jsx(en,{children:"Update Delivery Status"}),n.jsxs(ss,{children:[a,"  ",s]})]}),f?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Bt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(G,{children:"Select Status"}),n.jsx("div",{className:"grid grid-cols-3 gap-3",children:cUe.map(D=>{const Y=D.icon;return n.jsxs("button",{onClick:()=>c(D.value),className:ge("flex flex-col items-center justify-center gap-2 p-4 rounded-lg border-2 transition-all",l===D.value?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:[n.jsx(Y,{className:ge("h-6 w-6",D.color)}),n.jsx("span",{className:"text-sm font-medium",children:D.label})]},D.value)})})]}),M(),l!=="Returned"&&l!=="Cancelled"&&l!=="Confirmed"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"notes",children:"Additional Notes"}),n.jsxs("div",{className:"relative",children:[n.jsx(gn,{id:"notes",placeholder:"Add any additional notes",value:p,onChange:D=>g(D.target.value),rows:3}),n.jsx(pf,{text:p,onEnhanced:g,context:"delivery additional notes"})]})]})]}),!f&&n.jsxs(Ba,{children:[n.jsx(te,{variant:"outline",onClick:()=>t(!1),disabled:d,children:"Cancel"}),n.jsx(te,{onClick:P,disabled:d,children:d?"Updating...":"Update Status"})]})]})})}function dUe(){return n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4 mb-4",children:[n.jsx(S,{className:"h-9 w-24 rounded-md"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(S,{className:"h-9 w-64 mb-3"}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[n.jsx(S,{className:"h-6 w-24 rounded-full"}),n.jsx(S,{className:"h-6 w-20 rounded-full"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(S,{className:"h-9 w-20 rounded-md"}),n.jsx(S,{className:"h-9 w-24 rounded-md"})]})]})})}function uUe(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-4 w-24"})]})}),n.jsxs(J,{children:[n.jsx(S,{className:"h-8 w-32 mb-2"}),n.jsx(S,{className:"h-3 w-40"})]})]},t))})}function fUe(){return n.jsxs(Z,{className:"lg:col-span-2",children:[n.jsx(we,{children:n.jsx(S,{className:"h-6 w-40"})}),n.jsx(J,{className:"space-y-3",children:n.jsx("div",{className:"grid grid-cols-2 gap-4",children:[...Array(6)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-3 w-20"}),n.jsx(S,{className:"h-4 w-32"})]},t))})})]})}function mUe(){return n.jsxs(Z,{children:[n.jsx(we,{children:n.jsx(S,{className:"h-6 w-32"})}),n.jsx(J,{children:n.jsx("div",{className:"space-y-3",children:[...Array(5)].map((e,t)=>n.jsxs("div",{className:"flex gap-3",children:[n.jsx(S,{className:"h-4 w-4 rounded-full flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(S,{className:"h-3 w-32"}),n.jsx(S,{className:"h-4 w-full"})]})]},t))})})]})}function hUe(){return n.jsx(Z,{children:n.jsx(J,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-muted/50 border-b",children:n.jsx("tr",{children:[...Array(8)].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(S,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(5)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(S,{className:"h-12 w-12 rounded-lg flex-shrink-0"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-40"}),n.jsx(S,{className:"h-3 w-24"})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-16"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-6 w-24 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(S,{className:"h-8 w-8 rounded"}),n.jsx(S,{className:"h-8 w-8 rounded"}),n.jsx(S,{className:"h-8 w-8 rounded"})]})})]},t))})]})})})})}function pUe(){return n.jsx("div",{className:"space-y-6",children:n.jsx("div",{className:"overflow-x-auto -mx-4 px-4 sm:mx-0 sm:px-0",children:n.jsx("div",{className:"grid w-full grid-cols-4 min-w-[600px] sm:min-w-0 lg:w-auto lg:inline-grid bg-muted rounded-lg p-1",children:[...Array(4)].map((e,t)=>n.jsx("div",{className:"flex items-center justify-center py-2 px-4",children:n.jsx(S,{className:"h-4 w-20"})},t))})})})}function xUe(){return n.jsxs(dt,{title:"Loading...",children:[n.jsx("div",{className:"mb-6 flex items-center gap-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-4 w-2"}),n.jsx(S,{className:"h-4 w-32"})]})}),n.jsx(dUe,{}),n.jsx(pUe,{}),n.jsxs("div",{className:"space-y-6 mt-6",children:[n.jsx(uUe,{}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx(fUe,{}),n.jsx(mUe,{})]})]})]})}function gUe(){return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[n.jsx(S,{className:"h-7 w-64"}),n.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[n.jsx(S,{className:"h-9 w-32 rounded-md"}),n.jsx(S,{className:"h-9 w-28 rounded-md"})]})]}),n.jsx(hUe,{})]})}var P3="Collapsible",[vUe,kQ]=Zs(P3),[yUe,k3]=vUe(P3),TQ=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:s,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c=!1,d]=Oa({prop:s,defaultProp:a,onChange:o});return n.jsx(yUe,{scope:r,disabled:i,contentId:si(),open:c,onOpenToggle:v.useCallback(()=>d(u=>!u),[d]),children:n.jsx(ft.div,{"data-state":O3(c),"data-disabled":i?"":void 0,...l,ref:t})})});TQ.displayName=P3;var OQ="CollapsibleTrigger",DQ=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,...s}=e,a=k3(OQ,r);return n.jsx(ft.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":O3(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:t,onClick:Ge(e.onClick,a.onOpenToggle)})});DQ.displayName=OQ;var T3="CollapsibleContent",IQ=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=k3(T3,e.__scopeCollapsible);return n.jsx(ns,{present:r||a.open,children:({present:i})=>n.jsx(jUe,{...s,ref:t,present:i})})});IQ.displayName=T3;var jUe=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:s,children:a,...i}=e,o=k3(T3,r),[l,c]=v.useState(s),d=v.useRef(null),u=Dt(t,d),f=v.useRef(0),m=f.current,h=v.useRef(0),x=h.current,p=o.open||l,g=v.useRef(p),j=v.useRef();return v.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),rs(()=>{const y=d.current;if(y){j.current=j.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();f.current=w.height,h.current=w.width,g.current||(y.style.transitionDuration=j.current.transitionDuration,y.style.animationName=j.current.animationName),c(s)}},[o.open,s]),n.jsx(ft.div,{"data-state":O3(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:p&&a})});function O3(e){return e?"open":"closed"}var bUe=TQ,wUe=DQ,NUe=IQ,md="Accordion",_Ue=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[D3,SUe,CUe]=Ov(md),[K2,Ynt]=Zs(md,[CUe,kQ]),I3=kQ(),RQ=z.forwardRef((e,t)=>{const{type:r,...s}=e,a=s,i=s;return n.jsx(D3.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?n.jsx(kUe,{...i,ref:t}):n.jsx(PUe,{...a,ref:t})})});RQ.displayName=md;var[MQ,AUe]=K2(md),[FQ,EUe]=K2(md,{collapsible:!1}),PUe=z.forwardRef((e,t)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=Oa({prop:r,defaultProp:s,onChange:a});return n.jsx(MQ,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:z.useCallback(()=>i&&c(""),[i,c]),children:n.jsx(FQ,{scope:e.__scopeAccordion,collapsible:i,children:n.jsx($Q,{...o,ref:t})})})}),kUe=z.forwardRef((e,t)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},...i}=e,[o=[],l]=Oa({prop:r,defaultProp:s,onChange:a}),c=z.useCallback(u=>l((f=[])=>[...f,u]),[l]),d=z.useCallback(u=>l((f=[])=>f.filter(m=>m!==u)),[l]);return n.jsx(MQ,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:n.jsx(FQ,{scope:e.__scopeAccordion,collapsible:!0,children:n.jsx($Q,{...i,ref:t})})})}),[TUe,Y2]=K2(md),$Q=z.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:s,dir:a,orientation:i="vertical",...o}=e,l=z.useRef(null),c=Dt(l,t),d=SUe(r),f=om(a)==="ltr",m=Ge(e.onKeyDown,h=>{var A;if(!_Ue.includes(h.key))return;const x=h.target,p=d().filter(E=>{var k;return!((k=E.ref.current)!=null&&k.disabled)}),g=p.findIndex(E=>E.ref.current===x),j=p.length;if(g===-1)return;h.preventDefault();let y=g;const w=0,b=j-1,N=()=>{y=g+1,y>b&&(y=w)},_=()=>{y=g-1,y<w&&(y=b)};switch(h.key){case"Home":y=w;break;case"End":y=b;break;case"ArrowRight":i==="horizontal"&&(f?N():_());break;case"ArrowDown":i==="vertical"&&N();break;case"ArrowLeft":i==="horizontal"&&(f?_():N());break;case"ArrowUp":i==="vertical"&&_();break}const C=y%j;(A=p[C].ref.current)==null||A.focus()});return n.jsx(TUe,{scope:r,disabled:s,direction:a,orientation:i,children:n.jsx(D3.Slot,{scope:r,children:n.jsx(ft.div,{...o,"data-orientation":i,ref:c,onKeyDown:s?void 0:m})})})}),_w="AccordionItem",[OUe,R3]=K2(_w),LQ=z.forwardRef((e,t)=>{const{__scopeAccordion:r,value:s,...a}=e,i=Y2(_w,r),o=AUe(_w,r),l=I3(r),c=si(),d=s&&o.value.includes(s)||!1,u=i.disabled||e.disabled;return n.jsx(OUe,{scope:r,open:d,disabled:u,triggerId:c,children:n.jsx(bUe,{"data-orientation":i.orientation,"data-state":HQ(d),...l,...a,ref:t,disabled:u,open:d,onOpenChange:f=>{f?o.onItemOpen(s):o.onItemClose(s)}})})});LQ.displayName=_w;var BQ="AccordionHeader",UQ=z.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=Y2(md,r),i=R3(BQ,r);return n.jsx(ft.h3,{"data-orientation":a.orientation,"data-state":HQ(i.open),"data-disabled":i.disabled?"":void 0,...s,ref:t})});UQ.displayName=BQ;var pP="AccordionTrigger",VQ=z.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=Y2(md,r),i=R3(pP,r),o=EUe(pP,r),l=I3(r);return n.jsx(D3.ItemSlot,{scope:r,children:n.jsx(wUe,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...s,ref:t})})});VQ.displayName=pP;var zQ="AccordionContent",WQ=z.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=Y2(md,r),i=R3(zQ,r),o=I3(r);return n.jsx(NUe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});WQ.displayName=zQ;function HQ(e){return e?"open":"closed"}var DUe=RQ,IUe=LQ,RUe=UQ,qQ=VQ,GQ=WQ;const KQ=DUe,M3=v.forwardRef(({className:e,...t},r)=>n.jsx(IUe,{ref:r,className:ge("border-b",e),...t}));M3.displayName="AccordionItem";const F3=v.forwardRef(({className:e,children:t,...r},s)=>n.jsx(RUe,{className:"flex",children:n.jsxs(qQ,{ref:s,className:ge("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,n.jsx(Au,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));F3.displayName=qQ.displayName;const $3=v.forwardRef(({className:e,children:t,...r},s)=>n.jsx(GQ,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:n.jsx("div",{className:ge("pb-4 pt-0",e),children:t})}));$3.displayName=GQ.displayName;function MUe({open:e,onOpenChange:t,issueId:r,productName:s,onIssueCreated:a}){const[i,o]=v.useState(null),[l,c]=v.useState([]),[d,u]=v.useState(!1),[f,m]=v.useState(""),[h,x]=v.useState(!1),[p,g]=v.useState(!1),j=_=>{const C=(_||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`);if(!C.trim())return{main:"",quoted:""};const A=[],E=C.search(/\nOn\s.+\swrote:\s*\n/i);E!==-1&&A.push({idx:E});const k=C.search(/\nFrom:\s.+\nSent:\s.+\nTo:\s.+\nSubject:\s.+\n/i);k!==-1&&A.push({idx:k});const O=C.search(/\n>\s?/);if(O!==-1&&A.push({idx:O}),A.length===0)return{main:C.trim(),quoted:""};const I=Math.min(...A.map(F=>F.idx)),W=C.slice(0,I).trim(),H=C.slice(I).trim();return{main:W,quoted:H}};v.useEffect(()=>{if(!e||!r){o(null),c([]);return}let _=!1,C;const A=async E=>{try{E&&u(!0);const[k,O]=await Promise.all([_r.getIssue(r),_r.getConversation(r)]);_||(o(k),c(O.conversation||[]),g(k.ai_activated||!1))}catch(k){E&&(console.error("Failed to fetch data:",k),Be.error("Failed to load communication log"))}finally{E&&!_&&u(!1)}};return A(!0),C=window.setInterval(()=>{A(!1)},8e3),()=>{_=!0,C&&window.clearInterval(C)}},[e,r]);const y=async()=>{var C,A;if(!i)return;const _=!p;g(_);try{if(_){const E=await _r.activateAIEmail(i.id);if((C=E.data)!=null&&C.success){Be.success("AI Chatbot activated and email sent to vendor");const k=await _r.getIssue(i.id);o(k);const O=await _r.getConversation(i.id);c(O.conversation||[])}else throw new Error(((A=E.data)==null?void 0:A.message)||"Failed to activate AI")}else{await _r.updateIssue(i.id,{ai_activated:!1}),Be.info("AI Chatbot paused");const E=await _r.getIssue(i.id);o(E)}}catch(E){console.error("Failed to toggle AI:",E),Be.error(E.message||"Failed to update AI status"),g(!_)}},w=async()=>{var _,C,A;if(!(!f.trim()||!i)){x(!0);try{await _r.sendManualMessage(i.id,{message:f,to_email:((_=i.vendor_details)==null?void 0:_.email)||""});const E=await _r.getConversation(i.id);c(E.conversation||[]),m(""),Be.success("Message sent to vendor successfully")}catch(E){console.error("Failed to send message:",E),Be.error(((A=(C=E.response)==null?void 0:C.data)==null?void 0:A.message)||"Failed to send message to vendor")}finally{x(!1)}}},N=(()=>{const _=l||[],C=_.filter(k=>k.sender==="AI").length,A=_.filter(k=>k.sender==="Vendor").length,E=_.filter(k=>k.sender==="System"||k.sender==="Admin").length;return{total:_.length,aiMessages:C,vendorMessages:A,systemMessages:E}})();return r?n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(Hr,{className:"max-w-4xl h-[85vh] overflow-hidden flex flex-col gap-0 p-0",children:[n.jsx(Jr,{className:"px-6 pt-6 pb-4 border-b bg-gradient-to-r from-primary/5 to-transparent shrink-0",children:n.jsxs(en,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(vs,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:"AI Resolution"}),n.jsx("div",{className:"text-xs font-normal text-muted-foreground",children:s||"Product"})]})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"AI Chatbot"}),n.jsx(Tn,{checked:p,onCheckedChange:y,disabled:!i})]})})]})}),d?n.jsxs("div",{className:"flex-1 min-h-0 overflow-hidden flex flex-col",children:[n.jsx("div",{className:"px-6 py-3 bg-muted/30 border-b shrink-0",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-3.5 w-3.5 rounded-full"}),n.jsx(S,{className:"h-4 w-6"}),n.jsx(S,{className:"h-3 w-12"})]}),n.jsx("div",{className:"h-4 w-px bg-border"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-3.5 w-3.5 rounded-full"}),n.jsx(S,{className:"h-4 w-6"}),n.jsx(S,{className:"h-3 w-8"})]}),n.jsx("div",{className:"h-4 w-px bg-border"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-3.5 w-3.5 rounded-full"}),n.jsx(S,{className:"h-4 w-6"}),n.jsx(S,{className:"h-3 w-16"})]}),n.jsx("div",{className:"h-4 w-px bg-border"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-3.5 w-3.5 rounded-full"}),n.jsx(S,{className:"h-4 w-6"}),n.jsx(S,{className:"h-3 w-14"})]})]}),n.jsx(S,{className:"h-6 w-20 rounded-full"})]})}),n.jsxs("div",{className:"flex-1 min-h-0 overflow-hidden flex flex-col px-6 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3 shrink-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-4 w-32"})]}),n.jsx(S,{className:"h-3 w-48"})]}),n.jsx("div",{className:"space-y-2.5",children:[1,2,3].map(_=>n.jsxs("div",{className:"flex gap-2.5 p-3 rounded-lg border bg-muted/50",children:[n.jsx(S,{className:"w-7 h-7 rounded-full shrink-0"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-12 rounded"}),n.jsx(S,{className:"h-5 w-16 rounded"}),n.jsx(S,{className:"h-3 w-24"})]}),n.jsx(S,{className:"h-3 w-full"}),n.jsx(S,{className:"h-3 w-5/6"}),n.jsx(S,{className:"h-3 w-4/6"})]})]},_))}),n.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t shrink-0",children:[n.jsx(S,{className:"h-9 flex-1 rounded-md"}),n.jsx(S,{className:"h-9 w-9 rounded-md"})]})]})]}):n.jsxs("div",{className:"flex-1 min-h-0 overflow-hidden flex flex-col",children:[n.jsx("div",{className:"px-6 py-3 bg-muted/30 border-b shrink-0",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tl,{className:"h-3.5 w-3.5 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium",children:N.total}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Total"})]}),n.jsx("div",{className:"h-4 w-px bg-border"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vs,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:N.aiMessages}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"AI"})]}),n.jsx("div",{className:"h-4 w-px bg-border"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($n,{className:"h-3.5 w-3.5 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium",children:N.vendorMessages}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Vendor"})]}),n.jsx("div",{className:"h-4 w-px bg-border"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_t,{className:"h-3.5 w-3.5 text-orange-500"}),n.jsx("span",{className:"text-sm font-medium",children:N.systemMessages}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"System"})]})]}),p&&n.jsxs(Ae,{variant:"default",className:"gap-1.5 px-2.5 py-1",children:[n.jsx(Wo,{className:"h-3 w-3 animate-pulse"}),n.jsx("span",{className:"text-xs",children:"AI Active"})]})]})}),n.jsxs("div",{className:"flex-1 min-h-0 overflow-hidden flex flex-col px-6 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3 shrink-0",children:[n.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[n.jsx(tl,{className:"h-4 w-4"}),"Communication Log"]}),p&&n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1.5",children:[n.jsx(Wo,{className:"h-3 w-3 text-primary"}),"AI is actively managing this conversation"]})]}),n.jsx(ac,{className:"flex-1 pr-3",children:n.jsxs("div",{className:"space-y-2.5",children:[l&&l.length>0?l.map((_,C)=>{const A=_.message.toLowerCase().includes("please arrange")||_.message.toLowerCase().includes("action required")||_.message.toLowerCase().includes("human action");return n.jsxs("div",{className:ge("flex gap-2.5 p-3 rounded-lg border transition-all hover:shadow-sm",_.sender==="AI"&&"bg-primary/5 border-primary/20",_.sender==="Vendor"&&"bg-muted/50 border-border",_.sender==="System"&&"bg-orange-50 border-orange-200",A&&"border-2 border-orange-400 shadow-sm"),children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:ge("w-7 h-7 rounded-full flex items-center justify-center",_.sender==="AI"&&"bg-primary text-primary-foreground",_.sender==="Vendor"&&"bg-slate-600 text-white",_.sender==="System"&&"bg-orange-500 text-white"),children:_.sender==="AI"?n.jsx(vs,{className:"h-3.5 w-3.5"}):_.sender==="Vendor"?n.jsx($n,{className:"h-3.5 w-3.5"}):n.jsx(_t,{className:"h-3.5 w-3.5"})})}),n.jsxs("div",{className:"flex-1 space-y-1.5 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Ae,{variant:_.sender==="AI"?"default":"outline",className:ge("text-[10px] px-1.5 py-0 h-5",A&&"bg-orange-500 text-white border-orange-500"),children:_.sender}),A&&n.jsxs(Ae,{variant:"outline",className:"text-[10px] px-1.5 py-0 h-5 bg-orange-50 text-orange-600 border-orange-300",children:[n.jsx(_t,{className:"h-2.5 w-2.5 mr-1"}),"Action Required"]}),_.message_type==="email"&&n.jsx(Ae,{variant:"outline",className:"text-[10px] px-1.5 py-0 h-5",children:"Email"}),n.jsx("span",{className:"text-[10px] text-muted-foreground",children:new Date(_.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),_.subject&&n.jsx("p",{className:"text-xs font-semibold text-foreground line-clamp-1",children:_.subject}),(()=>{const E=_.message_type==="email"||!!_.subject,{main:k,quoted:O}=E?j(_.message):{main:_.message,quoted:""};return n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("p",{className:ge("text-xs whitespace-pre-wrap leading-relaxed text-foreground/90",A&&"font-medium"),children:k}),O&&n.jsx(KQ,{type:"single",collapsible:!0,children:n.jsxs(M3,{value:"quoted",className:"border-0",children:[n.jsx(F3,{className:"py-1.5 text-[10px] text-muted-foreground hover:no-underline",children:"Show previous email"}),n.jsx($3,{children:n.jsx("div",{className:"text-[10px] text-muted-foreground whitespace-pre-wrap leading-relaxed bg-muted/30 p-2 rounded",children:O})})]})})]})})()]})]},C)}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"p-3 rounded-full bg-muted mb-3",children:n.jsx(tl,{className:"h-8 w-8 text-muted-foreground"})}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No messages yet"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Start the conversation below"})]}),h&&n.jsxs("div",{className:"flex gap-2.5 p-3 rounded-lg border bg-primary/5 border-primary/20 animate-pulse",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-7 h-7 rounded-full flex items-center justify-center bg-primary text-primary-foreground",children:n.jsx(vs,{className:"h-3.5 w-3.5"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Ae,{variant:"default",className:"text-[10px] px-1.5 py-0 h-5 mb-1.5",children:"AI"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Processing your message..."})]})]})]})}),n.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t shrink-0",children:[n.jsx(fe,{placeholder:"Type your message...",value:f,onChange:_=>m(_.target.value),onKeyPress:_=>_.key==="Enter"&&!_.shiftKey&&w(),disabled:!i,className:"text-sm"}),n.jsx(te,{onClick:w,size:"icon",disabled:!i||!f.trim(),className:"shrink-0",children:n.jsx(Tk,{className:"h-4 w-4"})})]})]})]})]})}):n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(Hr,{className:"max-w-2xl",children:[n.jsxs(Jr,{children:[n.jsx(en,{children:"No Issue Found"}),n.jsx(ss,{children:"This product doesn't have an associated issue yet. Please create an issue first to use AI communication."})]}),n.jsx("div",{className:"flex justify-end gap-2",children:n.jsx(te,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})})}const FUe=()=>{var ee,re;const{id:e}=Ki(),t=dr(),{toast:r}=pr(),{data:s,isLoading:a,error:i}=u3(e||null),{data:o,isLoading:l,error:c,refetch:d}=PBe(e||null),u=o||[],{data:f,isLoading:m}=uBe(e||null),{data:h=[],isLoading:x}=fBe(e||null),p=TBe(),g=WX(),[j,y]=v.useState({open:!1,id:"",name:"",apartmentId:""}),w=U=>{const Q=U.getFullYear(),_e=String(U.getMonth()+1).padStart(2,"0"),Re=String(U.getDate()).padStart(2,"0");return`${Q}-${_e}-${Re}`},b=[],N="";v.useState("");const[_,C]=v.useState(N),[A,E]=v.useState(!1),[k,O]=v.useState(!1),[I,W]=v.useState(""),[H,F]=v.useState(""),[T,P]=v.useState(!1),[M,D]=v.useState(null),[Y,ae]=v.useState(!1),[R,V]=v.useState(null),[L,K]=v.useState(!1),[le,me]=v.useState(null),[B,X]=v.useState(!1),[oe,Ne]=v.useState(null),[ue,ve]=v.useState(!1),[xe,Ee]=v.useState(null),[Me,Te]=v.useState(!1),[se,he]=v.useState(null),[ce,be]=v.useState(!1),[$e,De]=v.useState(null),[de,Ie]=v.useState(!1),[ot,jt]=v.useState(null),[Ze,ye]=v.useState(!1),[Ke,Ct]=v.useState(null),[Et,ur]=v.useState(!1),[vr,Pn]=v.useState(null);v.useRef(null);const[Ur,Er]=v.useState(!1),[yt,Rt]=v.useState(!0),Lt=v.useCallback(()=>{const U=document.getElementById("product-table-wrapper"),Q=U==null?void 0:U.querySelector("div.overflow-auto");if(Q){const{scrollLeft:_e,scrollWidth:Re,clientWidth:Ce}=Q;Er(_e>0),Rt(_e<Re-Ce-1)}},[]);v.useEffect(()=>{const U=setTimeout(()=>{const Q=document.getElementById("product-table-wrapper"),_e=Q==null?void 0:Q.querySelector("div.overflow-auto");_e&&(Lt(),_e.addEventListener("scroll",Lt),window.addEventListener("resize",Lt))},200);return()=>{clearTimeout(U);const Q=document.getElementById("product-table-wrapper"),_e=Q==null?void 0:Q.querySelector("div.overflow-auto");_e&&(_e.removeEventListener("scroll",Lt),window.removeEventListener("resize",Lt))}},[Lt,u]);const{data:Gr}=p3({apartment:e}),is=x3(),Ua=IBe(),pd=(U,Q)=>{y({open:!0,id:U,name:Q,apartmentId:e||""})},Qi=async()=>{try{await p.mutateAsync({id:j.id,name:j.name,apartmentId:j.apartmentId}),y({open:!1,id:"",name:"",apartmentId:""})}catch{y({open:!1,id:"",name:"",apartmentId:""})}};if(a)return n.jsx(xUe,{});if(i)return n.jsx(dt,{title:"Error",children:n.jsx("div",{className:"container mx-auto py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(_t,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),n.jsx("h2",{className:"text-2xl font-semibold text-destructive mb-2",children:"Error loading apartment"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Unable to fetch apartment details. Please try again."}),n.jsxs(te,{onClick:()=>t("/apartments"),className:"mt-4",children:[n.jsx(tr,{className:"mr-2 h-4 w-4"}),"Back to Apartments"]})]})})});if(!s)return n.jsx(dt,{title:"Not Found",children:n.jsx("div",{className:"container mx-auto py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground",children:"Apartment not found"}),n.jsxs(te,{onClick:()=>t("/apartments"),className:"mt-4",children:[n.jsx(tr,{className:"mr-2 h-4 w-4"}),"Back to Apartments"]})]})})});const bm=()=>{window.confirm(`Are you sure you want to delete "${s.name}"?`)&&(r({title:"Success",description:"Apartment deleted successfully"}),t("/apartments"))},u_=()=>{r({title:"Success",description:"Note saved"})},xd=async(U,Q)=>{try{await g.mutateAsync({id:U,data:Q}),d()}catch{r({title:"Error",description:"Failed to update product",variant:"destructive"})}},f_=(f==null?void 0:f.total_items)||0,m_=(f==null?void 0:f.ordered_items)||0,h_=(f==null?void 0:f.delivered_items)||0,jx=(f==null?void 0:f.open_issues)||0,p_=(f==null?void 0:f.total_value)||0,x_=(f==null?void 0:f.total_paid)||0,g_=(f==null?void 0:f.outstanding_balance)||0,q=(f==null?void 0:f.overdue_payments)||0,ie=U=>{const Q=U.toLowerCase();return Q.includes("delivered")||Q.includes("closed")||Q.includes("paid")||Q.includes("completed")?"bg-green-500/10 text-green-500":Q.includes("issue")||Q.includes("damaged")||Q.includes("wrong")||Q.includes("missing")||Q.includes("overdue")?"bg-red-500/10 text-red-500":Q.includes("waiting")||Q.includes("pending")||Q.includes("partial")?"bg-yellow-500/10 text-yellow-500":Q.includes("ordered")||Q.includes("shipped")||Q.includes("transit")||Q.includes("ordering")?"bg-blue-500/10 text-blue-500":Q.includes("planning")?"bg-purple-500/10 text-purple-500":"bg-gray-500/10 text-gray-500"};return n.jsxs(dt,{title:s.name,children:[n.jsx("div",{className:"mb-6 flex items-center gap-3",children:n.jsx(Ra,{children:n.jsxs(Ma,{children:[n.jsx(Jt,{children:n.jsx(Xn,{asChild:!0,children:n.jsx(Vi,{to:"/apartments",children:"Apartments"})})}),n.jsx(Sn,{}),n.jsx(Jt,{children:n.jsx(hi,{children:s.name})})]})})}),n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4 mb-4",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>t("/apartments"),className:"flex items-center gap-1",children:n.jsx(tr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-3",children:s.name}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[n.jsx(Ae,{className:s.type==="furnishing"?"bg-primary":"bg-accent",children:s.type==="furnishing"?"Furnishing":"Renovating"}),n.jsx(Ae,{className:ie(s.status),children:s.status})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(te,{variant:"outline",size:"sm",onClick:()=>t(`/apartments/${s.id}/edit`),children:[n.jsx(Gs,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),n.jsxs(te,{variant:"destructive",size:"sm",onClick:bm,children:[n.jsx(xn,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]})}),n.jsxs(ko,{defaultValue:"overview",className:"space-y-6",children:[n.jsx("div",{className:"overflow-x-auto -mx-4 px-4 sm:mx-0 sm:px-0",children:n.jsxs(Xi,{className:"grid w-full grid-cols-4 min-w-[600px] sm:min-w-0 lg:w-auto lg:inline-grid",children:[n.jsx(Vt,{value:"overview",className:"text-xs sm:text-sm",children:"Overview"}),n.jsx(Vt,{value:"products",className:"text-xs sm:text-sm",children:"Products & Procurement logs"}),n.jsx(Vt,{value:"notes",className:"text-xs sm:text-sm",children:"Notes (AI)"}),n.jsx(Vt,{value:"activity",className:"text-xs sm:text-sm",children:"Activity"})]})}),n.jsxs(Yt,{value:"overview",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ue,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(ct,{className:"h-4 w-4 text-primary"}),"Total Items"]})}),n.jsx(J,{children:m?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-8 w-20 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded mt-2"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold",children:f_}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[m_," ordered, ",h_," delivered"]})]})})]}),n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ue,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(ri,{className:"h-4 w-4 text-success"}),"Total Order Value"]})}),n.jsx(J,{children:m?n.jsx("div",{className:"h-8 w-32 bg-muted animate-pulse rounded"}):n.jsxs("div",{className:"text-2xl font-bold",children:[p_.toLocaleString()," HUF"]})})]}),n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ue,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(br,{className:"h-4 w-4 text-warning"}),"Outstanding Balance"]})}),n.jsx(J,{children:m?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-8 w-32 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-3 w-28 bg-muted animate-pulse rounded mt-2"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[g_.toLocaleString()," HUF"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Paid: ",x_.toLocaleString()," HUF"]})]})})]}),n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ue,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(_t,{className:"h-4 w-4 text-red-500"}),"Open Issues"]})}),n.jsx(J,{children:m?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-8 w-16 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded mt-2"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold",children:jx}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[q," overdue payments"]})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(Z,{className:"lg:col-span-2",children:[n.jsx(we,{children:n.jsx(Ue,{children:"Apartment Details"})}),n.jsx(J,{className:"space-y-3",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Client"}),n.jsx("p",{className:"font-medium",children:((ee=s.client_details)==null?void 0:ee.name)||s.owner||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Designer"}),n.jsx("p",{className:"font-medium",children:s.designer||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Address"}),n.jsx("p",{className:"font-medium",children:s.address})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Status"}),n.jsx("p",{className:"font-medium",children:s.status})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Start Date"}),n.jsx("p",{className:"font-medium",children:s.start_date?new Date(s.start_date).toLocaleDateString():"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Due Date"}),n.jsx("p",{className:"font-medium",children:s.due_date?new Date(s.due_date).toLocaleDateString():"N/A"})]})]})})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsx(Ue,{children:"Recent Activity"})}),n.jsx(J,{children:x?n.jsx("div",{className:"space-y-3",children:[...Array(5)].map((U,Q)=>n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"h-4 w-4 rounded-full bg-muted animate-pulse flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"})]})]},Q))}):n.jsxs("div",{className:"space-y-3",children:[h.slice(0,5).map(U=>n.jsxs("div",{className:"flex gap-3 text-sm",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx(Br,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(U.timestamp).toLocaleString()}),n.jsx("p",{className:"leading-tight",children:U.summary})]})]},U.id)),h.length===0&&n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No activity yet"})]})})]})]})]}),n.jsxs(Yt,{value:"products",className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[n.jsxs("h2",{className:"text-lg sm:text-xl font-semibold",children:["Product & Procurement Log (",u.length,")"]}),n.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[n.jsxs(te,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",onClick:()=>t(`/products/import?apartmentId=${e}`),children:[n.jsx(Ui,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Import Excel/CSV"}),n.jsx("span",{className:"sm:hidden",children:"Import"})]}),n.jsxs(te,{size:"sm",className:"flex-1 sm:flex-none",onClick:()=>t(`/products/new?apartmentId=${e}`),children:[n.jsx(Gn,{className:"mr-2 h-4 w-4"}),"Add Product"]})]})]}),l?n.jsx(gUe,{}):u.length===0?n.jsx(Z,{children:n.jsxs(J,{className:"py-12 text-center",children:[n.jsx(ct,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No products yet"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your first furniture item to get started"}),n.jsxs(te,{onClick:()=>t(`/products/new?apartmentId=${e}`),children:[n.jsx(Gn,{className:"mr-2 h-4 w-4"}),"Add Product"]})]})}):n.jsx(Z,{children:n.jsxs(J,{className:"p-0",children:[n.jsxs("div",{className:"flex items-center justify-end gap-2 p-2 border-b bg-muted/30",children:[n.jsx("span",{className:"text-xs text-muted-foreground mr-auto",children:"Scroll table:"}),Ur&&n.jsx(te,{type:"button",variant:"outline",size:"sm",className:"h-8 w-8 p-0 rounded-full",onClick:()=>{const U=document.getElementById("product-table-wrapper"),Q=U==null?void 0:U.querySelector("div.overflow-auto");Q&&(Q.scrollTo({left:Q.scrollLeft-300,behavior:"smooth"}),setTimeout(Lt,350))},children:n.jsx(hN,{className:"h-4 w-4"})}),yt&&n.jsx(te,{type:"button",variant:"outline",size:"sm",className:"h-8 w-8 p-0 rounded-full",onClick:()=>{const U=document.getElementById("product-table-wrapper"),Q=U==null?void 0:U.querySelector("div.overflow-auto");Q&&(Q.scrollTo({left:Q.scrollLeft+300,behavior:"smooth"}),setTimeout(Lt,350))},children:n.jsx(qc,{className:"h-4 w-4"})})]}),n.jsx("div",{id:"product-table-wrapper",children:n.jsxs(Os,{children:[n.jsx(Ds,{children:n.jsxs(Ut,{children:[n.jsx(ke,{className:"w-16",children:"Image"}),n.jsx(ke,{className:"min-w-[140px]",children:"Product Name"}),n.jsx(ke,{className:"min-w-[140px]",children:"Vendor"}),n.jsx(ke,{className:"min-w-[140px]",children:"SKU"}),n.jsx(ke,{className:"text-right min-w-[140px]",children:"Unit Price"}),n.jsx(ke,{className:"text-center min-w-[140px]",children:"Qty"}),n.jsx(ke,{className:"text-right min-w-[140px]",children:"Total"}),n.jsx(ke,{className:"min-w-[140px]",children:"Product Status"}),n.jsx(ke,{className:"min-w-[140px]",children:"Ordered On"}),n.jsx(ke,{className:"min-w-[140px]",children:"Delivery Status"}),n.jsx(ke,{className:"min-w-[140px]",children:"Expected Delivery"}),n.jsx(ke,{className:"min-w-[200px]",children:"Delivery Location"}),n.jsx(ke,{className:"min-w-[140px]",children:"Actual Delivery"}),n.jsx(ke,{className:"min-w-[140px]",children:"Payment Status"}),n.jsx(ke,{className:"min-w-[140px]",children:"Payment Due"}),n.jsx(ke,{className:"min-w-[140px]",children:"Issue State"}),n.jsx(ke,{className:"min-w-[140px]",children:"Actions / Chatbot"}),n.jsx(ke,{className:"text-center min-w-[140px]",children:"Actions"})]})}),n.jsx(Is,{children:u.map(U=>{var Re,Ce,Pe;const Q=Array.isArray(U.status)?U.status:[],_e=Q.includes("Delivered")||Q.includes("Closed")?"bg-green-500/5":Q.includes("Damaged")||Q.includes("Wrong Item")||Q.includes("Missing")?"bg-red-500/5":Q.includes("Shipped")||Q.includes("Ordered")?"bg-blue-500/5":Q.includes("Waiting For Stock")?"bg-yellow-500/5":"";return parseFloat(U.payment_amount||"0")-parseFloat(U.paid_amount||"0"),n.jsxs(Ut,{className:_e,children:[n.jsx(Se,{children:U.product_image?n.jsx("img",{src:U.product_image,alt:U.product,className:"h-10 w-10 rounded object-cover"}):n.jsx("div",{className:"h-10 w-10 rounded bg-muted flex items-center justify-center",children:n.jsx(Bi,{className:"h-5 w-5 text-muted-foreground"})})}),n.jsx(Se,{children:U.link?n.jsxs("a",{href:U.link,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-primary hover:underline flex items-center gap-1 cursor-pointer",title:"Click to view product page",children:[U.product,n.jsx(Pk,{className:"h-3 w-3 flex-shrink-0"})]}):n.jsx("span",{className:"font-medium text-muted-foreground",children:U.product})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(te,{variant:"link",className:"p-0 h-auto text-primary hover:underline",onClick:()=>{W(U.vendor_name||"Not Assigned"),F(U.id),O(!1),E(!0)},children:U.vendor_name||n.jsx("span",{className:"text-muted-foreground italic",children:"Not Assigned"})}),n.jsx(te,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{W(U.vendor_name||"Not Assigned"),F(U.id),O(!0),E(!0)},children:n.jsx(Fv,{className:"h-3 w-3"})})]})}),n.jsx(Se,{children:n.jsx(te,{variant:"link",className:"p-0 h-auto font-mono text-xs text-primary hover:underline",onClick:()=>{me(U),K(!0)},children:U.sku||n.jsx("span",{className:"text-muted-foreground italic",children:"Add SKU"})})}),n.jsx(Se,{className:"text-right",children:n.jsxs(te,{variant:"link",className:"p-0 h-auto text-primary hover:underline",onClick:()=>{Ne(U),X(!0)},children:[parseFloat(U.unit_price).toLocaleString()," HUF"]})}),n.jsx(Se,{className:"text-center",children:(()=>{const je=U.order_status_info&&U.order_status_info.length>0?U.order_status_info.reduce((Ve,He)=>Ve+(He.quantity||0),0):0;return je>0?n.jsxs("div",{className:"flex flex-col items-center gap-1",children:[n.jsx("span",{className:"font-semibold",children:je}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"(ordered)"})]}):n.jsx(te,{variant:"link",className:"p-0 h-auto text-primary hover:underline",onClick:()=>{Ee(U),ve(!0)},children:U.qty})})()}),n.jsx(Se,{className:"text-right font-semibold",children:(()=>{const je=U.order_status_info&&U.order_status_info.length>0?U.order_status_info.reduce((Je,qe)=>Je+(qe.quantity||0),0):0,Ve=je>0?je:U.qty;return`${(parseFloat(U.unit_price)*Ve).toLocaleString()} HUF`})()}),n.jsx(Se,{children:n.jsx("div",{className:"min-w-[200px]",children:n.jsx(Pp,{options:["Design Approved","Ready To Order","Ordered","Waiting For Stock","Shipped","Delivered","Damaged","Wrong Item","Missing Parts"],value:Array.isArray(U.status)?U.status:[],onChange:async je=>{try{await xd(U.id,{status:je}),r({title:"Success",description:"Product status updated"})}catch{r({title:"Error",description:"Failed to update product status",variant:"destructive"})}},placeholder:"Add status...",className:"w-full"})})}),n.jsx(Se,{children:n.jsx("div",{className:"space-y-1",children:U.order_status_info&&U.order_status_info.length>0?U.order_status_info.map((je,Ve)=>n.jsxs(wh,{children:[n.jsx(Nh,{asChild:!0,children:n.jsxs(te,{variant:"ghost",size:"sm",className:"h-auto p-1 hover:bg-muted flex items-center gap-2",children:[n.jsx(Wr,{className:"h-3 w-3 text-muted-foreground"}),n.jsx("span",{className:"text-xs",children:je.placed_on?Ht(new Date(je.placed_on),"MMM dd, yyyy"):"Set date"})]})}),n.jsx(kf,{className:"w-auto p-0",align:"start",children:n.jsx($g,{mode:"single",selected:je.placed_on?new Date(je.placed_on):void 0,onSelect:async He=>{if(He)try{await ps.updateOrder(je.order_id,{placed_on:w(He)}),r({title:"Success",description:"Order placed date updated"}),d()}catch{r({title:"Error",description:"Failed to update order placed date",variant:"destructive"})}},initialFocus:!0})})]},Ve)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})})}),n.jsx(Se,{children:n.jsxs("div",{className:"space-y-2 min-w-[200px]",children:[n.jsx(Pp,{options:["Scheduled","Shipped","In Transit","Delivered","Partially Delivered","Issue Reported","Return Scheduled","Return Received"],value:Array.isArray(U.delivery_status_tags)?U.delivery_status_tags:[],onChange:async je=>{try{await xd(U.id,{delivery_status_tags:je}),r({title:"Success",description:"Delivery status updated"})}catch{r({title:"Error",description:"Failed to update delivery status",variant:"destructive"})}},placeholder:"Add status...",className:"w-full"}),U.delivery_status_info&&U.delivery_status_info.length>0&&n.jsx("div",{className:"pt-1 border-t border-dashed",children:U.delivery_status_info.map((je,Ve)=>n.jsxs("div",{className:"flex items-center gap-2 flex-wrap text-xs text-muted-foreground",children:[n.jsx(te,{variant:"ghost",size:"sm",className:"h-5 px-1 text-xs",onClick:()=>{he(je),Te(!0)},children:n.jsx(Ae,{variant:"outline",className:"text-[10px]",children:je.status})}),n.jsx("a",{href:"/deliveries",className:"text-primary hover:underline",title:`View delivery ${je.order_reference}`,children:je.order_reference}),je.tracking_number&&n.jsxs("span",{children:["(Track: ",je.tracking_number,")"]})]},Ve))})]})}),n.jsx(Se,{children:n.jsx("div",{className:"space-y-1",children:U.delivery_status_info&&U.delivery_status_info.length>0?U.delivery_status_info.map((je,Ve)=>n.jsxs(wh,{children:[n.jsx(Nh,{asChild:!0,children:n.jsxs(te,{variant:"ghost",size:"sm",className:"h-auto p-1 hover:bg-muted flex items-center gap-2",children:[n.jsx(Wr,{className:"h-3 w-3 text-muted-foreground"}),n.jsx("span",{className:"text-xs",children:je.expected_date?Ht(new Date(je.expected_date),"PP"):"Set date"})]})}),n.jsx(kf,{className:"w-auto p-0",align:"start",children:n.jsx($g,{mode:"single",selected:je.expected_date?new Date(je.expected_date):void 0,onSelect:async He=>{if(He)try{await Fc.updateDeliveryField(je.delivery_id,"expected_date",w(He)),r({title:"Success",description:"Expected delivery date updated"}),d()}catch{r({title:"Error",description:"Failed to update expected delivery date",variant:"destructive"})}},initialFocus:!0})})]},Ve)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"No delivery"})})}),n.jsx(Se,{children:n.jsx("div",{className:"space-y-1",children:U.order_status_info&&U.order_status_info.length>0?U.order_status_info.map((je,Ve)=>n.jsxs("div",{className:"flex items-center gap-2 w-full",children:[n.jsx(ha,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),n.jsx(fe,{className:"h-7 text-xs flex-1",placeholder:"Enter delivery address",defaultValue:je.shipping_address||"",onBlur:async He=>{const Je=He.target.value;if(Je!==je.shipping_address)try{await ps.updateOrder(je.order_id,{shipping_address:Je}),r({title:"Success",description:"Delivery location updated"}),d()}catch{r({title:"Error",description:"Failed to update delivery location",variant:"destructive"})}},onKeyDown:He=>{He.key==="Enter"&&He.currentTarget.blur()}})]},Ve)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"No order"})})}),n.jsx(Se,{children:n.jsx("div",{className:"space-y-1",children:U.delivery_status_info&&U.delivery_status_info.length>0?U.delivery_status_info.map((je,Ve)=>n.jsxs(wh,{children:[n.jsx(Nh,{asChild:!0,children:n.jsxs(te,{variant:"ghost",size:"sm",className:"h-auto p-1 hover:bg-muted flex items-center gap-2",children:[n.jsx(Wr,{className:"h-3 w-3 text-muted-foreground"}),n.jsx("span",{className:"text-xs",children:je.actual_date?Ht(new Date(je.actual_date),"PP"):"Set date"})]})}),n.jsx(kf,{className:"w-auto p-0",align:"start",children:n.jsx($g,{mode:"single",selected:je.actual_date?new Date(je.actual_date):void 0,onSelect:async He=>{if(He)try{await Fc.updateDeliveryField(je.delivery_id,"actual_date",w(He)),r({title:"Success",description:"Actual delivery date updated"}),d()}catch{r({title:"Error",description:"Failed to update actual delivery date",variant:"destructive"})}},initialFocus:!0})})]},Ve)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"No delivery"})})}),n.jsx(Se,{children:n.jsx("div",{className:"space-y-1",children:U.order_status_info&&U.order_status_info.length>0?U.order_status_info.map((je,Ve)=>{var lt;const He=je.order_id,Je=(lt=Gr==null?void 0:Gr.results)==null?void 0:lt.find(Mt=>Mt.order===He),qe=(Je==null?void 0:Je.status)||"Unpaid";return n.jsxs("div",{className:"flex flex-col gap-0.5",children:[n.jsx(Ae,{variant:qe==="Paid"?"default":qe==="Partial"?"secondary":"outline",className:ge("cursor-pointer hover:opacity-80 transition-opacity text-[10px] w-fit",qe==="Paid"?"bg-green-500/10 text-green-500":qe==="Partial"?"bg-yellow-500/10 text-yellow-500":"bg-red-500/10 text-red-500"),onClick:()=>{qe==="Unpaid"?t(`/payments/new?order=${He}&product=${U.id}`):Je&&(De(Je),be(!0))},children:qe}),n.jsx("span",{className:"text-[10px] text-muted-foreground ml-0.5",children:je.po_number||"N/A"})]},Ve)}):n.jsx(Ae,{variant:"outline",className:"bg-gray-500/10 text-gray-500 text-[10px]",children:"No Order"})})}),n.jsx(Se,{children:n.jsx("div",{className:"space-y-1",children:U.order_status_info&&U.order_status_info.length>0?U.order_status_info.map((je,Ve)=>{var qe;const He=je.order_id,Je=(qe=Gr==null?void 0:Gr.results)==null?void 0:qe.find(lt=>lt.order===He);return n.jsx("div",{className:"flex flex-col gap-0.5",children:Je!=null&&Je.due_date?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-[10px] font-medium cursor-pointer hover:text-primary hover:underline",onClick:()=>{jt(Je),Ie(!0)},children:new Date(Je.due_date).toLocaleDateString()}),Je.status!=="Paid"&&n.jsx("div",{className:"text-[10px] text-muted-foreground",children:je.po_number||"N/A"})]}):n.jsx("div",{className:"text-[10px] text-muted-foreground",children:"No payment"})},Ve)}):n.jsx("span",{className:"text-[10px] text-muted-foreground",children:"-"})})}),n.jsx(Se,{children:U.issue_status_info&&U.issue_status_info.status!=="No Issue"?n.jsx("div",{className:"text-xs text-gray-700 cursor-pointer hover:text-primary hover:underline transition-colors",onClick:()=>{var je;D(U),Ct(((je=U.issue_status_info)==null?void 0:je.issue_id)||null),ye(!0)},children:U.issue_status_info.type||"Issue reported"}):n.jsx(Ae,{variant:"outline",className:"bg-green-500/10 text-green-500 text-xs cursor-pointer hover:bg-green-500/20 transition-colors",onClick:()=>{D(U),Ct(null),ye(!0)},children:"No Issue"})}),n.jsx(Se,{children:n.jsxs(te,{size:"sm",variant:U.issue_status_info&&U.issue_status_info.status!=="No Issue"?"default":"outline",onClick:()=>{Pn(U),ur(!0)},className:ge(((Re=U.issue_status_info)==null?void 0:Re.ai_activated)&&"animate-pulse"),children:[n.jsx(vs,{className:ge("mr-1 h-3 w-3",((Ce=U.issue_status_info)==null?void 0:Ce.ai_activated)&&"animate-spin")}),(Pe=U.issue_status_info)!=null&&Pe.ai_activated?"AI Active":(U.issue_status_info&&U.issue_status_info.status!=="No Issue","AI Chatbot")]})}),n.jsx(Se,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(te,{size:"sm",variant:"ghost",onClick:()=>t(`/products/${U.id}`),children:n.jsx(ti,{className:"h-4 w-4"})}),n.jsx(te,{size:"sm",variant:"ghost",onClick:()=>t(`/products/${U.id}/edit`),children:n.jsx(Gs,{className:" h-4 w-4"})}),n.jsx(te,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive",onClick:()=>pd(U.id,U.product),children:n.jsx(xn,{className:"h-4 w-4"})})]})})]},U.id)})})]})})]})})]}),n.jsx(Yt,{value:"notes",className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Z,{children:[n.jsxs(we,{children:[n.jsx(Ue,{children:"Manual Notes"}),n.jsx(Or,{children:"Add observations or notes about this apartment"})]}),n.jsxs(J,{className:"space-y-4",children:[n.jsx(da,{value:_,onChange:U=>C(U.target.value),rows:10,placeholder:"Enter your notes here..."}),n.jsx(te,{onClick:u_,children:"Save Note"})]})]}),n.jsxs(Z,{children:[n.jsxs(we,{children:[n.jsx(Ue,{children:"AI & Vendor Communication"}),n.jsx(Or,{children:"AI-generated emails and vendor correspondence"})]}),n.jsx(J,{children:n.jsxs("div",{className:"space-y-4",children:[b.map(U=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ae,{variant:U.sender==="AI"?"default":"outline",children:U.sender}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(U.timestamp).toLocaleString()})]})}),U.emailSubject&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Subject:"}),n.jsx("p",{className:"font-medium text-sm",children:U.emailSubject})]}),n.jsx("div",{className:"text-sm whitespace-pre-wrap bg-muted/30 p-3 rounded",children:U.content})]},U.id)),b.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No AI communications yet"})]})})]})]})}),n.jsxs(Yt,{value:"activity",className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Activity Timeline"}),n.jsx(Z,{children:n.jsx(J,{className:"pt-6",children:n.jsxs("div",{className:"space-y-4",children:[h.map(U=>n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsxs("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:[U.icon==="ShoppingCart"&&n.jsx(ct,{className:"h-5 w-5 text-primary"}),U.icon==="CreditCard"&&n.jsx(br,{className:"h-5 w-5 text-primary"}),U.icon==="Mail"&&n.jsx(yn,{className:"h-5 w-5 text-primary"}),U.icon==="PackageCheck"&&n.jsx(Br,{className:"h-5 w-5 text-primary"}),U.icon==="Package"&&n.jsx(ct,{className:"h-5 w-5 text-primary"})]})}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"font-medium text-sm",children:U.summary}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(U.timestamp).toLocaleString()})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["by ",U.actor]})]})]},U.id)),h.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No activity recorded yet"})]})})})]})]}),n.jsx(U7e,{open:A,onOpenChange:E,vendorName:I,productId:H,openInEditMode:k,onVendorUpdated:(U,Q)=>{xd(H,{vendor:U,vendor_name:Q}),r({title:"Vendor Updated",description:`Product vendor changed to ${Q}`}),d()}}),M&&n.jsx(EQ,{open:T,onOpenChange:P,product:M,onIssueUpdated:()=>{}}),n.jsx(aUe,{open:Y,onOpenChange:ae,product:R}),le&&n.jsx(iUe,{open:L,onOpenChange:K,currentSku:le.sku||"",productId:le.id,productName:le.product,onSkuUpdated:U=>{xd(le.id,{sku:U}),r({title:"Success",description:"SKU updated successfully"}),d()}}),oe&&n.jsx(oUe,{open:B,onOpenChange:X,currentPrice:oe.unit_price||"0",productId:oe.id,productName:oe.product,onPriceUpdated:U=>{xd(oe.id,{unit_price:U}),r({title:"Success",description:"Unit price updated successfully"}),d()}}),xe&&n.jsx(lUe,{open:ue,onOpenChange:ve,currentQuantity:xe.qty||"1",productId:xe.id,productName:xe.product,onQuantityUpdated:U=>{xd(xe.id,{qty:U}),r({title:"Success",description:"Quantity updated successfully"}),d()}}),se&&n.jsx(PQ,{open:Me,onOpenChange:Te,deliveryId:se.delivery_id,currentStatus:se.status,orderReference:se.order_reference,onStatusUpdated:()=>{d()}}),n.jsx(g3,{payment:$e,open:ce,onOpenChange:be,onSave:async(U,Q,_e,Re)=>{try{await is.mutateAsync({payment:$e.id,date:new Date().toISOString().split("T")[0],amount:U,method:Q,reference_no:_e,note:Re}),r({title:"Success",description:"Payment recorded successfully"}),be(!1),d()}catch{r({title:"Error",description:"Failed to record payment",variant:"destructive"})}}}),n.jsx(FBe,{payment:ot,open:de,onOpenChange:Ie,onUpdate:async(U,Q)=>{try{await Ua.mutateAsync({id:U,data:{due_date:Q}}),r({title:"Success",description:"Payment due date updated successfully"}),d()}catch(_e){throw r({title:"Error",description:"Failed to update payment due date",variant:"destructive"}),_e}}}),n.jsx(YBe,{product:M,apartmentId:e||"",existingIssueId:Ke,open:Ze,onOpenChange:U=>{ye(U),U||Ct(null)},onSubmit:async(U,Q)=>{var _e,Re;try{Q?(await _r.updateIssue(Q,U),r({title:"Success",description:"Issue updated successfully"})):(await _r.createIssue(U),r({title:"Success",description:"Issue reported successfully"})),d()}catch(Ce){throw r({title:"Error",description:((Re=(_e=Ce.response)==null?void 0:_e.data)==null?void 0:Re.message)||`Failed to ${Q?"update":"report"} issue`,variant:"destructive"}),Ce}}}),n.jsx(MUe,{open:Et,onOpenChange:ur,issueId:((re=vr==null?void 0:vr.issue_status_info)==null?void 0:re.issue_id)||null,productName:(vr==null?void 0:vr.product)||"Product",onIssueCreated:U=>{d()}}),n.jsx(lc,{open:j.open,onOpenChange:U=>!U&&y({open:!1,id:"",name:"",apartmentId:""}),children:n.jsxs(pl,{children:[n.jsx(xl,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(xn,{className:"h-5 w-5 text-destructive"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(vl,{children:"Delete Product"}),n.jsxs(yl,{children:['Are you sure you want to delete "',j.name,'"? This action cannot be undone.']})]})]})}),n.jsxs(gl,{children:[n.jsx(bl,{onClick:()=>y({open:!1,id:"",name:"",apartmentId:""}),children:"Cancel"}),n.jsx(jl,{onClick:Qi,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",autoFocus:!0,children:"Delete"})]})]})})]})};function $Ue(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-4 w-12"})]})}function LUe(){return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(S,{className:"h-10 w-10 rounded-md"}),n.jsx(S,{className:"h-9 w-48"})]})}function BUe(){return n.jsxs(Z,{children:[n.jsx(we,{children:n.jsx(S,{className:"h-6 w-40"})}),n.jsxs(J,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-16"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(S,{className:"h-5 w-24 rounded-full"}),n.jsx(S,{className:"h-5 w-24 rounded-full"})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-28"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-36"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-16"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-16"}),n.jsx(S,{className:"h-24 w-full rounded-md"})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(S,{className:"h-10 w-24 rounded-md"}),n.jsx(S,{className:"h-10 w-32 rounded-md"})]})]})]})}function UUe(){return n.jsx(dt,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx($Ue,{}),n.jsx(LUe,{}),n.jsx(BUe,{})]})})}const VUe=()=>{const{id:e}=Ki(),t=dr(),{toast:r}=pr(),{data:s,isLoading:a,error:i}=u3(e||null),{data:o,isLoading:l}=H2({}),c=(o==null?void 0:o.results)||[],d=cBe(),[u,f]=v.useState({name:"",type:"furnishing",client:"",address:"",designer:"",status:"Planning",start_date:"",due_date:"",notes:"",progress:0}),[m,h]=v.useState({});if(v.useEffect(()=>{s&&f({name:s.name,type:s.type,client:s.client||s.client_id||"",address:s.address,designer:s.designer,status:s.status,start_date:s.start_date,due_date:s.due_date,notes:s.notes||"",progress:s.progress})},[s]),a)return n.jsx(UUe,{});if(i||!s)return n.jsx(dt,{title:"Apartment Not Found",children:n.jsx(Z,{children:n.jsxs(J,{className:"py-8",children:[n.jsx("p",{className:"text-center text-muted-foreground",children:"Apartment not found"}),n.jsx("div",{className:"flex justify-center mt-4",children:n.jsx(te,{onClick:()=>t("/apartments"),children:"Back to Apartments"})})]})})});const x=()=>{const g={};return u.name.trim()||(g.name="Apartment name is required"),u.client||(g.client="Client selection is required"),u.address.trim()||(g.address="Address is required"),u.designer.trim()||(g.designer="Designer is required"),u.start_date||(g.start_date="Start date is required"),u.due_date||(g.due_date="Due date is required"),u.start_date&&u.due_date&&new Date(u.due_date)<new Date(u.start_date)&&(g.due_date="Due date must be after start date"),h(g),Object.keys(g).length===0},p=async g=>{var j,y;if(g.preventDefault(),!x()){r({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{await d.mutateAsync({id:s.id,data:u}),t("/apartments")}catch(w){r({title:"Error",description:((y=(j=w.response)==null?void 0:j.data)==null?void 0:y.message)||"Failed to update apartment. Please try again.",variant:"destructive"})}};return n.jsx(dt,{title:"Edit Apartment",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ra,{children:n.jsxs(Ma,{children:[n.jsx(Jt,{children:n.jsx(Xn,{href:"/apartments",children:"Apartments"})}),n.jsx(Sn,{}),n.jsx(Jt,{children:n.jsx(Xn,{href:`/apartments/${s.id}`,children:s.name})}),n.jsx(Sn,{}),n.jsx(Jt,{children:n.jsx(hi,{children:"Edit"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>t(`/apartments/${s.id}`),children:n.jsx(tr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"Edit Apartment"})]}),n.jsx("form",{onSubmit:p,children:n.jsxs(Z,{children:[n.jsx(we,{children:n.jsx(Ue,{children:"Apartment Details"})}),n.jsxs(J,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"name",children:"Apartment Name *"}),n.jsx(fe,{id:"name",value:u.name,onChange:g=>f({...u,name:g.target.value}),placeholder:"Izabella utca 3  A/12"}),m.name&&n.jsx("p",{className:"text-sm text-destructive",children:m.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Type *"}),n.jsx(h3,{value:u.type,onValueChange:g=>f({...u,type:g}),children:n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(lv,{value:"furnishing",id:"furnishing"}),n.jsx(G,{htmlFor:"furnishing",className:"font-normal cursor-pointer",children:"Furnishing"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(lv,{value:"renovating",id:"renovating"}),n.jsx(G,{htmlFor:"renovating",className:"font-normal cursor-pointer",children:"Renovating"})]})]})})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"client",children:"Client/Owner *"}),n.jsxs(at,{value:u.client,onValueChange:g=>f({...u,client:g}),disabled:l,children:[n.jsx(nt,{id:"client",children:n.jsx(it,{placeholder:l?"Loading clients...":"Select client"})}),n.jsx(st,{children:c.map(g=>n.jsxs(ne,{value:g.id,children:[g.name," - ",g.type]},g.id))})]}),m.client&&n.jsx("p",{className:"text-sm text-destructive",children:m.client})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"designer",children:"Assigned Designer *"}),n.jsx(fe,{id:"designer",value:u.designer,onChange:g=>f({...u,designer:g.target.value}),placeholder:"Enter designer name"}),m.designer&&n.jsx("p",{className:"text-sm text-destructive",children:m.designer})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"address",children:"Address *"}),n.jsx(fe,{id:"address",value:u.address,onChange:g=>f({...u,address:g.target.value}),placeholder:"Izabella u. 3, Budapest"}),m.address&&n.jsx("p",{className:"text-sm text-destructive",children:m.address})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"status",children:"Status"}),n.jsxs(at,{value:u.status,onValueChange:g=>f({...u,status:g}),children:[n.jsx(nt,{id:"status",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"Planning",children:"Planning"}),n.jsx(ne,{value:"Design Approved",children:"Design Approved"}),n.jsx(ne,{value:"Ordering",children:"Ordering"}),n.jsx(ne,{value:"Delivery",children:"Delivery"}),n.jsx(ne,{value:"Renovating",children:"Renovating"}),n.jsx(ne,{value:"Complete",children:"Complete"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"start_date",children:"Start Date *"}),n.jsx(fe,{id:"start_date",type:"date",value:u.start_date,onChange:g=>f({...u,start_date:g.target.value})}),m.start_date&&n.jsx("p",{className:"text-sm text-destructive",children:m.start_date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"due_date",children:"Due Date *"}),n.jsx(fe,{id:"due_date",type:"date",value:u.due_date,onChange:g=>f({...u,due_date:g.target.value})}),m.due_date&&n.jsx("p",{className:"text-sm text-destructive",children:m.due_date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"progress",children:"Progress (%)"}),n.jsx(fe,{id:"progress",type:"number",min:"0",max:"100",value:u.progress,onChange:g=>f({...u,progress:Number(g.target.value)})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"notes",children:"Notes"}),n.jsx(da,{id:"notes",value:u.notes,onChange:g=>f({...u,notes:g.target.value}),placeholder:"Additional notes about this apartment...",rows:4})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>t(`/apartments/${s.id}`),children:"Cancel"}),n.jsx(te,{type:"submit",disabled:d.isPending,children:d.isPending?"Saving...":"Save Changes"})]})]})]})})]})})},zUe=()=>{const[e,t]=v.useState("all"),[r,s]=v.useState(""),a=[{id:1,image:"",name:"Modern Sectional Sofa",sku:"SOF-2024-001",vendor:"IKEA",price:1299.99,qty:1,availability:"In Stock",orderStatus:"Ordered",expectedDelivery:"2024-01-20",paymentStatus:"Paid"},{id:2,image:"",name:"Queen Size Bed Frame",sku:"BED-2024-012",vendor:"Wayfair",price:899,qty:1,availability:"Low Stock",orderStatus:"Pending",expectedDelivery:"",paymentStatus:"Due"},{id:3,image:"",name:"Dining Chair Set (4pc)",sku:"CHR-2024-045",vendor:"West Elm",price:599.99,qty:4,availability:"In Stock",orderStatus:"Delivered",expectedDelivery:"2024-01-15",paymentStatus:"Paid"},{id:4,image:"",name:"Floor Lamp Modern",sku:"LMP-2024-078",vendor:"CB2",price:189.99,qty:2,availability:"Out of Stock",orderStatus:"Pending",expectedDelivery:"",paymentStatus:"Partial"},{id:5,image:"",name:"Wall Art Canvas Set",sku:"ART-2024-023",vendor:"Etsy",price:129.99,qty:3,availability:"In Stock",orderStatus:"Ordered",expectedDelivery:"2024-01-18",paymentStatus:"Due"}],i=o=>({Ordered:"bg-primary/10 text-primary",Pending:"bg-warning/10 text-warning",Delivered:"bg-success/10 text-success","In Stock":"bg-success/10 text-success","Low Stock":"bg-warning/10 text-warning","Out of Stock":"bg-danger/10 text-danger",Paid:"bg-success/10 text-success",Partial:"bg-warning/10 text-warning",Due:"bg-danger/10 text-danger"})[o]||"bg-muted";return n.jsx(dt,{title:"Products",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ca,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{placeholder:"Search by name, SKU, or vendor...",className:"pl-10",value:r,onChange:o=>s(o.target.value)})]}),n.jsxs(at,{value:e,onValueChange:t,children:[n.jsx(nt,{className:"w-full md:w-[200px]",children:n.jsx(it,{placeholder:"Filter by status"})}),n.jsxs(st,{sideOffset:5,children:[n.jsx(ne,{value:"all",children:"All Status"}),n.jsx(ne,{value:"ordered",children:"Ordered"}),n.jsx(ne,{value:"pending",children:"Pending"}),n.jsx(ne,{value:"delivered",children:"Delivered"})]})]}),n.jsxs(te,{variant:"outline",onClick:()=>console.log("More filters clicked"),children:[n.jsx(Rv,{className:"h-4 w-4 mr-2"}),"More Filters"]})]})})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(Z,{children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"}),n.jsx("p",{className:"text-2xl font-bold",children:"247"})]}),n.jsx(ct,{className:"h-8 w-8 text-primary"})]})})}),n.jsx(Z,{children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Ordered"}),n.jsx("p",{className:"text-2xl font-bold",children:"168"})]}),n.jsx(Br,{className:"h-8 w-8 text-success"})]})})}),n.jsx(Z,{children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Delivered"}),n.jsx("p",{className:"text-2xl font-bold",children:"112"})]}),n.jsx(Wr,{className:"h-8 w-8 text-warning"})]})})}),n.jsx(Z,{children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Issues"}),n.jsx("p",{className:"text-2xl font-bold",children:"12"})]}),n.jsx(_t,{className:"h-8 w-8 text-danger"})]})})})]}),n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Os,{children:[n.jsx(Ds,{children:n.jsxs(Ut,{children:[n.jsx(ke,{children:"Image"}),n.jsx(ke,{children:"Name / SKU"}),n.jsx(ke,{children:"Vendor"}),n.jsx(ke,{children:"Price"}),n.jsx(ke,{children:"Qty"}),n.jsx(ke,{children:"Availability"}),n.jsx(ke,{children:"Order Status"}),n.jsx(ke,{children:"Expected Delivery"}),n.jsx(ke,{children:"Payment"}),n.jsx(ke,{children:"Actions"})]})}),n.jsx(Is,{children:a.map(o=>n.jsxs(Ut,{children:[n.jsx(Se,{children:n.jsx("div",{className:"text-3xl",children:o.image})}),n.jsx(Se,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:o.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:o.sku})]})}),n.jsx(Se,{children:n.jsx(te,{variant:"link",className:"p-0 h-auto",children:o.vendor})}),n.jsxs(Se,{children:["$",o.price.toFixed(2)]}),n.jsx(Se,{children:o.qty}),n.jsx(Se,{children:n.jsx(Ae,{className:i(o.availability),children:o.availability})}),n.jsx(Se,{children:n.jsx(Ae,{className:i(o.orderStatus),children:o.orderStatus})}),n.jsx(Se,{children:o.expectedDelivery||n.jsx(te,{variant:"outline",size:"sm",children:"Set Date"})}),n.jsx(Se,{children:n.jsx(Ae,{className:i(o.paymentStatus),children:o.paymentStatus})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(te,{variant:"outline",size:"sm",children:"View"}),n.jsx(te,{variant:"outline",size:"sm",children:"Edit"})]})})]},o.id))})]})})})})]})})};function Sw({options:e,value:t,onValueChange:r,onCreate:s,onNavigateToCreate:a,placeholder:i="Select option...",searchPlaceholder:o="Search...",emptyText:l="No results found.",createText:c="Create new",isLoading:d=!1,disabled:u=!1,className:f}){const[m,h]=v.useState(!1),[x,p]=v.useState(!1),[g,j]=v.useState(""),[y,w]=v.useState(!1),[b,N]=v.useState(""),_=e.find(E=>E.value===t),C=async()=>{if(g.trim()){w(!0);try{if(s){const E=await s(g.trim());r(E.id),p(!1),j(""),h(!1)}}catch(E){console.error("Error creating item:",E)}finally{w(!1)}}},A=()=>{a?(a(),h(!1)):(p(!0),j(b))};return n.jsxs(n.Fragment,{children:[n.jsxs(wh,{open:m,onOpenChange:h,children:[n.jsx(Nh,{asChild:!0,children:n.jsxs(te,{variant:"outline",role:"combobox","aria-expanded":m,className:ge("w-full justify-between",f),disabled:u||d,children:[d?"Loading...":_?_.label:n.jsx("span",{className:"text-muted-foreground",children:i}),n.jsx(mse,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),n.jsx(kf,{className:"w-full p-0",align:"start",children:n.jsxs(FT,{children:[n.jsx($T,{placeholder:o,value:b,onValueChange:N}),n.jsxs(LT,{children:[n.jsx(KW,{children:n.jsx("div",{className:"text-sm text-muted-foreground py-2",children:l})}),n.jsx(kl,{children:e.map(E=>n.jsxs(vi,{value:E.value,onSelect:k=>{r(k===t?"":k),h(!1)},children:[n.jsx(mo,{className:ge("mr-2 h-4 w-4",t===E.value?"opacity-100":"opacity-0")}),E.label]},E.value))}),n.jsx(kl,{children:n.jsxs(vi,{onSelect:A,className:"text-primary",children:[n.jsx(Gn,{className:"mr-2 h-4 w-4"}),c,b&&!a&&` "${b}"`]})})]})]})})]}),n.jsx(Zr,{open:x,onOpenChange:p,children:n.jsxs(Hr,{children:[n.jsxs(Jr,{children:[n.jsx(en,{children:c}),n.jsx(ss,{children:"Enter a name for the new item. Click create when you're done."})]}),n.jsx("div",{className:"grid gap-4 py-4",children:n.jsxs("div",{className:"grid gap-2",children:[n.jsx(G,{htmlFor:"name",children:"Name"}),n.jsx(fe,{id:"name",value:g,onChange:E=>j(E.target.value),placeholder:"Enter name...",onKeyDown:E=>{E.key==="Enter"&&(E.preventDefault(),C())}})]})}),n.jsxs(Ba,{children:[n.jsx(te,{variant:"outline",onClick:()=>{p(!1),j("")},disabled:y,children:"Cancel"}),n.jsx(te,{onClick:C,disabled:y||!g.trim(),children:y?"Creating...":"Create"})]})]})})]})}const WUe=()=>{const[e]=EN(),t=e.get("apartmentId"),r=dr(),{toast:s}=pr(),[a,i]=v.useState({product:"",description:"",category:"",vendor:"",vendor_link:"",sku:"",dimensions:"",weight:"",material:"",color:"",model_number:"",brand:"",country_of_origin:"",sn:"",unit_price:"",qty:1,cost:"",total_cost:"",shipping_cost:"0",discount:"0",currency:"HUF",availability:"In Stock",status:["Design Approved"],room:"",link:"",size:"",nm:"",plusz_nm:"",price_per_nm:"",price_per_package:"",nm_per_package:"",all_package:"",package_need_to_order:"",all_price:"",eta:"",ordered_on:"",payment_status:"Unpaid",payment_due_date:"",payment_amount:"",paid_amount:"0",delivery_type:"",delivery_status_tags:"",delivery_address:"",delivery_city:"",delivery_postal_code:"",delivery_country:"",delivery_time_window:"",delivery_instructions:"",delivery_contact_person:"",delivery_contact_phone:"",delivery_contact_email:"",delivery_notes:"",tracking_number:"",condition_on_arrival:"",sender:"",sender_address:"",sender_phone:"",recipient:"",recipient_address:"",recipient_phone:"",recipient_email:"",locker_provider:"",locker_id:"",pickup_provider:"",pickup_location:"",customs_description:"",item_value:"",hs_category:"",insurance:"no",cod:"",pickup_time:"",delivery_deadline:"",special_instructions:"",issue_state:"No Issue",issue_type:"",issue_description:"",replacement_requested:!1,replacement_approved:!1,replacement_eta:"",replacement_of:"",gallery_images:"",attachments:"",notes:"",manual_notes:"",ai_summary_notes:""}),[o,l]=v.useState({}),[c,d]=v.useState(null),[u,f]=v.useState(""),[m,h]=v.useState("basic"),{data:x,isLoading:p}=u3(t),{data:g,isLoading:j,error:y}=HX(t),w=Array.isArray(g)?g:[],{data:b,isLoading:N,error:_}=pm(),C=(b==null?void 0:b.results)||[],A=kBe(),E=qX();if(v.useEffect(()=>{t||(s({title:"Error",description:"Apartment ID is required",variant:"destructive"}),r("/apartments"))},[t,r,s]),v.useEffect(()=>{y&&!j&&s({title:"Warning",description:"Failed to load categories. You can still add a product by entering the category ID manually.",variant:"destructive"})},[y,j,s]),v.useEffect(()=>{_&&!N&&s({title:"Warning",description:"Failed to load vendors. You can still add a product by entering the vendor ID manually.",variant:"destructive"})},[_,N,s]),p)return n.jsx(dt,{title:"Loading...",children:n.jsx("div",{className:"container mx-auto py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Bt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground",children:"Loading apartment details..."})]})})});const k=T=>{var M;const P=(M=T.target.files)==null?void 0:M[0];if(P){d(P);const D=new FileReader;D.onloadend=()=>{f(D.result)},D.readAsDataURL(P)}},O=()=>{d(null),f("")},I=()=>{const T={};return a.product.trim()||(T.product="Product name is required"),a.category||(T.category="Category is required"),a.vendor||(T.vendor="Vendor is required"),(!a.unit_price||parseFloat(a.unit_price)<=0)&&(T.unit_price="Valid unit price is required"),(!a.qty||a.qty<=0)&&(T.qty="Valid quantity is required"),l(T),Object.keys(T).length===0},W=async T=>{if(T.preventDefault(),!I()){s({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{if(c){const P=new FormData;P.append("apartment",t),P.append("category",a.category),P.append("product",a.product),P.append("vendor",a.vendor),P.append("unit_price",a.unit_price),P.append("qty",a.qty.toString()),P.append("availability",a.availability),P.append("status",JSON.stringify(a.status)),P.append("payment_status",a.payment_status),P.append("paid_amount",a.paid_amount),P.append("currency",a.currency),P.append("issue_state",a.issue_state),P.append("image_file",c),console.log(" Sending FormData with image:"),console.log("  - Image file:",c),console.log("  - File name:",c.name),console.log("  - File size:",c.size),console.log("  - File type:",c.type);for(let M of P.entries())console.log(`  - ${M[0]}:`,M[1]);a.description&&P.append("description",a.description),a.vendor_link&&P.append("vendor_link",a.vendor_link),a.sku&&P.append("sku",a.sku),a.dimensions&&P.append("dimensions",a.dimensions),a.weight&&P.append("weight",a.weight),a.material&&P.append("material",a.material),a.color&&P.append("color",a.color),a.model_number&&P.append("model_number",a.model_number),a.brand&&P.append("brand",a.brand),a.country_of_origin&&P.append("country_of_origin",a.country_of_origin),a.sn&&P.append("sn",a.sn),a.cost&&P.append("cost",a.cost),a.total_cost&&P.append("total_cost",a.total_cost),a.shipping_cost&&P.append("shipping_cost",a.shipping_cost),a.discount&&P.append("discount",a.discount),a.room&&P.append("room",a.room),a.link&&P.append("link",a.link),a.size&&P.append("size",a.size),a.nm&&P.append("nm",a.nm),a.plusz_nm&&P.append("plusz_nm",a.plusz_nm),a.price_per_nm&&P.append("price_per_nm",a.price_per_nm),a.price_per_package&&P.append("price_per_package",a.price_per_package),a.nm_per_package&&P.append("nm_per_package",a.nm_per_package),a.all_package&&P.append("all_package",a.all_package),a.package_need_to_order&&P.append("package_need_to_order",a.package_need_to_order),a.all_price&&P.append("all_price",a.all_price),a.eta&&P.append("eta",a.eta),a.ordered_on&&P.append("ordered_on",a.ordered_on),a.payment_due_date&&P.append("payment_due_date",a.payment_due_date),a.payment_amount&&P.append("payment_amount",a.payment_amount),a.delivery_type&&P.append("delivery_type",a.delivery_type),a.delivery_status_tags&&P.append("delivery_status_tags",a.delivery_status_tags),a.delivery_address&&P.append("delivery_address",a.delivery_address),a.delivery_city&&P.append("delivery_city",a.delivery_city),a.delivery_postal_code&&P.append("delivery_postal_code",a.delivery_postal_code),a.delivery_country&&P.append("delivery_country",a.delivery_country),a.delivery_time_window&&P.append("delivery_time_window",a.delivery_time_window),a.delivery_instructions&&P.append("delivery_instructions",a.delivery_instructions),a.delivery_contact_person&&P.append("delivery_contact_person",a.delivery_contact_person),a.delivery_contact_phone&&P.append("delivery_contact_phone",a.delivery_contact_phone),a.delivery_contact_email&&P.append("delivery_contact_email",a.delivery_contact_email),a.delivery_notes&&P.append("delivery_notes",a.delivery_notes),a.tracking_number&&P.append("tracking_number",a.tracking_number),a.condition_on_arrival&&P.append("condition_on_arrival",a.condition_on_arrival),a.sender&&P.append("sender",a.sender),a.sender_address&&P.append("sender_address",a.sender_address),a.sender_phone&&P.append("sender_phone",a.sender_phone),a.recipient&&P.append("recipient",a.recipient),a.recipient_address&&P.append("recipient_address",a.recipient_address),a.recipient_phone&&P.append("recipient_phone",a.recipient_phone),a.recipient_email&&P.append("recipient_email",a.recipient_email),a.locker_provider&&P.append("locker_provider",a.locker_provider),a.locker_id&&P.append("locker_id",a.locker_id),a.pickup_provider&&P.append("pickup_provider",a.pickup_provider),a.pickup_location&&P.append("pickup_location",a.pickup_location),a.customs_description&&P.append("customs_description",a.customs_description),a.item_value&&P.append("item_value",a.item_value),a.hs_category&&P.append("hs_category",a.hs_category),a.insurance&&P.append("insurance",a.insurance),a.cod&&P.append("cod",a.cod),a.pickup_time&&P.append("pickup_time",a.pickup_time),a.delivery_deadline&&P.append("delivery_deadline",a.delivery_deadline),a.special_instructions&&P.append("special_instructions",a.special_instructions),a.issue_type&&P.append("issue_type",a.issue_type),a.issue_description&&P.append("issue_description",a.issue_description),P.append("replacement_requested",a.replacement_requested.toString()),P.append("replacement_approved",a.replacement_approved.toString()),a.replacement_eta&&P.append("replacement_eta",a.replacement_eta),a.replacement_of&&P.append("replacement_of",a.replacement_of),a.gallery_images&&P.append("gallery_images",a.gallery_images),a.attachments&&P.append("attachments",a.attachments),a.notes&&P.append("notes",a.notes),a.manual_notes&&P.append("manual_notes",a.manual_notes),a.ai_summary_notes&&P.append("ai_summary_notes",a.ai_summary_notes),await A.mutateAsync(P)}else{const P={apartment:t,category:a.category,product:a.product,description:a.description||void 0,vendor:a.vendor,vendor_link:a.vendor_link||void 0,sku:a.sku||void 0,dimensions:a.dimensions||void 0,weight:a.weight||void 0,material:a.material||void 0,color:a.color||void 0,model_number:a.model_number||void 0,brand:a.brand||void 0,country_of_origin:a.country_of_origin||void 0,sn:a.sn||void 0,unit_price:a.unit_price,qty:a.qty,cost:a.cost||void 0,total_cost:a.total_cost||void 0,shipping_cost:a.shipping_cost||void 0,discount:a.discount||void 0,currency:a.currency,availability:a.availability,status:a.status,room:a.room||void 0,link:a.link||void 0,size:a.size||void 0,nm:a.nm||void 0,plusz_nm:a.plusz_nm||void 0,price_per_nm:a.price_per_nm||void 0,price_per_package:a.price_per_package||void 0,nm_per_package:a.nm_per_package||void 0,all_package:a.all_package||void 0,package_need_to_order:a.package_need_to_order||void 0,all_price:a.all_price||void 0,eta:a.eta||null,ordered_on:a.ordered_on||null,payment_status:a.payment_status,payment_due_date:a.payment_due_date||null,payment_amount:a.payment_amount||null,paid_amount:a.paid_amount,delivery_type:a.delivery_type||void 0,delivery_status_tags:a.delivery_status_tags||void 0,delivery_address:a.delivery_address||void 0,delivery_city:a.delivery_city||void 0,delivery_postal_code:a.delivery_postal_code||void 0,delivery_country:a.delivery_country||void 0,delivery_time_window:a.delivery_time_window||void 0,delivery_instructions:a.delivery_instructions||void 0,delivery_contact_person:a.delivery_contact_person||void 0,delivery_contact_phone:a.delivery_contact_phone||void 0,delivery_contact_email:a.delivery_contact_email||void 0,delivery_notes:a.delivery_notes||void 0,tracking_number:a.tracking_number||void 0,condition_on_arrival:a.condition_on_arrival||void 0,sender:a.sender||void 0,sender_address:a.sender_address||void 0,sender_phone:a.sender_phone||void 0,recipient:a.recipient||void 0,recipient_address:a.recipient_address||void 0,recipient_phone:a.recipient_phone||void 0,recipient_email:a.recipient_email||void 0,locker_provider:a.locker_provider||void 0,locker_id:a.locker_id||void 0,pickup_provider:a.pickup_provider||void 0,pickup_location:a.pickup_location||void 0,customs_description:a.customs_description||void 0,item_value:a.item_value||void 0,hs_category:a.hs_category||void 0,insurance:a.insurance||void 0,cod:a.cod||void 0,pickup_time:a.pickup_time||void 0,delivery_deadline:a.delivery_deadline||void 0,special_instructions:a.special_instructions||void 0,issue_state:a.issue_state,issue_type:a.issue_type||void 0,issue_description:a.issue_description||void 0,replacement_requested:a.replacement_requested,replacement_approved:a.replacement_approved,replacement_eta:a.replacement_eta||null,replacement_of:a.replacement_of||void 0,gallery_images:a.gallery_images||void 0,attachments:a.attachments||void 0,notes:a.notes||void 0,manual_notes:a.manual_notes||void 0,ai_summary_notes:a.ai_summary_notes||void 0};await A.mutateAsync(P)}r(`/apartments/${t}`)}catch{}};if(!x)return n.jsx(dt,{title:"Apartment Not Found",children:n.jsx(Z,{children:n.jsxs(J,{className:"py-8",children:[n.jsx("p",{className:"text-center text-muted-foreground",children:"Apartment not found"}),n.jsx("div",{className:"flex justify-center mt-4",children:n.jsx(te,{onClick:()=>r("/apartments"),children:"Back to Apartments"})})]})})});const H=a.unit_price&&a.qty?parseFloat(a.unit_price)*a.qty+(parseFloat(a.shipping_cost)||0)-(parseFloat(a.discount)||0):0,F=H-(parseFloat(a.paid_amount)||0);return n.jsx(dt,{title:"Add Product",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ra,{children:n.jsxs(Ma,{children:[n.jsx(Jt,{children:n.jsx(Xn,{href:"/apartments",children:"Apartments"})}),n.jsx(Sn,{}),n.jsx(Jt,{children:n.jsx(Xn,{href:`/apartments/${t}`,children:x.name})}),n.jsx(Sn,{}),n.jsx(Jt,{children:n.jsx(hi,{children:"Add Product"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>r(`/apartments/${t}`),children:n.jsx(tr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"Add Product"})]}),n.jsx("form",{onSubmit:W,children:n.jsx(Z,{children:n.jsxs(J,{children:[n.jsxs(ko,{value:m,onValueChange:h,children:[n.jsxs(Xi,{className:"grid w-full grid-cols-4 mt-6",children:[n.jsx(Vt,{value:"basic",children:"Basic Info"}),n.jsx(Vt,{value:"measurements",children:"Measurements"}),n.jsx(Vt,{value:"pricing",children:"Pricing"}),n.jsx(Vt,{value:"additional",children:"Additional"})]}),n.jsxs(Yt,{value:"basic",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Basic Product Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"product",children:"Product Name *"}),n.jsx(fe,{id:"product",value:a.product,onChange:T=>i({...a,product:T.target.value}),placeholder:"Modern Sofa"}),o.product&&n.jsx("p",{className:"text-sm text-destructive",children:o.product})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"category",children:"Category *"}),n.jsx(Sw,{options:w.map(T=>({value:T.id,label:T.name})),value:a.category,onValueChange:T=>i({...a,category:T}),onCreate:async T=>{const P=await E.mutateAsync({name:T,apartment:t,sheet_name:T});return{id:P.id,name:P.name}},placeholder:"Select category",searchPlaceholder:"Search categories...",emptyText:"No categories found.",createText:"Create new category",isLoading:j}),o.category&&n.jsx("p",{className:"text-sm text-destructive",children:o.category})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"vendor",children:"Vendor *"}),n.jsx(Sw,{options:C.map(T=>({value:T.id,label:T.company_name||T.name})),value:a.vendor,onValueChange:T=>i({...a,vendor:T}),onNavigateToCreate:()=>{r("/vendors/new")},placeholder:"Select vendor",searchPlaceholder:"Search vendors...",emptyText:"No vendors found.",createText:"Create new vendor",isLoading:N}),o.vendor&&n.jsx("p",{className:"text-sm text-destructive",children:o.vendor})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"link",children:"Product Link (Optional)"}),n.jsx(fe,{id:"link",type:"url",value:a.link,onChange:T=>i({...a,link:T.target.value}),placeholder:"https://example.com/product"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"sku",children:"SKU *"}),n.jsx(fe,{id:"sku",value:a.sku,onChange:T=>i({...a,sku:T.target.value}),placeholder:"SOFA-001"}),o.sku&&n.jsx("p",{className:"text-sm text-destructive",children:o.sku})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"room",children:"Room (Optional)"}),n.jsx(fe,{id:"room",value:a.room,onChange:T=>i({...a,room:T.target.value}),placeholder:"Living Room, Bedroom, etc."})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"imageFile",children:"Product Image"}),u?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"relative w-full h-48 border rounded-md overflow-hidden bg-muted",children:[n.jsx("img",{src:u,alt:"Product preview",className:"w-full h-full object-contain"}),n.jsx(te,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:O,children:"Remove"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:c==null?void 0:c.name})]}):n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(fe,{id:"imageFile",type:"file",accept:"image/*",onChange:k,className:"cursor-pointer"})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload a product image (JPG, PNG, GIF, etc.)"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"unitPrice",children:"Unit Price (HUF) *"}),n.jsx(fe,{id:"unitPrice",type:"number",min:"0",step:"0.01",value:a.unit_price,onChange:T=>i({...a,unit_price:T.target.value}),placeholder:"150000"}),o.unitPrice&&n.jsx("p",{className:"text-sm text-destructive",children:o.unitPrice})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"qty",children:"Quantity *"}),n.jsx(fe,{id:"qty",type:"number",min:"1",value:a.qty,onChange:T=>i({...a,qty:parseInt(T.target.value)||1}),placeholder:"1"}),o.qty&&n.jsx("p",{className:"text-sm text-destructive",children:o.qty})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"availability",children:"Availability *"}),n.jsxs(at,{value:a.availability,onValueChange:T=>i({...a,availability:T}),children:[n.jsx(nt,{id:"availability",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"In Stock",children:"In Stock"}),n.jsx(ne,{value:"Backorder",children:"Backorder"}),n.jsx(ne,{value:"Out of Stock",children:"Out of Stock"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"status",children:"Product Status *"}),n.jsx(Pp,{options:["Design Approved","Ready To Order","Ordered","Waiting For Stock","Shipped","Delivered","Damaged","Wrong Item","Missing Parts"],value:Array.isArray(a.status)?a.status:[],onChange:T=>i({...a,status:T}),placeholder:"Add status..."})]})]})]}),n.jsxs(Yt,{value:"measurements",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Product Specifications"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"dimensions",children:"Dimensions"}),n.jsx(fe,{id:"dimensions",value:a.dimensions,onChange:T=>i({...a,dimensions:T.target.value}),placeholder:"120x80x45 cm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"weight",children:"Weight"}),n.jsx(fe,{id:"weight",value:a.weight,onChange:T=>i({...a,weight:T.target.value}),placeholder:"25 kg"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"material",children:"Material"}),n.jsx(fe,{id:"material",value:a.material,onChange:T=>i({...a,material:T.target.value}),placeholder:"Oak Wood"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"color",children:"Color"}),n.jsx(fe,{id:"color",value:a.color,onChange:T=>i({...a,color:T.target.value}),placeholder:"Natural Oak"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"size",children:"Size"}),n.jsx(fe,{id:"size",value:a.size,onChange:T=>i({...a,size:T.target.value}),placeholder:"Large"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"NM Measurements (for Flooring/Tiles)"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"nm",children:"NM"}),n.jsx(fe,{id:"nm",type:"number",step:"0.01",value:a.nm,onChange:T=>i({...a,nm:T.target.value}),placeholder:"10.5"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"plusz_nm",children:"Plus NM"}),n.jsx(fe,{id:"plusz_nm",type:"number",step:"0.01",value:a.plusz_nm,onChange:T=>i({...a,plusz_nm:T.target.value}),placeholder:"1.5"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"price_per_nm",children:"Price per NM"}),n.jsx(fe,{id:"price_per_nm",type:"number",step:"0.01",value:a.price_per_nm,onChange:T=>i({...a,price_per_nm:T.target.value}),placeholder:"5000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"price_per_package",children:"Price per Package"}),n.jsx(fe,{id:"price_per_package",type:"number",step:"0.01",value:a.price_per_package,onChange:T=>i({...a,price_per_package:T.target.value}),placeholder:"15000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"nm_per_package",children:"NM per Package"}),n.jsx(fe,{id:"nm_per_package",type:"number",step:"0.01",value:a.nm_per_package,onChange:T=>i({...a,nm_per_package:T.target.value}),placeholder:"3"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"package_need_to_order",children:"Package Need to Order"}),n.jsx(fe,{id:"package_need_to_order",type:"number",value:a.package_need_to_order,onChange:T=>i({...a,package_need_to_order:T.target.value}),placeholder:"8"})]})]})]})]}),n.jsxs(Yt,{value:"pricing",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Payment Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"total_amount",children:"Total Amount (HUF)"}),n.jsx("div",{className:"h-10 px-3 py-2 rounded-md border border-input bg-muted flex items-center",children:n.jsx("span",{className:"font-semibold text-lg",children:H.toLocaleString()})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: (Unit Price  Qty) + Shipping - Discount"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"shipping_cost",children:"Shipping Cost (Optional)"}),n.jsx(fe,{id:"shipping_cost",type:"number",min:"0",step:"0.01",value:a.shipping_cost,onChange:T=>i({...a,shipping_cost:T.target.value}),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"discount",children:"Discount (Optional)"}),n.jsx(fe,{id:"discount",type:"number",min:"0",step:"0.01",value:a.discount,onChange:T=>i({...a,discount:T.target.value}),placeholder:"0"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"paid_amount",children:"Paid Amount"}),n.jsx(fe,{id:"paid_amount",type:"number",min:"0",step:"0.01",value:a.paid_amount,onChange:T=>i({...a,paid_amount:T.target.value}),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Outstanding Balance"}),n.jsx("div",{className:`h-10 px-3 py-2 rounded-md border flex items-center ${F>0?"bg-red-50 border-red-200 text-red-700":"bg-green-50 border-green-200 text-green-700"}`,children:n.jsxs("span",{className:"font-semibold text-lg",children:[F.toLocaleString()," HUF"]})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: Total Amount - Paid Amount"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"paymentStatus",children:"Payment Status *"}),n.jsxs(at,{value:a.payment_status,onValueChange:T=>i({...a,payment_status:T}),children:[n.jsx(nt,{id:"paymentStatus",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"Unpaid",children:"Unpaid"}),n.jsx(ne,{value:"Partially Paid",children:"Partially Paid"}),n.jsx(ne,{value:"Paid",children:"Paid"}),n.jsx(ne,{value:"Overdue",children:"Overdue"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"currency",children:"Currency"}),n.jsxs(at,{value:a.currency,onValueChange:T=>i({...a,currency:T}),children:[n.jsx(nt,{id:"currency",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"HUF",children:"HUF (Hungarian Forint)"}),n.jsx(ne,{value:"EUR",children:"EUR (Euro)"}),n.jsx(ne,{value:"USD",children:"USD (US Dollar)"})]})]})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"paymentDueDate",children:"Payment Due Date *"}),n.jsx(fe,{id:"paymentDueDate",type:"date",value:a.payment_due_date,onChange:T=>i({...a,payment_due_date:T.target.value})})]})})]}),n.jsxs(Yt,{value:"additional",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Additional Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"brand",children:"Brand"}),n.jsx(fe,{id:"brand",value:a.brand,onChange:T=>i({...a,brand:T.target.value}),placeholder:"e.g., IKEA, Samsung, etc."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"country_of_origin",children:"Country of Origin"}),n.jsx(fe,{id:"country_of_origin",value:a.country_of_origin,onChange:T=>i({...a,country_of_origin:T.target.value}),placeholder:"e.g., Hungary, China, Germany"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"condition_on_arrival",children:"Condition on Arrival"}),n.jsx(fe,{id:"condition_on_arrival",value:a.condition_on_arrival,onChange:T=>i({...a,condition_on_arrival:T.target.value}),placeholder:"Good, Damaged, Needs Inspection, etc."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-semibold",children:"Notes & Documentation"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"notes",children:"General Notes"}),n.jsx(da,{id:"notes",value:a.notes,onChange:T=>i({...a,notes:T.target.value}),placeholder:"General notes about this product...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"manual_notes",children:"Manual Notes"}),n.jsx(da,{id:"manual_notes",value:a.manual_notes,onChange:T=>i({...a,manual_notes:T.target.value}),placeholder:"Manual notes added by staff...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"ai_summary_notes",children:"AI Summary Notes"}),n.jsx(da,{id:"ai_summary_notes",value:a.ai_summary_notes,onChange:T=>i({...a,ai_summary_notes:T.target.value}),placeholder:"AI-generated summary and insights...",rows:3}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"AI-generated summaries and recommendations"})]})]})]})]}),n.jsxs("div",{className:"flex gap-4 justify-between mt-6 border-t pt-6",children:[n.jsx("div",{children:m!=="basic"&&n.jsx(te,{type:"button",variant:"outline",onClick:T=>{T.preventDefault(),T.stopPropagation();const P=["basic","measurements","pricing","additional"],M=P.indexOf(m);M>0&&h(P[M-1])},children:" Previous"})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(te,{type:"button",variant:"outline",onClick:T=>{T.preventDefault(),T.stopPropagation(),r(`/apartments/${t}`)},children:"Cancel"}),m!=="additional"?n.jsx(te,{type:"button",onClick:T=>{T.preventDefault(),T.stopPropagation();const P=["basic","measurements","pricing","additional"],M=P.indexOf(m);M<P.length-1&&h(P[M+1])},children:"Next "}):n.jsxs(te,{type:"submit",disabled:A.isPending,children:[A.isPending&&n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),A.isPending?"Adding...":"Add Product"]})]})]})]})})})]})})},HUe=()=>{const{id:e}=Ki(),t=dr(),[r,s]=v.useState(!1),[a,i]=v.useState(!1),[o,l]=v.useState({x:0,y:0}),[c,d]=v.useState(!1),{data:u,isLoading:f,error:m}=zX(e||null),h=u==null?void 0:u.apartment_details,x=null,p=[],g=w=>{const b=w.currentTarget.getBoundingClientRect(),N=(w.clientX-b.left)/b.width*100,_=(w.clientY-b.top)/b.height*100;l({x:N,y:_})};if(v.useEffect(()=>{const w=b=>{b.key==="Escape"&&c&&d(!1)};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[c]),f)return n.jsx(dt,{title:"Loading...",children:n.jsxs("div",{className:"container mx-auto py-8",children:[n.jsx(Ra,{className:"mb-6",children:n.jsxs(Ma,{children:[n.jsx(Jt,{children:n.jsx(S,{className:"h-4 w-20"})}),n.jsx(Sn,{}),n.jsx(Jt,{children:n.jsx(S,{className:"h-4 w-24"})}),n.jsx(Sn,{}),n.jsx(Jt,{children:n.jsx(S,{className:"h-4 w-32"})})]})}),n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-8 w-64"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(S,{className:"h-6 w-20"}),n.jsx(S,{className:"h-6 w-24"}),n.jsx(S,{className:"h-6 w-20"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(S,{className:"h-9 w-20"}),n.jsx(S,{className:"h-9 w-24"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[n.jsxs(Z,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-primary/5 to-transparent",children:n.jsx(S,{className:"h-6 w-48"})}),n.jsxs(J,{className:"space-y-4 pt-6",children:[n.jsx(S,{className:"h-20 w-full"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((w,b)=>n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx(S,{className:"h-4 w-16 mb-2"}),n.jsx(S,{className:"h-5 w-24"})]},b))})]})]}),n.jsxs(Z,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-blue-500/5 to-transparent",children:n.jsx(S,{className:"h-6 w-40"})}),n.jsx(J,{className:"pt-6",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(5)].map((w,b)=>n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx(S,{className:"h-4 w-20 mb-2"}),n.jsx(S,{className:"h-5 w-28"})]},b))})})]}),n.jsxs(Z,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-green-500/5 to-transparent",children:n.jsx(S,{className:"h-6 w-44"})}),n.jsx(J,{className:"space-y-6 pt-6",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[...Array(3)].map((w,b)=>n.jsxs("div",{className:"p-4 bg-gradient-to-br from-primary/10 to-primary/5 rounded-lg border-2",children:[n.jsx(S,{className:"h-4 w-16 mb-2"}),n.jsx(S,{className:"h-8 w-32"})]},b))})})]}),n.jsxs(Z,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-orange-500/5 to-transparent",children:n.jsx(S,{className:"h-6 w-48"})}),n.jsxs(J,{className:"space-y-4 pt-6",children:[n.jsx(S,{className:"h-32 w-full"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[...Array(4)].map((w,b)=>n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx(S,{className:"h-4 w-24 mb-2"}),n.jsx(S,{className:"h-5 w-32"})]},b))})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Z,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-slate-500/5 to-transparent",children:n.jsx(S,{className:"h-6 w-32"})}),n.jsx(J,{className:"p-0",children:n.jsx(S,{className:"w-full aspect-square"})})]}),n.jsxs(Z,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-cyan-500/5 to-transparent",children:n.jsx(S,{className:"h-6 w-28"})}),n.jsx(J,{className:"space-y-3 pt-6",children:[...Array(5)].map((w,b)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-5 w-20"})]},b))})]})]})]})]})});if(m||!u)return n.jsx(dt,{title:"Product Not Found",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground mb-4",children:"Product not found"}),n.jsxs(te,{onClick:()=>t("/apartments"),children:[n.jsx(tr,{className:"mr-2 h-4 w-4"}),"Back to Apartments"]})]})});const j=()=>{window.confirm(`Are you sure you want to delete "${u.product}"?`)&&(Be.success("Product deleted successfully"),t(`/apartments/${u.apartment}`))},y=w=>{const b=w.toLowerCase();return b.includes("delivered")||b.includes("closed")||b.includes("paid")?"bg-success text-success-foreground":b.includes("issue")||b.includes("damaged")||b.includes("wrong")||b.includes("missing")?"bg-danger text-danger-foreground":b.includes("waiting")||b.includes("pending")||b.includes("partial")?"bg-warning text-warning-foreground":b.includes("ordered")||b.includes("shipped")||b.includes("transit")?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"};return n.jsxs(dt,{title:u.product,children:[n.jsx(Ra,{className:"mb-6",children:n.jsxs(Ma,{children:[n.jsx(Jt,{children:n.jsx(Xn,{asChild:!0,children:n.jsx(Vi,{to:"/apartments",children:"Apartments"})})}),n.jsx(Sn,{}),n.jsx(Jt,{children:n.jsx(Xn,{asChild:!0,children:n.jsx(Vi,{to:`/apartments/${u.apartment}`,children:(h==null?void 0:h.name)||"Apartment"})})}),n.jsx(Sn,{}),n.jsx(Jt,{children:n.jsx(hi,{children:u.product})})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-start space-x-2  mb-3",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>t(`/apartments/${u.apartment}`),className:"shrink-0",children:n.jsx(tr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold truncate",children:u.product})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[(Array.isArray(u.status)?u.status:[]).map(w=>n.jsx(Ae,{className:y(w),children:w},w)),(u.delivery_status_tags||[]).map(w=>n.jsx(Ae,{variant:"outline",className:y(w),children:w},w))]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 sm:flex-nowrap",children:[p.length>0&&n.jsxs(wh,{open:r,onOpenChange:s,children:[n.jsx(Nh,{asChild:!0,children:n.jsxs(te,{variant:"outline",size:"icon",className:"relative shrink-0",children:[n.jsx(af,{className:"h-4 w-4"}),p.length>0&&n.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-danger text-danger-foreground text-xs flex items-center justify-center",children:p.length})]})}),n.jsx(kf,{className:"w-80",align:"end",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Notifications"}),n.jsx(ac,{className:"h-[300px]",children:n.jsx("div",{className:"space-y-3",children:p.map(w=>n.jsxs("div",{className:"p-3 rounded-lg border border-border bg-muted/30 space-y-1",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("p",{className:"font-medium text-sm",children:w.title}),n.jsx(Ae,{variant:"outline",className:w.type==="success"?"bg-success/10 text-success border-success/20":w.type==="warning"?"bg-warning/10 text-warning border-warning/20":"bg-primary/10 text-primary border-primary/20",children:w.type})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:w.message}),n.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(w.timestamp).toLocaleString()})]},w.id))})})]})})]}),n.jsxs(te,{variant:"outline",size:"sm",onClick:()=>t(`/products/${u.id}/edit`),className:"shrink-0",children:[n.jsx(Gs,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),n.jsxs(te,{variant:"destructive",size:"sm",onClick:j,className:"shrink-0",children:[n.jsx(xn,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[n.jsxs(Z,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-primary/5 to-transparent",children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(ct,{className:"h-5 w-5 text-primary"}),"Product Information"]})}),n.jsxs(J,{className:"space-y-6 pt-6",children:[u.description&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Description"}),n.jsx("p",{className:"text-sm leading-relaxed",children:u.description})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(cr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Vendor"})]}),n.jsx("p",{className:"font-semibold",children:u.vendor_name||"-"}),u.vendor_link&&n.jsxs("a",{href:u.vendor_link,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline flex items-center gap-1 mt-1",children:["Visit Website",n.jsx(Pk,{className:"h-3 w-3"})]})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(H5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"SKU"})]}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:u.sku||"-"})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(X5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Category"})]}),n.jsx("p",{className:"font-semibold",children:u.category_name||"-"})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(q5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Room"})]}),n.jsx("p",{className:"font-semibold",children:u.room||"-"})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(sr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Availability"})]}),n.jsx(Ae,{variant:u.availability==="In Stock"?"default":"secondary",children:u.availability})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border col-span-full sm:col-span-2 lg:col-span-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(C4,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Product Status"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:(Array.isArray(u.status)?u.status:[]).length>0?(Array.isArray(u.status)?u.status:[]).map(w=>n.jsx(Ae,{className:y(w),children:w},w)):n.jsx("span",{className:"text-muted-foreground text-sm",children:"No status set"})})]}),u.brand&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(X5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Brand"})]}),n.jsx("p",{className:"font-semibold",children:u.brand})]}),u.model_number&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(An,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Model Number"})]}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:u.model_number})]}),u.sn&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(H5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Serial Number"})]}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:u.sn})]}),u.country_of_origin&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Xl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Country of Origin"})]}),n.jsx("p",{className:"font-semibold",children:u.country_of_origin})]})]})]})]}),(u.dimensions||u.weight||u.material||u.color||u.size)&&n.jsxs(Z,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-blue-500/5 to-transparent",children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(Y_,{className:"h-5 w-5 text-blue-600"}),"Specifications"]})}),n.jsx(J,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.dimensions&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Y_,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Dimensions"})]}),n.jsx("p",{className:"font-semibold",children:u.dimensions})]}),u.weight&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(E7,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Weight"})]}),n.jsx("p",{className:"font-semibold",children:u.weight})]}),u.material&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(q5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Material"})]}),n.jsx("p",{className:"font-semibold",children:u.material})]}),u.color&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Ese,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Color"})]}),n.jsx("p",{className:"font-semibold",children:u.color})]}),u.size&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Y_,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Size"})]}),n.jsx("p",{className:"font-semibold",children:u.size})]})]})})]}),n.jsxs(Z,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-green-500/5 to-transparent",children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(br,{className:"h-5 w-5 text-green-600"}),"Pricing & Payment"]})}),n.jsxs(J,{className:"space-y-6 pt-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-4 bg-gradient-to-br from-primary/10 to-primary/5 rounded-lg border-2 border-primary/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Unit Price"}),n.jsxs("p",{className:"text-2xl font-bold text-primary",children:[parseFloat(u.unit_price).toLocaleString()," ",u.currency]})]}),n.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-500/10 to-blue-500/5 rounded-lg border-2 border-blue-500/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Quantity"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:u.qty})]}),n.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-500/10 to-green-500/5 rounded-lg border-2 border-green-500/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[parseFloat(u.total_amount).toLocaleString()," ",u.currency]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[u.shipping_cost&&parseFloat(u.shipping_cost)>0&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Shipping Cost"}),n.jsxs("p",{className:"font-semibold",children:[parseFloat(u.shipping_cost).toLocaleString()," ",u.currency]})]}),u.discount&&parseFloat(u.discount)>0&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Discount"}),n.jsxs("p",{className:"font-semibold text-green-600",children:["-",parseFloat(u.discount).toLocaleString()," ",u.currency]})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Payment Status"}),n.jsx(Ae,{className:y(u.payment_status),children:u.payment_status})]}),u.payment_status_from_orders&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Order Payment Status"}),n.jsx(Ae,{className:y(u.payment_status_from_orders),children:u.payment_status_from_orders})]})]}),(u.payment_amount||u.paid_amount)&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-3",children:[n.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[n.jsx(ys,{className:"h-4 w-4"}),"Payment Details"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.payment_amount&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Payment Amount"}),n.jsxs("p",{className:"font-semibold",children:[parseFloat(u.payment_amount).toLocaleString()," ",u.currency]})]}),u.paid_amount!==void 0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Paid Amount"}),n.jsxs("p",{className:"font-semibold text-green-600",children:[parseFloat(u.paid_amount).toLocaleString()," ",u.currency]})]}),u.outstanding_balance!==void 0&&n.jsxs("div",{className:"col-span-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Outstanding Balance"}),n.jsxs("p",{className:`text-lg font-bold ${parseFloat(u.outstanding_balance)>0?"text-danger":"text-success"}`,children:[parseFloat(u.outstanding_balance).toLocaleString()," ",u.currency]})]})]})]})]})]}),u.order_status_info&&u.order_status_info.length>0&&n.jsxs(Z,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-purple-500/5 to-transparent",children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(js,{className:"h-5 w-5 text-purple-600"}),"Order Tracking"]})}),n.jsx(J,{className:"pt-6",children:n.jsx("div",{className:"space-y-4",children:u.order_status_info.map((w,b)=>n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ae,{className:y(w.status),children:w.status}),w.po_number&&n.jsxs("span",{className:"text-sm font-mono text-muted-foreground",children:["PO: ",w.po_number]})]}),w.quantity&&n.jsxs("span",{className:"text-sm font-semibold",children:["Qty: ",w.quantity]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[w.placed_on&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Placed On"}),n.jsx("p",{className:"font-medium",children:new Date(w.placed_on).toLocaleDateString()})]}),w.expected_delivery&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected Delivery"}),n.jsx("p",{className:"font-medium",children:new Date(w.expected_delivery).toLocaleDateString()})]})]}),w.shipping_address&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Shipping Address"}),n.jsx("p",{className:"text-sm",children:w.shipping_address})]})]},b))})})]}),u.delivery_status_info&&u.delivery_status_info.length>0||u.delivery_address||u.tracking_number?n.jsxs(Z,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-orange-500/5 to-transparent",children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5 text-orange-600"}),"Delivery Information"]})}),n.jsxs(J,{className:"space-y-6 pt-6",children:[u.delivery_status_info&&u.delivery_status_info.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Delivery Tracking"}),u.delivery_status_info.map((w,b)=>n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ae,{className:y(w.status),children:w.status}),w.priority&&n.jsx(Ae,{variant:"outline",children:w.priority})]}),w.tracking_number&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Tracking Number"}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:w.tracking_number})]}),w.location&&n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(ha,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Current Location"}),n.jsx("p",{className:"text-sm font-medium",children:w.location})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[w.expected_date&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected Date"}),n.jsx("p",{className:"font-medium",children:new Date(w.expected_date).toLocaleDateString()})]}),w.actual_date&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Actual Date"}),n.jsx("p",{className:"font-medium",children:new Date(w.actual_date).toLocaleDateString()})]})]})]},b))]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.delivery_type&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Delivery Type"}),n.jsx("p",{className:"font-semibold capitalize",children:u.delivery_type.replace("_"," ")})]}),u.tracking_number&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Tracking Number"}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:u.tracking_number})]}),u.ordered_on&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(jr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Ordered On"})]}),n.jsx("p",{className:"font-semibold",children:new Date(u.ordered_on).toLocaleDateString()})]}),u.expected_delivery_date&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected Delivery"})]}),n.jsx("p",{className:"font-semibold",children:new Date(u.expected_delivery_date).toLocaleDateString()})]}),u.actual_delivery_date&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(sr,{className:"h-4 w-4 text-green-600"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Actual Delivery"})]}),n.jsx("p",{className:"font-semibold text-green-600",children:new Date(u.actual_delivery_date).toLocaleDateString()})]}),u.eta&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(jr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"ETA"})]}),n.jsx("p",{className:"font-semibold",children:new Date(u.eta).toLocaleDateString()})]}),u.condition_on_arrival&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Condition on Arrival"}),n.jsx("p",{className:"font-semibold",children:u.condition_on_arrival})]})]}),u.delivery_address&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[n.jsx(ha,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsx("h4",{className:"font-semibold text-sm",children:"Delivery Address"})]}),n.jsx("p",{className:"text-sm mb-1",children:u.delivery_address}),(u.delivery_city||u.delivery_postal_code||u.delivery_country)&&n.jsx("p",{className:"text-sm text-muted-foreground",children:[u.delivery_city,u.delivery_postal_code,u.delivery_country].filter(Boolean).join(", ")})]}),(u.delivery_contact_person||u.delivery_contact_phone||u.delivery_contact_email)&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Delivery Contact"}),u.delivery_contact_person&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($n,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:u.delivery_contact_person})]}),u.delivery_contact_phone&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(So,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:`tel:${u.delivery_contact_phone}`,className:"text-sm text-primary hover:underline",children:u.delivery_contact_phone})]}),u.delivery_contact_email&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:`mailto:${u.delivery_contact_email}`,className:"text-sm text-primary hover:underline",children:u.delivery_contact_email})]})]}),(u.delivery_instructions||u.delivery_notes||u.special_instructions)&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Instructions & Notes"}),u.delivery_instructions&&n.jsxs("div",{className:"mb-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery Instructions"}),n.jsx("p",{className:"text-sm",children:u.delivery_instructions})]}),u.delivery_notes&&n.jsxs("div",{className:"mb-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery Notes"}),n.jsx("p",{className:"text-sm",children:u.delivery_notes})]}),u.special_instructions&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Special Instructions"}),n.jsx("p",{className:"text-sm",children:u.special_instructions})]})]})]})]}):null,(u.notes||u.manual_notes||u.ai_summary_notes)&&n.jsxs(Z,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-indigo-500/5 to-transparent",children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(An,{className:"h-5 w-5 text-indigo-600"}),"Notes & Additional Information"]})}),n.jsxs(J,{className:"space-y-4 pt-6",children:[u.notes&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2 font-semibold",children:"General Notes"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:u.notes})]}),u.manual_notes&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2 font-semibold",children:"Manual Notes"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:u.manual_notes})]}),u.ai_summary_notes&&n.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(vs,{className:"h-4 w-4 text-primary"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"AI Summary"})]}),n.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:u.ai_summary_notes})]})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[u.product_image?n.jsxs(Z,{className:"border-2 overflow-hidden",children:[n.jsx(we,{className:"bg-gradient-to-r from-slate-500/5 to-transparent",children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(Bi,{className:"h-5 w-5"}),"Product Image"]})}),n.jsx(J,{className:"p-0",children:n.jsxs("div",{className:"relative group cursor-pointer overflow-hidden",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onMouseMove:g,onClick:()=>d(!0),children:[n.jsx("img",{src:u.product_image,alt:u.product,className:"w-full object-cover aspect-square transition-transform duration-200",style:{transform:a?"scale(1.5)":"scale(1)",transformOrigin:`${o.x}% ${o.y}%`}}),n.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors duration-200 pointer-events-none"}),n.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/70 text-white text-xs px-3 py-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none flex items-center gap-1.5",children:[n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"})}),"Hover to zoom  Click for fullscreen"]})]})})]}):n.jsx(Z,{className:"border-2",children:n.jsxs(J,{className:"py-24 text-center",children:[n.jsx("div",{className:"mx-auto h-24 w-24 rounded-full bg-muted flex items-center justify-center mb-4",children:n.jsx(Bi,{className:"h-12 w-12 text-muted-foreground"})}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"No image available"})]})}),n.jsxs(Z,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-cyan-500/5 to-transparent",children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(C4,{className:"h-5 w-5 text-cyan-600"}),"Quick Stats"]})}),n.jsxs(J,{className:"space-y-3 pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Ordered"}),u.is_ordered?n.jsx(sr,{className:"h-5 w-5 text-green-600"}):n.jsx(Fl,{className:"h-5 w-5 text-muted-foreground"})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Active Order"}),u.has_active_order?n.jsx(sr,{className:"h-5 w-5 text-green-600"}):n.jsx(Fl,{className:"h-5 w-5 text-muted-foreground"})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Created"}),n.jsx("span",{className:"text-sm font-medium",children:new Date(u.created_at).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Last Updated"}),n.jsx("span",{className:"text-sm font-medium",children:new Date(u.updated_at).toLocaleDateString()})]}),u.created_by&&n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Created By"}),n.jsx("span",{className:"text-sm font-medium",children:u.created_by})]})]})]}),u.issue_state&&u.issue_state!=="No Issue"&&n.jsxs(Z,{className:"border-2 border-danger/50 bg-danger/5",children:[n.jsx(we,{className:"bg-gradient-to-r from-danger/10 to-transparent",children:n.jsxs(Ue,{className:"flex items-center gap-2 text-danger",children:[n.jsx(_t,{className:"h-5 w-5"}),"Issue Status"]})}),n.jsxs(J,{className:"space-y-4 pt-6",children:[n.jsxs("div",{className:"p-3 bg-background rounded-lg border border-danger/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Current Status"}),n.jsx(Ae,{className:y(u.issue_state),children:u.issue_state})]}),u.issue_status_info&&u.issue_status_info.status!=="No Issue"&&n.jsxs("div",{className:"space-y-3",children:[u.issue_status_info.type&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Issue Type"}),n.jsx("p",{className:"font-semibold",children:u.issue_status_info.type})]}),u.issue_status_info.priority&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Priority"}),n.jsx(Ae,{variant:"outline",children:u.issue_status_info.priority})]}),u.issue_status_info.created_at&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Reported On"}),n.jsx("p",{className:"font-medium",children:new Date(u.issue_status_info.created_at).toLocaleDateString()})]})]}),u.issue_description&&n.jsxs("div",{className:"p-4 bg-background rounded-lg border border-danger/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Description"}),n.jsx("p",{className:"text-sm leading-relaxed",children:u.issue_description})]}),(u.replacement_requested||u.replacement_approved)&&n.jsxs("div",{className:"p-4 bg-warning/10 rounded-lg border border-warning/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2 font-semibold",children:"Replacement Status"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[u.replacement_requested?n.jsx(sr,{className:"h-4 w-4 text-warning"}):n.jsx(Fl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:"Replacement Requested"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[u.replacement_approved?n.jsx(sr,{className:"h-4 w-4 text-success"}):n.jsx(Fl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:"Replacement Approved"})]}),u.replacement_eta&&n.jsxs("div",{className:"mt-2 pt-2 border-t",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Replacement ETA"}),n.jsx("p",{className:"text-sm font-medium",children:new Date(u.replacement_eta).toLocaleDateString()})]})]})]})]})]})]})]}),c&&u.product_image&&n.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:()=>d(!1),children:[n.jsx("button",{onClick:()=>d(!1),className:"absolute top-4 right-4 z-10 h-10 w-10 rounded-full bg-white/10 hover:bg-white/20 backdrop-blur-sm flex items-center justify-center transition-colors duration-200 group","aria-label":"Close fullscreen",children:n.jsx(Fl,{className:"h-6 w-6 text-white group-hover:scale-110 transition-transform"})}),n.jsxs("div",{className:"absolute top-4 left-4 bg-black/50 backdrop-blur-sm text-white px-4 py-2 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium",children:u.product}),n.jsx("p",{className:"text-xs text-white/70 mt-0.5",children:"Press ESC or click outside to close"})]}),n.jsx("img",{src:u.product_image,alt:u.product,className:"max-h-[90vh] max-w-[90vw] object-contain rounded-lg shadow-2xl",onClick:w=>w.stopPropagation()})]}),n.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-3 mt-6 gap-6",children:n.jsx("div",{className:"xl:col-span-2 space-y-6",children:x})})]})};function qUe(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-4 w-12"})]})}function GUe(){return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(S,{className:"h-10 w-10 rounded-md"}),n.jsx(S,{className:"h-9 w-32"})]})}function KUe(){return n.jsx(Z,{children:n.jsxs(J,{children:[n.jsxs("div",{className:"grid w-full grid-cols-4 gap-1 bg-muted p-1 rounded-lg mt-6",children:[n.jsx(S,{className:"h-10 rounded-md"}),n.jsx(S,{className:"h-10 rounded-md"}),n.jsx(S,{className:"h-10 rounded-md"}),n.jsx(S,{className:"h-10 rounded-md"})]}),n.jsxs("div",{className:"space-y-6 mt-6",children:[n.jsx(S,{className:"h-6 w-48"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-36"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-16"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-28"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-28"}),n.jsx(S,{className:"h-48 w-full rounded-md"}),n.jsx(S,{className:"h-3 w-40"})]})}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"flex gap-4 justify-between mt-6 border-t pt-6",children:[n.jsx(S,{className:"h-10 w-24 rounded-md"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(S,{className:"h-10 w-24 rounded-md"}),n.jsx(S,{className:"h-10 w-32 rounded-md"})]})]})]})})}function YUe(){return n.jsx(dt,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(qUe,{}),n.jsx(GUe,{}),n.jsx(KUe,{})]})})}const XUe=()=>{const{id:e}=Ki(),t=dr(),{toast:r}=pr(),{data:s,isLoading:a}=zX(e),i=s==null?void 0:s.apartment,[o,l]=v.useState({product:"",description:"",category:"",vendor:"",vendor_link:"",sku:"",dimensions:"",weight:"",material:"",color:"",model_number:"",brand:"",country_of_origin:"",sn:"",unit_price:"",qty:1,cost:"",total_cost:"",shipping_cost:"0",discount:"0",currency:"HUF",availability:"In Stock",status:["Design Approved"],room:"",link:"",size:"",nm:"",plusz_nm:"",price_per_nm:"",price_per_package:"",nm_per_package:"",all_package:"",package_need_to_order:"",all_price:"",eta:"",ordered_on:"",payment_status:"Unpaid",payment_due_date:"",payment_amount:"",paid_amount:"0",delivery_type:"",delivery_status_tags:"",delivery_address:"",delivery_city:"",delivery_postal_code:"",delivery_country:"",delivery_time_window:"",delivery_instructions:"",delivery_contact_person:"",delivery_contact_phone:"",delivery_contact_email:"",delivery_notes:"",tracking_number:"",condition_on_arrival:"",sender:"",sender_address:"",sender_phone:"",recipient:"",recipient_address:"",recipient_phone:"",recipient_email:"",locker_provider:"",locker_id:"",pickup_provider:"",pickup_location:"",customs_description:"",item_value:"",hs_category:"",insurance:"no",cod:"",pickup_time:"",delivery_deadline:"",special_instructions:"",issue_state:"No Issue",issue_type:"",issue_description:"",replacement_requested:!1,replacement_approved:!1,replacement_eta:"",replacement_of:"",gallery_images:"",attachments:"",notes:"",manual_notes:"",ai_summary_notes:""}),[c,d]=v.useState({}),[u,f]=v.useState(null),[m,h]=v.useState(""),[x,p]=v.useState("basic"),{data:g,isLoading:j,error:y}=HX(i),w=Array.isArray(g)?g:[],{data:b,isLoading:N,error:_}=pm(),C=(b==null?void 0:b.results)||[],A=WX(),E=qX();if(v.useEffect(()=>{var T;if(s){const P=s;console.log(" Product data loaded:",s),console.log(" Category ID:",s.category),console.log(" Vendor ID:",s.vendor),l({product:P.product||"",description:P.description||"",category:P.category?String(P.category):"",vendor:P.vendor?String(P.vendor):"",vendor_link:P.vendor_link||"",sku:P.sku||"",dimensions:P.dimensions||"",weight:P.weight||"",material:P.material||"",color:P.color||"",model_number:P.model_number||"",brand:P.brand||"",country_of_origin:P.country_of_origin||"",sn:P.sn||"",unit_price:((T=P.unit_price)==null?void 0:T.toString())||"",qty:P.qty||1,cost:P.cost||"",total_cost:P.total_cost||"",shipping_cost:P.shipping_cost||"0",discount:P.discount||"0",currency:P.currency||"HUF",availability:P.availability||"In Stock",status:Array.isArray(P.status)?P.status:P.status?[P.status]:["Design Approved"],room:P.room||"",link:P.link||"",size:P.size||"",nm:P.nm||"",plusz_nm:P.plusz_nm||"",price_per_nm:P.price_per_nm||"",price_per_package:P.price_per_package||"",nm_per_package:P.nm_per_package||"",all_package:P.all_package||"",package_need_to_order:P.package_need_to_order||"",all_price:P.all_price||"",eta:P.eta||"",ordered_on:P.ordered_on||"",payment_status:P.payment_status||"Unpaid",payment_due_date:P.payment_due_date||"",payment_amount:P.payment_amount||"",paid_amount:P.paid_amount||"0",delivery_type:P.delivery_type||"",delivery_status_tags:P.delivery_status_tags||"",delivery_address:P.delivery_address||"",delivery_city:P.delivery_city||"",delivery_postal_code:P.delivery_postal_code||"",delivery_country:P.delivery_country||"",delivery_time_window:P.delivery_time_window||"",delivery_instructions:P.delivery_instructions||"",delivery_contact_person:P.delivery_contact_person||"",delivery_contact_phone:P.delivery_contact_phone||"",delivery_contact_email:P.delivery_contact_email||"",delivery_notes:P.delivery_notes||"",tracking_number:P.tracking_number||"",condition_on_arrival:P.condition_on_arrival||"",sender:P.sender||"",sender_address:P.sender_address||"",sender_phone:P.sender_phone||"",recipient:P.recipient||"",recipient_address:P.recipient_address||"",recipient_phone:P.recipient_phone||"",recipient_email:P.recipient_email||"",locker_provider:P.locker_provider||"",locker_id:P.locker_id||"",pickup_provider:P.pickup_provider||"",pickup_location:P.pickup_location||"",customs_description:P.customs_description||"",item_value:P.item_value||"",hs_category:P.hs_category||"",insurance:P.insurance||"no",cod:P.cod||"",pickup_time:P.pickup_time||"",delivery_deadline:P.delivery_deadline||"",special_instructions:P.special_instructions||"",issue_state:P.issue_state||"No Issue",issue_type:P.issue_type||"",issue_description:P.issue_description||"",replacement_requested:P.replacement_requested||!1,replacement_approved:P.replacement_approved||!1,replacement_eta:P.replacement_eta||"",replacement_of:P.replacement_of||"",gallery_images:P.gallery_images||"",attachments:P.attachments||"",notes:P.notes||"",manual_notes:P.manual_notes||"",ai_summary_notes:P.ai_summary_notes||""}),s.product_image&&h(s.product_image)}},[s]),v.useEffect(()=>{y&&!j&&r({title:"Warning",description:"Failed to load categories. You can still add a product by entering the category ID manually.",variant:"destructive"})},[y,j,r]),v.useEffect(()=>{_&&!N&&r({title:"Warning",description:"Failed to load vendors. You can still add a product by entering the vendor ID manually.",variant:"destructive"})},[_,N,r]),a)return n.jsx(YUe,{});if(!s)return n.jsx(dt,{title:"Product Not Found",children:n.jsx(Z,{children:n.jsxs(J,{className:"py-8",children:[n.jsx("p",{className:"text-center text-muted-foreground",children:"Product not found"}),n.jsx("div",{className:"flex justify-center mt-4",children:n.jsx(te,{onClick:()=>t("/apartments"),children:"Back to Apartments"})})]})})});const k=T=>{var M;const P=(M=T.target.files)==null?void 0:M[0];if(P){f(P);const D=new FileReader;D.onloadend=()=>{h(D.result)},D.readAsDataURL(P)}},O=()=>{f(null),h("")},I=()=>{const T={};return o.product.trim()||(T.product="Product name is required"),o.category||(T.category="Category is required"),o.vendor||(T.vendor="Vendor is required"),(!o.unit_price||parseFloat(o.unit_price)<=0)&&(T.unit_price="Valid unit price is required"),(!o.qty||o.qty<=0)&&(T.qty="Valid quantity is required"),d(T),Object.keys(T).length===0},W=async T=>{if(T.preventDefault(),!I()){r({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{if(u){const P=new FormData;P.append("category",o.category),P.append("product",o.product),P.append("vendor",o.vendor),P.append("unit_price",o.unit_price),P.append("qty",o.qty.toString()),P.append("availability",o.availability),P.append("status",JSON.stringify(o.status)),P.append("payment_status",o.payment_status),P.append("paid_amount",o.paid_amount),P.append("currency",o.currency),P.append("issue_state",o.issue_state),P.append("image_file",u),console.log(" Sending FormData with image:"),console.log("  - Image file:",u),console.log("  - File name:",u.name),console.log("  - File size:",u.size),console.log("  - File type:",u.type);for(let M of P.entries())console.log(`  - ${M[0]}:`,M[1]);o.description&&P.append("description",o.description),o.vendor_link&&P.append("vendor_link",o.vendor_link),o.sku&&P.append("sku",o.sku),o.dimensions&&P.append("dimensions",o.dimensions),o.weight&&P.append("weight",o.weight),o.material&&P.append("material",o.material),o.color&&P.append("color",o.color),o.model_number&&P.append("model_number",o.model_number),o.brand&&P.append("brand",o.brand),o.country_of_origin&&P.append("country_of_origin",o.country_of_origin),o.sn&&P.append("sn",o.sn),o.cost&&P.append("cost",o.cost),o.total_cost&&P.append("total_cost",o.total_cost),o.shipping_cost&&P.append("shipping_cost",o.shipping_cost),o.discount&&P.append("discount",o.discount),o.room&&P.append("room",o.room),o.link&&P.append("link",o.link),o.size&&P.append("size",o.size),o.nm&&P.append("nm",o.nm),o.plusz_nm&&P.append("plusz_nm",o.plusz_nm),o.price_per_nm&&P.append("price_per_nm",o.price_per_nm),o.price_per_package&&P.append("price_per_package",o.price_per_package),o.nm_per_package&&P.append("nm_per_package",o.nm_per_package),o.all_package&&P.append("all_package",o.all_package),o.package_need_to_order&&P.append("package_need_to_order",o.package_need_to_order),o.all_price&&P.append("all_price",o.all_price),o.eta&&P.append("eta",o.eta),o.ordered_on&&P.append("ordered_on",o.ordered_on),o.payment_due_date&&P.append("payment_due_date",o.payment_due_date),o.payment_amount&&P.append("payment_amount",o.payment_amount),o.delivery_type&&P.append("delivery_type",o.delivery_type),o.delivery_status_tags&&P.append("delivery_status_tags",o.delivery_status_tags),o.delivery_address&&P.append("delivery_address",o.delivery_address),o.delivery_city&&P.append("delivery_city",o.delivery_city),o.delivery_postal_code&&P.append("delivery_postal_code",o.delivery_postal_code),o.delivery_country&&P.append("delivery_country",o.delivery_country),o.delivery_time_window&&P.append("delivery_time_window",o.delivery_time_window),o.delivery_instructions&&P.append("delivery_instructions",o.delivery_instructions),o.delivery_contact_person&&P.append("delivery_contact_person",o.delivery_contact_person),o.delivery_contact_phone&&P.append("delivery_contact_phone",o.delivery_contact_phone),o.delivery_contact_email&&P.append("delivery_contact_email",o.delivery_contact_email),o.delivery_notes&&P.append("delivery_notes",o.delivery_notes),o.tracking_number&&P.append("tracking_number",o.tracking_number),o.condition_on_arrival&&P.append("condition_on_arrival",o.condition_on_arrival),o.sender&&P.append("sender",o.sender),o.sender_address&&P.append("sender_address",o.sender_address),o.sender_phone&&P.append("sender_phone",o.sender_phone),o.recipient&&P.append("recipient",o.recipient),o.recipient_address&&P.append("recipient_address",o.recipient_address),o.recipient_phone&&P.append("recipient_phone",o.recipient_phone),o.recipient_email&&P.append("recipient_email",o.recipient_email),o.locker_provider&&P.append("locker_provider",o.locker_provider),o.locker_id&&P.append("locker_id",o.locker_id),o.pickup_provider&&P.append("pickup_provider",o.pickup_provider),o.pickup_location&&P.append("pickup_location",o.pickup_location),o.customs_description&&P.append("customs_description",o.customs_description),o.item_value&&P.append("item_value",o.item_value),o.hs_category&&P.append("hs_category",o.hs_category),o.insurance&&P.append("insurance",o.insurance),o.cod&&P.append("cod",o.cod),o.pickup_time&&P.append("pickup_time",o.pickup_time),o.delivery_deadline&&P.append("delivery_deadline",o.delivery_deadline),o.special_instructions&&P.append("special_instructions",o.special_instructions),o.issue_type&&P.append("issue_type",o.issue_type),o.issue_description&&P.append("issue_description",o.issue_description),P.append("replacement_requested",o.replacement_requested.toString()),P.append("replacement_approved",o.replacement_approved.toString()),o.replacement_eta&&P.append("replacement_eta",o.replacement_eta),o.replacement_of&&P.append("replacement_of",o.replacement_of),o.notes&&P.append("notes",o.notes),o.manual_notes&&P.append("manual_notes",o.manual_notes),o.ai_summary_notes&&P.append("ai_summary_notes",o.ai_summary_notes),await A.mutateAsync({id:e,data:P})}else{const P={category:o.category,product:o.product,description:o.description||void 0,vendor:o.vendor,vendor_link:o.vendor_link||void 0,sku:o.sku||void 0,dimensions:o.dimensions||void 0,weight:o.weight||void 0,material:o.material||void 0,color:o.color||void 0,model_number:o.model_number||void 0,brand:o.brand||void 0,country_of_origin:o.country_of_origin||void 0,sn:o.sn||void 0,unit_price:o.unit_price,qty:o.qty,shipping_cost:o.shipping_cost||void 0,discount:o.discount||void 0,currency:o.currency,availability:o.availability,status:o.status,room:o.room||void 0,link:o.link||void 0,size:o.size||void 0,nm:o.nm||void 0,price_per_nm:o.price_per_nm||void 0,price_per_package:o.price_per_package||void 0,nm_per_package:o.nm_per_package||void 0,eta:o.eta||null,ordered_on:o.ordered_on||null,payment_status:o.payment_status,payment_due_date:o.payment_due_date||null,payment_amount:o.payment_amount||null,paid_amount:o.paid_amount,delivery_type:o.delivery_type||void 0,delivery_status_tags:o.delivery_status_tags||void 0,delivery_address:o.delivery_address||void 0,delivery_city:o.delivery_city||void 0,delivery_postal_code:o.delivery_postal_code||void 0,delivery_country:o.delivery_country||void 0,delivery_time_window:o.delivery_time_window||void 0,delivery_instructions:o.delivery_instructions||void 0,delivery_contact_person:o.delivery_contact_person||void 0,delivery_contact_phone:o.delivery_contact_phone||void 0,delivery_contact_email:o.delivery_contact_email||void 0,delivery_notes:o.delivery_notes||void 0,tracking_number:o.tracking_number||void 0,condition_on_arrival:o.condition_on_arrival||void 0,delivery_deadline:o.delivery_deadline||void 0,special_instructions:o.special_instructions||void 0,replacement_of:o.replacement_of||void 0,notes:o.notes||void 0,manual_notes:o.manual_notes||void 0,ai_summary_notes:o.ai_summary_notes||void 0};await A.mutateAsync({id:e,data:P})}r({title:"Product Updated",description:"Product has been updated successfully."}),t(`/products/${e}`)}catch{}},H=o.unit_price&&o.qty?parseFloat(o.unit_price)*o.qty+(parseFloat(o.shipping_cost)||0)-(parseFloat(o.discount)||0):0,F=H-(parseFloat(o.paid_amount)||0);return n.jsx(dt,{title:"Edit Product",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ra,{children:n.jsxs(Ma,{children:[n.jsx(Jt,{children:n.jsx(Xn,{href:"/apartments",children:"Apartments"})}),n.jsx(Sn,{}),n.jsx(Jt,{children:n.jsx(Xn,{href:`/apartments/${i}`,children:"Apartment"})}),n.jsx(Sn,{}),n.jsx(Jt,{children:n.jsx(Xn,{href:`/products/${e}`,children:s.product})}),n.jsx(Sn,{}),n.jsx(Jt,{children:n.jsx(hi,{children:"Edit"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>t(`/products/${e}`),children:n.jsx(tr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"Edit Product"})]}),n.jsx("form",{onSubmit:W,children:n.jsx(Z,{children:n.jsxs(J,{children:[n.jsxs(ko,{value:x,onValueChange:p,children:[n.jsxs(Xi,{className:"grid w-full grid-cols-4 mt-6",children:[n.jsx(Vt,{value:"basic",children:"Basic Info"}),n.jsx(Vt,{value:"measurements",children:"Measurements"}),n.jsx(Vt,{value:"pricing",children:"Pricing"}),n.jsx(Vt,{value:"additional",children:"Additional"})]}),n.jsxs(Yt,{value:"basic",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Basic Product Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"product",children:"Product Name *"}),n.jsx(fe,{id:"product",value:o.product,onChange:T=>l({...o,product:T.target.value}),placeholder:"Modern Sofa"}),c.product&&n.jsx("p",{className:"text-sm text-destructive",children:c.product})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"category",children:"Category *"}),n.jsx(Sw,{options:w.map(T=>({value:T.id,label:T.name})),value:o.category,onValueChange:T=>l({...o,category:T}),onCreate:async T=>{const P=await E.mutateAsync({name:T,apartment:i,sheet_name:T});return{id:P.id,name:P.name}},placeholder:"Select category",searchPlaceholder:"Search categories...",emptyText:"No categories found.",createText:"Create new category",isLoading:j}),c.category&&n.jsx("p",{className:"text-sm text-destructive",children:c.category})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"vendor",children:"Vendor *"}),n.jsx(Sw,{options:C.map(T=>({value:T.id,label:T.company_name||T.name})),value:o.vendor,onValueChange:T=>l({...o,vendor:T}),onNavigateToCreate:()=>{t("/vendors/new")},placeholder:"Select vendor",searchPlaceholder:"Search vendors...",emptyText:"No vendors found.",createText:"Create new vendor",isLoading:N}),c.vendor&&n.jsx("p",{className:"text-sm text-destructive",children:c.vendor})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"link",children:"Product Link (Optional)"}),n.jsx(fe,{id:"link",type:"url",value:o.link,onChange:T=>l({...o,link:T.target.value}),placeholder:"https://example.com/product"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"sku",children:"SKU *"}),n.jsx(fe,{id:"sku",value:o.sku,onChange:T=>l({...o,sku:T.target.value}),placeholder:"SOFA-001"}),c.sku&&n.jsx("p",{className:"text-sm text-destructive",children:c.sku})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"room",children:"Room (Optional)"}),n.jsx(fe,{id:"room",value:o.room,onChange:T=>l({...o,room:T.target.value}),placeholder:"Living Room, Bedroom, etc."})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"imageFile",children:"Product Image"}),m?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"relative w-full h-48 border rounded-md overflow-hidden bg-muted",children:[n.jsx("img",{src:m,alt:"Product preview",className:"w-full h-full object-contain"}),n.jsx(te,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:O,children:"Remove"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:u==null?void 0:u.name})]}):n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(fe,{id:"imageFile",type:"file",accept:"image/*",onChange:k,className:"cursor-pointer"})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload a product image (JPG, PNG, GIF, etc.)"})]})}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"unitPrice",children:"Unit Price (HUF) *"}),n.jsx(fe,{id:"unitPrice",type:"number",min:"0",step:"0.01",value:o.unit_price,onChange:T=>l({...o,unit_price:T.target.value}),placeholder:"150000"}),c.unitPrice&&n.jsx("p",{className:"text-sm text-destructive",children:c.unitPrice})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"qty",children:"Quantity *"}),n.jsx(fe,{id:"qty",type:"number",min:"1",value:o.qty,onChange:T=>l({...o,qty:parseInt(T.target.value)||1}),placeholder:"1"}),c.qty&&n.jsx("p",{className:"text-sm text-destructive",children:c.qty})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"availability",children:"Availability *"}),n.jsxs(at,{value:o.availability,onValueChange:T=>l({...o,availability:T}),children:[n.jsx(nt,{id:"availability",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"In Stock",children:"In Stock"}),n.jsx(ne,{value:"Backorder",children:"Backorder"}),n.jsx(ne,{value:"Out of Stock",children:"Out of Stock"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"status",children:"Product Status *"}),n.jsx(Pp,{options:["Design Approved","Ready To Order","Ordered","Waiting For Stock","Shipped","Delivered","Damaged","Wrong Item","Missing Parts"],value:Array.isArray(o.status)?o.status:[],onChange:T=>l({...o,status:T}),placeholder:"Add status..."})]})]})]}),n.jsxs(Yt,{value:"measurements",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Product Specifications"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"dimensions",children:"Dimensions"}),n.jsx(fe,{id:"dimensions",value:o.dimensions,onChange:T=>l({...o,dimensions:T.target.value}),placeholder:"120x80x45 cm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"weight",children:"Weight"}),n.jsx(fe,{id:"weight",value:o.weight,onChange:T=>l({...o,weight:T.target.value}),placeholder:"25 kg"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"material",children:"Material"}),n.jsx(fe,{id:"material",value:o.material,onChange:T=>l({...o,material:T.target.value}),placeholder:"Oak Wood"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"color",children:"Color"}),n.jsx(fe,{id:"color",value:o.color,onChange:T=>l({...o,color:T.target.value}),placeholder:"Natural Oak"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"size",children:"Size"}),n.jsx(fe,{id:"size",value:o.size,onChange:T=>l({...o,size:T.target.value}),placeholder:"Large"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"NM Measurements (for Flooring/Tiles)"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"nm",children:"NM"}),n.jsx(fe,{id:"nm",type:"number",step:"0.01",value:o.nm,onChange:T=>l({...o,nm:T.target.value}),placeholder:"10.5"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"plusz_nm",children:"Plus NM"}),n.jsx(fe,{id:"plusz_nm",type:"number",step:"0.01",value:o.plusz_nm,onChange:T=>l({...o,plusz_nm:T.target.value}),placeholder:"1.5"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"price_per_nm",children:"Price per NM"}),n.jsx(fe,{id:"price_per_nm",type:"number",step:"0.01",value:o.price_per_nm,onChange:T=>l({...o,price_per_nm:T.target.value}),placeholder:"5000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"price_per_package",children:"Price per Package"}),n.jsx(fe,{id:"price_per_package",type:"number",step:"0.01",value:o.price_per_package,onChange:T=>l({...o,price_per_package:T.target.value}),placeholder:"15000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"nm_per_package",children:"NM per Package"}),n.jsx(fe,{id:"nm_per_package",type:"number",step:"0.01",value:o.nm_per_package,onChange:T=>l({...o,nm_per_package:T.target.value}),placeholder:"3"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"package_need_to_order",children:"Package Need to Order"}),n.jsx(fe,{id:"package_need_to_order",type:"number",value:o.package_need_to_order,onChange:T=>l({...o,package_need_to_order:T.target.value}),placeholder:"8"})]})]})]})]}),n.jsxs(Yt,{value:"pricing",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Payment Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"total_amount",children:"Total Amount (HUF)"}),n.jsx("div",{className:"h-10 px-3 py-2 rounded-md border border-input bg-muted flex items-center",children:n.jsx("span",{className:"font-semibold text-lg",children:H.toLocaleString()})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: (Unit Price  Qty) + Shipping - Discount"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"shipping_cost",children:"Shipping Cost (Optional)"}),n.jsx(fe,{id:"shipping_cost",type:"number",min:"0",step:"0.01",value:o.shipping_cost,onChange:T=>l({...o,shipping_cost:T.target.value}),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"discount",children:"Discount (Optional)"}),n.jsx(fe,{id:"discount",type:"number",min:"0",step:"0.01",value:o.discount,onChange:T=>l({...o,discount:T.target.value}),placeholder:"0"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"paid_amount",children:"Paid Amount"}),n.jsx(fe,{id:"paid_amount",type:"number",min:"0",step:"0.01",value:o.paid_amount,onChange:T=>l({...o,paid_amount:T.target.value}),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Outstanding Balance"}),n.jsx("div",{className:`h-10 px-3 py-2 rounded-md border flex items-center ${F>0?"bg-red-50 border-red-200 text-red-700":"bg-green-50 border-green-200 text-green-700"}`,children:n.jsxs("span",{className:"font-semibold text-lg",children:[F.toLocaleString()," HUF"]})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: Total Amount - Paid Amount"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"paymentStatus",children:"Payment Status *"}),n.jsxs(at,{value:o.payment_status,onValueChange:T=>l({...o,payment_status:T}),children:[n.jsx(nt,{id:"paymentStatus",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"Unpaid",children:"Unpaid"}),n.jsx(ne,{value:"Partially Paid",children:"Partially Paid"}),n.jsx(ne,{value:"Paid",children:"Paid"}),n.jsx(ne,{value:"Overdue",children:"Overdue"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"currency",children:"Currency"}),n.jsxs(at,{value:o.currency,onValueChange:T=>l({...o,currency:T}),children:[n.jsx(nt,{id:"currency",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"HUF",children:"HUF (Hungarian Forint)"}),n.jsx(ne,{value:"EUR",children:"EUR (Euro)"}),n.jsx(ne,{value:"USD",children:"USD (US Dollar)"})]})]})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"paymentDueDate",children:"Payment Due Date *"}),n.jsx(fe,{id:"paymentDueDate",type:"date",value:o.payment_due_date,onChange:T=>l({...o,payment_due_date:T.target.value})})]})})]}),n.jsxs(Yt,{value:"additional",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Additional Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"brand",children:"Brand"}),n.jsx(fe,{id:"brand",value:o.brand,onChange:T=>l({...o,brand:T.target.value}),placeholder:"e.g., IKEA, Samsung, etc."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"country_of_origin",children:"Country of Origin"}),n.jsx(fe,{id:"country_of_origin",value:o.country_of_origin,onChange:T=>l({...o,country_of_origin:T.target.value}),placeholder:"e.g., Hungary, China, Germany"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"condition_on_arrival",children:"Condition on Arrival"}),n.jsx(fe,{id:"condition_on_arrival",value:o.condition_on_arrival,onChange:T=>l({...o,condition_on_arrival:T.target.value}),placeholder:"Good, Damaged, Needs Inspection, etc."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-semibold",children:"Notes & Documentation"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"notes",children:"General Notes"}),n.jsx(da,{id:"notes",value:o.notes,onChange:T=>l({...o,notes:T.target.value}),placeholder:"General notes about this product...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"manual_notes",children:"Manual Notes"}),n.jsx(da,{id:"manual_notes",value:o.manual_notes,onChange:T=>l({...o,manual_notes:T.target.value}),placeholder:"Manual notes added by staff...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"ai_summary_notes",children:"AI Summary Notes"}),n.jsx(da,{id:"ai_summary_notes",value:o.ai_summary_notes,onChange:T=>l({...o,ai_summary_notes:T.target.value}),placeholder:"AI-generated summary and insights...",rows:3}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"AI-generated summaries and recommendations"})]})]})]})]}),n.jsxs("div",{className:"flex gap-4 justify-between mt-6 border-t pt-6",children:[n.jsx("div",{children:x!=="basic"&&n.jsx(te,{type:"button",variant:"outline",onClick:T=>{T.preventDefault(),T.stopPropagation();const P=["basic","measurements","pricing","additional"],M=P.indexOf(x);M>0&&p(P[M-1])},children:" Previous"})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(te,{type:"button",variant:"outline",onClick:T=>{T.preventDefault(),T.stopPropagation(),t(`/products/${e}`)},children:"Cancel"}),x!=="additional"?n.jsx(te,{type:"button",onClick:T=>{T.preventDefault(),T.stopPropagation();const P=["basic","measurements","pricing","additional"],M=P.indexOf(x);M<P.length-1&&p(P[M+1])},children:"Next "}):n.jsxs(te,{type:"submit",disabled:A.isPending,children:[A.isPending&&n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),A.isPending?"Saving...":"Save Changes"]})]})]})]})})})]})})},QUe=Lp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Gd=v.forwardRef(({className:e,variant:t,...r},s)=>n.jsx("div",{ref:s,role:"alert",className:ge(QUe({variant:t}),e),...r}));Gd.displayName="Alert";const ZUe=v.forwardRef(({className:e,...t},r)=>n.jsx("h5",{ref:r,className:ge("mb-1 font-medium leading-none tracking-tight",e),...t}));ZUe.displayName="AlertTitle";const Kd=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ge("text-sm [&_p]:leading-relaxed",e),...t}));Kd.displayName="AlertDescription";const JUe=()=>{const e=dr(),[t]=EN(),r=t.get("apartmentId"),{toast:s}=pr(),[a,i]=v.useState(null),[o,l]=v.useState(!1),[c,d]=v.useState(0),[u,f]=v.useState(null),[m,h]=v.useState(""),[x,p]=v.useState(""),{data:g,isLoading:j}=pm(),y=(g==null?void 0:g.results)||[],w=C=>C<1024?C+" B":C<1024*1024?(C/1024).toFixed(2)+" KB":(C/(1024*1024)).toFixed(2)+" MB",b=C=>{var E;const A=(E=C.target.files)==null?void 0:E[0];if(A){if(!A.name.match(/\.(xlsx|xls|csv)$/i)){Be.error("Please select a valid Excel or CSV file");return}if(A.size>50*1024*1024){Be.error("File too large. Maximum size is 50MB");return}i(A),h(w(A.size)),f(null)}},N=async()=>{var C,A;if(!a||!r){Be.error("Please select a file");return}l(!0),d(0);try{const E=setInterval(()=>{d(O=>O>=90?(clearInterval(E),90):O+10)},200);console.log(" DEBUG: Sending import request with:",{file:a.name,apartmentId:r,selectedVendorId:x||"none"});const k=await Wi.importProducts(a,r,x||"");clearInterval(E),d(100),f(k),s({title:"Import Successful!",description:n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-semibold",children:k.message}),n.jsxs("p",{className:"text-sm",children:["Total products: ",k.total_products]}),n.jsxs("p",{className:"text-sm",children:["Successfully imported: ",k.successful_imports]}),k.failed_imports>0&&n.jsxs("p",{className:"text-sm text-yellow-600",children:["Failed: ",k.failed_imports]})]})}),setTimeout(()=>{e(`/apartments/${r}`)},2e3)}catch(E){console.error("Import error:",E),s({title:"Import Failed",description:((A=(C=E.response)==null?void 0:C.data)==null?void 0:A.message)||E.message||"Failed to import products. Please try again.",variant:"destructive"}),d(0)}finally{l(!1)}},_=async()=>{try{const C=await Wi.downloadImportTemplate(),A=window.URL.createObjectURL(C),E=document.createElement("a");E.href=A,E.download="apartment-template.xlsx",document.body.appendChild(E),E.click(),window.URL.revokeObjectURL(A),document.body.removeChild(E),Be.success("Template downloaded successfully")}catch{Be.error("Failed to download template")}};return n.jsx(dt,{title:"Import Products",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(te,{variant:"ghost",onClick:()=>e(-1),disabled:o,children:[n.jsx(tr,{className:"mr-2 h-4 w-4"}),"Back"]}),n.jsxs(Z,{children:[n.jsxs(we,{children:[n.jsx(Ue,{className:"text-xl",children:"Select Vendor (Optional)"}),n.jsx(Or,{className:"mt-1",children:"Optionally choose a vendor to assign to all imported products"})]}),n.jsx(J,{children:n.jsxs(at,{value:x,onValueChange:p,disabled:o,children:[n.jsx(nt,{className:"w-full",children:n.jsx(it,{placeholder:"Select a vendor"})}),n.jsx(st,{children:j?n.jsx(ne,{value:"loading",disabled:!0,children:"Loading vendors..."}):y.length===0?n.jsx(ne,{value:"no-vendors",disabled:!0,children:"No vendors available"}):y.map(C=>n.jsx(ne,{value:C.id,children:C.name},C.id))})]})})]}),n.jsxs(Z,{className:"border-2 border-dashed",children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Ue,{className:"text-xl",children:"Upload File"}),n.jsx(Or,{className:"mt-1",children:"Select an Excel (.xlsx, .xls) or CSV file (max 50MB)"})]}),a&&m&&n.jsx(Ae,{variant:"secondary",className:"text-sm",children:m})]})}),n.jsx(J,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:b,className:"hidden",disabled:o}),n.jsx(te,{variant:"outline",asChild:!0,disabled:o,className:"relative overflow-hidden",children:n.jsx("span",{children:o?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ui,{className:"mr-2 h-4 w-4"}),"Choose File"]})})})]}),a&&!o&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(kk,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium",children:a.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:m})]})]})]}),o&&c>0&&n.jsxs("div",{className:"space-y-2 p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"font-medium",children:"Uploading and processing..."}),n.jsxs("span",{className:"text-muted-foreground",children:[c.toFixed(0),"%"]})]}),n.jsx(q2,{value:c,className:"h-2"})]}),n.jsx("div",{className:"flex justify-start",children:n.jsxs(te,{variant:"outline",size:"sm",onClick:_,disabled:o,children:[n.jsx(Iv,{className:"mr-2 h-4 w-4"}),"Download Template"]})})]})})]}),u&&n.jsxs(Z,{children:[n.jsxs(we,{children:[n.jsx(Ue,{children:"Import Results"}),n.jsx(Or,{children:"Summary of the import operation"})]}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs(Gd,{children:[n.jsx(Br,{className:"h-4 w-4 text-success"}),n.jsxs(Kd,{children:[n.jsx("div",{className:"font-semibold",children:"Total Products"}),n.jsx("div",{className:"text-2xl",children:u.total_products})]})]}),n.jsxs(Gd,{children:[n.jsx(Br,{className:"h-4 w-4 text-success"}),n.jsxs(Kd,{children:[n.jsx("div",{className:"font-semibold",children:"Successfully Imported"}),n.jsx("div",{className:"text-2xl text-green-600",children:u.successful_imports})]})]}),u.failed_imports>0&&n.jsxs(Gd,{variant:"destructive",children:[n.jsx(_t,{className:"h-4 w-4"}),n.jsxs(Kd,{children:[n.jsx("div",{className:"font-semibold",children:"Failed"}),n.jsx("div",{className:"text-2xl",children:u.failed_imports})]})]})]}),u.errors&&u.errors.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Errors:"}),n.jsx("div",{className:"space-y-1",children:u.errors.map((C,A)=>n.jsx("div",{className:"text-sm text-destructive bg-destructive/10 p-2 rounded",children:C},A))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(te,{onClick:()=>e(`/apartments/${r}`),children:[n.jsx(Br,{className:"mr-2 h-4 w-4"}),"View Products"]})})]})]}),a&&!u&&n.jsx(Z,{children:n.jsx(J,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(te,{variant:"outline",onClick:()=>{i(null),h("")},disabled:o,children:"Clear"}),n.jsx(te,{onClick:N,disabled:!a||o,className:"min-w-[200px]",children:o?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ui,{className:"mr-2 h-4 w-4"}),"Import Products"]})})]})})})]})})},eVe=({open:e,onOpenChange:t,order:r})=>{const{toast:s}=pr(),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),m=x=>{if(x.preventDefault(),!a){s({title:"Validation Error",description:"Please enter a tracking number",variant:"destructive"});return}s({title:"Tracking Updated",description:`Delivery tracking updated for ${r==null?void 0:r.po_number}`}),t(!1)};if(!r)return null;const h=[{date:"2025-11-06 16:45",status:"Out for Delivery",location:"Local Hub - Budapest",description:"Package is out for delivery and will arrive today",active:!0},{date:"2025-11-06 09:15",status:"In Transit",location:"Distribution Center",description:"Package is on the way to delivery location",active:!1},{date:"2025-11-05 14:30",status:"Package Dispatched",location:"Warehouse - Budapest",description:"Package has been dispatched from warehouse",active:!1}];return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(Hr,{className:"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsx(Jr,{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg",children:n.jsx(wr,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsx(en,{className:"text-lg font-bold",children:"Delivery Tracking"}),n.jsxs(ss,{className:"text-sm",children:["Track delivery for ",r.po_number]})]})]})}),n.jsx(Ft,{}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:n.jsxs("div",{className:"space-y-4 p-1",children:[n.jsx(Z,{className:"border bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-950/20 dark:to-cyan-950/20",children:n.jsxs(J,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-blue-600/10 rounded",children:n.jsx(ct,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Status"}),n.jsx("p",{className:"text-sm font-bold",children:r.status})]})]}),n.jsx(Ae,{className:"bg-blue-600 text-white text-xs px-2 py-1",children:r.tracking||"No Tracking"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-blue-200 dark:border-blue-800",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ha,{className:"h-3.5 w-3.5 text-blue-600 dark:text-blue-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"To"}),n.jsx("p",{className:"text-sm font-medium",children:r.apartment})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ase,{className:"h-3.5 w-3.5 text-blue-600 dark:text-blue-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"From"}),n.jsx("p",{className:"text-sm font-medium",children:r.vendor})]})]})]})]})}),r.tracking&&n.jsx(Z,{className:"border",children:n.jsxs(J,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 mb-3 border-b",children:[n.jsx("div",{className:"p-1 bg-primary/10 rounded",children:n.jsx(jr,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Tracking History"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery updates"})]})]}),n.jsx("div",{className:"space-y-4",children:h.map((x,p)=>n.jsxs("div",{className:"flex gap-3 relative",children:[p!==h.length-1&&n.jsx("div",{className:"absolute left-3.5 top-8 bottom-0 w-0.5 bg-gradient-to-b from-primary to-muted"}),n.jsx("div",{className:"relative flex-shrink-0",children:n.jsx("div",{className:`w-7 h-7 rounded-full border-2 border-background flex items-center justify-center ${x.active?"bg-primary shadow-md":"bg-muted"}`,children:x.active?n.jsx(wr,{className:"h-3.5 w-3.5 text-primary-foreground"}):n.jsx(sr,{className:"h-3.5 w-3.5 text-muted-foreground"})})}),n.jsxs("div",{className:`flex-1 pb-2 ${x.active?"pt-0.5":""}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsx("p",{className:`font-semibold text-sm ${x.active?"text-primary":""}`,children:x.status}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:x.date})]}),n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(ha,{className:"h-3 w-3"}),x.location]})]})]},p))})]})}),n.jsx(Z,{className:"border",children:n.jsxs(J,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 mb-3 border-b",children:[n.jsx("div",{className:"p-1 bg-primary/10 rounded",children:n.jsx(ct,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Update Tracking"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Modify delivery details"})]})]}),n.jsxs("form",{onSubmit:m,className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(G,{htmlFor:"tracking",className:"flex items-center gap-1.5 text-xs font-medium",children:[n.jsx(ct,{className:"h-3 w-3 text-primary"}),"Tracking Number *"]}),n.jsx(fe,{id:"tracking",placeholder:"TRK-99234",value:a,onChange:x=>i(x.target.value),defaultValue:r.tracking,className:"h-9 text-sm"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(G,{htmlFor:"estimated",className:"flex items-center gap-1.5 text-xs font-medium",children:[n.jsx(Wr,{className:"h-3 w-3 text-primary"}),"Delivery Date"]}),n.jsx(fe,{id:"estimated",type:"date",value:o,onChange:x=>l(x.target.value),className:"h-9 text-sm"})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(G,{htmlFor:"person",className:"flex items-center gap-1.5 text-xs font-medium",children:[n.jsx($n,{className:"h-3 w-3 text-primary"}),"Courier / Person"]}),n.jsx(fe,{id:"person",placeholder:"Delivery person or courier service",value:c,onChange:x=>d(x.target.value),className:"h-9 text-sm"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(G,{htmlFor:"notes",className:"text-xs font-medium",children:"Notes"}),n.jsx(gn,{id:"notes",placeholder:"Special instructions or notes...",value:u,onChange:x=>f(x.target.value),rows:3,className:"resize-none text-sm"})]}),n.jsx(Ft,{className:"my-3"}),n.jsxs(Ba,{className:"gap-2",children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>t(!1),size:"sm",children:"Cancel"}),n.jsxs(te,{type:"submit",className:"gap-1.5",size:"sm",children:[n.jsx(sr,{className:"h-3.5 w-3.5"}),"Update"]})]})]})]})})]})})]})})},Q$={draft:"sent",sent:"sent",Draft:"sent",Sent:"sent"},Z$={draft:"Draft",sent:"Sent"},tVe=({open:e,onOpenChange:t,order:r,onStatusUpdate:s})=>{const{toast:a}=pr(),[i,o]=v.useState("");if(!r)return null;const l=r.status.toLowerCase(),c=Q$[r.status]||Q$[l],d=l==="sent",u=Z$[l]||r.status,f=Z$[c]||c,m=x=>{if(x.preventDefault(),d){a({title:"Already Sent",description:"This order has already been sent to vendor. Track fulfillment in Deliveries page.",variant:"default"});return}s(r.id,c),a({title:"Status Updated",description:`Order ${r.po_number} status changed to ${f}`}),o(""),t(!1)},h=x=>{const p=x.toLowerCase();return{draft:"bg-gray-500/10 text-gray-500",sent:"bg-blue-500/10 text-blue-500"}[p]||"bg-gray-500/10 text-gray-500"};return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(Hr,{className:"max-w-md",children:[n.jsxs(Jr,{children:[n.jsxs(en,{className:"flex items-center gap-2",children:[n.jsx(sr,{className:"h-5 w-5"}),"Update Order Status"]}),n.jsxs(ss,{children:["Change the status of order ",r.po_number]})]}),n.jsxs("form",{onSubmit:m,className:"space-y-4",children:[n.jsx("div",{className:"bg-muted p-4 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-center gap-4",children:[n.jsx(Ae,{className:h(r.status),children:u}),n.jsx(Fb,{className:"h-5 w-5 text-muted-foreground"}),n.jsx(Ae,{className:h(c),children:f})]})}),d?n.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4 text-center",children:[n.jsx(sr,{className:"h-12 w-12 text-blue-500 mx-auto mb-2"}),n.jsx("p",{className:"text-sm font-medium",children:"Order Already Sent"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Track fulfillment in the Deliveries page"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsx("p",{className:"font-medium",children:"What happens next?"}),n.jsx("ul",{className:"space-y-1 text-muted-foreground ml-4 list-disc text-xs",children:c==="sent"&&n.jsxs(n.Fragment,{children:[n.jsx("li",{children:"Order will be marked as sent to vendor"}),n.jsx("li",{children:"Create a delivery record to track fulfillment"}),n.jsx("li",{children:"Vendor will confirm and ship items"})]})})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(G,{htmlFor:"notes",className:"text-sm",children:"Notes (Optional)"}),n.jsx(gn,{id:"notes",placeholder:"Add any notes about this status change...",value:i,onChange:x=>o(x.target.value),rows:3,className:"text-sm"})]})]}),n.jsxs(Ba,{children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>t(!1),size:"sm",children:"Cancel"}),!d&&n.jsxs(te,{type:"submit",size:"sm",children:["Update to ",f]})]})]})]})})},YQ=e=>{const[t,r]=v.useState([]),[s,a]=v.useState(!0),[i,o]=v.useState(null),[l,c]=v.useState(0),[d,u]=v.useState(null),[f,m]=v.useState(null),h=v.useCallback(async()=>{try{a(!0),o(null);const w=await ps.getOrders(e);r(w.results),c(w.count),u(w.next),m(w.previous)}catch(w){o(w.message||"Failed to fetch orders"),Be.error("Failed to fetch orders")}finally{a(!1)}},[e==null?void 0:e.search,e==null?void 0:e.status,e==null?void 0:e.vendor,e==null?void 0:e.apartment,e==null?void 0:e.ordering,e==null?void 0:e.page]);return v.useEffect(()=>{h()},[h]),{orders:t,loading:s,error:i,totalCount:l,nextPage:d,previousPage:f,refetch:h,createOrder:async w=>{var b,N;try{const _=await ps.createOrder(w);return r(C=>[_,...C]),Be.success("Order created successfully"),_}catch(_){throw Be.error(((N=(b=_.response)==null?void 0:b.data)==null?void 0:N.message)||"Failed to create order"),_}},updateOrder:async(w,b)=>{var N,_;try{const C=await ps.updateOrder(w,b);return r(A=>A.map(E=>E.id===w?C:E)),Be.success("Order updated successfully"),C}catch(C){throw Be.error(((_=(N=C.response)==null?void 0:N.data)==null?void 0:_.message)||"Failed to update order"),C}},deleteOrder:async w=>{var b,N;try{await ps.deleteOrder(w),r(_=>_.filter(C=>C.id!==w)),Be.success("Order deleted successfully")}catch(_){throw Be.error(((N=(b=_.response)==null?void 0:b.data)==null?void 0:N.message)||"Failed to delete order"),_}},updateStatus:async(w,b)=>{var N,_;try{const C=await ps.updateStatus(w,b);return r(A=>A.map(E=>E.id===w?C:E)),Be.success(`Order status updated to ${b}`),C}catch(C){throw Be.error(((_=(N=C.response)==null?void 0:N.data)==null?void 0:_.message)||"Failed to update order status"),C}},markDelivered:async(w,b)=>{var N,_;try{const C=await ps.markDelivered(w,b);return r(A=>A.map(E=>E.id===w?C:E)),Be.success("Order marked as delivered"),C}catch(C){throw Be.error(((_=(N=C.response)==null?void 0:N.data)==null?void 0:_.message)||"Failed to mark order as delivered"),C}}}},XQ=e=>{const[t,r]=v.useState(null),[s,a]=v.useState(!0),[i,o]=v.useState(null);return v.useEffect(()=>{e&&(async()=>{try{a(!0),o(null);const d=await ps.getOrder(e);r(d)}catch(d){o(d.message||"Failed to fetch order"),Be.error("Failed to fetch order details")}finally{a(!1)}})()},[e]),{order:t,loading:s,error:i,updateOrder:async c=>{var d,u;try{const f=await ps.updateOrder(e,c);return r(f),Be.success("Order updated successfully"),f}catch(f){throw Be.error(((u=(d=f.response)==null?void 0:d.data)==null?void 0:u.message)||"Failed to update order"),f}}}},rVe=()=>{const[e,t]=v.useState(null),[r,s]=v.useState(!0),[a,i]=v.useState(null);return v.useEffect(()=>{(async()=>{try{s(!0),i(null);const l=await ps.getStatistics();t(l)}catch(l){i(l.message||"Failed to fetch statistics"),console.error("Failed to fetch order statistics:",l)}finally{s(!1)}})()},[]),{statistics:e,loading:r,error:a}},nVe=()=>{const[e,t]=v.useState(null),[r,s]=v.useState(!0),[a,i]=v.useState(null);return v.useEffect(()=>{(async()=>{try{s(!0),i(null);const l=await ps.getDashboardCharts();t(l)}catch(l){i(l.message||"Failed to fetch chart data"),console.error("Failed to fetch order chart data:",l)}finally{s(!1)}})()},[]),{chartData:e,loading:r,error:a}};function sVe(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{iconBg:"bg-primary/10"},{iconBg:"bg-primary/10"},{iconBg:"bg-primary/10"},{iconBg:"bg-primary/10"}].map((e,t)=>n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-8 w-16"}),n.jsx(S,{className:"h-3 w-20"})]}),n.jsx("div",{className:`h-12 w-12 rounded-full ${e.iconBg} flex items-center justify-center`,children:n.jsx(S,{className:"h-6 w-6 rounded"})})]})})},t))})}function aVe(){return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(Z,{children:[n.jsx(we,{children:n.jsx(S,{className:"h-6 w-40"})}),n.jsx(J,{children:n.jsx("div",{className:"h-[280px] p-4",children:n.jsx("div",{className:"flex items-end justify-between h-full gap-2",children:[...Array(6)].map((e,t)=>n.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center gap-2",children:[n.jsx(S,{className:"w-full rounded-t-lg",style:{height:`${Math.random()*60+40}%`}}),n.jsx(S,{className:"h-3 w-12"})]},t))})})})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsx(S,{className:"h-6 w-48"})}),n.jsx(J,{children:n.jsx("div",{className:"h-[280px] p-4",children:n.jsx("div",{className:"h-full flex flex-col justify-between",children:[...Array(5)].map((e,t)=>n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(S,{className:"h-2 w-12"}),n.jsx(S,{className:"h-2 rounded-full",style:{width:`${Math.random()*60+20}%`}})]},t))})})})]})]})}function iVe(){return n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx(S,{className:"h-10 flex-1 rounded-md"}),n.jsx(S,{className:"h-10 w-[180px] rounded-md"}),n.jsx(S,{className:"h-10 w-[180px] rounded-md"}),n.jsx(S,{className:"h-10 w-36 rounded-md"}),n.jsx(S,{className:"h-10 w-36 rounded-md"})]})}function oVe(){return n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{className:"h-6 w-32"}),n.jsx(S,{className:"h-9 w-20 rounded-md"})]})}),n.jsx(J,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["PO Number","Apartment","Vendor","Items","Total","Confirmation","Tracking","Status","Placed On","Actions"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(S,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(8)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-16"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx(S,{className:"h-8 w-8 rounded ml-auto"})})]},t))})]})})})]})}function lVe(){return n.jsxs("div",{className:"space-y-6",children:[n.jsx(sVe,{}),n.jsx(aVe,{}),n.jsx(iVe,{}),n.jsx(oVe,{})]})}const cVe=()=>{var R;const e=dr(),{toast:t}=pr(),[r,s]=v.useState(""),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(!1),[u,f]=v.useState(!1),[m,h]=v.useState(!1),[x,p]=v.useState(null),[g,j]=v.useState(!1),{orders:y,loading:w,error:b,totalCount:N,updateStatus:_,markDelivered:C,deleteOrder:A,refetch:E}=YQ({search:r,status:a||void 0,vendor:o||void 0}),{statistics:k,loading:O}=rVe(),{chartData:I,loading:W}=nVe(),H=v.useMemo(()=>{const V=new Set;return y.forEach(L=>{L.vendor_name&&V.add(L.vendor_name)}),Array.from(V)},[y]),F=async(V,L)=>{try{await _(String(V),L),f(!1),p(null)}catch(K){console.error("Failed to update status:",K)}},T=async()=>{if(x)try{j(!0),await A(x.id),h(!1),p(null)}catch(V){console.error("Failed to delete order:",V)}finally{j(!1)}},P=V=>{const L=V.toLowerCase();return{draft:"bg-gray-500/10 text-gray-500",sent:"bg-blue-500/10 text-blue-500"}[L]||"bg-gray-500/10 text-gray-500"},M=(k==null?void 0:k.total_value)||y.reduce((V,L)=>V+Number(L.total),0),D=(k==null?void 0:k.average_order_value)||(y.length>0?M/y.length:0),Y=(I==null?void 0:I.vendor_spending)||[],ae=((R=I==null?void 0:I.monthly_orders)==null?void 0:R.map(V=>({month:V.month,orders:V.orders,spending:V.value})))||[];return w?n.jsx(dt,{title:"Orders Management",children:n.jsx(lVe,{})}):n.jsxs(dt,{title:"Orders Management",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),n.jsx("p",{className:"text-2xl font-bold",children:N||y.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]}),n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(ct,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Spending"}),n.jsxs("p",{className:"text-2xl font-bold",children:["",M.toLocaleString()]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg: ",D.toFixed(0)]})]}),n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(br,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold",children:(k==null?void 0:k.pending_orders)||y.filter(V=>V.status.toLowerCase()==="sent").length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Sent to vendor"})]}),n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(jr,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Received"}),n.jsx("p",{className:"text-2xl font-bold",children:(k==null?void 0:k.delivered_orders)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivered orders"})]}),n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(wr,{className:"h-6 w-6 text-primary"})})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(Z,{children:[n.jsx(we,{children:n.jsx(Ue,{children:"Spending by Vendor"})}),n.jsx(J,{children:W?n.jsx("div",{className:"h-[280px] p-4 space-y-4",children:n.jsx("div",{className:"flex items-end justify-between h-full gap-2",children:[...Array(6)].map((V,L)=>n.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center gap-2",children:[n.jsx(S,{className:"w-full rounded-t-lg",style:{height:`${Math.random()*60+40}%`}}),n.jsx(S,{className:"h-3 w-12"})]},L))})}):Y.length===0?n.jsxs("div",{className:"h-[280px] flex flex-col items-center justify-center text-center space-y-3",children:[n.jsx(br,{className:"h-10 w-10 text-muted-foreground/50"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"No vendor data available"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Create orders to see analytics"})]}),n.jsxs(te,{onClick:()=>e("/orders/new"),size:"sm",variant:"outline",children:[n.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}):n.jsx(iv,{config:{amount:{label:"Amount ()",color:"hsl(var(--primary))"}},className:"h-[280px]",children:n.jsxs(ja,{data:Y,children:[n.jsx(Bn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(an,{dataKey:"vendor",className:"text-xs"}),n.jsx(on,{className:"text-xs"}),n.jsx(fr,{content:n.jsx(ov,{})}),n.jsx(wn,{dataKey:"amount",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsx(Ue,{children:"Monthly Order Trends"})}),n.jsx(J,{children:W?n.jsx("div",{className:"h-[280px] p-4",children:n.jsx("div",{className:"h-full flex flex-col justify-between",children:[...Array(5)].map((V,L)=>n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(S,{className:"h-2 w-12"}),n.jsx(S,{className:"h-2 rounded-full",style:{width:`${Math.random()*60+20}%`}})]},L))})}):ae.length===0?n.jsxs("div",{className:"h-[280px] flex flex-col items-center justify-center text-center space-y-3",children:[n.jsx(ri,{className:"h-10 w-10 text-muted-foreground/50"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"No trend data available"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Create orders to see trends"})]}),n.jsxs(te,{onClick:()=>e("/orders/new"),size:"sm",variant:"outline",children:[n.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}):n.jsx(iv,{config:{orders:{label:"Orders",color:"hsl(var(--primary))"},spending:{label:"Spending ()",color:"hsl(var(--chart-2))"}},className:"h-[280px]",children:n.jsxs(B2,{data:ae,children:[n.jsx(Bn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(an,{dataKey:"month",className:"text-xs"}),n.jsx(on,{className:"text-xs"}),n.jsx(fr,{content:n.jsx(ov,{})}),n.jsx(nl,{}),n.jsx(ec,{type:"monotone",dataKey:"orders",stroke:"hsl(var(--primary))",strokeWidth:2}),n.jsx(ec,{type:"monotone",dataKey:"spending",stroke:"hsl(var(--chart-2))",strokeWidth:2})]})})})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{placeholder:"Search by PO number, apartment, or vendor...",value:r,onChange:V=>s(V.target.value),className:"pl-9"})]}),n.jsxs(at,{value:a,onValueChange:i,children:[n.jsx(nt,{className:"w-[180px]",children:n.jsx(it,{placeholder:"Filter by status"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"all",children:"All Statuses"}),n.jsx(ne,{value:"draft",children:"Draft"}),n.jsx(ne,{value:"sent",children:"Sent"})]})]}),n.jsxs(at,{value:o,onValueChange:l,children:[n.jsx(nt,{className:"w-[180px]",children:n.jsx(it,{placeholder:"Filter by vendor"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"all",children:"All Vendors"}),H.map(V=>n.jsx(ne,{value:V,children:V},V))]})]}),n.jsxs(te,{onClick:()=>e("/orders/import"),variant:"outlineSecondary",children:[n.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Import Orders"]}),n.jsxs(te,{onClick:()=>e("/orders/new"),children:[n.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ue,{children:["All Orders (",y.length,")"]}),n.jsxs(te,{variant:"outline",size:"sm",children:[n.jsx(W5,{className:"h-4 w-4 mr-2"}),"Sort"]})]})}),n.jsx(J,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Os,{children:[n.jsx(Ds,{children:n.jsxs(Ut,{children:[n.jsx(ke,{children:"PO Number"}),n.jsx(ke,{children:"Apartment"}),n.jsx(ke,{children:"Vendor"}),n.jsx(ke,{children:"Items"}),n.jsx(ke,{children:"Total"}),n.jsx(ke,{children:"Confirmation"}),n.jsx(ke,{children:"Tracking"}),n.jsx(ke,{children:"Status"}),n.jsx(ke,{children:"Placed On"}),n.jsx(ke,{className:"text-right",children:"Actions"})]})}),n.jsx(Is,{children:y.length===0?n.jsx(Ut,{children:n.jsx(Se,{colSpan:10,className:"text-center py-8 text-muted-foreground",children:"No orders found"})}):y.map(V=>n.jsxs(Ut,{children:[n.jsx(Se,{className:"font-medium",children:V.po_number}),n.jsx(Se,{children:V.apartment_name||"N/A"}),n.jsx(Se,{children:V.vendor_name||"N/A"}),n.jsxs(Se,{children:[V.items_count," items"]}),n.jsxs(Se,{children:["",Number(V.total).toLocaleString()]}),n.jsx(Se,{children:V.confirmation_code?n.jsx("span",{className:"text-xs font-mono",children:V.confirmation_code}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(Se,{children:V.tracking_number?n.jsx("span",{className:"text-xs font-mono",children:V.tracking_number}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(Se,{children:n.jsx(Ae,{className:P(V.status),children:V.status})}),n.jsx(Se,{children:Ht(new Date(V.placed_on),"yyyy-MM-dd")}),n.jsx(Se,{className:"text-right",children:n.jsxs(Jv,{children:[n.jsx(ey,{asChild:!0,children:n.jsxs(te,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-muted",children:[n.jsx("span",{className:"sr-only",children:"Open menu"}),n.jsx(y7,{className:"h-4 w-4"})]})}),n.jsxs(Xp,{align:"end",className:"w-56",children:[n.jsx(vA,{className:"font-semibold text-xs text-muted-foreground uppercase tracking-wide",children:"Order Actions"}),n.jsx(Ic,{}),n.jsxs(In,{onClick:()=>e(`/orders/${V.id}`),className:"cursor-pointer py-2.5",children:[n.jsx(ti,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"View Details"})]}),n.jsxs(In,{onClick:()=>e(`/orders/${V.id}/edit`),className:"cursor-pointer py-2.5",children:[n.jsx(Gs,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"Edit Order"})]}),n.jsxs(In,{onClick:()=>{navigator.clipboard.writeText(V.po_number),t({title:"Copied to clipboard",description:`PO Number ${V.po_number} has been copied.`})},className:"cursor-pointer py-2.5",children:[n.jsx(xse,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"Copy PO Number"})]}),n.jsx(Ic,{}),n.jsx(vA,{className:"font-semibold text-xs text-muted-foreground uppercase tracking-wide",children:"Status & Delivery"}),n.jsxs(In,{onClick:()=>{p(V),f(!0)},className:"cursor-pointer py-2.5",children:[n.jsx(W5,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"Update Status"})]}),n.jsxs(In,{onClick:()=>{p(V),d(!0)},className:"cursor-pointer py-2.5",children:[n.jsx(wr,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"Delivery Tracking"})]}),V.status.toLowerCase()==="draft"&&n.jsxs(In,{onClick:()=>_(String(V.id),"sent"),className:"cursor-pointer py-2.5",children:[n.jsx(Br,{className:"mr-3 h-4 w-4 text-blue-500"}),n.jsx("span",{className:"text-blue-600",children:"Mark as Sent"})]}),n.jsx(Ic,{}),(V.status.toLowerCase()==="draft"||V.status.toLowerCase()==="sent")&&n.jsxs(In,{onClick:()=>_(String(V.id),"cancelled"),className:"cursor-pointer py-2.5 text-orange-600 focus:text-orange-600 focus:bg-orange-500/10",children:[n.jsx(Fl,{className:"mr-3 h-4 w-4"}),n.jsx("span",{children:"Cancel Order"})]}),n.jsxs(In,{onClick:()=>{p(V),h(!0)},className:"cursor-pointer py-2.5 text-destructive focus:text-destructive focus:bg-destructive/10",children:[n.jsx(xn,{className:"mr-3 h-4 w-4"}),n.jsx("span",{children:"Delete Order"})]})]})]})})]},V.id))})]})})})]})]}),n.jsx(eVe,{open:c,onOpenChange:d,order:x}),n.jsx(tVe,{open:u,onOpenChange:f,order:x,onStatusUpdate:F}),n.jsx(lc,{open:m,onOpenChange:h,children:n.jsxs(pl,{children:[n.jsxs(xl,{children:[n.jsx(vl,{children:"Delete Order"}),n.jsxs(yl,{children:["Are you sure you want to delete order ",n.jsx("strong",{children:x==null?void 0:x.po_number}),"? This action cannot be undone and will permanently remove the order and all its items."]})]}),n.jsxs(gl,{children:[n.jsx(bl,{disabled:g,children:"Cancel"}),n.jsx(jl,{onClick:T,disabled:g,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:g?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):"Delete Order"})]})]})})]})},dVe=()=>{const e=dr(),{toast:t}=pr(),[r,s]=v.useState(""),[a,i]=v.useState("all"),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[m,h]=v.useState("draft"),[x,p]=v.useState(""),[g,j]=v.useState(""),[y,w]=v.useState(""),[b,N]=v.useState([]),[_,C]=v.useState(""),[A,E]=v.useState(""),[k,O]=v.useState([]),[I,W]=v.useState([]),[H,F]=v.useState([]),[T,P]=v.useState([]),[M,D]=v.useState(!0),[Y,ae]=v.useState(!1),[R,V]=v.useState(!1),L=v.useMemo(()=>r?H.filter(Ee=>!a||a==="all"||Ee.vendor===a):[],[H,r,a]);v.useEffect(()=>{let Ee=!1;return(async()=>{try{D(!0);const[Te,se]=await Promise.all([cc.getApartments({page_size:100}),To.getVendors()]);if(Ee)return;O(Te.results||[]),W(se.results||[])}catch(Te){console.error("Failed to load apartments/vendors",Te),t({title:"Failed to load data",description:"Could not load apartments or vendors. Please try again.",variant:"destructive"})}finally{Ee||D(!1)}})(),()=>{Ee=!0}},[t]),v.useEffect(()=>{let Ee=!1;return(async()=>{if(!r){F([]),P([]);return}try{ae(!0);const Te=await Wi.getProducts({apartment:r,page_size:1e3});if(Ee)return;F(Te.results||[]),P([])}catch(Te){console.error("Failed to load products",Te),t({title:"Failed to load products",description:"Could not load products for this apartment.",variant:"destructive"})}finally{Ee||ae(!1)}})(),()=>{Ee=!0}},[r,t]);const K=Ee=>{const Me=H.find(he=>he.id===Ee);if(!Me)return;if(b.find(he=>he.productId===Ee)){t({title:"Product already in order",description:`${Me.product} is already in your order.`,variant:"destructive"});return}const se={productId:Me.id,productName:Me.product,sku:Me.sku||"",quantity:1,unitPrice:Math.round(Number(Me.unit_price)||0)};N(he=>[...he,se]),t({title:"Product added",description:`${Me.product} has been added to the order.`})},le=Ee=>{N(b.filter((Me,Te)=>Te!==Ee))},me=(Ee,Me,Te)=>{const se=[...b];se[Ee]={...se[Ee],[Me]:Te},N(se)},B=async Ee=>{var $e,De;if(Ee.preventDefault(),!r||b.length===0){t({title:"Validation Error",description:"Please select an apartment and add at least one item",variant:"destructive"});return}let Me=a;if(!Me||Me==="all"){const de=H.find(Ie=>{var ot;return Ie.id===((ot=b[0])==null?void 0:ot.productId)});if(de!=null&&de.vendor)Me=de.vendor;else{t({title:"Validation Error",description:"Unable to determine vendor for this order. Please select a vendor.",variant:"destructive"});return}}if(!o.trim()){t({title:"Validation Error",description:"PO Number is required.",variant:"destructive"});return}if(b.some(de=>!de.productId||de.quantity<=0||de.unitPrice<0)){t({title:"Validation Error",description:"Each item must have a product, quantity > 0 and price  0.",variant:"destructive"});return}const Te=b.reduce((de,Ie)=>de+Ie.quantity*Ie.unitPrice,0),se=parseInt(_||"0",10)||0,he=parseInt(A||"0",10)||0;let ce=Te+se-he;ce<0&&(ce=0);const be=b.reduce((de,Ie)=>de+Ie.quantity,0);try{V(!0);const de=new Date().toISOString().split("T")[0],Ie={apartment:r,vendor:Me,po_number:o.trim(),confirmation_code:c.trim()||void 0,tracking_number:u.trim()||void 0,status:m,expected_delivery:x||void 0,shipping_address:g.trim()||void 0,notes:y.trim()||void 0,items:b.map(ot=>({product:ot.productId,product_name:ot.productName,sku:ot.sku,quantity:ot.quantity,unit_price:ot.unitPrice})),items_count:be,total:ce,placed_on:de};await ps.createOrder(Ie),t({title:"Order Created",description:`Order created with ${b.length} items. Total: ${ce} HUF`}),e("/orders")}catch(de){console.error("Failed to create order",(($e=de==null?void 0:de.response)==null?void 0:$e.data)||de);let Ie="Please check the form and try again.";const ot=(De=de==null?void 0:de.response)==null?void 0:De.data;if(ot!=null&&ot.details&&typeof ot.details=="object"){const jt=[];Object.entries(ot.details).forEach(([Ze,ye])=>{Array.isArray(ye)?jt.push(`${Ze}: ${ye.join(", ")}`):typeof ye=="string"&&jt.push(`${Ze}: ${ye}`)}),jt.length&&(Ie=jt.join(" | "))}else ot!=null&&ot.detail&&(Ie=String(ot.detail));t({title:"Failed to create order",description:Ie,variant:"destructive"})}finally{V(!1)}},X=b.reduce((Ee,Me)=>Ee+Me.quantity*Me.unitPrice,0),oe=parseInt(_||"0",10)||0,Ne=parseInt(A||"0",10)||0;let ue=X+oe-Ne;ue<0&&(ue=0);const ve=k.find(Ee=>Ee.id===r),xe=I.find(Ee=>Ee.id===a);return r&&L.length>0,T.length>0,n.jsx(dt,{title:"New Order",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ra,{children:n.jsxs(Ma,{children:[n.jsx(Jt,{children:n.jsx(Xn,{href:"/orders",children:"Orders"})}),n.jsx(Sn,{}),n.jsx(Jt,{children:n.jsx(hi,{children:"New Order"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>e("/orders"),children:n.jsx(tr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(js,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Create New Purchase Order"}),n.jsx("p",{className:"text-muted-foreground",children:"Fill in the details to create a new order"})]})]})]}),n.jsx("form",{onSubmit:B,children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(ct,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),n.jsxs(J,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Z,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(J,{className:"p-4",children:[n.jsxs(G,{htmlFor:"apartment",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(cr,{className:"h-4 w-4 text-primary"}),"Apartment *"]}),n.jsxs(at,{value:r,onValueChange:s,disabled:M,children:[n.jsx(nt,{className:"h-10",children:n.jsx(it,{placeholder:M?"Loading apartments...":"Select apartment"})}),n.jsx(st,{children:k.map(Ee=>n.jsx(ne,{value:Ee.id,children:n.jsx("span",{children:Ee.name})},Ee.id))})]}),ve&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Owner: ",ve.owner]})]})}),n.jsx(Z,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(J,{className:"p-4",children:[n.jsxs(G,{htmlFor:"vendor",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(Da,{className:"h-4 w-4 text-primary"}),"Vendor (Optional Filter)"]}),n.jsxs(at,{value:a,onValueChange:i,disabled:M||!r,children:[n.jsx(nt,{className:"h-10",children:n.jsx(it,{placeholder:r?M?"Loading vendors...":"All vendors":"Select apartment first"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"all",children:"All Vendors"}),I.map(Ee=>n.jsx(ne,{value:Ee.id,children:n.jsx("span",{children:Ee.name})},Ee.id))]})]}),xe&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Lead time: ",xe.lead_time]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"po_number",children:"PO Number *"}),n.jsx(fe,{id:"po_number",value:o,onChange:Ee=>l(Ee.target.value),placeholder:"e.g., PO-2025-00001"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"confirmation_code",children:"Confirmation"}),n.jsx(fe,{id:"confirmation_code",value:c,onChange:Ee=>d(Ee.target.value),placeholder:"e.g., CONF-8831"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"tracking_number",children:"Tracking"}),n.jsx(fe,{id:"tracking_number",value:u,onChange:Ee=>f(Ee.target.value),placeholder:"e.g., TRK-93234"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"status",children:"Status"}),n.jsxs(at,{value:m,onValueChange:h,children:[n.jsx(nt,{className:"h-10",children:n.jsx(it,{placeholder:"Select status"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"draft",children:"Draft"}),n.jsx(ne,{value:"pending",children:"Pending"}),n.jsx(ne,{value:"sent",children:"Sent"}),n.jsx(ne,{value:"confirmed",children:"Confirmed"}),n.jsx(ne,{value:"in_transit",children:"In Transit"}),n.jsx(ne,{value:"delivered",children:"Delivered"}),n.jsx(ne,{value:"received",children:"Received"}),n.jsx(ne,{value:"cancelled",children:"Cancelled"}),n.jsx(ne,{value:"returned",children:"Returned"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"expected_delivery",children:"Expected Delivery"}),n.jsx(fe,{id:"expected_delivery",type:"date",value:x,onChange:Ee=>p(Ee.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"shipping_address",children:"Shipping Address"}),n.jsx(fe,{id:"shipping_address",value:g,onChange:Ee=>j(Ee.target.value),placeholder:"Enter shipping address"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"notes",children:"Notes"}),n.jsx(da,{id:"notes",value:y,onChange:Ee=>w(Ee.target.value),placeholder:"Add any notes about this order",rows:3})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[n.jsxs(Z,{className:"lg:col-span-1",children:[n.jsx(we,{className:"py-3 px-4 border-b",children:n.jsxs(Ue,{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(ct,{className:"h-4 w-4 text-primary"}),"Available Products (",L.length,")"]})}),n.jsx(J,{className:"p-2",children:Y?n.jsx("div",{className:"max-h-[450px]",children:n.jsx("div",{children:[...Array(8)].map((Ee,Me)=>n.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 ${Me<7?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 rounded overflow-hidden",children:n.jsx(S,{className:"w-full h-full"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1 mb-0.5",children:[n.jsx(S,{className:"h-3 w-32"}),n.jsx(S,{className:"h-2 w-12 opacity-60"})]}),n.jsx(S,{className:"h-2 w-20 opacity-40"})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsx(S,{className:"h-3 w-14 mb-0.5"}),n.jsx(S,{className:"h-2 w-8 ml-auto opacity-40"})]})]},Me))})}):r?L.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(ct,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No products found"}),n.jsx("p",{className:"text-sm",children:a&&a!=="all"?'Try selecting a different vendor or "All Vendors"':"This apartment has no products yet"})]}):n.jsx("div",{className:"max-h-[450px] overflow-y-auto",children:n.jsx("div",{children:L.map((Ee,Me)=>{const Te=b.some(se=>se.productId===Ee.id);return n.jsxs("div",{onClick:()=>!Te&&K(Ee.id),className:`group flex items-center gap-2 px-2 py-1.5 transition-all cursor-pointer ${Te?"opacity-50 cursor-not-allowed bg-muted/30":"hover:bg-accent hover:shadow-sm"} ${Me<L.length-1?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 bg-muted/30 rounded flex items-center justify-center flex-shrink-0",children:Ee.product_image?n.jsx("img",{src:Ee.product_image,alt:Ee.product,className:"w-full h-full object-cover rounded",onError:se=>{se.currentTarget.src="",se.currentTarget.style.display="none"}}):n.jsx(Bi,{className:"h-4 w-4 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("p",{className:"font-medium text-xs truncate flex-1",children:Ee.product}),Ee.sku&&n.jsx("span",{className:"text-[10px] text-muted-foreground",children:Ee.sku})]}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:Ee.vendor_name||"No vendor"})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsx("p",{className:"font-semibold text-xs",children:Number(Ee.unit_price).toLocaleString()}),Te?n.jsx("span",{className:"text-[10px] text-green-600 dark:text-green-500 font-medium",children:"Added"}):n.jsx("span",{className:"text-[10px] text-muted-foreground",children:"HUF"})]})]},Ee.id)})})}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(cr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"Please select an apartment first"}),n.jsx("p",{className:"text-sm",children:"Products will appear here after selecting an apartment"})]})})]}),n.jsxs(Z,{className:"lg:col-span-1",children:[n.jsx(we,{className:"py-3 px-4 border-b",children:n.jsxs(Ue,{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(js,{className:"h-4 w-4 text-primary"}),"Order Items (",b.length,")"]}),b.length>0&&n.jsxs("span",{className:"text-xs font-normal text-muted-foreground",children:["Total: ",b.reduce((Ee,Me)=>Ee+Me.quantity*Me.unitPrice,0).toLocaleString()," HUF"]})]})}),n.jsx(J,{className:"p-2",children:Y&&b.length===0?n.jsx("div",{className:"max-h-[450px]",children:n.jsx("div",{children:[...Array(3)].map((Ee,Me)=>n.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 ${Me<2?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 rounded overflow-hidden",children:n.jsx(S,{className:"w-full h-full"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1 mb-0.5",children:[n.jsx(S,{className:"h-3 w-28"}),n.jsx(S,{className:"h-2 w-10 opacity-60"})]}),n.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[n.jsx(S,{className:"w-5 h-5 rounded"}),n.jsx(S,{className:"w-10 h-5 rounded"}),n.jsx(S,{className:"w-5 h-5 rounded"}),n.jsx(S,{className:"h-2 w-16 ml-1 opacity-40"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"text-right",children:[n.jsx(S,{className:"h-3 w-16 mb-0.5"}),n.jsx(S,{className:"h-2 w-8 ml-auto opacity-40"})]}),n.jsx(S,{className:"w-5 h-5 rounded-full opacity-30"})]})]},Me))})}):b.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(js,{className:"h-6 w-6 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-xs font-medium",children:"No items in order"}),n.jsx("p",{className:"text-[10px] mt-1",children:"Click products to add them"})]}):n.jsx("div",{className:"max-h-[450px] overflow-y-auto",children:n.jsx("div",{children:b.map((Ee,Me)=>{const Te=H.find(se=>se.id===Ee.productId);return n.jsxs("div",{className:`group flex items-center gap-2 px-2 py-1.5 hover:bg-accent transition-all ${Me<b.length-1?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 bg-muted/30 rounded flex items-center justify-center flex-shrink-0",children:Te!=null&&Te.product_image?n.jsx("img",{src:Te.product_image,alt:Ee.productName,className:"w-full h-full object-cover rounded",onError:se=>{se.currentTarget.src="",se.currentTarget.style.display="none"}}):n.jsx(Bi,{className:"h-4 w-4 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("p",{className:"text-xs font-medium truncate flex-1",children:Ee.productName}),Ee.sku&&n.jsx("span",{className:"text-[10px] text-muted-foreground",children:Ee.sku})]}),n.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[n.jsx("button",{type:"button",onClick:()=>me(Me,"quantity",Math.max(1,Ee.quantity-1)),className:"w-5 h-5 rounded bg-muted/50 hover:bg-muted flex items-center justify-center transition-colors",children:n.jsx(w7,{className:"h-3 w-3"})}),n.jsx("input",{type:"number",min:"1",value:Ee.quantity,onChange:se=>me(Me,"quantity",parseInt(se.target.value)||1),className:"w-10 h-5 text-[11px] text-center border border-input bg-background rounded px-1"}),n.jsx("button",{type:"button",onClick:()=>me(Me,"quantity",Ee.quantity+1),className:"w-5 h-5 rounded bg-muted/50 hover:bg-muted flex items-center justify-center transition-colors",children:n.jsx(Gn,{className:"h-3 w-3"})}),n.jsxs("span",{className:"text-[10px] text-muted-foreground ml-1",children:[" ",Ee.unitPrice.toLocaleString()]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs font-semibold",children:(Ee.quantity*Ee.unitPrice).toLocaleString()}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"HUF"})]}),n.jsx("button",{type:"button",onClick:()=>le(Me),className:"opacity-0 group-hover:opacity-100 w-5 h-5 rounded-full bg-destructive/10 hover:bg-destructive/20 flex items-center justify-center transition-all",children:n.jsx(us,{className:"h-3 w-3 text-destructive"})})]})]},Me)})})})})]})]}),n.jsxs(Z,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2 text-primary",children:[n.jsx(br,{className:"h-5 w-5"}),"Order Summary"]})}),n.jsx(J,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Items"}),n.jsx("p",{className:"text-3xl font-bold",children:b.length})]}),n.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Units"}),n.jsx("p",{className:"text-3xl font-bold",children:b.reduce((Ee,Me)=>Ee+Me.quantity,0)})]}),n.jsxs("div",{className:"space-y-2 p-4 bg-background/50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsx("span",{children:"Items Total"}),n.jsxs("span",{children:[X," HUF"]})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Shipping Cost"}),n.jsx(fe,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:_,onChange:Ee=>C(Ee.target.value)})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Discount"}),n.jsx(fe,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:A,onChange:Ee=>E(Ee.target.value)})]}),n.jsx(Ft,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold",children:"Total to Pay"}),n.jsxs("span",{className:"text-2xl font-bold text-primary",children:[ue," HUF"]})]})]})]})})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>e("/orders"),children:"Cancel"}),n.jsx(te,{type:"submit",className:"gap-2",disabled:R,children:R?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(js,{className:"h-4 w-4"}),"Create Order"]})})]})]})})]})})},uVe=()=>{var L;const e=dr(),{toast:t}=pr(),[r,s]=v.useState(""),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[m,h]=v.useState("draft"),[x,p]=v.useState(""),[g,j]=v.useState(""),[y,w]=v.useState(""),[b,N]=v.useState(null),[_,C]=v.useState(!1),[A,E]=v.useState(0),[k,O]=v.useState(null),[I,W]=v.useState(""),[H,F]=v.useState([]),[T,P]=v.useState([]),[M,D]=v.useState(!1);v.useState(!1),v.useEffect(()=>{(async()=>{try{D(!0);const[le,me]=await Promise.all([cc.getApartments({page_size:100}),To.getVendors()]);F(le.results||[]),P(me.results||[])}catch(le){console.error("Failed to load data",le),t({title:"Failed to load data",description:"Could not load apartments or vendors. Please try again.",variant:"destructive"})}finally{D(!1)}})()},[t]);const Y=K=>K<1024?K+" B":K<1024*1024?(K/1024).toFixed(2)+" KB":(K/(1024*1024)).toFixed(2)+" MB",ae=K=>{var me;const le=(me=K.target.files)==null?void 0:me[0];if(le){if(!le.name.match(/\.(xlsx|xls|csv)$/i)){t({title:"Invalid File Type",description:"Please select a valid Excel or CSV file",variant:"destructive"});return}if(le.size>50*1024*1024){t({title:"File Too Large",description:"Maximum file size is 50MB",variant:"destructive"});return}N(le),W(Y(le.size)),O(null)}},R=async()=>{var K,le;if(!r){t({title:"Validation Error",description:"Please select an apartment",variant:"destructive"});return}if(!a){t({title:"Validation Error",description:"Please select a vendor",variant:"destructive"});return}if(!o.trim()){t({title:"Validation Error",description:"PO Number is required",variant:"destructive"});return}if(!b){t({title:"Validation Error",description:"Please select a file to import",variant:"destructive"});return}C(!0),E(0);try{const me=setInterval(()=>{E(X=>X>=90?(clearInterval(me),90):X+10)},200),B=await ps.importOrder({file:b,apartment_id:r,vendor_id:a,po_number:o,status:m,confirmation_code:c,tracking_number:u,expected_delivery:x,shipping_address:g,notes:y});clearInterval(me),E(100),O(B),t({title:"Import Successful!",description:`Order ${B.po_number} created with ${B.total_items} items.`}),setTimeout(()=>{e("/orders")},2e3)}catch(me){console.error("Import error:",me),t({title:"Import Failed",description:((le=(K=me.response)==null?void 0:K.data)==null?void 0:le.error)||me.message||"Failed to import order. Please try again.",variant:"destructive"}),E(0)}finally{C(!1)}},V=async()=>{try{const K=await fetch("/api/products/import_template/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});if(!K.ok)throw new Error("Failed to download template");const le=await K.blob(),me=window.URL.createObjectURL(le),B=document.createElement("a");B.href=me,B.download="order-import-template.xlsx",document.body.appendChild(B),B.click(),window.URL.revokeObjectURL(me),document.body.removeChild(B),t({title:"Success",description:"Template downloaded successfully"})}catch(K){console.error("Template download error:",K),t({title:"Download Failed",description:"Failed to download template. Please try again.",variant:"destructive"})}};return n.jsx(dt,{title:"Import Orders",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(te,{variant:"ghost",onClick:()=>e("/orders"),disabled:_,children:[n.jsx(tr,{className:"mr-2 h-4 w-4"}),"Back"]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(ct,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),n.jsxs(J,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Z,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(J,{className:"p-4",children:[n.jsxs(G,{htmlFor:"apartment",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(cr,{className:"h-4 w-4 text-primary"}),"Apartment *"]}),n.jsxs(at,{value:r,onValueChange:s,disabled:M||_,children:[n.jsx(nt,{className:"h-10",children:n.jsx(it,{placeholder:M?"Loading...":"Select apartment"})}),n.jsx(st,{children:H.map(K=>n.jsx(ne,{value:K.id,children:K.name},K.id))})]})]})}),n.jsx(Z,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(J,{className:"p-4",children:[n.jsxs(G,{htmlFor:"vendor",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(Da,{className:"h-4 w-4 text-primary"}),"Vendor *"]}),n.jsxs(at,{value:a,onValueChange:i,disabled:M||_,children:[n.jsx(nt,{className:"h-10",children:n.jsx(it,{placeholder:M?"Loading...":"Select vendor"})}),n.jsx(st,{children:T.map(K=>n.jsx(ne,{value:K.id,children:K.name},K.id))})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"po_number",children:"PO Number *"}),n.jsx(fe,{id:"po_number",value:o,onChange:K=>l(K.target.value),placeholder:"e.g., PO-2025-00001",disabled:_})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"confirmation_code",children:"Confirmation"}),n.jsx(fe,{id:"confirmation_code",value:c,onChange:K=>d(K.target.value),placeholder:"e.g., CONF-8831",disabled:_})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"tracking_number",children:"Tracking"}),n.jsx(fe,{id:"tracking_number",value:u,onChange:K=>f(K.target.value),placeholder:"e.g., TRK-93234",disabled:_})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"status",children:"Status"}),n.jsxs(at,{value:m,onValueChange:h,disabled:_,children:[n.jsx(nt,{className:"h-10",children:n.jsx(it,{placeholder:"Select status"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"draft",children:"Draft"}),n.jsx(ne,{value:"sent",children:"Sent"}),n.jsx(ne,{value:"cancelled",children:"Cancelled"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"expected_delivery",children:"Expected Delivery"}),n.jsx(fe,{id:"expected_delivery",type:"date",value:x,onChange:K=>p(K.target.value),disabled:_})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"shipping_address",children:"Shipping Address"}),n.jsx(fe,{id:"shipping_address",value:g,onChange:K=>j(K.target.value),placeholder:"Enter shipping address",disabled:_})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"notes",children:"Notes"}),n.jsx(da,{id:"notes",value:y,onChange:K=>w(K.target.value),placeholder:"Add any notes about this order",rows:3,disabled:_})]})]})]}),n.jsxs(Z,{className:"border-2 border-dashed",children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Ue,{className:"text-xl",children:"Upload File"}),n.jsx(Or,{className:"mt-1",children:"Select an Excel (.xlsx, .xls) or CSV file (max 50MB)"})]}),b&&I&&n.jsx(Ae,{variant:"secondary",className:"text-sm",children:I})]})}),n.jsx(J,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:ae,className:"hidden",disabled:_}),n.jsx(te,{variant:"outline",asChild:!0,disabled:_,className:"relative overflow-hidden",children:n.jsx("span",{children:_?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ui,{className:"mr-2 h-4 w-4"}),"Choose File"]})})})]}),b&&!_&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(kk,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium",children:b.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:I})]})]})]}),_&&A>0&&n.jsxs("div",{className:"space-y-2 p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"font-medium",children:"Uploading and processing..."}),n.jsxs("span",{className:"text-muted-foreground",children:[A.toFixed(0),"%"]})]}),n.jsx(q2,{value:A,className:"h-2"})]}),n.jsx("div",{className:"flex justify-start",children:n.jsxs(te,{variant:"outline",size:"sm",onClick:V,disabled:_,children:[n.jsx(Iv,{className:"mr-2 h-4 w-4"}),"Download Template"]})})]})})]}),k&&n.jsxs(Z,{children:[n.jsxs(we,{children:[n.jsx(Ue,{children:"Import Results"}),n.jsx(Or,{children:"Summary of the import operation"})]}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(Gd,{children:[n.jsx(Br,{className:"h-4 w-4 text-success"}),n.jsxs(Kd,{children:[n.jsx("div",{className:"font-semibold",children:"Order Created"}),n.jsx("div",{className:"text-2xl",children:k.order_created?"Yes":"No"})]})]}),n.jsxs(Gd,{children:[n.jsx(Br,{className:"h-4 w-4 text-success"}),n.jsxs(Kd,{children:[n.jsx("div",{className:"font-semibold",children:"Total Items"}),n.jsx("div",{className:"text-2xl text-green-600",children:k.total_items})]})]}),n.jsxs(Gd,{children:[n.jsx(Br,{className:"h-4 w-4 text-success"}),n.jsxs(Kd,{children:[n.jsx("div",{className:"font-semibold",children:"Successfully Imported"}),n.jsx("div",{className:"text-2xl text-green-600",children:k.successful_imports})]})]}),n.jsxs(Gd,{children:[n.jsx(Br,{className:"h-4 w-4 text-success"}),n.jsxs(Kd,{children:[n.jsx("div",{className:"font-semibold",children:"Total Amount"}),n.jsxs("div",{className:"text-2xl text-green-600",children:["$",((L=k.total_amount)==null?void 0:L.toFixed(2))||"0.00"]})]})]})]}),k.errors&&k.errors.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Errors:"}),n.jsx("div",{className:"space-y-1",children:k.errors.map((K,le)=>n.jsx("div",{className:"text-sm text-destructive bg-destructive/10 p-2 rounded",children:K},le))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(te,{onClick:()=>e("/orders"),children:[n.jsx(Br,{className:"mr-2 h-4 w-4"}),"View Orders"]})})]})]}),!k&&n.jsx(Z,{children:n.jsx(J,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(te,{variant:"outline",onClick:()=>e("/orders"),disabled:_,children:"Cancel"}),n.jsx(te,{onClick:R,disabled:!r||!a||!o||!b||_,className:"min-w-[200px]",children:_?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ui,{className:"mr-2 h-4 w-4"}),"Import Order"]})})]})})})]})})};function fVe(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-4 w-16"}),n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-4 w-32"})]})}function mVe(){return n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(S,{className:"h-10 w-10 rounded-md"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(S,{className:"h-6 w-6 rounded"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-9 w-64"}),n.jsx(S,{className:"h-4 w-48"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[n.jsx(S,{className:"h-6 w-24 rounded-full"}),n.jsx(S,{className:"h-6 w-28 rounded-full"})]})]}),n.jsx(S,{className:"h-10 w-32 rounded-md"})]})}function hVe(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{iconBg:"bg-blue-500/10"},{iconBg:"bg-green-500/10"},{iconBg:"bg-purple-500/10"},{iconBg:"bg-orange-500/10"}].map((e,t)=>n.jsx(Z,{children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${e.iconBg}`,children:n.jsx(S,{className:"h-5 w-5 rounded"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-8 w-16"})]})]})})},t))})}function pVe(){return n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-40"})]})}),n.jsx(J,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(2)].map((e,t)=>n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((r,s)=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(S,{className:"h-5 w-5 rounded mt-0.5"}),n.jsxs("div",{className:"space-y-2 flex-1",children:[n.jsx(S,{className:"h-4 w-28"}),n.jsx(S,{className:"h-5 w-full"})]})]},s))},t))})})]})}function xVe(){return n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-32"})]})}),n.jsx(J,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"w-12 px-4 py-3"}),["Product Name","SKU","Quantity","Unit Price","Total"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(S,{className:"h-4 w-20"})},t))]})}),n.jsx("tbody",{children:[...Array(4)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"w-12 px-4 py-4",children:n.jsx(S,{className:"w-10 h-10 rounded"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-40"}),n.jsx(S,{className:"h-3 w-32"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-6 w-12 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-28"})})]},t))})]})})})]})}function gVe(){return n.jsxs(Z,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-32"})]})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-4 w-28"})]}),n.jsx("div",{className:"h-px bg-border"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(S,{className:"h-5 w-24"}),n.jsx(S,{className:"h-8 w-36"})]})]})]})}function vVe(){return n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-20"})]})}),n.jsx(J,{children:n.jsx("div",{className:"space-y-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(S,{className:"h-7 w-7 rounded-full"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(S,{className:"h-4 w-28"}),n.jsx(S,{className:"h-3 w-40"})]})]},t))})})]})}function yVe(){return n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-16"})]})}),n.jsxs(J,{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-full"}),n.jsx(S,{className:"h-4 w-full"}),n.jsx(S,{className:"h-4 w-3/4"})]})]})}function jVe(){return n.jsx(dt,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(fVe,{}),n.jsx(mVe,{}),n.jsx(hVe,{}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(pVe,{}),n.jsx(xVe,{})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(gVe,{}),n.jsx(vVe,{}),n.jsx(yVe,{})]})]})]})})}const bVe=()=>{var l,c;const{id:e}=Ki(),t=dr(),{order:r,loading:s,error:a}=XQ(e||""),i=d=>{const u=d.toLowerCase();return{draft:"bg-gray-500/10 text-gray-500",pending:"bg-yellow-500/10 text-yellow-500",sent:"bg-blue-500/10 text-blue-500",confirmed:"bg-green-500/10 text-green-500",delivered:"bg-purple-500/10 text-purple-500",received:"bg-emerald-500/10 text-emerald-500",cancelled:"bg-red-500/10 text-red-500"}[u]||"bg-gray-500/10 text-gray-500"};if(s)return n.jsx(jVe,{});if(a)return n.jsx(dt,{title:"Error",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(_t,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),n.jsx("h2",{className:"text-2xl font-semibold text-destructive mb-2",children:"Error loading order"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:a}),n.jsxs(te,{onClick:()=>t("/orders"),children:[n.jsx(tr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})});if(!r)return n.jsx(dt,{title:"Not Found",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ct,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Order not found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"The order you're looking for doesn't exist."}),n.jsxs(te,{onClick:()=>t("/orders"),children:[n.jsx(tr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})});const o=((l=r.items)==null?void 0:l.reduce((d,u)=>d+Number(u.total_price||0),0))||0;return n.jsx(dt,{title:`Order ${r.po_number}`,children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ra,{children:n.jsxs(Ma,{children:[n.jsx(Jt,{children:n.jsx(Xn,{asChild:!0,children:n.jsx(Vi,{to:"/orders",children:"Orders"})})}),n.jsx(Sn,{}),n.jsx(Jt,{children:n.jsx(hi,{children:r.po_number})})]})}),n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>t("/orders"),children:n.jsx(tr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(js,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:r.po_number}),n.jsx("p",{className:"text-muted-foreground",children:"Purchase Order Details"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[n.jsx(Ae,{className:i(r.status),children:r.status}),r.is_delivered&&n.jsxs(Ae,{className:"bg-emerald-500/10 text-emerald-500",children:[n.jsx(sr,{className:"h-3 w-3 mr-1"}),"Delivered"]})]})]}),n.jsxs(te,{variant:"outline",onClick:()=>t(`/orders/${e}/edit`),children:[n.jsx(Gs,{className:"h-4 w-4 mr-2"}),"Edit Order"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(Z,{children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:n.jsx(ct,{className:"h-5 w-5 text-blue-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"}),n.jsx("p",{className:"text-2xl font-bold",children:r.items_count})]})]})})}),n.jsx(Z,{children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:n.jsx(br,{className:"h-5 w-5 text-green-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold",children:[Number(r.total).toLocaleString()," HUF"]})]})]})})}),n.jsx(Z,{children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:n.jsx(Wr,{className:"h-5 w-5 text-purple-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Placed On"}),n.jsx("p",{className:"text-2xl font-bold",children:r.placed_on?Ht(new Date(r.placed_on),"MMM dd"):"-"})]})]})})}),n.jsx(Z,{children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg",children:n.jsx(wr,{className:"h-5 w-5 text-orange-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected Delivery"}),n.jsx("p",{className:"text-2xl font-bold",children:r.expected_delivery?Ht(new Date(r.expected_delivery),"MMM dd"):"-"})]})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(An,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),n.jsx(J,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(cr,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Apartment"}),n.jsx("p",{className:"font-medium",children:r.apartment_name||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Da,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor"}),n.jsx("p",{className:"font-medium",children:r.vendor_name||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(uh,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"PO Number"}),n.jsx("p",{className:"font-medium font-mono",children:r.po_number})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(hse,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Confirmation Code"}),n.jsx("p",{className:"font-medium font-mono",children:r.confirmation_code||"-"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(wr,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Tracking Number"}),n.jsx("p",{className:"font-medium font-mono",children:r.tracking_number||"-"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ha,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Shipping Address"}),n.jsx("p",{className:"font-medium",children:r.shipping_address||"-"})]})]})]})]})})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(ct,{className:"h-5 w-5 text-primary"}),"Order Items (",((c=r.items)==null?void 0:c.length)||0,")"]})}),n.jsx(J,{children:r.items&&r.items.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Os,{children:[n.jsx(Ds,{children:n.jsxs(Ut,{children:[n.jsx(ke,{className:"w-12"}),n.jsx(ke,{children:"Product Name"}),n.jsx(ke,{children:"SKU"}),n.jsx(ke,{className:"text-center",children:"Quantity"}),n.jsx(ke,{className:"text-right",children:"Unit Price"}),n.jsx(ke,{className:"text-right",children:"Total"})]})}),n.jsx(Is,{children:r.items.map((d,u)=>n.jsxs(Ut,{children:[n.jsx(Se,{className:"w-12",children:n.jsx("div",{className:"w-10 h-10 bg-muted/30 rounded flex items-center justify-center",children:d.product_image?n.jsx("img",{src:d.product_image,alt:d.product_name,className:"w-full h-full object-cover rounded",onError:f=>{var m;f.currentTarget.src="",f.currentTarget.style.display="none",(m=f.currentTarget.parentElement)==null||m.classList.add("bg-muted/30")}}):n.jsx(Bi,{className:"h-5 w-5 text-muted-foreground"})})}),n.jsx(Se,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:d.product_name}),d.description&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.description})]})}),n.jsx(Se,{children:n.jsx("span",{className:"font-mono text-sm",children:d.sku||"-"})}),n.jsx(Se,{className:"text-center",children:n.jsx(Ae,{variant:"secondary",children:d.quantity})}),n.jsxs(Se,{className:"text-right",children:[Number(d.unit_price).toLocaleString()," HUF"]}),n.jsxs(Se,{className:"text-right font-semibold",children:[Number(d.total_price).toLocaleString()," HUF"]})]},d.id||u))})]})}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(ct,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No items in this order"})]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Z,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2 text-primary",children:[n.jsx(br,{className:"h-5 w-5"}),"Order Summary"]})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Items Total"}),n.jsxs("span",{children:[o.toLocaleString()," HUF"]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold",children:"Grand Total"}),n.jsxs("span",{className:"text-2xl font-bold text-primary",children:[Number(r.total).toLocaleString()," HUF"]})]})]})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(jr,{className:"h-5 w-5 text-primary"}),"Timeline"]})}),n.jsx(J,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-green-500/10 rounded-full",children:n.jsx(sr,{className:"h-4 w-4 text-green-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Order Placed"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.placed_on?Ht(new Date(r.placed_on),"PPP"):"-"})]})]}),r.expected_delivery&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-blue-500/10 rounded-full",children:n.jsx(wr,{className:"h-4 w-4 text-blue-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Expected Delivery"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Ht(new Date(r.expected_delivery),"PPP")})]})]}),r.actual_delivery&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-emerald-500/10 rounded-full",children:n.jsx(sr,{className:"h-4 w-4 text-emerald-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Actual Delivery"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Ht(new Date(r.actual_delivery),"PPP")})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-gray-500/10 rounded-full",children:n.jsx(Wr,{className:"h-4 w-4 text-gray-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Created"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.created_at?Ht(new Date(r.created_at),"PPP p"):"-"})]})]}),r.updated_at&&r.updated_at!==r.created_at&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-gray-500/10 rounded-full",children:n.jsx(Sf,{className:"h-4 w-4 text-gray-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Last Updated"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Ht(new Date(r.updated_at),"PPP p")})]})]})]})})]}),r.notes&&n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(An,{className:"h-5 w-5 text-primary"}),"Notes"]})}),n.jsx(J,{children:n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:r.notes})})]})]})]})]})})};function wVe(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-4 w-16"}),n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-4 w-12"})]})}function NVe(){return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(S,{className:"h-10 w-10 rounded-md"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(S,{className:"h-9 w-32 mb-2"}),n.jsx(S,{className:"h-4 w-64"})]})]})}function _Ve(){return n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-40"})]})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-10 w-full rounded-md"}),n.jsx(S,{className:"h-3 w-32"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-10 w-full rounded-md"}),n.jsx(S,{className:"h-3 w-28"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-28"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-16"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-36"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-16"}),n.jsx(S,{className:"h-20 w-full rounded-md"})]})]})]})}function SVe(){return n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-32"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(S,{className:"h-9 w-32 rounded-md"}),n.jsx(S,{className:"h-9 w-28 rounded-md"})]})]})}),n.jsx(J,{children:n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"flex gap-3 p-4 border rounded-lg",children:[n.jsx(S,{className:"h-16 w-16 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{className:"h-5 w-48"}),n.jsx(S,{className:"h-8 w-8 rounded"})]}),n.jsx(S,{className:"h-4 w-32"}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"h-3 w-16"}),n.jsx(S,{className:"h-9 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"h-3 w-20"}),n.jsx(S,{className:"h-9 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"h-3 w-12"}),n.jsx(S,{className:"h-9 w-full rounded-md"})]})]})]})]},t))})})]})}function CVe(){return n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-32"})]})}),n.jsxs(J,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-4 w-28"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(S,{className:"h-4 w-28"}),n.jsx(S,{className:"h-4 w-20"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-4 w-20"})]}),n.jsx("div",{className:"h-px bg-border"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(S,{className:"h-5 w-24"}),n.jsx(S,{className:"h-7 w-32"})]})]})]})}function AVe(){return n.jsx(dt,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(wVe,{}),n.jsx(NVe,{}),n.jsx(_Ve,{}),n.jsx(SVe,{}),n.jsx(CVe,{}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(S,{className:"h-10 w-24 rounded-md"}),n.jsx(S,{className:"h-10 w-32 rounded-md"})]})]})})}const EVe=()=>{const{id:e}=Ki(),t=dr(),{toast:r}=pr(),{order:s,loading:a,error:i}=XQ(e||""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[m,h]=v.useState(""),[x,p]=v.useState(""),[g,j]=v.useState("draft"),[y,w]=v.useState([]),[b,N]=v.useState(""),[_,C]=v.useState(""),[A,E]=v.useState(""),[k,O]=v.useState(""),[I,W]=v.useState(""),[H,F]=v.useState([]),[T,P]=v.useState([]),[M,D]=v.useState(!1),[Y,ae]=v.useState(!1),[R,V]=v.useState(!1),{data:L,isLoading:K}=VX({apartment:o,page_size:1e3}),le=(L==null?void 0:L.results)||[],me=v.useMemo(()=>le.filter(ce=>!c||ce.vendor===c),[le,c]);v.useEffect(()=>{let ce=!1;return(async()=>{try{D(!0);const[$e,De]=await Promise.all([cc.getApartments({page_size:100}),To.getVendors()]);if(ce)return;F($e.results||[]),P(De.results||[])}catch($e){console.error("Failed to load apartments/vendors",$e),r({title:"Failed to load data",description:"Could not load apartments or vendors. Please try again.",variant:"destructive"})}finally{ce||D(!1)}})(),()=>{ce=!0}},[r]),v.useEffect(()=>{if(s&&!R&&!M&&H.length>0&&T.length>0){const ce=H.some($e=>$e.id===s.apartment);l(ce?s.apartment:"");const be=T.some($e=>$e.id===s.vendor);if(d(be?s.vendor:""),f(s.po_number||""),h(s.confirmation_code||""),p(s.tracking_number||""),j(s.status||"draft"),E(s.notes||""),O(s.shipping_address||""),W(s.expected_delivery||""),s.items&&s.items.length>0){const $e=s.items.map(De=>({id:De.id,productId:De.product||"",productName:De.product_name||"",sku:De.sku||"",quantity:De.quantity||1,unitPrice:Math.round(Number(De.unit_price)||0)}));w($e)}V(!0)}},[s,R,M,H,T]);const B=()=>{const ce=new Set(y.map(De=>De.productId)),be=me.find(De=>!ce.has(De.id))||me[0];if(!be)return;const $e=Math.round(Number(be.unit_price)||0);w(De=>[...De,{productId:be.id,productName:be.product,sku:be.sku||"",quantity:1,unitPrice:$e}])},X=ce=>{w(y.filter((be,$e)=>$e!==ce))},oe=(ce,be,$e)=>{const De=[...y];De[ce]={...De[ce],[be]:$e},w(De)},Ne=async ce=>{var ot,jt;if(ce.preventDefault(),!o||!c||y.length===0){r({title:"Validation Error",description:"Please fill all required fields",variant:"destructive"});return}if(!u.trim()){r({title:"Validation Error",description:"PO Number is required.",variant:"destructive"});return}if(y.some(Ze=>!Ze.productName||Ze.quantity<=0||Ze.unitPrice<0)){r({title:"Validation Error",description:"Each item must have a product, quantity > 0 and price  0.",variant:"destructive"});return}const be=y.reduce((Ze,ye)=>Ze+ye.quantity*ye.unitPrice,0),$e=parseInt(b||"0",10)||0,De=parseInt(_||"0",10)||0;let de=be+$e-De;de<0&&(de=0);const Ie=y.reduce((Ze,ye)=>Ze+ye.quantity,0);try{ae(!0);const Ze={apartment:o,vendor:c,po_number:u.trim(),confirmation_code:m.trim()||void 0,tracking_number:x.trim()||void 0,status:g,notes:A.trim()||void 0,shipping_address:k.trim()||void 0,expected_delivery:I||void 0,items:y.map(ye=>({id:ye.id,product_name:ye.productName,sku:ye.sku,quantity:ye.quantity,unit_price:ye.unitPrice})),items_count:Ie,total:de};await ps.updateOrder(e,Ze),r({title:"Order Updated",description:`Order updated successfully. Total: ${de} HUF`}),t(`/orders/${e}`)}catch(Ze){console.error("Failed to update order",((ot=Ze==null?void 0:Ze.response)==null?void 0:ot.data)||Ze);let ye="Please check the form and try again.";const Ke=(jt=Ze==null?void 0:Ze.response)==null?void 0:jt.data;if(Ke!=null&&Ke.details&&typeof Ke.details=="object"){const Ct=[];Object.entries(Ke.details).forEach(([Et,ur])=>{Array.isArray(ur)?Ct.push(`${Et}: ${ur.join(", ")}`):typeof ur=="string"&&Ct.push(`${Et}: ${ur}`)}),Ct.length&&(ye=Ct.join(" | "))}else Ke!=null&&Ke.detail&&(ye=String(Ke.detail));r({title:"Failed to update order",description:ye,variant:"destructive"})}finally{ae(!1)}},ue=y.reduce((ce,be)=>ce+be.quantity*be.unitPrice,0),ve=parseInt(b||"0",10)||0,xe=parseInt(_||"0",10)||0;let Ee=ue+ve-xe;Ee<0&&(Ee=0);const Me=H.find(ce=>ce.id===o),Te=T.find(ce=>ce.id===c);o&&c&&me.length>0;const se=[{value:"draft",label:"Draft"},{value:"pending",label:"Pending"},{value:"sent",label:"Sent"},{value:"confirmed",label:"Confirmed"},{value:"in_transit",label:"In Transit"},{value:"delivered",label:"Delivered"},{value:"received",label:"Received"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}];return a||M||s&&!R?n.jsx(AVe,{}):i?n.jsx(dt,{title:"Error",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(_t,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),n.jsx("h2",{className:"text-2xl font-semibold text-destructive mb-2",children:"Error loading order"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:i}),n.jsxs(te,{onClick:()=>t("/orders"),children:[n.jsx(tr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})}):s?n.jsx(dt,{title:"Edit Order",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ra,{children:n.jsxs(Ma,{children:[n.jsx(Jt,{children:n.jsx(Xn,{asChild:!0,children:n.jsx(Vi,{to:"/orders",children:"Orders"})})}),n.jsx(Sn,{}),n.jsx(Jt,{children:n.jsx(Xn,{asChild:!0,children:n.jsx(Vi,{to:`/orders/${e}`,children:s.po_number})})}),n.jsx(Sn,{}),n.jsx(Jt,{children:n.jsx(hi,{children:"Edit"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>t(`/orders/${e}`),children:n.jsx(tr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(js,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Edit Order"}),n.jsxs("p",{className:"text-muted-foreground",children:["Update order details for ",s.po_number]})]})]})]}),n.jsx("form",{onSubmit:Ne,children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(ct,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),n.jsxs(J,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Z,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(J,{className:"p-4",children:[n.jsxs(G,{htmlFor:"apartment",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(cr,{className:"h-4 w-4 text-primary"}),"Apartment *"]}),n.jsxs(at,{value:o,onValueChange:l,disabled:M,children:[n.jsx(nt,{className:"h-10",children:n.jsx(it,{placeholder:M?"Loading...":"Select apartment"})}),n.jsx(st,{children:H.map(ce=>n.jsx(ne,{value:ce.id,children:n.jsx("span",{children:ce.name})},ce.id))})]}),Me&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Owner: ",Me.owner]})]})}),n.jsx(Z,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(J,{className:"p-4",children:[n.jsxs(G,{htmlFor:"vendor",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(Da,{className:"h-4 w-4 text-primary"}),"Vendor *"]}),n.jsxs(at,{value:c,onValueChange:d,disabled:M,children:[n.jsx(nt,{className:"h-10",children:n.jsx(it,{placeholder:M?"Loading...":"Select vendor"})}),n.jsx(st,{children:T.map(ce=>n.jsx(ne,{value:ce.id,children:n.jsx("span",{children:ce.name})},ce.id))})]}),Te&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Lead time: ",Te.lead_time]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"po_number",children:"PO Number *"}),n.jsx(fe,{id:"po_number",value:u,onChange:ce=>f(ce.target.value),placeholder:"e.g., PO-2025-00001"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"confirmation_code",children:"Confirmation"}),n.jsx(fe,{id:"confirmation_code",value:m,onChange:ce=>h(ce.target.value),placeholder:"e.g., CONF-8831"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"tracking_number",children:"Tracking"}),n.jsx(fe,{id:"tracking_number",value:x,onChange:ce=>p(ce.target.value),placeholder:"e.g., TRK-93234"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"status",children:"Status"}),n.jsxs(at,{value:g,onValueChange:j,children:[n.jsx(nt,{className:"h-10",children:n.jsx(it,{placeholder:"Select status"})}),n.jsx(st,{children:se.map(ce=>n.jsx(ne,{value:ce.value,children:ce.label},ce.value))})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"expected_delivery",children:"Expected Delivery"}),n.jsx(fe,{id:"expected_delivery",type:"date",value:I,onChange:ce=>W(ce.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"shipping_address",children:"Shipping Address"}),n.jsx(fe,{id:"shipping_address",value:k,onChange:ce=>O(ce.target.value),placeholder:"Enter shipping address"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"notes",children:"Notes"}),n.jsx(fe,{id:"notes",value:A,onChange:ce=>E(ce.target.value),placeholder:"Add any notes about this order"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[n.jsxs(Z,{className:"lg:col-span-1",children:[n.jsx(we,{className:"py-3 px-4 border-b",children:n.jsxs(Ue,{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(ct,{className:"h-4 w-4 text-primary"}),"Available Products (",me.length,")"]})}),n.jsx(J,{className:"p-2",children:K?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Bt,{className:"h-8 w-8 mx-auto mb-3 opacity-50 animate-spin"}),n.jsx("p",{className:"text-sm",children:"Loading products..."})]}):!o||!c?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(cr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"Please select apartment and vendor"}),n.jsx("p",{className:"text-sm",children:"Products will appear here"})]}):me.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(ct,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No products found"}),n.jsx("p",{className:"text-sm",children:"This apartment/vendor has no products"})]}):n.jsx("div",{className:"max-h-[450px] overflow-y-auto",children:n.jsx("div",{children:me.map((ce,be)=>{const $e=y.some(De=>De.productId===ce.id);return n.jsxs("div",{onClick:()=>!$e&&B(),className:`group flex items-center gap-2 px-2 py-1.5 transition-all cursor-pointer ${$e?"opacity-50 cursor-not-allowed bg-muted/30":"hover:bg-accent hover:shadow-sm"} ${be<me.length-1?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 bg-muted/30 rounded flex items-center justify-center flex-shrink-0",children:ce.product_image?n.jsx("img",{src:ce.product_image,alt:ce.product,className:"w-full h-full object-cover rounded",onError:De=>{De.currentTarget.src="",De.currentTarget.style.display="none"}}):n.jsx(Bi,{className:"h-4 w-4 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("p",{className:"font-medium text-xs truncate flex-1",children:ce.product}),ce.sku&&n.jsx("span",{className:"text-[10px] text-muted-foreground",children:ce.sku})]}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:ce.vendor_name||"No vendor"})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsx("p",{className:"font-semibold text-xs",children:Number(ce.unit_price).toLocaleString()}),$e?n.jsx("span",{className:"text-[10px] text-green-600 dark:text-green-500 font-medium",children:"Added"}):n.jsx("span",{className:"text-[10px] text-muted-foreground",children:"HUF"})]})]},ce.id)})})})})]}),n.jsxs(Z,{className:"lg:col-span-1",children:[n.jsx(we,{className:"py-3 px-4 border-b",children:n.jsxs(Ue,{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(js,{className:"h-4 w-4 text-primary"}),"Order Items (",y.length,")"]}),y.length>0&&n.jsxs("span",{className:"text-xs font-normal text-muted-foreground",children:["Total: ",y.reduce((ce,be)=>ce+be.quantity*be.unitPrice,0).toLocaleString()," HUF"]})]})}),n.jsx(J,{className:"p-2",children:y.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(js,{className:"h-6 w-6 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-xs font-medium",children:"No items in order"}),n.jsx("p",{className:"text-[10px] mt-1",children:"Click products to add them"})]}):n.jsx("div",{className:"max-h-[450px] overflow-y-auto",children:n.jsx("div",{children:y.map((ce,be)=>{const $e=me.find(De=>De.id===ce.productId);return n.jsxs("div",{className:`group flex items-center gap-2 px-2 py-1.5 hover:bg-accent transition-all ${be<y.length-1?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 bg-muted/30 rounded flex items-center justify-center flex-shrink-0",children:$e!=null&&$e.product_image?n.jsx("img",{src:$e.product_image,alt:ce.productName,className:"w-full h-full object-cover rounded",onError:De=>{De.currentTarget.src="",De.currentTarget.style.display="none"}}):n.jsx(Bi,{className:"h-4 w-4 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("p",{className:"text-xs font-medium truncate flex-1",children:ce.productName}),ce.sku&&n.jsx("span",{className:"text-[10px] text-muted-foreground",children:ce.sku})]}),n.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[n.jsx("button",{type:"button",onClick:()=>oe(be,"quantity",Math.max(1,ce.quantity-1)),className:"w-5 h-5 rounded bg-muted/50 hover:bg-muted flex items-center justify-center transition-colors",children:n.jsx(w7,{className:"h-3 w-3"})}),n.jsx("input",{type:"number",min:"1",value:ce.quantity,onChange:De=>oe(be,"quantity",parseInt(De.target.value)||1),className:"w-10 h-5 text-[11px] text-center border border-input bg-background rounded px-1"}),n.jsx("button",{type:"button",onClick:()=>oe(be,"quantity",ce.quantity+1),className:"w-5 h-5 rounded bg-muted/50 hover:bg-muted flex items-center justify-center transition-colors",children:n.jsx(Gn,{className:"h-3 w-3"})}),n.jsxs("span",{className:"text-[10px] text-muted-foreground ml-1",children:[" ",ce.unitPrice.toLocaleString()]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs font-semibold",children:(ce.quantity*ce.unitPrice).toLocaleString()}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"HUF"})]}),n.jsx("button",{type:"button",onClick:()=>X(be),className:"opacity-0 group-hover:opacity-100 w-5 h-5 rounded-full bg-destructive/10 hover:bg-destructive/20 flex items-center justify-center transition-all",children:n.jsx(us,{className:"h-3 w-3 text-destructive"})})]})]},be)})})})})]})]}),n.jsxs(Z,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2 text-primary",children:[n.jsx(br,{className:"h-5 w-5"}),"Order Summary"]})}),n.jsx(J,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Items"}),n.jsx("p",{className:"text-3xl font-bold",children:y.length})]}),n.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Units"}),n.jsx("p",{className:"text-3xl font-bold",children:y.reduce((ce,be)=>ce+be.quantity,0)})]}),n.jsxs("div",{className:"space-y-2 p-4 bg-background/50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsx("span",{children:"Items Total"}),n.jsxs("span",{children:[ue," HUF"]})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Shipping Cost"}),n.jsx(fe,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:b,onChange:ce=>N(ce.target.value)})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Discount"}),n.jsx(fe,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:_,onChange:ce=>C(ce.target.value)})]}),n.jsx(Ft,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold",children:"Total to Pay"}),n.jsxs("span",{className:"text-2xl font-bold text-primary",children:[Ee," HUF"]})]})]})]})})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>t(`/orders/${e}`),children:"Cancel"}),n.jsx(te,{type:"submit",className:"gap-2",disabled:Y,children:Y?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(fu,{className:"h-4 w-4"}),"Save Changes"]})})]})]})})]})}):n.jsx(dt,{title:"Not Found",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ct,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Order not found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"The order you're looking for doesn't exist."}),n.jsxs(te,{onClick:()=>t("/orders"),children:[n.jsx(tr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})})},PVe=({open:e,onOpenChange:t,delivery:r})=>{const[s,a]=v.useState(null),[i,o]=v.useState(!1);if(v.useEffect(()=>{e&&(r!=null&&r.id)&&(o(!0),Fc.getDelivery(r.id).then(x=>a(x)).catch(x=>console.error("Failed to fetch delivery details:",x)).finally(()=>o(!1)))},[e,r==null?void 0:r.id]),!r)return null;const l=x=>({Scheduled:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/30","In Transit":"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/30",Delivered:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/30",Delayed:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/30",Cancelled:"bg-gray-500/10 text-gray-600 dark:text-gray-400 border-gray-500/30",Returned:"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/30"})[x]||"bg-muted text-muted-foreground",c=x=>({Urgent:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/30",High:"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/30",Medium:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/30",Low:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/30"})[x]||"bg-muted text-muted-foreground",d=s||r,u=s==null?void 0:s.apartment_details,f=s==null?void 0:s.vendor_details,m=u==null?void 0:u.client_details,h=(s==null?void 0:s.order_items)||[];return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(Hr,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Jr,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(en,{className:"text-lg font-bold",children:"Delivery Details"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-0.5 font-mono",children:d.order_reference})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ae,{className:l(d.status),variant:"outline",children:d.status}),n.jsxs(Ae,{className:c(d.priority),variant:"outline",children:[d.priority," Priority"]})]})]})}),i?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Bt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs(n.Fragment,{children:[n.jsx(Ft,{className:"my-2"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(Z,{className:"border-border/50",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:n.jsx(ha,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Delivery Address"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(u==null?void 0:u.name)||d.apartment_name}),(u==null?void 0:u.address)&&n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:u.address})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:n.jsx($n,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Contact Person"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(m==null?void 0:m.name)||(u==null?void 0:u.owner)||"Not specified"})]})]}),(m==null?void 0:m.phone)&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:n.jsx(So,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Contact Phone"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:m.phone})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-orange-500/10",children:n.jsx(wr,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Vendor"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(f==null?void 0:f.name)||d.vendor_name}),(f==null?void 0:f.delivery_terms)&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Carrier: ",f.delivery_terms]})]})]}),(f==null?void 0:f.contact_person)&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-indigo-500/10",children:n.jsx(cr,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Vendor Contact"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:f.contact_person})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/10",children:n.jsx(yn,{className:"h-4 w-4 text-cyan-600 dark:text-cyan-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Vendor Email"}),f!=null&&f.email?n.jsx("a",{href:`mailto:${f.email}`,className:"text-sm font-medium text-primary hover:underline mt-1 block",children:f.email}):n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Not available"})]})]}),(f==null?void 0:f.website)&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-teal-500/10",children:n.jsx(Xl,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Website"}),n.jsxs("a",{href:f.website.startsWith("http")?f.website:`https://${f.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-primary hover:underline mt-1 flex items-center gap-1",children:[f.website,n.jsx(Pk,{className:"h-3 w-3"})]})]})]})]})]})})}),n.jsx(Z,{className:"border-border/50",children:n.jsxs(J,{className:"p-4",children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[n.jsx(Wr,{className:"h-4 w-4 text-primary"}),"Delivery Schedule"]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected Delivery"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(s==null?void 0:s.expected_date)||d.expected_date})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Time Slot"}),n.jsxs("p",{className:"text-sm font-semibold mt-1 flex items-center gap-1",children:[n.jsx(jr,{className:"h-3.5 w-3.5 text-muted-foreground"}),(s==null?void 0:s.time_slot)||d.time_slot||"Not specified"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Actual Delivery"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(s==null?void 0:s.actual_date)||n.jsx("span",{className:"text-muted-foreground font-normal",children:"Pending"})})]})]})]})}),n.jsx(Z,{className:"border-border/50",children:n.jsxs(J,{className:"p-4",children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[n.jsx(ct,{className:"h-4 w-4 text-primary"}),"Package Details"]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(uh,{className:"h-3 w-3"}),"Order Number"]}),n.jsx(Ae,{variant:"outline",className:"text-xs mt-1.5 font-mono",children:d.order_reference})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(_g,{className:"h-3 w-3"}),"Items Count"]}),n.jsxs("p",{className:"text-sm font-semibold mt-1",children:[(s==null?void 0:s.order_items_count)||h.length||"-"," items"]})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(E7,{className:"h-3 w-3"}),"Weight"]}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:"-"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(br,{className:"h-3 w-3"}),"Order Total"]}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:s!=null&&s.order_total?`${Number(s.order_total).toFixed(2)}`:"-"})]})]}),((s==null?void 0:s.tracking_number)||d.tracking_number)&&n.jsxs("div",{className:"mt-3 pt-3 border-t",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Tracking Number"}),n.jsx(Ae,{className:"bg-primary/10 text-primary text-xs font-mono mt-1.5",children:(s==null?void 0:s.tracking_number)||d.tracking_number})]})]})}),h.length>0&&n.jsx(Z,{className:"border-border/50",children:n.jsxs(J,{className:"p-4",children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[n.jsx(_g,{className:"h-4 w-4 text-primary"}),"Delivered Products (",h.length,")"]}),n.jsx("div",{className:"rounded-lg border overflow-hidden",children:n.jsxs(Os,{children:[n.jsx(Ds,{children:n.jsxs(Ut,{className:"bg-muted/50",children:[n.jsx(ke,{className:"text-xs font-semibold",children:"Product"}),n.jsx(ke,{className:"text-xs font-semibold",children:"SKU"}),n.jsx(ke,{className:"text-xs font-semibold text-center",children:"Qty"}),n.jsx(ke,{className:"text-xs font-semibold text-right",children:"Unit Price"}),n.jsx(ke,{className:"text-xs font-semibold text-right",children:"Total"})]})}),n.jsx(Is,{children:h.map((x,p)=>n.jsxs(Ut,{children:[n.jsx(Se,{className:"text-sm font-medium",children:x.product_name}),n.jsx(Se,{className:"text-xs text-muted-foreground font-mono",children:x.sku||"-"}),n.jsx(Se,{className:"text-sm text-center",children:x.quantity}),n.jsxs(Se,{className:"text-sm text-right",children:["",Number(x.unit_price).toFixed(2)]}),n.jsxs(Se,{className:"text-sm font-semibold text-right",children:["",Number(x.total_price).toFixed(2)]})]},x.id||p))})]})})]})}),n.jsx(Z,{className:"border-border/50",children:n.jsxs(J,{className:"p-4",children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[n.jsx(An,{className:"h-4 w-4 text-primary"}),"Notes & Instructions"]}),(s==null?void 0:s.order_notes)&&n.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-amber-500/5 border border-amber-500/20 mb-4",children:[n.jsx(_t,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-amber-700 dark:text-amber-300",children:"Special Instructions"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:s.order_notes})]})]}),s!=null&&s.status_history&&s.status_history.length>0?n.jsxs("div",{className:"space-y-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-3",children:"Status History"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-[11px] top-3 bottom-3 w-0.5 bg-border"}),n.jsx("div",{className:"space-y-3",children:s.status_history.map((x,p)=>{const g=b=>{switch(b){case"Delivered":return{icon:sr,color:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/30"};case"In Transit":return{icon:wr,color:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/30"};case"Scheduled":return{icon:Wr,color:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/30"};case"Delayed":return{icon:jr,color:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/30"};case"Cancelled":return{icon:_t,color:"bg-gray-500/10 text-gray-600 dark:text-gray-400 border-gray-500/30"};case"Returned":return{icon:ct,color:"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/30"};default:return{icon:An,color:"bg-muted text-muted-foreground"}}},{icon:j,color:y}=g(x.status),w=p===0;return n.jsxs("div",{className:"relative flex gap-3 pl-0",children:[n.jsx("div",{className:`relative z-10 flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center ${y} ${w?"ring-2 ring-primary/20":""}`,children:n.jsx(j,{className:"h-3 w-3"})}),n.jsxs("div",{className:`flex-1 pb-3 ${w?"":"opacity-80"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Ae,{variant:"outline",className:`text-xs ${y}`,children:x.status}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(x.created_at).toLocaleString()}),x.changed_by&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["by ",x.changed_by]})]}),x.notes&&n.jsx("p",{className:"text-sm mt-1 text-foreground",children:x.notes}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[x.received_by&&n.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx($n,{className:"h-3 w-3"}),"Received by: ",x.received_by]}),x.location&&n.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(ha,{className:"h-3 w-3"}),x.location]}),x.delay_reason&&n.jsxs("span",{className:"text-xs text-red-600 dark:text-red-400 flex items-center gap-1",children:[n.jsx(_t,{className:"h-3 w-3"}),"Reason: ",x.delay_reason]})]})]})]},x.id)})})]})]}):(s==null?void 0:s.notes)&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery Notes"}),n.jsx("p",{className:"text-sm mt-1",children:s.notes})]})]})}),(s==null?void 0:s.received_by)&&n.jsx(Z,{className:"border-green-500/30 bg-green-500/5",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:n.jsx(sr,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Received By"}),n.jsx("p",{className:"text-sm font-semibold",children:s.received_by}),s.actual_date&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["on ",s.actual_date]})]})]})})})]})]})]})})},kVe=({open:e,onOpenChange:t,delivery:r})=>{if(!r)return null;const s=[{date:"2025-11-10 14:30",status:r.status==="Delivered"?"Delivered":r.status==="In Transit"?"Out for Delivery":"Package Ready",location:r.status==="Delivered"?r.apartment_name:"Local Hub",description:r.status==="Delivered"?"Package delivered successfully":r.status==="In Transit"?"Package is out for delivery":"Package is ready for dispatch",active:!0},{date:"2025-11-09 10:15",status:"In Transit",location:"Distribution Center",description:"Package is on the way to delivery location",active:!1},{date:"2025-11-08 16:45",status:"Package Dispatched",location:`${r.vendor_name} Warehouse`,description:"Package has been dispatched from warehouse",active:!1},{date:"2025-11-08 09:00",status:"Order Confirmed",location:r.vendor_name,description:"Order has been confirmed and is being prepared",active:!1}];return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(Hr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Jr,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-primary/10 rounded-lg",children:n.jsx(wr,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(en,{className:"text-base font-bold",children:"Track Delivery"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.order_reference})]})]})}),n.jsx(Ft,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Z,{className:"border bg-gradient-to-br from-primary/5 to-primary/10",children:n.jsxs(J,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-primary/10 rounded",children:n.jsx(ct,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Tracking Number"}),n.jsx("p",{className:"text-sm font-bold font-mono",children:r.tracking_number})]})]}),n.jsx(Ae,{className:"bg-primary text-primary-foreground",children:"Carrier"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 pt-2 border-t border-primary/20",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ha,{className:"h-3.5 w-3.5 text-primary flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Destination"}),n.jsx("p",{className:"text-sm font-medium truncate",children:r.apartment_name})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-3.5 w-3.5 text-primary flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"From"}),n.jsx("p",{className:"text-sm font-medium truncate",children:r.vendor_name})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wr,{className:"h-3.5 w-3.5 text-primary flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"ETA"}),n.jsx("p",{className:"text-sm font-medium",children:r.expected_date})]})]})]})]})}),n.jsx(Z,{children:n.jsxs(J,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b",children:[n.jsx("div",{className:"p-1 bg-primary/10 rounded",children:n.jsx(jr,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold",children:"Tracking History"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Latest updates"})]})]}),n.jsx("div",{className:"space-y-4",children:s.map((a,i)=>n.jsxs("div",{className:"flex gap-3 relative",children:[i!==s.length-1&&n.jsx("div",{className:"absolute left-3.5 top-8 bottom-0 w-0.5 bg-gradient-to-b from-primary/50 to-border"}),n.jsx("div",{className:"relative flex-shrink-0",children:n.jsx("div",{className:`w-7 h-7 rounded-full border-2 border-background flex items-center justify-center ${a.active?"bg-primary shadow-lg shadow-primary/20":"bg-muted"}`,children:a.active?n.jsx(wr,{className:"h-3.5 w-3.5 text-primary-foreground"}):n.jsx(sr,{className:"h-3.5 w-3.5 text-muted-foreground"})})}),n.jsxs("div",{className:"flex-1 pb-2",children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsx("p",{className:`text-sm font-semibold ${a.active?"text-primary":""}`,children:a.status}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:a.date})]}),n.jsx("p",{className:"text-xs text-muted-foreground mb-0.5",children:a.description}),n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(ha,{className:"h-3 w-3"}),a.location]})]})]},i))})]})})]})]})})};function TVe(e={}){const[t,r]=v.useState([]),[s,a]=v.useState(!0),[i,o]=v.useState(null),[l,c]=v.useState(0),d=v.useCallback(async()=>{try{a(!0),o(null);const m=await Fc.getDeliveries(e);r(m.results||[]),c(m.count||0)}catch(m){console.error("Failed to fetch deliveries:",m),o(m.message||"Failed to fetch deliveries"),r([])}finally{a(!1)}},[e.search,e.status,e.priority,e.apartment,e.vendor,e.page,e.page_size]);return v.useEffect(()=>{d()},[d]),{deliveries:t,loading:s,error:i,totalCount:l,refetch:d,updateStatus:async(m,h,x)=>{await Fc.updateStatus(m,h,x),await d()},deleteDelivery:async m=>{await Fc.deleteDelivery(m),await d()}}}function OVe(){const[e,t]=v.useState({scheduled:0,in_transit:0,delivered:0,delayed:0,total:0}),[r,s]=v.useState(!0);return v.useEffect(()=>{(async()=>{try{s(!0);const o=(await Fc.getDeliveries({page_size:1e3})).results||[];t({scheduled:o.filter(l=>l.status==="Scheduled").length,in_transit:o.filter(l=>l.status==="In Transit").length,delivered:o.filter(l=>l.status==="Delivered").length,delayed:o.filter(l=>l.status==="Delayed").length,total:o.length})}catch(i){console.error("Failed to fetch delivery statistics:",i)}finally{s(!1)}})()},[]),{statistics:e,loading:r}}function DVe(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{iconBg:"bg-blue-500/10"},{iconBg:"bg-yellow-500/10"},{iconBg:"bg-green-500/10"},{iconBg:"bg-orange-500/10"}].map((e,t)=>n.jsx(Z,{className:"card-hover-effect",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-8 w-12"}),n.jsx(S,{className:"h-4 w-24"})]}),n.jsx("div",{className:`p-2.5 rounded-xl ${e.iconBg}`,children:n.jsx(S,{className:"h-5 w-5 rounded"})})]})})},t))})}function IVe(){return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-40"})]})}),n.jsx(J,{children:n.jsx("div",{className:"h-[200px] flex items-end justify-between gap-2 px-4",children:[...Array(5)].map((e,t)=>n.jsxs("div",{className:"flex-1 flex flex-col justify-end gap-2",children:[n.jsx(S,{className:"w-full rounded-t",style:{height:`${Math.random()*60+40}%`}}),n.jsx(S,{className:"h-3 w-full"})]},t))})})]}),n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-40"})]})}),n.jsx(J,{children:n.jsx("div",{className:"h-[200px] flex items-end justify-between gap-3 px-4",children:[70,85,75,95,80,60,50].map((e,t)=>n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end gap-2",children:[n.jsx(S,{className:"h-2 w-2 rounded-full"}),n.jsx(S,{className:"w-0.5",style:{height:`${e}%`}}),n.jsx(S,{className:"h-3 w-8"})]},t))})})]})]})}function RVe(){return n.jsxs("div",{className:"flex flex-col gap-3 mb-3",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between",children:[n.jsxs("div",{className:"flex gap-1 bg-muted rounded-lg p-1",children:[n.jsx(S,{className:"h-9 w-24 rounded-md"}),n.jsx(S,{className:"h-9 w-32 rounded-md"})]}),n.jsx(S,{className:"h-11 flex-1 max-w-md rounded-md"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-4 w-12"})]}),n.jsx(S,{className:"h-11 w-[140px] rounded-md"}),n.jsx(S,{className:"h-11 w-[140px] rounded-md"})]})]})}function MVe(){return n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsx(S,{className:"h-6 w-40"})}),n.jsx(J,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Apartment","Vendor","Order No","Priority","ETA","Status","Tracking","Actions"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(S,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(8)].map((e,t)=>n.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-32"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-6 w-24 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-6 w-24 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-6 w-28 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(S,{className:"h-8 w-8 rounded"}),n.jsx(S,{className:"h-8 w-8 rounded"}),n.jsx(S,{className:"h-8 w-8 rounded"})]})})]},t))})]})})})]})}function FVe(){return n.jsxs("div",{className:"space-y-4",children:[n.jsx(DVe,{}),n.jsx(IVe,{}),n.jsx(RVe,{}),n.jsx(MVe,{})]})}const $Ve=()=>{const[e,t]=v.useState(""),[r,s]=v.useState("all"),[a,i]=v.useState("all"),[o,l]=v.useState(null),[c,d]=v.useState(!1),[u,f]=v.useState(!1),[m,h]=v.useState(!1),{deliveries:x,loading:p,error:g,refetch:j,updateStatus:y}=TVe({search:e||void 0,status:r!=="all"?r:void 0,priority:a!=="all"?a:void 0});OVe();const w=C=>({Confirmed:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400","In Transit":"bg-blue-500/10 text-blue-600 dark:text-blue-400",Delayed:"bg-orange-500/10 text-orange-600 dark:text-orange-400",Received:"bg-green-500/10 text-green-600 dark:text-green-400",Returned:"bg-red-500/10 text-red-600 dark:text-red-400"})[C]||"bg-muted text-muted-foreground",b=C=>({High:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",Medium:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/20",Low:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20"})[C]||"bg-muted text-muted-foreground",N=Object.entries(x.reduce((C,A)=>{const E=A.vendor_name||"Unknown";return C[E]=(C[E]||0)+1,C},{})).map(([C,A])=>({vendor:C.split(" ")[0],deliveries:A})),_=[{day:"Mon",deliveries:8},{day:"Tue",deliveries:12},{day:"Wed",deliveries:10},{day:"Thu",deliveries:15},{day:"Fri",deliveries:11},{day:"Sat",deliveries:5},{day:"Sun",deliveries:3}];return p?n.jsx(dt,{title:"Deliveries",children:n.jsx(FVe,{})}):n.jsx(dt,{title:"Deliveries",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(Z,{className:"card-hover-effect",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Confirmed"}),n.jsx("p",{className:"text-2xl font-bold",children:x.filter(C=>C.status==="Confirmed").length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor accepted"})]}),n.jsx("div",{className:"p-2.5 rounded-xl bg-blue-500/10",children:n.jsx(jr,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),n.jsx(Z,{className:"card-hover-effect",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"In Transit"}),n.jsx("p",{className:"text-2xl font-bold",children:x.filter(C=>C.status==="In Transit").length}),n.jsxs("p",{className:"text-sm text-success flex items-center gap-1",children:[n.jsx(ri,{className:"h-4 w-4"}),"Active"]})]}),n.jsx("div",{className:"p-2.5 rounded-xl bg-yellow-500/10",children:n.jsx(wr,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})})]})})}),n.jsx(Z,{className:"card-hover-effect",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Received"}),n.jsx("p",{className:"text-2xl font-bold",children:x.filter(C=>C.status==="Received").length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"})]}),n.jsx("div",{className:"p-2.5 rounded-xl bg-green-500/10",children:n.jsx(sr,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})})}),n.jsx(Z,{className:"card-hover-effect",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Issues"}),n.jsx("p",{className:"text-2xl font-bold",children:x.filter(C=>C.status==="Delayed"||C.status==="Returned").length}),n.jsxs("p",{className:"text-sm text-orange-600 dark:text-orange-400 flex items-center gap-1",children:[n.jsx(ni,{className:"h-4 w-4"}),"Delayed/Returned"]})]}),n.jsx("div",{className:"p-2.5 rounded-xl bg-orange-500/10",children:n.jsx(ni,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ue,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(ct,{className:"h-5 w-5 text-primary"}),"Deliveries by Vendor"]})}),n.jsx(J,{children:n.jsx(fn,{width:"100%",height:200,children:n.jsxs(ja,{data:N,children:[n.jsx(Bn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(an,{dataKey:"vendor",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(on,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(fr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"}}),n.jsx(wn,{dataKey:"deliveries",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})})]}),n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ue,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(ri,{className:"h-5 w-5 text-primary"}),"Weekly Delivery Trend"]})}),n.jsx(J,{children:n.jsx(fn,{width:"100%",height:200,children:n.jsxs(B2,{data:_,children:[n.jsx(Bn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(an,{dataKey:"day",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(on,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(fr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"}}),n.jsx(ec,{type:"monotone",dataKey:"deliveries",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",r:4}})]})})})]})]}),n.jsxs(ko,{defaultValue:"list",className:"w-full",children:[n.jsxs("div",{className:"flex flex-col gap-3 mb-3",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between",children:[n.jsxs(Xi,{children:[n.jsx(Vt,{value:"list",children:"List View"}),n.jsx(Vt,{value:"calendar",children:"Calendar View"})]}),n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(ca,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/70"}),n.jsx(fe,{placeholder:"Search by apartment, vendor, order...",value:e,onChange:C=>t(C.target.value),className:"pl-10 h-11 bg-muted/30 border-border/50 focus:bg-background transition-colors"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rv,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Filters:"})]}),n.jsxs(at,{value:r,onValueChange:s,children:[n.jsx(nt,{className:"w-[140px] h-11 bg-muted/30 border-border/50",children:n.jsx(it,{placeholder:"Status"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"all",children:"All Status"}),n.jsx(ne,{value:"Confirmed",children:"Confirmed"}),n.jsx(ne,{value:"In Transit",children:"In Transit"}),n.jsx(ne,{value:"Delayed",children:"Delayed"}),n.jsx(ne,{value:"Received",children:"Received"}),n.jsx(ne,{value:"Returned",children:"Returned"})]})]}),n.jsxs(at,{value:a,onValueChange:i,children:[n.jsx(nt,{className:"w-[140px] h-11 bg-muted/30 border-border/50",children:n.jsx(it,{placeholder:"Priority"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"all",children:"All Priority"}),n.jsx(ne,{value:"High",children:"High"}),n.jsx(ne,{value:"Medium",children:"Medium"}),n.jsx(ne,{value:"Low",children:"Low"})]})]}),(r!=="all"||a!=="all")&&n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>{s("all"),i("all")},className:"h-11",children:"Clear Filters"})]})]}),n.jsx(Yt,{value:"list",className:"mt-0",children:n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ue,{className:"text-lg font-semibold",children:["All Deliveries (",x.length,")"]})}),n.jsx(J,{children:g?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-destructive",children:g}),n.jsx(te,{variant:"outline",className:"mt-4",onClick:j,children:"Try Again"})]}):n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Os,{children:[n.jsx(Ds,{children:n.jsxs(Ut,{children:[n.jsx(ke,{className:"font-semibold text-foreground/90",children:"Apartment"}),n.jsx(ke,{className:"font-semibold text-foreground/90",children:"Vendor"}),n.jsx(ke,{className:"font-semibold text-foreground/90",children:"Order No"}),n.jsx(ke,{className:"font-semibold text-foreground/90",children:"Priority"}),n.jsx(ke,{className:"font-semibold text-foreground/90",children:"ETA"}),n.jsx(ke,{className:"font-semibold text-foreground/90",children:"Status"}),n.jsx(ke,{className:"font-semibold text-foreground/90",children:"Tracking"}),n.jsx(ke,{className:"text-right font-semibold text-foreground/90",children:"Actions"})]})}),n.jsx(Is,{children:x.length===0?n.jsx(Ut,{children:n.jsx(Se,{colSpan:9,className:"text-center py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"No deliveries found"})})}):x.map(C=>n.jsxs(Ut,{className:"hover:bg-muted/50",children:[n.jsx(Se,{className:"font-medium",children:C.apartment_name}),n.jsx(Se,{className:"text-muted-foreground",children:C.vendor_name}),n.jsx(Se,{children:n.jsx(Ae,{variant:"outline",className:"font-mono",children:C.order_reference})}),n.jsx(Se,{children:n.jsx(Ae,{variant:"outline",className:b(C.priority),children:C.priority})}),n.jsx(Se,{className:"text-muted-foreground",children:C.expected_date}),n.jsx(Se,{children:n.jsx(Ae,{variant:"outline",className:w(C.status),children:C.status})}),n.jsx(Se,{children:C.tracking_number?n.jsx(Ae,{variant:"outline",className:"font-mono",children:C.tracking_number}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(Se,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(te,{size:"sm",variant:"ghost",title:"View Details",onClick:()=>{l(C),d(!0)},children:n.jsx(ti,{className:"h-4 w-4"})}),n.jsx(te,{size:"sm",variant:"ghost",title:"Track Delivery",onClick:()=>{l(C),h(!0)},children:n.jsx(_se,{className:"h-4 w-4"})}),n.jsx(te,{size:"sm",variant:"ghost",title:"Update Status",onClick:()=>{l(C),f(!0)},children:n.jsx(sr,{className:"h-4 w-4"})})]})})]},C.id))})]})})})]})}),n.jsx(Yt,{value:"calendar",className:"mt-0",children:n.jsx(Z,{children:n.jsxs(J,{className:"p-6",children:[n.jsx("div",{className:"grid grid-cols-7 gap-3 mb-3",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(C=>n.jsx("div",{className:"text-center text-sm font-semibold text-muted-foreground py-2",children:C},C))}),n.jsx("div",{className:"grid grid-cols-7 gap-3",children:Array.from({length:35},(C,A)=>{const E=new Date,O=new Date(E.getFullYear(),E.getMonth(),1).getDay(),I=A-O+1,H=new Date(E.getFullYear(),E.getMonth(),I).toISOString().split("T")[0],F=x.filter(T=>T.expected_date===H);return A<O||I>new Date(E.getFullYear(),E.getMonth()+1,0).getDate()?n.jsx("div",{className:"aspect-square"},A):n.jsxs("div",{className:`aspect-square border rounded-lg p-2 hover:border-primary transition-colors ${F.length>0?"bg-primary/5 border-primary/20":"bg-muted/30"}`,children:[n.jsx("div",{className:"text-sm font-medium mb-1",children:I}),F.length>0&&n.jsxs("div",{className:"space-y-1",children:[F.slice(0,2).map(T=>{var P;return n.jsx("div",{className:`text-[10px] px-1 py-0.5 rounded truncate ${w(T.status)}`,children:(P=T.apartment_name)==null?void 0:P.split(" ")[0]},T.id)}),F.length>2&&n.jsxs("div",{className:"text-[10px] text-muted-foreground",children:["+",F.length-2]})]})]},A)})})]})})})]}),n.jsx(PVe,{open:c,onOpenChange:d,delivery:o}),o&&n.jsx(PQ,{open:u,onOpenChange:f,deliveryId:o.id,currentStatus:o.status,orderReference:o.order_reference,onStatusUpdated:()=>{j()}}),n.jsx(kVe,{open:m,onOpenChange:h,delivery:o})]})})};function ga(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var LVe=typeof Symbol=="function"&&Symbol.observable||"@@observable",J$=LVe,iC=()=>Math.random().toString(36).substring(7).split("").join("."),BVe={INIT:`@@redux/INIT${iC()}`,REPLACE:`@@redux/REPLACE${iC()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${iC()}`},eL=BVe;function UVe(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function QQ(e,t,r){if(typeof e!="function")throw new Error(ga(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ga(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ga(1));return r(QQ)(e,t)}let s=e,a=t,i=new Map,o=i,l=0,c=!1;function d(){o===i&&(o=new Map,i.forEach((g,j)=>{o.set(j,g)}))}function u(){if(c)throw new Error(ga(3));return a}function f(g){if(typeof g!="function")throw new Error(ga(4));if(c)throw new Error(ga(5));let j=!0;d();const y=l++;return o.set(y,g),function(){if(j){if(c)throw new Error(ga(6));j=!1,d(),o.delete(y),i=null}}}function m(g){if(!UVe(g))throw new Error(ga(7));if(typeof g.type>"u")throw new Error(ga(8));if(typeof g.type!="string")throw new Error(ga(17));if(c)throw new Error(ga(9));try{c=!0,a=s(a,g)}finally{c=!1}return(i=o).forEach(y=>{y()}),g}function h(g){if(typeof g!="function")throw new Error(ga(10));s=g,m({type:eL.REPLACE})}function x(){const g=f;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(ga(11));function y(){const b=j;b.next&&b.next(u())}return y(),{unsubscribe:g(y)}},[J$](){return this}}}return m({type:eL.INIT}),{dispatch:m,subscribe:f,getState:u,replaceReducer:h,[J$]:x}}function tL(e,t){return function(...r){return t(e.apply(this,r))}}function rL(e,t){if(typeof e=="function")return tL(e,t);if(typeof e!="object"||e===null)throw new Error(ga(16));const r={};for(const s in e){const a=e[s];typeof a=="function"&&(r[s]=tL(a,t))}return r}function ZQ(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...s)=>t(r(...s)))}function VVe(...e){return t=>(r,s)=>{const a=t(r,s);let i=()=>{throw new Error(ga(15))};const o={getState:a.getState,dispatch:(c,...d)=>i(c,...d)},l=e.map(c=>c(o));return i=ZQ(...l)(a.dispatch),{...a,dispatch:i}}}var zVe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy=v;function WVe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var HVe=typeof Object.is=="function"?Object.is:WVe,qVe=wy.useSyncExternalStore,GVe=wy.useRef,KVe=wy.useEffect,YVe=wy.useMemo,XVe=wy.useDebugValue;zVe.useSyncExternalStoreWithSelector=function(e,t,r,s,a){var i=GVe(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=YVe(function(){function c(h){if(!d){if(d=!0,u=h,h=s(h),a!==void 0&&o.hasValue){var x=o.value;if(a(x,h))return f=x}return f=h}if(x=f,HVe(u,h))return x;var p=s(h);return a!==void 0&&a(x,p)?(u=h,x):(u=h,f=p)}var d=!1,u,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,s,a]);var l=qVe(e,i[0],i[1]);return KVe(function(){o.hasValue=!0,o.value=l},[l]),XVe(l),l};var QVe=v.version.startsWith("19"),ZVe=Symbol.for(QVe?"react.transitional.element":"react.element"),JVe=Symbol.for("react.portal"),eze=Symbol.for("react.fragment"),tze=Symbol.for("react.strict_mode"),rze=Symbol.for("react.profiler"),nze=Symbol.for("react.consumer"),sze=Symbol.for("react.context"),JQ=Symbol.for("react.forward_ref"),aze=Symbol.for("react.suspense"),ize=Symbol.for("react.suspense_list"),L3=Symbol.for("react.memo"),oze=Symbol.for("react.lazy"),lze=JQ,cze=L3;function dze(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case ZVe:switch(e=e.type,e){case eze:case rze:case tze:case aze:case ize:return e;default:switch(e=e&&e.$$typeof,e){case sze:case JQ:case oze:case L3:return e;case nze:return e;default:return t}}case JVe:return t}}}function uze(e){return dze(e)===L3}function fze(e,t,r,s,{areStatesEqual:a,areOwnPropsEqual:i,areStatePropsEqual:o}){let l=!1,c,d,u,f,m;function h(y,w){return c=y,d=w,u=e(c,d),f=t(s,d),m=r(u,f,d),l=!0,m}function x(){return u=e(c,d),t.dependsOnOwnProps&&(f=t(s,d)),m=r(u,f,d),m}function p(){return e.dependsOnOwnProps&&(u=e(c,d)),t.dependsOnOwnProps&&(f=t(s,d)),m=r(u,f,d),m}function g(){const y=e(c,d),w=!o(y,u);return u=y,w&&(m=r(u,f,d)),m}function j(y,w){const b=!i(w,d),N=!a(y,c,w,d);return c=y,d=w,b&&N?x():b?p():N?g():m}return function(w,b){return l?j(w,b):h(w,b)}}function mze(e,{initMapStateToProps:t,initMapDispatchToProps:r,initMergeProps:s,...a}){const i=t(e,a),o=r(e,a),l=s(e,a);return fze(i,o,l,e,a)}function hze(e,t){const r={};for(const s in e){const a=e[s];typeof a=="function"&&(r[s]=(...i)=>t(a(...i)))}return r}function xP(e){return function(r){const s=e(r);function a(){return s}return a.dependsOnOwnProps=!1,a}}function nL(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function eZ(e,t){return function(s,{displayName:a}){const i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=nL(e);let d=i(l,c);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=nL(d),d=i(l,c)),d},i}}function B3(e,t){return(r,s)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${s.wrappedComponentName}.`)}}function pze(e){return e&&typeof e=="object"?xP(t=>hze(e,t)):e?typeof e=="function"?eZ(e):B3(e,"mapDispatchToProps"):xP(t=>({dispatch:t}))}function xze(e){return e?typeof e=="function"?eZ(e):B3(e,"mapStateToProps"):xP(()=>({}))}function gze(e,t,r){return{...r,...e,...t}}function vze(e){return function(r,{displayName:s,areMergedPropsEqual:a}){let i=!1,o;return function(c,d,u){const f=e(c,d,u);return i?a(f,o)||(o=f):(i=!0,o=f),o}}}function yze(e){return e?typeof e=="function"?vze(e):B3(e,"mergeProps"):()=>gze}function jze(e){e()}function bze(){let e=null,t=null;return{clear(){e=null,t=null},notify(){jze(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!s||e===null||(s=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var sL={notify(){},get:()=>[]};function tZ(e,t){let r,s=sL,a=0,i=!1;function o(p){u();const g=s.subscribe(p);let j=!1;return()=>{j||(j=!0,g(),f())}}function l(){s.notify()}function c(){x.onStateChange&&x.onStateChange()}function d(){return i}function u(){a++,r||(r=t?t.addNestedSub(c):e.subscribe(c),s=bze())}function f(){a--,r&&a===0&&(r(),r=void 0,s.clear(),s=sL)}function m(){i||(i=!0,u())}function h(){i&&(i=!1,f())}const x={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>s};return x}var wze=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nze=wze(),_ze=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Sze=_ze(),Cze=()=>Nze||Sze?v.useLayoutEffect:v.useEffect,Cw=Cze();function aL(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function oC(e,t){if(aL(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!aL(e[r[a]],t[r[a]]))return!1;return!0}var Aze={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Eze={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Pze={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},rZ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},kze={[lze]:Pze,[cze]:rZ};function iL(e){return uze(e)?rZ:kze[e.$$typeof]||Aze}var Tze=Object.defineProperty,Oze=Object.getOwnPropertyNames,oL=Object.getOwnPropertySymbols,Dze=Object.getOwnPropertyDescriptor,Ize=Object.getPrototypeOf,lL=Object.prototype;function gP(e,t){if(typeof t!="string"){if(lL){const i=Ize(t);i&&i!==lL&&gP(e,i)}let r=Oze(t);oL&&(r=r.concat(oL(t)));const s=iL(e),a=iL(t);for(let i=0;i<r.length;++i){const o=r[i];if(!Eze[o]&&!(a&&a[o])&&!(s&&s[o])){const l=Dze(t,o);try{Tze(e,o,l)}catch{}}}}return e}var lC=Symbol.for("react-redux-context"),cC=typeof globalThis<"u"?globalThis:{};function Rze(){if(!v.createContext)return{};const e=cC[lC]??(cC[lC]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var nZ=Rze(),Mze=[null,null];function Fze(e,t,r){Cw(()=>e(...t),r)}function $ze(e,t,r,s,a,i){e.current=s,r.current=!1,a.current&&(a.current=null,i())}function Lze(e,t,r,s,a,i,o,l,c,d,u){if(!e)return()=>{};let f=!1,m=null;const h=()=>{if(f||!l.current)return;const p=t.getState();let g,j;try{g=s(p,a.current)}catch(y){j=y,m=y}j||(m=null),g===i.current?o.current||d():(i.current=g,c.current=g,o.current=!0,u())};return r.onStateChange=h,r.trySubscribe(),h(),()=>{if(f=!0,r.tryUnsubscribe(),r.onStateChange=null,m)throw m}}function Bze(e,t){return e===t}function Uze(e,t,r,{pure:s,areStatesEqual:a=Bze,areOwnPropsEqual:i=oC,areStatePropsEqual:o=oC,areMergedPropsEqual:l=oC,forwardRef:c=!1,context:d=nZ}={}){const u=d,f=xze(e),m=pze(t),h=yze(r),x=!!e;return g=>{const j=g.displayName||g.name||"Component",y=`Connect(${j})`,w={shouldHandleStateChanges:x,displayName:y,wrappedComponentName:j,WrappedComponent:g,initMapStateToProps:f,initMapDispatchToProps:m,initMergeProps:h,areStatesEqual:a,areStatePropsEqual:o,areOwnPropsEqual:i,areMergedPropsEqual:l};function b(C){const[A,E,k]=v.useMemo(()=>{const{reactReduxForwardedRef:ue,...ve}=C;return[C.context,ue,ve]},[C]),O=v.useMemo(()=>{let ue=u;return A!=null&&A.Consumer,ue},[A,u]),I=v.useContext(O),W=!!C.store&&!!C.store.getState&&!!C.store.dispatch,H=!!I&&!!I.store,F=W?C.store:I.store,T=H?I.getServerState:F.getState,P=v.useMemo(()=>mze(F.dispatch,w),[F]),[M,D]=v.useMemo(()=>{if(!x)return Mze;const ue=tZ(F,W?void 0:I.subscription),ve=ue.notifyNestedSubs.bind(ue);return[ue,ve]},[F,W,I]),Y=v.useMemo(()=>W?I:{...I,subscription:M},[W,I,M]),ae=v.useRef(void 0),R=v.useRef(k),V=v.useRef(void 0),L=v.useRef(!1),K=v.useRef(!1),le=v.useRef(void 0);Cw(()=>(K.current=!0,()=>{K.current=!1}),[]);const me=v.useMemo(()=>()=>V.current&&k===R.current?V.current:P(F.getState(),k),[F,k]),B=v.useMemo(()=>ve=>M?Lze(x,F,M,P,R,ae,L,K,V,D,ve):()=>{},[M]);Fze($ze,[R,ae,L,k,V,D]);let X;try{X=v.useSyncExternalStore(B,me,T?()=>P(T(),k):me)}catch(ue){throw le.current&&(ue.message+=`
The error may be correlated with this previous error:
${le.current.stack}

`),ue}Cw(()=>{le.current=void 0,V.current=void 0,ae.current=X});const oe=v.useMemo(()=>v.createElement(g,{...X,ref:E}),[E,g,X]);return v.useMemo(()=>x?v.createElement(O.Provider,{value:Y},oe):oe,[O,oe,Y])}const _=v.memo(b);if(_.WrappedComponent=g,_.displayName=b.displayName=y,c){const A=v.forwardRef(function(k,O){return v.createElement(_,{...k,reactReduxForwardedRef:O})});return A.displayName=y,A.WrappedComponent=g,gP(A,g)}return gP(_,g)}}var sZ=Uze;function Vze(e){const{children:t,context:r,serverState:s,store:a}=e,i=v.useMemo(()=>{const c=tZ(a);return{store:a,subscription:c,getServerState:s?()=>s:void 0}},[a,s]),o=v.useMemo(()=>a.getState(),[a]);Cw(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||nZ;return v.createElement(l.Provider,{value:i},t)}var zze=Vze,Qo=function(t){var r=t.top,s=t.right,a=t.bottom,i=t.left,o=s-i,l=a-r,c={top:r,right:s,bottom:a,left:i,width:o,height:l,x:i,y:r,center:{x:(s+i)/2,y:(a+r)/2}};return c},U3=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},cL=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},Wze=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},dC={top:0,right:0,bottom:0,left:0},V3=function(t){var r=t.borderBox,s=t.margin,a=s===void 0?dC:s,i=t.border,o=i===void 0?dC:i,l=t.padding,c=l===void 0?dC:l,d=Qo(U3(r,a)),u=Qo(cL(r,o)),f=Qo(cL(u,c));return{marginBox:d,borderBox:Qo(r),paddingBox:u,contentBox:f,margin:a,border:o,padding:c}},to=function(t){var r=t.slice(0,-2),s=t.slice(-2);if(s!=="px")return 0;var a=Number(r);return isNaN(a)&&yu(),a},Hze=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Aw=function(t,r){var s=t.borderBox,a=t.border,i=t.margin,o=t.padding,l=Wze(s,r);return V3({borderBox:l,border:a,margin:i,padding:o})},Ew=function(t,r){return r===void 0&&(r=Hze()),Aw(t,r)},aZ=function(t,r){var s={top:to(r.marginTop),right:to(r.marginRight),bottom:to(r.marginBottom),left:to(r.marginLeft)},a={top:to(r.paddingTop),right:to(r.paddingRight),bottom:to(r.paddingBottom),left:to(r.paddingLeft)},i={top:to(r.borderTopWidth),right:to(r.borderRightWidth),bottom:to(r.borderBottomWidth),left:to(r.borderLeftWidth)};return V3({borderBox:t,margin:s,padding:a,border:i})},iZ=function(t){var r=t.getBoundingClientRect(),s=window.getComputedStyle(t);return aZ(r,s)},cv=function(t){var r=[],s=null,a=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];r=l,!s&&(s=requestAnimationFrame(function(){s=null,t.apply(void 0,r)}))};return a.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},a};function oZ(e,t){}oZ.bind(null,"warn");oZ.bind(null,"error");function lu(){}function qze(e,t){return{...e,...t}}function po(e,t,r){const s=t.map(a=>{const i=qze(r,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){s.forEach(i=>{i()})}}const Gze="Invariant failed";class Pw extends Error{}Pw.prototype.toString=function(){return this.message};function rt(e,t){throw new Pw(Gze)}class Kze extends z.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=lu,this.onWindowError=r=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),r.error instanceof Pw&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=po(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Pw){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Yze=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,kw=e=>e+1,Xze=e=>`
  You have lifted an item in position ${kw(e.source.index)}
`,lZ=(e,t)=>{const r=e.droppableId===t.droppableId,s=kw(e.index),a=kw(t.index);return r?`
      You have moved the item from position ${s}
      to position ${a}
    `:`
    You have moved the item from position ${s}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${a}
  `},cZ=(e,t,r)=>t.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,Qze=e=>{const t=e.destination;if(t)return lZ(e.source,t);const r=e.combine;return r?cZ(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},dL=e=>`
  The item has returned to its starting position
  of ${kw(e.index)}
`,Zze=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${dL(e.source)}
    `;const t=e.destination,r=e.combine;return t?`
      You have dropped the item.
      ${lZ(e.source,t)}
    `:r?`
      You have dropped the item.
      ${cZ(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${dL(e.source)}
  `},fb={dragHandleUsageInstructions:Yze,onDragStart:Xze,onDragUpdate:Qze,onDragEnd:Zze};function Jze(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function dZ(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Jze(e[r],t[r]))return!1;return!0}function lr(e,t){const r=v.useState(()=>({inputs:t,result:e()}))[0],s=v.useRef(!0),a=v.useRef(r),o=s.current||!!(t&&a.current.inputs&&dZ(t,a.current.inputs))?a.current:{inputs:t,result:e()};return v.useEffect(()=>{s.current=!1,a.current=o},[o]),o.result}function Nt(e,t){return lr(()=>e,t)}const Rs={x:0,y:0},Hs=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Ti=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),cu=(e,t)=>e.x===t.x&&e.y===t.y,fx=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),em=(e,t,r=0)=>e==="x"?{x:t,y:r}:{x:r,y:t},dv=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),uL=(e,t)=>Math.min(...t.map(r=>dv(e,r))),uZ=e=>t=>({x:e(t.x),y:e(t.y)});var eWe=(e,t)=>{const r=Qo({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r};const Ny=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),fL=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],tWe={top:0,right:0,bottom:0,left:0},rWe=(e,t)=>t?Ny(e,t.scroll.diff.displacement):e,nWe=(e,t,r)=>r&&r.increasedBy?{...e,[t.end]:e[t.end]+r.increasedBy[t.line]}:e,sWe=(e,t)=>t&&t.shouldClipSubject?eWe(t.pageMarginBox,e):Qo(e);var Tp=({page:e,withPlaceholder:t,axis:r,frame:s})=>{const a=rWe(e.marginBox,s),i=nWe(a,r,t),o=sWe(i,s);return{page:e,withPlaceholder:t,active:o}},z3=(e,t)=>{e.frame||rt();const r=e.frame,s=Ti(t,r.scroll.initial),a=fx(s),i={...r,scroll:{initial:r.scroll.initial,current:t,diff:{value:s,displacement:a},max:r.scroll.max}},o=Tp({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:o}};function Ts(e,t=dZ){let r=null;function s(...a){if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;const i=e.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return s.clear=function(){r=null},s}const fZ=Ts(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),mZ=Ts(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),X2=Ts(e=>Object.values(e)),aWe=Ts(e=>Object.values(e));var mx=Ts((e,t)=>aWe(t).filter(s=>e===s.descriptor.droppableId).sort((s,a)=>s.descriptor.index-a.descriptor.index));function W3(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Q2(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Z2=Ts((e,t)=>t.filter(r=>r.descriptor.id!==e.descriptor.id)),iWe=({isMovingForward:e,draggable:t,destination:r,insideDestination:s,previousImpact:a})=>{if(!r.isCombineEnabled||!W3(a))return null;function o(h){const x={type:"COMBINE",combine:{draggableId:h,droppableId:r.descriptor.id}};return{...a,at:x}}const l=a.displaced.all,c=l.length?l[0]:null;if(e)return c?o(c):null;const d=Z2(t,s);if(!c){if(!d.length)return null;const h=d[d.length-1];return o(h.descriptor.id)}const u=d.findIndex(h=>h.descriptor.id===c);u===-1&&rt();const f=u-1;if(f<0)return null;const m=d[f];return o(m.descriptor.id)},hx=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const hZ={point:Rs,value:0},uv={invisible:{},visible:{},all:[]},oWe={displaced:uv,displacedBy:hZ,at:null};var jo=(e,t)=>r=>e<=r&&r<=t,pZ=e=>{const t=jo(e.top,e.bottom),r=jo(e.left,e.right);return s=>{if(t(s.top)&&t(s.bottom)&&r(s.left)&&r(s.right))return!0;const i=t(s.top)||t(s.bottom),o=r(s.left)||r(s.right);if(i&&o)return!0;const c=s.top<e.top&&s.bottom>e.bottom,d=s.left<e.left&&s.right>e.right;return c&&d?!0:c&&o||d&&i}},lWe=e=>{const t=jo(e.top,e.bottom),r=jo(e.left,e.right);return s=>t(s.top)&&t(s.bottom)&&r(s.left)&&r(s.right)};const H3={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},xZ={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var cWe=e=>t=>{const r=jo(t.top,t.bottom),s=jo(t.left,t.right);return a=>e===H3?r(a.top)&&r(a.bottom):s(a.left)&&s(a.right)};const dWe=(e,t)=>{const r=t.frame?t.frame.scroll.diff.displacement:Rs;return Ny(e,r)},uWe=(e,t,r)=>t.subject.active?r(t.subject.active)(e):!1,fWe=(e,t,r)=>r(t)(e),q3=({target:e,destination:t,viewport:r,withDroppableDisplacement:s,isVisibleThroughFrameFn:a})=>{const i=s?dWe(e,t):e;return uWe(i,t,a)&&fWe(i,r,a)},mWe=e=>q3({...e,isVisibleThroughFrameFn:pZ}),gZ=e=>q3({...e,isVisibleThroughFrameFn:lWe}),hWe=e=>q3({...e,isVisibleThroughFrameFn:cWe(e.destination.axis)}),pWe=(e,t,r)=>{if(typeof r=="boolean")return r;if(!t)return!0;const{invisible:s,visible:a}=t;if(s[e])return!1;const i=a[e];return i?i.shouldAnimate:!0};function xWe(e,t){const r=e.page.marginBox,s={top:t.point.y,right:0,bottom:0,left:t.point.x};return Qo(U3(r,s))}function fv({afterDragging:e,destination:t,displacedBy:r,viewport:s,forceShouldAnimate:a,last:i}){return e.reduce(function(l,c){const d=xWe(c,r),u=c.descriptor.id;if(l.all.push(u),!mWe({target:d,destination:t,viewport:s,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const m=pWe(u,i,a),h={draggableId:u,shouldAnimate:m};return l.visible[u]=h,l},{all:[],visible:{},invisible:{}})}function gWe(e,t){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function mL({insideDestination:e,inHomeList:t,displacedBy:r,destination:s}){const a=gWe(e,{inHomeList:t});return{displaced:uv,displacedBy:r,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:a}}}}function Tw({draggable:e,insideDestination:t,destination:r,viewport:s,displacedBy:a,last:i,index:o,forceShouldAnimate:l}){const c=hx(e,r);if(o==null)return mL({insideDestination:t,inHomeList:c,displacedBy:a,destination:r});const d=t.find(x=>x.descriptor.index===o);if(!d)return mL({insideDestination:t,inHomeList:c,displacedBy:a,destination:r});const u=Z2(e,t),f=t.indexOf(d),m=u.slice(f);return{displaced:fv({afterDragging:m,destination:r,displacedBy:a,last:i,viewport:s.frame,forceShouldAnimate:l}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function ju(e,t){return!!t.effected[e]}var vWe=({isMovingForward:e,destination:t,draggables:r,combine:s,afterCritical:a})=>{if(!t.isCombineEnabled)return null;const i=s.draggableId,l=r[i].descriptor.index;return ju(i,a)?e?l:l-1:e?l+1:l},yWe=({isMovingForward:e,isInHomeList:t,insideDestination:r,location:s})=>{if(!r.length)return null;const a=s.index,i=e?a+1:a-1,o=r[0].descriptor.index,l=r[r.length-1].descriptor.index,c=t?l:l+1;return i<o||i>c?null:i},jWe=({isMovingForward:e,isInHomeList:t,draggable:r,draggables:s,destination:a,insideDestination:i,previousImpact:o,viewport:l,afterCritical:c})=>{const d=o.at;if(d||rt(),d.type==="REORDER"){const f=yWe({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:i});return f==null?null:Tw({draggable:r,insideDestination:i,destination:a,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:f})}const u=vWe({isMovingForward:e,destination:a,displaced:o.displaced,draggables:s,combine:d.combine,afterCritical:c});return u==null?null:Tw({draggable:r,insideDestination:i,destination:a,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:u})},bWe=({displaced:e,afterCritical:t,combineWith:r,displacedBy:s})=>{const a=!!(e.visible[r]||e.invisible[r]);return ju(r,t)?a?Rs:fx(s.point):a?s.point:Rs},wWe=({afterCritical:e,impact:t,draggables:r})=>{const s=Q2(t);s||rt();const a=s.draggableId,i=r[a].page.borderBox.center,o=bWe({displaced:t.displaced,afterCritical:e,combineWith:a,displacedBy:t.displacedBy});return Hs(i,o)};const vZ=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,NWe=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,G3=(e,t,r)=>t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,hL=({axis:e,moveRelativeTo:t,isMoving:r})=>em(e.line,t.marginBox[e.end]+vZ(e,r),G3(e,t.marginBox,r)),pL=({axis:e,moveRelativeTo:t,isMoving:r})=>em(e.line,t.marginBox[e.start]-NWe(e,r),G3(e,t.marginBox,r)),_We=({axis:e,moveInto:t,isMoving:r})=>em(e.line,t.contentBox[e.start]+vZ(e,r),G3(e,t.contentBox,r));var SWe=({impact:e,draggable:t,draggables:r,droppable:s,afterCritical:a})=>{const i=mx(s.descriptor.id,r),o=t.page,l=s.axis;if(!i.length)return _We({axis:l,moveInto:s.page,isMoving:o});const{displaced:c,displacedBy:d}=e,u=c.all[0];if(u){const m=r[u];if(ju(u,a))return pL({axis:l,moveRelativeTo:m.page,isMoving:o});const h=Aw(m.page,d.point);return pL({axis:l,moveRelativeTo:h,isMoving:o})}const f=i[i.length-1];if(f.descriptor.id===t.descriptor.id)return o.borderBox.center;if(ju(f.descriptor.id,a)){const m=Aw(f.page,fx(a.displacedBy.point));return hL({axis:l,moveRelativeTo:m,isMoving:o})}return hL({axis:l,moveRelativeTo:f.page,isMoving:o})},vP=(e,t)=>{const r=e.frame;return r?Hs(t,r.scroll.diff.displacement):t};const CWe=({impact:e,draggable:t,droppable:r,draggables:s,afterCritical:a})=>{const i=t.page.borderBox.center,o=e.at;return!r||!o?i:o.type==="REORDER"?SWe({impact:e,draggable:t,draggables:s,droppable:r,afterCritical:a}):wWe({impact:e,draggables:s,afterCritical:a})};var J2=e=>{const t=CWe(e),r=e.droppable;return r?vP(r,t):t},yZ=(e,t)=>{const r=Ti(t,e.scroll.initial),s=fx(r);return{frame:Qo({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:s}}}};function xL(e,t){return e.map(r=>t[r])}function AWe(e,t){for(let r=0;r<t.length;r++){const s=t[r].visible[e];if(s)return s}return null}var EWe=({impact:e,viewport:t,destination:r,draggables:s,maxScrollChange:a})=>{const i=yZ(t,Hs(t.scroll.current,a)),o=r.frame?z3(r,Hs(r.frame.scroll.current,a)):r,l=e.displaced,c=fv({afterDragging:xL(l.all,s),destination:r,displacedBy:e.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),d=fv({afterDragging:xL(l.all,s),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),u={},f={},m=[l,c,d];return l.all.forEach(x=>{const p=AWe(x,m);if(p){f[x]=p;return}u[x]=!0}),{...e,displaced:{all:l.all,invisible:u,visible:f}}},PWe=(e,t)=>Hs(e.scroll.diff.displacement,t),K3=({pageBorderBoxCenter:e,draggable:t,viewport:r})=>{const s=PWe(r,e),a=Ti(s,t.page.borderBox.center);return Hs(t.client.borderBox.center,a)},jZ=({draggable:e,destination:t,newPageBorderBoxCenter:r,viewport:s,withDroppableDisplacement:a,onlyOnMainAxis:i=!1})=>{const o=Ti(r,e.page.borderBox.center),c={target:Ny(e.page.borderBox,o),destination:t,withDroppableDisplacement:a,viewport:s};return i?hWe(c):gZ(c)},kWe=({isMovingForward:e,draggable:t,destination:r,draggables:s,previousImpact:a,viewport:i,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:c})=>{if(!r.isEnabled)return null;const d=mx(r.descriptor.id,s),u=hx(t,r),f=iWe({isMovingForward:e,draggable:t,destination:r,insideDestination:d,previousImpact:a})||jWe({isMovingForward:e,isInHomeList:u,draggable:t,draggables:s,destination:r,insideDestination:d,previousImpact:a,viewport:i,afterCritical:c});if(!f)return null;const m=J2({impact:f,draggable:t,droppable:r,draggables:s,afterCritical:c});if(jZ({draggable:t,destination:r,newPageBorderBoxCenter:m,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:K3({pageBorderBoxCenter:m,draggable:t,viewport:i}),impact:f,scrollJumpRequest:null};const x=Ti(m,o),p=EWe({impact:f,viewport:i,destination:r,draggables:s,maxScrollChange:x});return{clientSelection:l,impact:p,scrollJumpRequest:x}};const xa=e=>{const t=e.subject.active;return t||rt(),t};var TWe=({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:s,viewport:a})=>{const i=r.subject.active;if(!i)return null;const o=r.axis,l=jo(i[o.start],i[o.end]),c=X2(s).filter(u=>u!==r).filter(u=>u.isEnabled).filter(u=>!!u.subject.active).filter(u=>pZ(a.frame)(xa(u))).filter(u=>{const f=xa(u);return e?i[o.crossAxisEnd]<f[o.crossAxisEnd]:f[o.crossAxisStart]<i[o.crossAxisStart]}).filter(u=>{const f=xa(u),m=jo(f[o.start],f[o.end]);return l(f[o.start])||l(f[o.end])||m(i[o.start])||m(i[o.end])}).sort((u,f)=>{const m=xa(u)[o.crossAxisStart],h=xa(f)[o.crossAxisStart];return e?m-h:h-m}).filter((u,f,m)=>xa(u)[o.crossAxisStart]===xa(m[0])[o.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(u=>jo(xa(u)[o.start],xa(u)[o.end])(t[o.line]));return d.length===1?d[0]:d.length>1?d.sort((u,f)=>xa(u)[o.start]-xa(f)[o.start])[0]:c.sort((u,f)=>{const m=uL(t,fL(xa(u))),h=uL(t,fL(xa(f)));return m!==h?m-h:xa(u)[o.start]-xa(f)[o.start]})[0]};const gL=(e,t)=>{const r=e.page.borderBox.center;return ju(e.descriptor.id,t)?Ti(r,t.displacedBy.point):r},OWe=(e,t)=>{const r=e.page.borderBox;return ju(e.descriptor.id,t)?Ny(r,fx(t.displacedBy.point)):r};var DWe=({pageBorderBoxCenter:e,viewport:t,destination:r,insideDestination:s,afterCritical:a})=>s.filter(o=>gZ({target:OWe(o,a),destination:r,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const c=dv(e,vP(r,gL(o,a))),d=dv(e,vP(r,gL(l,a)));return c<d?-1:d<c?1:o.descriptor.index-l.descriptor.index})[0]||null,_y=Ts(function(t,r){const s=r[t.line];return{value:s,point:em(t.line,s)}});const IWe=(e,t,r)=>{const s=e.axis;if(e.descriptor.mode==="virtual")return em(s.line,t[s.line]);const a=e.subject.page.contentBox[s.size],c=mx(e.descriptor.id,r).reduce((d,u)=>d+u.client.marginBox[s.size],0)+t[s.line]-a;return c<=0?null:em(s.line,c)},bZ=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),wZ=(e,t,r)=>{const s=e.frame;hx(t,e)&&rt(),e.subject.withPlaceholder&&rt();const a=_y(e.axis,t.displaceBy).point,i=IWe(e,a,r),o={placeholderSize:a,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!s){const u=Tp({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:u}}const l=i?Hs(s.scroll.max,i):s.scroll.max,c=bZ(s,l),d=Tp({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:c});return{...e,subject:d,frame:c}},RWe=e=>{const t=e.subject.withPlaceholder;t||rt();const r=e.frame;if(!r){const o=Tp({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const s=t.oldFrameMaxScroll;s||rt();const a=bZ(r,s),i=Tp({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return{...e,subject:i,frame:a}};var MWe=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:r,draggable:s,draggables:a,destination:i,viewport:o,afterCritical:l})=>{if(!t){if(r.length)return null;const f={displaced:uv,displacedBy:hZ,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},m=J2({impact:f,draggable:s,droppable:i,draggables:a,afterCritical:l}),h=hx(s,i)?i:wZ(i,s,a);return jZ({draggable:s,destination:h,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const c=e[i.axis.line]<=t.page.borderBox.center[i.axis.line],d=(()=>{const f=t.descriptor.index;return t.descriptor.id===s.descriptor.id||c?f:f+1})(),u=_y(i.axis,s.displaceBy);return Tw({draggable:s,insideDestination:r,destination:i,viewport:o,displacedBy:u,last:uv,index:d})},FWe=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:r,isOver:s,draggables:a,droppables:i,viewport:o,afterCritical:l})=>{const c=TWe({isMovingForward:e,pageBorderBoxCenter:t,source:s,droppables:i,viewport:o});if(!c)return null;const d=mx(c.descriptor.id,a),u=DWe({pageBorderBoxCenter:t,viewport:o,destination:c,insideDestination:d,afterCritical:l}),f=MWe({previousPageBorderBoxCenter:t,destination:c,draggable:r,draggables:a,moveRelativeTo:u,insideDestination:d,viewport:o,afterCritical:l});if(!f)return null;const m=J2({impact:f,draggable:r,droppable:c,draggables:a,afterCritical:l});return{clientSelection:K3({pageBorderBoxCenter:m,draggable:r,viewport:o}),impact:f,scrollJumpRequest:null}},Fi=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const $We=(e,t)=>{const r=Fi(e);return r?t[r]:null};var LWe=({state:e,type:t})=>{const r=$We(e.impact,e.dimensions.droppables),s=!!r,a=e.dimensions.droppables[e.critical.droppable.id],i=r||a,o=i.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!s)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],u=e.current.page.borderBoxCenter,{draggables:f,droppables:m}=e.dimensions;return l?kWe({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,destination:i,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):FWe({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,isOver:i,draggables:f,droppables:m,viewport:e.viewport,afterCritical:e.afterCritical})};function Xu(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function NZ(e){const t=jo(e.top,e.bottom),r=jo(e.left,e.right);return function(a){return t(a.y)&&r(a.x)}}function BWe(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function UWe({pageBorderBox:e,draggable:t,candidates:r}){const s=t.page.borderBox.center,a=r.map(i=>{const o=i.axis,l=em(i.axis.line,e.center[o.line],i.page.borderBox.center[o.crossAxisLine]);return{id:i.descriptor.id,distance:dv(s,l)}}).sort((i,o)=>o.distance-i.distance);return a[0]?a[0].id:null}function VWe({pageBorderBox:e,draggable:t,droppables:r}){const s=X2(r).filter(a=>{if(!a.isEnabled)return!1;const i=a.subject.active;if(!i||!BWe(e,i))return!1;if(NZ(i)(e.center))return!0;const o=a.axis,l=i.center[o.crossAxisLine],c=e[o.crossAxisStart],d=e[o.crossAxisEnd],u=jo(i[o.crossAxisStart],i[o.crossAxisEnd]),f=u(c),m=u(d);return!f&&!m?!0:f?c<l:d>l});return s.length?s.length===1?s[0].descriptor.id:UWe({pageBorderBox:e,draggable:t,candidates:s}):null}const _Z=(e,t)=>Qo(Ny(e,t));var zWe=(e,t)=>{const r=e.frame;return r?_Z(t,r.scroll.diff.value):t};function SZ({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function WWe({draggable:e,closest:t,inHomeList:r}){return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var HWe=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:r,insideDestination:s,last:a,viewport:i,afterCritical:o})=>{const l=r.axis,c=_y(r.axis,t.displaceBy),d=c.value,u=e[l.start],f=e[l.end],h=Z2(t,s).find(p=>{const g=p.descriptor.id,j=p.page.borderBox.center[l.line],y=ju(g,o),w=SZ({displaced:a,id:g});return y?w?f<=j:u<j-d:w?f<=j+d:u<j})||null,x=WWe({draggable:t,closest:h,inHomeList:hx(t,r)});return Tw({draggable:t,insideDestination:s,destination:r,viewport:i,last:a,displacedBy:c,index:x})};const qWe=4;var GWe=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:r,destination:s,insideDestination:a,afterCritical:i})=>{if(!s.isCombineEnabled)return null;const o=s.axis,l=_y(s.axis,e.displaceBy),c=l.value,d=t[o.start],u=t[o.end],m=Z2(e,a).find(x=>{const p=x.descriptor.id,g=x.page.borderBox,y=g[o.size]/qWe,w=ju(p,i),b=SZ({displaced:r.displaced,id:p});return w?b?u>g[o.start]+y&&u<g[o.end]-y:d>g[o.start]-c+y&&d<g[o.end]-c-y:b?u>g[o.start]+c+y&&u<g[o.end]+c-y:d>g[o.start]+y&&d<g[o.end]-y});return m?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:s.descriptor.id}}}:null},CZ=({pageOffset:e,draggable:t,draggables:r,droppables:s,previousImpact:a,viewport:i,afterCritical:o})=>{const l=_Z(t.page.borderBox,e),c=VWe({pageBorderBox:l,draggable:t,droppables:s});if(!c)return oWe;const d=s[c],u=mx(d.descriptor.id,r),f=zWe(d,l);return GWe({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:a,destination:d,insideDestination:u,afterCritical:o})||HWe({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:d,insideDestination:u,last:a.displaced,viewport:i,afterCritical:o})},Y3=(e,t)=>({...e,[t.descriptor.id]:t});const KWe=({previousImpact:e,impact:t,droppables:r})=>{const s=Fi(e),a=Fi(t);if(!s||s===a)return r;const i=r[s];if(!i.subject.withPlaceholder)return r;const o=RWe(i);return Y3(r,o)};var YWe=({draggable:e,draggables:t,droppables:r,previousImpact:s,impact:a})=>{const i=KWe({previousImpact:s,impact:a,droppables:r}),o=Fi(a);if(!o)return i;const l=r[o];if(hx(e,l)||l.subject.withPlaceholder)return i;const c=wZ(l,e,t);return Y3(i,c)},Lg=({state:e,clientSelection:t,dimensions:r,viewport:s,impact:a,scrollJumpRequest:i})=>{const o=s||e.viewport,l=r||e.dimensions,c=t||e.current.client.selection,d=Ti(c,e.initial.client.selection),u={offset:d,selection:c,borderBoxCenter:Hs(e.initial.client.borderBoxCenter,d)},f={selection:Hs(u.selection,o.scroll.current),borderBoxCenter:Hs(u.borderBoxCenter,o.scroll.current),offset:Hs(u.offset,o.scroll.diff.value)},m={client:u,page:f};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:m};const h=l.draggables[e.critical.draggable.id],x=a||CZ({pageOffset:f.offset,draggable:h,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),p=YWe({draggable:h,impact:x,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:m,dimensions:{draggables:l.draggables,droppables:p},impact:x,viewport:o,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function XWe(e,t){return e.map(r=>t[r])}var AZ=({impact:e,viewport:t,draggables:r,destination:s,forceShouldAnimate:a})=>{const i=e.displaced,o=XWe(i.all,r),l=fv({afterDragging:o,destination:s,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:a,last:i});return{...e,displaced:l}},EZ=({impact:e,draggable:t,droppable:r,draggables:s,viewport:a,afterCritical:i})=>{const o=J2({impact:e,draggable:t,draggables:s,droppable:r,afterCritical:i});return K3({pageBorderBoxCenter:o,draggable:t,viewport:a})},PZ=({state:e,dimensions:t,viewport:r})=>{e.movementMode!=="SNAP"&&rt();const s=e.impact,a=r||e.viewport,i=t||e.dimensions,{draggables:o,droppables:l}=i,c=o[e.critical.draggable.id],d=Fi(s);d||rt();const u=l[d],f=AZ({impact:s,viewport:a,destination:u,draggables:o}),m=EZ({impact:f,draggable:c,droppable:u,draggables:o,viewport:a,afterCritical:e.afterCritical});return Lg({impact:f,clientSelection:m,state:e,dimensions:i,viewport:a})},QWe=e=>({index:e.index,droppableId:e.droppableId}),kZ=({draggable:e,home:t,draggables:r,viewport:s})=>{const a=_y(t.axis,e.displaceBy),i=mx(t.descriptor.id,r),o=i.indexOf(e);o===-1&&rt();const l=i.slice(o+1),c=l.reduce((m,h)=>(m[h.descriptor.id]=!0,m),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:a,effected:c};return{impact:{displaced:fv({afterDragging:l,destination:t,displacedBy:a,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:QWe(e.descriptor)}},afterCritical:d}},ZWe=(e,t)=>({draggables:e.draggables,droppables:Y3(e.droppables,t)}),JWe=({draggable:e,offset:t,initialWindowScroll:r})=>{const s=Aw(e.client,t),a=Ew(s,r);return{...e,placeholder:{...e.placeholder,client:s},client:s,page:a}},eHe=e=>{const t=e.frame;return t||rt(),t},tHe=({additions:e,updatedDroppables:t,viewport:r})=>{const s=r.scroll.diff.value;return e.map(a=>{const i=a.descriptor.droppableId,o=t[i],c=eHe(o).scroll.diff.value,d=Hs(s,c);return JWe({draggable:a,offset:d,initialWindowScroll:r.scroll.initial})})},rHe=({state:e,published:t})=>{const r=t.modified.map(j=>{const y=e.dimensions.droppables[j.droppableId];return z3(y,j.scroll)}),s={...e.dimensions.droppables,...fZ(r)},a=mZ(tHe({additions:t.additions,updatedDroppables:s,viewport:e.viewport})),i={...e.dimensions.draggables,...a};t.removals.forEach(j=>{delete i[j]});const o={droppables:s,draggables:i},l=Fi(e.impact),c=l?o.droppables[l]:null,d=o.draggables[e.critical.draggable.id],u=o.droppables[e.critical.droppable.id],{impact:f,afterCritical:m}=kZ({draggable:d,home:u,draggables:i,viewport:e.viewport}),h=c&&c.isCombineEnabled?e.impact:f,x=CZ({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:h,viewport:e.viewport,afterCritical:m}),p={...e,phase:"DRAGGING",impact:x,onLiftImpact:f,dimensions:o,afterCritical:m,forceShouldAnimate:!1};return e.phase==="COLLECTING"?p:{...p,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const yP=e=>e.movementMode==="SNAP",uC=(e,t,r)=>{const s=ZWe(e.dimensions,t);return!yP(e)||r?Lg({state:e,dimensions:s}):PZ({state:e,dimensions:s})};function fC(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const vL={phase:"IDLE",completed:null,shouldFlush:!1};var nHe=(e=vL,t)=>{if(t.type==="FLUSH")return{...vL,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&rt();const{critical:r,clientSelection:s,viewport:a,dimensions:i,movementMode:o}=t.payload,l=i.draggables[r.draggable.id],c=i.droppables[r.droppable.id],d={selection:s,borderBoxCenter:l.client.borderBox.center,offset:Rs},u={client:d,page:{selection:Hs(d.selection,a.scroll.initial),borderBoxCenter:Hs(d.selection,a.scroll.initial),offset:Hs(d.selection,a.scroll.diff.value)}},f=X2(i.droppables).every(p=>!p.isFixedOnPage),{impact:m,afterCritical:h}=kZ({draggable:l,home:c,draggables:i.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:o,dimensions:i,initial:u,current:u,isWindowScrollAllowed:f,impact:m,afterCritical:h,onLiftImpact:m,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&rt(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||rt(),rHe({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Xu(e)||rt();const{client:r}=t.payload;return cu(r,e.current.client.selection)?e:Lg({state:e,clientSelection:r,impact:yP(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return fC(e);Xu(e)||rt();const{id:r,newScroll:s}=t.payload,a=e.dimensions.droppables[r];if(!a)return e;const i=z3(a,s);return uC(e,i,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Xu(e)||rt();const{id:r,isEnabled:s}=t.payload,a=e.dimensions.droppables[r];a||rt(),a.isEnabled===s&&rt();const i={...a,isEnabled:s};return uC(e,i,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Xu(e)||rt();const{id:r,isCombineEnabled:s}=t.payload,a=e.dimensions.droppables[r];a||rt(),a.isCombineEnabled===s&&rt();const i={...a,isCombineEnabled:s};return uC(e,i,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Xu(e)||rt(),e.isWindowScrollAllowed||rt();const r=t.payload.newScroll;if(cu(e.viewport.scroll.current,r))return fC(e);const s=yZ(e.viewport,r);return yP(e)?PZ({state:e,viewport:s}):Lg({state:e,viewport:s})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Xu(e))return e;const r=t.payload.maxScroll;if(cu(r,e.viewport.scroll.max))return e;const s={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:s}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&rt();const r=LWe({state:e,type:t.type});return r?Lg({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const r=t.payload.reason;return e.phase!=="COLLECTING"&&rt(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(t.type==="DROP_ANIMATE"){const{completed:r,dropDuration:s,newHomeClientOffset:a}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||rt(),{phase:"DROP_ANIMATING",completed:r,dropDuration:s,newHomeClientOffset:a,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:r}=t.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};function Sr(e,t){return e instanceof Object&&"type"in e&&e.type===t}const sHe=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),aHe=e=>({type:"LIFT",payload:e}),iHe=e=>({type:"INITIAL_PUBLISH",payload:e}),oHe=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),lHe=()=>({type:"COLLECTION_STARTING",payload:null}),cHe=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),dHe=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),uHe=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),TZ=e=>({type:"MOVE",payload:e}),fHe=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),mHe=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),hHe=()=>({type:"MOVE_UP",payload:null}),pHe=()=>({type:"MOVE_DOWN",payload:null}),xHe=()=>({type:"MOVE_RIGHT",payload:null}),gHe=()=>({type:"MOVE_LEFT",payload:null}),X3=()=>({type:"FLUSH",payload:null}),vHe=e=>({type:"DROP_ANIMATE",payload:e}),Q3=e=>({type:"DROP_COMPLETE",payload:e}),OZ=e=>({type:"DROP",payload:e}),yHe=e=>({type:"DROP_PENDING",payload:e}),DZ=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var jHe=e=>({getState:t,dispatch:r})=>s=>a=>{if(!Sr(a,"LIFT")){s(a);return}const{id:i,clientSelection:o,movementMode:l}=a.payload,c=t();c.phase==="DROP_ANIMATING"&&r(Q3({completed:c.completed})),t().phase!=="IDLE"&&rt(),r(X3()),r(sHe({draggableId:i,movementMode:l}));const u={draggableId:i,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:f,dimensions:m,viewport:h}=e.startPublishing(u);r(iHe({critical:f,dimensions:m,clientSelection:o,movementMode:l,viewport:h}))},bHe=e=>()=>t=>r=>{Sr(r,"INITIAL_PUBLISH")&&e.dragging(),Sr(r,"DROP_ANIMATE")&&e.dropping(r.payload.completed.result.reason),(Sr(r,"FLUSH")||Sr(r,"DROP_COMPLETE"))&&e.resting(),t(r)};const Z3={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},mv={opacity:{drop:0,combining:.7},scale:{drop:.75}},IZ={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},zu=`${IZ.outOfTheWay}s ${Z3.outOfTheWay}`,Bg={fluid:`opacity ${zu}`,snap:`transform ${zu}, opacity ${zu}`,drop:e=>{const t=`${e}s ${Z3.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${zu}`,placeholder:`height ${zu}, width ${zu}, margin ${zu}`},yL=e=>cu(e,Rs)?void 0:`translate(${e.x}px, ${e.y}px)`,jP={moveTo:yL,drop:(e,t)=>{const r=yL(e);if(r)return t?`${r} scale(${mv.scale.drop})`:r}},{minDropTime:bP,maxDropTime:RZ}=IZ,wHe=RZ-bP,jL=1500,NHe=.6;var _He=({current:e,destination:t,reason:r})=>{const s=dv(e,t);if(s<=0)return bP;if(s>=jL)return RZ;const a=s/jL,i=bP+wHe*a,o=r==="CANCEL"?i*NHe:i;return Number(o.toFixed(2))},SHe=({impact:e,draggable:t,dimensions:r,viewport:s,afterCritical:a})=>{const{draggables:i,droppables:o}=r,l=Fi(e),c=l?o[l]:null,d=o[t.descriptor.droppableId],u=EZ({impact:e,draggable:t,draggables:i,afterCritical:a,droppable:c||d,viewport:s});return Ti(u,t.client.borderBox.center)},CHe=({draggables:e,reason:t,lastImpact:r,home:s,viewport:a,onLiftImpact:i})=>!r.at||t!=="DROP"?{impact:AZ({draggables:e,impact:i,destination:s,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:uv},didDropInsideDroppable:!0};const AHe=({getState:e,dispatch:t})=>r=>s=>{if(!Sr(s,"DROP")){r(s);return}const a=e(),i=s.payload.reason;if(a.phase==="COLLECTING"){t(yHe({reason:i}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&rt(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||rt();const l=a.critical,c=a.dimensions,d=c.draggables[a.critical.draggable.id],{impact:u,didDropInsideDroppable:f}=CHe({reason:i,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),m=f?W3(u):null,h=f?Q2(u):null,x={index:l.draggable.index,droppableId:l.droppable.id},p={draggableId:d.descriptor.id,type:d.descriptor.type,source:x,reason:i,mode:a.movementMode,destination:m,combine:h},g=SHe({impact:u,draggable:d,dimensions:c,viewport:a.viewport,afterCritical:a.afterCritical}),j={critical:a.critical,afterCritical:a.afterCritical,result:p,impact:u};if(!(!cu(a.current.client.offset,g)||!!p.combine)){t(Q3({completed:j}));return}const w=_He({current:a.current.client.offset,destination:g,reason:i});t(vHe({newHomeClientOffset:g,dropDuration:w,completed:j}))};var MZ=()=>({x:window.pageXOffset,y:window.pageYOffset});function EHe(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function PHe({onWindowScroll:e}){function t(){e(MZ())}const r=cv(t),s=EHe(r);let a=lu;function i(){return a!==lu}function o(){i()&&rt(),a=po(window,[s])}function l(){i()||rt(),r.cancel(),a(),a=lu}return{start:o,stop:l,isActive:i}}const kHe=e=>Sr(e,"DROP_COMPLETE")||Sr(e,"DROP_ANIMATE")||Sr(e,"FLUSH"),THe=e=>{const t=PHe({onWindowScroll:r=>{e.dispatch(fHe({newScroll:r}))}});return r=>s=>{!t.isActive()&&Sr(s,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&kHe(s)&&t.stop(),r(s)}};var OHe=e=>{let t=!1,r=!1;const s=setTimeout(()=>{r=!0}),a=i=>{t||r||(t=!0,e(i),clearTimeout(s))};return a.wasCalled=()=>t,a},DHe=()=>{const e=[],t=a=>{const i=e.findIndex(l=>l.timerId===a);i===-1&&rt();const[o]=e.splice(i,1);o.callback()};return{add:a=>{const i=setTimeout(()=>t(i)),o={timerId:i,callback:a};e.push(o)},flush:()=>{if(!e.length)return;const a=[...e];e.length=0,a.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const IHe=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,RHe=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,MHe=(e,t)=>{if(e===t)return!0;const r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,s=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&s},Zx=(e,t)=>{t()},Pj=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function mC(e,t,r,s){if(!e){r(s(t));return}const a=OHe(r);e(t,{announce:a}),a.wasCalled()||r(s(t))}var FHe=(e,t)=>{const r=DHe();let s=null;const a=(f,m)=>{s&&rt(),Zx("onBeforeCapture",()=>{const h=e().onBeforeCapture;h&&h({draggableId:f,mode:m})})},i=(f,m)=>{s&&rt(),Zx("onBeforeDragStart",()=>{const h=e().onBeforeDragStart;h&&h(Pj(f,m))})},o=(f,m)=>{s&&rt();const h=Pj(f,m);s={mode:m,lastCritical:f,lastLocation:h.source,lastCombine:null},r.add(()=>{Zx("onDragStart",()=>mC(e().onDragStart,h,t,fb.onDragStart))})},l=(f,m)=>{const h=W3(m),x=Q2(m);s||rt();const p=!MHe(f,s.lastCritical);p&&(s.lastCritical=f);const g=!IHe(s.lastLocation,h);g&&(s.lastLocation=h);const j=!RHe(s.lastCombine,x);if(j&&(s.lastCombine=x),!p&&!g&&!j)return;const y={...Pj(f,s.mode),combine:x,destination:h};r.add(()=>{Zx("onDragUpdate",()=>mC(e().onDragUpdate,y,t,fb.onDragUpdate))})},c=()=>{s||rt(),r.flush()},d=f=>{s||rt(),s=null,Zx("onDragEnd",()=>mC(e().onDragEnd,f,t,fb.onDragEnd))};return{beforeCapture:a,beforeStart:i,start:o,update:l,flush:c,drop:d,abort:()=>{if(!s)return;const f={...Pj(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};d(f)}}},$He=(e,t)=>{const r=FHe(e,t);return s=>a=>i=>{if(Sr(i,"BEFORE_INITIAL_CAPTURE")){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(Sr(i,"INITIAL_PUBLISH")){const l=i.payload.critical;r.beforeStart(l,i.payload.movementMode),a(i),r.start(l,i.payload.movementMode);return}if(Sr(i,"DROP_COMPLETE")){const l=i.payload.completed.result;r.flush(),a(i),r.drop(l);return}if(a(i),Sr(i,"FLUSH")){r.abort();return}const o=s.getState();o.phase==="DRAGGING"&&r.update(o.critical,o.impact)}};const LHe=e=>t=>r=>{if(!Sr(r,"DROP_ANIMATION_FINISHED")){t(r);return}const s=e.getState();s.phase!=="DROP_ANIMATING"&&rt(),e.dispatch(Q3({completed:s.completed}))},BHe=e=>{let t=null,r=null;function s(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return a=>i=>{if((Sr(i,"FLUSH")||Sr(i,"DROP_COMPLETE")||Sr(i,"DROP_ANIMATION_FINISHED"))&&s(),a(i),!Sr(i,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(DZ())}};r=requestAnimationFrame(()=>{r=null,t=po(window,[o])})}};var UHe=e=>()=>t=>r=>{(Sr(r,"DROP_COMPLETE")||Sr(r,"FLUSH")||Sr(r,"DROP_ANIMATE"))&&e.stopPublishing(),t(r)},VHe=e=>{let t=!1;return()=>r=>s=>{if(Sr(s,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(s.payload.critical.draggable.id),r(s),e.tryRestoreFocusRecorded();return}if(r(s),!!t){if(Sr(s,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Sr(s,"DROP_COMPLETE")){t=!1;const a=s.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const zHe=e=>Sr(e,"DROP_COMPLETE")||Sr(e,"DROP_ANIMATE")||Sr(e,"FLUSH");var WHe=e=>t=>r=>s=>{if(zHe(s)){e.stop(),r(s);return}if(Sr(s,"INITIAL_PUBLISH")){r(s);const a=t.getState();a.phase!=="DRAGGING"&&rt(),e.start(a);return}r(s),e.scroll(t.getState())};const HHe=e=>t=>r=>{if(t(r),!Sr(r,"PUBLISH_WHILE_DRAGGING"))return;const s=e.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||e.dispatch(OZ({reason:s.reason})))},qHe=ZQ;var GHe=({dimensionMarshal:e,focusMarshal:t,styleMarshal:r,getResponders:s,announce:a,autoScroller:i})=>QQ(nHe,qHe(VVe(bHe(r),UHe(e),jHe(e),AHe,LHe,BHe,HHe,WHe(i),THe,VHe(t),$He(s,a))));const hC=()=>({additions:{},removals:{},modified:{}});function KHe({registry:e,callbacks:t}){let r=hC(),s=null;const a=()=>{s||(t.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:c,removals:d,modified:u}=r,f=Object.keys(c).map(x=>e.draggable.getById(x).getDimension(Rs)).sort((x,p)=>x.descriptor.index-p.descriptor.index),m=Object.keys(u).map(x=>{const g=e.droppable.getById(x).callbacks.getScrollWhileDragging();return{droppableId:x,scroll:g}}),h={additions:f,removals:Object.keys(d),modified:m};r=hC(),t.publish(h)}))};return{add:c=>{const d=c.descriptor.id;r.additions[d]=c,r.modified[c.descriptor.droppableId]=!0,r.removals[d]&&delete r.removals[d],a()},remove:c=>{const d=c.descriptor;r.removals[d.id]=!0,r.modified[d.droppableId]=!0,r.additions[d.id]&&delete r.additions[d.id],a()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,r=hC())}}}var FZ=({scrollHeight:e,scrollWidth:t,height:r,width:s})=>{const a=Ti({x:t,y:e},{x:s,y:r});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},$Z=()=>{const e=document.documentElement;return e||rt(),e},LZ=()=>{const e=$Z();return FZ({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},YHe=()=>{const e=MZ(),t=LZ(),r=e.y,s=e.x,a=$Z(),i=a.clientWidth,o=a.clientHeight,l=s+i,c=r+o;return{frame:Qo({top:r,left:s,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:Rs,displacement:Rs}}}},XHe=({critical:e,scrollOptions:t,registry:r})=>{const s=YHe(),a=s.scroll.current,i=e.droppable,o=r.droppable.getAllByType(i.type).map(u=>u.callbacks.getDimensionAndWatchScroll(a,t)),l=r.draggable.getAllByType(e.draggable.type).map(u=>u.getDimension(a));return{dimensions:{draggables:mZ(l),droppables:fZ(o)},critical:e,viewport:s}};function bL(e,t,r){return!(r.descriptor.id===t.id||r.descriptor.type!==t.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var QHe=(e,t)=>{let r=null;const s=KHe({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=(m,h)=>{e.droppable.exists(m)||rt(),r&&t.updateDroppableIsEnabled({id:m,isEnabled:h})},i=(m,h)=>{r&&(e.droppable.exists(m)||rt(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:h}))},o=(m,h)=>{r&&(e.droppable.exists(m)||rt(),t.updateDroppableScroll({id:m,newScroll:h}))},l=(m,h)=>{r&&e.droppable.getById(m).callbacks.scroll(h)},c=()=>{if(!r)return;s.stop();const m=r.critical.droppable;e.droppable.getAllByType(m.type).forEach(h=>h.callbacks.dragStopped()),r.unsubscribe(),r=null},d=m=>{r||rt();const h=r.critical.draggable;m.type==="ADDITION"&&bL(e,h,m.value)&&s.add(m.value),m.type==="REMOVAL"&&bL(e,h,m.value)&&s.remove(m.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:m=>{r&&rt();const h=e.draggable.getById(m.draggableId),x=e.droppable.getById(h.descriptor.droppableId),p={draggable:h.descriptor,droppable:x.descriptor},g=e.subscribe(d);return r={critical:p,unsubscribe:g},XHe({critical:p,registry:e,scrollOptions:m.scrollOptions})},stopPublishing:c}},BZ=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",ZHe=e=>{window.scrollBy(e.x,e.y)};const JHe=Ts(e=>X2(e).filter(t=>!(!t.isEnabled||!t.frame))),eqe=(e,t)=>JHe(t).find(s=>(s.frame||rt(),NZ(s.frame.pageMarginBox)(e)))||null;var tqe=({center:e,destination:t,droppables:r})=>{if(t){const a=r[t];return a.frame?a:null}return eqe(e,r)};const hv={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var rqe=(e,t,r=()=>hv)=>{const s=r(),a=e[t.size]*s.startFromPercentage,i=e[t.size]*s.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:i}},UZ=({startOfRange:e,endOfRange:t,current:r})=>{const s=t-e;return s===0?0:(r-e)/s},J3=1,nqe=(e,t,r=()=>hv)=>{const s=r();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return s.maxPixelScroll;if(e===t.startScrollingFrom)return J3;const i=1-UZ({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=s.maxPixelScroll*s.ease(i);return Math.ceil(o)},sqe=(e,t,r)=>{const s=r(),a=s.durationDampening.accelerateAt,i=s.durationDampening.stopDampeningAt,o=t,l=i,d=Date.now()-o;if(d>=i)return e;if(d<a)return J3;const u=UZ({startOfRange:a,endOfRange:l,current:d}),f=e*s.ease(u);return Math.ceil(f)},wL=({distanceToEdge:e,thresholds:t,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:a})=>{const i=nqe(e,t,a);return i===0?0:s?Math.max(sqe(i,r,a),J3):i},NL=({container:e,distanceToEdges:t,dragStartTime:r,axis:s,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o=rqe(e,s,i);return t[s.end]<t[s.start]?wL({distanceToEdge:t[s.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i}):-1*wL({distanceToEdge:t[s.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i})},aqe=({container:e,subject:t,proposedScroll:r})=>{const s=t.height>e.height,a=t.width>e.width;return!a&&!s?r:a&&s?null:{x:a?0:r.x,y:s?0:r.y}};const iqe=uZ(e=>e===0?0:e);var VZ=({dragStartTime:e,container:t,subject:r,center:s,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o={top:s.y-t.top,right:t.right-s.x,bottom:t.bottom-s.y,left:s.x-t.left},l=NL({container:t,distanceToEdges:o,dragStartTime:e,axis:H3,shouldUseTimeDampening:a,getAutoScrollerOptions:i}),c=NL({container:t,distanceToEdges:o,dragStartTime:e,axis:xZ,shouldUseTimeDampening:a,getAutoScrollerOptions:i}),d=iqe({x:c,y:l});if(cu(d,Rs))return null;const u=aqe({container:t,subject:r,proposedScroll:d});return u?cu(u,Rs)?null:u:null};const oqe=uZ(e=>e===0?0:e>0?1:-1),eD=(()=>{const e=(t,r)=>t<0?t:t>r?t-r:0;return({current:t,max:r,change:s})=>{const a=Hs(t,s),i={x:e(a.x,r.x),y:e(a.y,r.y)};return cu(i,Rs)?null:i}})(),zZ=({max:e,current:t,change:r})=>{const s={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},a=oqe(r),i=eD({max:s,current:t,change:a});return!i||a.x!==0&&i.x===0||a.y!==0&&i.y===0},tD=(e,t)=>zZ({current:e.scroll.current,max:e.scroll.max,change:t}),lqe=(e,t)=>{if(!tD(e,t))return null;const r=e.scroll.max,s=e.scroll.current;return eD({current:s,max:r,change:t})},rD=(e,t)=>{const r=e.frame;return r?zZ({current:r.scroll.current,max:r.scroll.max,change:t}):!1},cqe=(e,t)=>{const r=e.frame;return!r||!rD(e,t)?null:eD({current:r.scroll.current,max:r.scroll.max,change:t})};var dqe=({viewport:e,subject:t,center:r,dragStartTime:s,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o=VZ({dragStartTime:s,container:e.frame,subject:t,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i});return o&&tD(e,o)?o:null},uqe=({droppable:e,subject:t,center:r,dragStartTime:s,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o=e.frame;if(!o)return null;const l=VZ({dragStartTime:s,container:o.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i});return l&&rD(e,l)?l:null},_L=({state:e,dragStartTime:t,shouldUseTimeDampening:r,scrollWindow:s,scrollDroppable:a,getAutoScrollerOptions:i})=>{const o=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const f=e.viewport,m=dqe({dragStartTime:t,viewport:f,subject:c,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:i});if(m){s(m);return}}const d=tqe({center:o,destination:Fi(e.impact),droppables:e.dimensions.droppables});if(!d)return;const u=uqe({dragStartTime:t,droppable:d,subject:c,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:i});u&&a(d.descriptor.id,u)},fqe=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r=()=>hv})=>{const s=cv(e),a=cv(t);let i=null;const o=d=>{i||rt();const{shouldUseTimeDampening:u,dragStartTime:f}=i;_L({state:d,scrollWindow:s,scrollDroppable:a,dragStartTime:f,shouldUseTimeDampening:u,getAutoScrollerOptions:r})};return{start:d=>{i&&rt();const u=Date.now();let f=!1;const m=()=>{f=!0};_L({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m,getAutoScrollerOptions:r}),i={dragStartTime:u,shouldUseTimeDampening:f},f&&o(d)},stop:()=>{i&&(s.cancel(),a.cancel(),i=null)},scroll:o}},mqe=({move:e,scrollDroppable:t,scrollWindow:r})=>{const s=(l,c)=>{const d=Hs(l.current.client.selection,c);e({client:d})},a=(l,c)=>{if(!rD(l,c))return c;const d=cqe(l,c);if(!d)return t(l.descriptor.id,c),null;const u=Ti(c,d);return t(l.descriptor.id,u),Ti(c,u)},i=(l,c,d)=>{if(!l||!tD(c,d))return d;const u=lqe(c,d);if(!u)return r(d),null;const f=Ti(d,u);return r(f),Ti(d,f)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const d=Fi(l.impact);d||rt();const u=a(l.dimensions.droppables[d],c);if(!u)return;const f=l.viewport,m=i(l.isWindowScrollAllowed,f,u);m&&s(l,m)}},hqe=({scrollDroppable:e,scrollWindow:t,move:r,getAutoScrollerOptions:s})=>{const a=fqe({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:s}),i=mqe({move:r,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(s().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){a.scroll(c);return}c.scrollJumpRequest&&i(c)}},start:a.start,stop:a.stop}};const Op="data-rfd",Dp=(()=>{const e=`${Op}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),wP=(()=>{const e=`${Op}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),pqe=(()=>{const e=`${Op}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),SL={contextId:`${Op}-scroll-container-context-id`},xqe=e=>t=>`[${t}="${e}"]`,Jx=(e,t)=>e.map(r=>{const s=r.styles[t];return s?`${r.selector} { ${s} }`:""}).join(" "),gqe="pointer-events: none;";var vqe=e=>{const t=xqe(e),r=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Dp.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:gqe,dropAnimating:l}}})(),s=(()=>{const l=`
      transition: ${Bg.outOfTheWay};
    `;return{selector:t(wP.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),a={selector:t(pqe.contextId),styles:{always:"overflow-anchor: none;"}},o=[s,r,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Jx(o,"always"),resting:Jx(o,"resting"),dragging:Jx(o,"dragging"),dropAnimating:Jx(o,"dropAnimating"),userCancel:Jx(o,"userCancel")}};const $i=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect,pC=()=>{const e=document.querySelector("head");return e||rt(),e},CL=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function yqe(e,t){const r=lr(()=>vqe(e),[e]),s=v.useRef(null),a=v.useRef(null),i=Nt(Ts(f=>{const m=a.current;m||rt(),m.textContent=f}),[]),o=Nt(f=>{const m=s.current;m||rt(),m.textContent=f},[]);$i(()=>{!s.current&&!a.current||rt();const f=CL(t),m=CL(t);return s.current=f,a.current=m,f.setAttribute(`${Op}-always`,e),m.setAttribute(`${Op}-dynamic`,e),pC().appendChild(f),pC().appendChild(m),o(r.always),i(r.resting),()=>{const h=x=>{const p=x.current;p||rt(),pC().removeChild(p),x.current=null};h(s),h(a)}},[t,o,i,r.always,r.resting,e]);const l=Nt(()=>i(r.dragging),[i,r.dragging]),c=Nt(f=>{if(f==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),d=Nt(()=>{a.current&&i(r.resting)},[i,r.resting]);return lr(()=>({dragging:l,dropping:c,resting:d}),[l,c,d])}function WZ(e,t){return Array.from(e.querySelectorAll(t))}var HZ=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function e_(e){return e instanceof HZ(e).HTMLElement}function jqe(e,t){const r=`[${Dp.contextId}="${e}"]`,s=WZ(document,r);if(!s.length)return null;const a=s.find(i=>i.getAttribute(Dp.draggableId)===t);return!a||!e_(a)?null:a}function bqe(e){const t=v.useRef({}),r=v.useRef(null),s=v.useRef(null),a=v.useRef(!1),i=Nt(function(m,h){const x={id:m,focus:h};return t.current[m]=x,function(){const g=t.current;g[m]!==x&&delete g[m]}},[]),o=Nt(function(m){const h=jqe(e,m);h&&h!==document.activeElement&&h.focus()},[e]),l=Nt(function(m,h){r.current===m&&(r.current=h)},[]),c=Nt(function(){s.current||a.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const m=r.current;m&&o(m)}))},[o]),d=Nt(function(m){r.current=null;const h=document.activeElement;h&&h.getAttribute(Dp.draggableId)===m&&(r.current=m)},[]);return $i(()=>(a.current=!0,function(){a.current=!1;const m=s.current;m&&cancelAnimationFrame(m)}),[]),lr(()=>({register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[i,d,c,l])}function wqe(){const e={draggables:{},droppables:{}},t=[];function r(f){return t.push(f),function(){const h=t.indexOf(f);h!==-1&&t.splice(h,1)}}function s(f){t.length&&t.forEach(m=>m(f))}function a(f){return e.draggables[f]||null}function i(f){const m=a(f);return m||rt(),m}const o={register:f=>{e.draggables[f.descriptor.id]=f,s({type:"ADDITION",value:f})},update:(f,m)=>{const h=e.draggables[m.descriptor.id];h&&h.uniqueId===f.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:f=>{const m=f.descriptor.id,h=a(m);h&&f.uniqueId===h.uniqueId&&(delete e.draggables[m],e.droppables[f.descriptor.droppableId]&&s({type:"REMOVAL",value:f}))},getById:i,findById:a,exists:f=>!!a(f),getAllByType:f=>Object.values(e.draggables).filter(m=>m.descriptor.type===f)};function l(f){return e.droppables[f]||null}function c(f){const m=l(f);return m||rt(),m}const d={register:f=>{e.droppables[f.descriptor.id]=f},unregister:f=>{const m=l(f.descriptor.id);m&&f.uniqueId===m.uniqueId&&delete e.droppables[f.descriptor.id]},getById:c,findById:l,exists:f=>!!l(f),getAllByType:f=>Object.values(e.droppables).filter(m=>m.descriptor.type===f)};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:r,clean:u}}function Nqe(){const e=lr(wqe,[]);return v.useEffect(()=>function(){e.clean()},[e]),e}var nD=z.createContext(null),Ow=()=>{const e=document.body;return e||rt(),e};const _qe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Sqe=e=>`rfd-announcement-${e}`;function Cqe(e){const t=lr(()=>Sqe(e),[e]),r=v.useRef(null);return v.useEffect(function(){const i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),Xs(i.style,_qe),Ow().appendChild(i),function(){setTimeout(function(){const c=Ow();c.contains(i)&&c.removeChild(i),i===r.current&&(r.current=null)})}},[t]),Nt(a=>{const i=r.current;if(i){i.textContent=a;return}},[])}const Aqe={separator:"::"};function sD(e,t=Aqe){const r=z.useId();return lr(()=>`${e}${t.separator}${r}`,[t.separator,e,r])}function Eqe({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function Pqe({contextId:e,text:t}){const r=sD("hidden-text",{separator:"-"}),s=lr(()=>Eqe({contextId:e,uniqueId:r}),[r,e]);return v.useEffect(function(){const i=document.createElement("div");return i.id=s,i.textContent=t,i.style.display="none",Ow().appendChild(i),function(){const l=Ow();l.contains(i)&&l.removeChild(i)}},[s,t]),s}var t_=z.createContext(null);function qZ(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),t}function kqe(){let e=null;function t(){return!!e}function r(o){return o===e}function s(o){e&&rt();const l={abandon:o};return e=l,l}function a(){e||rt(),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:r,claim:s,release:a,tryAbandon:i}}function pv(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const Tqe=9,Oqe=13,aD=27,GZ=32,Dqe=33,Iqe=34,Rqe=35,Mqe=36,Fqe=37,$qe=38,Lqe=39,Bqe=40,Uqe={[Oqe]:!0,[Tqe]:!0};var KZ=e=>{Uqe[e.keyCode]&&e.preventDefault()};const r_=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(s=>`on${s}`in document)||e})(),YZ=0,AL=5;function Vqe(e,t){return Math.abs(t.x-e.x)>=AL||Math.abs(t.y-e.y)>=AL}const EL={type:"IDLE"};function zqe({cancel:e,completed:t,getPhase:r,setPhase:s}){return[{eventName:"mousemove",fn:a=>{const{button:i,clientX:o,clientY:l}=a;if(i!==YZ)return;const c={x:o,y:l},d=r();if(d.type==="DRAGGING"){a.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&rt();const u=d.point;if(!Vqe(u,c))return;a.preventDefault();const f=d.actions.fluidLift(c);s({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:a=>{const i=r();if(i.type!=="DRAGGING"){e();return}a.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:a=>{r().type==="DRAGGING"&&a.preventDefault(),e()}},{eventName:"keydown",fn:a=>{if(r().type==="PENDING"){e();return}if(a.keyCode===aD){a.preventDefault(),e();return}KZ(a)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:a=>{const i=r();if(i.type==="IDLE"&&rt(),i.actions.shouldRespectForcePress()){e();return}a.preventDefault()}},{eventName:r_,fn:e}]}function Wqe(e){const t=v.useRef(EL),r=v.useRef(lu),s=lr(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==YZ||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const m=e.findClosestDraggableId(f);if(!m)return;const h=e.tryGetLock(m,o,{sourceEvent:f});if(!h)return;f.preventDefault();const x={x:f.clientX,y:f.clientY};r.current(),d(h,x)}}),[e]),a=lr(()=>({eventName:"webkitmouseforcewillbegin",fn:u=>{if(u.defaultPrevented)return;const f=e.findClosestDraggableId(u);if(!f)return;const m=e.findOptionsForDraggable(f);m&&(m.shouldRespectForcePress||e.canGetLock(f)&&u.preventDefault())}}),[e]),i=Nt(function(){const f={passive:!1,capture:!0};r.current=po(window,[a,s],f)},[a,s]),o=Nt(()=>{t.current.type!=="IDLE"&&(t.current=EL,r.current(),i())},[i]),l=Nt(()=>{const u=t.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),c=Nt(function(){const f={capture:!0,passive:!1},m=zqe({cancel:l,completed:o,getPhase:()=>t.current,setPhase:h=>{t.current=h}});r.current=po(window,m,f)},[l,o]),d=Nt(function(f,m){t.current.type!=="IDLE"&&rt(),t.current={type:"PENDING",point:m,actions:f},c()},[c]);$i(function(){return i(),function(){r.current()}},[i])}function Hqe(){}const qqe={[Iqe]:!0,[Dqe]:!0,[Mqe]:!0,[Rqe]:!0};function Gqe(e,t){function r(){t(),e.cancel()}function s(){t(),e.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===aD){a.preventDefault(),r();return}if(a.keyCode===GZ){a.preventDefault(),s();return}if(a.keyCode===Bqe){a.preventDefault(),e.moveDown();return}if(a.keyCode===$qe){a.preventDefault(),e.moveUp();return}if(a.keyCode===Lqe){a.preventDefault(),e.moveRight();return}if(a.keyCode===Fqe){a.preventDefault(),e.moveLeft();return}if(qqe[a.keyCode]){a.preventDefault();return}KZ(a)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:r_,fn:r}]}function Kqe(e){const t=v.useRef(Hqe),r=lr(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==GZ)return;const o=e.findClosestDraggableId(i);if(!o)return;const l=e.tryGetLock(o,u,{sourceEvent:i});if(!l)return;i.preventDefault();let c=!0;const d=l.snapLift();t.current();function u(){c||rt(),c=!1,t.current(),s()}t.current=po(window,Gqe(d,u),{capture:!0,passive:!1})}}),[e]),s=Nt(function(){const i={passive:!1,capture:!0};t.current=po(window,[r],i)},[r]);$i(function(){return s(),function(){t.current()}},[s])}const xC={type:"IDLE"},Yqe=120,Xqe=.15;function Qqe({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(t().type!=="DRAGGING"){e();return}r.keyCode===aD&&r.preventDefault(),e()}},{eventName:r_,fn:e}]}function Zqe({cancel:e,completed:t,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const a=r();if(a.type!=="DRAGGING"){e();return}a.hasMoved=!0;const{clientX:i,clientY:o}=s.touches[0],l={x:i,y:o};s.preventDefault(),a.actions.move(l)}},{eventName:"touchend",fn:s=>{const a=r();if(a.type!=="DRAGGING"){e();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:s=>{if(r().type!=="DRAGGING"){e();return}s.preventDefault(),e()}},{eventName:"touchforcechange",fn:s=>{const a=r();a.type==="IDLE"&&rt();const i=s.touches[0];if(!i||!(i.force>=Xqe))return;const l=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){l&&e();return}if(l){if(a.hasMoved){s.preventDefault();return}e();return}s.preventDefault()}},{eventName:r_,fn:e}]}function Jqe(e){const t=v.useRef(xC),r=v.useRef(lu),s=Nt(function(){return t.current},[]),a=Nt(function(h){t.current=h},[]),i=lr(()=>({eventName:"touchstart",fn:function(h){if(h.defaultPrevented)return;const x=e.findClosestDraggableId(h);if(!x)return;const p=e.tryGetLock(x,l,{sourceEvent:h});if(!p)return;const g=h.touches[0],{clientX:j,clientY:y}=g,w={x:j,y};r.current(),f(p,w)}}),[e]),o=Nt(function(){const h={capture:!0,passive:!1};r.current=po(window,[i],h)},[i]),l=Nt(()=>{const m=t.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),a(xC),r.current(),o())},[o,a]),c=Nt(()=>{const m=t.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),d=Nt(function(){const h={capture:!0,passive:!1},x={cancel:c,completed:l,getPhase:s},p=po(window,Zqe(x),h),g=po(window,Qqe(x),h);r.current=function(){p(),g()}},[c,s,l]),u=Nt(function(){const h=s();h.type!=="PENDING"&&rt();const x=h.actions.fluidLift(h.point);a({type:"DRAGGING",actions:x,hasMoved:!1})},[s,a]),f=Nt(function(h,x){s().type!=="IDLE"&&rt();const p=setTimeout(u,Yqe);a({type:"PENDING",point:x,actions:h,longPressTimerId:p}),d()},[d,s,a,u]);$i(function(){return o(),function(){r.current();const x=s();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),a(xC))}},[s,o,a]),$i(function(){return po(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const eGe=["input","button","textarea","select","option","optgroup","video","audio"];function XZ(e,t){if(t==null)return!1;if(eGe.includes(t.tagName.toLowerCase()))return!0;const s=t.getAttribute("contenteditable");return s==="true"||s===""?!0:t===e?!1:XZ(e,t.parentElement)}function tGe(e,t){const r=t.target;return e_(r)?XZ(e,r):!1}var rGe=e=>Qo(e.getBoundingClientRect()).center;function nGe(e){return e instanceof HZ(e).Element}const sGe=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||e})();function QZ(e,t){return e==null?null:e[sGe](t)?e:QZ(e.parentElement,t)}function aGe(e,t){return e.closest?e.closest(t):QZ(e,t)}function iGe(e){return`[${Dp.contextId}="${e}"]`}function oGe(e,t){const r=t.target;if(!nGe(r))return null;const s=iGe(e),a=aGe(r,s);return!a||!e_(a)?null:a}function lGe(e,t){const r=oGe(e,t);return r?r.getAttribute(Dp.draggableId):null}function cGe(e,t){const r=`[${wP.contextId}="${e}"]`,a=WZ(document,r).find(i=>i.getAttribute(wP.id)===t);return!a||!e_(a)?null:a}function dGe(e){e.preventDefault()}function kj({expected:e,phase:t,isLockActive:r,shouldWarn:s}){return!(!r()||e!==t)}function ZZ({lockAPI:e,store:t,registry:r,draggableId:s}){if(e.isClaimed())return!1;const a=r.draggable.findById(s);return!(!a||!a.options.isEnabled||!BZ(t.getState(),s))}function uGe({lockAPI:e,contextId:t,store:r,registry:s,draggableId:a,forceSensorStop:i,sourceEvent:o}){if(!ZZ({lockAPI:e,store:r,registry:s,draggableId:a}))return null;const c=s.draggable.getById(a),d=cGe(t,c.descriptor.id);if(!d||o&&!c.options.canDragInteractiveElements&&tGe(d,o))return null;const u=e.claim(i||lu);let f="PRE_DRAG";function m(){return c.options.shouldRespectForcePress}function h(){return e.isActive(u)}function x(N,_){kj({expected:N,phase:f,isLockActive:h,shouldWarn:!0})&&r.dispatch(_())}const p=x.bind(null,"DRAGGING");function g(N){function _(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(_(),rt()),r.dispatch(aHe(N.liftActionArgs)),f="DRAGGING";function C(A,E={shouldBlockNextClick:!1}){if(N.cleanup(),E.shouldBlockNextClick){const k=po(window,[{eventName:"click",fn:dGe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(k)}_(),r.dispatch(OZ({reason:A}))}return{isActive:()=>kj({expected:"DRAGGING",phase:f,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:m,drop:A=>C("DROP",A),cancel:A=>C("CANCEL",A),...N.actions}}function j(N){const _=cv(A=>{p(()=>TZ({client:A}))});return{...g({liftActionArgs:{id:a,clientSelection:N,movementMode:"FLUID"},cleanup:()=>_.cancel(),actions:{move:_}}),move:_}}function y(){const N={moveUp:()=>p(hHe),moveRight:()=>p(xHe),moveDown:()=>p(pHe),moveLeft:()=>p(gHe)};return g({liftActionArgs:{id:a,clientSelection:rGe(d),movementMode:"SNAP"},cleanup:lu,actions:N})}function w(){kj({expected:"PRE_DRAG",phase:f,isLockActive:h,shouldWarn:!0})&&e.release()}return{isActive:()=>kj({expected:"PRE_DRAG",phase:f,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:j,snapLift:y,abort:w}}const fGe=[Wqe,Kqe,Jqe];function mGe({contextId:e,store:t,registry:r,customSensors:s,enableDefaultSensors:a}){const i=[...a?fGe:[],...s||[]],o=v.useState(()=>kqe())[0],l=Nt(function(g,j){pv(g)&&!pv(j)&&o.tryAbandon()},[o]);$i(function(){let g=t.getState();return t.subscribe(()=>{const y=t.getState();l(g,y),g=y})},[o,t,l]),$i(()=>o.tryAbandon,[o.tryAbandon]);const c=Nt(p=>ZZ({lockAPI:o,registry:r,store:t,draggableId:p}),[o,r,t]),d=Nt((p,g,j)=>uGe({lockAPI:o,registry:r,contextId:e,store:t,draggableId:p,forceSensorStop:g||null,sourceEvent:j&&j.sourceEvent?j.sourceEvent:null}),[e,o,r,t]),u=Nt(p=>lGe(e,p),[e]),f=Nt(p=>{const g=r.draggable.findById(p);return g?g.options:null},[r.draggable]),m=Nt(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(X3()))},[o,t]),h=Nt(()=>o.isClaimed(),[o]),x=lr(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:u,findOptionsForDraggable:f,tryReleaseLock:m,isLockClaimed:h}),[c,d,u,f,m,h]);for(let p=0;p<i.length;p++)i[p](x)}const hGe=e=>({onBeforeCapture:t=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};ul.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),pGe=e=>({...hv,...e.autoScrollerOptions,durationDampening:{...hv.durationDampening,...e.autoScrollerOptions}});function eg(e){return e.current||rt(),e.current}function xGe(e){const{contextId:t,setCallbacks:r,sensors:s,nonce:a,dragHandleUsageInstructions:i}=e,o=v.useRef(null),l=qZ(e),c=Nt(()=>hGe(l.current),[l]),d=Nt(()=>pGe(l.current),[l]),u=Cqe(t),f=Pqe({contextId:t,text:i}),m=yqe(t,a),h=Nt(k=>{eg(o).dispatch(k)},[]),x=lr(()=>rL({publishWhileDragging:oHe,updateDroppableScroll:cHe,updateDroppableIsEnabled:dHe,updateDroppableIsCombineEnabled:uHe,collectionStarting:lHe},h),[h]),p=Nqe(),g=lr(()=>QHe(p,x),[p,x]),j=lr(()=>hqe({scrollWindow:ZHe,scrollDroppable:g.scrollDroppable,getAutoScrollerOptions:d,...rL({move:TZ},h)}),[g.scrollDroppable,h,d]),y=bqe(t),w=lr(()=>GHe({announce:u,autoScroller:j,dimensionMarshal:g,focusMarshal:y,getResponders:c,styleMarshal:m}),[u,j,g,y,c,m]);o.current=w;const b=Nt(()=>{const k=eg(o);k.getState().phase!=="IDLE"&&k.dispatch(X3())},[]),N=Nt(()=>{const k=eg(o).getState();return k.phase==="DROP_ANIMATING"?!0:k.phase==="IDLE"?!1:k.isDragging},[]),_=lr(()=>({isDragging:N,tryAbort:b}),[N,b]);r(_);const C=Nt(k=>BZ(eg(o).getState(),k),[]),A=Nt(()=>Xu(eg(o).getState()),[]),E=lr(()=>({marshal:g,focus:y,contextId:t,canLift:C,isMovementAllowed:A,dragHandleUsageInstructionsId:f,registry:p}),[t,g,f,y,C,A,p]);return mGe({contextId:t,store:w,registry:p,customSensors:s||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),v.useEffect(()=>b,[b]),z.createElement(t_.Provider,{value:E},z.createElement(zze,{context:nD,store:w},e.children))}function gGe(){return z.useId()}function vGe(e){const t=gGe(),r=e.dragHandleUsageInstructions||fb.dragHandleUsageInstructions;return z.createElement(Kze,null,s=>z.createElement(xGe,{nonce:e.nonce,contextId:t,setCallbacks:s,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const PL={dragging:5e3,dropAnimating:4500},yGe=(e,t)=>t?Bg.drop(t.duration):e?Bg.snap:Bg.fluid,jGe=(e,t)=>{if(e)return t?mv.opacity.drop:mv.opacity.combining},bGe=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function wGe(e){const r=e.dimension.client,{offset:s,combineWith:a,dropping:i}=e,o=!!a,l=bGe(e),c=!!i,d=c?jP.drop(s,o):jP.moveTo(s);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:yGe(l,i),transform:d,opacity:jGe(o,c),zIndex:c?PL.dropAnimating:PL.dragging,pointerEvents:"none"}}function NGe(e){return{transform:jP.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function _Ge(e){return e.type==="DRAGGING"?wGe(e):NGe(e)}function SGe(e,t,r=Rs){const s=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=aZ(a,s),o=Ew(i,r),l={client:i,tagName:t.tagName.toLowerCase(),display:s.display},c={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:i,page:o}}function CGe(e){const t=sD("draggable"),{descriptor:r,registry:s,getDraggableRef:a,canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}=e,c=lr(()=>({canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}),[i,l,o]),d=Nt(h=>{const x=a();return x||rt(),SGe(r,x,h)},[r,a]),u=lr(()=>({uniqueId:t,descriptor:r,options:c,getDimension:d}),[r,d,c,t]),f=v.useRef(u),m=v.useRef(!0);$i(()=>(s.draggable.register(f.current),()=>s.draggable.unregister(f.current)),[s.draggable]),$i(()=>{if(m.current){m.current=!1;return}const h=f.current;f.current=u,s.draggable.update(u,h)},[u,s.draggable])}var iD=z.createContext(null);function Dw(e){const t=v.useContext(e);return t||rt(),t}function AGe(e){e.preventDefault()}const EGe=e=>{const t=v.useRef(null),r=Nt((_=null)=>{t.current=_},[]),s=Nt(()=>t.current,[]),{contextId:a,dragHandleUsageInstructionsId:i,registry:o}=Dw(t_),{type:l,droppableId:c}=Dw(iD),d=lr(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:u,draggableId:f,isEnabled:m,shouldRespectForcePress:h,canDragInteractiveElements:x,isClone:p,mapped:g,dropAnimationFinished:j}=e;if(!p){const _=lr(()=>({descriptor:d,registry:o,getDraggableRef:s,canDragInteractiveElements:x,shouldRespectForcePress:h,isEnabled:m}),[d,o,s,x,h,m]);CGe(_)}const y=lr(()=>m?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:AGe}:null,[a,i,f,m]),w=Nt(_=>{g.type==="DRAGGING"&&g.dropping&&_.propertyName==="transform"&&ul.flushSync(j)},[j,g]),b=lr(()=>{const _=_Ge(g),C=g.type==="DRAGGING"&&g.dropping?w:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":f,style:_,onTransitionEnd:C},dragHandleProps:y}},[a,y,f,g,w,r]),N=lr(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return z.createElement(z.Fragment,null,u(b,g.snapshot,N))};var JZ=(e,t)=>e===t,eJ=e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null};const PGe=e=>e.combine?e.combine.draggableId:null,kGe=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function TGe(){const e=Ts((a,i)=>({x:a,y:i})),t=Ts((a,i,o=null,l=null,c=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:o,combineWith:l,combineTargetFor:null})),r=Ts((a,i,o,l,c=null,d=null,u=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:i,offset:a,dimension:o,forceShouldAnimate:u,snapshot:t(i,l,c,d,null)}}));return(a,i)=>{if(pv(a)){if(a.critical.draggable.id!==i.draggableId)return null;const o=a.current.client.offset,l=a.dimensions.draggables[i.draggableId],c=Fi(a.impact),d=kGe(a.impact),u=a.forceShouldAnimate;return r(e(o.x,o.y),a.movementMode,l,i.isClone,c,d,u)}if(a.phase==="DROP_ANIMATING"){const o=a.completed;if(o.result.draggableId!==i.draggableId)return null;const l=i.isClone,c=a.dimensions.draggables[i.draggableId],d=o.result,u=d.mode,f=eJ(d),m=PGe(d),x={duration:a.dropDuration,curve:Z3.drop,moveTo:a.newHomeClientOffset,opacity:m?mv.opacity.drop:null,scale:m?mv.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:c,dropping:x,draggingOver:f,combineWith:m,mode:u,forceShouldAnimate:null,snapshot:t(u,l,f,m,x)}}}return null}}function tJ(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const OGe={mapped:{type:"SECONDARY",offset:Rs,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:tJ(null)}};function DGe(){const e=Ts((o,l)=>({x:o,y:l})),t=Ts(tJ),r=Ts((o,l=null,c)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),s=o=>o?r(Rs,o,!0):null,a=(o,l,c,d)=>{const u=c.displaced.visible[o],f=!!(d.inVirtualList&&d.effected[o]),m=Q2(c),h=m&&m.draggableId===o?l:null;if(!u){if(!f)return s(h);if(c.displaced.invisible[o])return null;const g=fx(d.displacedBy.point),j=e(g.x,g.y);return r(j,h,!0)}if(f)return s(h);const x=c.displacedBy.point,p=e(x.x,x.y);return r(p,h,u.shouldAnimate)};return(o,l)=>{if(pv(o))return o.critical.draggable.id===l.draggableId?null:a(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const c=o.completed;return c.result.draggableId===l.draggableId?null:a(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const IGe=()=>{const e=TGe(),t=DGe();return(s,a)=>e(s,a)||t(s,a)||OGe},RGe={dropAnimationFinished:DZ},MGe=sZ(IGe,RGe,null,{context:nD,areStatePropsEqual:JZ})(EGe);function rJ(e){return Dw(iD).isUsingCloneFor===e.draggableId&&!e.isClone?null:z.createElement(MGe,e)}function FGe(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,s=!!e.shouldRespectForcePress;return z.createElement(rJ,Xs({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:s}))}const nJ=e=>t=>e===t,$Ge=nJ("scroll"),LGe=nJ("auto"),kL=(e,t)=>t(e.overflowX)||t(e.overflowY),BGe=e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return kL(r,$Ge)||kL(r,LGe)},UGe=()=>!1,sJ=e=>e==null?null:e===document.body?UGe()?e:null:e===document.documentElement?null:BGe(e)?e:sJ(e.parentElement);var NP=e=>({x:e.scrollLeft,y:e.scrollTop});const aJ=e=>e?window.getComputedStyle(e).position==="fixed"?!0:aJ(e.parentElement):!1;var VGe=e=>{const t=sJ(e),r=aJ(e);return{closestScrollable:t,isFixedOnPage:r}},zGe=({descriptor:e,isEnabled:t,isCombineEnabled:r,isFixedOnPage:s,direction:a,client:i,page:o,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:m,client:h}=l,x=FZ({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:h.paddingBox.height,width:h.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:h,scrollSize:m,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:x,diff:{value:Rs,displacement:Rs}}}})(),d=a==="vertical"?H3:xZ,u=Tp({page:o,withPlaceholder:null,axis:d,frame:c});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:s,axis:d,isEnabled:t,client:i,page:o,frame:c,subject:u}};const WGe=(e,t)=>{const r=iZ(e);if(!t||e!==t)return r;const s=r.paddingBox.top-t.scrollTop,a=r.paddingBox.left-t.scrollLeft,i=s+t.scrollHeight,o=a+t.scrollWidth,c=U3({top:s,right:o,bottom:i,left:a},r.border);return V3({borderBox:c,margin:r.margin,border:r.border,padding:r.padding})};var HGe=({ref:e,descriptor:t,env:r,windowScroll:s,direction:a,isDropDisabled:i,isCombineEnabled:o,shouldClipSubject:l})=>{const c=r.closestScrollable,d=WGe(e,c),u=Ew(d,s),f=(()=>{if(!c)return null;const h=iZ(c),x={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:h,page:Ew(h,s),scroll:NP(c),scrollSize:x,shouldClipSubject:l}})();return zGe({descriptor:t,isEnabled:!i,isCombineEnabled:o,isFixedOnPage:r.isFixedOnPage,direction:a,client:d,page:u,closest:f})};const qGe={passive:!1},GGe={passive:!0};var TL=e=>e.shouldPublishImmediately?qGe:GGe;const Tj=e=>e&&e.env.closestScrollable||null;function KGe(e){const t=v.useRef(null),r=Dw(t_),s=sD("droppable"),{registry:a,marshal:i}=r,o=qZ(e),l=lr(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=v.useRef(l),d=lr(()=>Ts((b,N)=>{t.current||rt();const _={x:b,y:N};i.updateDroppableScroll(l.id,_)}),[l.id,i]),u=Nt(()=>{const b=t.current;return!b||!b.env.closestScrollable?Rs:NP(b.env.closestScrollable)},[]),f=Nt(()=>{const b=u();d(b.x,b.y)},[u,d]),m=lr(()=>cv(f),[f]),h=Nt(()=>{const b=t.current,N=Tj(b);if(b&&N||rt(),b.scrollOptions.shouldPublishImmediately){f();return}m()},[m,f]),x=Nt((b,N)=>{t.current&&rt();const _=o.current,C=_.getDroppableRef();C||rt();const A=VGe(C),E={ref:C,descriptor:l,env:A,scrollOptions:N};t.current=E;const k=HGe({ref:C,descriptor:l,env:A,windowScroll:b,direction:_.direction,isDropDisabled:_.isDropDisabled,isCombineEnabled:_.isCombineEnabled,shouldClipSubject:!_.ignoreContainerClipping}),O=A.closestScrollable;return O&&(O.setAttribute(SL.contextId,r.contextId),O.addEventListener("scroll",h,TL(E.scrollOptions))),k},[r.contextId,l,h,o]),p=Nt(()=>{const b=t.current,N=Tj(b);return b&&N||rt(),NP(N)},[]),g=Nt(()=>{const b=t.current;b||rt();const N=Tj(b);t.current=null,N&&(m.cancel(),N.removeAttribute(SL.contextId),N.removeEventListener("scroll",h,TL(b.scrollOptions)))},[h,m]),j=Nt(b=>{const N=t.current;N||rt();const _=Tj(N);_||rt(),_.scrollTop+=b.y,_.scrollLeft+=b.x},[]),y=lr(()=>({getDimensionAndWatchScroll:x,getScrollWhileDragging:p,dragStopped:g,scroll:j}),[g,x,p,j]),w=lr(()=>({uniqueId:s,descriptor:l,callbacks:y}),[y,l,s]);$i(()=>(c.current=w.descriptor,a.droppable.register(w),()=>{t.current&&g(),a.droppable.unregister(w)}),[y,l,g,w,i,a.droppable]),$i(()=>{t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),$i(()=>{t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function gC(){}const OL={width:0,height:0,margin:tWe},YGe=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>e||r==="close"?OL:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},XGe=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>{const s=YGe({isAnimatingOpenOnMount:e,placeholder:t,animate:r});return{display:t.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?Bg.placeholder:null}},QGe=e=>{const t=v.useRef(null),r=Nt(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:s,onTransitionEnd:a,onClose:i,contextId:o}=e,[l,c]=v.useState(e.animate==="open");v.useEffect(()=>l?s!=="open"?(r(),c(!1),gC):t.current?gC:(t.current=setTimeout(()=>{t.current=null,c(!1)}),r):gC,[s,l,r]);const d=Nt(f=>{f.propertyName==="height"&&(a(),s==="close"&&i())},[s,i,a]),u=XGe({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return z.createElement(e.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})};var ZGe=z.memo(QGe);class JGe extends z.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,r){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const eKe=e=>{const t=v.useContext(t_);t||rt();const{contextId:r,isMovementAllowed:s}=t,a=v.useRef(null),i=v.useRef(null),{children:o,droppableId:l,type:c,mode:d,direction:u,ignoreContainerClipping:f,isDropDisabled:m,isCombineEnabled:h,snapshot:x,useClone:p,updateViewportMaxScroll:g,getContainerForClone:j}=e,y=Nt(()=>a.current,[]),w=Nt((O=null)=>{a.current=O},[]);Nt(()=>i.current,[]);const b=Nt((O=null)=>{i.current=O},[]),N=Nt(()=>{s()&&g({maxScroll:LZ()})},[s,g]);KGe({droppableId:l,type:c,mode:d,direction:u,isDropDisabled:m,isCombineEnabled:h,ignoreContainerClipping:f,getDroppableRef:y});const _=lr(()=>z.createElement(JGe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:O,data:I,animate:W})=>z.createElement(ZGe,{placeholder:I,onClose:O,innerRef:b,animate:W,contextId:r,onTransitionEnd:N})),[r,N,e.placeholder,e.shouldAnimatePlaceholder,b]),C=lr(()=>({innerRef:w,placeholder:_,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":r}}),[r,l,_,w]),A=p?p.dragging.draggableId:null,E=lr(()=>({droppableId:l,type:c,isUsingCloneFor:A}),[l,A,c]);function k(){if(!p)return null;const{dragging:O,render:I}=p,W=z.createElement(rJ,{draggableId:O.draggableId,index:O.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(H,F)=>I(H,F,O));return dN.createPortal(W,j())}return z.createElement(iD.Provider,{value:E},o(C,x),k())};function tKe(){return document.body||rt(),document.body}const DL={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:tKe},iJ=e=>{let t={...e},r;for(r in DL)e[r]===void 0&&(t={...t,[r]:DL[r]});return t},vC=(e,t)=>e===t.droppable.type,IL=(e,t)=>t.draggables[e.draggable.id],rKe=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},r=Ts(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),s=Ts((i,o,l,c,d,u)=>{const f=d.descriptor.id;if(d.descriptor.droppableId===i){const x=u?{render:u,dragging:r(d.descriptor)}:null,p={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:p,useClone:x}}if(!o)return t;if(!c)return e;const h={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}});return(i,o)=>{const l=iJ(o),c=l.droppableId,d=l.type,u=!l.isDropDisabled,f=l.renderClone;if(pv(i)){const m=i.critical;if(!vC(d,m))return t;const h=IL(m,i.dimensions),x=Fi(i.impact)===c;return s(c,u,x,x,h,f)}if(i.phase==="DROP_ANIMATING"){const m=i.completed;if(!vC(d,m.critical))return t;const h=IL(m.critical,i.dimensions);return s(c,u,eJ(m.result)===c,Fi(m.impact)===c,h,f)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const m=i.completed;if(!vC(d,m.critical))return t;const h=Fi(m.impact)===c,x=!!(m.impact.at&&m.impact.at.type==="COMBINE"),p=m.critical.droppable.id===c;return h?x?e:t:p?e:t}return t}},nKe={updateViewportMaxScroll:mHe},sKe=sZ(rKe,nKe,(e,t,r)=>({...iJ(r),...e,...t}),{context:nD,areStatePropsEqual:JZ})(eKe);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Iw={};Iw.version="0.18.5";var oJ=1252,aKe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],lJ=function(e){aKe.indexOf(e)!=-1&&(oJ=e)};function iKe(){lJ(1252)}var xv=function(e){lJ(e)};function oKe(){xv(1200),iKe()}var Oj=function(t){return String.fromCharCode(t)},RL=function(t){return String.fromCharCode(t)},ef,Yd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function gv(e){for(var t="",r=0,s=0,a=0,i=0,o=0,l=0,c=0,d=0;d<e.length;)r=e.charCodeAt(d++),i=r>>2,s=e.charCodeAt(d++),o=(r&3)<<4|s>>4,a=e.charCodeAt(d++),l=(s&15)<<2|a>>6,c=a&63,isNaN(s)?l=c=64:isNaN(a)&&(c=64),t+=Yd.charAt(i)+Yd.charAt(o)+Yd.charAt(l)+Yd.charAt(c);return t}function sd(e){var t="",r=0,s=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=Yd.indexOf(e.charAt(d++)),o=Yd.indexOf(e.charAt(d++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=Yd.indexOf(e.charAt(d++)),s=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(s)),c=Yd.indexOf(e.charAt(d++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var yr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),hd=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function tm(e){return yr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function ML(e){return yr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Yo=function(t){return yr?hd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function n_(e){if(typeof ArrayBuffer>"u")return Yo(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),s=0;s!=e.length;++s)r[s]=e.charCodeAt(s)&255;return t}function Sy(e){if(Array.isArray(e))return e.map(function(s){return String.fromCharCode(s)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function lKe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var zs=yr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:hd(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var s=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)s.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";s.set(new Uint8Array(e[t]),r)}return s}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function cKe(e){for(var t=[],r=0,s=e.length+250,a=tm(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>s&&(t.push(a.slice(0,r)),r=0,a=tm(65535),s=65530)}return t.push(a.slice(0,r)),zs(t)}var Ug=/\u0000/g,Dj=/[\u0001-\u0006]/g;function _h(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Zo(e,t){var r=""+e;return r.length>=t?r:Mn("0",t-r.length)+r}function oD(e,t){var r=""+e;return r.length>=t?r:Mn(" ",t-r.length)+r}function Rw(e,t){var r=""+e;return r.length>=t?r:r+Mn(" ",t-r.length)}function dKe(e,t){var r=""+Math.round(e);return r.length>=t?r:Mn("0",t-r.length)+r}function uKe(e,t){var r=""+e;return r.length>=t?r:Mn("0",t-r.length)+r}var FL=Math.pow(2,32);function Im(e,t){if(e>FL||e<-FL)return dKe(e,t);var r=Math.round(e);return uKe(r,t)}function Mw(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var $L=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],yC=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function fKe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Fn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},LL={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},mKe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Fw(e,t,r){for(var s=e<0?-1:1,a=e*s,i=0,o=1,l=0,c=1,d=0,u=0,f=Math.floor(a);d<t&&(f=Math.floor(a),l=f*o+i,u=f*d+c,!(a-f<5e-8));)a=1/(a-f),i=o,o=l,c=d,d=u;if(u>t&&(d>t?(u=c,l=i):(u=d,l=o)),!r)return[0,s*l,u];var m=Math.floor(s*l/u);return[m,s*l-m*u,u]}function Ij(e,t,r){if(e>2958465||e<0)return null;var s=e|0,a=Math.floor(86400*(e-s)),i=0,o=[],l={D:s,T:a,u:86400*(e-s)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(s+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++s,++l.D)),s===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(s===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{s>60&&--s;var c=new Date(1900,0,1);c.setDate(c.getDate()+s-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),s<60&&(i=(i+6)%7),r&&(i=jKe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var cJ=new Date(1899,11,31,0,0,0),hKe=cJ.getTime(),pKe=new Date(1900,2,1,0,0,0);function dJ(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=pKe&&(r+=24*60*60*1e3),(r-(hKe+(e.getTimezoneOffset()-cJ.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function lD(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function xKe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function gKe(e){var t=e<0?12:11,r=lD(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function vKe(e){var t=lD(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function yKe(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=gKe(e):t===10?r=e.toFixed(10).substr(0,12):r=vKe(e),lD(xKe(r.toUpperCase()))}function _P(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):yKe(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return bu(14,dJ(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function jKe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function bKe(e,t,r,s){var a="",i=0,o=0,l=r.y,c,d=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,d=t.length;break;case 3:return yC[r.m-1][1];case 5:return yC[r.m-1][0];default:return yC[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,d=t.length;break;case 3:return $L[r.q][0];default:return $L[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Zo(r.S,t.length):(s>=2?o=s===3?1e3:100:o=s===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=Zo(i,2+s),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=l,d=1;break}var u=d>0?Zo(c,d):"";return u}function Xd(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,s=e.substr(0,r);r!=e.length;r+=t)s+=(s.length>0?",":"")+e.substr(r,t);return s}var uJ=/%/g;function wKe(e,t,r){var s=t.replace(uJ,""),a=t.length-s.length;return $c(e,s,r*Math.pow(10,2*a))+Mn("%",a)}function NKe(e,t,r){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return $c(e,t.substr(0,s),r/Math.pow(10,3*(t.length-s)))}function fJ(e,t){var r,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+fJ(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(s+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(s);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var mJ=/# (\?+)( ?)\/( ?)(\d+)/;function _Ke(e,t,r){var s=parseInt(e[4],10),a=Math.round(t*s),i=Math.floor(a/s),o=a-i*s,l=s;return r+(i===0?"":""+i)+" "+(o===0?Mn(" ",e[1].length+1+e[4].length):oD(o,e[1].length)+e[2]+"/"+e[3]+Zo(l,e[4].length))}function SKe(e,t,r){return r+(t===0?"":""+t)+Mn(" ",e[1].length+2+e[4].length)}var hJ=/^#*0*\.([0#]+)/,pJ=/\).*[0#]/,xJ=/\(###\) ###\\?-####/;function Sa(e){for(var t="",r,s=0;s!=e.length;++s)switch(r=e.charCodeAt(s)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function BL(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function UL(e,t){var r=e-Math.floor(e),s=Math.pow(10,t);return t<(""+Math.round(r*s)).length?0:Math.round(r*s)}function CKe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function AKe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function no(e,t,r){if(e.charCodeAt(0)===40&&!t.match(pJ)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?no("n",s,r):"("+no("n",s,-r)+")"}if(t.charCodeAt(t.length-1)===44)return NKe(e,t,r);if(t.indexOf("%")!==-1)return wKe(e,t,r);if(t.indexOf("E")!==-1)return fJ(t,r);if(t.charCodeAt(0)===36)return"$"+no(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+Im(c,t.length);if(t.match(/^[#?]+$/))return a=Im(r,0),a==="0"&&(a=""),a.length>t.length?a:Sa(t.substr(0,t.length-a.length))+a;if(i=t.match(mJ))return _Ke(i,c,d);if(t.match(/^#+0+$/))return d+Im(c,t.length-t.indexOf("0"));if(i=t.match(hJ))return a=BL(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Sa(i[1])).replace(/\.$/,"."+Sa(i[1])).replace(/\.(\d*)$/,function(x,p){return"."+p+Mn("0",Sa(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+BL(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Xd(Im(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+no(e,t,-r):Xd(""+(Math.floor(r)+CKe(r,i[1].length)))+"."+Zo(UL(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return no(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=_h(no(e,t.replace(/[\\-]/g,""),r)),o=0,_h(_h(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(xJ))return a=no(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Fw(c,Math.pow(10,o)-1,!1),a=""+d,u=$c("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Rw(l[2],o),u.length<i[4].length&&(u=Sa(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Fw(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?oD(l[1],o)+i[2]+"/"+i[3]+Rw(l[2],o):Mn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Im(r,0),t.length<=a.length?a:Sa(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return Sa(t.substr(0,f)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=UL(r,i[1].length),r<0?"-"+no(e,t,-r):Xd(AKe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Zo(0,3-x.length):"")+x})+"."+Zo(o,i[1].length);switch(t){case"###,##0.00":return no(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=Xd(Im(c,0));return h!=="0"?d+h:"";case"###,###.00":return no(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return no(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function EKe(e,t,r){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return $c(e,t.substr(0,s),r/Math.pow(10,3*(t.length-s)))}function PKe(e,t,r){var s=t.replace(uJ,""),a=t.length-s.length;return $c(e,s,r*Math.pow(10,2*a))+Mn("%",a)}function gJ(e,t){var r,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+gJ(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(s+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(s);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Sl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(pJ)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Sl("n",s,r):"("+Sl("n",s,-r)+")"}if(t.charCodeAt(t.length-1)===44)return EKe(e,t,r);if(t.indexOf("%")!==-1)return PKe(e,t,r);if(t.indexOf("E")!==-1)return gJ(t,r);if(t.charCodeAt(0)===36)return"$"+Sl(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+Zo(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Sa(t.substr(0,t.length-a.length))+a;if(i=t.match(mJ))return SKe(i,c,d);if(t.match(/^#+0+$/))return d+Zo(c,t.length-t.indexOf("0"));if(i=t.match(hJ))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Sa(i[1])).replace(/\.$/,"."+Sa(i[1])),a=a.replace(/\.(\d*)$/,function(x,p){return"."+p+Mn("0",Sa(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Xd(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Sl(e,t,-r):Xd(""+r)+"."+Mn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Sl(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=_h(Sl(e,t.replace(/[\\-]/g,""),r)),o=0,_h(_h(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(xJ))return a=Sl(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Fw(c,Math.pow(10,o)-1,!1),a=""+d,u=$c("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Rw(l[2],o),u.length<i[4].length&&(u=Sa(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Fw(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?oD(l[1],o)+i[2]+"/"+i[3]+Rw(l[2],o):Mn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Sa(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return Sa(t.substr(0,f)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Sl(e,t,-r):Xd(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Zo(0,3-x.length):"")+x})+"."+Zo(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=Xd(""+c);return h!=="0"?d+h:"";default:if(t.match(/\.[0#?]*$/))return Sl(e,t.slice(0,t.lastIndexOf(".")),r)+Sa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function $c(e,t,r){return(r|0)===r?Sl(e,t,r):no(e,t,r)}function kKe(e){for(var t=[],r=!1,s=0,a=0;s<e.length;++s)switch(e.charCodeAt(s)){case 34:r=!r;break;case 95:case 42:case 92:++s;break;case 59:t[t.length]=e.substr(a,s-a),a=s+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var vJ=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function yJ(e){for(var t=0,r="",s="";t<e.length;)switch(r=e.charAt(t)){case"G":Mw(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(s=r;e.charAt(t++)!=="]"&&t<e.length;)s+=e.charAt(t);if(s.match(vJ))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function TKe(e,t,r,s){for(var a=[],i="",o=0,l="",c="t",d,u,f,m="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!Mw(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var h=e.charAt(++o),x=h==="("||h===")"?h:"t";a[a.length]={t:x,v:h},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(d==null&&(d=Ij(t,r,e.charAt(o+1)==="2"),d==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=Ij(t,r),d==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var p={t:l,v:l};if(d==null&&(d=Ij(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(p.v=d.H>=12?"P":"A"),p.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(p.v=d.H>=12?"PM":"AM"),p.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(d!=null&&(p.v=d.H>=12?"":""),p.t="T",o+=5,m="h"):(p.t="t",++o),d==null&&p.t==="T")return"";a[a.length]=p,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(vJ)){if(d==null&&(d=Ij(t,r),d==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",yJ(e)||(a[a.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:s===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var g=0,j=0,y;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=m,c="h",g<1&&(g=1);break;case"s":(y=a[o].v.match(/\.0+$/))&&(j=Math.max(j,y[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[o].v.match(/[Hh]/)&&(g=1),g<2&&a[o].v.match(/[Mm]/)&&(g=2),g<3&&a[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var w="",b;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=bKe(a[o].t.charCodeAt(0),a[o].v,d,j),a[o].t="t";break;case"n":case"?":for(b=o+1;a[b]!=null&&((l=a[b].t)==="?"||l==="D"||(l===" "||l==="t")&&a[b+1]!=null&&(a[b+1].t==="?"||a[b+1].t==="t"&&a[b+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[b].v==="/"||a[b].v===" "&&a[b+1]!=null&&a[b+1].t=="?"));)a[o].v+=a[b].v,a[b]={v:"",t:";"},++b;w+=a[o].v,o=b-1;break;case"G":a[o].t="t",a[o].v=_P(t,r);break}var N="",_,C;if(w.length>0){w.charCodeAt(0)==40?(_=t<0&&w.charCodeAt(0)===45?-t:t,C=$c("n",w,_)):(_=t<0&&s>1?-t:t,C=$c("n",w,_),_<0&&a[0]&&a[0].t=="t"&&(C=C.substr(1),a[0].v="-"+a[0].v)),b=C.length-1;var A=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){A=o;break}var E=a.length;if(A===a.length&&C.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(b>=a[o].v.length-1?(b-=a[o].v.length,a[o].v=C.substr(b+1,a[o].v.length)):b<0?a[o].v="":(a[o].v=C.substr(0,b+1),b=-1),a[o].t="t",E=o);b>=0&&E<a.length&&(a[E].v=C.substr(0,b+1)+a[E].v)}else if(A!==a.length&&C.indexOf("E")===-1){for(b=C.indexOf(".")-1,o=A;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(u=a[o].v.indexOf(".")>-1&&o===A?a[o].v.indexOf(".")-1:a[o].v.length-1,N=a[o].v.substr(u+1);u>=0;--u)b>=0&&(a[o].v.charAt(u)==="0"||a[o].v.charAt(u)==="#")&&(N=C.charAt(b--)+N);a[o].v=N,a[o].t="t",E=o}for(b>=0&&E<a.length&&(a[E].v=C.substr(0,b+1)+a[E].v),b=C.indexOf(".")+1,o=A;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==A)){for(u=a[o].v.indexOf(".")>-1&&o===A?a[o].v.indexOf(".")+1:0,N=a[o].v.substr(0,u);u<a[o].v.length;++u)b<C.length&&(N+=C.charAt(b++));a[o].v=N,a[o].t="t",E=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(_=s>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=$c(a[o].t,a[o].v,_),a[o].t="t");var k="";for(o=0;o!==a.length;++o)a[o]!=null&&(k+=a[o].v);return k}var VL=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function zL(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function OKe(e,t){var r=kKe(e),s=r.length,a=r[s-1].indexOf("@");if(s<4&&a>-1&&--s,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[s,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(VL),l=r[1].match(VL);return zL(t,o)?[s,r[0]]:zL(t,l)?[s,r[1]]:[s,r[o!=null&&l!=null?2:1]]}return[s,i]}function bu(e,t,r){r==null&&(r={});var s="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?s=r.dateNF:s=e;break;case"number":e==14&&r.dateNF?s=r.dateNF:s=(r.table!=null?r.table:Fn)[e],s==null&&(s=r.table&&r.table[LL[e]]||Fn[LL[e]]),s==null&&(s=mKe[e]||"General");break}if(Mw(s,0))return _P(t,r);t instanceof Date&&(t=dJ(t,r.date1904));var a=OKe(s,t);if(Mw(a[1]))return _P(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return TKe(a[1],t,r,a[0])}function jJ(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Fn[r]==null){t<0&&(t=r);continue}if(Fn[r]==e){t=r;break}}t<0&&(t=391)}return Fn[t]=e,t}function s_(e){for(var t=0;t!=392;++t)e[t]!==void 0&&jJ(e[t],t)}function a_(){Fn=fKe()}var bJ=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function DKe(e){var t=typeof e=="number"?Fn[e]:e;return t=t.replace(bJ,"(\\d+)"),new RegExp("^"+t+"$")}function IKe(e,t,r){var s=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(bJ)||[]).forEach(function(f,m){var h=parseInt(r[m+1],10);switch(f.toLowerCase().charAt(0)){case"y":s=h;break;case"d":i=h;break;case"h":o=h;break;case"s":c=h;break;case"m":o>=0?l=h:a=h;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var d=(""+(s>=0?s:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?d:s==-1&&a==-1&&i==-1?u:d+"T"+u}var RKe=function(){var e={};e.version="1.2.0";function t(){for(var C=0,A=new Array(256),E=0;E!=256;++E)C=E,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,A[E]=C;return typeof Int32Array<"u"?new Int32Array(A):A}var r=t();function s(C){var A=0,E=0,k=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(k=0;k!=256;++k)O[k]=C[k];for(k=0;k!=256;++k)for(E=C[k],A=256+k;A<4096;A+=256)E=O[A]=E>>>8^C[E&255];var I=[];for(k=1;k!=16;++k)I[k-1]=typeof Int32Array<"u"?O.subarray(k*256,k*256+256):O.slice(k*256,k*256+256);return I}var a=s(r),i=a[0],o=a[1],l=a[2],c=a[3],d=a[4],u=a[5],f=a[6],m=a[7],h=a[8],x=a[9],p=a[10],g=a[11],j=a[12],y=a[13],w=a[14];function b(C,A){for(var E=A^-1,k=0,O=C.length;k<O;)E=E>>>8^r[(E^C.charCodeAt(k++))&255];return~E}function N(C,A){for(var E=A^-1,k=C.length-15,O=0;O<k;)E=w[C[O++]^E&255]^y[C[O++]^E>>8&255]^j[C[O++]^E>>16&255]^g[C[O++]^E>>>24]^p[C[O++]]^x[C[O++]]^h[C[O++]]^m[C[O++]]^f[C[O++]]^u[C[O++]]^d[C[O++]]^c[C[O++]]^l[C[O++]]^o[C[O++]]^i[C[O++]]^r[C[O++]];for(k+=15;O<k;)E=E>>>8^r[(E^C[O++])&255];return~E}function _(C,A){for(var E=A^-1,k=0,O=C.length,I=0,W=0;k<O;)I=C.charCodeAt(k++),I<128?E=E>>>8^r[(E^I)&255]:I<2048?(E=E>>>8^r[(E^(192|I>>6&31))&255],E=E>>>8^r[(E^(128|I&63))&255]):I>=55296&&I<57344?(I=(I&1023)+64,W=C.charCodeAt(k++)&1023,E=E>>>8^r[(E^(240|I>>8&7))&255],E=E>>>8^r[(E^(128|I>>2&63))&255],E=E>>>8^r[(E^(128|W>>6&15|(I&3)<<4))&255],E=E>>>8^r[(E^(128|W&63))&255]):(E=E>>>8^r[(E^(224|I>>12&15))&255],E=E>>>8^r[(E^(128|I>>6&63))&255],E=E>>>8^r[(E^(128|I&63))&255]);return~E}return e.table=r,e.bstr=b,e.buf=N,e.str=_,e}(),Lr=function(){var t={};t.version="1.2.1";function r(q,ie){for(var ee=q.split("/"),re=ie.split("/"),U=0,Q=0,_e=Math.min(ee.length,re.length);U<_e;++U){if(Q=ee[U].length-re[U].length)return Q;if(ee[U]!=re[U])return ee[U]<re[U]?-1:1}return ee.length-re.length}function s(q){if(q.charAt(q.length-1)=="/")return q.slice(0,-1).indexOf("/")===-1?q:s(q.slice(0,-1));var ie=q.lastIndexOf("/");return ie===-1?q:q.slice(0,ie+1)}function a(q){if(q.charAt(q.length-1)=="/")return a(q.slice(0,-1));var ie=q.lastIndexOf("/");return ie===-1?q:q.slice(ie+1)}function i(q,ie){typeof ie=="string"&&(ie=new Date(ie));var ee=ie.getHours();ee=ee<<6|ie.getMinutes(),ee=ee<<5|ie.getSeconds()>>>1,q.write_shift(2,ee);var re=ie.getFullYear()-1980;re=re<<4|ie.getMonth()+1,re=re<<5|ie.getDate(),q.write_shift(2,re)}function o(q){var ie=q.read_shift(2)&65535,ee=q.read_shift(2)&65535,re=new Date,U=ee&31;ee>>>=5;var Q=ee&15;ee>>>=4,re.setMilliseconds(0),re.setFullYear(ee+1980),re.setMonth(Q-1),re.setDate(U);var _e=ie&31;ie>>>=5;var Re=ie&63;return ie>>>=6,re.setHours(ie),re.setMinutes(Re),re.setSeconds(_e<<1),re}function l(q){Si(q,0);for(var ie={},ee=0;q.l<=q.length-4;){var re=q.read_shift(2),U=q.read_shift(2),Q=q.l+U,_e={};switch(re){case 21589:ee=q.read_shift(1),ee&1&&(_e.mtime=q.read_shift(4)),U>5&&(ee&2&&(_e.atime=q.read_shift(4)),ee&4&&(_e.ctime=q.read_shift(4))),_e.mtime&&(_e.mt=new Date(_e.mtime*1e3));break}q.l=Q,ie[re]=_e}return ie}var c;function d(){return c||(c={})}function u(q,ie){if(q[0]==80&&q[1]==75)return Lt(q,ie);if((q[0]|32)==109&&(q[1]|32)==105)return f_(q,ie);if(q.length<512)throw new Error("CFB file size "+q.length+" < 512");var ee=3,re=512,U=0,Q=0,_e=0,Re=0,Ce=0,Pe=[],je=q.slice(0,512);Si(je,0);var Ve=f(je);switch(ee=Ve[0],ee){case 3:re=512;break;case 4:re=4096;break;case 0:if(Ve[1]==0)return Lt(q,ie);default:throw new Error("Major Version: Expected 3 or 4 saw "+ee)}re!==512&&(je=q.slice(0,re),Si(je,28));var He=q.slice(0,re);m(je,ee);var Je=je.read_shift(4,"i");if(ee===3&&Je!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Je);je.l+=4,_e=je.read_shift(4,"i"),je.l+=4,je.chk("00100000","Mini Stream Cutoff Size: "),Re=je.read_shift(4,"i"),U=je.read_shift(4,"i"),Ce=je.read_shift(4,"i"),Q=je.read_shift(4,"i");for(var qe=-1,lt=0;lt<109&&(qe=je.read_shift(4,"i"),!(qe<0));++lt)Pe[lt]=qe;var Mt=h(q,re);g(Ce,Q,Mt,re,Pe);var jn=y(Mt,_e,Pe,re);jn[_e].name="!Directory",U>0&&Re!==W&&(jn[Re].name="!MiniFAT"),jn[Pe[0]].name="!FAT",jn.fat_addrs=Pe,jn.ssz=re;var bn={},Js=[],bx=[],wx=[];w(_e,jn,Mt,Js,U,bn,bx,Re),x(bx,wx,Js),Js.shift();var Nx={FileIndex:bx,FullPaths:wx};return ie&&ie.raw&&(Nx.raw={header:He,sectors:Mt}),Nx}function f(q){if(q[q.l]==80&&q[q.l+1]==75)return[0,0];q.chk(H,"Header Signature: "),q.l+=16;var ie=q.read_shift(2,"u");return[q.read_shift(2,"u"),ie]}function m(q,ie){var ee=9;switch(q.l+=2,ee=q.read_shift(2)){case 9:if(ie!=3)throw new Error("Sector Shift: Expected 9 saw "+ee);break;case 12:if(ie!=4)throw new Error("Sector Shift: Expected 12 saw "+ee);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ee)}q.chk("0600","Mini Sector Shift: "),q.chk("000000000000","Reserved: ")}function h(q,ie){for(var ee=Math.ceil(q.length/ie)-1,re=[],U=1;U<ee;++U)re[U-1]=q.slice(U*ie,(U+1)*ie);return re[ee-1]=q.slice(ee*ie),re}function x(q,ie,ee){for(var re=0,U=0,Q=0,_e=0,Re=0,Ce=ee.length,Pe=[],je=[];re<Ce;++re)Pe[re]=je[re]=re,ie[re]=ee[re];for(;Re<je.length;++Re)re=je[Re],U=q[re].L,Q=q[re].R,_e=q[re].C,Pe[re]===re&&(U!==-1&&Pe[U]!==U&&(Pe[re]=Pe[U]),Q!==-1&&Pe[Q]!==Q&&(Pe[re]=Pe[Q])),_e!==-1&&(Pe[_e]=re),U!==-1&&re!=Pe[re]&&(Pe[U]=Pe[re],je.lastIndexOf(U)<Re&&je.push(U)),Q!==-1&&re!=Pe[re]&&(Pe[Q]=Pe[re],je.lastIndexOf(Q)<Re&&je.push(Q));for(re=1;re<Ce;++re)Pe[re]===re&&(Q!==-1&&Pe[Q]!==Q?Pe[re]=Pe[Q]:U!==-1&&Pe[U]!==U&&(Pe[re]=Pe[U]));for(re=1;re<Ce;++re)if(q[re].type!==0){if(Re=re,Re!=Pe[Re])do Re=Pe[Re],ie[re]=ie[Re]+"/"+ie[re];while(Re!==0&&Pe[Re]!==-1&&Re!=Pe[Re]);Pe[re]=-1}for(ie[0]+="/",re=1;re<Ce;++re)q[re].type!==2&&(ie[re]+="/")}function p(q,ie,ee){for(var re=q.start,U=q.size,Q=[],_e=re;ee&&U>0&&_e>=0;)Q.push(ie.slice(_e*I,_e*I+I)),U-=I,_e=tf(ee,_e*4);return Q.length===0?Fe(0):zs(Q).slice(0,q.size)}function g(q,ie,ee,re,U){var Q=W;if(q===W){if(ie!==0)throw new Error("DIFAT chain shorter than expected")}else if(q!==-1){var _e=ee[q],Re=(re>>>2)-1;if(!_e)return;for(var Ce=0;Ce<Re&&(Q=tf(_e,Ce*4))!==W;++Ce)U.push(Q);g(tf(_e,re-4),ie-1,ee,re,U)}}function j(q,ie,ee,re,U){var Q=[],_e=[];U||(U=[]);var Re=re-1,Ce=0,Pe=0;for(Ce=ie;Ce>=0;){U[Ce]=!0,Q[Q.length]=Ce,_e.push(q[Ce]);var je=ee[Math.floor(Ce*4/re)];if(Pe=Ce*4&Re,re<4+Pe)throw new Error("FAT boundary crossed: "+Ce+" 4 "+re);if(!q[je])break;Ce=tf(q[je],Pe)}return{nodes:Q,data:QL([_e])}}function y(q,ie,ee,re){var U=q.length,Q=[],_e=[],Re=[],Ce=[],Pe=re-1,je=0,Ve=0,He=0,Je=0;for(je=0;je<U;++je)if(Re=[],He=je+ie,He>=U&&(He-=U),!_e[He]){Ce=[];var qe=[];for(Ve=He;Ve>=0;){qe[Ve]=!0,_e[Ve]=!0,Re[Re.length]=Ve,Ce.push(q[Ve]);var lt=ee[Math.floor(Ve*4/re)];if(Je=Ve*4&Pe,re<4+Je)throw new Error("FAT boundary crossed: "+Ve+" 4 "+re);if(!q[lt]||(Ve=tf(q[lt],Je),qe[Ve]))break}Q[He]={nodes:Re,data:QL([Ce])}}return Q}function w(q,ie,ee,re,U,Q,_e,Re){for(var Ce=0,Pe=re.length?2:0,je=ie[q].data,Ve=0,He=0,Je;Ve<je.length;Ve+=128){var qe=je.slice(Ve,Ve+128);Si(qe,64),He=qe.read_shift(2),Je=mD(qe,0,He-Pe),re.push(Je);var lt={name:Je,type:qe.read_shift(1),color:qe.read_shift(1),L:qe.read_shift(4,"i"),R:qe.read_shift(4,"i"),C:qe.read_shift(4,"i"),clsid:qe.read_shift(16),state:qe.read_shift(4,"i"),start:0,size:0},Mt=qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2);Mt!==0&&(lt.ct=b(qe,qe.l-8));var jn=qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2);jn!==0&&(lt.mt=b(qe,qe.l-8)),lt.start=qe.read_shift(4,"i"),lt.size=qe.read_shift(4,"i"),lt.size<0&&lt.start<0&&(lt.size=lt.type=0,lt.start=W,lt.name=""),lt.type===5?(Ce=lt.start,U>0&&Ce!==W&&(ie[Ce].name="!StreamData")):lt.size>=4096?(lt.storage="fat",ie[lt.start]===void 0&&(ie[lt.start]=j(ee,lt.start,ie.fat_addrs,ie.ssz)),ie[lt.start].name=lt.name,lt.content=ie[lt.start].data.slice(0,lt.size)):(lt.storage="minifat",lt.size<0?lt.size=0:Ce!==W&&lt.start!==W&&ie[Ce]&&(lt.content=p(lt,ie[Ce].data,(ie[Re]||{}).data))),lt.content&&Si(lt.content,0),Q[Je]=lt,_e.push(lt)}}function b(q,ie){return new Date((Ei(q,ie+4)/1e7*Math.pow(2,32)+Ei(q,ie)/1e7-11644473600)*1e3)}function N(q,ie){return d(),u(c.readFileSync(q),ie)}function _(q,ie){var ee=ie&&ie.type;switch(ee||yr&&Buffer.isBuffer(q)&&(ee="buffer"),ee||"base64"){case"file":return N(q,ie);case"base64":return u(Yo(sd(q)),ie);case"binary":return u(Yo(q),ie)}return u(q,ie)}function C(q,ie){var ee=ie||{},re=ee.root||"Root Entry";if(q.FullPaths||(q.FullPaths=[]),q.FileIndex||(q.FileIndex=[]),q.FullPaths.length!==q.FileIndex.length)throw new Error("inconsistent CFB structure");q.FullPaths.length===0&&(q.FullPaths[0]=re+"/",q.FileIndex[0]={name:re,type:5}),ee.CLSID&&(q.FileIndex[0].clsid=ee.CLSID),A(q)}function A(q){var ie="Sh33tJ5";if(!Lr.find(q,"/"+ie)){var ee=Fe(4);ee[0]=55,ee[1]=ee[3]=50,ee[2]=54,q.FileIndex.push({name:ie,type:2,content:ee,size:4,L:69,R:69,C:69}),q.FullPaths.push(q.FullPaths[0]+ie),E(q)}}function E(q,ie){C(q);for(var ee=!1,re=!1,U=q.FullPaths.length-1;U>=0;--U){var Q=q.FileIndex[U];switch(Q.type){case 0:re?ee=!0:(q.FileIndex.pop(),q.FullPaths.pop());break;case 1:case 2:case 5:re=!0,isNaN(Q.R*Q.L*Q.C)&&(ee=!0),Q.R>-1&&Q.L>-1&&Q.R==Q.L&&(ee=!0);break;default:ee=!0;break}}if(!(!ee&&!ie)){var _e=new Date(1987,1,19),Re=0,Ce=Object.create?Object.create(null):{},Pe=[];for(U=0;U<q.FullPaths.length;++U)Ce[q.FullPaths[U]]=!0,q.FileIndex[U].type!==0&&Pe.push([q.FullPaths[U],q.FileIndex[U]]);for(U=0;U<Pe.length;++U){var je=s(Pe[U][0]);re=Ce[je],re||(Pe.push([je,{name:a(je).replace("/",""),type:1,clsid:T,ct:_e,mt:_e,content:null}]),Ce[je]=!0)}for(Pe.sort(function(Je,qe){return r(Je[0],qe[0])}),q.FullPaths=[],q.FileIndex=[],U=0;U<Pe.length;++U)q.FullPaths[U]=Pe[U][0],q.FileIndex[U]=Pe[U][1];for(U=0;U<Pe.length;++U){var Ve=q.FileIndex[U],He=q.FullPaths[U];if(Ve.name=a(He).replace("/",""),Ve.L=Ve.R=Ve.C=-(Ve.color=1),Ve.size=Ve.content?Ve.content.length:0,Ve.start=0,Ve.clsid=Ve.clsid||T,U===0)Ve.C=Pe.length>1?1:-1,Ve.size=0,Ve.type=5;else if(He.slice(-1)=="/"){for(Re=U+1;Re<Pe.length&&s(q.FullPaths[Re])!=He;++Re);for(Ve.C=Re>=Pe.length?-1:Re,Re=U+1;Re<Pe.length&&s(q.FullPaths[Re])!=s(He);++Re);Ve.R=Re>=Pe.length?-1:Re,Ve.type=1}else s(q.FullPaths[U+1]||"")==s(He)&&(Ve.R=U+1),Ve.type=2}}}function k(q,ie){var ee=ie||{};if(ee.fileType=="mad")return m_(q,ee);switch(E(q),ee.fileType){case"zip":return is(q,ee)}var re=function(Je){for(var qe=0,lt=0,Mt=0;Mt<Je.FileIndex.length;++Mt){var jn=Je.FileIndex[Mt];if(jn.content){var bn=jn.content.length;bn>0&&(bn<4096?qe+=bn+63>>6:lt+=bn+511>>9)}}for(var Js=Je.FullPaths.length+3>>2,bx=qe+7>>3,wx=qe+127>>7,Nx=bx+lt+Js+wx,Lu=Nx+127>>7,v_=Lu<=109?0:Math.ceil((Lu-109)/127);Nx+Lu+v_+127>>7>Lu;)v_=++Lu<=109?0:Math.ceil((Lu-109)/127);var dc=[1,v_,Lu,wx,Js,lt,qe,0];return Je.FileIndex[0].size=qe<<6,dc[7]=(Je.FileIndex[0].start=dc[0]+dc[1]+dc[2]+dc[3]+dc[4]+dc[5])+(dc[6]+7>>3),dc}(q),U=Fe(re[7]<<9),Q=0,_e=0;{for(Q=0;Q<8;++Q)U.write_shift(1,F[Q]);for(Q=0;Q<8;++Q)U.write_shift(2,0);for(U.write_shift(2,62),U.write_shift(2,3),U.write_shift(2,65534),U.write_shift(2,9),U.write_shift(2,6),Q=0;Q<3;++Q)U.write_shift(2,0);for(U.write_shift(4,0),U.write_shift(4,re[2]),U.write_shift(4,re[0]+re[1]+re[2]+re[3]-1),U.write_shift(4,0),U.write_shift(4,4096),U.write_shift(4,re[3]?re[0]+re[1]+re[2]-1:W),U.write_shift(4,re[3]),U.write_shift(-4,re[1]?re[0]-1:W),U.write_shift(4,re[1]),Q=0;Q<109;++Q)U.write_shift(-4,Q<re[2]?re[1]+Q:-1)}if(re[1])for(_e=0;_e<re[1];++_e){for(;Q<236+_e*127;++Q)U.write_shift(-4,Q<re[2]?re[1]+Q:-1);U.write_shift(-4,_e===re[1]-1?W:_e+1)}var Re=function(Je){for(_e+=Je;Q<_e-1;++Q)U.write_shift(-4,Q+1);Je&&(++Q,U.write_shift(-4,W))};for(_e=Q=0,_e+=re[1];Q<_e;++Q)U.write_shift(-4,P.DIFSECT);for(_e+=re[2];Q<_e;++Q)U.write_shift(-4,P.FATSECT);Re(re[3]),Re(re[4]);for(var Ce=0,Pe=0,je=q.FileIndex[0];Ce<q.FileIndex.length;++Ce)je=q.FileIndex[Ce],je.content&&(Pe=je.content.length,!(Pe<4096)&&(je.start=_e,Re(Pe+511>>9)));for(Re(re[6]+7>>3);U.l&511;)U.write_shift(-4,P.ENDOFCHAIN);for(_e=Q=0,Ce=0;Ce<q.FileIndex.length;++Ce)je=q.FileIndex[Ce],je.content&&(Pe=je.content.length,!(!Pe||Pe>=4096)&&(je.start=_e,Re(Pe+63>>6)));for(;U.l&511;)U.write_shift(-4,P.ENDOFCHAIN);for(Q=0;Q<re[4]<<2;++Q){var Ve=q.FullPaths[Q];if(!Ve||Ve.length===0){for(Ce=0;Ce<17;++Ce)U.write_shift(4,0);for(Ce=0;Ce<3;++Ce)U.write_shift(4,-1);for(Ce=0;Ce<12;++Ce)U.write_shift(4,0);continue}je=q.FileIndex[Q],Q===0&&(je.start=je.size?je.start-1:W);var He=Q===0&&ee.root||je.name;if(Pe=2*(He.length+1),U.write_shift(64,He,"utf16le"),U.write_shift(2,Pe),U.write_shift(1,je.type),U.write_shift(1,je.color),U.write_shift(-4,je.L),U.write_shift(-4,je.R),U.write_shift(-4,je.C),je.clsid)U.write_shift(16,je.clsid,"hex");else for(Ce=0;Ce<4;++Ce)U.write_shift(4,0);U.write_shift(4,je.state||0),U.write_shift(4,0),U.write_shift(4,0),U.write_shift(4,0),U.write_shift(4,0),U.write_shift(4,je.start),U.write_shift(4,je.size),U.write_shift(4,0)}for(Q=1;Q<q.FileIndex.length;++Q)if(je=q.FileIndex[Q],je.size>=4096)if(U.l=je.start+1<<9,yr&&Buffer.isBuffer(je.content))je.content.copy(U,U.l,0,je.size),U.l+=je.size+511&-512;else{for(Ce=0;Ce<je.size;++Ce)U.write_shift(1,je.content[Ce]);for(;Ce&511;++Ce)U.write_shift(1,0)}for(Q=1;Q<q.FileIndex.length;++Q)if(je=q.FileIndex[Q],je.size>0&&je.size<4096)if(yr&&Buffer.isBuffer(je.content))je.content.copy(U,U.l,0,je.size),U.l+=je.size+63&-64;else{for(Ce=0;Ce<je.size;++Ce)U.write_shift(1,je.content[Ce]);for(;Ce&63;++Ce)U.write_shift(1,0)}if(yr)U.l=U.length;else for(;U.l<U.length;)U.write_shift(1,0);return U}function O(q,ie){var ee=q.FullPaths.map(function(Ce){return Ce.toUpperCase()}),re=ee.map(function(Ce){var Pe=Ce.split("/");return Pe[Pe.length-(Ce.slice(-1)=="/"?2:1)]}),U=!1;ie.charCodeAt(0)===47?(U=!0,ie=ee[0].slice(0,-1)+ie):U=ie.indexOf("/")!==-1;var Q=ie.toUpperCase(),_e=U===!0?ee.indexOf(Q):re.indexOf(Q);if(_e!==-1)return q.FileIndex[_e];var Re=!Q.match(Dj);for(Q=Q.replace(Ug,""),Re&&(Q=Q.replace(Dj,"!")),_e=0;_e<ee.length;++_e)if((Re?ee[_e].replace(Dj,"!"):ee[_e]).replace(Ug,"")==Q||(Re?re[_e].replace(Dj,"!"):re[_e]).replace(Ug,"")==Q)return q.FileIndex[_e];return null}var I=64,W=-2,H="d0cf11e0a1b11ae1",F=[208,207,17,224,161,177,26,225],T="00000000000000000000000000000000",P={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:W,FREESECT:-1,HEADER_SIGNATURE:H,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:T,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function M(q,ie,ee){d();var re=k(q,ee);c.writeFileSync(ie,re)}function D(q){for(var ie=new Array(q.length),ee=0;ee<q.length;++ee)ie[ee]=String.fromCharCode(q[ee]);return ie.join("")}function Y(q,ie){var ee=k(q,ie);switch(ie&&ie.type||"buffer"){case"file":return d(),c.writeFileSync(ie.filename,ee),ee;case"binary":return typeof ee=="string"?ee:D(ee);case"base64":return gv(typeof ee=="string"?ee:D(ee));case"buffer":if(yr)return Buffer.isBuffer(ee)?ee:hd(ee);case"array":return typeof ee=="string"?Yo(ee):ee}return ee}var ae;function R(q){try{var ie=q.InflateRaw,ee=new ie;if(ee._processChunk(new Uint8Array([3,0]),ee._finishFlushFlag),ee.bytesRead)ae=q;else throw new Error("zlib does not expose bytesRead")}catch(re){console.error("cannot use native zlib: "+(re.message||re))}}function V(q,ie){if(!ae)return yt(q,ie);var ee=ae.InflateRaw,re=new ee,U=re._processChunk(q.slice(q.l),re._finishFlushFlag);return q.l+=re.bytesRead,U}function L(q){return ae?ae.deflateRawSync(q):Ke(q)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],me=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function B(q){var ie=(q<<1|q<<11)&139536|(q<<5|q<<15)&558144;return(ie>>16|ie>>8|ie)&255}for(var X=typeof Uint8Array<"u",oe=X?new Uint8Array(256):[],Ne=0;Ne<256;++Ne)oe[Ne]=B(Ne);function ue(q,ie){var ee=oe[q&255];return ie<=8?ee>>>8-ie:(ee=ee<<8|oe[q>>8&255],ie<=16?ee>>>16-ie:(ee=ee<<8|oe[q>>16&255],ee>>>24-ie))}function ve(q,ie){var ee=ie&7,re=ie>>>3;return(q[re]|(ee<=6?0:q[re+1]<<8))>>>ee&3}function xe(q,ie){var ee=ie&7,re=ie>>>3;return(q[re]|(ee<=5?0:q[re+1]<<8))>>>ee&7}function Ee(q,ie){var ee=ie&7,re=ie>>>3;return(q[re]|(ee<=4?0:q[re+1]<<8))>>>ee&15}function Me(q,ie){var ee=ie&7,re=ie>>>3;return(q[re]|(ee<=3?0:q[re+1]<<8))>>>ee&31}function Te(q,ie){var ee=ie&7,re=ie>>>3;return(q[re]|(ee<=1?0:q[re+1]<<8))>>>ee&127}function se(q,ie,ee){var re=ie&7,U=ie>>>3,Q=(1<<ee)-1,_e=q[U]>>>re;return ee<8-re||(_e|=q[U+1]<<8-re,ee<16-re)||(_e|=q[U+2]<<16-re,ee<24-re)||(_e|=q[U+3]<<24-re),_e&Q}function he(q,ie,ee){var re=ie&7,U=ie>>>3;return re<=5?q[U]|=(ee&7)<<re:(q[U]|=ee<<re&255,q[U+1]=(ee&7)>>8-re),ie+3}function ce(q,ie,ee){var re=ie&7,U=ie>>>3;return ee=(ee&1)<<re,q[U]|=ee,ie+1}function be(q,ie,ee){var re=ie&7,U=ie>>>3;return ee<<=re,q[U]|=ee&255,ee>>>=8,q[U+1]=ee,ie+8}function $e(q,ie,ee){var re=ie&7,U=ie>>>3;return ee<<=re,q[U]|=ee&255,ee>>>=8,q[U+1]=ee&255,q[U+2]=ee>>>8,ie+16}function De(q,ie){var ee=q.length,re=2*ee>ie?2*ee:ie+5,U=0;if(ee>=ie)return q;if(yr){var Q=ML(re);if(q.copy)q.copy(Q);else for(;U<q.length;++U)Q[U]=q[U];return Q}else if(X){var _e=new Uint8Array(re);if(_e.set)_e.set(q);else for(;U<ee;++U)_e[U]=q[U];return _e}return q.length=re,q}function de(q){for(var ie=new Array(q),ee=0;ee<q;++ee)ie[ee]=0;return ie}function Ie(q,ie,ee){var re=1,U=0,Q=0,_e=0,Re=0,Ce=q.length,Pe=X?new Uint16Array(32):de(32);for(Q=0;Q<32;++Q)Pe[Q]=0;for(Q=Ce;Q<ee;++Q)q[Q]=0;Ce=q.length;var je=X?new Uint16Array(Ce):de(Ce);for(Q=0;Q<Ce;++Q)Pe[U=q[Q]]++,re<U&&(re=U),je[Q]=0;for(Pe[0]=0,Q=1;Q<=re;++Q)Pe[Q+16]=Re=Re+Pe[Q-1]<<1;for(Q=0;Q<Ce;++Q)Re=q[Q],Re!=0&&(je[Q]=Pe[Re+16]++);var Ve=0;for(Q=0;Q<Ce;++Q)if(Ve=q[Q],Ve!=0)for(Re=ue(je[Q],re)>>re-Ve,_e=(1<<re+4-Ve)-1;_e>=0;--_e)ie[Re|_e<<Ve]=Ve&15|Q<<4;return re}var ot=X?new Uint16Array(512):de(512),jt=X?new Uint16Array(32):de(32);if(!X){for(var Ze=0;Ze<512;++Ze)ot[Ze]=0;for(Ze=0;Ze<32;++Ze)jt[Ze]=0}(function(){for(var q=[],ie=0;ie<32;ie++)q.push(5);Ie(q,jt,32);var ee=[];for(ie=0;ie<=143;ie++)ee.push(8);for(;ie<=255;ie++)ee.push(9);for(;ie<=279;ie++)ee.push(7);for(;ie<=287;ie++)ee.push(8);Ie(ee,ot,288)})();var ye=function(){for(var ie=X?new Uint8Array(32768):[],ee=0,re=0;ee<me.length-1;++ee)for(;re<me[ee+1];++re)ie[re]=ee;for(;re<32768;++re)ie[re]=29;var U=X?new Uint8Array(259):[];for(ee=0,re=0;ee<le.length-1;++ee)for(;re<le[ee+1];++re)U[re]=ee;function Q(Re,Ce){for(var Pe=0;Pe<Re.length;){var je=Math.min(65535,Re.length-Pe),Ve=Pe+je==Re.length;for(Ce.write_shift(1,+Ve),Ce.write_shift(2,je),Ce.write_shift(2,~je&65535);je-- >0;)Ce[Ce.l++]=Re[Pe++]}return Ce.l}function _e(Re,Ce){for(var Pe=0,je=0,Ve=X?new Uint16Array(32768):[];je<Re.length;){var He=Math.min(65535,Re.length-je);if(He<10){for(Pe=he(Ce,Pe,+(je+He==Re.length)),Pe&7&&(Pe+=8-(Pe&7)),Ce.l=Pe/8|0,Ce.write_shift(2,He),Ce.write_shift(2,~He&65535);He-- >0;)Ce[Ce.l++]=Re[je++];Pe=Ce.l*8;continue}Pe=he(Ce,Pe,+(je+He==Re.length)+2);for(var Je=0;He-- >0;){var qe=Re[je];Je=(Je<<5^qe)&32767;var lt=-1,Mt=0;if((lt=Ve[Je])&&(lt|=je&-32768,lt>je&&(lt-=32768),lt<je))for(;Re[lt+Mt]==Re[je+Mt]&&Mt<250;)++Mt;if(Mt>2){qe=U[Mt],qe<=22?Pe=be(Ce,Pe,oe[qe+1]>>1)-1:(be(Ce,Pe,3),Pe+=5,be(Ce,Pe,oe[qe-23]>>5),Pe+=3);var jn=qe<8?0:qe-4>>2;jn>0&&($e(Ce,Pe,Mt-le[qe]),Pe+=jn),qe=ie[je-lt],Pe=be(Ce,Pe,oe[qe]>>3),Pe-=3;var bn=qe<4?0:qe-2>>1;bn>0&&($e(Ce,Pe,je-lt-me[qe]),Pe+=bn);for(var Js=0;Js<Mt;++Js)Ve[Je]=je&32767,Je=(Je<<5^Re[je])&32767,++je;He-=Mt-1}else qe<=143?qe=qe+48:Pe=ce(Ce,Pe,1),Pe=be(Ce,Pe,oe[qe]),Ve[Je]=je&32767,++je}Pe=be(Ce,Pe,0)-1}return Ce.l=(Pe+7)/8|0,Ce.l}return function(Ce,Pe){return Ce.length<8?Q(Ce,Pe):_e(Ce,Pe)}}();function Ke(q){var ie=Fe(50+Math.floor(q.length*1.1)),ee=ye(q,ie);return ie.slice(0,ee)}var Ct=X?new Uint16Array(32768):de(32768),Et=X?new Uint16Array(32768):de(32768),ur=X?new Uint16Array(128):de(128),vr=1,Pn=1;function Ur(q,ie){var ee=Me(q,ie)+257;ie+=5;var re=Me(q,ie)+1;ie+=5;var U=Ee(q,ie)+4;ie+=4;for(var Q=0,_e=X?new Uint8Array(19):de(19),Re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ce=1,Pe=X?new Uint8Array(8):de(8),je=X?new Uint8Array(8):de(8),Ve=_e.length,He=0;He<U;++He)_e[K[He]]=Q=xe(q,ie),Ce<Q&&(Ce=Q),Pe[Q]++,ie+=3;var Je=0;for(Pe[0]=0,He=1;He<=Ce;++He)je[He]=Je=Je+Pe[He-1]<<1;for(He=0;He<Ve;++He)(Je=_e[He])!=0&&(Re[He]=je[Je]++);var qe=0;for(He=0;He<Ve;++He)if(qe=_e[He],qe!=0){Je=oe[Re[He]]>>8-qe;for(var lt=(1<<7-qe)-1;lt>=0;--lt)ur[Je|lt<<qe]=qe&7|He<<3}var Mt=[];for(Ce=1;Mt.length<ee+re;)switch(Je=ur[Te(q,ie)],ie+=Je&7,Je>>>=3){case 16:for(Q=3+ve(q,ie),ie+=2,Je=Mt[Mt.length-1];Q-- >0;)Mt.push(Je);break;case 17:for(Q=3+xe(q,ie),ie+=3;Q-- >0;)Mt.push(0);break;case 18:for(Q=11+Te(q,ie),ie+=7;Q-- >0;)Mt.push(0);break;default:Mt.push(Je),Ce<Je&&(Ce=Je);break}var jn=Mt.slice(0,ee),bn=Mt.slice(ee);for(He=ee;He<286;++He)jn[He]=0;for(He=re;He<30;++He)bn[He]=0;return vr=Ie(jn,Ct,286),Pn=Ie(bn,Et,30),ie}function Er(q,ie){if(q[0]==3&&!(q[1]&3))return[tm(ie),2];for(var ee=0,re=0,U=ML(ie||1<<18),Q=0,_e=U.length>>>0,Re=0,Ce=0;!(re&1);){if(re=xe(q,ee),ee+=3,re>>>1)re>>1==1?(Re=9,Ce=5):(ee=Ur(q,ee),Re=vr,Ce=Pn);else{ee&7&&(ee+=8-(ee&7));var Pe=q[ee>>>3]|q[(ee>>>3)+1]<<8;if(ee+=32,Pe>0)for(!ie&&_e<Q+Pe&&(U=De(U,Q+Pe),_e=U.length);Pe-- >0;)U[Q++]=q[ee>>>3],ee+=8;continue}for(;;){!ie&&_e<Q+32767&&(U=De(U,Q+32767),_e=U.length);var je=se(q,ee,Re),Ve=re>>>1==1?ot[je]:Ct[je];if(ee+=Ve&15,Ve>>>=4,!(Ve>>>8&255))U[Q++]=Ve;else{if(Ve==256)break;Ve-=257;var He=Ve<8?0:Ve-4>>2;He>5&&(He=0);var Je=Q+le[Ve];He>0&&(Je+=se(q,ee,He),ee+=He),je=se(q,ee,Ce),Ve=re>>>1==1?jt[je]:Et[je],ee+=Ve&15,Ve>>>=4;var qe=Ve<4?0:Ve-2>>1,lt=me[Ve];for(qe>0&&(lt+=se(q,ee,qe),ee+=qe),!ie&&_e<Je&&(U=De(U,Je+100),_e=U.length);Q<Je;)U[Q]=U[Q-lt],++Q}}}return ie?[U,ee+7>>>3]:[U.slice(0,Q),ee+7>>>3]}function yt(q,ie){var ee=q.slice(q.l||0),re=Er(ee,ie);return q.l+=re[1],re[0]}function Rt(q,ie){if(q)typeof console<"u"&&console.error(ie);else throw new Error(ie)}function Lt(q,ie){var ee=q;Si(ee,0);var re=[],U=[],Q={FileIndex:re,FullPaths:U};C(Q,{root:ie.root});for(var _e=ee.length-4;(ee[_e]!=80||ee[_e+1]!=75||ee[_e+2]!=5||ee[_e+3]!=6)&&_e>=0;)--_e;ee.l=_e+4,ee.l+=4;var Re=ee.read_shift(2);ee.l+=6;var Ce=ee.read_shift(4);for(ee.l=Ce,_e=0;_e<Re;++_e){ee.l+=20;var Pe=ee.read_shift(4),je=ee.read_shift(4),Ve=ee.read_shift(2),He=ee.read_shift(2),Je=ee.read_shift(2);ee.l+=8;var qe=ee.read_shift(4),lt=l(ee.slice(ee.l+Ve,ee.l+Ve+He));ee.l+=Ve+He+Je;var Mt=ee.l;ee.l=qe+4,Gr(ee,Pe,je,Q,lt),ee.l=Mt}return Q}function Gr(q,ie,ee,re,U){q.l+=2;var Q=q.read_shift(2),_e=q.read_shift(2),Re=o(q);if(Q&8257)throw new Error("Unsupported ZIP encryption");for(var Ce=q.read_shift(4),Pe=q.read_shift(4),je=q.read_shift(4),Ve=q.read_shift(2),He=q.read_shift(2),Je="",qe=0;qe<Ve;++qe)Je+=String.fromCharCode(q[q.l++]);if(He){var lt=l(q.slice(q.l,q.l+He));(lt[21589]||{}).mt&&(Re=lt[21589].mt),((U||{})[21589]||{}).mt&&(Re=U[21589].mt)}q.l+=He;var Mt=q.slice(q.l,q.l+Pe);switch(_e){case 8:Mt=V(q,je);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+_e)}var jn=!1;Q&8&&(Ce=q.read_shift(4),Ce==134695760&&(Ce=q.read_shift(4),jn=!0),Pe=q.read_shift(4),je=q.read_shift(4)),Pe!=ie&&Rt(jn,"Bad compressed size: "+ie+" != "+Pe),je!=ee&&Rt(jn,"Bad uncompressed size: "+ee+" != "+je),jx(re,Je,Mt,{unsafe:!0,mt:Re})}function is(q,ie){var ee=ie||{},re=[],U=[],Q=Fe(1),_e=ee.compression?8:0,Re=0,Ce=0,Pe=0,je=0,Ve=0,He=q.FullPaths[0],Je=He,qe=q.FileIndex[0],lt=[],Mt=0;for(Ce=1;Ce<q.FullPaths.length;++Ce)if(Je=q.FullPaths[Ce].slice(He.length),qe=q.FileIndex[Ce],!(!qe.size||!qe.content||Je=="Sh33tJ5")){var jn=je,bn=Fe(Je.length);for(Pe=0;Pe<Je.length;++Pe)bn.write_shift(1,Je.charCodeAt(Pe)&127);bn=bn.slice(0,bn.l),lt[Ve]=RKe.buf(qe.content,0);var Js=qe.content;_e==8&&(Js=L(Js)),Q=Fe(30),Q.write_shift(4,67324752),Q.write_shift(2,20),Q.write_shift(2,Re),Q.write_shift(2,_e),qe.mt?i(Q,qe.mt):Q.write_shift(4,0),Q.write_shift(-4,lt[Ve]),Q.write_shift(4,Js.length),Q.write_shift(4,qe.content.length),Q.write_shift(2,bn.length),Q.write_shift(2,0),je+=Q.length,re.push(Q),je+=bn.length,re.push(bn),je+=Js.length,re.push(Js),Q=Fe(46),Q.write_shift(4,33639248),Q.write_shift(2,0),Q.write_shift(2,20),Q.write_shift(2,Re),Q.write_shift(2,_e),Q.write_shift(4,0),Q.write_shift(-4,lt[Ve]),Q.write_shift(4,Js.length),Q.write_shift(4,qe.content.length),Q.write_shift(2,bn.length),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(4,0),Q.write_shift(4,jn),Mt+=Q.l,U.push(Q),Mt+=bn.length,U.push(bn),++Ve}return Q=Fe(22),Q.write_shift(4,101010256),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(2,Ve),Q.write_shift(2,Ve),Q.write_shift(4,Mt),Q.write_shift(4,je),Q.write_shift(2,0),zs([zs(re),zs(U),Q])}var Ua={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function pd(q,ie){if(q.ctype)return q.ctype;var ee=q.name||"",re=ee.match(/\.([^\.]+)$/);return re&&Ua[re[1]]||ie&&(re=(ee=ie).match(/[\.\\]([^\.\\])+$/),re&&Ua[re[1]])?Ua[re[1]]:"application/octet-stream"}function Qi(q){for(var ie=gv(q),ee=[],re=0;re<ie.length;re+=76)ee.push(ie.slice(re,re+76));return ee.join(`\r
`)+`\r
`}function bm(q){var ie=q.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Pe){var je=Pe.charCodeAt(0).toString(16).toUpperCase();return"="+(je.length==1?"0"+je:je)});ie=ie.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ie.charAt(0)==`
`&&(ie="=0D"+ie.slice(1)),ie=ie.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ee=[],re=ie.split(`\r
`),U=0;U<re.length;++U){var Q=re[U];if(Q.length==0){ee.push("");continue}for(var _e=0;_e<Q.length;){var Re=76,Ce=Q.slice(_e,_e+Re);Ce.charAt(Re-1)=="="?Re--:Ce.charAt(Re-2)=="="?Re-=2:Ce.charAt(Re-3)=="="&&(Re-=3),Ce=Q.slice(_e,_e+Re),_e+=Re,_e<Q.length&&(Ce+="="),ee.push(Ce)}}return ee.join(`\r
`)}function u_(q){for(var ie=[],ee=0;ee<q.length;++ee){for(var re=q[ee];ee<=q.length&&re.charAt(re.length-1)=="=";)re=re.slice(0,re.length-1)+q[++ee];ie.push(re)}for(var U=0;U<ie.length;++U)ie[U]=ie[U].replace(/[=][0-9A-Fa-f]{2}/g,function(Q){return String.fromCharCode(parseInt(Q.slice(1),16))});return Yo(ie.join(`\r
`))}function xd(q,ie,ee){for(var re="",U="",Q="",_e,Re=0;Re<10;++Re){var Ce=ie[Re];if(!Ce||Ce.match(/^\s*$/))break;var Pe=Ce.match(/^(.*?):\s*([^\s].*)$/);if(Pe)switch(Pe[1].toLowerCase()){case"content-location":re=Pe[2].trim();break;case"content-type":Q=Pe[2].trim();break;case"content-transfer-encoding":U=Pe[2].trim();break}}switch(++Re,U.toLowerCase()){case"base64":_e=Yo(sd(ie.slice(Re).join("")));break;case"quoted-printable":_e=u_(ie.slice(Re));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+U)}var je=jx(q,re.slice(ee.length),_e,{unsafe:!0});Q&&(je.ctype=Q)}function f_(q,ie){if(D(q.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ee=ie&&ie.root||"",re=(yr&&Buffer.isBuffer(q)?q.toString("binary"):D(q)).split(`\r
`),U=0,Q="";for(U=0;U<re.length;++U)if(Q=re[U],!!/^Content-Location:/i.test(Q)&&(Q=Q.slice(Q.indexOf("file")),ee||(ee=Q.slice(0,Q.lastIndexOf("/")+1)),Q.slice(0,ee.length)!=ee))for(;ee.length>0&&(ee=ee.slice(0,ee.length-1),ee=ee.slice(0,ee.lastIndexOf("/")+1),Q.slice(0,ee.length)!=ee););var _e=(re[1]||"").match(/boundary="(.*?)"/);if(!_e)throw new Error("MAD cannot find boundary");var Re="--"+(_e[1]||""),Ce=[],Pe=[],je={FileIndex:Ce,FullPaths:Pe};C(je);var Ve,He=0;for(U=0;U<re.length;++U){var Je=re[U];Je!==Re&&Je!==Re+"--"||(He++&&xd(je,re.slice(Ve,U),ee),Ve=U)}return je}function m_(q,ie){var ee=ie||{},re=ee.boundary||"SheetJS";re="------="+re;for(var U=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+re.slice(2)+'"',"","",""],Q=q.FullPaths[0],_e=Q,Re=q.FileIndex[0],Ce=1;Ce<q.FullPaths.length;++Ce)if(_e=q.FullPaths[Ce].slice(Q.length),Re=q.FileIndex[Ce],!(!Re.size||!Re.content||_e=="Sh33tJ5")){_e=_e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Mt){return"_x"+Mt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Mt){return"_u"+Mt.charCodeAt(0).toString(16)+"_"});for(var Pe=Re.content,je=yr&&Buffer.isBuffer(Pe)?Pe.toString("binary"):D(Pe),Ve=0,He=Math.min(1024,je.length),Je=0,qe=0;qe<=He;++qe)(Je=je.charCodeAt(qe))>=32&&Je<128&&++Ve;var lt=Ve>=He*4/5;U.push(re),U.push("Content-Location: "+(ee.root||"file:///C:/SheetJS/")+_e),U.push("Content-Transfer-Encoding: "+(lt?"quoted-printable":"base64")),U.push("Content-Type: "+pd(Re,_e)),U.push(""),U.push(lt?bm(je):Qi(je))}return U.push(re+`--\r
`),U.join(`\r
`)}function h_(q){var ie={};return C(ie,q),ie}function jx(q,ie,ee,re){var U=re&&re.unsafe;U||C(q);var Q=!U&&Lr.find(q,ie);if(!Q){var _e=q.FullPaths[0];ie.slice(0,_e.length)==_e?_e=ie:(_e.slice(-1)!="/"&&(_e+="/"),_e=(_e+ie).replace("//","/")),Q={name:a(ie),type:2},q.FileIndex.push(Q),q.FullPaths.push(_e),U||Lr.utils.cfb_gc(q)}return Q.content=ee,Q.size=ee?ee.length:0,re&&(re.CLSID&&(Q.clsid=re.CLSID),re.mt&&(Q.mt=re.mt),re.ct&&(Q.ct=re.ct)),Q}function p_(q,ie){C(q);var ee=Lr.find(q,ie);if(ee){for(var re=0;re<q.FileIndex.length;++re)if(q.FileIndex[re]==ee)return q.FileIndex.splice(re,1),q.FullPaths.splice(re,1),!0}return!1}function x_(q,ie,ee){C(q);var re=Lr.find(q,ie);if(re){for(var U=0;U<q.FileIndex.length;++U)if(q.FileIndex[U]==re)return q.FileIndex[U].name=a(ee),q.FullPaths[U]=ee,!0}return!1}function g_(q){E(q,!0)}return t.find=O,t.read=_,t.parse=u,t.write=Y,t.writeFile=M,t.utils={cfb_new:h_,cfb_add:jx,cfb_del:p_,cfb_mov:x_,cfb_gc:g_,ReadShift:zg,CheckField:LJ,prep_blob:Si,bconcat:zs,use_zlib:R,_deflateRaw:Ke,_inflateRaw:yt,consts:P},t}();function MKe(e){return typeof e=="string"?n_(e):Array.isArray(e)?lKe(e):e}function Cy(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=n_(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var s=r=="utf8"?yv(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(s,e);if(typeof Blob<"u"){var a=new Blob([MKe(s)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Sy(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Qs(e){for(var t=Object.keys(e),r=[],s=0;s<t.length;++s)Object.prototype.hasOwnProperty.call(e,t[s])&&r.push(t[s]);return r}function WL(e,t){for(var r=[],s=Qs(e),a=0;a!==s.length;++a)r[e[s[a]][t]]==null&&(r[e[s[a]][t]]=s[a]);return r}function cD(e){for(var t=[],r=Qs(e),s=0;s!==r.length;++s)t[e[r[s]]]=r[s];return t}function i_(e){for(var t=[],r=Qs(e),s=0;s!==r.length;++s)t[e[r[s]]]=parseInt(r[s],10);return t}function FKe(e){for(var t=[],r=Qs(e),s=0;s!==r.length;++s)t[e[r[s]]]==null&&(t[e[r[s]]]=[]),t[e[r[s]]].push(r[s]);return t}var $w=new Date(1899,11,30,0,0,0);function di(e,t){var r=e.getTime(),s=$w.getTime()+(e.getTimezoneOffset()-$w.getTimezoneOffset())*6e4;return(r-s)/(24*60*60*1e3)}var wJ=new Date,$Ke=$w.getTime()+(wJ.getTimezoneOffset()-$w.getTimezoneOffset())*6e4,HL=wJ.getTimezoneOffset();function NJ(e){var t=new Date;return t.setTime(e*24*60*60*1e3+$Ke),t.getTimezoneOffset()!==HL&&t.setTime(t.getTime()+(t.getTimezoneOffset()-HL)*6e4),t}var qL=new Date("2017-02-19T19:06:09.000Z"),_J=isNaN(qL.getFullYear())?new Date("2/19/17"):qL,LKe=_J.getFullYear()==2017;function Ta(e,t){var r=new Date(e);if(LKe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(_J.getFullYear()==1917&&!isNaN(r.getFullYear())){var s=r.getFullYear();return e.indexOf(""+s)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function o_(e,t){if(yr&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var s=[],a=0;a!=e.length;++a)s.push(String.fromCharCode(e[a]));return s.join("")}function ui(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ui(e[r]));return t}function Mn(e,t){for(var r="";r.length<t;)r+=e;return r}function Lc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,s=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(s))||(s=s.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(s)))?t/r:t}var BKe=["january","february","march","april","may","june","july","august","september","october","november","december"];function vv(e){var t=new Date(e),r=new Date(NaN),s=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&BKe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return s<0||s>8099?r:(a>0||i>1)&&s!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Zt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var s;return yr?s=hd(r):s=cKe(r),Lr.utils.cfb_add(e,t,s)}Lr.utils.cfb_add(e,t,r)}else e.file(t,r)}function dD(){return Lr.utils.cfb_new()}var as=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,UKe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},uD=cD(UKe),fD=/[&<>'"]/g,VKe=/[\u0000-\u0008\u000b-\u001f]/g;function Dr(e){var t=e+"";return t.replace(fD,function(r){return uD[r]}).replace(VKe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function GL(e){return Dr(e).replace(/ /g,"_x0020_")}var SJ=/[\u0000-\u001f]/g;function zKe(e){var t=e+"";return t.replace(fD,function(r){return uD[r]}).replace(/\n/g,"<br/>").replace(SJ,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function WKe(e){var t=e+"";return t.replace(fD,function(r){return uD[r]}).replace(SJ,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function HKe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function qKe(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function jC(e){for(var t="",r=0,s=0,a=0,i=0,o=0,l=0;r<e.length;){if(s=e.charCodeAt(r++),s<128){t+=String.fromCharCode(s);continue}if(a=e.charCodeAt(r++),s>191&&s<224){o=(s&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),s<240){t+=String.fromCharCode((s&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((s&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function KL(e){var t=tm(2*e.length),r,s,a=1,i=0,o=0,l;for(s=0;s<e.length;s+=a)a=1,(l=e.charCodeAt(s))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(s+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(s+1)&63)*64+(e.charCodeAt(s+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(s+1)&63)*4096+(e.charCodeAt(s+2)&63)*64+(e.charCodeAt(s+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function YL(e){return hd(e,"binary").toString("utf8")}var Rj="foo bar baz",Vg=yr&&(YL(Rj)==jC(Rj)&&YL||KL(Rj)==jC(Rj)&&KL)||jC,yv=yr?function(e){return hd(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,s=0,a=0;r<e.length;)switch(s=e.charCodeAt(r++),!0){case s<128:t.push(String.fromCharCode(s));break;case s<2048:t.push(String.fromCharCode(192+(s>>6))),t.push(String.fromCharCode(128+(s&63)));break;case(s>=55296&&s<57344):s-=55296,a=e.charCodeAt(r++)-56320+(s<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(s>>12))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)))}return t.join("")},GKe=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var s=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)s=s.replace(e[a][0],e[a][1]);return s}}(),CJ=/(^\s|\s$|\n)/;function Ws(e,t){return"<"+e+(t.match(CJ)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function jv(e){return Qs(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function et(e,t,r){return"<"+e+(r!=null?jv(r):"")+(t!=null?(t.match(CJ)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function SP(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function KKe(e,t){switch(typeof e){case"string":var r=et("vt:lpwstr",Dr(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return et((e|0)==e?"vt:i4":"vt:r8",Dr(String(e)));case"boolean":return et("vt:bool",e?"true":"false")}if(e instanceof Date)return et("vt:filetime",SP(e));throw new Error("Unable to serialize "+e)}var As={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},px=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ai={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function YKe(e,t){for(var r=1-2*(e[t+7]>>>7),s=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return s==2047?a==0?r*(1/0):NaN:(s==0?s=-1022:(s-=1023,a+=Math.pow(2,52)),r*Math.pow(2,s-52)*a)}function XKe(e,t,r){var s=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=s?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|s}var XL=function(e){for(var t=[],r=10240,s=0;s<e[0].length;++s)if(e[0][s])for(var a=0,i=e[0][s].length;a<i;a+=r)t.push.apply(t,e[0][s].slice(a,a+r));return t},QL=yr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:hd(t)})):XL(e)}:XL,ZL=function(e,t,r){for(var s=[],a=t;a<r;a+=2)s.push(String.fromCharCode(mg(e,a)));return s.join("").replace(Ug,"")},mD=yr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Ug,""):ZL(e,t,r)}:ZL,JL=function(e,t,r){for(var s=[],a=t;a<t+r;++a)s.push(("0"+e[a].toString(16)).slice(-2));return s.join("")},AJ=yr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):JL(e,t,r)}:JL,e8=function(e,t,r){for(var s=[],a=t;a<r;a++)s.push(String.fromCharCode(Bm(e,a)));return s.join("")},Ay=yr?function(t,r,s){return Buffer.isBuffer(t)?t.toString("utf8",r,s):e8(t,r,s)}:e8,EJ=function(e,t){var r=Ei(e,t);return r>0?Ay(e,t+4,t+4+r-1):""},PJ=EJ,kJ=function(e,t){var r=Ei(e,t);return r>0?Ay(e,t+4,t+4+r-1):""},TJ=kJ,OJ=function(e,t){var r=2*Ei(e,t);return r>0?Ay(e,t+4,t+4+r-1):""},DJ=OJ,IJ=function(t,r){var s=Ei(t,r);return s>0?mD(t,r+4,r+4+s):""},RJ=IJ,MJ=function(e,t){var r=Ei(e,t);return r>0?Ay(e,t+4,t+4+r):""},FJ=MJ,$J=function(e,t){return YKe(e,t)},Lw=$J,hD=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};yr&&(PJ=function(t,r){if(!Buffer.isBuffer(t))return EJ(t,r);var s=t.readUInt32LE(r);return s>0?t.toString("utf8",r+4,r+4+s-1):""},TJ=function(t,r){if(!Buffer.isBuffer(t))return kJ(t,r);var s=t.readUInt32LE(r);return s>0?t.toString("utf8",r+4,r+4+s-1):""},DJ=function(t,r){if(!Buffer.isBuffer(t))return OJ(t,r);var s=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+s-1)},RJ=function(t,r){if(!Buffer.isBuffer(t))return IJ(t,r);var s=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+s)},FJ=function(t,r){if(!Buffer.isBuffer(t))return MJ(t,r);var s=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+s)},Lw=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):$J(t,r)},hD=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Bm=function(e,t){return e[t]},mg=function(e,t){return e[t+1]*256+e[t]},QKe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Ei=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},tf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},ZKe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function zg(e,t){var r="",s,a,i=[],o,l,c,d;switch(t){case"dbcs":if(d=this.l,yr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(mg(this,d)),d+=2;e*=2;break;case"utf8":r=Ay(this,this.l,this.l+e);break;case"utf16le":e*=2,r=mD(this,this.l,this.l+e);break;case"wstr":return zg.call(this,e,"dbcs");case"lpstr-ansi":r=PJ(this,this.l),e=4+Ei(this,this.l);break;case"lpstr-cp":r=TJ(this,this.l),e=4+Ei(this,this.l);break;case"lpwstr":r=DJ(this,this.l),e=4+2*Ei(this,this.l);break;case"lpp4":e=4+Ei(this,this.l),r=RJ(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ei(this,this.l),r=FJ(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Bm(this,this.l+e++))!==0;)i.push(Oj(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=mg(this,this.l+e))!==0;)i.push(Oj(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Bm(this,d),this.l=d+1,l=zg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Oj(mg(this,d))),d+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Bm(this,d),this.l=d+1,l=zg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Oj(Bm(this,d))),d+=1}r=i.join("");break;default:switch(e){case 1:return s=Bm(this,this.l),this.l++,s;case 2:return s=(t==="i"?QKe:mg)(this,this.l),this.l+=2,s;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(s=(e>0?tf:ZKe)(this,this.l),this.l+=4,s):(a=Ei(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Lw(this,this.l):a=Lw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=AJ(this,this.l,e);break}}return this.l+=e,r}var JKe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},eYe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},tYe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function rYe(e,t,r){var s=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)tYe(this,t.charCodeAt(a),this.l+2*a);s=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;s=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:s=1,this[this.l]=t&255;break;case 2:s=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:s=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:s=4,JKe(this,t,this.l);break;case 8:if(s=8,r==="f"){XKe(this,t,this.l);break}case 16:break;case-4:s=4,eYe(this,t,this.l);break}return this.l+=s,this}function LJ(e,t){var r=AJ(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Si(e,t){e.l=t,e.read_shift=zg,e.chk=LJ,e.write_shift=rYe}function tc(e,t){e.l+=t}function Fe(e){var t=tm(e);return Si(t,0),t}function li(){var e=[],t=yr?256:2048,r=function(d){var u=Fe(d);return Si(u,0),u},s=r(t),a=function(){s&&(s.length>s.l&&(s=s.slice(0,s.l),s.l=s.length),s.length>0&&e.push(s),s=null)},i=function(d){return s&&d<s.length-s.l?s:(a(),s=r(Math.max(d+1,t)))},o=function(){return a(),zs(e)},l=function(d){a(),s=d,s.l==null&&(s.l=s.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function We(e,t,r,s){var a=+t,i;if(!isNaN(a)){s||(s=Qet[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,s>=128&&++i,s>=16384&&++i,s>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(s>=128)o.write_shift(1,(s&127)+128),s>>=7;else{o.write_shift(1,s);break}s>0&&hD(r)&&e.push(r)}}function Wg(e,t,r){var s=ui(e);if(t.s?(s.cRel&&(s.c+=t.s.c),s.rRel&&(s.r+=t.s.r)):(s.cRel&&(s.c+=t.c),s.rRel&&(s.r+=t.r)),!r||r.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function t8(e,t,r){var s=ui(e);return s.s=Wg(s.s,t.s,r),s.e=Wg(s.e,t.s,r),s}function Hg(e,t){if(e.cRel&&e.c<0)for(e=ui(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ui(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Rr(e);return!e.cRel&&e.cRel!=null&&(r=aYe(r)),!e.rRel&&e.rRel!=null&&(r=nYe(r)),r}function bC(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ua(e.s.c)+":"+(e.e.cRel?"":"$")+ua(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ks(e.s.r)+":"+(e.e.rRel?"":"$")+Ks(e.e.r):Hg(e.s,t.biff)+":"+Hg(e.e,t.biff)}function pD(e){return parseInt(sYe(e),10)-1}function Ks(e){return""+(e+1)}function nYe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function sYe(e){return e.replace(/\$(\d+)$/,"$1")}function xD(e){for(var t=iYe(e),r=0,s=0;s!==t.length;++s)r=26*r+t.charCodeAt(s)-64;return r-1}function ua(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function aYe(e){return e.replace(/^([A-Z])/,"$$$1")}function iYe(e){return e.replace(/^\$([A-Z])/,"$1")}function oYe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Es(e){for(var t=0,r=0,s=0;s<e.length;++s){var a=e.charCodeAt(s);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Rr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Hi(e){var t=e.indexOf(":");return t==-1?{s:Es(e),e:Es(e)}:{s:Es(e.slice(0,t)),e:Es(e.slice(t+1))}}function ts(e,t){return typeof t>"u"||typeof t=="number"?ts(e.s,e.e):(typeof e!="string"&&(e=Rr(e)),typeof t!="string"&&(t=Rr(t)),e==t?e:e+":"+t)}function dn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,s=0,a=0,i=e.length;for(r=0;s<i&&!((a=e.charCodeAt(s)-64)<1||a>26);++s)r=26*r+a;for(t.s.c=--r,r=0;s<i&&!((a=e.charCodeAt(s)-48)<0||a>9);++s)r=10*r+a;if(t.s.r=--r,s===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++s,r=0;s!=i&&!((a=e.charCodeAt(s)-64)<1||a>26);++s)r=26*r+a;for(t.e.c=--r,r=0;s!=i&&!((a=e.charCodeAt(s)-48)<0||a>9);++s)r=10*r+a;return t.e.r=--r,t}function r8(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=bu(e.z,r?di(t):t)}catch{}try{return e.w=bu((e.XF||{}).numFmtId||(r?14:0),r?di(t):t)}catch{return""+t}}function ad(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Ey[e.v]||e.v:t==null?r8(e,e.v):r8(e,t))}function xm(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",s={};return s[r]=e,{SheetNames:[r],Sheets:s}}function BJ(e,t,r){var s=r||{},a=e?Array.isArray(e):s.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&s.origin!=null){if(typeof s.origin=="number")o=s.origin;else{var c=typeof s.origin=="string"?Es(s.origin):s.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=dn(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),o==-1&&(d.e.r=o=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[f].length;++m)if(!(typeof t[f][m]>"u")){var h={v:t[f][m]},x=o+f,p=l+m;if(d.s.r>x&&(d.s.r=x),d.s.c>p&&(d.s.c=p),d.e.r<x&&(d.e.r=x),d.e.c<p&&(d.e.c=p),t[f][m]&&typeof t[f][m]=="object"&&!Array.isArray(t[f][m])&&!(t[f][m]instanceof Date))h=t[f][m];else if(Array.isArray(h.v)&&(h.f=t[f][m][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(s.nullError)h.t="e",h.v=0;else if(s.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=s.dateNF||Fn[14],s.cellDates?(h.t="d",h.w=bu(h.z,di(h.v))):(h.t="n",h.v=di(h.v),h.w=bu(h.z,h.v))):h.t="s";if(a)i[x]||(i[x]=[]),i[x][p]&&i[x][p].z&&(h.z=i[x][p].z),i[x][p]=h;else{var g=Rr({c:p,r:x});i[g]&&i[g].z&&(h.z=i[g].z),i[g]=h}}}return d.s.c<1e7&&(i["!ref"]=ts(d)),i}function xx(e,t){return BJ(null,e,t)}function lYe(e){return e.read_shift(4,"i")}function al(e,t){return t||(t=Fe(4)),t.write_shift(4,e),t}function fa(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ps(e,t){var r=!1;return t==null&&(r=!0,t=Fe(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function cYe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function dYe(e,t){return t||(t=Fe(4)),t.write_shift(2,0),t.write_shift(2,0),t}function gD(e,t){var r=e.l,s=e.read_shift(1),a=fa(e),i=[],o={t:a,h:a};if(s&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(cYe(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function uYe(e,t){var r=!1;return t==null&&(r=!0,t=Fe(15+4*e.t.length)),t.write_shift(1,0),Ps(e.t,t),r?t.slice(0,t.l):t}var fYe=gD;function mYe(e,t){var r=!1;return t==null&&(r=!0,t=Fe(23+4*e.t.length)),t.write_shift(1,1),Ps(e.t,t),t.write_shift(4,1),dYe({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function Oo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function gm(e,t){return t==null&&(t=Fe(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function vm(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function ym(e,t){return t==null&&(t=Fe(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var hYe=fa,UJ=Ps;function vD(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Bw(e,t){var r=!1;return t==null&&(r=!0,t=Fe(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var pYe=fa,CP=vD,yD=Bw;function VJ(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,s=t[0]&2;e.l+=4;var a=s===0?Lw([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):tf(t,0)>>2;return r?a/100:a}function zJ(e,t){t==null&&(t=Fe(4));var r=0,s=0,a=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?s=1:a==(a|0)&&a>=-(1<<29)&&a<1<<29&&(s=1,r=1),s)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function WJ(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function xYe(e,t){return t||(t=Fe(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var jm=WJ,gx=xYe;function vx(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function rm(e,t){return(t||Fe(8)).write_shift(8,e,"f")}function gYe(e){var t={},r=e.read_shift(1),s=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,s){case 0:t.auto=1;break;case 1:t.index=a;var d=CYe[a];d&&(t.rgb=m8(d));break;case 2:t.rgb=m8([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Uw(e,t){if(t||(t=Fe(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var s=e.rgb||"FFFFFF";typeof s=="number"&&(s=("000000"+s.toString(16)).slice(-6)),t.write_shift(1,parseInt(s.slice(0,2),16)),t.write_shift(1,parseInt(s.slice(2,4),16)),t.write_shift(1,parseInt(s.slice(4,6),16)),t.write_shift(1,255)}return t}function vYe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function yYe(e,t){t||(t=Fe(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var HJ=2,wi=3,Mj=11,Vw=19,Fj=64,jYe=65,bYe=71,wYe=4108,NYe=4126,Us=80,n8={1:{n:"CodePage",t:HJ},2:{n:"Category",t:Us},3:{n:"PresentationFormat",t:Us},4:{n:"ByteCount",t:wi},5:{n:"LineCount",t:wi},6:{n:"ParagraphCount",t:wi},7:{n:"SlideCount",t:wi},8:{n:"NoteCount",t:wi},9:{n:"HiddenCount",t:wi},10:{n:"MultimediaClipCount",t:wi},11:{n:"ScaleCrop",t:Mj},12:{n:"HeadingPairs",t:wYe},13:{n:"TitlesOfParts",t:NYe},14:{n:"Manager",t:Us},15:{n:"Company",t:Us},16:{n:"LinksUpToDate",t:Mj},17:{n:"CharacterCount",t:wi},19:{n:"SharedDoc",t:Mj},22:{n:"HyperlinksChanged",t:Mj},23:{n:"AppVersion",t:wi,p:"version"},24:{n:"DigSig",t:jYe},26:{n:"ContentType",t:Us},27:{n:"ContentStatus",t:Us},28:{n:"Language",t:Us},29:{n:"Version",t:Us},255:{},2147483648:{n:"Locale",t:Vw},2147483651:{n:"Behavior",t:Vw},1919054434:{}},s8={1:{n:"CodePage",t:HJ},2:{n:"Title",t:Us},3:{n:"Subject",t:Us},4:{n:"Author",t:Us},5:{n:"Keywords",t:Us},6:{n:"Comments",t:Us},7:{n:"Template",t:Us},8:{n:"LastAuthor",t:Us},9:{n:"RevNumber",t:Us},10:{n:"EditTime",t:Fj},11:{n:"LastPrinted",t:Fj},12:{n:"CreatedDate",t:Fj},13:{n:"ModifiedDate",t:Fj},14:{n:"PageCount",t:wi},15:{n:"WordCount",t:wi},16:{n:"CharCount",t:wi},17:{n:"Thumbnail",t:bYe},18:{n:"Application",t:Us},19:{n:"DocSecurity",t:wi},255:{},2147483648:{n:"Locale",t:Vw},2147483651:{n:"Behavior",t:Vw},1919054434:{}};function _Ye(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var SYe=_Ye([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),CYe=ui(SYe),Ey={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},AYe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},$j={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function qJ(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function GJ(e,t){var r=FKe(AYe),s=[],a;s[s.length]=as,s[s.length]=et("Types",null,{xmlns:As.CT,"xmlns:xsd":As.xsd,"xmlns:xsi":As.xsi}),s=s.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return et("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],s[s.length]=et("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:$j[c][t.bookType]||$j[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(d){s[s.length]=et("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:$j[c][t.bookType]||$j[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(d){s[s.length]=et("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),s.length>2&&(s[s.length]="</Types>",s[1]=s[1].replace("/>",">")),s.join("")}var xr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function KJ(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Sh(e){var t=[as,et("Relationships",null,{xmlns:As.RELS})];return Qs(e["!id"]).forEach(function(r){t[t.length]=et("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Tr(e,t,r,s,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=s,a.Target=r,[xr.HLINK,xr.XPATH,xr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function EYe(e){var t=[as];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function a8(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function PYe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function kYe(e){var t=[as];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(a8(e[r][0],e[r][1])),t.push(PYe("",e[r][0]));return t.push(a8("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function YJ(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Iw.version+"</meta:generator></office:meta></office:document-meta>"}var Tf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function wC(e,t,r,s,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Dr(t),s[s.length]=r?et(e,t,r):Ws(e,t))}function XJ(e,t){var r=t||{},s=[as,et("cp:coreProperties",null,{"xmlns:cp":As.CORE_PROPS,"xmlns:dc":As.dc,"xmlns:dcterms":As.dcterms,"xmlns:dcmitype":As.dcmitype,"xmlns:xsi":As.xsi})],a={};if(!e&&!r.Props)return s.join("");e&&(e.CreatedDate!=null&&wC("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:SP(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},s,a),e.ModifiedDate!=null&&wC("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:SP(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},s,a));for(var i=0;i!=Tf.length;++i){var o=Tf[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&wC(o[0],l,null,s,a)}return s.length>2&&(s[s.length]="</cp:coreProperties>",s[1]=s[1].replace("/>",">")),s.join("")}var Ch=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],QJ=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function ZJ(e){var t=[],r=et;return e||(e={}),e.Application="SheetJS",t[t.length]=as,t[t.length]=et("Properties",null,{xmlns:As.EXT_PROPS,"xmlns:vt":As.vt}),Ch.forEach(function(s){if(e[s[1]]!==void 0){var a;switch(s[2]){case"string":a=Dr(String(e[s[1]]));break;case"bool":a=e[s[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(s[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(s){return"<vt:lpstr>"+Dr(s)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function JJ(e){var t=[as,et("Properties",null,{xmlns:As.CUST_PROPS,"xmlns:vt":As.vt})];if(!e)return t.join("");var r=1;return Qs(e).forEach(function(a){++r,t[t.length]=et("property",KKe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Dr(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var i8={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function TYe(e,t){var r=[];return Qs(i8).map(function(s){for(var a=0;a<Tf.length;++a)if(Tf[a][1]==s)return Tf[a];for(a=0;a<Ch.length;++a)if(Ch[a][1]==s)return Ch[a];throw s}).forEach(function(s){if(e[s[1]]!=null){var a=t&&t.Props&&t.Props[s[1]]!=null?t.Props[s[1]]:e[s[1]];switch(s[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Ws(i8[s[1]]||s[1],a))}}),et("DocumentProperties",r.join(""),{xmlns:Ai.o})}function OYe(e,t){var r=["Worksheets","SheetNames"],s="CustomDocumentProperties",a=[];return e&&Qs(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<Tf.length;++o)if(i==Tf[o][1])return;for(o=0;o<Ch.length;++o)if(i==Ch[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(et(GL(i),l,{"dt:dt":c}))}}),t&&Qs(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(et(GL(i),o,{"dt:dt":l}))}}),"<"+s+' xmlns="'+Ai.o+'">'+a.join("")+"</"+s+">"}function DYe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,s=r%Math.pow(2,32),a=(r-s)/Math.pow(2,32);s*=1e7,a*=1e7;var i=s/Math.pow(2,32)|0;i>0&&(s=s%Math.pow(2,32),a+=i);var o=Fe(8);return o.write_shift(4,s),o.write_shift(4,a),o}function o8(e,t){var r=Fe(4),s=Fe(4);switch(r.write_shift(4,e==80?31:e),e){case 3:s.write_shift(-4,t);break;case 5:s=Fe(8),s.write_shift(8,t,"f");break;case 11:s.write_shift(4,t?1:0);break;case 64:s=DYe(t);break;case 31:case 80:for(s=Fe(4+2*(t.length+1)+(t.length%2?0:2)),s.write_shift(4,t.length+1),s.write_shift(0,t,"dbcs");s.l!=s.length;)s.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return zs([r,s])}var eee=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function IYe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function l8(e,t,r){var s=Fe(8),a=[],i=[],o=8,l=0,c=Fe(8),d=Fe(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),a.push(d),o+=8+c.length,!t){d=Fe(8),d.write_shift(4,0),a.unshift(d);var u=[Fe(4)];for(u[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=Fe(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=zs(u),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(eee.indexOf(e[l][0])>-1||QJ.indexOf(e[l][0])>-1)&&e[l][1]!=null){var m=e[l][1],h=0;if(t){h=+t[e[l][0]];var x=r[h];if(x.p=="version"&&typeof m=="string"){var p=m.split(".");m=(+p[0]<<16)+(+p[1]||0)}c=o8(x.t,m)}else{var g=IYe(m);g==-1&&(g=31,m=String(m)),c=o8(g,m)}i.push(c),d=Fe(8),d.write_shift(4,t?h:2+l),a.push(d),o+=8+c.length}var j=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,j),j+=i[l].length;return s.write_shift(4,o),s.write_shift(4,i.length),zs([s].concat(a).concat(i))}function c8(e,t,r,s,a,i){var o=Fe(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Lr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=l8(e,r,s);if(l.push(c),a){var d=l8(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(d)}return zs(l)}function RYe(e,t){t||(t=Fe(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function MYe(e,t){return e.read_shift(t)===1}function Ca(e,t){return t||(t=Fe(2)),t.write_shift(2,+!!e),t}function tee(e){return e.read_shift(2,"u")}function oo(e,t){return t||(t=Fe(2)),t.write_shift(2,e),t}function ree(e,t,r){return r||(r=Fe(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function nee(e,t,r){var s=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=s?e.read_shift(s,a):"";return o}function FYe(e){var t=e.t||"",r=Fe(3);r.write_shift(2,t.length),r.write_shift(1,1);var s=Fe(2*t.length);s.write_shift(2*t.length,t,"utf16le");var a=[r,s];return zs(a)}function $Ye(e,t,r){var s;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?s=e.read_shift(t,"sbcs-cont"):s=e.read_shift(t,"dbcs-cont"),s}function LYe(e,t,r){var s=e.read_shift(r&&r.biff==2?1:2);return s===0?(e.l++,""):$Ye(e,s,r)}function BYe(e,t,r){if(r.biff>5)return LYe(e,t,r);var s=e.read_shift(1);return s===0?(e.l++,""):e.read_shift(s,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function see(e,t,r){return r||(r=Fe(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function d8(e,t){t||(t=Fe(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function UYe(e){var t=Fe(512),r=0,s=e.Target;s.slice(0,7)=="file://"&&(s=s.slice(7));var a=s.indexOf("#"),i=a>-1?31:23;switch(s.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)s=s.slice(1),d8(s,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?s.slice(0,a):s;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&d8(a>-1?s.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;s.slice(c*3,c*3+3)=="../"||s.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,s.length-3*c+1),r=0;r<s.length-3*c;++r)t.write_shift(1,s.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function nm(e,t,r,s){return s||(s=Fe(6)),s.write_shift(2,e),s.write_shift(2,t),s.write_shift(2,r||0),s}function VYe(e,t,r){var s=r.biff>8?4:2,a=e.read_shift(s),i=e.read_shift(s,"i"),o=e.read_shift(s,"i");return[a,i,o]}function zYe(e){var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2);return{s:{c:s,r:t},e:{c:a,r}}}function aee(e,t){return t||(t=Fe(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function jD(e,t,r){var s=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":s=1280,a=8;break;case"biff4":s=4,a=6;break;case"biff3":s=3,a=6;break;case"biff2":s=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Fe(a);return i.write_shift(2,s),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function WYe(e,t){var r=!t||t.biff==8,s=Fe(r?112:54);for(s.write_shift(t.biff==8?2:1,7),r&&s.write_shift(1,0),s.write_shift(4,859007059),s.write_shift(4,5458548|(r?0:536870912));s.l<s.length;)s.write_shift(1,r?0:32);return s}function HYe(e,t){var r=!t||t.biff>=8?2:1,s=Fe(8+r*e.name.length);s.write_shift(4,e.pos),s.write_shift(1,e.hs||0),s.write_shift(1,e.dt),s.write_shift(1,e.name.length),t.biff>=8&&s.write_shift(1,1),s.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=s.slice(0,s.l);return a.l=s.l,a}function qYe(e,t){var r=Fe(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var s=[],a=0;a<e.length;++a)s[a]=FYe(e[a]);var i=zs([r].concat(s));return i.parts=[r.length].concat(s.map(function(o){return o.length})),i}function GYe(){var e=Fe(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function KYe(e){var t=Fe(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function YYe(e,t){var r=e.name||"Arial",s=t&&t.biff==5,a=s?15+r.length:16+2*r.length,i=Fe(a);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),s||i.write_shift(1,1),i.write_shift((s?1:2)*r.length,r,s?"sbcs":"utf16le"),i}function XYe(e,t,r,s){var a=Fe(10);return nm(e,t,s,a),a.write_shift(4,r),a}function QYe(e,t,r,s,a){var i=!a||a.biff==8,o=Fe(8+ +i+(1+i)*r.length);return nm(e,t,s,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function ZYe(e,t,r,s){var a=r&&r.biff==5;s||(s=Fe(a?3+t.length:5+2*t.length)),s.write_shift(2,e),s.write_shift(a?1:2,t.length),a||s.write_shift(1,1),s.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=s.length>s.l?s.slice(0,s.l):s;return i.l==null&&(i.l=i.length),i}function JYe(e,t){var r=t.biff==8||!t.biff?4:2,s=Fe(2*r+6);return s.write_shift(r,e.s.r),s.write_shift(r,e.e.r+1),s.write_shift(2,e.s.c),s.write_shift(2,e.e.c+1),s.write_shift(2,0),s}function u8(e,t,r,s){var a=r&&r.biff==5;s||(s=Fe(a?16:20)),s.write_shift(2,0),e.style?(s.write_shift(2,e.numFmtId||0),s.write_shift(2,65524)):(s.write_shift(2,e.numFmtId||0),s.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),s.write_shift(4,i),s.write_shift(4,0),a||s.write_shift(4,0),s.write_shift(2,0),s}function eXe(e){var t=Fe(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function tXe(e,t,r,s,a,i){var o=Fe(8);return nm(e,t,s,o),ree(r,i,o),o}function rXe(e,t,r,s){var a=Fe(14);return nm(e,t,s,a),rm(r,a),a}function nXe(e,t,r){if(r.biff<8)return sXe(e,t,r);for(var s=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)s.push(VYe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return s}function sXe(e,t,r){e[e.l+1]==3&&e[e.l]++;var s=nee(e,t,r);return s.charCodeAt(0)==3?s.slice(1):s}function aXe(e){var t=Fe(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)aee(e[r],t);return t}function iXe(e){var t=Fe(24),r=Es(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var s="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(s[a],16));return zs([t,UYe(e[1])])}function oXe(e){var t=e[1].Tooltip,r=Fe(10+2*(t.length+1));r.write_shift(2,2048);var s=Es(e[0]);r.write_shift(2,s.r),r.write_shift(2,s.r),r.write_shift(2,s.c),r.write_shift(2,s.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function lXe(e){return e||(e=Fe(4)),e.write_shift(2,1),e.write_shift(2,1),e}function cXe(e,t,r){if(!r.cellStyles)return tc(e,t);var s=r&&r.biff>=12?4:2,a=e.read_shift(s),i=e.read_shift(s),o=e.read_shift(s),l=e.read_shift(s),c=e.read_shift(2);s==2&&(e.l+=2);var d={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function dXe(e,t){var r=Fe(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var s=0;return e.hidden&&(s|=1),r.write_shift(1,s),s=e.level||0,r.write_shift(1,s),r.write_shift(2,0),r}function uXe(e){for(var t=Fe(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function fXe(e,t,r){var s=Fe(15);return ky(s,e,t),s.write_shift(8,r,"f"),s}function mXe(e,t,r){var s=Fe(9);return ky(s,e,t),s.write_shift(2,r),s}var hXe=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=cD({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var d=[],u=tm(1);switch(c.type){case"base64":u=Yo(sd(l));break;case"binary":u=Yo(l);break;case"buffer":case"array":u=l;break}Si(u,0);var f=u.read_shift(1),m=!!(f&136),h=!1,x=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,m=!0;break;case 49:h=!0,m=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,g=521;f==2&&(p=u.read_shift(2)),u.l+=3,f!=2&&(p=u.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(g=u.read_shift(2));var j=u.read_shift(2),y=c.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(y=e[u[u.l]]),u.l+=1,u.l+=2),x&&(u.l+=36);for(var w=[],b={},N=Math.min(u.length,f==2?521:g-10-(h?264:0)),_=x?32:11;u.l<N&&u[u.l]!=13;)switch(b={},b.name=ef.utils.decode(y,u.slice(u.l,u.l+_)).replace(/[\u0000\r\n].*$/g,""),u.l+=_,b.type=String.fromCharCode(u.read_shift(1)),f!=2&&!x&&(b.offset=u.read_shift(4)),b.len=u.read_shift(1),f==2&&(b.offset=u.read_shift(2)),b.dec=u.read_shift(1),b.name.length&&w.push(b),f!=2&&(u.l+=x?13:14),b.type){case"B":(!h||b.len!=8)&&c.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+b.type)}if(u[u.l]!==13&&(u.l=g-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=g;var C=0,A=0;for(d[0]=[],A=0;A!=w.length;++A)d[0][A]=w[A].name;for(;p-- >0;){if(u[u.l]===42){u.l+=j;continue}for(++u.l,d[++C]=[],A=0,A=0;A!=w.length;++A){var E=u.slice(u.l,u.l+w[A].len);u.l+=w[A].len,Si(E,0);var k=ef.utils.decode(y,E);switch(w[A].type){case"C":k.trim().length&&(d[C][A]=k.replace(/\s+$/,""));break;case"D":k.length===8?d[C][A]=new Date(+k.slice(0,4),+k.slice(4,6)-1,+k.slice(6,8)):d[C][A]=k;break;case"F":d[C][A]=parseFloat(k.trim());break;case"+":case"I":d[C][A]=x?E.read_shift(-4,"i")^2147483648:E.read_shift(4,"i");break;case"L":switch(k.trim().toUpperCase()){case"Y":case"T":d[C][A]=!0;break;case"N":case"F":d[C][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+k+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));d[C][A]="##MEMO##"+(x?parseInt(k.trim(),10):E.read_shift(4));break;case"N":k=k.replace(/\u0000/g,"").trim(),k&&k!="."&&(d[C][A]=+k||0);break;case"@":d[C][A]=new Date(E.read_shift(-8,"f")-621356832e5);break;case"T":d[C][A]=new Date((E.read_shift(4)-2440588)*864e5+E.read_shift(4));break;case"Y":d[C][A]=E.read_shift(4,"i")/1e4+E.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[C][A]=-E.read_shift(-8,"f");break;case"B":if(h&&w[A].len==8){d[C][A]=E.read_shift(8,"f");break}case"G":case"P":E.l+=w[A].len;break;case"0":if(w[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[A].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=w,d}function s(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=xx(r(l,d),d);return u["!cols"]=d.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete d.DBF,u}function a(l,c){try{return xm(s(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var d=c||{};if(+d.codepage>=0&&xv(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=li(),f=Gw(l,{header:1,raw:!0,cellDates:!0}),m=f[0],h=f.slice(1),x=l["!cols"]||[],p=0,g=0,j=0,y=1;for(p=0;p<m.length;++p){if(((x[p]||{}).DBF||{}).name){m[p]=x[p].DBF.name,++j;continue}if(m[p]!=null){if(++j,typeof m[p]=="number"&&(m[p]=m[p].toString(10)),typeof m[p]!="string")throw new Error("DBF Invalid column name "+m[p]+" |"+typeof m[p]+"|");if(m.indexOf(m[p])!==p){for(g=0;g<1024;++g)if(m.indexOf(m[p]+"_"+g)==-1){m[p]+="_"+g;break}}}}var w=dn(l["!ref"]),b=[],N=[],_=[];for(p=0;p<=w.e.c-w.s.c;++p){var C="",A="",E=0,k=[];for(g=0;g<h.length;++g)h[g][p]!=null&&k.push(h[g][p]);if(k.length==0||m[p]==null){b[p]="?";continue}for(g=0;g<k.length;++g){switch(typeof k[g]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=k[g]instanceof Date?"D":"C";break;default:A="C"}E=Math.max(E,String(k[g]).length),C=C&&C!=A?"C":A}E>250&&(E=250),A=((x[p]||{}).DBF||{}).type,A=="C"&&x[p].DBF.len>E&&(E=x[p].DBF.len),C=="B"&&A=="N"&&(C="N",_[p]=x[p].DBF.dec,E=x[p].DBF.len),N[p]=C=="C"||A=="N"?E:i[C]||0,y+=N[p],b[p]=C}var O=u.next(32);for(O.write_shift(4,318902576),O.write_shift(4,h.length),O.write_shift(2,296+32*j),O.write_shift(2,y),p=0;p<4;++p)O.write_shift(4,0);for(O.write_shift(4,0|(+t[oJ]||3)<<8),p=0,g=0;p<m.length;++p)if(m[p]!=null){var I=u.next(32),W=(m[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);I.write_shift(1,W,"sbcs"),I.write_shift(1,b[p]=="?"?"C":b[p],"sbcs"),I.write_shift(4,g),I.write_shift(1,N[p]||i[b[p]]||0),I.write_shift(1,_[p]||0),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(1,0),I.write_shift(4,0),I.write_shift(4,0),g+=N[p]||i[b[p]]||0}var H=u.next(264);for(H.write_shift(4,13),p=0;p<65;++p)H.write_shift(4,0);for(p=0;p<h.length;++p){var F=u.next(y);for(F.write_shift(1,0),g=0;g<m.length;++g)if(m[g]!=null)switch(b[g]){case"L":F.write_shift(1,h[p][g]==null?63:h[p][g]?84:70);break;case"B":F.write_shift(8,h[p][g]||0,"f");break;case"N":var T="0";for(typeof h[p][g]=="number"&&(T=h[p][g].toFixed(_[g]||0)),j=0;j<N[g]-T.length;++j)F.write_shift(1,32);F.write_shift(1,T,"sbcs");break;case"D":h[p][g]?(F.write_shift(4,("0000"+h[p][g].getFullYear()).slice(-4),"sbcs"),F.write_shift(2,("00"+(h[p][g].getMonth()+1)).slice(-2),"sbcs"),F.write_shift(2,("00"+h[p][g].getDate()).slice(-2),"sbcs")):F.write_shift(8,"00000000","sbcs");break;case"C":var P=String(h[p][g]!=null?h[p][g]:"").slice(0,N[g]);for(F.write_shift(1,P,"sbcs"),j=0;j<N[g]-P.length;++j)F.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:s,from_sheet:o}}(),pXe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Qs(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,h){var x=e[h];return typeof x=="number"?RL(x):x},s=function(m,h,x){var p=h.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return p==59?m:RL(p)};e["|"]=254;function a(m,h){switch(h.type){case"base64":return i(sd(m),h);case"binary":return i(m,h);case"buffer":return i(yr&&Buffer.isBuffer(m)?m.toString("binary"):Sy(m),h);case"array":return i(o_(m),h)}throw new Error("Unrecognized type "+h.type)}function i(m,h){var x=m.split(/[\n\r]+/),p=-1,g=-1,j=0,y=0,w=[],b=[],N=null,_={},C=[],A=[],E=[],k=0,O;for(+h.codepage>=0&&xv(+h.codepage);j!==x.length;++j){k=0;var I=x[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(t,r),W=I.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),H=W[0],F;if(I.length>0)switch(H){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":W[1].charAt(0)=="P"&&b.push(I.slice(3).replace(/;;/g,";"));break;case"C":var T=!1,P=!1,M=!1,D=!1,Y=-1,ae=-1;for(y=1;y<W.length;++y)switch(W[y].charAt(0)){case"A":break;case"X":g=parseInt(W[y].slice(1))-1,P=!0;break;case"Y":for(p=parseInt(W[y].slice(1))-1,P||(g=0),O=w.length;O<=p;++O)w[O]=[];break;case"K":F=W[y].slice(1),F.charAt(0)==='"'?F=F.slice(1,F.length-1):F==="TRUE"?F=!0:F==="FALSE"?F=!1:isNaN(Lc(F))?isNaN(vv(F).getDate())||(F=Ta(F)):(F=Lc(F),N!==null&&yJ(N)&&(F=NJ(F))),T=!0;break;case"E":D=!0;var R=mQe(W[y].slice(1),{r:p,c:g});w[p][g]=[w[p][g],R];break;case"S":M=!0,w[p][g]=[w[p][g],"S5S"];break;case"G":break;case"R":Y=parseInt(W[y].slice(1))-1;break;case"C":ae=parseInt(W[y].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+I)}if(T&&(w[p][g]&&w[p][g].length==2?w[p][g][0]=F:w[p][g]=F,N=null),M){if(D)throw new Error("SYLK shared formula cannot have own formula");var V=Y>-1&&w[Y][ae];if(!V||!V[1])throw new Error("SYLK shared formula cannot find base");w[p][g][1]=hQe(V[1],{r:p-Y,c:g-ae})}break;case"F":var L=0;for(y=1;y<W.length;++y)switch(W[y].charAt(0)){case"X":g=parseInt(W[y].slice(1))-1,++L;break;case"Y":for(p=parseInt(W[y].slice(1))-1,O=w.length;O<=p;++O)w[O]=[];break;case"M":k=parseInt(W[y].slice(1))/20;break;case"F":break;case"G":break;case"P":N=b[parseInt(W[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(E=W[y].slice(1).split(" "),O=parseInt(E[0],10);O<=parseInt(E[1],10);++O)k=parseInt(E[2],10),A[O-1]=k===0?{hidden:!0}:{wch:k},bD(A[O-1]);break;case"C":g=parseInt(W[y].slice(1))-1,A[g]||(A[g]={});break;case"R":p=parseInt(W[y].slice(1))-1,C[p]||(C[p]={}),k>0?(C[p].hpt=k,C[p].hpx=dee(k)):k===0&&(C[p].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+I)}L<1&&(N=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+I)}}return C.length>0&&(_["!rows"]=C),A.length>0&&(_["!cols"]=A),h&&h.sheetRows&&(w=w.slice(0,h.sheetRows)),[w,_]}function o(m,h){var x=a(m,h),p=x[0],g=x[1],j=xx(p,h);return Qs(g).forEach(function(y){j[y]=g[y]}),j}function l(m,h){return xm(o(m,h),h)}function c(m,h,x,p){var g="C;Y"+(x+1)+";X"+(p+1)+";K";switch(m.t){case"n":g+=m.v||0,m.f&&!m.F&&(g+=";E"+ND(m.f,{r:x,c:p}));break;case"b":g+=m.v?"TRUE":"FALSE";break;case"e":g+=m.w||m.v;break;case"d":g+='"'+(m.w||m.v)+'"';break;case"s":g+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function d(m,h){h.forEach(function(x,p){var g="F;W"+(p+1)+" "+(p+1)+" ";x.hidden?g+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=zw(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=Ww(x.wpx)),typeof x.wch=="number"&&(g+=Math.round(x.wch))),g.charAt(g.length-1)!=" "&&m.push(g)})}function u(m,h){h.forEach(function(x,p){var g="F;";x.hidden?g+="M0;":x.hpt?g+="M"+20*x.hpt+";":x.hpx&&(g+="M"+20*Hw(x.hpx)+";"),g.length>2&&m.push(g+"R"+(p+1))})}function f(m,h){var x=["ID;PWXL;N;E"],p=[],g=dn(m["!ref"]),j,y=Array.isArray(m),w=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),m["!cols"]&&d(x,m["!cols"]),m["!rows"]&&u(x,m["!rows"]),x.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var b=g.s.r;b<=g.e.r;++b)for(var N=g.s.c;N<=g.e.c;++N){var _=Rr({r:b,c:N});j=y?(m[b]||[])[N]:m[_],!(!j||j.v==null&&(!j.f||j.F))&&p.push(c(j,m,b,N))}return x.join(w)+w+p.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),xXe=function(){function e(i,o){switch(o.type){case"base64":return t(sd(i),o);case"binary":return t(i,o);case"buffer":return t(yr&&Buffer.isBuffer(i)?i.toString("binary"):Sy(i),o);case"array":return t(o_(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,d=-1,u=0,f=[];u!==l.length;++u){if(l[u].trim()==="BOT"){f[++c]=[],d=0;continue}if(!(c<0)){var m=l[u].trim().split(","),h=m[0],x=m[1];++u;for(var p=l[u]||"";(p.match(/["]/g)||[]).length&1&&u<l.length-1;)p+=`
`+l[++u];switch(p=p.trim(),+h){case-1:if(p==="BOT"){f[++c]=[],d=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[c][d]=!0:p==="FALSE"?f[c][d]=!1:isNaN(Lc(x))?isNaN(vv(x).getDate())?f[c][d]=x:f[c][d]=Ta(x):f[c][d]=Lc(x),++d;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[c][d++]=p!==""?p:null;break}if(p==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return xx(e(i,o),o)}function s(i,o){return xm(r(i,o),o)}var a=function(){var i=function(c,d,u,f,m){c.push(d),c.push(u+","+f),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,d,u,f){c.push(d+","+u),c.push(d==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var d=[],u=dn(c["!ref"]),f,m=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var h=u.s.r;h<=u.e.r;++h){o(d,-1,0,"BOT");for(var x=u.s.c;x<=u.e.c;++x){var p=Rr({r:h,c:x});if(f=m?(c[h]||[])[x]:c[p],!f){o(d,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?o(d,1,0,"="+f.f):o(d,1,0,""):o(d,0,g,"V");break;case"b":o(d,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=bu(f.z||Fn[14],di(Ta(f.v)))),o(d,0,f.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var j=`\r
`,y=d.join(j);return y}}();return{to_workbook:s,to_sheet:r,from_sheet:a}}(),iee=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,m){for(var h=f.split(`
`),x=-1,p=-1,g=0,j=[];g!==h.length;++g){var y=h[g].trim().split(":");if(y[0]==="cell"){var w=Es(y[1]);if(j.length<=w.r)for(x=j.length;x<=w.r;++x)j[x]||(j[x]=[]);switch(x=w.r,p=w.c,y[2]){case"t":j[x][p]=e(y[3]);break;case"v":j[x][p]=+y[3];break;case"vtf":var b=y[y.length-1];case"vtc":switch(y[3]){case"nl":j[x][p]=!!+y[4];break;default:j[x][p]=+y[4];break}y[2]=="vtf"&&(j[x][p]=[j[x][p],b])}}}return m&&m.sheetRows&&(j=j.slice(0,m.sheetRows)),j}function s(f,m){return xx(r(f,m),m)}function a(f,m){return xm(s(f,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(f){if(!f||!f["!ref"])return"";for(var m=[],h=[],x,p="",g=Hi(f["!ref"]),j=Array.isArray(f),y=g.s.r;y<=g.e.r;++y)for(var w=g.s.c;w<=g.e.c;++w)if(p=Rr({r:y,c:w}),x=j?(f[y]||[])[w]:f[p],!(!x||x.v==null||x.t==="z")){switch(h=["cell",p,"t"],x.t){case"s":case"str":h.push(t(x.v));break;case"n":x.f?(h[2]="vtf",h[3]="n",h[4]=x.v,h[5]=t(x.f)):(h[2]="v",h[3]=x.v);break;case"b":h[2]="vt"+(x.f?"f":"c"),h[3]="nl",h[4]=x.v?"1":"0",h[5]=t(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var b=di(Ta(x.v));h[2]="vtc",h[3]="nd",h[4]=""+b,h[5]=x.w||bu(x.z||Fn[14],b);break;case"e":continue}m.push(h.join(":"))}return m.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function u(f){return[i,o,l,o,d(f),c].join(`
`)}return{to_workbook:a,to_sheet:s,from_sheet:u}}(),gXe=function(){function e(u,f,m,h,x){x.raw?f[m][h]=u:u===""||(u==="TRUE"?f[m][h]=!0:u==="FALSE"?f[m][h]=!1:isNaN(Lc(u))?isNaN(vv(u).getDate())?f[m][h]=u:f[m][h]=Ta(u):f[m][h]=Lc(u))}function t(u,f){var m=f||{},h=[];if(!u||u.length===0)return h;for(var x=u.split(/[\r\n]/),p=x.length-1;p>=0&&x[p].length===0;)--p;for(var g=10,j=0,y=0;y<=p;++y)j=x[y].indexOf(" "),j==-1?j=x[y].length:j++,g=Math.max(g,j);for(y=0;y<=p;++y){h[y]=[];var w=0;for(e(x[y].slice(0,g).trim(),h,y,w,m),w=1;w<=(x[y].length-g)/10+1;++w)e(x[y].slice(g+(w-1)*10,g+w*10).trim(),h,y,w,m)}return m.sheetRows&&(h=h.slice(0,m.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function a(u){for(var f={},m=!1,h=0,x=0;h<u.length;++h)(x=u.charCodeAt(h))==34?m=!m:!m&&x in r&&(f[x]=(f[x]||0)+1);x=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&x.push([f[h],h]);if(!x.length){f=s;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&x.push([f[h],h])}return x.sort(function(p,g){return p[0]-g[0]||s[p[1]]-s[g[1]]}),r[x.pop()[1]]||44}function i(u,f){var m=f||{},h="",x=m.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=a(u.slice(0,1024)):m&&m.FS?h=m.FS:h=a(u.slice(0,1024));var g=0,j=0,y=0,w=0,b=0,N=h.charCodeAt(0),_=!1,C=0,A=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var E=m.dateNF!=null?DKe(m.dateNF):null;function k(){var O=u.slice(w,b),I={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)I.t="z";else if(m.raw)I.t="s",I.v=O;else if(O.trim().length===0)I.t="s",I.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(I.t="s",I.v=O.slice(2,-1).replace(/""/g,'"')):pQe(O)?(I.t="n",I.f=O.slice(1)):(I.t="s",I.v=O);else if(O=="TRUE")I.t="b",I.v=!0;else if(O=="FALSE")I.t="b",I.v=!1;else if(!isNaN(y=Lc(O)))I.t="n",m.cellText!==!1&&(I.w=O),I.v=y;else if(!isNaN(vv(O).getDate())||E&&O.match(E)){I.z=m.dateNF||Fn[14];var W=0;E&&O.match(E)&&(O=IKe(O,m.dateNF,O.match(E)||[]),W=1),m.cellDates?(I.t="d",I.v=Ta(O,W)):(I.t="n",I.v=di(Ta(O,W))),m.cellText!==!1&&(I.w=bu(I.z,I.v instanceof Date?di(I.v):I.v)),m.cellNF||delete I.z}else I.t="s",I.v=O;if(I.t=="z"||(m.dense?(x[g]||(x[g]=[]),x[g][j]=I):x[Rr({c:j,r:g})]=I),w=b+1,A=u.charCodeAt(w),p.e.c<j&&(p.e.c=j),p.e.r<g&&(p.e.r=g),C==N)++j;else if(j=0,++g,m.sheetRows&&m.sheetRows<=g)return!0}e:for(;b<u.length;++b)switch(C=u.charCodeAt(b)){case 34:A===34&&(_=!_);break;case N:case 10:case 13:if(!_&&k())break e;break}return b-w>0&&k(),x["!ref"]=ts(p),x}function o(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):xx(t(u,f),f)}function l(u,f){var m="",h=f.type=="string"?[0,0,0,0]:Ttt(u,f);switch(f.type){case"base64":m=sd(u);break;case"binary":m=u;break;case"buffer":f.codepage==65001?m=u.toString("utf8"):f.codepage&&typeof ef<"u"?m=ef.utils.decode(f.codepage,u):m=yr&&Buffer.isBuffer(u)?u.toString("binary"):Sy(u);break;case"array":m=o_(u);break;case"string":m=u;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?m=Vg(m.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?m=Vg(m):f.type=="binary"&&typeof ef<"u"&&f.codepage&&(m=ef.utils.decode(f.codepage,ef.utils.encode(28591,m))),m.slice(0,19)=="socialcalc:version:"?iee.to_sheet(f.type=="string"?m:Vg(m),f):o(m,f)}function c(u,f){return xm(l(u,f),f)}function d(u){for(var f=[],m=dn(u["!ref"]),h,x=Array.isArray(u),p=m.s.r;p<=m.e.r;++p){for(var g=[],j=m.s.c;j<=m.e.c;++j){var y=Rr({r:p,c:j});if(h=x?(u[p]||[])[j]:u[y],!h||h.v==null){g.push("          ");continue}for(var w=(h.w||(ad(h),h.w)||"").slice(0,10);w.length<10;)w+=" ";g.push(w+(j===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}}(),f8=function(){function e(R,V,L){if(R){Si(R,R.l||0);for(var K=L.Enum||Y;R.l<R.length;){var le=R.read_shift(2),me=K[le]||K[65535],B=R.read_shift(2),X=R.l+B,oe=me.f&&me.f(R,B,L);if(R.l=X,V(oe,me,le))return}}}function t(R,V){switch(V.type){case"base64":return r(Yo(sd(R)),V);case"binary":return r(Yo(R),V);case"buffer":case"array":return r(R,V)}throw"Unsupported type "+V.type}function r(R,V){if(!R)return R;var L=V||{},K=L.dense?[]:{},le="Sheet1",me="",B=0,X={},oe=[],Ne=[],ue={s:{r:0,c:0},e:{r:0,c:0}},ve=L.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)L.Enum=Y,e(R,function(Te,se,he){switch(he){case 0:L.vers=Te,Te>=4096&&(L.qpro=!0);break;case 6:ue=Te;break;case 204:Te&&(me=Te);break;case 222:me=Te;break;case 15:case 51:L.qpro||(Te[1].v=Te[1].v.slice(1));case 13:case 14:case 16:he==14&&(Te[2]&112)==112&&(Te[2]&15)>1&&(Te[2]&15)<15&&(Te[1].z=L.dateNF||Fn[14],L.cellDates&&(Te[1].t="d",Te[1].v=NJ(Te[1].v))),L.qpro&&Te[3]>B&&(K["!ref"]=ts(ue),X[le]=K,oe.push(le),K=L.dense?[]:{},ue={s:{r:0,c:0},e:{r:0,c:0}},B=Te[3],le=me||"Sheet"+(B+1),me="");var ce=L.dense?(K[Te[0].r]||[])[Te[0].c]:K[Rr(Te[0])];if(ce){ce.t=Te[1].t,ce.v=Te[1].v,Te[1].z!=null&&(ce.z=Te[1].z),Te[1].f!=null&&(ce.f=Te[1].f);break}L.dense?(K[Te[0].r]||(K[Te[0].r]=[]),K[Te[0].r][Te[0].c]=Te[1]):K[Rr(Te[0])]=Te[1];break}},L);else if(R[2]==26||R[2]==14)L.Enum=ae,R[2]==14&&(L.qpro=!0,R.l=0),e(R,function(Te,se,he){switch(he){case 204:le=Te;break;case 22:Te[1].v=Te[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Te[3]>B&&(K["!ref"]=ts(ue),X[le]=K,oe.push(le),K=L.dense?[]:{},ue={s:{r:0,c:0},e:{r:0,c:0}},B=Te[3],le="Sheet"+(B+1)),ve>0&&Te[0].r>=ve)break;L.dense?(K[Te[0].r]||(K[Te[0].r]=[]),K[Te[0].r][Te[0].c]=Te[1]):K[Rr(Te[0])]=Te[1],ue.e.c<Te[0].c&&(ue.e.c=Te[0].c),ue.e.r<Te[0].r&&(ue.e.r=Te[0].r);break;case 27:Te[14e3]&&(Ne[Te[14e3][0]]=Te[14e3][1]);break;case 1537:Ne[Te[0]]=Te[1],Te[0]==B&&(le=Te[1]);break}},L);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(K["!ref"]=ts(ue),X[me||le]=K,oe.push(me||le),!Ne.length)return{SheetNames:oe,Sheets:X};for(var xe={},Ee=[],Me=0;Me<Ne.length;++Me)X[oe[Me]]?(Ee.push(Ne[Me]||oe[Me]),xe[Ne[Me]]=X[Ne[Me]]||X[oe[Me]]):(Ee.push(Ne[Me]),xe[Ne[Me]]={"!ref":"A1"});return{SheetNames:Ee,Sheets:xe}}function s(R,V){var L=V||{};if(+L.codepage>=0&&xv(+L.codepage),L.type=="string")throw new Error("Cannot write WK1 to JS string");var K=li(),le=dn(R["!ref"]),me=Array.isArray(R),B=[];tt(K,0,i(1030)),tt(K,6,c(le));for(var X=Math.min(le.e.r,8191),oe=le.s.r;oe<=X;++oe)for(var Ne=Ks(oe),ue=le.s.c;ue<=le.e.c;++ue){oe===le.s.r&&(B[ue]=ua(ue));var ve=B[ue]+Ne,xe=me?(R[oe]||[])[ue]:R[ve];if(!(!xe||xe.t=="z"))if(xe.t=="n")(xe.v|0)==xe.v&&xe.v>=-32768&&xe.v<=32767?tt(K,13,h(oe,ue,xe.v)):tt(K,14,p(oe,ue,xe.v));else{var Ee=ad(xe);tt(K,15,f(oe,ue,Ee.slice(0,239)))}}return tt(K,1),K.end()}function a(R,V){var L=V||{};if(+L.codepage>=0&&xv(+L.codepage),L.type=="string")throw new Error("Cannot write WK3 to JS string");var K=li();tt(K,0,o(R));for(var le=0,me=0;le<R.SheetNames.length;++le)(R.Sheets[R.SheetNames[le]]||{})["!ref"]&&tt(K,27,D(R.SheetNames[le],me++));var B=0;for(le=0;le<R.SheetNames.length;++le){var X=R.Sheets[R.SheetNames[le]];if(!(!X||!X["!ref"])){for(var oe=dn(X["!ref"]),Ne=Array.isArray(X),ue=[],ve=Math.min(oe.e.r,8191),xe=oe.s.r;xe<=ve;++xe)for(var Ee=Ks(xe),Me=oe.s.c;Me<=oe.e.c;++Me){xe===oe.s.r&&(ue[Me]=ua(Me));var Te=ue[Me]+Ee,se=Ne?(X[xe]||[])[Me]:X[Te];if(!(!se||se.t=="z"))if(se.t=="n")tt(K,23,k(xe,Me,B,se.v));else{var he=ad(se);tt(K,22,C(xe,Me,B,he.slice(0,239)))}}++B}}return tt(K,1),K.end()}function i(R){var V=Fe(2);return V.write_shift(2,R),V}function o(R){var V=Fe(26);V.write_shift(2,4096),V.write_shift(2,4),V.write_shift(4,0);for(var L=0,K=0,le=0,me=0;me<R.SheetNames.length;++me){var B=R.SheetNames[me],X=R.Sheets[B];if(!(!X||!X["!ref"])){++le;var oe=Hi(X["!ref"]);L<oe.e.r&&(L=oe.e.r),K<oe.e.c&&(K=oe.e.c)}}return L>8191&&(L=8191),V.write_shift(2,L),V.write_shift(1,le),V.write_shift(1,K),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(1,1),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(4,0),V}function l(R,V,L){var K={s:{c:0,r:0},e:{c:0,r:0}};return V==8&&L.qpro?(K.s.c=R.read_shift(1),R.l++,K.s.r=R.read_shift(2),K.e.c=R.read_shift(1),R.l++,K.e.r=R.read_shift(2),K):(K.s.c=R.read_shift(2),K.s.r=R.read_shift(2),V==12&&L.qpro&&(R.l+=2),K.e.c=R.read_shift(2),K.e.r=R.read_shift(2),V==12&&L.qpro&&(R.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function c(R){var V=Fe(8);return V.write_shift(2,R.s.c),V.write_shift(2,R.s.r),V.write_shift(2,R.e.c),V.write_shift(2,R.e.r),V}function d(R,V,L){var K=[{c:0,r:0},{t:"n",v:0},0,0];return L.qpro&&L.vers!=20768?(K[0].c=R.read_shift(1),K[3]=R.read_shift(1),K[0].r=R.read_shift(2),R.l+=2):(K[2]=R.read_shift(1),K[0].c=R.read_shift(2),K[0].r=R.read_shift(2)),K}function u(R,V,L){var K=R.l+V,le=d(R,V,L);if(le[1].t="s",L.vers==20768){R.l++;var me=R.read_shift(1);return le[1].v=R.read_shift(me,"utf8"),le}return L.qpro&&R.l++,le[1].v=R.read_shift(K-R.l,"cstr"),le}function f(R,V,L){var K=Fe(7+L.length);K.write_shift(1,255),K.write_shift(2,V),K.write_shift(2,R),K.write_shift(1,39);for(var le=0;le<K.length;++le){var me=L.charCodeAt(le);K.write_shift(1,me>=128?95:me)}return K.write_shift(1,0),K}function m(R,V,L){var K=d(R,V,L);return K[1].v=R.read_shift(2,"i"),K}function h(R,V,L){var K=Fe(7);return K.write_shift(1,255),K.write_shift(2,V),K.write_shift(2,R),K.write_shift(2,L,"i"),K}function x(R,V,L){var K=d(R,V,L);return K[1].v=R.read_shift(8,"f"),K}function p(R,V,L){var K=Fe(13);return K.write_shift(1,255),K.write_shift(2,V),K.write_shift(2,R),K.write_shift(8,L,"f"),K}function g(R,V,L){var K=R.l+V,le=d(R,V,L);if(le[1].v=R.read_shift(8,"f"),L.qpro)R.l=K;else{var me=R.read_shift(2);b(R.slice(R.l,R.l+me),le),R.l+=me}return le}function j(R,V,L){var K=V&32768;return V&=-32769,V=(K?R:0)+(V>=8192?V-16384:V),(K?"":"$")+(L?ua(V):Ks(V))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function b(R,V){Si(R,0);for(var L=[],K=0,le="",me="",B="",X="";R.l<R.length;){var oe=R[R.l++];switch(oe){case 0:L.push(R.read_shift(8,"f"));break;case 1:me=j(V[0].c,R.read_shift(2),!0),le=j(V[0].r,R.read_shift(2),!1),L.push(me+le);break;case 2:{var Ne=j(V[0].c,R.read_shift(2),!0),ue=j(V[0].r,R.read_shift(2),!1);me=j(V[0].c,R.read_shift(2),!0),le=j(V[0].r,R.read_shift(2),!1),L.push(Ne+ue+":"+me+le)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:L.push("("+L.pop()+")");break;case 5:L.push(R.read_shift(2));break;case 6:{for(var ve="";oe=R[R.l++];)ve+=String.fromCharCode(oe);L.push('"'+ve.replace(/"/g,'""')+'"')}break;case 8:L.push("-"+L.pop());break;case 23:L.push("+"+L.pop());break;case 22:L.push("NOT("+L.pop()+")");break;case 20:case 21:X=L.pop(),B=L.pop(),L.push(["AND","OR"][oe-20]+"("+B+","+X+")");break;default:if(oe<32&&w[oe])X=L.pop(),B=L.pop(),L.push(B+w[oe]+X);else if(y[oe]){if(K=y[oe][1],K==69&&(K=R[R.l++]),K>L.length){console.error("WK1 bad formula parse 0x"+oe.toString(16)+":|"+L.join("|")+"|");return}var xe=L.slice(-K);L.length-=K,L.push(y[oe][0]+"("+xe.join(",")+")")}else return oe<=7?console.error("WK1 invalid opcode "+oe.toString(16)):oe<=24?console.error("WK1 unsupported op "+oe.toString(16)):oe<=30?console.error("WK1 invalid opcode "+oe.toString(16)):oe<=115?console.error("WK1 unsupported function opcode "+oe.toString(16)):console.error("WK1 unrecognized opcode "+oe.toString(16))}}L.length==1?V[1].f=""+L[0]:console.error("WK1 bad formula parse |"+L.join("|")+"|")}function N(R){var V=[{c:0,r:0},{t:"n",v:0},0];return V[0].r=R.read_shift(2),V[3]=R[R.l++],V[0].c=R[R.l++],V}function _(R,V){var L=N(R);return L[1].t="s",L[1].v=R.read_shift(V-4,"cstr"),L}function C(R,V,L,K){var le=Fe(6+K.length);le.write_shift(2,R),le.write_shift(1,L),le.write_shift(1,V),le.write_shift(1,39);for(var me=0;me<K.length;++me){var B=K.charCodeAt(me);le.write_shift(1,B>=128?95:B)}return le.write_shift(1,0),le}function A(R,V){var L=N(R);L[1].v=R.read_shift(2);var K=L[1].v>>1;if(L[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return L[1].v=K,L}function E(R,V){var L=N(R),K=R.read_shift(4),le=R.read_shift(4),me=R.read_shift(2);if(me==65535)return K===0&&le===3221225472?(L[1].t="e",L[1].v=15):K===0&&le===3489660928?(L[1].t="e",L[1].v=42):L[1].v=0,L;var B=me&32768;return me=(me&32767)-16446,L[1].v=(1-B*2)*(le*Math.pow(2,me+32)+K*Math.pow(2,me)),L}function k(R,V,L,K){var le=Fe(14);if(le.write_shift(2,R),le.write_shift(1,L),le.write_shift(1,V),K==0)return le.write_shift(4,0),le.write_shift(4,0),le.write_shift(2,65535),le;var me=0,B=0,X=0,oe=0;return K<0&&(me=1,K=-K),B=Math.log2(K)|0,K/=Math.pow(2,B-31),oe=K>>>0,oe&2147483648||(K/=2,++B,oe=K>>>0),K-=oe,oe|=2147483648,oe>>>=0,K*=Math.pow(2,32),X=K>>>0,le.write_shift(4,X),le.write_shift(4,oe),B+=16383+(me?32768:0),le.write_shift(2,B),le}function O(R,V){var L=E(R);return R.l+=V-14,L}function I(R,V){var L=N(R),K=R.read_shift(4);return L[1].v=K>>6,L}function W(R,V){var L=N(R),K=R.read_shift(8,"f");return L[1].v=K,L}function H(R,V){var L=W(R);return R.l+=V-10,L}function F(R,V){return R[R.l+V-1]==0?R.read_shift(V,"cstr"):""}function T(R,V){var L=R[R.l++];L>V-1&&(L=V-1);for(var K="";K.length<L;)K+=String.fromCharCode(R[R.l++]);return K}function P(R,V,L){if(!(!L.qpro||V<21)){var K=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var le=R.read_shift(V-21,"cstr");return[K,le]}}function M(R,V){for(var L={},K=R.l+V;R.l<K;){var le=R.read_shift(2);if(le==14e3){for(L[le]=[0,""],L[le][0]=R.read_shift(2);R[R.l];)L[le][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return L}function D(R,V){var L=Fe(5+R.length);L.write_shift(2,14e3),L.write_shift(2,V);for(var K=0;K<R.length;++K){var le=R.charCodeAt(K);L[L.l++]=le>127?95:le}return L[L.l++]=0,L}var Y={0:{n:"BOF",f:tee},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:F},222:{n:"SHEETNAMELP",f:T},65535:{n:""}},ae={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:_},23:{n:"NUMBER17",f:E},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:M},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:I},38:{n:"??"},39:{n:"NUMBER27",f:W},40:{n:"FORMULA28",f:H},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:F},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:P},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:s,book_to_wk3:a,to_workbook:t}}(),vXe=/^\s|\s$|[\t\n\r]/;function oee(e,t){if(!t.bookSST)return"";var r=[as];r[r.length]=et("sst",null,{xmlns:px[0],count:e.Count,uniqueCount:e.Unique});for(var s=0;s!=e.length;++s)if(e[s]!=null){var a=e[s],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(vXe)&&(i+=' xml:space="preserve"'),i+=">"+Dr(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function yXe(e){return[e.read_shift(4),e.read_shift(4)]}function jXe(e,t){return t||(t=Fe(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var bXe=uYe;function wXe(e){var t=li();We(t,159,jXe(e));for(var r=0;r<e.length;++r)We(t,19,bXe(e[r]));return We(t,160),t.end()}function NXe(e){for(var t=[],r=e.split(""),s=0;s<r.length;++s)t[s]=r[s].charCodeAt(0);return t}function lee(e){var t=0,r,s=NXe(e),a=s.length+1,i,o,l,c,d;for(r=tm(a),r[0]=s.length,i=1;i!=a;++i)r[i]=s[i-1];for(i=a-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,d=l|c,t=d^o;return t^52811}var _Xe=function(){function e(a,i){switch(i.type){case"base64":return t(sd(a),i);case"binary":return t(a,i);case"buffer":return t(yr&&Buffer.isBuffer(a)?a.toString("binary"):Sy(a),i);case"array":return t(o_(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,f){Array.isArray(l)&&(l[f]=[]);for(var m=/\\\w+\b/g,h=0,x,p=-1;x=m.exec(u);){switch(x[0]){case"\\cell":var g=u.slice(h,m.lastIndex-x[0].length);if(g[0]==" "&&(g=g.slice(1)),++p,g.length){var j={v:g,t:"s"};Array.isArray(l)?l[f][p]=j:l[Rr({r:f,c:p})]=j}break}h=m.lastIndex}p>d.e.c&&(d.e.c=p)}),l["!ref"]=ts(d),l}function r(a,i){return xm(e(a,i),i)}function s(a){for(var i=["{\\rtf1\\ansi"],o=dn(a["!ref"]),l,c=Array.isArray(a),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var f=Rr({r:d,c:u});l=c?(a[d]||[])[u]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(ad(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:s}}();function m8(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var SXe=6,Bc=SXe;function zw(e){return Math.floor((e+Math.round(128/Bc)/256)*Bc)}function Ww(e){return Math.floor((e-5)/Bc*100+.5)/100}function AP(e){return Math.round((e*Bc+5)/Bc*256)/256}function bD(e){e.width?(e.wpx=zw(e.width),e.wch=Ww(e.wpx),e.MDW=Bc):e.wpx?(e.wch=Ww(e.wpx),e.width=AP(e.wch),e.MDW=Bc):typeof e.wch=="number"&&(e.width=AP(e.wch),e.wpx=zw(e.width),e.MDW=Bc),e.customWidth&&delete e.customWidth}var CXe=96,cee=CXe;function Hw(e){return e*96/cee}function dee(e){return e*cee/96}function AXe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&(t[t.length]=et("numFmt",null,{numFmtId:s,formatCode:Dr(e[s])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=et("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function EXe(e){var t=[];return t[t.length]=et("cellXfs",null),e.forEach(function(r){t[t.length]=et("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=et("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function uee(e,t){var r=[as,et("styleSheet",null,{xmlns:px[0],"xmlns:vt":As.vt})],s;return e.SSF&&(s=AXe(e.SSF))!=null&&(r[r.length]=s),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(s=EXe(t.cellXfs))&&(r[r.length]=s),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function PXe(e,t){var r=e.read_shift(2),s=fa(e);return[r,s]}function kXe(e,t,r){r||(r=Fe(6+4*t.length)),r.write_shift(2,e),Ps(t,r);var s=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),s}function TXe(e,t,r){var s={};s.sz=e.read_shift(2)/20;var a=vYe(e);a.fItalic&&(s.italic=1),a.fCondense&&(s.condense=1),a.fExtend&&(s.extend=1),a.fShadow&&(s.shadow=1),a.fOutline&&(s.outline=1),a.fStrikeout&&(s.strike=1);var i=e.read_shift(2);switch(i===700&&(s.bold=1),e.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(s.underline=o);var l=e.read_shift(1);l>0&&(s.family=l);var c=e.read_shift(1);switch(c>0&&(s.charset=c),e.l++,s.color=gYe(e),e.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor";break}return s.name=fa(e),s}function OXe(e,t){t||(t=Fe(25+4*32)),t.write_shift(2,e.sz*20),yYe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Uw(e.color,t);var s=0;return e.scheme=="major"&&(s=1),e.scheme=="minor"&&(s=2),t.write_shift(1,s),Ps(e.name,t),t.length>t.l?t.slice(0,t.l):t}var DXe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],NC,IXe=tc;function h8(e,t){t||(t=Fe(4*3+8*7+16*1)),NC||(NC=cD(DXe));var r=NC[e.patternType];r==null&&(r=40),t.write_shift(4,r);var s=0;if(r!=40)for(Uw({auto:1},t),Uw({auto:1},t);s<12;++s)t.write_shift(4,0);else{for(;s<4;++s)t.write_shift(4,0);for(;s<12;++s)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function RXe(e,t){var r=e.l+t,s=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:s,numFmtId:a}}function fee(e,t,r){r||(r=Fe(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var s=0;return r.write_shift(1,s),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function tg(e,t){return t||(t=Fe(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var MXe=tc;function FXe(e,t){return t||(t=Fe(51)),t.write_shift(1,0),tg(null,t),tg(null,t),tg(null,t),tg(null,t),tg(null,t),t.length>t.l?t.slice(0,t.l):t}function $Xe(e,t){return t||(t=Fe(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Bw(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function LXe(e,t,r){var s=Fe(2052);return s.write_shift(4,e),Bw(t,s),Bw(r,s),s.length>s.l?s.slice(0,s.l):s}function BXe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&++r}),r!=0&&(We(e,615,al(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&We(e,44,kXe(a,t[a]))}),We(e,616))}}function UXe(e){var t=1;We(e,611,al(t)),We(e,43,OXe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),We(e,612)}function VXe(e){var t=2;We(e,603,al(t)),We(e,45,h8({patternType:"none"})),We(e,45,h8({patternType:"gray125"})),We(e,604)}function zXe(e){var t=1;We(e,613,al(t)),We(e,46,FXe()),We(e,614)}function WXe(e){var t=1;We(e,626,al(t)),We(e,47,fee({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),We(e,627)}function HXe(e,t){We(e,617,al(t.length)),t.forEach(function(r){We(e,47,fee(r,0))}),We(e,618)}function qXe(e){var t=1;We(e,619,al(t)),We(e,48,$Xe({xfId:0,builtinId:0,name:"Normal"})),We(e,620)}function GXe(e){var t=0;We(e,505,al(t)),We(e,506)}function KXe(e){var t=0;We(e,508,LXe(t,"TableStyleMedium9","PivotStyleMedium4")),We(e,509)}function YXe(e,t){var r=li();return We(r,278),BXe(r,e.SSF),UXe(r),VXe(r),zXe(r),WXe(r),HXe(r,t.cellXfs),qXe(r),GXe(r),KXe(r),We(r,279),r.end()}function mee(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[as];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function XXe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:fa(e)}}function QXe(e){var t=Fe(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ps(e.name,t),t.slice(0,t.l)}function ZXe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function JXe(e){var t=Fe(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function eQe(e,t){var r=Fe(8+2*t.length);return r.write_shift(4,e),Ps(t,r),r.slice(0,r.l)}function tQe(e){return e.l+=4,e.read_shift(4)!=0}function rQe(e,t){var r=Fe(8);return r.write_shift(4,e),r.write_shift(4,1),r}function nQe(){var e=li();return We(e,332),We(e,334,al(1)),We(e,335,QXe({name:"XLDAPR",version:12e4,flags:3496657072})),We(e,336),We(e,339,eQe(1,"XLDAPR")),We(e,52),We(e,35,al(514)),We(e,4096,al(0)),We(e,4097,oo(1)),We(e,36),We(e,53),We(e,340),We(e,337,rQe(1)),We(e,51,JXe([[1,0]])),We(e,338),We(e,333),e.end()}function hee(){var e=[as];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function sQe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Rr(r);var s=e.read_shift(1);return s&2&&(t.l="1"),s&8&&(t.a="1"),t}var nh=1024;function pee(e,t){for(var r=[21600,21600],s=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[et("xml",null,{"xmlns:v":Ai.v,"xmlns:o":Ai.o,"xmlns:x":Ai.x,"xmlns:mv":Ai.mv}).replace(/\/>/,">"),et("o:shapelayout",et("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),et("v:shapetype",[et("v:stroke",null,{joinstyle:"miter"}),et("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:s})];nh<e*1e3;)nh+=1e3;return t.forEach(function(i){var o=Es(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?et("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=et("v:fill",c,l),u={on:"t",obscured:"t"};++nh,a=a.concat(["<v:shape"+jv({id:"_x0000_s"+nh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,et("v:shadow",null,u),et("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ws("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Ws("x:AutoFill","False"),Ws("x:Row",String(o.r)),Ws("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function xee(e){var t=[as,et("comments",null,{xmlns:px[0]})],r=[];return t.push("<authors>"),e.forEach(function(s){s[1].forEach(function(a){var i=Dr(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(s){var a=0,i=[];if(s[1][0]&&s[1][0].T&&s[1][0].ID?a=r.indexOf("tc="+s[1][0].ID):s[1].forEach(function(c){c.a&&(a=r.indexOf(Dr(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+s[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Ws("t",Dr(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(Ws("t",Dr(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function aQe(e,t,r){var s=[as,et("ThreadedComments",null,{xmlns:As.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),s.push(et("threadedComment",Ws("text",o.t||""),c))})}),s.push("</ThreadedComments>"),s.join("")}function iQe(e){var t=[as,et("personList",null,{xmlns:As.TCMNT,"xmlns:x":px[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,s){t.push(et("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+s).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function oQe(e){var t={};t.iauthor=e.read_shift(4);var r=jm(e);return t.rfx=r.s,t.ref=Rr(r.s),e.l+=16,t}function lQe(e,t){return t==null&&(t=Fe(36)),t.write_shift(4,e[1].iauthor),gx(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var cQe=fa;function dQe(e){return Ps(e.slice(0,54))}function uQe(e){var t=li(),r=[];return We(t,628),We(t,630),e.forEach(function(s){s[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),We(t,632,dQe(a.a)))})}),We(t,631),We(t,633),e.forEach(function(s){s[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Es(s[0]),e:Es(s[0])};We(t,635,lQe([i,a])),a.t&&a.t.length>0&&We(t,637,mYe(a)),We(t,636),delete a.iauthor})}),We(t,634),We(t,629),t.end()}function fQe(e,t){t.FullPaths.forEach(function(r,s){if(s!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Lr.utils.cfb_add(e,a,t.FileIndex[s].content)}})}var gee=["xlsb","xlsm","xlam","biff8","xla"],mQe=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(s,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return l?u+=t.c:--u,c?d+=t.r:--d,a+(l?"":"$")+ua(u)+(c?"":"$")+Ks(d)}return function(a,i){return t=i,a.replace(e,r)}}(),wD=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ND=function(){return function(t,r){return t.replace(wD,function(s,a,i,o,l,c){var d=xD(o)-(i?0:r.c),u=pD(c)-(l?0:r.r),f=u==0?"":l?u+1:"["+u+"]",m=d==0?"":i?d+1:"["+d+"]";return a+"R"+f+"C"+m})}}();function hQe(e,t){return e.replace(wD,function(r,s,a,i,o,l){return s+(a=="$"?a+i:ua(xD(i)+t.c))+(o=="$"?o+l:Ks(pD(l)+t.r))})}function pQe(e){return e.length!=1}function Qn(e){e.l+=1}function wu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function vee(e,t,r){var s=2;if(r){if(r.biff>=2&&r.biff<=5)return yee(e);r.biff==12&&(s=4)}var a=e.read_shift(s),i=e.read_shift(s),o=wu(e),l=wu(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function yee(e){var t=wu(e),r=wu(e),s=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:s,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function xQe(e,t,r){if(r.biff<8)return yee(e);var s=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=wu(e),o=wu(e);return{s:{r:s,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function jee(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return gQe(e);var s=e.read_shift(r&&r.biff==12?4:2),a=wu(e);return{r:s,c:a[0],cRel:a[1],rRel:a[2]}}function gQe(e){var t=wu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function vQe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function yQe(e,t,r){var s=r&&r.biff?r.biff:8;if(s>=2&&s<=5)return jQe(e);var a=e.read_shift(s>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function jQe(e){var t=e.read_shift(2),r=e.read_shift(1),s=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,s==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:s}}function bQe(e,t,r){var s=(e[e.l++]&96)>>5,a=vee(e,r.biff>=2&&r.biff<=5?6:8,r);return[s,a]}function wQe(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=vee(e,i,r);return[s,a,o]}function NQe(e,t,r){var s=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[s]}function _Qe(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[s,a]}function SQe(e,t,r){var s=(e[e.l++]&96)>>5,a=xQe(e,t-1,r);return[s,a]}function CQe(e,t,r){var s=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[s]}function p8(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function AQe(e,t,r){e.l+=2;for(var s=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=s;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function EQe(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(r&&r.biff==2?1:2)]}function PQe(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(r&&r.biff==2?1:2)]}function kQe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function TQe(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[s]}function bee(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function OQe(e){return e.read_shift(2),bee(e)}function DQe(e){return e.read_shift(2),bee(e)}function IQe(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=jee(e,0,r);return[s,a]}function RQe(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=yQe(e,0,r);return[s,a]}function MQe(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=jee(e,0,r);return[s,a,i]}function FQe(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[FZe[a],_ee[a],s]}function $Qe(e,t,r){var s=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[s==88?-1:0,e.read_shift(1)]:LQe(e);return[a,(i[0]===0?_ee:MZe)[i[1]]]}function LQe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function BQe(e,t,r){e.l+=r&&r.biff==2?3:4}function UQe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var s=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function VQe(e){return e.l++,Ey[e.read_shift(1)]}function zQe(e){return e.l++,e.read_shift(2)}function WQe(e){return e.l++,e.read_shift(1)!==0}function HQe(e){return e.l++,vx(e)}function qQe(e,t,r){return e.l++,nee(e,t-1,r)}function GQe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=MYe(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Ey[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=vx(e);break;case 2:r[1]=BYe(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function KQe(e,t,r){for(var s=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=s;++i)a.push((r.biff==12?jm:zYe)(e));return a}function YQe(e,t,r){var s=0,a=0;r.biff==12?(s=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),s=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--s,--a==0&&(a=256));for(var i=0,o=[];i!=s&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=GQe(e,r.biff);return o}function XQe(e,t,r){var s=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[s,0,i]}function QQe(e,t,r){if(r.biff==5)return ZQe(e);var s=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[s,a,i]}function ZQe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var s=e.read_shift(2);return e.l+=12,[t,r,s]}function JQe(e,t,r){var s=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function eZe(e,t,r){var s=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function tZe(e,t,r){var s=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[s]}function rZe(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[s,a]}var nZe=tc,sZe=tc,aZe=tc;function Py(e,t,r){return e.l+=2,[vQe(e)]}function _D(e){return e.l+=6,[]}var iZe=Py,oZe=_D,lZe=_D,cZe=Py;function wee(e){return e.l+=2,[tee(e),e.read_shift(2)&1]}var dZe=Py,uZe=wee,fZe=_D,mZe=Py,hZe=Py,pZe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function xZe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=pZe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:s,c:a,C:i}}function gZe(e){return e.l+=2,[e.read_shift(4)]}function vZe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function yZe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function jZe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function bZe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function wZe(e){return e.l+=4,[0,0]}var x8={1:{n:"PtgExp",f:UQe},2:{n:"PtgTbl",f:aZe},3:{n:"PtgAdd",f:Qn},4:{n:"PtgSub",f:Qn},5:{n:"PtgMul",f:Qn},6:{n:"PtgDiv",f:Qn},7:{n:"PtgPower",f:Qn},8:{n:"PtgConcat",f:Qn},9:{n:"PtgLt",f:Qn},10:{n:"PtgLe",f:Qn},11:{n:"PtgEq",f:Qn},12:{n:"PtgGe",f:Qn},13:{n:"PtgGt",f:Qn},14:{n:"PtgNe",f:Qn},15:{n:"PtgIsect",f:Qn},16:{n:"PtgUnion",f:Qn},17:{n:"PtgRange",f:Qn},18:{n:"PtgUplus",f:Qn},19:{n:"PtgUminus",f:Qn},20:{n:"PtgPercent",f:Qn},21:{n:"PtgParen",f:Qn},22:{n:"PtgMissArg",f:Qn},23:{n:"PtgStr",f:qQe},26:{n:"PtgSheet",f:vZe},27:{n:"PtgEndSheet",f:yZe},28:{n:"PtgErr",f:VQe},29:{n:"PtgBool",f:WQe},30:{n:"PtgInt",f:zQe},31:{n:"PtgNum",f:HQe},32:{n:"PtgArray",f:CQe},33:{n:"PtgFunc",f:FQe},34:{n:"PtgFuncVar",f:$Qe},35:{n:"PtgName",f:XQe},36:{n:"PtgRef",f:IQe},37:{n:"PtgArea",f:bQe},38:{n:"PtgMemArea",f:JQe},39:{n:"PtgMemErr",f:nZe},40:{n:"PtgMemNoMem",f:sZe},41:{n:"PtgMemFunc",f:eZe},42:{n:"PtgRefErr",f:tZe},43:{n:"PtgAreaErr",f:NQe},44:{n:"PtgRefN",f:RQe},45:{n:"PtgAreaN",f:SQe},46:{n:"PtgMemAreaN",f:jZe},47:{n:"PtgMemNoMemN",f:bZe},57:{n:"PtgNameX",f:QQe},58:{n:"PtgRef3d",f:MQe},59:{n:"PtgArea3d",f:wQe},60:{n:"PtgRefErr3d",f:rZe},61:{n:"PtgAreaErr3d",f:_Qe},255:{}},NZe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},_Ze={1:{n:"PtgElfLel",f:wee},2:{n:"PtgElfRw",f:mZe},3:{n:"PtgElfCol",f:iZe},6:{n:"PtgElfRwV",f:hZe},7:{n:"PtgElfColV",f:cZe},10:{n:"PtgElfRadical",f:dZe},11:{n:"PtgElfRadicalS",f:fZe},13:{n:"PtgElfColS",f:oZe},15:{n:"PtgElfColSV",f:lZe},16:{n:"PtgElfRadicalLel",f:uZe},25:{n:"PtgList",f:xZe},29:{n:"PtgSxName",f:gZe},255:{}},SZe={0:{n:"PtgAttrNoop",f:wZe},1:{n:"PtgAttrSemi",f:TQe},2:{n:"PtgAttrIf",f:PQe},4:{n:"PtgAttrChoose",f:AQe},8:{n:"PtgAttrGoto",f:EQe},16:{n:"PtgAttrSum",f:BQe},32:{n:"PtgAttrBaxcel",f:p8},33:{n:"PtgAttrBaxcel",f:p8},64:{n:"PtgAttrSpace",f:OQe},65:{n:"PtgAttrSpaceSemi",f:DQe},128:{n:"PtgAttrIfError",f:kQe},255:{}};function CZe(e,t,r,s){if(s.biff<8)return tc(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=YQe(e,0,s),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=KQe(e,r[o][1],s),i.push(r[o][2]);break;case"PtgExp":s&&s.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(tc(e,t)),i}function AZe(e,t,r){for(var s=e.l+t,a,i,o=[];s!=e.l;)t=s-e.l,i=e[e.l],a=x8[i]||x8[NZe[i]],(i===24||i===25)&&(a=(i===24?_Ze:SZe)[e[e.l+1]]),!a||!a.f?tc(e,t):o.push([a.n,a.f(e,t,r)]);return o}function EZe(e){for(var t=[],r=0;r<e.length;++r){for(var s=e[r],a=[],i=0;i<s.length;++i){var o=s[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var PZe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function kZe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Nee(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var s=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!s)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[s[0]][0]){case 357:return a=s[1]==-1?"#REF":e.SheetNames[s[1]],s[1]==s[2]?a:a+":"+e.SheetNames[s[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[s[0]][0];case 355:default:return"SH33TJSSRC"+e[s[0]][0]}switch(e[s[0]][0][0]){case 1025:return a=s[1]==-1?"#REF":e.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?a:a+":"+e.SheetNames[s[2]];case 14849:return e[s[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[s[0]][0][3]?(a=s[1]==-1?"#REF":e[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?a:a+":"+e[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function g8(e,t,r){var s=Nee(e,t,r);return s=="#REF"?s:kZe(s,r)}function Ip(e,t,r,s,a){var i=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,d,u,f=0,m=0,h,x="";if(!e[0]||!e[0][0])return"";for(var p=-1,g="",j=0,y=e[0].length;j<y;++j){var w=e[0][j];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),p>=0){switch(e[0][p][1][0]){case 0:g=Mn(" ",e[0][p][1][1]);break;case 1:g=Mn("\r",e[0][p][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}d=d+g,p=-1}l.push(d+PZe[w[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Wg(w[1][1],o,a),l.push(Hg(u,i));break;case"PtgRefN":u=r?Wg(w[1][1],r,a):w[1][1],l.push(Hg(u,i));break;case"PtgRef3d":f=w[1][1],u=Wg(w[1][2],o,a),x=g8(s,f,a),l.push(x+"!"+Hg(u,i));break;case"PtgFunc":case"PtgFuncVar":var b=w[1][0],N=w[1][1];b||(b=0),b&=127;var _=b==0?[]:l.slice(-b);l.length-=b,N==="User"&&(N=_.shift()),l.push(N+"("+_.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":h=t8(w[1][1],r?{s:r}:o,a),l.push(bC(h,a));break;case"PtgArea":h=t8(w[1][1],o,a),l.push(bC(h,a));break;case"PtgArea3d":f=w[1][1],h=w[1][2],x=g8(s,f,a),l.push(x+"!"+bC(h,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=w[1][2];var C=(s.names||[])[m-1]||(s[0]||[])[m],A=C?C.Name:"SH33TJSNAME"+String(m);A&&A.slice(0,6)=="_xlfn."&&!a.xlfn&&(A=A.slice(6)),l.push(A);break;case"PtgNameX":var E=w[1][1];m=w[1][2];var k;if(a.biff<=5)E<0&&(E=-E),s[E]&&(k=s[E][m]);else{var O="";if(((s[E]||[])[0]||[])[0]==14849||(((s[E]||[])[0]||[])[0]==1025?s[E][m]&&s[E][m].itab>0&&(O=s.SheetNames[s[E][m].itab-1]+"!"):O=s.SheetNames[m-1]+"!"),s[E]&&s[E][m])O+=s[E][m].Name;else if(s[0]&&s[0][m])O+=s[0][m].Name;else{var I=(Nee(s,E,a)||"").split(";;");I[m-1]?O=I[m-1]:O+="SH33TJSERRX"}l.push(O);break}k||(k={Name:"SH33TJSERRY"}),l.push(k.Name);break;case"PtgParen":var W="(",H=")";if(p>=0){switch(g="",e[0][p][1][0]){case 2:W=Mn(" ",e[0][p][1][1])+W;break;case 3:W=Mn("\r",e[0][p][1][1])+W;break;case 4:H=Mn(" ",e[0][p][1][1])+H;break;case 5:H=Mn("\r",e[0][p][1][1])+H;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}l.push(W+l.pop()+H);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var F={c:r.c,r:r.r};if(s.sharedf[Rr(u)]){var T=s.sharedf[Rr(u)];l.push(Ip(T,o,F,s,a))}else{var P=!1;for(c=0;c!=s.arrayf.length;++c)if(d=s.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){l.push(Ip(d[1],o,F,s,a)),P=!0;break}P||l.push(w[1])}break;case"PtgArray":l.push("{"+EZe(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var M=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&M.indexOf(e[0][j][0])==-1){w=e[0][p];var D=!0;switch(w[1][0]){case 4:D=!1;case 0:g=Mn(" ",w[1][1]);break;case 5:D=!1;case 1:g=Mn("\r",w[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((D?g:"")+l.pop()+(D?"":g)),p=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function TZe(e){if(e==null){var t=Fe(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return rm(e);return rm(0)}function OZe(e,t,r,s,a){var i=nm(t,r,a),o=TZe(e.v),l=Fe(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var d=Fe(e.bf.length),u=0;u<e.bf.length;++u)d[u]=e.bf[u];var f=zs([i,o,l,d]);return f}function l_(e,t,r){var s=e.read_shift(4),a=AZe(e,s,r),i=e.read_shift(4),o=i>0?CZe(e,i,a,r):null;return[a,o]}var DZe=l_,c_=l_,IZe=l_,RZe=l_,MZe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},_ee={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},FZe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function $Ze(e){var t="of:="+e.replace(wD,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function LZe(e){return e.replace(/\./,"!")}var qg=typeof Map<"u";function SD(e,t,r){var s=0,a=e.length;if(r){if(qg?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=qg?r.get(t):r[t];s<i.length;++s)if(e[i[s]].t===t)return e.Count++,i[s]}}else for(;s<a;++s)if(e[s].t===t)return e.Count++,s;return e[a]={t},e.Count++,e.Unique++,r&&(qg?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function d_(e,t){var r={min:e+1,max:e+1},s=-1;return t.MDW&&(Bc=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?s=Ww(t.wpx):t.wch!=null&&(s=t.wch),s>-1?(r.width=AP(s),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function See(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function $u(e,t,r){var s=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(s==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){jJ(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=s=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===s)return a;return e[i]={numFmtId:s,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function BZe(e,t,r){if(e&&e["!ref"]){var s=dn(e["!ref"]);if(s.e.c<s.s.c||s.e.r<s.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function UZe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+ts(e[r])+'"/>';return t+"</mergeCells>"}function VZe(e,t,r,s,a){var i=!1,o={},l=null;if(s.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=yv(Dr(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),l=(l||"")+et("outlinePr",null,d)}!i&&!l||(a[a.length]=et("sheetPr",l,o))}var zZe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],WZe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function HZe(e){var t={sheet:1};return zZe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),WZe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=lee(e.password).toString(16).toUpperCase()),et("sheetProtection",null,t)}function qZe(e){return See(e),et("pageMargins",null,e)}function GZe(e,t){for(var r=["<cols>"],s,a=0;a!=t.length;++a)(s=t[a])&&(r[r.length]=et("col",null,d_(a,s)));return r[r.length]="</cols>",r.join("")}function KZe(e,t,r,s){var a=typeof e.ref=="string"?e.ref:ts(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Hi(a);o.s.r==o.e.r&&(o.e.r=Hi(t["!ref"]).e.r,a=ts(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==s){c.Ref="'"+r.SheetNames[s]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+r.SheetNames[s]+"'!"+a}),et("autoFilter",null,{ref:a})}function YZe(e,t,r,s){var a={workbookViewId:"0"};return(((s||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=s.Workbook.Views[0].RTL?"1":"0"),et("sheetViews",et("sheetView",null,a),{})}function XZe(e,t,r,s){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Ey[e.v];break;case"d":s&&s.cellDates?a=Ta(e.v,-1).toISOString():(e=ui(e),e.t="n",a=""+(e.v=di(Ta(e.v)))),typeof e.z>"u"&&(e.z=Fn[14]);break;default:a=e.v;break}var l=Ws("v",Dr(a)),c={r:t},d=$u(s.cellXfs,e,s);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(s&&s.bookSST){l=Ws("v",""+SD(s.Strings,e.v,s.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=et("f",Dr(e.f),u)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),et("c",l,c)}function QZe(e,t,r,s){var a=[],i=[],o=dn(e["!ref"]),l="",c,d="",u=[],f=0,m=0,h=e["!rows"],x=Array.isArray(e),p={r:d},g,j=-1;for(m=o.s.c;m<=o.e.c;++m)u[m]=ua(m);for(f=o.s.r;f<=o.e.r;++f){for(i=[],d=Ks(f),m=o.s.c;m<=o.e.c;++m){c=u[m]+d;var y=x?(e[f]||[])[m]:e[c];y!==void 0&&(l=XZe(y,c,e,t))!=null&&i.push(l)}(i.length>0||h&&h[f])&&(p={r:d},h&&h[f]&&(g=h[f],g.hidden&&(p.hidden=1),j=-1,g.hpx?j=Hw(g.hpx):g.hpt&&(j=g.hpt),j>-1&&(p.ht=j,p.customHeight=1),g.level&&(p.outlineLevel=g.level)),a[a.length]=et("row",i.join(""),p))}if(h)for(;f<h.length;++f)h&&h[f]&&(p={r:f+1},g=h[f],g.hidden&&(p.hidden=1),j=-1,g.hpx?j=Hw(g.hpx):g.hpt&&(j=g.hpt),j>-1&&(p.ht=j,p.customHeight=1),g.level&&(p.outlineLevel=g.level),a[a.length]=et("row","",p));return a.join("")}function Cee(e,t,r,s){var a=[as,et("worksheet",null,{xmlns:px[0],"xmlns:r":As.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",u=dn(d);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=ts(u)}s||(s={}),c["!comments"]=[];var f=[];VZe(c,r,e,t,a),a[a.length]=et("dimension",null,{ref:d}),a[a.length]=YZe(c,t,e,r),t.sheetFormat&&(a[a.length]=et("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=GZe(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=QZe(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=HZe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=KZe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=UZe(c["!merges"]));var m=-1,h,x=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(p){p[1].Target&&(h={ref:p[0]},p[1].Target.charAt(0)!="#"&&(x=Tr(s,-1,Dr(p[1].Target).replace(/#.*$/,""),xr.HLINK),h["r:id"]="rId"+x),(m=p[1].Target.indexOf("#"))>-1&&(h.location=Dr(p[1].Target.slice(m+1))),p[1].Tooltip&&(h.tooltip=Dr(p[1].Tooltip)),a[a.length]=et("hyperlink",null,h))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=qZe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Ws("ignoredErrors",et("ignoredError",null,{numberStoredAsText:1,sqref:d}))),f.length>0&&(x=Tr(s,-1,"../drawings/drawing"+(e+1)+".xml",xr.DRAW),a[a.length]=et("drawing",null,{"r:id":"rId"+x}),c["!drawing"]=f),c["!comments"].length>0&&(x=Tr(s,-1,"../drawings/vmlDrawing"+(e+1)+".vml",xr.VML),a[a.length]=et("legacyDrawing",null,{"r:id":"rId"+x}),c["!legacy"]=x),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function ZZe(e,t){var r={},s=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=s,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function JZe(e,t,r){var s=Fe(145),a=(r["!rows"]||[])[e]||{};s.write_shift(4,e),s.write_shift(4,0);var i=320;a.hpx?i=Hw(a.hpx)*20:a.hpt&&(i=a.hpt*20),s.write_shift(2,i),s.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),s.write_shift(1,o),s.write_shift(1,0);var l=0,c=s.l;s.l+=4;for(var d={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var f=-1,m=-1,h=u<<10;h<u+1<<10;++h){d.c=h;var x=Array.isArray(r)?(r[d.r]||[])[d.c]:r[Rr(d)];x&&(f<0&&(f=h),m=h)}f<0||(++l,s.write_shift(4,f),s.write_shift(4,m))}var p=s.l;return s.l=c,s.write_shift(4,l),s.l=p,s.length>s.l?s.slice(0,s.l):s}function eJe(e,t,r,s){var a=JZe(s,r,t);(a.length>17||(t["!rows"]||[])[s])&&We(e,0,a)}var tJe=jm,rJe=gx;function nJe(){}function sJe(e,t){var r={},s=e[e.l];return++e.l,r.above=!(s&64),r.left=!(s&128),e.l+=18,r.name=hYe(e),r}function aJe(e,t,r){r==null&&(r=Fe(84+4*e.length));var s=192;t&&(t.above&&(s&=-65),t.left&&(s&=-129)),r.write_shift(1,s);for(var a=1;a<3;++a)r.write_shift(1,0);return Uw({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),UJ(e,r),r.slice(0,r.l)}function iJe(e){var t=Oo(e);return[t]}function oJe(e,t,r){return r==null&&(r=Fe(8)),gm(t,r)}function lJe(e){var t=vm(e);return[t]}function cJe(e,t,r){return r==null&&(r=Fe(4)),ym(t,r)}function dJe(e){var t=Oo(e),r=e.read_shift(1);return[t,r,"b"]}function uJe(e,t,r){return r==null&&(r=Fe(9)),gm(t,r),r.write_shift(1,e.v?1:0),r}function fJe(e){var t=vm(e),r=e.read_shift(1);return[t,r,"b"]}function mJe(e,t,r){return r==null&&(r=Fe(5)),ym(t,r),r.write_shift(1,e.v?1:0),r}function hJe(e){var t=Oo(e),r=e.read_shift(1);return[t,r,"e"]}function pJe(e,t,r){return r==null&&(r=Fe(9)),gm(t,r),r.write_shift(1,e.v),r}function xJe(e){var t=vm(e),r=e.read_shift(1);return[t,r,"e"]}function gJe(e,t,r){return r==null&&(r=Fe(8)),ym(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function vJe(e){var t=Oo(e),r=e.read_shift(4);return[t,r,"s"]}function yJe(e,t,r){return r==null&&(r=Fe(12)),gm(t,r),r.write_shift(4,t.v),r}function jJe(e){var t=vm(e),r=e.read_shift(4);return[t,r,"s"]}function bJe(e,t,r){return r==null&&(r=Fe(8)),ym(t,r),r.write_shift(4,t.v),r}function wJe(e){var t=Oo(e),r=vx(e);return[t,r,"n"]}function NJe(e,t,r){return r==null&&(r=Fe(16)),gm(t,r),rm(e.v,r),r}function _Je(e){var t=vm(e),r=vx(e);return[t,r,"n"]}function SJe(e,t,r){return r==null&&(r=Fe(12)),ym(t,r),rm(e.v,r),r}function CJe(e){var t=Oo(e),r=VJ(e);return[t,r,"n"]}function AJe(e,t,r){return r==null&&(r=Fe(12)),gm(t,r),zJ(e.v,r),r}function EJe(e){var t=vm(e),r=VJ(e);return[t,r,"n"]}function PJe(e,t,r){return r==null&&(r=Fe(8)),ym(t,r),zJ(e.v,r),r}function kJe(e){var t=Oo(e),r=gD(e);return[t,r,"is"]}function TJe(e){var t=Oo(e),r=fa(e);return[t,r,"str"]}function OJe(e,t,r){return r==null&&(r=Fe(12+4*e.v.length)),gm(t,r),Ps(e.v,r),r.length>r.l?r.slice(0,r.l):r}function DJe(e){var t=vm(e),r=fa(e);return[t,r,"str"]}function IJe(e,t,r){return r==null&&(r=Fe(8+4*e.v.length)),ym(t,r),Ps(e.v,r),r.length>r.l?r.slice(0,r.l):r}function RJe(e,t,r){var s=e.l+t,a=Oo(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=c_(e,s-e.l,r);o[3]=Ip(l,null,a,r.supbooks,r)}else e.l=s;return o}function MJe(e,t,r){var s=e.l+t,a=Oo(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=c_(e,s-e.l,r);o[3]=Ip(l,null,a,r.supbooks,r)}else e.l=s;return o}function FJe(e,t,r){var s=e.l+t,a=Oo(e);a.r=r["!row"];var i=vx(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=c_(e,s-e.l,r);o[3]=Ip(l,null,a,r.supbooks,r)}else e.l=s;return o}function $Je(e,t,r){var s=e.l+t,a=Oo(e);a.r=r["!row"];var i=fa(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=c_(e,s-e.l,r);o[3]=Ip(l,null,a,r.supbooks,r)}else e.l=s;return o}var LJe=jm,BJe=gx;function UJe(e,t){return t==null&&(t=Fe(4)),t.write_shift(4,e),t}function VJe(e,t){var r=e.l+t,s=jm(e),a=vD(e),i=fa(e),o=fa(e),l=fa(e);e.l=r;var c={rfx:s,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function zJe(e,t){var r=Fe(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));gx({s:Es(e[0]),e:Es(e[0])},r),yD("rId"+t,r);var s=e[1].Target.indexOf("#"),a=s==-1?"":e[1].Target.slice(s+1);return Ps(a||"",r),Ps(e[1].Tooltip||"",r),Ps("",r),r.slice(0,r.l)}function WJe(){}function HJe(e,t,r){var s=e.l+t,a=WJ(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=DZe(e,s-e.l,r);o[1]=l}else e.l=s;return o}function qJe(e,t,r){var s=e.l+t,a=jm(e),i=[a];if(r.cellFormula){var o=RZe(e,s-e.l,r);i[1]=o,e.l=s}else e.l=s;return i}function GJe(e,t,r){r==null&&(r=Fe(18));var s=d_(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(s.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof s.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var Aee=["left","right","top","bottom","header","footer"];function KJe(e){var t={};return Aee.forEach(function(r){t[r]=vx(e)}),t}function YJe(e,t){return t==null&&(t=Fe(6*8)),See(e),Aee.forEach(function(r){rm(e[r],t)}),t}function XJe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function QJe(e,t,r){r==null&&(r=Fe(30));var s=924;return(((t||{}).Views||[])[0]||{}).RTL&&(s|=32),r.write_shift(2,s),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function ZJe(e){var t=Fe(24);return t.write_shift(4,4),t.write_shift(4,1),gx(e,t),t}function JJe(e,t){return t==null&&(t=Fe(16*4+2)),t.write_shift(2,e.password?lee(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function eet(){}function tet(){}function ret(e,t,r,s,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=ui(t),t.z=t.z||Fn[14],t.v=di(Ta(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:s};switch(c.s=$u(a.cellXfs,t,a),t.l&&i["!links"].push([Rr(c),t.l]),t.c&&i["!comments"].push([Rr(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=SD(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?We(e,18,bJe(t,c)):We(e,7,yJe(t,c))):(c.t="str",o?We(e,17,IJe(t,c)):We(e,6,OJe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?We(e,13,PJe(t,c)):We(e,2,AJe(t,c)):o?We(e,16,SJe(t,c)):We(e,5,NJe(t,c)),!0;case"b":return c.t="b",o?We(e,15,mJe(t,c)):We(e,4,uJe(t,c)),!0;case"e":return c.t="e",o?We(e,14,gJe(t,c)):We(e,3,pJe(t,c)),!0}return o?We(e,12,cJe(t,c)):We(e,1,oJe(t,c)),!0}function net(e,t,r,s){var a=dn(t["!ref"]||"A1"),i,o="",l=[];We(e,145);var c=Array.isArray(t),d=a.e.r;t["!rows"]&&(d=Math.max(a.e.r,t["!rows"].length-1));for(var u=a.s.r;u<=d;++u){o=Ks(u),eJe(e,t,a,u);var f=!1;if(u<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){u===a.s.r&&(l[m]=ua(m)),i=l[m]+o;var h=c?(t[u]||[])[m]:t[i];if(!h){f=!1;continue}f=ret(e,h,u,m,s,t,f)}}We(e,146)}function set(e,t){!t||!t["!merges"]||(We(e,177,UJe(t["!merges"].length)),t["!merges"].forEach(function(r){We(e,176,BJe(r))}),We(e,178))}function aet(e,t){!t||!t["!cols"]||(We(e,390),t["!cols"].forEach(function(r,s){r&&We(e,60,GJe(s,r))}),We(e,391))}function iet(e,t){!t||!t["!ref"]||(We(e,648),We(e,649,ZJe(dn(t["!ref"]))),We(e,650))}function oet(e,t,r){t["!links"].forEach(function(s){if(s[1].Target){var a=Tr(r,-1,s[1].Target.replace(/#.*$/,""),xr.HLINK);We(e,494,zJe(s,a))}}),delete t["!links"]}function cet(e,t,r,s){if(t["!comments"].length>0){var a=Tr(s,-1,"../drawings/vmlDrawing"+(r+1)+".vml",xr.VML);We(e,551,yD("rId"+a)),t["!legacy"]=a}}function det(e,t,r,s){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:ts(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Hi(i);l.s.r==l.e.r&&(l.e.r=Hi(t["!ref"]).e.r,i=ts(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==s){d.Ref="'"+r.SheetNames[s]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+r.SheetNames[s]+"'!"+i}),We(e,161,gx(dn(i))),We(e,162)}}function uet(e,t,r){We(e,133),We(e,137,QJe(t,r)),We(e,138),We(e,134)}function fet(e,t){t["!protect"]&&We(e,535,JJe(t["!protect"]))}function met(e,t,r,s){var a=li(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=dn(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],We(a,129),(r.vbaraw||o["!outline"])&&We(a,147,aJe(l,o["!outline"])),We(a,148,rJe(c)),uet(a,o,r.Workbook),aet(a,o),net(a,o,e,t),fet(a,o),det(a,o,r,e),set(a,o),oet(a,o,s),o["!margins"]&&We(a,476,YJe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&iet(a,o),cet(a,o,e,s),We(a,130),a.end()}function het(e,t){e.l+=10;var r=fa(e);return{name:r}}var pet=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function xet(e){return!e.Workbook||!e.Workbook.WBProps?"false":qKe(e.Workbook.WBProps.date1904)?"true":"false"}var get="][*?/\\".split("");function Eee(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return get.forEach(function(s){if(e.indexOf(s)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function vet(e,t,r){e.forEach(function(s,a){Eee(s);for(var i=0;i<a;++i)if(s==e[i])throw new Error("Duplicate Sheet Name: "+s);if(r){var o=t&&t[a]&&t[a].CodeName||s;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function yet(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];vet(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)BZe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function Pee(e){var t=[as];t[t.length]=et("workbook",null,{xmlns:px[0],"xmlns:r":As.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,s={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(pet.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(s[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(s.codeName=e.Workbook.WBProps.CodeName,delete s.CodeName)),t[t.length]=et("workbookPr",null,s);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Dr(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=et("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=et("definedName",Dr(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function jet(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=CP(e),r.name=fa(e),r}function bet(e,t){return t||(t=Fe(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),yD(e.strRelID,t),Ps(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function wet(e,t){var r={},s=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?fa(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(s&65536),r.backupFile=!!(s&64),r.checkCompatibility=!!(s&4096),r.date1904=!!(s&1),r.filterPrivacy=!!(s&8),r.hidePivotFieldList=!!(s&1024),r.promptedSolutions=!!(s&16),r.publishItems=!!(s&2048),r.refreshAllConnections=!!(s&262144),r.saveExternalLinkValues=!!(s&128),r.showBorderUnselectedTables=!!(s&4),r.showInkAnnotation=!!(s&32),r.showObjects=["all","placeholders","none"][s>>13&3],r.showPivotChartFilter=!!(s&32768),r.updateLinks=["userSet","never","always"][s>>8&3],r}function Net(e,t){t||(t=Fe(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),UJ(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function _et(e,t,r){var s=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=pYe(e),o=IZe(e,0,r),l=vD(e);e.l=s;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function Cet(e,t){We(e,143);for(var r=0;r!=t.SheetNames.length;++r){var s=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:s,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};We(e,156,bet(a))}We(e,144)}function Aet(e,t){t||(t=Fe(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Ps("SheetJS",t),Ps(Iw.version,t),Ps(Iw.version,t),Ps("7262",t),t.length>t.l?t.slice(0,t.l):t}function Eet(e,t){t||(t=Fe(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Pet(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,s=0,a=-1,i=-1;s<r.length;++s)!r[s]||!r[s].Hidden&&a==-1?a=s:r[s].Hidden==1&&i==-1&&(i=s);i>a||(We(e,135),We(e,158,Eet(a)),We(e,136))}}function ket(e,t){var r=li();return We(r,131),We(r,128,Aet()),We(r,153,Net(e.Workbook&&e.Workbook.WBProps||null)),Pet(r,e),Cet(r,e),We(r,132),r.end()}function Tet(e,t,r){return(t.slice(-4)===".bin"?ket:Pee)(e)}function Oet(e,t,r,s,a){return(t.slice(-4)===".bin"?met:Cee)(e,r,s,a)}function Det(e,t,r){return(t.slice(-4)===".bin"?YXe:uee)(e,r)}function Iet(e,t,r){return(t.slice(-4)===".bin"?wXe:oee)(e,r)}function Ret(e,t,r){return(t.slice(-4)===".bin"?uQe:xee)(e)}function Met(e){return(e.slice(-4)===".bin"?nQe:hee)()}function Fet(e,t){var r=[];return e.Props&&r.push(TYe(e.Props,t)),e.Custprops&&r.push(OYe(e.Props,e.Custprops)),r.join("")}function $et(){return""}function Let(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(s,a){var i=[];i.push(et("NumberFormat",null,{"ss:Format":Dr(Fn[s.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(et("Style",i.join(""),o))}),et("Styles",r.join(""))}function kee(e){return et("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+ND(e.Ref,{r:0,c:0})})}function Bet(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],s=0;s<t.length;++s){var a=t[s];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(kee(a)))}return et("Names",r.join(""))}function Uet(e,t,r,s){if(!e||!((s||{}).Workbook||{}).Names)return"";for(var a=s.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(kee(l)))}return i.join("")}function Vet(e,t,r,s){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(et("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(et("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(et("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),s&&s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[r])if(s.Workbook.Sheets[r].Hidden)a.push(et("Visible",s.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(s.Workbook.Sheets[i]&&!s.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((s||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Ws("ProtectContents","True")),e["!protect"].objects&&a.push(Ws("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Ws("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Ws("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Ws("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":et("WorksheetOptions",a.join(""),{xmlns:Ai.x})}function zet(e){return e.map(function(t){var r=HKe(t.t||""),s=et("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return et("Comment",s,{"ss:Author":t.a})}).join("")}function Wet(e,t,r,s,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Dr(ND(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=Es(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Dr(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Dr(e.l.Tooltip))),r["!merges"])for(var d=r["!merges"],u=0;u!=d.length;++u)d[u].s.c!=o.c||d[u].s.r!=o.r||(d[u].e.c>d[u].s.c&&(l["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(l["ss:MergeDown"]=d[u].e.r-d[u].s.r));var f="",m="";switch(e.t){case"z":if(!s.sheetStubs)return"";break;case"n":f="Number",m=String(e.v);break;case"b":f="Boolean",m=e.v?"1":"0";break;case"e":f="Error",m=Ey[e.v];break;case"d":f="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Fn[14]);break;case"s":f="String",m=WKe(e.v||"");break}var h=$u(s.cellXfs,e,s);l["ss:StyleID"]="s"+(21+h),l["ss:Index"]=o.c+1;var x=e.v!=null?m:"",p=e.t=="z"?"":'<Data ss:Type="'+f+'">'+x+"</Data>";return(e.c||[]).length>0&&(p+=zet(e.c)),et("Cell",p,l)}function Het(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=dee(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function qet(e,t,r,s){if(!e["!ref"])return"";var a=dn(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(g,j){bD(g);var y=!!g.width,w=d_(j,g),b={"ss:Index":j+1};y&&(b["ss:Width"]=zw(w.width)),g.hidden&&(b["ss:Hidden"]="1"),l.push(et("Column",null,b))});for(var c=Array.isArray(e),d=a.s.r;d<=a.e.r;++d){for(var u=[Het(d,(e["!rows"]||[])[d])],f=a.s.c;f<=a.e.c;++f){var m=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>d)&&!(i[o].e.c<f)&&!(i[o].e.r<d)){(i[o].s.c!=f||i[o].s.r!=d)&&(m=!0);break}if(!m){var h={r:d,c:f},x=Rr(h),p=c?(e[d]||[])[f]:e[x];u.push(Wet(p,x,e,t,r,s,h))}}u.push("</Row>"),u.length>2&&l.push(u.join(""))}return l.join("")}function Get(e,t,r){var s=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?Uet(i,t,e,r):"";return o.length>0&&s.push("<Names>"+o+"</Names>"),o=i?qet(i,t,e,r):"",o.length>0&&s.push("<Table>"+o+"</Table>"),s.push(Vet(i,t,e,r)),s.join("")}function Ket(e,t){t||(t={}),e.SSF||(e.SSF=ui(Fn)),e.SSF&&(a_(),s_(e.SSF),t.revssf=i_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],$u(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Fet(e,t)),r.push($et()),r.push(""),r.push("");for(var s=0;s<e.SheetNames.length;++s)r.push(et("Worksheet",Get(s,t,e),{"ss:Name":Dr(e.SheetNames[s])}));return r[2]=Let(e,t),r[3]=Bet(e),as+et("Workbook",r.join(""),{xmlns:Ai.ss,"xmlns:o":Ai.o,"xmlns:x":Ai.x,"xmlns:ss":Ai.ss,"xmlns:dt":Ai.dt,"xmlns:html":Ai.html})}var _C={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Yet(e,t){var r=[],s=[],a=[],i=0,o,l=WL(n8,"n"),c=WL(s8,"n");if(e.Props)for(o=Qs(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?s:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Qs(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?s:a).push([o[i],e.Custprops[o[i]]]);var d=[];for(i=0;i<a.length;++i)eee.indexOf(a[i][0])>-1||QJ.indexOf(a[i][0])>-1||a[i][1]!=null&&d.push(a[i]);s.length&&Lr.utils.cfb_add(t,"/SummaryInformation",c8(s,_C.SI,c,s8)),(r.length||d.length)&&Lr.utils.cfb_add(t,"/DocumentSummaryInformation",c8(r,_C.DSI,l,n8,d.length?d:null,_C.UDI))}function Xet(e,t){var r=t||{},s=Lr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Lr.utils.cfb_add(s,a,Tee(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Yet(e,s),r.biff==8&&e.vbaraw&&fQe(s,Lr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),s}var Qet={0:{f:ZZe},1:{f:iJe},2:{f:CJe},3:{f:hJe},4:{f:dJe},5:{f:wJe},6:{f:TJe},7:{f:vJe},8:{f:$Je},9:{f:FJe},10:{f:RJe},11:{f:MJe},12:{f:lJe},13:{f:EJe},14:{f:xJe},15:{f:fJe},16:{f:_Je},17:{f:DJe},18:{f:jJe},19:{f:gD},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:_et},40:{},42:{},43:{f:TXe},44:{f:PXe},45:{f:IXe},46:{f:MXe},47:{f:RXe},48:{},49:{f:lYe},50:{},51:{f:ZXe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:cXe},62:{f:kJe},63:{f:sQe},64:{f:eet},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:tc,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:XJe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:sJe},148:{f:tJe,p:16},151:{f:WJe},152:{},153:{f:wet},154:{},155:{},156:{f:jet},157:{},158:{},159:{T:1,f:yXe},160:{T:-1},161:{T:1,f:jm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:LJe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:XXe},336:{T:-1},337:{f:tQe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:CP},357:{},358:{},359:{},360:{T:1},361:{},362:{f:nXe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:HJe},427:{f:qJe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:KJe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:nJe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:VJe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:CP},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:cQe},633:{T:1},634:{T:-1},635:{T:1,f:oQe},636:{T:-1},637:{f:fYe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:het},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:tet},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function tt(e,t,r,s){var a=t;if(!isNaN(a)){var i=s||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&hD(r)&&e.push(r)}}function Zet(e,t,r,s){var a=(r||[]).length||0;if(a<=8224)return tt(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d;c<a;){for(u=e.next(4),u.write_shift(2,60),d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d}}}function ky(e,t,r){return e||(e=Fe(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Jet(e,t,r,s){var a=Fe(9);return ky(a,e,t),ree(r,s||"b",a),a}function ett(e,t,r){var s=Fe(8+2*r.length);return ky(s,e,t),s.write_shift(1,r.length),s.write_shift(r.length,r,"sbcs"),s.l<s.length?s.slice(0,s.l):s}function ttt(e,t,r,s){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?di(Ta(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?tt(e,2,mXe(r,s,a)):tt(e,3,fXe(r,s,a));return;case"b":case"e":tt(e,5,Jet(r,s,t.v,t.t));return;case"s":case"str":tt(e,4,ett(r,s,(t.v||"").slice(0,255)));return}tt(e,1,ky(null,r,s))}function rtt(e,t,r,s){var a=Array.isArray(t),i=dn(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(s.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=ts(i)}for(var d=i.s.r;d<=i.e.r;++d){l=Ks(d);for(var u=i.s.c;u<=i.e.c;++u){d===i.s.r&&(c[u]=ua(u)),o=c[u]+l;var f=a?(t[d]||[])[u]:t[o];f&&ttt(e,f,d,u)}}}function ntt(e,t){for(var r=t||{},s=li(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return tt(s,r.biff==4?1033:r.biff==3?521:9,jD(e,16,r)),rtt(s,e.Sheets[e.SheetNames[a]],a,r),tt(s,10),s.end()}function stt(e,t,r){tt(e,49,YYe({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function att(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&tt(e,1054,ZYe(a,t[a],r))})}function itt(e,t){var r=Fe(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),tt(e,2151,r),r=Fe(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),aee(dn(t["!ref"]||"A1"),r),r.write_shift(4,4),tt(e,2152,r)}function ott(e,t){for(var r=0;r<16;++r)tt(e,224,u8({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(s){tt(e,224,u8(s,0,t))})}function ltt(e,t){for(var r=0;r<t["!links"].length;++r){var s=t["!links"][r];tt(e,440,iXe(s)),s[1].Tooltip&&tt(e,2048,oXe(s))}delete t["!links"]}function ctt(e,t){if(t){var r=0;t.forEach(function(s,a){++r<=256&&s&&tt(e,125,dXe(d_(a,s),a))})}}function dtt(e,t,r,s,a){var i=16+$u(a.cellXfs,t,a);if(t.v==null&&!t.bf){tt(e,513,nm(r,s,i));return}if(t.bf)tt(e,6,OZe(t,r,s,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?di(Ta(t.v)):t.v;tt(e,515,rXe(r,s,o,i));break;case"b":case"e":tt(e,517,tXe(r,s,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=SD(a.Strings,t.v,a.revStrings);tt(e,253,XYe(r,s,l,i))}else tt(e,516,QYe(r,s,(t.v||"").slice(0,255),i,a));break;default:tt(e,513,nm(r,s,i))}}function utt(e,t,r){var s=li(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),d=t.biff==8,u,f="",m=[],h=dn(i["!ref"]||"A1"),x=d?65536:16384;if(h.e.c>255||h.e.r>=x){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,x-1)}tt(s,2057,jD(r,16,t)),tt(s,13,oo(1)),tt(s,12,oo(100)),tt(s,15,Ca(!0)),tt(s,17,Ca(!1)),tt(s,16,rm(.001)),tt(s,95,Ca(!0)),tt(s,42,Ca(!1)),tt(s,43,Ca(!1)),tt(s,130,oo(1)),tt(s,128,eXe()),tt(s,131,Ca(!1)),tt(s,132,Ca(!1)),d&&ctt(s,i["!cols"]),tt(s,512,JYe(h,t)),d&&(i["!links"]=[]);for(var p=h.s.r;p<=h.e.r;++p){f=Ks(p);for(var g=h.s.c;g<=h.e.c;++g){p===h.s.r&&(m[g]=ua(g)),u=m[g]+f;var j=c?(i[p]||[])[g]:i[u];j&&(dtt(s,j,p,g,t),d&&j.l&&i["!links"].push([u,j.l]))}}var y=l.CodeName||l.name||a;return d&&tt(s,574,KYe((o.Views||[])[0])),d&&(i["!merges"]||[]).length&&tt(s,229,aXe(i["!merges"])),d&&ltt(s,i),tt(s,442,see(y)),d&&itt(s,i),tt(s,10),s.end()}function ftt(e,t,r){var s=li(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(tt(s,2057,jD(e,5,r)),r.bookType=="xla"&&tt(s,135),tt(s,225,l?oo(1200):null),tt(s,193,RYe(2)),c&&tt(s,191),c&&tt(s,192),tt(s,226),tt(s,92,WYe("SheetJS",r)),tt(s,66,oo(l?1200:1252)),l&&tt(s,353,oo(0)),l&&tt(s,448),tt(s,317,uXe(e.SheetNames.length)),l&&e.vbaraw&&tt(s,211),l&&e.vbaraw){var d=o.CodeName||"ThisWorkbook";tt(s,442,see(d))}tt(s,156,oo(17)),tt(s,25,Ca(!1)),tt(s,18,Ca(!1)),tt(s,19,oo(0)),l&&tt(s,431,Ca(!1)),l&&tt(s,444,oo(0)),tt(s,61,GYe()),tt(s,64,Ca(!1)),tt(s,141,oo(0)),tt(s,34,Ca(xet(e)=="true")),tt(s,14,Ca(!0)),l&&tt(s,439,Ca(!1)),tt(s,218,oo(0)),stt(s,e,r),att(s,e.SSF,r),ott(s,r),l&&tt(s,352,Ca(!1));var u=s.end(),f=li();l&&tt(f,140,lXe()),l&&r.Strings&&Zet(f,252,qYe(r.Strings)),tt(f,10);var m=f.end(),h=li(),x=0,p=0;for(p=0;p<e.SheetNames.length;++p)x+=(l?12:11)+(l?2:1)*e.SheetNames[p].length;var g=u.length+x+m.length;for(p=0;p<e.SheetNames.length;++p){var j=i[p]||{};tt(h,133,HYe({pos:g,hs:j.Hidden||0,dt:0,name:e.SheetNames[p]},r)),g+=t[p].length}var y=h.end();if(x!=y.length)throw new Error("BS8 "+x+" != "+y.length);var w=[];return u.length&&w.push(u),y.length&&w.push(y),m.length&&w.push(m),zs(w)}function mtt(e,t){var r=t||{},s=[];e&&!e.SSF&&(e.SSF=ui(Fn)),e&&e.SSF&&(a_(),s_(e.SSF),r.revssf=i_(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,CD(r),r.cellXfs=[],$u(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)s[s.length]=utt(a,r,e);return s.unshift(ftt(e,s,r)),zs(s)}function Tee(e,t){for(var r=0;r<=e.SheetNames.length;++r){var s=e.Sheets[e.SheetNames[r]];if(!(!s||!s["!ref"])){var a=Hi(s["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return mtt(e,t);case 4:case 3:case 2:return ntt(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function htt(e,t,r,s){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,d=0;d<a.length;++d)if(!(a[d].s.r>r||a[d].s.c>o)&&!(a[d].e.r<r||a[d].e.c<o)){if(a[d].s.r<r||a[d].s.c<o){l=-1;break}l=a[d].e.r-a[d].s.r+1,c=a[d].e.c-a[d].s.c+1;break}if(!(l<0)){var u=Rr({r,c:o}),f=s.dense?(e[r]||[])[o]:e[u],m=f&&f.v!=null&&(f.h||zKe(f.w||(ad(f),f.w)||""))||"",h={};l>1&&(h.rowspan=l),c>1&&(h.colspan=c),s.editable?m='<span contenteditable="true">'+m+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+f.l.Target+'">'+m+"</a>")),h.id=(s.id||"sjs")+"-"+u,i.push(et("td",m,h))}}var x="<tr>";return x+i.join("")+"</tr>"}var ptt='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',xtt="</body></html>";function gtt(e,t,r){var s=[];return s.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Oee(e,t){var r=t||{},s=r.header!=null?r.header:ptt,a=r.footer!=null?r.footer:xtt,i=[s],o=Hi(e["!ref"]);r.dense=Array.isArray(e),i.push(gtt(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(htt(e,o,l,r));return i.push("</table>"+a),i.join("")}function Dee(e,t,r){var s=r||{},a=0,i=0;if(s.origin!=null)if(typeof s.origin=="number")a=s.origin;else{var o=typeof s.origin=="string"?Es(s.origin):s.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(s.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=Hi(e["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),a==-1&&(d.e.r=a=u.e.r+1)}var f=[],m=0,h=e["!rows"]||(e["!rows"]=[]),x=0,p=0,g=0,j=0,y=0,w=0;for(e["!cols"]||(e["!cols"]=[]);x<l.length&&p<c;++x){var b=l[x];if(v8(b)){if(s.display)continue;h[p]={hidden:!0}}var N=b.children;for(g=j=0;g<N.length;++g){var _=N[g];if(!(s.display&&v8(_))){var C=_.hasAttribute("data-v")?_.getAttribute("data-v"):_.hasAttribute("v")?_.getAttribute("v"):GKe(_.innerHTML),A=_.getAttribute("data-z")||_.getAttribute("z");for(m=0;m<f.length;++m){var E=f[m];E.s.c==j+i&&E.s.r<p+a&&p+a<=E.e.r&&(j=E.e.c+1-i,m=-1)}w=+_.getAttribute("colspan")||1,((y=+_.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:p+a,c:j+i},e:{r:p+a+(y||1)-1,c:j+i+(w||1)-1}});var k={t:"s",v:C},O=_.getAttribute("data-t")||_.getAttribute("t")||"";C!=null&&(C.length==0?k.t=O||"z":s.raw||C.trim().length==0||O=="s"||(C==="TRUE"?k={t:"b",v:!0}:C==="FALSE"?k={t:"b",v:!1}:isNaN(Lc(C))?isNaN(vv(C).getDate())||(k={t:"d",v:Ta(C)},s.cellDates||(k={t:"n",v:di(k.v)}),k.z=s.dateNF||Fn[14]):k={t:"n",v:Lc(C)})),k.z===void 0&&A!=null&&(k.z=A);var I="",W=_.getElementsByTagName("A");if(W&&W.length)for(var H=0;H<W.length&&!(W[H].hasAttribute("href")&&(I=W[H].getAttribute("href"),I.charAt(0)!="#"));++H);I&&I.charAt(0)!="#"&&(k.l={Target:I}),s.dense?(e[p+a]||(e[p+a]=[]),e[p+a][j+i]=k):e[Rr({c:j+i,r:p+a})]=k,d.e.c<j+i&&(d.e.c=j+i),j+=w}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),d.e.r=Math.max(d.e.r,p-1+a),e["!ref"]=ts(d),p>=c&&(e["!fullref"]=ts((d.e.r=l.length-x+p-1+a,d))),e}function Iee(e,t){var r=t||{},s=r.dense?[]:{};return Dee(s,e,t)}function vtt(e,t){return xm(Iee(e,t),t)}function v8(e){var t="",r=ytt(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function ytt(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var jtt=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+jv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return as+t}}(),y8=function(){var e=function(i){return Dr(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,s=function(i,o,l){var c=[];c.push('      <table:table table:name="'+Dr(o.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,u=0,f=Hi(i["!ref"]||"A1"),m=i["!merges"]||[],h=0,x=Array.isArray(i);if(i["!cols"])for(u=0;u<=f.e.c;++u)c.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var p="",g=i["!rows"]||[];for(d=0;d<f.s.r;++d)p=g[d]?' table:style-name="ro'+g[d].ods+'"':"",c.push("        <table:table-row"+p+`></table:table-row>
`);for(;d<=f.e.r;++d){for(p=g[d]?' table:style-name="ro'+g[d].ods+'"':"",c.push("        <table:table-row"+p+`>
`),u=0;u<f.s.c;++u)c.push(t);for(;u<=f.e.c;++u){var j=!1,y={},w="";for(h=0;h!=m.length;++h)if(!(m[h].s.c>u)&&!(m[h].s.r>d)&&!(m[h].e.c<u)&&!(m[h].e.r<d)){(m[h].s.c!=u||m[h].s.r!=d)&&(j=!0),y["table:number-columns-spanned"]=m[h].e.c-m[h].s.c+1,y["table:number-rows-spanned"]=m[h].e.r-m[h].s.r+1;break}if(j){c.push(r);continue}var b=Rr({r:d,c:u}),N=x?(i[d]||[])[u]:i[b];if(N&&N.f&&(y["table:formula"]=Dr($Ze(N.f)),N.F&&N.F.slice(0,b.length)==b)){var _=Hi(N.F);y["table:number-matrix-columns-spanned"]=_.e.c-_.s.c+1,y["table:number-matrix-rows-spanned"]=_.e.r-_.s.r+1}if(!N){c.push(t);continue}switch(N.t){case"b":w=N.v?"TRUE":"FALSE",y["office:value-type"]="boolean",y["office:boolean-value"]=N.v?"true":"false";break;case"n":w=N.w||String(N.v||0),y["office:value-type"]="float",y["office:value"]=N.v||0;break;case"s":case"str":w=N.v==null?"":N.v,y["office:value-type"]="string";break;case"d":w=N.w||Ta(N.v).toISOString(),y["office:value-type"]="date",y["office:date-value"]=Ta(N.v).toISOString(),y["table:style-name"]="ce1";break;default:c.push(t);continue}var C=e(w);if(N.l&&N.l.Target){var A=N.l.Target;A=A.charAt(0)=="#"?"#"+LZe(A.slice(1)):A,A.charAt(0)!="#"&&!A.match(/^\w+:/)&&(A="../"+A),C=et("text:a",C,{"xlink:href":A.replace(/&/g,"&amp;")})}c.push("          "+et("table:table-cell",et("text:p",C,{}),y)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var f=d["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;bD(f),f.ods=l;var m=d["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var f=d["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[as],d=jv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=jv({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(YJ().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(s(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function Ree(e,t){if(t.bookType=="fods")return y8(e,t);var r=dD(),s="",a=[],i=[];return s="mimetype",Zt(r,s,"application/vnd.oasis.opendocument.spreadsheet"),s="content.xml",Zt(r,s,y8(e,t)),a.push([s,"text/xml"]),i.push([s,"ContentFile"]),s="styles.xml",Zt(r,s,jtt(e,t)),a.push([s,"text/xml"]),i.push([s,"StylesFile"]),s="meta.xml",Zt(r,s,as+YJ()),a.push([s,"text/xml"]),i.push([s,"MetadataFile"]),s="manifest.rdf",Zt(r,s,kYe(i)),a.push([s,"application/rdf+xml"]),s="META-INF/manifest.xml",Zt(r,s,EYe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function qw(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function btt(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Yo(yv(e))}function wtt(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var s=0;s<t.length;++s)if(e[r+s]!=t[s])continue e;return!0}return!1}function Nu(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),s=0;return e.forEach(function(a){r.set(a,s),s+=a.length}),r}function Ntt(e,t,r){var s=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,s-6176);e[t+15]|=s>>7,e[t+14]|=(s&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function bv(e,t){var r=t?t[0]:0,s=e[r]&127;e:if(e[r++]>=128&&(s|=(e[r]&127)<<7,e[r++]<128||(s|=(e[r]&127)<<14,e[r++]<128)||(s|=(e[r]&127)<<21,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),s}function Pr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Ah(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function cs(e){for(var t=[],r=[0];r[0]<e.length;){var s=r[0],a=bv(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=bv(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(s))}var d={data:l,type:i};t[a]==null?t[a]=[d]:t[a].push(d)}return t}function $s(e){var t=[];return e.forEach(function(r,s){r.forEach(function(a){a.data&&(t.push(Pr(s*8+a.type)),a.type==2&&t.push(Pr(a.data.length)),t.push(a.data))})}),Nu(t)}function Ro(e){for(var t,r=[],s=[0];s[0]<e.length;){var a=bv(e,s),i=cs(e.slice(s[0],s[0]+a));s[0]+=a;var o={id:Ah(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=cs(l.data),d=Ah(c[3][0].data);o.messages.push({meta:c,data:e.slice(s[0],s[0]+d)}),s[0]+=d}),(t=i[3])!=null&&t[0]&&(o.merge=Ah(i[3][0].data)>>>0>0),r.push(o)}return r}function Rm(e){var t=[];return e.forEach(function(r){var s=[];s[1]=[{data:Pr(r.id),type:0}],s[2]=[],r.merge!=null&&(s[3]=[{data:Pr(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:Pr(o.data.length)}],s[2].push({data:$s(o.meta),type:2})});var i=$s(s);t.push(Pr(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),Nu(t)}function _tt(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],s=bv(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,d=0;if(i==1?(d=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Nu(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(a.push(a[0].slice(-c)),d-=c;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-c,-c+d))}}var u=Nu(a);if(u.length!=s)throw new Error("Unexpected length: ".concat(u.length," != ").concat(s));return u}function Mo(e){for(var t=[],r=0;r<e.length;){var s=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(_tt(s,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Nu(t)}function Mm(e){for(var t=[],r=0;r<e.length;){var s=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=Pr(s),o=i.length;t.push(i),s<=60?(o++,t.push(new Uint8Array([s-1<<2]))):s<=256?(o+=2,t.push(new Uint8Array([240,s-1&255]))):s<=65536?(o+=3,t.push(new Uint8Array([244,s-1&255,s-1>>8&255]))):s<=16777216?(o+=4,t.push(new Uint8Array([248,s-1&255,s-1>>8&255,s-1>>16&255]))):s<=4294967296&&(o+=5,t.push(new Uint8Array([252,s-1&255,s-1>>8&255,s-1>>16&255,s-1>>>24&255]))),t.push(e.slice(r,r+s)),o+=s,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=s}return Nu(t)}function SC(e,t){var r=new Uint8Array(32),s=qw(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Ntt(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,s.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,s.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(8,i,!0),r.slice(0,a)}function CC(e,t){var r=new Uint8Array(32),s=qw(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,s.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,s.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,s.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(4,i,!0),r.slice(0,a)}function bd(e){var t=cs(e);return bv(t[1][0].data)}function Stt(e,t,r){var s,a,i,o;if(!((s=e[6])!=null&&s[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&Ah(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,d=qw(e[7][0].data),u=0,f=[],m=qw(e[4][0].data),h=0,x=[],p=0;p<t.length;++p){if(t[p]==null){d.setUint16(p*2,65535,!0),m.setUint16(p*2,65535);continue}d.setUint16(p*2,u,!0),m.setUint16(p*2,h,!0);var g,j;switch(typeof t[p]){case"string":g=SC({t:"s",v:t[p]},r),j=CC({t:"s",v:t[p]},r);break;case"number":g=SC({t:"n",v:t[p]},r),j=CC({t:"n",v:t[p]},r);break;case"boolean":g=SC({t:"b",v:t[p]},r),j=CC({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}f.push(g),u+=g.length,x.push(j),h+=j.length,++c}for(e[2][0].data=Pr(c);p<e[7][0].data.length/2;++p)d.setUint16(p*2,65535,!0),m.setUint16(p*2,65535,!0);return e[6][0].data=Nu(f),e[3][0].data=Nu(x),c}function Ctt(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var s=Hi(r["!ref"]);s.s.r=s.s.c=0;var a=!1;s.e.c>9&&(a=!0,s.e.c=9),s.e.r>49&&(a=!0,s.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(ts(s)));var i=Gw(r,{range:s,header:1}),o=["~Sh33tJ5~"];i.forEach(function(V){return V.forEach(function(L){typeof L=="string"&&o.push(L)})});var l={},c=[],d=Lr.read(t.numbers,{type:"base64"});d.FileIndex.map(function(V,L){return[V,d.FullPaths[L]]}).forEach(function(V){var L=V[0],K=V[1];if(L.type==2&&L.name.match(/\.iwa/)){var le=L.content,me=Mo(le),B=Ro(me);B.forEach(function(X){c.push(X.id),l[X.id]={deps:[],location:K,type:Ah(X.messages[0].meta[1][0].data)}})}}),c.sort(function(V,L){return V-L});var u=c.filter(function(V){return V>1}).map(function(V){return[V,Pr(V)]});d.FileIndex.map(function(V,L){return[V,d.FullPaths[L]]}).forEach(function(V){var L=V[0];if(V[1],!!L.name.match(/\.iwa/)){var K=Ro(Mo(L.content));K.forEach(function(le){le.messages.forEach(function(me){u.forEach(function(B){le.messages.some(function(X){return Ah(X.meta[1][0].data)!=11006&&wtt(X.data,B[1])})&&l[B[0]].deps.push(le.id)})})})}});for(var f=Lr.find(d,l[1].location),m=Ro(Mo(f.content)),h,x=0;x<m.length;++x){var p=m[x];p.id==1&&(h=p)}var g=bd(cs(h.messages[0].data)[1][0].data);for(f=Lr.find(d,l[g].location),m=Ro(Mo(f.content)),x=0;x<m.length;++x)p=m[x],p.id==g&&(h=p);for(g=bd(cs(h.messages[0].data)[2][0].data),f=Lr.find(d,l[g].location),m=Ro(Mo(f.content)),x=0;x<m.length;++x)p=m[x],p.id==g&&(h=p);for(g=bd(cs(h.messages[0].data)[2][0].data),f=Lr.find(d,l[g].location),m=Ro(Mo(f.content)),x=0;x<m.length;++x)p=m[x],p.id==g&&(h=p);var j=cs(h.messages[0].data);{j[6][0].data=Pr(s.e.r+1),j[7][0].data=Pr(s.e.c+1);var y=bd(j[46][0].data),w=Lr.find(d,l[y].location),b=Ro(Mo(w.content));{for(var N=0;N<b.length&&b[N].id!=y;++N);if(b[N].id!=y)throw"Bad ColumnRowUIDMapArchive";var _=cs(b[N].messages[0].data);_[1]=[],_[2]=[],_[3]=[];for(var C=0;C<=s.e.c;++C){var A=[];A[1]=A[2]=[{type:0,data:Pr(C+420690)}],_[1].push({type:2,data:$s(A)}),_[2].push({type:0,data:Pr(C)}),_[3].push({type:0,data:Pr(C)})}_[4]=[],_[5]=[],_[6]=[];for(var E=0;E<=s.e.r;++E)A=[],A[1]=A[2]=[{type:0,data:Pr(E+726270)}],_[4].push({type:2,data:$s(A)}),_[5].push({type:0,data:Pr(E)}),_[6].push({type:0,data:Pr(E)});b[N].messages[0].data=$s(_)}w.content=Mm(Rm(b)),w.size=w.content.length,delete j[46];var k=cs(j[4][0].data);{k[7][0].data=Pr(s.e.r+1);var O=cs(k[1][0].data),I=bd(O[2][0].data);w=Lr.find(d,l[I].location),b=Ro(Mo(w.content));{if(b[0].id!=I)throw"Bad HeaderStorageBucket";var W=cs(b[0].messages[0].data);for(E=0;E<i.length;++E){var H=cs(W[2][0].data);H[1][0].data=Pr(E),H[4][0].data=Pr(i[E].length),W[2][E]={type:W[2][0].type,data:$s(H)}}b[0].messages[0].data=$s(W)}w.content=Mm(Rm(b)),w.size=w.content.length;var F=bd(k[2][0].data);w=Lr.find(d,l[F].location),b=Ro(Mo(w.content));{if(b[0].id!=F)throw"Bad HeaderStorageBucket";for(W=cs(b[0].messages[0].data),C=0;C<=s.e.c;++C)H=cs(W[2][0].data),H[1][0].data=Pr(C),H[4][0].data=Pr(s.e.r+1),W[2][C]={type:W[2][0].type,data:$s(H)};b[0].messages[0].data=$s(W)}w.content=Mm(Rm(b)),w.size=w.content.length;var T=bd(k[4][0].data);(function(){for(var V=Lr.find(d,l[T].location),L=Ro(Mo(V.content)),K,le=0;le<L.length;++le){var me=L[le];me.id==T&&(K=me)}var B=cs(K.messages[0].data);{B[3]=[];var X=[];o.forEach(function(ue,ve){X[1]=[{type:0,data:Pr(ve)}],X[2]=[{type:0,data:Pr(1)}],X[3]=[{type:2,data:btt(ue)}],B[3].push({type:2,data:$s(X)})})}K.messages[0].data=$s(B);var oe=Rm(L),Ne=Mm(oe);V.content=Ne,V.size=V.content.length})();var P=cs(k[3][0].data);{var M=P[1][0];delete P[2];var D=cs(M.data);{var Y=bd(D[2][0].data);(function(){for(var V=Lr.find(d,l[Y].location),L=Ro(Mo(V.content)),K,le=0;le<L.length;++le){var me=L[le];me.id==Y&&(K=me)}var B=cs(K.messages[0].data);{delete B[6],delete P[7];var X=new Uint8Array(B[5][0].data);B[5]=[];for(var oe=0,Ne=0;Ne<=s.e.r;++Ne){var ue=cs(X);oe+=Stt(ue,i[Ne],o),ue[1][0].data=Pr(Ne),B[5].push({data:$s(ue),type:2})}B[1]=[{type:0,data:Pr(s.e.c+1)}],B[2]=[{type:0,data:Pr(s.e.r+1)}],B[3]=[{type:0,data:Pr(oe)}],B[4]=[{type:0,data:Pr(s.e.r+1)}]}K.messages[0].data=$s(B);var ve=Rm(L),xe=Mm(ve);V.content=xe,V.size=V.content.length})()}M.data=$s(D)}k[3][0].data=$s(P)}j[4][0].data=$s(k)}h.messages[0].data=$s(j);var ae=Rm(m),R=Mm(ae);return f.content=R,f.size=f.content.length,d}function Att(e){return function(r){for(var s=0;s!=e.length;++s){var a=e[s];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function CD(e){Att([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Ett(e,t){return t.bookType=="ods"?Ree(e,t):t.bookType=="numbers"?Ctt(e,t):t.bookType=="xlsb"?Ptt(e,t):ktt(e,t)}function Ptt(e,t){nh=1024,e&&!e.SSF&&(e.SSF=ui(Fn)),e&&e.SSF&&(a_(),s_(e.SSF),t.revssf=i_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,qg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",s=gee.indexOf(t.bookType)>-1,a=qJ();CD(t=t||{});var i=dD(),o="",l=0;if(t.cellXfs=[],$u(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Zt(i,o,XJ(e.Props,t)),a.coreprops.push(o),Tr(t.rels,2,o,xr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Zt(i,o,ZJ(e.Props)),a.extprops.push(o),Tr(t.rels,3,o,xr.EXT_PROPS),e.Custprops!==e.Props&&Qs(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Zt(i,o,JJ(e.Custprops)),a.custprops.push(o),Tr(t.rels,4,o,xr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var u={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],m=(f||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Zt(i,o,Oet(l-1,o,t,e,u)),a.sheets.push(o),Tr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,xr.WS[0])}if(f){var h=f["!comments"],x=!1,p="";h&&h.length>0&&(p="xl/comments"+l+"."+r,Zt(i,p,Ret(h,p)),a.comments.push(p),Tr(u,-1,"../comments"+l+"."+r,xr.CMNT),x=!0),f["!legacy"]&&x&&Zt(i,"xl/drawings/vmlDrawing"+l+".vml",pee(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&Zt(i,KJ(o),Sh(u))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Zt(i,o,Iet(t.Strings,o,t)),a.strs.push(o),Tr(t.wbrels,-1,"sharedStrings."+r,xr.SST)),o="xl/workbook."+r,Zt(i,o,Tet(e,o)),a.workbooks.push(o),Tr(t.rels,1,o,xr.WB),o="xl/theme/theme1.xml",Zt(i,o,mee(e.Themes,t)),a.themes.push(o),Tr(t.wbrels,-1,"theme/theme1.xml",xr.THEME),o="xl/styles."+r,Zt(i,o,Det(e,o,t)),a.styles.push(o),Tr(t.wbrels,-1,"styles."+r,xr.STY),e.vbaraw&&s&&(o="xl/vbaProject.bin",Zt(i,o,e.vbaraw),a.vba.push(o),Tr(t.wbrels,-1,"vbaProject.bin",xr.VBA)),o="xl/metadata."+r,Zt(i,o,Met(o)),a.metadata.push(o),Tr(t.wbrels,-1,"metadata."+r,xr.XLMETA),Zt(i,"[Content_Types].xml",GJ(a,t)),Zt(i,"_rels/.rels",Sh(t.rels)),Zt(i,"xl/_rels/workbook."+r+".rels",Sh(t.wbrels)),delete t.revssf,delete t.ssf,i}function ktt(e,t){nh=1024,e&&!e.SSF&&(e.SSF=ui(Fn)),e&&e.SSF&&(a_(),s_(e.SSF),t.revssf=i_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,qg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",s=gee.indexOf(t.bookType)>-1,a=qJ();CD(t=t||{});var i=dD(),o="",l=0;if(t.cellXfs=[],$u(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Zt(i,o,XJ(e.Props,t)),a.coreprops.push(o),Tr(t.rels,2,o,xr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Zt(i,o,ZJ(e.Props)),a.extprops.push(o),Tr(t.rels,3,o,xr.EXT_PROPS),e.Custprops!==e.Props&&Qs(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Zt(i,o,JJ(e.Custprops)),a.custprops.push(o),Tr(t.rels,4,o,xr.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],h=(m||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Zt(i,o,Cee(l-1,t,e,f)),a.sheets.push(o),Tr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,xr.WS[0])}if(m){var x=m["!comments"],p=!1,g="";if(x&&x.length>0){var j=!1;x.forEach(function(y){y[1].forEach(function(w){w.T==!0&&(j=!0)})}),j&&(g="xl/threadedComments/threadedComment"+l+"."+r,Zt(i,g,aQe(x,u,t)),a.threadedcomments.push(g),Tr(f,-1,"../threadedComments/threadedComment"+l+"."+r,xr.TCMNT)),g="xl/comments"+l+"."+r,Zt(i,g,xee(x)),a.comments.push(g),Tr(f,-1,"../comments"+l+"."+r,xr.CMNT),p=!0}m["!legacy"]&&p&&Zt(i,"xl/drawings/vmlDrawing"+l+".vml",pee(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}f["!id"].rId1&&Zt(i,KJ(o),Sh(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Zt(i,o,oee(t.Strings,t)),a.strs.push(o),Tr(t.wbrels,-1,"sharedStrings."+r,xr.SST)),o="xl/workbook."+r,Zt(i,o,Pee(e)),a.workbooks.push(o),Tr(t.rels,1,o,xr.WB),o="xl/theme/theme1.xml",Zt(i,o,mee(e.Themes,t)),a.themes.push(o),Tr(t.wbrels,-1,"theme/theme1.xml",xr.THEME),o="xl/styles."+r,Zt(i,o,uee(e,t)),a.styles.push(o),Tr(t.wbrels,-1,"styles."+r,xr.STY),e.vbaraw&&s&&(o="xl/vbaProject.bin",Zt(i,o,e.vbaraw),a.vba.push(o),Tr(t.wbrels,-1,"vbaProject.bin",xr.VBA)),o="xl/metadata."+r,Zt(i,o,hee()),a.metadata.push(o),Tr(t.wbrels,-1,"metadata."+r,xr.XLMETA),u.length>1&&(o="xl/persons/person.xml",Zt(i,o,iQe(u)),a.people.push(o),Tr(t.wbrels,-1,"persons/person.xml",xr.PEOPLE)),Zt(i,"[Content_Types].xml",GJ(a,t)),Zt(i,"_rels/.rels",Sh(t.rels)),Zt(i,"xl/_rels/workbook."+r+".rels",Sh(t.wbrels)),delete t.revssf,delete t.ssf,i}function Ttt(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=sd(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Mee(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Cy(t.file,Lr.write(e,{type:yr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Lr.write(e,t)}function Ott(e,t){var r=ui(t||{}),s=Ett(e,r);return Dtt(s,r)}function Dtt(e,t){var r={},s=yr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=s;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=s;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Lr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(n_(a))}return t.password&&typeof encrypt_agile<"u"?Mee(encrypt_agile(a,t.password),t):t.type==="file"?Cy(t.file,a):t.type=="string"?Vg(a):a}function Itt(e,t){var r=t||{},s=Xet(e,r);return Mee(s,r)}function Cl(e,t,r){r||(r="");var s=r+e;switch(t.type){case"base64":return gv(yv(s));case"binary":return yv(s);case"string":return e;case"file":return Cy(t.file,s,"utf8");case"buffer":return yr?hd(s,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(s):Cl(s,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Rtt(e,t){switch(t.type){case"base64":return gv(e);case"binary":return e;case"string":return e;case"file":return Cy(t.file,e,"binary");case"buffer":return yr?hd(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Lj(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",s=0;s<e.length;++s)r+=String.fromCharCode(e[s]);return t.type=="base64"?gv(r):t.type=="string"?Vg(r):r;case"file":return Cy(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function Fee(e,t){oKe(),yet(e);var r=ui(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var s=Fee(e,r);return r.type="array",n_(s)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Cl(Ket(e,r),r);case"slk":case"sylk":return Cl(pXe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Cl(Oee(e.Sheets[e.SheetNames[a]],r),r);case"txt":return Rtt($ee(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Cl(AD(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Cl(xXe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Lj(hXe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Cl(gXe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Cl(_Xe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Cl(iee.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Cl(Ree(e,r),r);case"wk1":return Lj(f8.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Lj(f8.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Lj(Tee(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Itt(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Ott(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Mtt(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Ftt(e,t,r){var s={};return s.type="file",s.file=t,Mtt(s),Fee(e,s)}function $tt(e,t,r,s,a,i,o,l){var c=Ks(r),d=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||e[r])for(var h=t.s.c;h<=t.e.c;++h){var x=o?e[r][h]:e[s[h]+c];if(x===void 0||x.t===void 0){if(d===void 0)continue;i[h]!=null&&(m[i[h]]=d);continue}var p=x.v;switch(x.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(i[h]!=null){if(p==null)if(x.t=="e"&&p===null)m[i[h]]=null;else if(d!==void 0)m[i[h]]=d;else if(u&&p===null)m[i[h]]=null;else continue;else m[i[h]]=u&&(x.t!=="n"||x.t==="n"&&l.rawNumbers!==!1)?p:ad(x,p,l);p!=null&&(f=!1)}}return{row:m,isempty:f}}function Gw(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},s=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},u=d.range!=null?d.range:e["!ref"];switch(d.header===1?s=1:d.header==="A"?s=2:Array.isArray(d.header)?s=3:d.header==null&&(s=0),typeof u){case"string":c=dn(u);break;case"number":c=dn(e["!ref"]),c.s.r=u;break;default:c=u}s>0&&(a=0);var f=Ks(c.s.r),m=[],h=[],x=0,p=0,g=Array.isArray(e),j=c.s.r,y=0,w={};g&&!e[j]&&(e[j]=[]);var b=d.skipHidden&&e["!cols"]||[],N=d.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(b[y]||{}).hidden)switch(m[y]=ua(y),r=g?e[j][y]:e[m[y]+f],s){case 1:i[y]=y-c.s.c;break;case 2:i[y]=m[y];break;case 3:i[y]=d.header[y-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=ad(r,null,d),p=w[o]||0,!p)w[o]=1;else{do l=o+"_"+p++;while(w[l]);w[o]=p,w[l]=1}i[y]=l}for(j=c.s.r+a;j<=c.e.r;++j)if(!(N[j]||{}).hidden){var _=$tt(e,c,j,m,s,i,g,d);(_.isempty===!1||(s===1?d.blankrows!==!1:d.blankrows))&&(h[x++]=_.row)}return h.length=x,h}var j8=/"/g;function Ltt(e,t,r,s,a,i,o,l){for(var c=!0,d=[],u="",f=Ks(r),m=t.s.c;m<=t.e.c;++m)if(s[m]){var h=l.dense?(e[r]||[])[m]:e[s[m]+f];if(h==null)u="";else if(h.v!=null){c=!1,u=""+(l.rawNumbers&&h.t=="n"?h.v:ad(h,null,l));for(var x=0,p=0;x!==u.length;++x)if((p=u.charCodeAt(x))===a||p===i||p===34||l.forceQuotes){u='"'+u.replace(j8,'""')+'"';break}u=="ID"&&(u='"ID"')}else h.f!=null&&!h.F?(c=!1,u="="+h.f,u.indexOf(",")>=0&&(u='"'+u.replace(j8,'""')+'"')):u="";d.push(u)}return l.blankrows===!1&&c?null:d.join(o)}function AD(e,t){var r=[],s=t??{};if(e==null||e["!ref"]==null)return"";var a=dn(e["!ref"]),i=s.FS!==void 0?s.FS:",",o=i.charCodeAt(0),l=s.RS!==void 0?s.RS:`
`,c=l.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];s.dense=Array.isArray(e);for(var m=s.skipHidden&&e["!cols"]||[],h=s.skipHidden&&e["!rows"]||[],x=a.s.c;x<=a.e.c;++x)(m[x]||{}).hidden||(f[x]=ua(x));for(var p=0,g=a.s.r;g<=a.e.r;++g)(h[g]||{}).hidden||(u=Ltt(e,a,g,f,o,c,i,s),u!=null&&(s.strip&&(u=u.replace(d,"")),(u||s.blankrows!==!1)&&r.push((p++?l:"")+u)));return delete s.dense,r.join("")}function $ee(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=AD(e,t);return r}function Btt(e){var t="",r,s="";if(e==null||e["!ref"]==null)return[];var a=dn(e["!ref"]),i="",o=[],l,c=[],d=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=ua(l);for(var u=a.s.r;u<=a.e.r;++u)for(i=Ks(u),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=d?(e[u]||[])[l]:e[t],s="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;s=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)s=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)s=""+r.v;else if(r.t=="b")s=r.v?"TRUE":"FALSE";else if(r.w!==void 0)s="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?s="'"+r.v:s=""+r.v}}c[c.length]=t+"="+s}return c}function Lee(e,t,r){var s=r||{},a=+!s.skipHeader,i=e||{},o=0,l=0;if(i&&s.origin!=null)if(typeof s.origin=="number")o=s.origin;else{var c=typeof s.origin=="string"?Es(s.origin):s.origin;o=c.r,l=c.c}var d,u={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var f=dn(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(o=f.e.r+1,u.e.r=o+t.length-1+a)}else o==-1&&(o=0,u.e.r=t.length-1+a);var m=s.header||[],h=0;t.forEach(function(p,g){Qs(p).forEach(function(j){(h=m.indexOf(j))==-1&&(m[h=m.length]=j);var y=p[j],w="z",b="",N=Rr({c:l+h,r:o+g+a});d=wv(i,N),y&&typeof y=="object"&&!(y instanceof Date)?i[N]=y:(typeof y=="number"?w="n":typeof y=="boolean"?w="b":typeof y=="string"?w="s":y instanceof Date?(w="d",s.cellDates||(w="n",y=di(y)),b=s.dateNF||Fn[14]):y===null&&s.nullError&&(w="e",y=0),d?(d.t=w,d.v=y,delete d.w,delete d.R,b&&(d.z=b)):i[N]=d={t:w,v:y},b&&(d.z=b))})}),u.e.c=Math.max(u.e.c,l+m.length-1);var x=Ks(o);if(a)for(h=0;h<m.length;++h)i[ua(h+l)+x]={t:"s",v:m[h]};return i["!ref"]=ts(u),i}function Utt(e,t){return Lee(null,e,t)}function wv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var s=Es(t);return e[s.r]||(e[s.r]=[]),e[s.r][s.c]||(e[s.r][s.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?wv(e,Rr(t)):wv(e,Rr({r:t,c:r||0}))}function Vtt(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function ztt(){return{SheetNames:[],Sheets:{}}}function Wtt(e,t,r,s){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(Eee(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Htt(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var s=Vtt(e,t);switch(e.Workbook.Sheets[s]||(e.Workbook.Sheets[s]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[s].Hidden=r}function qtt(e,t){return e.z=t,e}function Bee(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Gtt(e,t,r){return Bee(e,"#"+t,r)}function Ktt(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Ytt(e,t,r,s){for(var a=typeof t!="string"?t:dn(t),i=typeof t=="string"?t:ts(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=wv(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,s&&(c.D=!0))}return e}var AC={encode_col:ua,encode_row:Ks,encode_cell:Rr,encode_range:ts,decode_col:xD,decode_row:pD,split_cell:oYe,decode_cell:Es,decode_range:Hi,format_cell:ad,sheet_add_aoa:BJ,sheet_add_json:Lee,sheet_add_dom:Dee,aoa_to_sheet:xx,json_to_sheet:Utt,table_to_sheet:Iee,table_to_book:vtt,sheet_to_csv:AD,sheet_to_txt:$ee,sheet_to_json:Gw,sheet_to_html:Oee,sheet_to_formulae:Btt,sheet_to_row_object_array:Gw,sheet_get_cell:wv,book_new:ztt,book_append_sheet:Wtt,book_set_sheet_visibility:Htt,cell_set_number_format:qtt,cell_set_hyperlink:Bee,cell_set_internal_link:Gtt,cell_add_comment:Ktt,sheet_set_array_formula:Ytt,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function Xtt(){return n.jsx(Z,{className:"shadow-sm",children:n.jsxs(J,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(S,{className:"h-5 w-5 rounded-full"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-3 w-20"}),n.jsx(S,{className:"h-8 w-12"})]})]})})}function Qtt(){return n.jsxs(Z,{className:"shadow-md",children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-5 w-32"})]})}),n.jsx(J,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-end justify-between h-[200px] gap-2",children:[60,80,45,90,70,55,85].map((e,t)=>n.jsx("div",{className:"flex-1 flex flex-col justify-end",children:n.jsx(S,{className:"w-full rounded-t-md",style:{height:`${e}%`}})},t))}),n.jsx("div",{className:"flex justify-between",children:[...Array(7)].map((e,t)=>n.jsx(S,{className:"h-3 w-12"},t))})]})})]})}function Ztt(){return n.jsxs(Z,{className:"shadow-md",children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-5 w-40"})]})}),n.jsx(J,{className:"flex items-center justify-center",children:n.jsxs("div",{className:"relative",children:[n.jsx(S,{className:"h-40 w-40 rounded-full"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"h-20 w-20 rounded-full bg-background"})})]})})]})}function Jtt(){return n.jsx(Z,{className:"shadow-md",children:n.jsx(J,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[n.jsx(S,{className:"flex-1 h-10 rounded-md"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(S,{className:"h-10 w-[140px] rounded-md"}),n.jsx(S,{className:"h-10 w-[140px] rounded-md"}),n.jsx(S,{className:"h-10 w-[120px] rounded-md"})]})]})})})})}function ert(){return n.jsxs("div",{className:"flex-1 min-w-[300px]",children:[n.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded-full"}),n.jsx(S,{className:"h-5 w-32"})]}),n.jsx(S,{className:"h-6 w-8 rounded-full"})]}),n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>n.jsx(Z,{className:"shadow-sm",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx(S,{className:"h-4 w-24 rounded-full"}),n.jsx(S,{className:"h-4 w-16 rounded-full"})]}),n.jsx(S,{className:"h-5 w-full"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-3 w-full"}),n.jsx(S,{className:"h-3 w-4/5"})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-3 w-20"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(S,{className:"h-4 w-12"}),n.jsx(S,{className:"h-4 w-12"})]})]})]})})},t))})]})}function trt(){return n.jsxs("div",{className:"flex items-center gap-4 p-4 border-b",children:[n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-10 w-10 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(S,{className:"h-4 w-full max-w-md"}),n.jsx(S,{className:"h-3 w-3/4 max-w-sm"})]}),n.jsx(S,{className:"h-6 w-20 rounded-full"}),n.jsx(S,{className:"h-6 w-16 rounded-full"}),n.jsx(S,{className:"h-6 w-24 rounded-full"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(S,{className:"h-8 w-8 rounded"}),n.jsx(S,{className:"h-8 w-8 rounded"})]})]})}function rrt(){return n.jsx(Z,{className:"shadow-sm hover:shadow-md transition-shadow",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx(S,{className:"h-4 w-24 rounded-full"}),n.jsx(S,{className:"h-4 w-16 rounded-full"})]}),n.jsx(S,{className:"h-32 w-full rounded-lg"}),n.jsx(S,{className:"h-5 w-full"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-3 w-full"}),n.jsx(S,{className:"h-3 w-4/5"})]}),n.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-3 w-24"})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx(S,{className:"h-9 flex-1 rounded"}),n.jsx(S,{className:"h-9 w-9 rounded"})]})]})})})}function nrt({viewMode:e="kanban"}){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-11 w-36 rounded-md"}),n.jsx(S,{className:"h-11 w-32 rounded-md"})]}),n.jsx(S,{className:"h-10 w-24 rounded-md"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[...Array(8)].map((t,r)=>n.jsx(Xtt,{},r))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(Qtt,{}),n.jsx(Ztt,{})]}),n.jsx(Jtt,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{className:"h-10 w-64 rounded-md"}),n.jsx(S,{className:"h-9 w-32 rounded-md"})]}),e==="kanban"&&n.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:[...Array(4)].map((t,r)=>n.jsx(ert,{},r))}),e==="table"&&n.jsx(Z,{className:"shadow-md",children:n.jsx(J,{className:"p-0",children:n.jsxs("div",{className:"space-y-0",children:[n.jsxs("div",{className:"flex items-center gap-4 p-4 border-b bg-muted/50",children:[n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-4 w-32 flex-1"}),n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-4 w-20"})]}),[...Array(5)].map((t,r)=>n.jsx(trt,{},r))]})})}),e==="grid"&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[...Array(8)].map((t,r)=>n.jsx(rrt,{},r))})]})}const srt=()=>{var De;const e=dr(),{apartments:t,products:r,vendors:s,updateIssue:a}=Rl(),[i,o]=v.useState([]),[l,c]=v.useState(!0);v.useEffect(()=>{(async()=>{c(!0);try{const Ie=await _r.getIssues({page_size:100});o(Ie.results||[])}catch(Ie){console.error("Failed to fetch issues:",Ie),Be.error("Failed to load issues")}finally{c(!1)}})()},[]);const d=i,[u,f]=v.useState("kanban"),[m,h]=v.useState(""),[x,p]=v.useState("All"),[g,j]=v.useState("All"),[y,w]=v.useState("All"),[b,N]=v.useState("All"),[_,C]=v.useState("All"),[A,E]=v.useState("All"),[k,O]=v.useState(!1),[I,W]=v.useState(null),[H,F]=v.useState(!1),[T,P]=v.useState(!1),[M,D]=v.useState(null),[Y,ae]=v.useState(!1),R=v.useMemo(()=>{const de={};return d.forEach((Ie,ot)=>{de[Ie.id]=["Critical","High","Medium","Low"][ot%4]}),de},[d]),V=["Admin","Barbara Kovcs","Maria Weber","Unassigned"],L=de=>{const Ie=t.find(ot=>ot.id===de);return(Ie==null?void 0:Ie.name)||"Unknown"},K=de=>{const Ie={Critical:"bg-danger/10 text-danger border-danger/20",High:"bg-warning/10 text-warning border-warning/20",Medium:"bg-primary/10 text-primary border-primary/20",Low:"bg-muted text-muted-foreground border-border"};return Ie[de]||Ie.Low},le=de=>{const Ie={Open:"bg-danger/10 text-danger border-danger/20","Pending Vendor Response":"bg-warning/10 text-warning border-warning/20","Resolution Agreed":"bg-primary/10 text-primary border-primary/20",Closed:"bg-success/10 text-success border-success/20"};return Ie[de]||Ie.Open},me=de=>{switch(de){case"Broken/Damaged":return n.jsx(_t,{className:"h-4 w-4"});case"Wrong Item/Color":return n.jsx(Fl,{className:"h-4 w-4"});case"Missing Parts":return n.jsx(ct,{className:"h-4 w-4"});case"Incorrect Quantity":return n.jsx(ni,{className:"h-4 w-4"});default:return n.jsx(_t,{className:"h-4 w-4"})}},B=v.useMemo(()=>d.filter(de=>{var Pn,Ur,Er,yt;const Ie=((Pn=de.apartment_details)==null?void 0:Pn.name)||de.apartment_name||L(de.apartment),ot=de.display_product_name||de.product_name||((Ur=de.product_details)==null?void 0:Ur.product)||"",jt=de.vendor_name||((Er=de.vendor_details)==null?void 0:Er.name)||de.vendor||"",Ze=de.priority||R[de.id],ye=ot.toLowerCase().includes(m.toLowerCase())||de.description.toLowerCase().includes(m.toLowerCase())||jt.toLowerCase().includes(m.toLowerCase())||Ie.toLowerCase().includes(m.toLowerCase()),Ke=x==="All"||de.status===x,Ct=g==="All"||((yt=de.type)==null?void 0:yt.includes(g)),Et=y==="All"||Ze===y,ur=b==="All"||de.apartment===b,vr=_==="All"||de.vendor===_||jt===_;return ye&&Ke&&Ct&&Et&&ur&&vr}),[d,m,x,g,y,b,_,R]),X=v.useMemo(()=>{const de=B.length,Ie=B.filter(Et=>Et.status==="Open").length,ot=B.filter(Et=>Et.status==="Pending Vendor Response").length,jt=B.filter(Et=>Et.status==="Resolution Agreed").length,Ze=B.filter(Et=>Et.status==="Closed").length,ye=B.filter(Et=>(Et.priority||R[Et.id])==="Critical").length,Ke=B.filter(Et=>Et.ai_activated).length;return{total:de,open:Ie,pending:ot,resolved:jt,closed:Ze,critical:ye,withAI:Ke,avgResolutionDays:5.2}},[B,R]),oe=v.useMemo(()=>{const de={Open:[],"Pending Vendor Response":[],"Resolution Agreed":[],Closed:[]};return B.forEach(Ie=>{de[Ie.status]&&de[Ie.status].push(Ie)}),de},[B]),Ne=v.useMemo(()=>{const de=[];for(let Ie=6;Ie>=0;Ie--){const ot=_c(new Date,Ie);de.push({date:Ht(ot,"MMM dd"),reported:Math.floor(Math.random()*5)+1,resolved:Math.floor(Math.random()*4)})}return de},[]),ue=v.useMemo(()=>{const de=["Broken/Damaged","Wrong Item/Color","Missing Parts","Incorrect Quantity"];return de.map(Ie=>({name:Ie,value:B.filter(ot=>ot.type===Ie).length,color:["hsl(var(--danger))","hsl(var(--warning))","hsl(var(--primary))","hsl(var(--success))"][de.indexOf(Ie)]})).filter(Ie=>Ie.value>0)},[B]),ve=Array.from(new Set(d.map(de=>{var Ie;return de.vendor_name||((Ie=de.vendor_details)==null?void 0:Ie.name)||de.vendor}))).filter(Boolean).sort(),xe=()=>{h(""),p("All"),j("All"),w("All"),N("All"),C("All"),E("All")},Ee=[m,x!=="All",g!=="All",y!=="All",b!=="All",_!=="All",A!=="All"].filter(Boolean).length,Me=de=>{e(`/issues/${de.id}`)},Te=(de,Ie)=>{de.stopPropagation(),e(`/issues/${Ie.id}/edit`)},se=(de,Ie)=>{de.stopPropagation(),D(Ie),P(!0)},he=async()=>{var de,Ie;if(M){ae(!0);try{await _r.deleteIssue(M.id),Be.success("Issue deleted successfully");const ot=await _r.getIssues({});o(ot.results||[])}catch(ot){Be.error(((Ie=(de=ot.response)==null?void 0:de.data)==null?void 0:Ie.message)||"Failed to delete issue")}finally{ae(!1),P(!1),D(null)}}},ce=()=>{try{const de=B.map(ye=>{var Ke,Ct,Et,ur,vr;return{"Issue ID":ye.id,Product:ye.display_product_name||ye.product_name||((Ke=ye.product_details)==null?void 0:Ke.product)||"Unknown",Type:ye.type,Priority:ye.priority||R[ye.id],Status:ye.status,Apartment:((Ct=ye.apartment_details)==null?void 0:Ct.name)||ye.apartment_name||L(ye.apartment),Vendor:ye.vendor_name||((Et=ye.vendor_details)==null?void 0:Et.name)||ye.vendor,Description:ye.description,"Reported Date":ye.reported_on?Ht(new Date(ye.reported_on),"yyyy-MM-dd"):"Unknown","Days Open":ye.reported_on?fj(new Date,new Date(ye.reported_on)):0,"AI Active":ye.ai_activated?"Yes":"No",Photos:((ur=ye.photos)==null?void 0:ur.length)||0,Communications:((vr=ye.ai_communication_log)==null?void 0:vr.length)||0}}),Ie=AC.json_to_sheet(de),ot=[{wch:15},{wch:30},{wch:20},{wch:10},{wch:20},{wch:20},{wch:20},{wch:40},{wch:12},{wch:10},{wch:10},{wch:8},{wch:15}];Ie["!cols"]=ot;const jt=AC.book_new();AC.book_append_sheet(jt,Ie,"Issues");const Ze=`Issues_Report_${Ht(new Date,"yyyy-MM-dd_HHmmss")}.xlsx`;Ftt(jt,Ze),Be.success("Export Complete",{description:`Downloaded ${B.length} issues to ${Ze}`})}catch{Be.error("Export Failed",{description:"Failed to generate the export file"})}},be=()=>{if(B.length===0){Be.error("No issues to email");return}e("/issues/bulk-email",{state:{selectedIssues:B}})},$e=v.useCallback(async de=>{const{destination:Ie,source:ot,draggableId:jt}=de;if(!Ie||Ie.droppableId===ot.droppableId&&Ie.index===ot.index)return;const Ze=Ie.droppableId,ye=jt,Ke=B.find(Ct=>Ct.id===ye);if(Ke&&Ke.status!==Ze)try{Be.loading(`Moving issue to ${Ze}...`,{id:"drag-status"}),await _r.updateIssue(ye,{status:Ze});const Ct=await _r.getIssues();o(Ct.results||[]),Be.success(`Issue moved to ${Ze}`,{id:"drag-status"})}catch(Ct){console.error("Failed to update issue status:",Ct),Be.error("Failed to update issue status",{id:"drag-status"})}},[B]);return l?n.jsx(dt,{title:"Issues Management",children:n.jsx(nrt,{viewMode:u})}):n.jsxs(dt,{title:"Issues Management",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(te,{size:"lg",className:"h-11 shadow-lg hover:shadow-xl transition-shadow",onClick:()=>e("/issues/new"),children:[n.jsx(Gn,{className:"h-5 w-5 mr-2"}),"Report Issue"]}),n.jsxs(te,{variant:"outline",size:"lg",className:"h-11 shadow-sm hover:shadow-md transition-shadow",onClick:be,children:[n.jsx(yn,{className:"h-4 w-4 mr-2"}),"Bulk Email"]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(te,{variant:"outline",onClick:ce,className:"shadow-sm hover:shadow-md transition-shadow",children:[n.jsx(Iv,{className:"h-4 w-4 mr-2"}),"Export"]})})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[n.jsx(Z,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(J,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(x7,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Total Issues"}),n.jsx("p",{className:"text-2xl font-bold",children:X.total})]})]})}),n.jsx(Z,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(J,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(_t,{className:"h-5 w-5 text-danger"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Open"}),n.jsx("p",{className:"text-2xl font-bold text-danger",children:X.open})]})]})}),n.jsx(Z,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(J,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(jr,{className:"h-5 w-5 text-warning"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold text-warning",children:X.pending})]})]})}),n.jsx(Z,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(J,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(Lb,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Resolved"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:X.resolved})]})]})}),n.jsx(Z,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(J,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(sr,{className:"h-5 w-5 text-success"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Closed"}),n.jsx("p",{className:"text-2xl font-bold text-success",children:X.closed})]})]})}),n.jsx(Z,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(J,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(u0,{className:"h-5 w-5 text-danger"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Critical"}),n.jsx("p",{className:"text-2xl font-bold text-danger",children:X.critical})]})]})}),n.jsx(Z,{className:"shadow-sm hover:shadow-md transition-shadow  bg-gradient-to-br from-primary/5 to-transparent",children:n.jsxs(J,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(vs,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"AI Active"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:X.withAI})]})]})}),n.jsx(Z,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(J,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(Ise,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Avg Resolution"}),n.jsxs("p",{className:"text-2xl font-bold",children:[X.avgResolutionDays,"d"]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Z,{className:"shadow-md ",children:[n.jsx(we,{children:n.jsxs(Ue,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(ri,{className:"h-5 w-5 text-primary"}),"Issues Trend"]})}),n.jsx(J,{children:n.jsx(fn,{width:"100%",height:250,children:n.jsxs(B2,{data:Ne,children:[n.jsx(Bn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(an,{dataKey:"date",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(on,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(fr,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),n.jsx(nl,{}),n.jsx(ec,{type:"monotone",dataKey:"reported",stroke:"hsl(var(--danger))",strokeWidth:2,name:"Reported"}),n.jsx(ec,{type:"monotone",dataKey:"resolved",stroke:"hsl(var(--success))",strokeWidth:2,name:"Resolved"})]})})})]}),n.jsxs(Z,{className:"shadow-md ",children:[n.jsx(we,{children:n.jsxs(Ue,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(ct,{className:"h-5 w-5 text-primary"}),"Issue Types Distribution"]})}),n.jsx(J,{children:n.jsx(fn,{width:"100%",height:250,children:n.jsxs(Fg,{children:[n.jsx(Mi,{data:ue,cx:"50%",cy:"50%",labelLine:!1,label:({name:de,percent:Ie})=>`${de.split("/")[0]}: ${(Ie*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:ue.map((de,Ie)=>n.jsx(ba,{fill:de.color},`cell-${Ie}`))}),n.jsx(fr,{})]})})})]})]}),n.jsx(Z,{className:"shadow-md",children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(ca,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{placeholder:"Search issues by product, description, vendor, or apartment...",value:m,onChange:de=>h(de.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"flex gap-2 flex-wrap lg:flex-nowrap",children:[n.jsxs(at,{value:x,onValueChange:p,children:[n.jsx(nt,{className:"w-full sm:w-[140px]",children:n.jsx(it,{placeholder:"Status"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"All",children:"All Status"}),n.jsx(ne,{value:"Open",children:"Open"}),n.jsx(ne,{value:"Pending Vendor Response",children:"Pending"}),n.jsx(ne,{value:"Resolution Agreed",children:"Resolved"}),n.jsx(ne,{value:"Closed",children:"Closed"})]})]}),n.jsxs(at,{value:g,onValueChange:j,children:[n.jsx(nt,{className:"w-full sm:w-[140px]",children:n.jsx(it,{placeholder:"Type"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"All",children:"All Types"}),n.jsx(ne,{value:"Broken/Damaged",children:"Damaged"}),n.jsx(ne,{value:"Wrong Item/Color",children:"Wrong Item"}),n.jsx(ne,{value:"Missing Parts",children:"Missing"}),n.jsx(ne,{value:"Incorrect Quantity",children:"Quantity"})]})]}),n.jsxs(te,{variant:k?"default":"outline",onClick:()=>O(!k),className:"relative",children:[n.jsx(Rv,{className:"h-4 w-4 mr-2"}),"Filters",Ee>0&&n.jsx(Ae,{className:"ml-2 h-5 w-5 p-0 flex items-center justify-center bg-primary-foreground text-primary",children:Ee}),k?n.jsx(pN,{className:"h-4 w-4 ml-2"}):n.jsx(Au,{className:"h-4 w-4 ml-2"})]})]})]}),k&&n.jsxs("div",{className:"pt-4 border-t space-y-4 animate-slide-down",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-sm font-semibold",children:"Advanced Filters"}),Ee>0&&n.jsxs(te,{variant:"ghost",size:"sm",onClick:xe,className:"h-8 text-xs",children:[n.jsx(us,{className:"h-3 w-3 mr-1"}),"Clear All"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{className:"text-xs font-medium text-muted-foreground",children:"Priority"}),n.jsxs(at,{value:y,onValueChange:w,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"All Priorities"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"All",children:"All Priorities"}),n.jsx(ne,{value:"Critical",children:"Critical"}),n.jsx(ne,{value:"High",children:"High"}),n.jsx(ne,{value:"Medium",children:"Medium"}),n.jsx(ne,{value:"Low",children:"Low"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{className:"text-xs font-medium text-muted-foreground",children:"Apartment"}),n.jsxs(at,{value:b,onValueChange:N,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"All Apartments"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"All",children:"All Apartments"}),t.map(de=>n.jsx(ne,{value:de.id,children:de.name},de.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{className:"text-xs font-medium text-muted-foreground",children:"Vendor"}),n.jsxs(at,{value:_,onValueChange:C,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"All Vendors"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"All",children:"All Vendors"}),ve.map(de=>n.jsx(ne,{value:de,children:de},de))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{className:"text-xs font-medium text-muted-foreground",children:"Assigned To"}),n.jsxs(at,{value:A,onValueChange:E,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"All Assignees"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"All",children:"All Assignees"}),V.map(de=>n.jsx(ne,{value:de,children:de},de))]})]})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",n.jsx("span",{className:"font-semibold text-foreground",children:B.length})," of"," ",n.jsx("span",{className:"font-semibold text-foreground",children:d.length})," issues"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(te,{variant:u==="kanban"?"default":"ghost",size:"sm",onClick:()=>f("kanban"),children:n.jsx(jse,{className:"h-4 w-4"})}),n.jsx(te,{variant:u==="table"?"default":"ghost",size:"sm",onClick:()=>f("table"),children:n.jsx(wse,{className:"h-4 w-4"})}),n.jsx(te,{variant:u==="grid"?"default":"ghost",size:"sm",onClick:()=>f("grid"),children:n.jsx(vse,{className:"h-4 w-4"})})]})]})]})})}),u==="kanban"&&n.jsx(vGe,{onDragEnd:$e,children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("div",{className:"flex gap-4 pb-4",style:{minWidth:"min-content"},children:Object.entries(oe).map(([de,Ie])=>n.jsx("div",{className:"flex-shrink-0 w-96",children:n.jsxs(Z,{className:"h-full",children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ue,{className:"text-base font-semibold",children:de}),n.jsx(Ae,{className:le(de),children:Ie.length})]})}),n.jsx(sKe,{droppableId:de,children:(ot,jt)=>n.jsxs(J,{ref:ot.innerRef,...ot.droppableProps,className:ge("space-y-3 max-h-[600px] overflow-y-auto min-h-[100px] transition-colors",jt.isDraggingOver&&"bg-primary/5 border-2 border-dashed border-primary/30 rounded-lg"),children:[Ie.map((Ze,ye)=>{const Ke=Ze.priority||R[Ze.id],Ct=Ze.reported_on?fj(new Date,new Date(Ze.reported_on)):0;return n.jsx(FGe,{draggableId:Ze.id,index:ye,children:(Et,ur)=>n.jsx(Z,{ref:Et.innerRef,...Et.draggableProps,...Et.dragHandleProps,className:ge("hover:shadow-md transition-all cursor-grab border-l-4",ur.isDragging&&"shadow-xl rotate-2 cursor-grabbing ring-2 ring-primary"),style:{...Et.draggableProps.style,borderLeftColor:Ke==="Critical"?"hsl(var(--danger))":Ke==="High"?"hsl(var(--warning))":"hsl(var(--border))"},onClick:()=>!ur.isDragging&&Me(Ze),children:n.jsx(J,{className:"p-3 space-y-2",children:(()=>{var Rt,Lt,Gr,is,Ua,pd;const vr=Ze.items||[],Pn=vr.length||Ze.items_count||0,Ur=Pn>0?vr.slice(0,4):[],Er=Math.max(0,Pn-4),yt=((Rt=vr[0])==null?void 0:Rt.product_image)||((Lt=Ze.order_item_details)==null?void 0:Lt.product_image)||((Gr=Ze.product_details)==null?void 0:Gr.product_image);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[me(Ze.type),n.jsx("span",{className:"font-semibold text-sm truncate",children:Ze.display_product_name||Ze.product_name||((is=Ze.product_details)==null?void 0:is.product)||"Unknown"})]}),n.jsx(Ae,{className:K(Ke),variant:"outline",children:Ke})]}),n.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:Ze.description}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Ae,{variant:"outline",className:"text-xs",children:((Ua=Ze.apartment_details)==null?void 0:Ua.name)||Ze.apartment_name||L(Ze.apartment)}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:Ze.vendor_name||((pd=Ze.vendor_details)==null?void 0:pd.name)||Ze.vendor}),Ze.ai_activated&&n.jsxs(Ae,{className:"text-xs bg-primary/10 text-primary border-primary/20",children:[n.jsx(vs,{className:"h-3 w-3 mr-1"}),"AI"]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[n.jsx(jr,{className:"h-3 w-3"}),Ct,"d ago"]}),n.jsxs("div",{className:"flex items-center gap-0.5",children:[n.jsx("button",{onClick:Qi=>Te(Qi,Ze),className:"p-1 rounded hover:bg-muted transition-colors",title:"Edit Issue",children:n.jsx(Gs,{className:"h-3 w-3 text-muted-foreground hover:text-primary"})}),n.jsx("button",{onClick:Qi=>se(Qi,Ze),className:"p-1 rounded hover:bg-destructive/10 transition-colors",title:"Delete Issue",children:n.jsx(xn,{className:"h-3 w-3 text-muted-foreground hover:text-destructive"})})]})]}),n.jsx("div",{className:"flex items-center -space-x-2",children:Pn>0?n.jsxs(n.Fragment,{children:[Ur.map((Qi,bm)=>n.jsx("div",{className:"relative",style:{zIndex:10-bm},children:Qi.product_image?n.jsx("img",{src:Qi.product_image,alt:Qi.product_name||"Product",className:"w-7 h-7 rounded-full object-cover border-2 border-background shadow-sm"}):n.jsx("div",{className:"w-7 h-7 rounded-full bg-muted flex items-center justify-center border-2 border-background shadow-sm",children:n.jsx(ct,{className:"h-3 w-3 text-muted-foreground"})})},Qi.id||bm)),Er>0&&n.jsxs("div",{className:"w-7 h-7 rounded-full bg-primary/10 flex items-center justify-center border-2 border-background shadow-sm text-[10px] font-semibold text-primary",style:{zIndex:1},children:["+",Er]})]}):yt?n.jsx("img",{src:yt,alt:Ze.display_product_name||"Product",className:"w-7 h-7 rounded-full object-cover border-2 border-background shadow-sm"}):n.jsx("div",{className:"w-7 h-7 rounded-full bg-muted flex items-center justify-center border-2 border-background shadow-sm",children:n.jsx(ct,{className:"h-3 w-3 text-muted-foreground"})})})]})]})})()})})},Ze.id)}),ot.placeholder,Ie.length===0&&!jt.isDraggingOver&&n.jsxs("div",{className:"text-center py-12 text-sm text-muted-foreground",children:[n.jsx(ct,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/30"}),"No issues"]}),Ie.length===0&&jt.isDraggingOver&&n.jsxs("div",{className:"text-center py-8 text-sm text-primary",children:[n.jsx(ct,{className:"h-10 w-10 mx-auto mb-2 text-primary/50"}),"Drop here to move to ",de]})]})})]})},de))})})}),u==="table"&&n.jsx(Z,{children:n.jsx(J,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Os,{children:[n.jsx(Ds,{children:n.jsxs(Ut,{className:"bg-muted/50",children:[n.jsx(ke,{className:"font-semibold",children:"Issue"}),n.jsx(ke,{className:"font-semibold",children:"Product"}),n.jsx(ke,{className:"font-semibold",children:"Type"}),n.jsx(ke,{className:"font-semibold",children:"Priority"}),n.jsx(ke,{className:"font-semibold",children:"Status"}),n.jsx(ke,{className:"font-semibold",children:"Apartment"}),n.jsx(ke,{className:"font-semibold",children:"Vendor"}),n.jsx(ke,{className:"font-semibold",children:"Reported"}),n.jsx(ke,{className:"font-semibold",children:"AI"}),n.jsx(ke,{className:"font-semibold text-center",children:"Actions"})]})}),n.jsx(Is,{children:B.length===0?n.jsx(Ut,{children:n.jsxs(Se,{colSpan:10,className:"text-center py-12 text-muted-foreground",children:[n.jsx(_t,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/30"}),n.jsx("p",{children:"No issues found"})]})}):B.map(de=>{var jt,Ze,ye;const Ie=de.priority||R[de.id],ot=de.reported_on?fj(new Date,new Date(de.reported_on)):0;return n.jsxs(Ut,{className:"hover:bg-muted/50",children:[n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[me(de.type),n.jsxs("span",{className:"font-mono text-xs text-muted-foreground",children:["#",de.id.slice(-6)]})]})}),n.jsx(Se,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:de.display_product_name||de.product_name||((jt=de.product_details)==null?void 0:jt.product)||"Unknown"}),n.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:de.description})]})}),n.jsx(Se,{children:n.jsx(Ae,{variant:"outline",className:"text-xs",children:de.type})}),n.jsx(Se,{children:n.jsx(Ae,{className:K(Ie),variant:"outline",children:Ie})}),n.jsx(Se,{children:n.jsx(Ae,{className:le(de.status),children:de.status})}),n.jsx(Se,{children:n.jsx("span",{className:"text-sm",children:((Ze=de.apartment_details)==null?void 0:Ze.name)||de.apartment_name||L(de.apartment)})}),n.jsx(Se,{children:n.jsx("span",{className:"text-sm",children:de.vendor_name||((ye=de.vendor_details)==null?void 0:ye.name)||de.vendor})}),n.jsx(Se,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{children:de.reported_on?Ht(new Date(de.reported_on),"MMM dd, yyyy"):"Unknown"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[ot,"d ago"]})]})}),n.jsx(Se,{children:de.ai_activated?n.jsxs("div",{className:"flex items-center gap-1 text-primary",children:[n.jsx(vs,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs",children:"Active"})]}):n.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),n.jsx(Se,{className:"text-center",children:n.jsxs("div",{className:"flex items-center justify-center gap-1",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>Me(de),title:"View",children:n.jsx(ti,{className:"h-4 w-4"})}),n.jsx(te,{variant:"ghost",size:"sm",onClick:Ke=>Te(Ke,de),title:"Edit",children:n.jsx(Gs,{className:"h-4 w-4"})}),n.jsx(te,{variant:"ghost",size:"sm",onClick:Ke=>se(Ke,de),title:"Delete",className:"hover:text-destructive",children:n.jsx(xn,{className:"h-4 w-4"})})]})})]},de.id)})})]})})})}),u==="grid"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[B.map(de=>{var jt,Ze,ye;const Ie=de.priority||R[de.id],ot=de.reported_on?fj(new Date,new Date(de.reported_on)):0;return n.jsx(Z,{className:"hover:shadow-lg transition-all cursor-pointer",onClick:()=>Me(de),children:n.jsxs(J,{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[me(de.type),n.jsx(Ae,{className:K(Ie),variant:"outline",children:Ie})]}),n.jsx(Ae,{className:le(de.status),children:de.status})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-1",children:de.display_product_name||de.product_name||((jt=de.product_details)==null?void 0:jt.product)||"Unknown"}),n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:de.description})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Ae,{variant:"outline",className:"text-xs",children:((Ze=de.apartment_details)==null?void 0:Ze.name)||de.apartment_name||L(de.apartment)}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:de.vendor_name||((ye=de.vendor_details)==null?void 0:ye.name)||de.vendor}),de.ai_activated&&n.jsxs(Ae,{className:"text-xs bg-primary/10 text-primary border-primary/20",children:[n.jsx(vs,{className:"h-3 w-3 mr-1"}),"AI Active"]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(jr,{className:"h-3 w-3"}),ot," days ago"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:Ke=>Te(Ke,de),className:"p-1.5 rounded hover:bg-muted transition-colors",title:"Edit Issue",children:n.jsx(Gs,{className:"h-3.5 w-3.5 text-muted-foreground hover:text-primary"})}),n.jsx("button",{onClick:Ke=>se(Ke,de),className:"p-1.5 rounded hover:bg-destructive/10 transition-colors",title:"Delete Issue",children:n.jsx(xn,{className:"h-3.5 w-3.5 text-muted-foreground hover:text-destructive"})})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[de.photos&&de.photos.length>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Bi,{className:"h-3 w-3"}),de.photos.length]}),de.aiCommunicationLog&&de.aiCommunicationLog.length>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(tl,{className:"h-3 w-3"}),de.aiCommunicationLog.length]})]})]})]})},de.id)}),B.length===0&&n.jsxs("div",{className:"col-span-full text-center py-12 text-muted-foreground",children:[n.jsx(_t,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/30"}),n.jsx("p",{children:"No issues found"})]})]})]}),I&&n.jsx(EQ,{product:I,open:H,onOpenChange:F}),n.jsx(lc,{open:T,onOpenChange:P,children:n.jsxs(pl,{className:"sm:max-w-md",children:[n.jsx(xl,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(xn,{className:"h-6 w-6 text-destructive"})}),n.jsxs("div",{children:[n.jsx(vl,{className:"text-lg",children:"Delete Issue"}),n.jsx(yl,{className:"text-sm",children:"This action cannot be undone."})]})]})}),M&&n.jsx("div",{className:"py-4",children:n.jsxs("div",{className:"rounded-lg border bg-muted/50 p-4",children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:M.display_product_name||M.product_name||M.type||"Issue"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:[(De=M.description)==null?void 0:De.slice(0,100),M.description&&M.description.length>100?"...":""]})]})}),n.jsxs(gl,{children:[n.jsx(bl,{disabled:Y,children:"Cancel"}),n.jsx(jl,{onClick:he,disabled:Y,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:Y?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(xn,{className:"h-4 w-4 mr-2"}),"Delete Issue"]})})]})]})})]})},art=()=>{var me;const e=dr(),{data:t,isLoading:r}=d3(),{data:s,isLoading:a}=pm(),i=(t==null?void 0:t.results)||[],o=(s==null?void 0:s.results)||[],[l,c]=v.useState([]),[d,u]=v.useState(!1),[f,m]=v.useState(null),[h,x]=v.useState(null),[p,g]=v.useState(!1),[j,y]=v.useState(!1),[w,b]=v.useState(1),[N,_]=v.useState(null);v.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[w]);const[C,A]=v.useState({}),[E,k]=v.useState({orderId:"",apartmentId:"all",vendorId:"all",priority:"",impact:"",expectedResolution:"",replacementEta:"",resolutionType:"",resolutionNotes:"",deliveryDate:"",invoiceNumber:"",trackingNumber:"",aiActivated:!1,autoNotifyVendor:!0,photos:[]}),[O,I]=v.useState(""),W=["Other (Custom)","Broken/Damaged","Wrong Item/Color","Missing Parts","Incorrect Quantity","Poor Quality","Late Delivery","Installation Issue","Warranty Claim","Defective Product","Packaging Damage","Wrong Size/Dimensions","Expired Product","Missing Documentation","Safety Hazard"],H=[{value:"Critical",label:"Critical",color:"bg-red-500/10 text-red-600 border-red-200"},{value:"High",label:"High",color:"bg-orange-500/10 text-orange-600 border-orange-200"},{value:"Medium",label:"Medium",color:"bg-yellow-500/10 text-yellow-600 border-yellow-200"},{value:"Low",label:"Low",color:"bg-green-500/10 text-green-600 border-green-200"}],F=["Blocking Progress","Delaying Project","Partial Impact","Minor Inconvenience","No Impact"],T=["Full Replacement","Partial Replacement","Repair","Refund","Credit Note","Exchange","Other"];v.useEffect(()=>{(async()=>{u(!0);try{const oe=(await ps.getOrders({})).results||[],Ne=["delivered","received","in_transit","Delivered","Received","In Transit"],ue=oe.filter(ve=>Ne.includes(ve.status)||ve.is_delivered);c(ue.length>0?ue:oe)}catch{c([])}finally{u(!1)}})()},[]),v.useEffect(()=>{if(!E.orderId){m(null),x(null),A({}),_(null);return}g(!0),ps.getOrder(E.orderId).then(async B=>{var oe;if(m(B),k(Ne=>({...Ne,apartmentId:B.apartment||Ne.apartmentId,vendorId:B.vendor||Ne.vendorId,trackingNumber:B.tracking_number||""})),B.vendor)try{const Ne=await To.getVendor(B.vendor);x(Ne)}catch{x(null)}const X={};(oe=B.items)==null||oe.forEach(Ne=>{const ue=Ne.id||Ne.product||`item-${Math.random()}`;X[ue]={issueQuantity:Ne.quantity,issueTypes:[],customIssueType:"",description:""}}),A(X),b(2)}).catch(()=>Be.error("Failed to load order")).finally(()=>g(!1))},[E.orderId]);const P=B=>{_(X=>X===B?null:B)},M=(B,X,oe)=>{A(Ne=>({...Ne,[B]:{...Ne[B],[X]:oe}}))},D=B=>{const X=C[B];return X&&X.issueTypes.length>0&&X.description.trim().length>0},Y=()=>Object.entries(C).filter(([B,X])=>X.issueTypes.length>0&&X.description.trim().length>0).map(([B,X])=>{var Ne;const oe=(Ne=f==null?void 0:f.items)==null?void 0:Ne.find(ue=>(ue.id||ue.product)===B);return{itemKey:B,productId:oe==null?void 0:oe.product,...X,item:oe}}),ae=async B=>{var oe,Ne,ue,ve,xe,Ee;B.preventDefault();const X=Y();if(!E.orderId||X.length===0||!E.priority){Be.error("Please complete all required fields");return}y(!0);try{const Me=X.map(he=>{var be;const ce=he.issueTypes.join(", ");return{order_item:he.itemKey,product:he.productId||null,product_name:((be=he.item)==null?void 0:be.product_name)||"",quantity_affected:he.issueQuantity,issue_types:ce,description:he.description}}),Te=[...new Set(X.flatMap(he=>he.issueTypes))].join(", "),se=X.map(he=>{var ce,be;return`[${((ce=he.item)==null?void 0:ce.product_name)||"Product"}] ${he.description} (Qty: ${he.issueQuantity}/${((be=he.item)==null?void 0:be.quantity)||0})`}).join(`

`);await _r.createIssue({apartment:E.apartmentId,vendor:E.vendorId,order:E.orderId,product:((oe=X[0])==null?void 0:oe.productId)||null,order_item:((Ne=X[0])==null?void 0:Ne.itemKey)||null,product_name:X.length===1?((ve=(ue=X[0])==null?void 0:ue.item)==null?void 0:ve.product_name)||"":`${X.length} Products`,type:Te,description:`Order: ${f==null?void 0:f.po_number}

${se}`,priority:E.priority,expected_resolution:E.expectedResolution||void 0,vendor_contact:(h==null?void 0:h.contact_person)||void 0,impact:E.impact||void 0,replacement_eta:E.replacementEta||void 0,ai_activated:E.aiActivated,resolution_status:"Open",resolution_type:E.resolutionType||void 0,resolution_notes:E.resolutionNotes||void 0,delivery_date:E.deliveryDate||void 0,invoice_number:E.invoiceNumber||void 0,tracking_number:E.trackingNumber||void 0,auto_notify_vendor:E.autoNotifyVendor,items_data:Me}),Be.success(`Issue reported with ${X.length} product(s)`),e("/issues")}catch(Me){Be.error(((Ee=(xe=Me.response)==null?void 0:xe.data)==null?void 0:Ee.message)||"Failed to report issue")}finally{y(!1)}},R=B=>{const X=Array.from(B.target.files||[]);if(X.length+E.photos.length>10){Be.error("Maximum 10 photos allowed");return}k(oe=>({...oe,photos:[...oe.photos,...X]}))},V=!!f,L=Y(),K=L.length>0,le=l.filter(B=>{var X,oe,Ne;if(O){const ue=O.toLowerCase(),ve=(X=B.po_number)==null?void 0:X.toLowerCase().includes(ue),xe=(oe=B.apartment_name)==null?void 0:oe.toLowerCase().includes(ue),Ee=(Ne=B.vendor_name)==null?void 0:Ne.toLowerCase().includes(ue);if(!ve&&!xe&&!Ee)return!1}return!(E.apartmentId&&E.apartmentId!=="all"&&B.apartment!==E.apartmentId||E.vendorId&&E.vendorId!=="all"&&B.vendor!==E.vendorId)});return n.jsx(dt,{title:"Report New Issue",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>e("/issues"),className:"hover:bg-muted",children:n.jsx(tr,{className:"h-5 w-5"})}),n.jsx("div",{className:"flex-1",children:n.jsx(Ra,{children:n.jsxs(Ma,{children:[n.jsx(Jt,{children:n.jsx(Xn,{href:"/issues",className:"text-muted-foreground hover:text-foreground",children:"Issues"})}),n.jsx(Sn,{}),n.jsx(Jt,{children:n.jsx(hi,{className:"font-medium",children:"Report New Issue"})})]})})})]}),n.jsx(Z,{className:"border-none shadow-sm",children:n.jsx(J,{className:"py-5",children:n.jsx("div",{className:"flex items-center justify-center gap-4",children:[{n:1,l:"Select Order"},{n:2,l:"Select Products"},{n:3,l:"Issue Details"}].map((B,X)=>n.jsxs(z.Fragment,{children:[n.jsxs("div",{className:`flex items-center gap-2 ${w>=B.n?"text-primary":"text-muted-foreground"}`,children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium border-2 ${w>=B.n?"bg-primary text-primary-foreground border-primary":"bg-muted border-muted-foreground/30"}`,children:w>B.n?n.jsx(sr,{className:"h-5 w-5"}):B.n}),n.jsx("span",{className:"font-medium hidden sm:inline",children:B.l})]}),X<2&&n.jsx("div",{className:`w-16 h-0.5 ${w>B.n?"bg-primary":"bg-muted"}`})]},B.n))})})}),n.jsxs("form",{onSubmit:ae,children:[w===1&&n.jsxs(Z,{children:[n.jsxs(we,{children:[n.jsxs(Ue,{children:[n.jsx(An,{className:"h-5 w-5 inline mr-2"}),"Step 1: Select Order"]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Search for an order by PO number, or filter by apartment/vendor to narrow down your search"})]}),n.jsxs(J,{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx(fe,{placeholder:"Search by PO number, apartment, or vendor...",value:O,onChange:B=>I(B.target.value),className:"h-10",disabled:d})}),r?n.jsx(S,{className:"h-10 w-full sm:w-[200px]"}):n.jsxs(at,{value:E.apartmentId,onValueChange:B=>k(X=>({...X,apartmentId:B})),children:[n.jsx(nt,{className:"w-full sm:w-[200px]",children:n.jsx(it,{placeholder:"All apartments"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"all",children:"All apartments"}),i.map(B=>n.jsx(ne,{value:B.id,children:B.name},B.id))]})]}),a?n.jsx(S,{className:"h-10 w-full sm:w-[200px]"}):n.jsxs(at,{value:E.vendorId,onValueChange:B=>k(X=>({...X,vendorId:B})),children:[n.jsx(nt,{className:"w-full sm:w-[200px]",children:n.jsx(it,{placeholder:"All vendors"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"all",children:"All vendors"}),o.map(B=>n.jsx(ne,{value:B.id,children:B.name},B.id))]})]}),(O||E.apartmentId&&E.apartmentId!=="all"||E.vendorId&&E.vendorId!=="all")&&n.jsx(te,{type:"button",variant:"ghost",size:"icon",onClick:()=>{I(""),k(B=>({...B,apartmentId:"all",vendorId:"all"}))},title:"Clear all filters",children:n.jsx(us,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("p",{className:"text-xs text-muted-foreground",children:d?"Loading orders...":`${le.length} order(s)`})}),n.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto pr-2",children:d?n.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(B=>n.jsx(Z,{className:"animate-pulse",children:n.jsxs(J,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[n.jsx(S,{className:"h-5 w-24"}),n.jsx(S,{className:"h-5 w-16"})]}),n.jsx(S,{className:"h-4 w-4 rounded-full"})]}),n.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[n.jsx(S,{className:"h-3 w-28"}),n.jsx(S,{className:"h-3 w-32"}),n.jsx(S,{className:"h-3 w-12"}),n.jsx(S,{className:"h-3 w-16"})]})]})},B))}):le.length===0?n.jsx(Z,{className:"border-dashed",children:n.jsxs(J,{className:"p-8 text-center",children:[n.jsx(An,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),n.jsx("p",{className:"text-muted-foreground",children:O||E.apartmentId!=="all"||E.vendorId!=="all"?"No orders match your search/filters":"No orders found"})]})}):le.map(B=>n.jsx(Z,{className:ge("cursor-pointer transition-all hover:shadow-sm",E.orderId===B.id?"ring-2 ring-primary border-primary bg-primary/5":"hover:border-primary/50"),onClick:()=>{k(X=>({...X,orderId:B.id}))},children:n.jsxs(J,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("h4",{className:"font-semibold text-base",children:B.po_number}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:B.status})]}),E.orderId===B.id&&n.jsx(sr,{className:"h-4 w-4 text-primary flex-shrink-0"})]}),n.jsxs("div",{className:"flex items-center gap-4 mt-1.5 text-xs text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1 truncate",children:[n.jsx(cr,{className:"h-3 w-3 flex-shrink-0"}),B.apartment_name]}),n.jsxs("span",{className:"flex items-center gap-1 truncate",children:[n.jsx(Da,{className:"h-3 w-3 flex-shrink-0"}),B.vendor_name]}),n.jsxs("span",{className:"flex items-center gap-1 flex-shrink-0",children:[n.jsx(ct,{className:"h-3 w-3"}),B.items_count]}),n.jsxs("span",{className:"font-medium text-foreground flex-shrink-0",children:["",Number(B.total).toFixed(2)]})]})]})},B.id))}),p&&n.jsx("div",{className:"space-y-3 mt-4",children:n.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Bt,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{children:"Loading order details..."})]})}),n.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>e("/issues"),children:"Cancel"}),n.jsxs(te,{type:"button",onClick:()=>{b(2),window.scrollTo({top:0,behavior:"smooth"})},disabled:!V,children:["Next",n.jsx(Fb,{className:"h-4 w-4 ml-2"})]})]})]})]}),w===2&&!f&&p&&n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2 flex-1",children:[n.jsx(S,{className:"h-6 w-48"}),n.jsx(S,{className:"h-4 w-64"})]}),n.jsx(S,{className:"h-6 w-16"})]})}),n.jsxs(J,{className:"space-y-3",children:[n.jsx(S,{className:"h-4 w-full"}),n.jsx("div",{className:"space-y-2",children:[1,2,3].map(B=>n.jsx("div",{className:"border rounded-lg p-2 animate-pulse",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"w-12 h-12 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-4 w-16"})]}),n.jsx(S,{className:"h-3 w-24"})]}),n.jsx(S,{className:"h-5 w-5 rounded-full"})]})},B))}),n.jsxs("div",{className:"flex justify-between pt-4",children:[n.jsx(S,{className:"h-10 w-24"}),n.jsx(S,{className:"h-10 w-32"})]})]})]}),w===2&&f&&n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Ue,{className:"text-lg font-semibold",children:"Select Products with Issues"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[f.po_number,"  ",f.vendor_name,"  ",((me=f.items)==null?void 0:me.length)||0," items"]})]}),n.jsxs(Ae,{variant:L.length>0?"default":"outline",className:"text-xs",children:[L.length," ready"]})]})}),n.jsxs(J,{className:"space-y-3",children:[n.jsx("p",{className:"text-xs text-muted-foreground border-l-2 border-primary pl-2",children:"Click products to report issues. Fill in the form to include them in your report."}),n.jsx("div",{className:"space-y-2 max-h-[550px] overflow-y-auto pr-1",children:!f.items||f.items.length===0?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(B=>n.jsx("div",{className:"border rounded-lg p-2 animate-pulse",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"w-12 h-12 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-4 w-16"})]}),n.jsx(S,{className:"h-3 w-24"})]}),n.jsx(S,{className:"h-5 w-5 rounded-full"})]})},B))}):f.items.map(B=>{const X=B.id||B.product||`item-${Math.random()}`,oe=N===X,Ne=C[X],ue=D(X);return n.jsxs("div",{className:ge("border rounded-lg overflow-hidden transition-all",oe&&"ring-1 ring-primary border-primary",ue&&!oe&&"border-green-500 bg-green-50/30 dark:bg-green-950/10"),children:[n.jsx("div",{className:ge("p-2 cursor-pointer hover:bg-muted/30 transition-colors",oe&&"bg-muted/50"),onClick:()=>P(X),children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative flex-shrink-0",children:[B.product_image?n.jsx("img",{src:B.product_image,alt:B.product_name||"Product",className:"w-12 h-12 rounded object-cover border"}):n.jsx("div",{className:"w-12 h-12 rounded flex items-center justify-center border bg-muted",children:n.jsx(ct,{className:"h-5 w-5 text-muted-foreground"})}),ue&&n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:n.jsx(sr,{className:"h-2.5 w-2.5 text-white"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("h4",{className:"font-semibold text-sm truncate",children:B.product_name||"Unknown Product"}),n.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[n.jsx(Ae,{variant:"outline",className:"text-xs px-1.5 py-0",children:B.quantity}),n.jsxs("span",{className:"text-xs font-semibold",children:["",Number(B.total_price).toFixed(2)]})]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-0.5",children:[n.jsxs("span",{className:"text-xs text-muted-foreground truncate",children:[B.sku||"N/A","  ",Number(B.unit_price).toFixed(2)]}),!oe&&ue&&Ne&&n.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[Ne.issueTypes.slice(0,2).map(ve=>n.jsx(Ae,{variant:"secondary",className:"text-[10px] px-1 py-0",children:ve},ve)),Ne.issueTypes.length>2&&n.jsxs(Ae,{variant:"secondary",className:"text-[10px] px-1 py-0",children:["+",Ne.issueTypes.length-2]})]})]})]}),n.jsx("div",{className:"flex-shrink-0",children:oe?n.jsx(pN,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(Au,{className:"h-4 w-4 text-muted-foreground"})})]})}),oe&&Ne&&n.jsx("div",{className:"p-3 pt-0 border-t bg-gradient-to-b from-muted/20 to-muted/40 animate-in slide-in-from-top-2 duration-300",children:n.jsxs("div",{className:"space-y-3 pt-3",children:[n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background border border-border/50 hover:border-primary/50 transition-all duration-200 hover:shadow-md",children:[n.jsxs(G,{htmlFor:`qty-${X}`,className:"flex items-center gap-1.5 text-xs font-semibold",children:[n.jsx(bse,{className:"h-3.5 w-3.5 text-primary"}),"Quantity Affected *"]}),n.jsx(fe,{id:`qty-${X}`,type:"number",min:1,max:B.quantity,value:Ne.issueQuantity,onChange:ve=>M(X,"issueQuantity",parseInt(ve.target.value)||1),className:"h-9 bg-background border-border/50 focus:border-primary focus:ring-1 focus:ring-primary transition-all"},`qty-${X}`),n.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Out of ",B.quantity," ordered"]})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background border border-border/50 hover:border-primary/50 transition-all duration-200 hover:shadow-md",children:[n.jsxs(G,{className:"flex items-center gap-1.5 text-xs font-semibold",children:[n.jsx(ni,{className:"h-3.5 w-3.5 text-orange-500"}),"Issue Type(s) *"]}),n.jsx(Pp,{options:W,value:Ne.issueTypes,onChange:ve=>M(X,"issueTypes",ve),placeholder:"Select issue types",allowCustom:!0,customPlaceholder:"Enter your custom issue type..."},`types-${X}`)]})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background border border-border/50 hover:border-primary/50 transition-all duration-200 hover:shadow-md",children:[n.jsxs(G,{htmlFor:`desc-${X}`,className:"flex items-center gap-1.5 text-xs font-semibold",children:[n.jsx(An,{className:"h-3.5 w-3.5 text-primary"}),"Issue Description *"]}),n.jsxs("div",{className:"relative",children:[n.jsx(gn,{id:`desc-${X}`,value:Ne.description,onChange:ve=>M(X,"description",ve.target.value),placeholder:"Describe the issue in detail. Include any relevant information such as when you noticed the issue, specific damage locations, etc.",rows:3,className:"bg-background border-0 focus:ring-0 focus:outline-none transition-all resize-none text-sm pr-10"},`desc-${X}`),n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(pf,{text:Ne.description,onTextEnhanced:ve=>M(X,"description",ve),variant:"ghost",size:"sm"})})]}),n.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[Ne.description.length," characters"]})]}),n.jsx("div",{className:ge("p-2.5 rounded-lg flex items-center gap-2 text-xs font-medium border transition-all duration-300",ue?"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-950/30 dark:to-green-900/30 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800 shadow-sm animate-in fade-in zoom-in duration-300":"bg-gradient-to-r from-yellow-50 to-yellow-100 dark:from-yellow-950/30 dark:to-yellow-900/30 text-yellow-700 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800"),children:ue?n.jsxs(n.Fragment,{children:[n.jsx(sr,{className:"h-3.5 w-3.5 animate-in zoom-in duration-300"}),"Issue details complete - will be included in report"]}):n.jsxs(n.Fragment,{children:[n.jsx(_t,{className:"h-4 w-4"}),"Please fill in issue type(s) and description to include this product"]})})]})})]},X)})}),n.jsxs("div",{className:"flex justify-between pt-4",children:[n.jsxs(te,{type:"button",variant:"outline",onClick:()=>{k(B=>({...B,apartmentId:"all",vendorId:"all"})),b(1),window.scrollTo({top:0,behavior:"smooth"})},children:[n.jsx(tr,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>e("/issues"),children:"Cancel"}),n.jsxs(te,{type:"button",onClick:()=>{b(3),window.scrollTo({top:0,behavior:"smooth"})},disabled:!K,children:["Next: Issue Details",n.jsx(Fb,{className:"h-4 w-4 ml-2"})]})]})]})]})]}),w===3&&!f&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[n.jsxs(Z,{className:"animate-pulse",children:[n.jsx(we,{children:n.jsx(S,{className:"h-6 w-48"})}),n.jsxs(J,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full"})]})]})]}),n.jsxs(Z,{className:"animate-pulse",children:[n.jsx(we,{children:n.jsx(S,{className:"h-6 w-40"})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-28"}),n.jsx(S,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-24 w-full"})]})]})]})]}),n.jsx("div",{className:"space-y-6",children:n.jsxs(Z,{className:"animate-pulse",children:[n.jsx(we,{children:n.jsx(S,{className:"h-6 w-36"})}),n.jsxs(J,{className:"space-y-4",children:[n.jsx(S,{className:"h-20 w-full rounded-lg"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-full"}),n.jsx(S,{className:"h-4 w-3/4"})]})]})]})})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(S,{className:"h-10 w-24"}),n.jsx(S,{className:"h-10 w-32"})]})]}),w===3&&f&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{children:[n.jsx(ni,{className:"h-5 w-5 inline mr-2"}),"Priority & Impact"]})}),n.jsxs(J,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Priority *"}),n.jsxs(at,{value:E.priority,onValueChange:B=>k(X=>({...X,priority:B})),children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select priority"})}),n.jsx(st,{children:H.map(B=>n.jsx(ne,{value:B.value,children:n.jsx(Ae,{className:B.color,children:B.label})},B.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Impact"}),n.jsxs(at,{value:E.impact,onValueChange:B=>k(X=>({...X,impact:B})),children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select impact"})}),n.jsx(st,{children:F.map(B=>n.jsx(ne,{value:B,children:B},B))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{children:[n.jsx(Wr,{className:"h-4 w-4 inline mr-1"}),"Expected Resolution"]}),n.jsx(fe,{type:"date",value:E.expectedResolution,onChange:B=>k(X=>({...X,expectedResolution:B.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{children:[n.jsx(wr,{className:"h-4 w-4 inline mr-1"}),"Replacement ETA"]}),n.jsx(fe,{type:"date",value:E.replacementEta,onChange:B=>k(X=>({...X,replacementEta:B.target.value}))})]})]})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{children:[n.jsx(sr,{className:"h-5 w-5 inline mr-2"}),"Resolution"]})}),n.jsxs(J,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Resolution Type"}),n.jsxs(at,{value:E.resolutionType,onValueChange:B=>k(X=>({...X,resolutionType:B})),children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select type"})}),n.jsx(st,{children:T.map(B=>n.jsx(ne,{value:B,children:B},B))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Notes"}),n.jsx(fe,{value:E.resolutionNotes,onChange:B=>k(X=>({...X,resolutionNotes:B.target.value}))})]})]})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{children:[n.jsx(Ui,{className:"h-5 w-5 inline mr-2"}),"Photos"]})}),n.jsxs(J,{children:[n.jsxs(te,{type:"button",variant:"outline",onClick:()=>{var B;return(B=document.getElementById("photos"))==null?void 0:B.click()},children:[n.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Upload (max 10)"]}),n.jsx("input",{id:"photos",type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:R}),E.photos.length>0&&n.jsx("div",{className:"grid grid-cols-3 gap-2 mt-4",children:E.photos.map((B,X)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:URL.createObjectURL(B),className:"w-full h-20 object-cover rounded"}),n.jsx("button",{type:"button",onClick:()=>k(oe=>({...oe,photos:oe.photos.filter((Ne,ue)=>ue!==X)})),className:"absolute -top-2 -right-2 bg-destructive text-white rounded-full p-1",children:n.jsx(us,{className:"h-3 w-3"})})]},X))})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(yo,{id:"ai",checked:E.aiActivated,onCheckedChange:B=>k(X=>({...X,aiActivated:B}))}),n.jsx(G,{htmlFor:"ai",children:"Enable AI-assisted communication"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(yo,{id:"notify",checked:E.autoNotifyVendor,onCheckedChange:B=>k(X=>({...X,autoNotifyVendor:B}))}),n.jsx(G,{htmlFor:"notify",children:"Auto-notify vendor"})]})]})]}),n.jsxs("div",{className:"space-y-6 lg:col-span-1",children:[h&&n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{children:[n.jsx($n,{className:"h-5 w-5 inline mr-2"}),"Vendor Contact"]})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Contact Person"}),n.jsx("div",{className:"p-2 bg-muted rounded-md text-sm",children:h.contact_person||"Not specified"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{children:[n.jsx(yn,{className:"h-4 w-4 inline mr-1"}),"Email"]}),n.jsx("div",{className:"p-2 bg-muted rounded-md text-sm",children:h.email||"Not specified"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{children:[n.jsx(So,{className:"h-4 w-4 inline mr-1"}),"Phone"]}),n.jsx("div",{className:"p-2 bg-muted rounded-md text-sm",children:h.phone||"Not specified"})]})]})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{children:[n.jsx(C4,{className:"h-5 w-5 inline mr-2"}),"Additional Info"]})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Delivery Date"}),n.jsx(fe,{type:"date",value:E.deliveryDate,onChange:B=>k(X=>({...X,deliveryDate:B.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Invoice #"}),n.jsx(fe,{value:E.invoiceNumber,onChange:B=>k(X=>({...X,invoiceNumber:B.target.value}))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{children:["Tracking # ",n.jsx("span",{className:"text-xs text-muted-foreground",children:"(from Order)"})]}),n.jsx(fe,{value:E.trackingNumber||(f==null?void 0:f.tracking_number)||"",readOnly:!0,disabled:!0,className:"bg-muted cursor-not-allowed",placeholder:"Auto-filled from order"})]})]})]})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(te,{type:"button",variant:"outline",onClick:()=>{b(2),window.scrollTo({top:0,behavior:"smooth"})},children:[n.jsx(tr,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>e("/issues"),children:"Cancel"}),n.jsx(te,{type:"submit",disabled:j,children:j?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):`Report ${L.length} Issue(s)`})]})]})]})]})]})})};function irt({issue:e,onUpdateIssue:t}){const[r,s]=v.useState(""),[a,i]=v.useState(!1),[o,l]=v.useState([]),[c,d]=v.useState(!0),u=x=>{const p=(x||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`);if(!p.trim())return{main:"",quoted:""};const g=[],j=p.search(/\nOn\s.+\swrote:\s*\n/i);j!==-1&&g.push({idx:j});const y=p.search(/\nFrom:\s.+\nSent:\s.+\nTo:\s.+\nSubject:\s.+\n/i);y!==-1&&g.push({idx:y});const w=p.search(/\n>\s?/);if(w!==-1&&g.push({idx:w}),g.length===0)return{main:p.trim(),quoted:""};const b=Math.min(...g.map(C=>C.idx)),N=p.slice(0,b).trim(),_=p.slice(b).trim();return{main:N,quoted:_}};v.useEffect(()=>{let x=!1,p;const g=async j=>{try{j&&d(!0);const y=await _r.getConversation(e.id);x||l(y.conversation||[])}catch(y){j&&(console.error("Failed to fetch conversation:",y),Be.error("Failed to load conversation"))}finally{j&&!x&&d(!1)}};return g(!0),p=window.setInterval(()=>{g(!1)},8e3),()=>{x=!0,p&&window.clearInterval(p)}},[e.id]);const f=async()=>{var x,p,g;if(r.trim()){i(!0);try{await _r.sendManualMessage(e.id,{message:r,to_email:((x=e.vendor_details)==null?void 0:x.email)||""});const j=await _r.getConversation(e.id);l(j.conversation||[]),s(""),Be.success("Message sent to vendor successfully")}catch(j){console.error("Failed to send message:",j),Be.error(((g=(p=j.response)==null?void 0:p.data)==null?void 0:g.message)||"Failed to send message to vendor")}finally{i(!1)}}},h=(()=>{const x=o||[],p=x.filter(y=>y.sender==="AI").length,g=x.filter(y=>y.sender==="Vendor").length,j=x.filter(y=>y.sender==="System"||y.sender==="Admin").length;return{total:x.length,aiMessages:p,vendorMessages:g,systemMessages:j}})();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(Z,{children:n.jsxs(J,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(tl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-2xl font-bold",children:h.total})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Total Messages"})]})}),n.jsx(Z,{children:n.jsxs(J,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(vs,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-2xl font-bold",children:h.aiMessages})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"AI Messages"})]})}),n.jsx(Z,{children:n.jsxs(J,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx($n,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-2xl font-bold",children:h.vendorMessages})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Vendor Replies"})]})}),n.jsx(Z,{children:n.jsxs(J,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(_t,{className:"h-4 w-4 text-warning"}),n.jsx("span",{className:"text-2xl font-bold",children:h.systemMessages})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"System Notes"})]})})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(tl,{className:"h-5 w-5"}),"Communication Log"]}),n.jsx(Or,{children:e.ai_activated?"AI is actively managing this conversation with the vendor":"Manual conversation tracking"})]}),e.ai_activated&&n.jsxs(Ae,{variant:"default",className:"gap-1",children:[n.jsx(Wo,{className:"h-3 w-3"}),"AI Active"]})]})}),n.jsxs(J,{children:[c?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Bt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsx(ac,{className:"h-[500px] pr-4",children:n.jsxs("div",{className:"space-y-4",children:[o&&o.length>0?o.map((x,p)=>{const g=x.message.toLowerCase().includes("please arrange")||x.message.toLowerCase().includes("action required")||x.message.toLowerCase().includes("human action");return n.jsxs("div",{className:ge("flex gap-3 p-4 rounded-lg border transition-all",x.sender==="AI"&&"bg-primary/5 border-primary/20",x.sender==="Vendor"&&"bg-muted border-border",x.sender==="System"&&"bg-accent/50 border-accent",g&&"border-2 border-warning shadow-md"),children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:n.jsx("div",{className:ge("w-8 h-8 rounded-full flex items-center justify-center",x.sender==="AI"&&"bg-primary text-primary-foreground",x.sender==="Vendor"&&"bg-muted-foreground text-background",x.sender==="System"&&"bg-warning text-warning-foreground"),children:x.sender==="AI"?n.jsx(vs,{className:"h-4 w-4"}):x.sender==="Vendor"?n.jsx($n,{className:"h-4 w-4"}):n.jsx(_t,{className:"h-4 w-4"})})}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Ae,{variant:x.sender==="AI"?"default":"outline",className:ge("text-xs",g&&"bg-warning text-warning-foreground"),children:x.sender}),g&&n.jsxs(Ae,{variant:"outline",className:"text-xs bg-warning/10 text-warning border-warning/50",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Action Required"]}),x.message_type==="email"&&n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Email"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(x.timestamp).toLocaleString()})]}),x.subject&&n.jsx("p",{className:"text-sm font-semibold text-foreground",children:x.subject}),(()=>{const j=x.message_type==="email"||!!x.subject,{main:y,quoted:w}=j?u(x.message):{main:x.message,quoted:""};return n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:ge("text-sm whitespace-pre-wrap leading-relaxed",g&&"font-medium"),children:y}),w&&n.jsx(KQ,{type:"single",collapsible:!0,children:n.jsxs(M3,{value:"quoted",children:[n.jsx(F3,{className:"py-2 text-xs text-muted-foreground hover:no-underline",children:"Replied to previous email"}),n.jsx($3,{children:n.jsx("div",{className:"text-xs text-muted-foreground whitespace-pre-wrap leading-relaxed",children:w})})]})})]})})()]})]},p)}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx(tl,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No messages yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Start by adding a message below"})]}),a&&n.jsxs("div",{className:"flex gap-3 p-4 rounded-lg border bg-primary/5 border-primary/20",children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-primary text-primary-foreground",children:n.jsx(vs,{className:"h-4 w-4 animate-pulse"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Ae,{variant:"default",className:"text-xs mb-2",children:"AI"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"AI is processing..."})]})]})]})}),n.jsxs("div",{className:"flex gap-2 mt-4",children:[n.jsx(fe,{placeholder:"Add a message to the log...",value:r,onChange:x=>s(x.target.value),onKeyPress:x=>x.key==="Enter"&&f()}),n.jsx(te,{onClick:f,size:"icon",children:n.jsx(Tk,{className:"h-4 w-4"})})]})]})]})]})}function ort({photos:e,onAddPhoto:t}){const[r,s]=v.useState(null),a=i=>{var l;const o=(l=i.target.files)==null?void 0:l[0];if(o){const c=new FileReader;c.onloadend=()=>{t({id:`photo-${Date.now()}`,url:c.result,uploadedAt:new Date().toISOString()})},c.readAsDataURL(o)}};return n.jsxs(n.Fragment,{children:[n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(Bi,{className:"h-5 w-5"}),"Issue Photos"]}),n.jsx(Or,{children:"Visual documentation of the issue"})]}),n.jsxs(te,{variant:"outline",size:"sm",onClick:()=>{var i;return(i=document.getElementById("photo-upload"))==null?void 0:i.click()},children:[n.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Upload Photo"]}),n.jsx("input",{id:"photo-upload",type:"file",accept:"image/*",className:"hidden",onChange:a})]})}),n.jsx(J,{children:e.length>0?n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(i=>n.jsxs("div",{className:"relative group aspect-square rounded-lg overflow-hidden border cursor-pointer hover:shadow-lg transition-all",onClick:()=>s(i.url),children:[n.jsx("img",{src:i.url,alt:"Issue photo",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all flex items-center justify-center",children:n.jsx(Fse,{className:"h-6 w-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},i.id))}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center border-2 border-dashed rounded-lg",children:[n.jsx(Bi,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"No photos uploaded yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Upload photos to document the issue"}),n.jsxs(te,{variant:"outline",onClick:()=>{var i;return(i=document.getElementById("photo-upload"))==null?void 0:i.click()},children:[n.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Upload First Photo"]})]})})]}),n.jsx(Zr,{open:!!r,onOpenChange:()=>s(null),children:n.jsxs(Hr,{className:"max-w-4xl",children:[n.jsx(Jr,{children:n.jsx(en,{children:"Photo Preview"})}),r&&n.jsx("img",{src:r,alt:"Full size preview",className:"w-full h-auto rounded-lg"})]})})]})}function lrt({issue:e,product:t}){const r=[{id:1,timestamp:e.reportedOn,icon:_t,title:"Issue Reported",description:`${e.type} issue reported for ${t.product}`,color:"text-destructive"},...t.orderedOn?[{id:2,timestamp:t.orderedOn,icon:ct,title:"Product Ordered",description:`Order placed with ${e.vendor}`,color:"text-primary"}]:[],...t.actualDeliveryDate?[{id:3,timestamp:t.actualDeliveryDate,icon:wr,title:"Product Delivered",description:"Product delivered to location",color:"text-primary"}]:[],...e.aiActivated?[{id:4,timestamp:e.reportedOn,icon:tl,title:"AI Chatbot Activated",description:"AI started vendor communication",color:"text-primary"}]:[],...e.aiCommunicationLog&&e.aiCommunicationLog.length>0?e.aiCommunicationLog.map((s,a)=>({id:100+a,timestamp:s.timestamp,icon:s.sender==="AI"?tl:s.sender==="Vendor"?ct:_t,title:`${s.sender} Message`,description:s.message.substring(0,100)+(s.message.length>100?"...":""),color:s.sender==="AI"?"text-primary":"text-muted-foreground"})):[],...e.resolutionStatus==="Closed"?[{id:999,timestamp:new Date().toISOString(),icon:sr,title:"Issue Resolved",description:"Issue has been successfully resolved",color:"text-success"}]:[]].sort((s,a)=>new Date(s.timestamp).getTime()-new Date(a.timestamp).getTime());return n.jsxs(Z,{children:[n.jsxs(we,{children:[n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(jr,{className:"h-5 w-5"}),"Issue Timeline"]}),n.jsx(Or,{children:"Complete history of this issue"})]}),n.jsx(J,{children:n.jsxs("div",{className:"relative space-y-6",children:[n.jsx("div",{className:"absolute left-4 top-2 bottom-2 w-0.5 bg-border"}),r.map((s,a)=>{const i=s.icon;return n.jsxs("div",{className:"relative flex gap-4",children:[n.jsx("div",{className:ge("relative z-10 w-8 h-8 rounded-full flex items-center justify-center bg-background border-2",s.color==="text-destructive"&&"border-destructive",s.color==="text-primary"&&"border-primary",s.color==="text-success"&&"border-success",s.color==="text-muted-foreground"&&"border-muted-foreground"),children:n.jsx(i,{className:ge("h-4 w-4",s.color)})}),n.jsxs("div",{className:"flex-1 pb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h4",{className:"font-semibold",children:s.title}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:new Date(s.timestamp).toLocaleString()})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]})]},s.id)})]})})]})}function crt({issue:e,vendor:t,onUpdateIssue:r}){const[s,a]=v.useState(e.ai_activated||!1),[i,o]=v.useState(e.status||"Open");v.useEffect(()=>{a(e.ai_activated||!1),o(e.status||"Open")},[e.ai_activated,e.status]);const l=async()=>{var u,f;const d=!s;a(d);try{if(d){const m=await _r.activateAIEmail(e.id);if((u=m.data)!=null&&u.success)r({ai_activated:!0}),Be.success("AI Chatbot activated and email sent to vendor");else throw new Error(((f=m.data)==null?void 0:f.message)||"Failed to activate AI")}else await _r.updateIssue(e.id,{ai_activated:!1}),r({ai_activated:!1}),Be.info("AI Chatbot paused")}catch(m){console.error("Failed to toggle AI:",m),Be.error(m.message||"Failed to update AI status"),a(!d)}},c=async d=>{o(d);try{await _r.updateIssue(e.id,{status:d}),r({status:d}),Be.success("Status updated")}catch(u){console.error("Failed to update status:",u),Be.error("Failed to update status"),o(e.status||"Open")}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Z,{children:[n.jsxs(we,{children:[n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(vs,{className:"h-5 w-5"}),"AI Resolution"]}),n.jsx(Or,{children:"Automate vendor communication"})]}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/30",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(G,{htmlFor:"ai-toggle",className:"text-base font-semibold cursor-pointer",children:"AI Chatbot"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:s?"Active":"Inactive"})]}),n.jsx(Tn,{id:"ai-toggle",checked:s,onCheckedChange:l})]}),s&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[n.jsx(N7,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:"AI is monitoring this issue"})]}),n.jsxs(te,{variant:"outline",size:"sm",className:"w-full",onClick:()=>Be.info("AI settings opened"),children:[n.jsx(Fv,{className:"h-4 w-4 mr-2"}),"Configure AI Behavior"]})]})]})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(sr,{className:"h-5 w-5"}),"Resolution Status"]})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Current Status"}),n.jsxs(at,{value:i,onValueChange:c,children:[n.jsx(nt,{children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"Open",children:"Open"}),n.jsx(ne,{value:"Pending Vendor Response",children:"Pending Vendor Response"}),n.jsx(ne,{value:"Resolution Agreed",children:"Resolution Agreed"}),n.jsx(ne,{value:"Closed",children:"Closed"})]})]})]}),i==="Closed"&&n.jsx("div",{className:"p-3 bg-success/10 border border-success/20 rounded-lg",children:n.jsxs("p",{className:"text-sm text-success flex items-center gap-2",children:[n.jsx(sr,{className:"h-4 w-4"}),"Issue has been resolved"]})})]})]}),t&&n.jsxs(Z,{children:[n.jsxs(we,{children:[n.jsx(Ue,{children:"Vendor Contact"}),n.jsx(Or,{children:t.companyName||t.name})]}),n.jsxs(J,{className:"space-y-3",children:[t.email&&n.jsxs("a",{href:`mailto:${t.email}`,className:"flex items-center gap-2 text-sm hover:text-primary transition-colors",children:[n.jsx(yn,{className:"h-4 w-4"}),t.email]}),t.phone&&n.jsxs("a",{href:`tel:${t.phone}`,className:"flex items-center gap-2 text-sm hover:text-primary transition-colors",children:[n.jsx(So,{className:"h-4 w-4"}),t.phone]}),t.website&&n.jsxs("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm hover:text-primary transition-colors",children:[n.jsx(Xl,{className:"h-4 w-4"}),"Visit Website"]}),n.jsx(Ft,{}),n.jsxs(te,{variant:"outline",size:"sm",className:"w-full",children:[n.jsx(yn,{className:"h-4 w-4 mr-2"}),"Send Manual Email"]})]})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsx(Ue,{children:"Quick Actions"})}),n.jsxs(J,{className:"space-y-2",children:[n.jsx(te,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>Be.info("Replacement request sent"),children:"Request Replacement"}),n.jsx(te,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>Be.info("Refund request sent"),children:"Request Refund"}),n.jsx(te,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>Be.info("Escalation triggered"),children:"Escalate to Manager"})]})]})]})}function drt(){return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(S,{className:"h-10 w-24 rounded-md"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-8 w-48"}),n.jsx(S,{className:"h-4 w-32"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-24 rounded-full"})]})]})}function urt(){return n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-48"})]}),n.jsx(S,{className:"h-4 w-40"})]}),n.jsx(S,{className:"h-6 w-24 rounded-full"})]})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-4 w-full"}),n.jsx(S,{className:"h-4 w-full"}),n.jsx(S,{className:"h-4 w-3/4"})]}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-3 w-20"}),n.jsx(S,{className:"h-6 w-24 rounded-full"})]},t))}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-3 w-28"})]}),n.jsx(S,{className:"h-4 w-32"})]},t))})]})]})}function frt(){return n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-56"})]})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-5 w-32"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-3 w-24"}),n.jsx(S,{className:"h-4 w-32"})]},t))})]}),n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-8 w-8 rounded-lg"}),n.jsx(S,{className:"h-5 w-36"})]}),n.jsx(S,{className:"h-6 w-16 rounded-full"})]})}),n.jsx(J,{className:"space-y-3",children:[...Array(2)].map((e,t)=>n.jsxs("div",{className:"flex gap-4 p-4 rounded-xl border",children:[n.jsx(S,{className:"h-20 w-20 rounded-xl flex-shrink-0"}),n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx(S,{className:"h-5 w-48"}),n.jsx(S,{className:"h-6 w-12 rounded-full"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(S,{className:"h-5 w-24 rounded-full"}),n.jsx(S,{className:"h-5 w-28 rounded-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-3 w-full"}),n.jsx(S,{className:"h-3 w-3/4"})]})]})]},t))})]})]})]})}function mrt(){return n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-64"})]})}),n.jsx(J,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(2)].map((e,t)=>n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-5 w-24"})]}),n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((r,s)=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(S,{className:"h-3 w-3 rounded"}),n.jsx(S,{className:"h-3 w-20"})]}),n.jsx(S,{className:"h-4 w-full"})]},s))})]},t))})})]})}function hrt(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsx(Z,{children:n.jsxs(J,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-8 w-12"})]}),n.jsx(S,{className:"h-3 w-24"})]})},t))})}function prt(){return n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-40"})]}),n.jsx(S,{className:"h-4 w-64"})]}),n.jsx(S,{className:"h-6 w-24 rounded-full"})]})}),n.jsxs(J,{children:[n.jsx("div",{className:"space-y-4 mb-4",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"flex gap-3 p-4 rounded-lg border",children:[n.jsx(S,{className:"h-8 w-8 rounded-full flex-shrink-0"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-16 rounded-full"}),n.jsx(S,{className:"h-3 w-32"})]}),n.jsx(S,{className:"h-4 w-full"}),n.jsx(S,{className:"h-4 w-4/5"}),n.jsx(S,{className:"h-4 w-3/5"})]})]},t))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(S,{className:"h-10 flex-1 rounded-md"}),n.jsx(S,{className:"h-10 w-10 rounded-md"})]})]})]})}function xrt(){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-32"})]}),n.jsx(S,{className:"h-4 w-48"})]})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-5 w-24"}),n.jsx(S,{className:"h-4 w-16"})]}),n.jsx(S,{className:"h-6 w-11 rounded-full"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-36"})]})}),n.jsx(J,{className:"space-y-3",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-28"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})})]})]})}function grt(){return n.jsxs("div",{className:"space-y-6",children:[n.jsx(drt,{}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(urt,{}),n.jsx(frt,{}),n.jsx(mrt,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex gap-2 border-b",children:[...Array(3)].map((e,t)=>n.jsx(S,{className:"h-10 w-32 rounded-t-md"},t))}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(hrt,{}),n.jsx(prt,{})]})]})]}),n.jsx("div",{className:"space-y-6",children:n.jsx(xrt,{})})]})]})}function vrt(){var f,m,h,x,p,g,j,y,w,b,N,_,C;const{issueId:e}=Ki(),t=dr(),[r,s]=v.useState(null),[a,i]=v.useState(!0),[o,l]=v.useState(null);v.useEffect(()=>{if(!e){l("No issue ID provided"),i(!1);return}i(!0),_r.getIssue(e).then(A=>{s(A),l(null)}).catch(A=>{console.error("Failed to fetch issue:",A),l("Issue not found")}).finally(()=>i(!1))},[e]);const c=async A=>{if(r)try{const E=await _r.updateIssue(r.id,A);s(E),Be.success("Issue updated")}catch{Be.error("Failed to update issue")}};if(a)return n.jsx(dt,{title:"Issue Details",children:n.jsx(grt,{})});if(o||!r)return n.jsx(dt,{title:"Issue Not Found",children:n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-4",children:[n.jsx(_t,{className:"h-12 w-12 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold",children:"Issue Not Found"}),n.jsxs(te,{onClick:()=>t("/issues"),children:[n.jsx(tr,{className:"h-4 w-4 mr-2"}),"Back to Issues"]})]})});const d=A=>{switch(A){case"Open":return"destructive";case"Pending Vendor Response":return"secondary";case"Resolution Agreed":return"default";case"Closed":return"outline";default:return"secondary"}},u=A=>{switch(A){case"Closed":return n.jsx(sr,{className:"h-4 w-4"});case"Open":return n.jsx(Fl,{className:"h-4 w-4"});default:return n.jsx(jr,{className:"h-4 w-4"})}};return n.jsx(dt,{title:"Issue Details",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(te,{variant:"ghost",onClick:()=>t("/issues"),children:[n.jsx(tr,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Issue Details"}),n.jsxs("p",{className:"text-muted-foreground",children:["Issue #",r.id]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[u(r.status||"Open"),n.jsx(Ae,{variant:d(r.status||"Open"),children:r.status||"Open"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(_t,{className:"h-5 w-5 text-destructive"}),r.type]}),n.jsxs(Or,{children:["Reported on ",r.reported_on?new Date(r.reported_on).toLocaleDateString():"Unknown"]})]}),r.ai_activated&&n.jsxs(Ae,{variant:"default",className:"gap-1",children:[n.jsx(vs,{className:"h-3 w-3"}),"AI Active"]})]})}),n.jsxs(J,{className:"space-y-4",children:[r.items&&r.items.length>0?n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Issue Descriptions by Product"}),r.items.map((A,E)=>n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg  space-y-2",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("h5",{className:"font-semibold text-sm",children:A.product_name||A.order_item_product_name||"Unknown Product"}),A.quantity_affected&&n.jsxs(Ae,{variant:"outline",className:"flex-shrink-0",children:["Qty: ",A.quantity_affected]})]}),A.issue_types&&n.jsx("div",{className:"flex flex-wrap gap-1.5",children:A.issue_types.split(",").map((k,O)=>n.jsx(Ae,{variant:"destructive",className:"text-xs",children:k.trim()},O))}),A.description&&n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap mt-2",children:A.description})]},A.id||E))]}):n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Description"}),n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:r.description})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Priority"}),n.jsx(Ae,{variant:r.priority==="Critical"?"destructive":r.priority==="High"?"default":"secondary",children:r.priority||"Medium"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(Ae,{variant:d(r.status||"Open"),children:r.status||"Open"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolution Status"}),n.jsx("p",{className:"font-medium",children:r.resolution_status||"Pending"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Created"}),n.jsx("p",{className:"font-medium",children:r.created_at?new Date(r.created_at).toLocaleDateString():"Unknown"})]})]}),r.impact&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(Lb,{className:"h-4 w-4"})," Impact"]}),n.jsx("p",{className:"font-medium",children:r.impact})]})]}),(r.expected_resolution||r.replacement_eta||r.delivery_date)&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.expected_resolution&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(Wr,{className:"h-4 w-4"})," Expected Resolution"]}),n.jsx("p",{className:"font-medium",children:new Date(r.expected_resolution).toLocaleDateString()})]}),r.replacement_eta&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(wr,{className:"h-4 w-4"})," Replacement ETA"]}),n.jsx("p",{className:"font-medium",children:new Date(r.replacement_eta).toLocaleDateString()})]}),r.delivery_date&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(Wr,{className:"h-4 w-4"})," Delivery Date"]}),n.jsx("p",{className:"font-medium",children:new Date(r.delivery_date).toLocaleDateString()})]})]})]}),(r.invoice_number||r.tracking_number||((f=r.order_details)==null?void 0:f.tracking_number))&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.invoice_number&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(An,{className:"h-4 w-4"})," Invoice #"]}),n.jsx("p",{className:"font-medium",children:r.invoice_number})]}),(r.tracking_number||((m=r.order_details)==null?void 0:m.tracking_number))&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(wr,{className:"h-4 w-4"})," Tracking #",!r.tracking_number&&((h=r.order_details)==null?void 0:h.tracking_number)&&n.jsx("span",{className:"text-xs",children:"(from Order)"})]}),n.jsx("p",{className:"font-medium",children:r.tracking_number||((x=r.order_details)==null?void 0:x.tracking_number)})]})]})]}),(r.resolution_type||r.resolution_notes)&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-sm font-semibold",children:"Resolution Details"}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.resolution_type&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolution Type"}),n.jsx(Ae,{variant:"outline",children:r.resolution_type})]})}),r.resolution_notes&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolution Notes"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:r.resolution_notes})]})]})]})]})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(js,{className:"h-5 w-5"}),"Order & Product Information"]})}),n.jsxs(J,{className:"space-y-4",children:[r.order_details&&n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(An,{className:"h-4 w-4"})," Order Details"]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Number"}),n.jsx("p",{className:"font-medium",children:r.order_details.order_number||r.order_details.id})]}),r.order_details.order_date&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Date"}),n.jsx("p",{className:"font-medium",children:new Date(r.order_details.order_date).toLocaleDateString()})]}),r.order_details.status&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Status"}),n.jsx(Ae,{variant:"outline",children:r.order_details.status})]}),r.order_details.total_amount&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),n.jsxs("p",{className:"font-medium",children:["$",r.order_details.total_amount]})]})]})]}),r.items&&r.items.length>0&&n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ue,{className:"text-base flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(ct,{className:"h-4 w-4 text-primary"})}),"Affected Products"]}),n.jsxs(Ae,{variant:"secondary",className:"font-semibold",children:[r.items.length," ",r.items.length===1?"Item":"Items"]})]})}),n.jsx(J,{className:"space-y-3",children:r.items.map((A,E)=>n.jsxs("div",{className:"flex gap-4 p-4 rounded-xl border bg-gradient-to-r from-background to-muted/20 hover:shadow-sm transition-all",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden border-2 border-muted bg-gradient-to-br from-muted to-muted/50 shadow-sm",children:A.product_image?n.jsx("img",{src:A.product_image,alt:A.product_name||"Product",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(ct,{className:"h-8 w-8 text-muted-foreground/40"})})})}),n.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("h5",{className:"font-semibold text-sm line-clamp-1",children:A.product_name||A.order_item_product_name||"Unknown Product"}),n.jsxs(Ae,{variant:"outline",className:"flex-shrink-0 gap-1",children:[n.jsx(js,{className:"h-3 w-3"}),A.quantity_affected]})]}),A.issue_types&&n.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[A.issue_types.split(",").slice(0,4).map((k,O)=>n.jsxs(Ae,{variant:"outline",className:"text-xs px-2 py-0.5 bg-destructive/5 text-destructive border-destructive/20 gap-1",children:[n.jsx(_t,{className:"h-3 w-3"}),k.trim()]},O)),A.issue_types.split(",").length>4&&n.jsxs(Ae,{variant:"secondary",className:"text-xs",children:["+",A.issue_types.split(",").length-4," more"]})]}),A.description&&n.jsxs("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[n.jsx(An,{className:"h-3.5 w-3.5 mt-0.5 flex-shrink-0"}),n.jsx("p",{className:"line-clamp-2",children:A.description})]})]})]},A.id||E))})]}),r.order_item_details&&(!r.items||r.items.length===0)&&n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(ct,{className:"h-4 w-4"})," Order Item Details"]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:r.order_item_details.product_image||(p=r.product_details)!=null&&p.product_image?n.jsx("img",{src:r.order_item_details.product_image||((g=r.product_details)==null?void 0:g.product_image),alt:r.order_item_details.product_name||"Product",className:"w-24 h-24 rounded-lg object-cover border-2 border-muted"}):n.jsx("div",{className:"w-24 h-24 rounded-lg flex items-center justify-center border-2 border-muted bg-muted",children:n.jsx(ct,{className:"h-10 w-10 text-muted-foreground"})})}),n.jsxs("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Product Name"}),n.jsx("p",{className:"font-medium",children:r.order_item_details.product_name})]}),r.order_item_details.quantity&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Quantity"}),n.jsx("p",{className:"font-medium",children:r.order_item_details.quantity})]}),r.order_item_details.unit_price&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Unit Price"}),n.jsxs("p",{className:"font-medium",children:["$",r.order_item_details.unit_price]})]}),r.order_item_details.total_price&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Price"}),n.jsxs("p",{className:"font-medium",children:["$",r.order_item_details.total_price]})]}),r.order_item_details.sku&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"SKU"}),n.jsx("p",{className:"font-medium",children:r.order_item_details.sku})]})]})]})]}),!r.order_details&&!r.order_item_details&&!r.product_details&&n.jsxs("div",{className:"flex gap-4 items-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center border-2 border-muted bg-muted flex-shrink-0",children:n.jsx(ct,{className:"h-8 w-8 text-muted-foreground"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Product"}),n.jsx("p",{className:"font-medium",children:r.display_product_name||r.product_name||"Unknown"})]})]})]})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(cr,{className:"h-5 w-5"}),"Apartment & Vendor Information"]})}),n.jsx(J,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(cr,{className:"h-4 w-4"})," Apartment"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),n.jsx("p",{className:"font-medium",children:((j=r.apartment_details)==null?void 0:j.name)||"Unknown"})]}),((y=r.apartment_details)==null?void 0:y.address)&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),n.jsx("p",{className:"font-medium",children:r.apartment_details.address})]})]})]}),n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx($n,{className:"h-4 w-4"})," Vendor"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),n.jsx("p",{className:"font-medium",children:r.vendor_name||((w=r.vendor_details)==null?void 0:w.name)||"Unknown"})]}),((b=r.vendor_details)==null?void 0:b.contact_person)&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx($n,{className:"h-3 w-3"})," Contact Person"]}),n.jsx("p",{className:"font-medium",children:r.vendor_details.contact_person})]}),((N=r.vendor_details)==null?void 0:N.email)&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(yn,{className:"h-3 w-3"})," Email"]}),n.jsx("a",{href:`mailto:${r.vendor_details.email}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.email})]}),((_=r.vendor_details)==null?void 0:_.phone)&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(So,{className:"h-3 w-3"})," Phone"]}),n.jsx("a",{href:`tel:${r.vendor_details.phone}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.phone})]}),r.vendor_contact&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor Contact"}),n.jsx("p",{className:"font-medium",children:r.vendor_contact})]})]})]})]})})]}),n.jsxs(ko,{defaultValue:"conversation",className:"w-full",children:[n.jsxs(Xi,{className:"grid w-full grid-cols-3",children:[n.jsxs(Vt,{value:"conversation",className:"gap-2",children:[n.jsx(tl,{className:"h-4 w-4"}),"Conversation"]}),n.jsxs(Vt,{value:"photos",className:"gap-2",children:[n.jsx(Bi,{className:"h-4 w-4"}),"Photos (",((C=r.photos)==null?void 0:C.length)||0,")"]}),n.jsxs(Vt,{value:"timeline",className:"gap-2",children:[n.jsx(jr,{className:"h-4 w-4"}),"Timeline"]})]}),n.jsx(Yt,{value:"conversation",className:"mt-6",children:n.jsx(irt,{issue:r,onUpdateIssue:c})}),n.jsx(Yt,{value:"photos",className:"mt-6",children:n.jsx(ort,{photos:r.photos||[],onAddPhoto:async A=>{Be.info("Photo upload feature coming soon")}})}),n.jsx(Yt,{value:"timeline",className:"mt-6",children:n.jsx(lrt,{issue:r,product:r.product_details})})]})]}),n.jsx("div",{className:"space-y-6",children:n.jsx(crt,{issue:r,vendor:r.vendor_details,onUpdateIssue:c})})]})]})})}function yrt(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-4 w-16"}),n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-4 w-28"}),n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-4 w-12"})]})}function jrt(){return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(S,{className:"h-10 w-10 rounded-md"}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(S,{className:"h-6 w-6 rounded"}),n.jsx(S,{className:"h-8 w-32"})]}),n.jsx(S,{className:"h-4 w-28"})]})]}),n.jsx(S,{className:"h-9 w-32 rounded-md"})]})}function brt(){return n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-40"})]})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-16"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-28"}),n.jsx(S,{className:"h-24 w-full rounded-md"})]})]})]})}function wrt(){return n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-40"})]})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-16"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-36"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]})]})}function Nrt(){return n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-36"})]})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-36"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-20 w-full rounded-md"})]})]})]})}function _rt(){return n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-36"})]})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-28"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-4 w-48"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-4 w-56"})]})]})]})]})}function Srt(){return n.jsx(dt,{title:"Edit Issue",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(yrt,{}),n.jsx(jrt,{}),n.jsx(brt,{}),n.jsx(wrt,{}),n.jsx(Nrt,{}),n.jsx(_rt,{}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(S,{className:"h-10 w-24 rounded-md"}),n.jsx(S,{className:"h-10 w-32 rounded-md"})]})]})})}const Crt=()=>{var b;const e=dr(),{issueId:t}=Ki(),[r,s]=v.useState(null),[a,i]=v.useState(!0),[o,l]=v.useState(!1),[c,d]=v.useState(!1),[u,f]=v.useState(!1),[m,h]=v.useState({type:"",description:"",status:"Open",priority:"Medium",impact:"",expectedResolution:"",replacementEta:"",resolutionType:"",resolutionNotes:"",deliveryDate:"",invoiceNumber:"",trackingNumber:"",aiActivated:!1,autoNotifyVendor:!0}),x=["Open","Pending Vendor Response","Resolution Agreed","Closed"],p=[{value:"Critical",label:"Critical",color:"bg-red-500/10 text-red-600 border-red-200"},{value:"High",label:"High",color:"bg-orange-500/10 text-orange-600 border-orange-200"},{value:"Medium",label:"Medium",color:"bg-yellow-500/10 text-yellow-600 border-yellow-200"},{value:"Low",label:"Low",color:"bg-green-500/10 text-green-600 border-green-200"}],g=["Blocking Progress","Delaying Project","Partial Impact","Minor Inconvenience","No Impact"],j=["Full Replacement","Partial Replacement","Repair","Refund","Credit Note","Exchange","Other"];v.useEffect(()=>{if(!t){Be.error("No issue ID provided"),e("/issues");return}i(!0),_r.getIssue(t).then(N=>{s(N),h({type:N.type||"",description:N.description||"",status:N.status||"Open",priority:N.priority||"Medium",impact:N.impact||"",expectedResolution:N.expected_resolution||"",replacementEta:N.replacement_eta||"",resolutionType:N.resolution_type||"",resolutionNotes:N.resolution_notes||"",deliveryDate:N.delivery_date||"",invoiceNumber:N.invoice_number||"",trackingNumber:N.tracking_number||"",aiActivated:N.ai_activated||!1,autoNotifyVendor:N.auto_notify_vendor??!0})}).catch(N=>{console.error("Failed to fetch issue:",N),Be.error("Failed to load issue"),e("/issues")}).finally(()=>i(!1))},[t,e]);const y=async N=>{var _,C;if(N.preventDefault(),!!r){l(!0);try{await _r.updateIssue(r.id,{type:m.type,description:m.description,status:m.status,priority:m.priority,impact:m.impact||void 0,expected_resolution:m.expectedResolution||void 0,replacement_eta:m.replacementEta||void 0,resolution_type:m.resolutionType||void 0,resolution_notes:m.resolutionNotes||void 0,delivery_date:m.deliveryDate||void 0,invoice_number:m.invoiceNumber||void 0,tracking_number:m.trackingNumber||void 0,ai_activated:m.aiActivated,auto_notify_vendor:m.autoNotifyVendor}),Be.success("Issue updated successfully"),e(`/issues/${r.id}`)}catch(A){Be.error(((C=(_=A.response)==null?void 0:_.data)==null?void 0:C.message)||"Failed to update issue")}finally{l(!1)}}},w=async()=>{var N,_;if(r){d(!0);try{await _r.deleteIssue(r.id),Be.success("Issue deleted successfully"),e("/issues")}catch(C){Be.error(((_=(N=C.response)==null?void 0:N.data)==null?void 0:_.message)||"Failed to delete issue")}finally{d(!1),f(!1)}}};return a?n.jsx(Srt,{}):r?n.jsx(dt,{title:"Edit Issue",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ra,{children:n.jsxs(Ma,{children:[n.jsx(Jt,{children:n.jsx(Xn,{href:"/issues",children:"Issues"})}),n.jsx(Sn,{}),n.jsx(Jt,{children:n.jsx(Xn,{href:`/issues/${r.id}`,children:"Issue Details"})}),n.jsx(Sn,{}),n.jsx(Jt,{children:n.jsx(hi,{children:"Edit"})})]})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>e(`/issues/${r.id}`),children:n.jsx(tr,{className:"h-4 w-4"})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(_t,{className:"h-6 w-6 text-primary"}),"Edit Issue"]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Issue #",r.id.slice(-8)]})]})]}),n.jsxs(lc,{open:u,onOpenChange:f,children:[n.jsxs(te,{variant:"destructive",size:"sm",onClick:()=>f(!0),disabled:c,children:[c?n.jsx(Bt,{className:"h-4 w-4 animate-spin mr-2"}):n.jsx(xn,{className:"h-4 w-4 mr-2"}),"Delete Issue"]}),n.jsxs(pl,{className:"sm:max-w-md",children:[n.jsx(xl,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(xn,{className:"h-6 w-6 text-destructive"})}),n.jsxs("div",{children:[n.jsx(vl,{className:"text-lg",children:"Delete Issue"}),n.jsx(yl,{className:"text-sm",children:"This action cannot be undone."})]})]})}),n.jsx("div",{className:"py-4",children:n.jsxs("div",{className:"rounded-lg border bg-muted/50 p-4",children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:r.type||"Issue"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:[(b=r.description)==null?void 0:b.slice(0,100),r.description&&r.description.length>100?"...":""]})]})}),n.jsxs(gl,{children:[n.jsx(bl,{disabled:c,children:"Cancel"}),n.jsx(jl,{onClick:w,disabled:c,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:c?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(xn,{className:"h-4 w-4 mr-2"}),"Delete Issue"]})})]})]})]})]}),n.jsxs("form",{onSubmit:y,className:"space-y-6",children:[n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(ni,{className:"h-5 w-5"}),"Issue Information"]})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Issue Type *"}),n.jsx(fe,{value:m.type,onChange:N=>h(_=>({..._,type:N.target.value})),placeholder:"e.g., Broken/Damaged, Wrong Item"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Status *"}),n.jsxs(at,{value:m.status,onValueChange:N=>h(_=>({..._,status:N})),children:[n.jsx(nt,{children:n.jsx(it,{})}),n.jsx(st,{children:x.map(N=>n.jsx(ne,{value:N,children:N},N))})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Description *"}),n.jsx(gn,{value:m.description,onChange:N=>h(_=>({..._,description:N.target.value})),rows:4,placeholder:"Describe the issue in detail..."})]})]})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(ni,{className:"h-5 w-5"}),"Priority & Impact"]})}),n.jsxs(J,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Priority *"}),n.jsxs(at,{value:m.priority,onValueChange:N=>h(_=>({..._,priority:N})),children:[n.jsx(nt,{children:n.jsx(it,{})}),n.jsx(st,{children:p.map(N=>n.jsx(ne,{value:N.value,children:n.jsx(Ae,{className:N.color,children:N.label})},N.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Impact"}),n.jsxs(at,{value:m.impact,onValueChange:N=>h(_=>({..._,impact:N})),children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select impact level"})}),n.jsx(st,{children:g.map(N=>n.jsx(ne,{value:N,children:N},N))})]})]})]})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(Wr,{className:"h-5 w-5"}),"Timeline"]})}),n.jsxs(J,{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Expected Resolution"}),n.jsx(fe,{type:"date",value:m.expectedResolution,onChange:N=>h(_=>({..._,expectedResolution:N.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Replacement ETA"}),n.jsx(fe,{type:"date",value:m.replacementEta,onChange:N=>h(_=>({..._,replacementEta:N.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Delivery Date"}),n.jsx(fe,{type:"date",value:m.deliveryDate,onChange:N=>h(_=>({..._,deliveryDate:N.target.value}))})]})]})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(sr,{className:"h-5 w-5"}),"Resolution"]})}),n.jsxs(J,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Resolution Type"}),n.jsxs(at,{value:m.resolutionType,onValueChange:N=>h(_=>({..._,resolutionType:N})),children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select resolution type"})}),n.jsx(st,{children:j.map(N=>n.jsx(ne,{value:N,children:N},N))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Resolution Notes"}),n.jsx(fe,{value:m.resolutionNotes,onChange:N=>h(_=>({..._,resolutionNotes:N.target.value})),placeholder:"Add notes about the resolution..."})]})]})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5"}),"Tracking Information"]})}),n.jsxs(J,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Invoice Number"}),n.jsx(fe,{value:m.invoiceNumber,onChange:N=>h(_=>({..._,invoiceNumber:N.target.value})),placeholder:"Enter invoice number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Tracking Number"}),n.jsx(fe,{value:m.trackingNumber,onChange:N=>h(_=>({..._,trackingNumber:N.target.value})),placeholder:"Enter tracking number"})]})]})]}),n.jsx(Z,{children:n.jsxs(J,{className:"py-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(yo,{id:"ai",checked:m.aiActivated,onCheckedChange:N=>h(_=>({..._,aiActivated:N}))}),n.jsx(G,{htmlFor:"ai",children:"Enable AI-assisted communication"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(yo,{id:"notify",checked:m.autoNotifyVendor,onCheckedChange:N=>h(_=>({..._,autoNotifyVendor:N}))}),n.jsx(G,{htmlFor:"notify",children:"Auto-notify vendor"})]})]})}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(te,{type:"button",variant:"outline",onClick:()=>e(`/issues/${r.id}`),children:[n.jsx(tr,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsx(te,{type:"submit",disabled:o,children:o?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(fu,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})]})}):n.jsx(dt,{title:"Edit Issue",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(_t,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),n.jsx("p",{className:"text-lg font-medium",children:"Issue not found"}),n.jsx(te,{onClick:()=>e("/issues"),className:"mt-4",children:"Back to Issues"})]})})},Art=({payment:e,open:t,onOpenChange:r})=>{var f;const s=m=>({Paid:"bg-success/10 text-success border-success/20",Partial:"bg-warning/10 text-warning border-warning/20",Unpaid:"bg-muted text-muted-foreground border-border",Overdue:"bg-danger/10 text-danger border-danger/20"})[m]||"bg-muted";if(!e)return n.jsx(Zr,{open:t,onOpenChange:r,children:n.jsx(Hr,{className:"max-w-3xl",children:n.jsx(Jr,{children:n.jsx(en,{children:"Loading..."})})})});const a=e.total_amount??e.totalAmount??0,i=e.amount_paid??e.amountPaid??0,o=e.vendor_name??((f=e.vendor_details)==null?void 0:f.name)??e.vendor??"Unknown",l=e.order_reference??e.orderReference??"",c=e.due_date??e.dueDate??"",d=e.last_payment_date??e.lastPaymentDate,u=e.payment_history??e.paymentHistory??[];return n.jsx(Zr,{open:t,onOpenChange:r,children:n.jsxs(Hr,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[n.jsxs(Jr,{children:[n.jsxs(en,{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(An,{className:"h-5 w-5 text-primary"})}),"Payment History"]}),n.jsxs(ss,{children:["Complete payment record for ",n.jsx("span",{className:"font-semibold",children:o})," - ",l]})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-muted/30 rounded-lg border",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-xl font-bold",children:[a.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Amount Paid"}),n.jsxs("p",{className:"text-xl font-bold text-success",children:[i.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Balance"}),n.jsxs("p",{className:"text-xl font-bold text-warning",children:[(a-i).toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Status"}),n.jsx(Ae,{className:s(e.status),children:e.status})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Order Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 rounded-lg border bg-card",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Due Date"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-sm font-medium",children:c?Ht(new Date(c),"MMMM dd, yyyy"):"N/A"})]})]}),d&&n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Last Payment"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Br,{className:"h-4 w-4 text-success"}),n.jsx("p",{className:"text-sm font-medium",children:Ht(new Date(d),"MMMM dd, yyyy")})]})]}),e.notes&&n.jsxs("div",{className:"col-span-2 space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Notes"}),n.jsx("p",{className:"text-sm",children:e.notes})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Transaction History"}),u&&u.length>0?n.jsx("div",{className:"space-y-3",children:u.map((m,h)=>n.jsxs("div",{className:"relative",children:[h!==u.length-1&&n.jsx("div",{className:"absolute left-5 top-12 bottom-0 w-px bg-border"}),n.jsxs("div",{className:"flex gap-4 p-4 rounded-lg border bg-card hover:bg-muted/30 transition-colors",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"p-2 bg-success/10 rounded-full",children:n.jsx(Br,{className:"h-5 w-5 text-success"})})}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"flex items-start justify-between gap-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("p",{className:"font-semibold text-lg",children:[(m.amount||0).toLocaleString()," HUF"]}),n.jsxs(Ae,{variant:"outline",className:"text-xs",children:[n.jsx(ys,{className:"h-3 w-3 mr-1"}),m.method]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:m.date?Ht(new Date(m.date),"MMMM dd, yyyy"):"N/A"})]})}),(m.referenceNo||m.reference_no)&&n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"Ref:"}),n.jsx("span",{className:"font-mono bg-muted px-2 py-0.5 rounded",children:m.referenceNo||m.reference_no})]}),m.note&&n.jsx("p",{className:"text-sm text-muted-foreground italic",children:m.note})]})]})]},m.id||h))}):n.jsxs("div",{className:"text-center py-12 border rounded-lg bg-muted/20",children:[n.jsx(An,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-3"}),n.jsx("p",{className:"text-muted-foreground",children:"No payment transactions recorded yet"})]})]})]})]})})},Ert=({open:e,onOpenChange:t})=>{const{apartments:r,vendors:s,addPayment:a}=Rl(),[i,o]=v.useState({apartmentId:"",vendorId:"",orderReference:"",totalAmount:"",amountPaid:"",dueDate:"",paymentMethod:"",notes:"",bankName:"",accountNumber:"",accountHolder:"",swift:"",iban:"",cardNumber:"",cardHolder:"",expiryDate:"",cvv:""}),[l,c]=v.useState("bank"),d=(j,y)=>{o(w=>({...w,[j]:y}))},u=()=>{const j=parseFloat(i.totalAmount)||0,y=parseFloat(i.amountPaid)||0;return j-y},f=()=>{if(!i.apartmentId||!i.vendorId||!i.orderReference||!i.totalAmount||!i.dueDate){Be.error("Missing Required Fields",{description:"Please fill in all required fields"});return}const j=parseFloat(i.totalAmount),y=parseFloat(i.amountPaid)||0;if(isNaN(j)||j<=0){Be.error("Invalid Amount",{description:"Please enter a valid total amount"});return}const w=s.find(_=>_.id===i.vendorId);if(!w)return;let b="Unpaid";y>=j?b="Paid":y>0&&(b="Partial");const N=y>0?[{date:new Date().toISOString().split("T")[0],amount:y,method:i.paymentMethod||l,referenceNo:i.orderReference,note:"Initial payment"}]:[];a({apartmentId:i.apartmentId,vendor:w.name,orderReference:i.orderReference,totalAmount:j,amountPaid:y,dueDate:i.dueDate,status:b,lastPaymentDate:y>0?new Date().toISOString().split("T")[0]:void 0,notes:i.notes,paymentHistory:N}),Be.success("Payment Created",{description:`Payment record for ${w.name} has been created successfully`}),o({apartmentId:"",vendorId:"",orderReference:"",totalAmount:"",amountPaid:"",dueDate:"",paymentMethod:"",notes:"",bankName:"",accountNumber:"",accountHolder:"",swift:"",iban:"",cardNumber:"",cardHolder:"",expiryDate:"",cvv:""}),t(!1)},m=s.find(j=>j.id===i.vendorId),h=r.find(j=>j.id===i.apartmentId),x=u(),p=parseFloat(i.totalAmount)||0,g=parseFloat(i.amountPaid)||0;return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(Hr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Jr,{children:[n.jsx(en,{className:"text-2xl font-bold",children:"Create New Payment"}),n.jsx(ss,{children:"Create a comprehensive payment record with all necessary details"})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsx(Z,{children:n.jsxs(J,{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(An,{className:"h-5 w-5 text-primary"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Order Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"apartment",className:"flex items-center gap-2",children:[n.jsx(cr,{className:"h-4 w-4 text-muted-foreground"}),"Apartment ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsxs(at,{value:i.apartmentId,onValueChange:j=>d("apartmentId",j),children:[n.jsx(nt,{id:"apartment",children:n.jsx(it,{placeholder:"Select apartment"})}),n.jsx(st,{children:r.map(j=>n.jsx(ne,{value:j.id,children:j.name},j.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"vendor",className:"flex items-center gap-2",children:[n.jsx(Da,{className:"h-4 w-4 text-muted-foreground"}),"Vendor ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsxs(at,{value:i.vendorId,onValueChange:j=>d("vendorId",j),children:[n.jsx(nt,{id:"vendor",children:n.jsx(it,{placeholder:"Select vendor"})}),n.jsx(st,{children:s.map(j=>n.jsx(ne,{value:j.id,children:j.name},j.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"orderRef",children:["Order Reference ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsx(fe,{id:"orderRef",placeholder:"e.g., ORD-2025-001",value:i.orderReference,onChange:j=>d("orderReference",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"dueDate",className:"flex items-center gap-2",children:[n.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),"Due Date ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsx(fe,{id:"dueDate",type:"date",value:i.dueDate,onChange:j=>d("dueDate",j.target.value)})]})]})]})}),n.jsx(Z,{children:n.jsxs(J,{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(br,{className:"h-5 w-5 text-primary"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Payment Amount"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"totalAmount",children:["Total Amount (HUF) ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsx(fe,{id:"totalAmount",type:"number",placeholder:"0.00",value:i.totalAmount,onChange:j=>d("totalAmount",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"amountPaid",children:"Amount Paid (HUF)"}),n.jsx(fe,{id:"amountPaid",type:"number",placeholder:"0.00",value:i.amountPaid,onChange:j=>d("amountPaid",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Balance (HUF)"}),n.jsx("div",{className:ge("h-10 px-3 rounded-md border flex items-center font-semibold",x>0?"bg-warning/10 text-warning border-warning/20":"bg-success/10 text-success border-success/20"),children:x.toFixed(2)})]})]}),p>0&&n.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total Amount:"}),n.jsxs("span",{className:"font-semibold",children:[p.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Amount Paid:"}),n.jsxs("span",{className:"font-semibold text-success",children:[g.toLocaleString()," HUF"]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-semibold",children:"Outstanding Balance:"}),n.jsxs("span",{className:ge("text-lg font-bold",x>0?"text-warning":"text-success"),children:[x.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[x===0&&n.jsxs(Ae,{className:"bg-success/10 text-success border-success/20",children:[n.jsx(sr,{className:"h-3 w-3 mr-1"}),"Fully Paid"]}),x>0&&g>0&&n.jsxs(Ae,{className:"bg-warning/10 text-warning border-warning/20",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Partial Payment"]}),x>0&&g===0&&n.jsx(Ae,{variant:"outline",children:"Unpaid"})]})]})]})}),n.jsx(Z,{children:n.jsxs(J,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(ys,{className:"h-5 w-5 text-primary"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Payment Details"})]}),n.jsxs(ko,{value:l,onValueChange:j=>c(j),children:[n.jsxs(Xi,{className:"grid w-full grid-cols-3",children:[n.jsxs(Vt,{value:"bank",className:"flex items-center gap-2",children:[n.jsx(d0,{className:"h-4 w-4"}),"Bank Transfer"]}),n.jsxs(Vt,{value:"card",className:"flex items-center gap-2",children:[n.jsx(ys,{className:"h-4 w-4"}),"Card Payment"]}),n.jsxs(Vt,{value:"cash",className:"flex items-center gap-2",children:[n.jsx(br,{className:"h-4 w-4"}),"Cash"]})]}),n.jsx(Yt,{value:"bank",className:"space-y-4 mt-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"bankName",children:"Bank Name"}),n.jsx(fe,{id:"bankName",placeholder:"e.g., OTP Bank",value:i.bankName,onChange:j=>d("bankName",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"accountHolder",children:"Account Holder"}),n.jsx(fe,{id:"accountHolder",placeholder:"Full name",value:i.accountHolder,onChange:j=>d("accountHolder",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"accountNumber",children:"Account Number"}),n.jsx(fe,{id:"accountNumber",placeholder:"XXXX-XXXX-XXXX-XXXX",value:i.accountNumber,onChange:j=>d("accountNumber",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"iban",children:"IBAN"}),n.jsx(fe,{id:"iban",placeholder:"HU42 1177 3016 1111 1018 0000 0000",value:i.iban,onChange:j=>d("iban",j.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"swift",children:"SWIFT/BIC Code"}),n.jsx(fe,{id:"swift",placeholder:"e.g., OTPVHUHB",value:i.swift,onChange:j=>d("swift",j.target.value)})]})]})}),n.jsx(Yt,{value:"card",className:"space-y-4 mt-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"cardNumber",children:"Card Number"}),n.jsx(fe,{id:"cardNumber",placeholder:"XXXX XXXX XXXX XXXX",maxLength:19,value:i.cardNumber,onChange:j=>d("cardNumber",j.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"cardHolder",children:"Card Holder Name"}),n.jsx(fe,{id:"cardHolder",placeholder:"Name as on card",value:i.cardHolder,onChange:j=>d("cardHolder",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"expiryDate",children:"Expiry Date"}),n.jsx(fe,{id:"expiryDate",placeholder:"MM/YY",maxLength:5,value:i.expiryDate,onChange:j=>d("expiryDate",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"cvv",children:"CVV"}),n.jsx(fe,{id:"cvv",type:"password",placeholder:"XXX",maxLength:4,value:i.cvv,onChange:j=>d("cvv",j.target.value)})]})]})}),n.jsx(Yt,{value:"cash",className:"mt-4",children:n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg text-center text-muted-foreground",children:[n.jsx(d0,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/50"}),n.jsx("p",{className:"text-sm",children:"Cash payment selected. No additional details required."})]})})]})]})}),n.jsx(Z,{children:n.jsxs(J,{className:"p-6 space-y-2",children:[n.jsx(G,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(gn,{id:"notes",placeholder:"Add any additional payment notes or instructions...",rows:3,value:i.notes,onChange:j=>d("notes",j.target.value)})]})}),(h||m)&&n.jsx(Z,{className:"bg-primary/5 border-primary/20",children:n.jsxs(J,{className:"p-6",children:[n.jsx("h3",{className:"font-semibold mb-3 text-primary",children:"Payment Summary"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[h&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Apartment:"}),n.jsx("span",{className:"font-medium",children:h.name})]}),m&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Vendor:"}),n.jsx("span",{className:"font-medium",children:m.name})]}),i.orderReference&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Order Reference:"}),n.jsx("span",{className:"font-mono font-medium",children:i.orderReference})]}),i.dueDate&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Due Date:"}),n.jsx("span",{className:"font-medium",children:new Date(i.dueDate).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Payment Method:"}),n.jsx(Ae,{variant:"outline",children:l.toUpperCase()})]})]})]})})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(te,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx(te,{onClick:f,className:"px-8",children:"Create Payment"})]})]})})};function Prt(){return n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(S,{className:"h-11 w-40 rounded-md"}),n.jsx(S,{className:"h-10 w-36 rounded-md"})]})}function krt(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{iconBg:"bg-primary/10"},{iconBg:"bg-green-500/10"},{iconBg:"bg-yellow-500/10"},{iconBg:"bg-red-500/10"}].map((e,t)=>n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-3 w-24"}),n.jsx(S,{className:"h-8 w-32"}),t===3&&n.jsx(S,{className:"h-3 w-20 mt-1"})]}),n.jsx("div",{className:`p-3 rounded-lg ${e.iconBg}`,children:n.jsx(S,{className:"h-6 w-6 rounded"})})]})})},t))})}function Trt(){return n.jsxs(Z,{children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-6 w-40"}),n.jsx(S,{className:"h-4 w-64"})]}),n.jsx(S,{className:"h-10 w-[130px] rounded-md"})]})}),n.jsxs(J,{children:[n.jsx("div",{className:"grid w-full grid-cols-3 bg-muted rounded-lg p-1 mb-6",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-4 w-24"})]},t))}),n.jsx("div",{className:"h-[350px] flex items-end justify-between gap-2 px-4",children:[...Array(12)].map((e,t)=>n.jsxs("div",{className:"flex-1 flex flex-col justify-end gap-1",children:[n.jsx(S,{className:"w-full rounded-t",style:{height:`${Math.random()*60+40}%`}}),n.jsx(S,{className:"h-3 w-full"})]},t))})]})]})}function Ort(){return n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{className:"h-6 w-32"}),n.jsx(S,{className:"h-9 w-28 rounded-md"})]})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[n.jsx(S,{className:"h-10 flex-1 rounded-md"}),n.jsx(S,{className:"h-10 w-[140px] rounded-md"}),n.jsx(S,{className:"h-10 w-[140px] rounded-md"}),n.jsx(S,{className:"h-10 w-[140px] rounded-md"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]},t))})]})]})}function Drt(){return n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{className:"h-6 w-48"}),n.jsx(S,{className:"h-9 w-32 rounded-md"})]})}),n.jsx(J,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Order Ref","Vendor","Apartment","Due Date","Total","Paid","Outstanding","Status","Actions"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(S,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(8)].map((e,t)=>n.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-3 w-32"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"h-4 w-28"}),n.jsx(S,{className:"h-3 w-36"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-32"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-5 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx(S,{className:"h-8 w-8 rounded"}),n.jsx(S,{className:"h-8 w-8 rounded"}),n.jsx(S,{className:"h-8 w-8 rounded"})]})})]},t))})]})})})]})}function Irt(){return n.jsxs("div",{className:"space-y-6",children:[n.jsx(Prt,{}),n.jsx(krt,{}),n.jsx(Trt,{}),n.jsx(Ort,{}),n.jsx(Drt,{})]})}const Rrt=()=>{var jt,Ze;const e=dr(),{apartments:t,vendors:r,updatePayment:s,addPaymentToHistory:a}=Rl(),{data:i,isLoading:o,error:l,refetch:c}=p3({page_size:100}),d=RBe();KX();const u=x3(),f=(i==null?void 0:i.results)||[],[m,h]=v.useState(""),[x,p]=v.useState("All"),[g,j]=v.useState("All"),[y,w]=v.useState("All"),[b,N]=v.useState(""),[_,C]=v.useState(""),[A,E]=v.useState(""),[k,O]=v.useState(""),[I,W]=v.useState(null),[H,F]=v.useState(!1),[T,P]=v.useState(!1),[M,D]=v.useState(!1),[Y,ae]=v.useState("30d"),[R,V]=v.useState("trends"),[L,K]=v.useState(!1),[le,me]=v.useState(!1),[B,X]=v.useState(null),oe=ye=>{var Ke;return((Ke=ye.apartment_details)==null?void 0:Ke.name)||"Unknown"},Ne=ye=>({Paid:"bg-success/10 text-success border-success/20",Partial:"bg-warning/10 text-warning border-warning/20",Unpaid:"bg-muted text-muted-foreground border-border",Overdue:"bg-danger/10 text-danger border-danger/20"})[ye]||"bg-muted",ue=ye=>{switch(ye){case"Paid":return n.jsx(Br,{className:"h-3.5 w-3.5"});case"Partial":return n.jsx(jr,{className:"h-3.5 w-3.5"});case"Overdue":return n.jsx(_t,{className:"h-3.5 w-3.5"});default:return n.jsx(br,{className:"h-3.5 w-3.5"})}},ve=v.useMemo(()=>f.filter(ye=>{var yt;const Ke=oe(ye),Ct=ye.vendor_name||((yt=ye.vendor_details)==null?void 0:yt.name)||"",Et=Ct.toLowerCase().includes(m.toLowerCase())||ye.order_reference.toLowerCase().includes(m.toLowerCase())||Ke.toLowerCase().includes(m.toLowerCase()),ur=x==="All"||ye.status===x,vr=g==="All"||Ct===g,Pn=y==="All"||ye.apartment===y;let Ur=!0;if(b||_){const Rt=new Date(ye.due_date);b&&(Ur=Ur&&Rt>=new Date(b)),_&&(Ur=Ur&&Rt<=new Date(_))}let Er=!0;if(A||k){const Rt=ye.total_amount||0;A&&(Er=Er&&Rt>=parseFloat(A)),k&&(Er=Er&&Rt<=parseFloat(k))}return Et&&ur&&vr&&Pn&&Ur&&Er}),[f,m,x,g,y,b,_,A,k]),xe=ve.reduce((ye,Ke)=>ye+(Ke.total_amount||0),0),Ee=ve.reduce((ye,Ke)=>ye+(Ke.amount_paid||0),0),Me=xe-Ee,Te=ve.filter(ye=>ye.status==="Overdue").length,se=ve.filter(ye=>ye.status==="Partial").length,he=Array.from(new Set(f.map(ye=>{var Ke;return ye.vendor_name||((Ke=ye.vendor_details)==null?void 0:Ke.name)||""}))).filter(Boolean).sort(),ce=()=>{h(""),p("All"),j("All"),w("All"),N(""),C(""),E(""),O("")},be=[m,x!=="All",g!=="All",y!=="All",b,_,A,k].filter(Boolean).length,$e=ye=>{W(ye),F(!0)},De=()=>{Be.success("Export Started",{description:"Your payment report is being generated..."})},de=v.useMemo(()=>{const ye=new Date;let Ke;switch(Y){case"7d":_c(ye,7),Ke=7;break;case"30d":_c(ye,30),Ke=30;break;case"90d":_c(ye,90),Ke=90;break;case"1y":m0e(ye,12),Ke=365;break;default:_c(ye,30),Ke=30}const Ct=[];for(let Et=Ke;Et>=0;Et--){const ur=_c(ye,Et),vr=Ht(ur,"yyyy-MM-dd"),Ur=f.filter(Er=>{var yt;return Er.last_payment_date===vr?!0:(yt=Er.payment_history)==null?void 0:yt.some(Rt=>Rt.date===vr)}).reduce((Er,yt)=>{var Lt;const Rt=((Lt=yt.payment_history)==null?void 0:Lt.filter(Gr=>Gr.date===vr))||[];return Er+Rt.reduce((Gr,is)=>Gr+(is.amount||0),0)},0);Ct.push({date:Ht(ur,"MMM dd"),fullDate:vr,paid:Ur,pending:f.filter(Er=>Er.due_date===vr&&Er.status!=="Paid").reduce((Er,yt)=>Er+(yt.outstanding_amount||0),0)})}return Ct},[f,Y]),Ie=v.useMemo(()=>{const ye={Paid:f.filter(Ke=>Ke.status==="Paid").length,Partial:f.filter(Ke=>Ke.status==="Partial").length,Unpaid:f.filter(Ke=>Ke.status==="Unpaid").length,Overdue:f.filter(Ke=>Ke.status==="Overdue").length};return[{name:"Paid",value:ye.Paid,color:"hsl(var(--success))"},{name:"Partial",value:ye.Partial,color:"hsl(var(--warning))"},{name:"Unpaid",value:ye.Unpaid,color:"hsl(var(--muted-foreground))"},{name:"Overdue",value:ye.Overdue,color:"hsl(var(--danger))"}].filter(Ke=>Ke.value>0)},[f]),ot=v.useMemo(()=>{const ye={};return f.forEach(Ke=>{var Et;const Ct=Ke.vendor_name||((Et=Ke.vendor_details)==null?void 0:Et.name)||"Unknown";ye[Ct]||(ye[Ct]={total:0,paid:0,pending:0}),ye[Ct].total+=Ke.total_amount||0,ye[Ct].paid+=Ke.amount_paid||0,ye[Ct].pending+=Ke.outstanding_amount||0}),Object.entries(ye).map(([Ke,Ct])=>({vendor:Ke,...Ct})).sort((Ke,Ct)=>Ct.total-Ke.total).slice(0,5)},[f]);return o?n.jsx(dt,{title:"Payments",children:n.jsx(Irt,{})}):n.jsxs(dt,{title:"Payments",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs(te,{onClick:()=>e("/payments/new"),size:"lg",className:"h-11",children:[n.jsx(Gn,{className:"h-5 w-5 mr-2"}),"Create Payment"]}),n.jsxs(te,{variant:"outline",onClick:De,children:[n.jsx(Iv,{className:"h-4 w-4 mr-2"}),"Export Report"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold tracking-tight",children:[xe.toLocaleString()," HUF"]})]}),n.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:n.jsx(br,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Total Paid"}),n.jsxs("p",{className:"text-2xl font-bold tracking-tight text-success",children:[Ee.toLocaleString()," HUF"]})]}),n.jsx("div",{className:"p-3 bg-success/10 rounded-lg",children:n.jsx(Br,{className:"h-6 w-6 text-success"})})]})})}),n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Outstanding"}),n.jsxs("p",{className:"text-2xl font-bold tracking-tight text-warning",children:[Me.toLocaleString()," HUF"]})]}),n.jsx("div",{className:"p-3 bg-warning/10 rounded-lg",children:n.jsx(jr,{className:"h-6 w-6 text-warning"})})]})})}),n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Overdue"}),n.jsx("p",{className:"text-2xl font-bold tracking-tight text-danger",children:Te}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[se," Partial"]})]}),n.jsx("div",{className:"p-3 bg-danger/10 rounded-lg",children:n.jsx(_t,{className:"h-6 w-6 text-danger"})})]})})})]}),n.jsxs(Z,{children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(Ue,{className:"text-lg font-semibold",children:"Payment Analytics"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Visual insights into payment trends and status"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(at,{value:Y,onValueChange:ye=>ae(ye),children:[n.jsx(nt,{className:"w-[130px]",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"7d",children:"Last 7 days"}),n.jsx(ne,{value:"30d",children:"Last 30 days"}),n.jsx(ne,{value:"90d",children:"Last 90 days"}),n.jsx(ne,{value:"1y",children:"Last year"})]})]})})]})}),n.jsx(J,{children:n.jsxs(ko,{value:R,onValueChange:ye=>V(ye),children:[n.jsxs(Xi,{className:"grid w-full grid-cols-3 mb-6",children:[n.jsxs(Vt,{value:"trends",className:"flex items-center gap-2",children:[n.jsx(Ff,{className:"h-4 w-4"}),"Payment Trends"]}),n.jsxs(Vt,{value:"status",className:"flex items-center gap-2",children:[n.jsx(Br,{className:"h-4 w-4"}),"Status Distribution"]}),n.jsxs(Vt,{value:"vendors",className:"flex items-center gap-2",children:[n.jsx(ri,{className:"h-4 w-4"}),"Vendor Comparison"]})]}),n.jsx(Yt,{value:"trends",className:"mt-0",children:n.jsx(fn,{width:"100%",height:350,children:n.jsxs(qLe,{data:de,children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorPaid",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"hsl(var(--success))",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"hsl(var(--success))",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorPending",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"hsl(var(--warning))",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"hsl(var(--warning))",stopOpacity:0})]})]}),n.jsx(Bn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(an,{dataKey:"date",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(on,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:ye=>`${(ye/1e3).toFixed(0)}k`}),n.jsx(fr,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:ye=>[`${ye.toLocaleString()} HUF`,""]}),n.jsx(nl,{}),n.jsx(rd,{type:"monotone",dataKey:"paid",stroke:"hsl(var(--success))",fillOpacity:1,fill:"url(#colorPaid)",name:"Paid"}),n.jsx(rd,{type:"monotone",dataKey:"pending",stroke:"hsl(var(--warning))",fillOpacity:1,fill:"url(#colorPending)",name:"Pending"})]})})}),n.jsx(Yt,{value:"status",className:"mt-0",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(fn,{width:"100%",height:350,children:n.jsxs(Fg,{children:[n.jsx(Mi,{data:Ie,cx:"50%",cy:"50%",labelLine:!1,label:({name:ye,percent:Ke})=>`${ye}: ${(Ke*100).toFixed(0)}%`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:Ie.map((ye,Ke)=>n.jsx(ba,{fill:ye.color},`cell-${Ke}`))}),n.jsx(fr,{})]})}),n.jsx("div",{className:"flex flex-col justify-center space-y-4",children:Ie.map(ye=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:ye.color}}),n.jsx("span",{className:"font-medium",children:ye.name})]}),n.jsx("span",{className:"text-2xl font-bold",children:ye.value})]},ye.name))})]})}),n.jsx(Yt,{value:"vendors",className:"mt-0",children:n.jsx(fn,{width:"100%",height:350,children:n.jsxs(ja,{data:ot,children:[n.jsx(Bn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(an,{dataKey:"vendor",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(on,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:ye=>`${(ye/1e3).toFixed(0)}k`}),n.jsx(fr,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:ye=>[`${ye.toLocaleString()} HUF`,""]}),n.jsx(nl,{}),n.jsx(wn,{dataKey:"paid",fill:"hsl(var(--success))",name:"Paid",radius:[4,4,0,0]}),n.jsx(wn,{dataKey:"pending",fill:"hsl(var(--warning))",name:"Pending",radius:[4,4,0,0]})]})})})]})})]}),n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(ca,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{placeholder:"Search by vendor, order reference, or apartment...",value:m,onChange:ye=>h(ye.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"flex gap-2 flex-wrap lg:flex-nowrap",children:[n.jsxs(at,{value:x,onValueChange:p,children:[n.jsx(nt,{className:"w-full sm:w-[140px]",children:n.jsx(it,{placeholder:"Status"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"All",children:"All Status"}),n.jsx(ne,{value:"Paid",children:"Paid"}),n.jsx(ne,{value:"Partial",children:"Partial"}),n.jsx(ne,{value:"Unpaid",children:"Unpaid"}),n.jsx(ne,{value:"Overdue",children:"Overdue"})]})]}),n.jsxs(at,{value:g,onValueChange:j,children:[n.jsx(nt,{className:"w-full sm:w-[140px]",children:n.jsx(it,{placeholder:"Vendor"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"All",children:"All Vendors"}),he.map(ye=>n.jsx(ne,{value:ye,children:ye},ye))]})]}),n.jsxs(te,{variant:L?"default":"outline",onClick:()=>K(!L),className:"relative",children:[n.jsx(Rv,{className:"h-4 w-4 mr-2"}),"Filters",be>0&&n.jsx(Ae,{className:"ml-2 h-5 w-5 p-0 flex items-center justify-center bg-primary text-primary-foreground",children:be}),L?n.jsx(pN,{className:"h-4 w-4 ml-2"}):n.jsx(Au,{className:"h-4 w-4 ml-2"})]})]})]}),L&&n.jsxs("div",{className:"pt-4 border-t space-y-4 animate-slide-down",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Advanced Filters"}),be>0&&n.jsxs(te,{variant:"ghost",size:"sm",onClick:ce,className:"h-8 text-xs",children:[n.jsx(us,{className:"h-3 w-3 mr-1"}),"Clear All"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{className:"text-xs font-medium text-muted-foreground",children:"Apartment"}),n.jsxs(at,{value:y,onValueChange:w,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"All Apartments"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"All",children:"All Apartments"}),t.map(ye=>n.jsx(ne,{value:ye.id,children:ye.name},ye.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{className:"text-xs font-medium text-muted-foreground",children:"Due Date From"}),n.jsx(fe,{type:"date",value:b,onChange:ye=>N(ye.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{className:"text-xs font-medium text-muted-foreground",children:"Due Date To"}),n.jsx(fe,{type:"date",value:_,onChange:ye=>C(ye.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{className:"text-xs font-medium text-muted-foreground",children:"Min Amount (HUF)"}),n.jsx(fe,{type:"number",placeholder:"0",value:A,onChange:ye=>E(ye.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{className:"text-xs font-medium text-muted-foreground",children:"Max Amount (HUF)"}),n.jsx(fe,{type:"number",placeholder:"1000000",value:k,onChange:ye=>O(ye.target.value)})]})]}),be>0&&n.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[m&&n.jsxs(Ae,{variant:"secondary",className:"gap-1",children:["Search: ",m,n.jsx(us,{className:"h-3 w-3 cursor-pointer",onClick:()=>h("")})]}),x!=="All"&&n.jsxs(Ae,{variant:"secondary",className:"gap-1",children:["Status: ",x,n.jsx(us,{className:"h-3 w-3 cursor-pointer",onClick:()=>p("All")})]}),g!=="All"&&n.jsxs(Ae,{variant:"secondary",className:"gap-1",children:["Vendor: ",g,n.jsx(us,{className:"h-3 w-3 cursor-pointer",onClick:()=>j("All")})]}),y!=="All"&&n.jsxs(Ae,{variant:"secondary",className:"gap-1",children:["Apartment: ",((jt=t.find(ye=>ye.id===y))==null?void 0:jt.name)||y,n.jsx(us,{className:"h-3 w-3 cursor-pointer",onClick:()=>w("All")})]}),b&&n.jsxs(Ae,{variant:"secondary",className:"gap-1",children:["From: ",Ht(new Date(b),"MMM dd, yyyy"),n.jsx(us,{className:"h-3 w-3 cursor-pointer",onClick:()=>N("")})]}),_&&n.jsxs(Ae,{variant:"secondary",className:"gap-1",children:["To: ",Ht(new Date(_),"MMM dd, yyyy"),n.jsx(us,{className:"h-3 w-3 cursor-pointer",onClick:()=>C("")})]}),A&&n.jsxs(Ae,{variant:"secondary",className:"gap-1",children:["Min: ",parseFloat(A).toLocaleString()," HUF",n.jsx(us,{className:"h-3 w-3 cursor-pointer",onClick:()=>E("")})]}),k&&n.jsxs(Ae,{variant:"secondary",className:"gap-1",children:["Max: ",parseFloat(k).toLocaleString()," HUF",n.jsx(us,{className:"h-3 w-3 cursor-pointer",onClick:()=>O("")})]})]})]}),n.jsx("div",{className:"flex items-center justify-between pt-2 border-t",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",n.jsx("span",{className:"font-semibold text-foreground",children:ve.length})," of"," ",n.jsx("span",{className:"font-semibold text-foreground",children:f.length})," payments"]})})]})})}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsx(Ue,{className:"text-lg font-semibold",children:"Payment Records"})}),n.jsx(J,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Os,{children:[n.jsx(Ds,{children:n.jsxs(Ut,{className:"bg-muted/50",children:[n.jsx(ke,{className:"font-semibold",children:"Vendor"}),n.jsx(ke,{className:"font-semibold",children:"Order Ref"}),n.jsx(ke,{className:"font-semibold",children:"Apartment"}),n.jsx(ke,{className:"font-semibold text-right",children:"Total Amount"}),n.jsx(ke,{className:"font-semibold text-right",children:"Paid"}),n.jsx(ke,{className:"font-semibold text-right",children:"Balance"}),n.jsx(ke,{className:"font-semibold",children:"Due Date"}),n.jsx(ke,{className:"font-semibold",children:"Status"}),n.jsx(ke,{className:"font-semibold text-center",children:"Actions"})]})}),n.jsx(Is,{children:ve.length===0?n.jsx(Ut,{children:n.jsx(Se,{colSpan:9,className:"text-center py-12 text-muted-foreground",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx($b,{className:"h-12 w-12 text-muted-foreground/50"}),n.jsx("p",{children:"No payments found matching your filters"})]})})}):ve.map(ye=>{var yt;const Ke=ye.total_amount||0,Ct=ye.amount_paid||0,Et=ye.outstanding_amount||0,ur=ye.status==="Overdue",Ur=new Date(ye.due_date)<new Date&&ye.status!=="Paid",Er=ye.vendor_name||((yt=ye.vendor_details)==null?void 0:yt.name)||"Unknown";return n.jsxs(Ut,{className:ge("transition-colors cursor-pointer hover:bg-muted/50",ur&&"bg-danger/5 hover:bg-danger/10"),onClick:()=>e(`/payments/${ye.id}`),children:[n.jsxs(Se,{children:[n.jsx("div",{className:"font-medium text-foreground",children:Er}),ye.notes&&n.jsx("div",{className:"text-xs text-muted-foreground mt-0.5 max-w-[200px] truncate",children:ye.notes})]}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx($b,{className:"h-3.5 w-3.5 text-muted-foreground"}),n.jsx("span",{className:"font-mono text-sm",children:ye.order_reference})]})}),n.jsx(Se,{children:n.jsx(Ae,{variant:"outline",className:"font-normal",children:oe(ye)})}),n.jsx(Se,{className:"text-right",children:n.jsxs("span",{className:"font-semibold",children:[Ke.toLocaleString()," HUF"]})}),n.jsx(Se,{className:"text-right",children:Ct>0?n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs("div",{className:"font-semibold text-success",children:[Ct.toLocaleString()," HUF"]}),ye.last_payment_date&&n.jsx("div",{className:"text-xs text-muted-foreground",children:Ht(new Date(ye.last_payment_date),"MMM dd")})]}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(Se,{className:"text-right",children:Et>0?n.jsxs("span",{className:ge("font-semibold",ur?"text-danger":"text-warning"),children:[Et.toLocaleString()," HUF"]}):n.jsx("span",{className:"text-success",children:" Paid"})}),n.jsx(Se,{children:n.jsx("div",{className:ge("text-sm",Ur&&"text-danger font-semibold"),children:Ht(new Date(ye.due_date),"MMM dd, yyyy")})}),n.jsx(Se,{children:n.jsxs(Ae,{className:Ne(ye.status),children:[ue(ye.status),n.jsx("span",{className:"ml-1",children:ye.status})]})}),n.jsx(Se,{className:"text-center",onClick:Rt=>Rt.stopPropagation(),children:n.jsx("div",{className:"flex items-center justify-center gap-1",children:n.jsxs(Jv,{children:[n.jsx(ey,{asChild:!0,children:n.jsx(te,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(y7,{className:"h-4 w-4"})})}),n.jsxs(Xp,{align:"end",children:[n.jsxs(In,{onClick:()=>e(`/payments/${ye.id}`),children:[n.jsx(ti,{className:"h-4 w-4 mr-2"}),"View Details"]}),ye.status!=="Paid"&&n.jsxs(n.Fragment,{children:[n.jsx(Ic,{}),n.jsxs(In,{onClick:()=>$e(ye),className:"text-success focus:text-success",children:[n.jsx(br,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]}),n.jsx(Ic,{}),n.jsxs(In,{onClick:()=>e(`/payments/${ye.id}/edit`),children:[n.jsx(Gs,{className:"h-4 w-4 mr-2"}),"Edit Payment"]}),n.jsx(Ic,{}),n.jsxs(In,{className:"text-danger focus:text-danger",onClick:()=>{X(ye),me(!0)},children:[n.jsx(xn,{className:"h-4 w-4 mr-2"}),"Delete Payment"]})]})]})})})]},ye.id)})})]})})})]})]}),n.jsx(g3,{payment:I,open:H,onOpenChange:F,onSave:async(ye,Ke,Ct,Et)=>{if(I)try{await u.mutateAsync({payment:I.id,date:new Date().toISOString().split("T")[0],amount:ye,method:Ke,reference_no:Ct,note:Et}),Be.success("Payment Recorded",{description:`${ye.toLocaleString()} HUF recorded successfully`}),F(!1),c()}catch{Be.error("Failed to record payment")}}}),n.jsx(Art,{payment:I,open:T,onOpenChange:P}),n.jsx(Ert,{open:M,onOpenChange:D}),n.jsx(lc,{open:le,onOpenChange:me,children:n.jsxs(pl,{className:"max-w-md",onKeyDown:async ye=>{if(ye.key==="Enter"&&B&&!d.isPending){ye.preventDefault();try{await d.mutateAsync(B.id),Be.success("Payment Deleted",{description:`Payment ${B.order_reference} has been deleted.`}),me(!1),X(null),c()}catch{Be.error("Failed to delete payment")}}},children:[n.jsxs(xl,{className:"space-y-4",children:[n.jsx("div",{className:"mx-auto w-14 h-14 rounded-full bg-danger/10 flex items-center justify-center",children:n.jsx(ni,{className:"h-7 w-7 text-danger"})}),n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx(vl,{className:"text-xl",children:"Delete Payment"}),n.jsx(yl,{className:"text-base",children:"Are you sure you want to delete this payment record?"})]}),B&&n.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 border space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Order Reference"}),n.jsx("span",{className:"font-semibold",children:B.order_reference})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Vendor"}),n.jsx("span",{className:"font-medium",children:B.vendor_name||((Ze=B.vendor_details)==null?void 0:Ze.name)||"N/A"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Amount"}),n.jsxs("span",{className:"font-semibold text-primary",children:[(B.total_amount||0).toLocaleString()," HUF"]})]})]}),n.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:[n.jsx(ni,{className:"h-3.5 w-3.5 inline mr-1 text-warning"}),"This action cannot be undone. All payment history will be lost."]})]}),n.jsxs(gl,{className:"sm:space-x-3 mt-2",children:[n.jsxs(bl,{className:"flex-1 sm:flex-none",children:[n.jsx(Fl,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsx(jl,{className:"flex-1 sm:flex-none bg-danger text-danger-foreground hover:bg-danger/90",disabled:d.isPending,onClick:async()=>{if(B)try{await d.mutateAsync(B.id),Be.success("Payment Deleted",{description:`Payment ${B.order_reference} has been deleted.`}),me(!1),X(null),c()}catch{Be.error("Failed to delete payment")}},children:d.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(xn,{className:"h-4 w-4 mr-2"}),"Delete Payment"]})})]})]})})]})},Mrt=()=>{var T,P,M;const e=dr(),[t]=EN(),[r,s]=v.useState("select-order"),[a,i]=v.useState(null),[o,l]=v.useState([]),[c,d]=v.useState({due_date:"",total_amount:"",needs_to_pay:"",shipping_cost:"",discount:"",payment_method:"Bank Transfer",reference_number:"",notes:"",bank_name:"",account_holder:"",account_number:"",iban:"",card_holder:"",card_last_four:""}),[u,f]=v.useState(""),[m,h]=v.useState(!1),{orders:x,loading:p}=YQ({page_size:100}),{data:g}=p3({page_size:200}),j=(g==null?void 0:g.results)||[],y=DBe(),w=v.useMemo(()=>{const D=new Map;return j.forEach(Y=>{Y.order&&(!D.get(Y.order)||Y.status==="Paid")&&D.set(Y.order,{status:Y.status,paymentId:Y.id})}),D},[j]),b=v.useMemo(()=>x.filter(D=>{const Y=w.get(D.id);return!Y||Y.status!=="Paid"}),[x,w]),N=v.useMemo(()=>{if(!u.trim())return b;const D=u.toLowerCase();return b.filter(Y=>{var ae,R,V;return((ae=Y.po_number)==null?void 0:ae.toLowerCase().includes(D))||((R=Y.vendor_name)==null?void 0:R.toLowerCase().includes(D))||((V=Y.apartment_name)==null?void 0:V.toLowerCase().includes(D))})},[b,u]),_=v.useMemo(()=>!a||!a.items||o.length===0?0:a.items.filter(D=>o.includes(D.id||"")).reduce((D,Y)=>{const ae=parseFloat(String(Y.unit_price||0)),R=Y.quantity||1;return D+ae*R},0),[a,o]);v.useEffect(()=>{if(a&&a.items){const D=t.get("product");if(D){const ae=a.items.find(R=>R.product===D);ae&&ae.id?l([ae.id]):l(a.items.map(R=>R.id||"").filter(Boolean))}else l(a.items.map(ae=>ae.id||"").filter(Boolean));let Y;a.expected_delivery?Y=new Date(a.expected_delivery):(Y=new Date,Y.setDate(Y.getDate()+30)),d(ae=>({...ae,due_date:Y.toISOString().split("T")[0],total_amount:"",needs_to_pay:"0",shipping_cost:"0",discount:"0"}))}},[a,t]),v.useEffect(()=>{_>0&&d(D=>({...D,total_amount:Math.round(_).toString()}))},[_]),v.useEffect(()=>{const D=t.get("order");if(D&&x.length>0&&!a){const Y=x.find(ae=>ae.id===D);Y&&E(Y)}},[t,x,a]);const C=v.useMemo(()=>{const D=parseInt(c.total_amount)||0,Y=parseInt(c.shipping_cost)||0,ae=parseInt(c.discount)||0;return D+Y-ae},[c.total_amount,c.shipping_cost,c.discount]),A=v.useMemo(()=>{const D=parseInt(c.needs_to_pay)||0;return C-D},[C,c.needs_to_pay]),E=async D=>{h(!0);try{const Y=await ps.getOrder(D.id);i(Y),s("review-items")}catch(Y){console.error("Error fetching order details:",Y),Be.error("Failed to load order details")}finally{h(!1)}},k=D=>{l(Y=>Y.includes(D)?Y.filter(ae=>ae!==D):[...Y,D])},O=()=>{if(!a||!a.items)return;const D=a.items.map(Y=>Y.id||"").filter(Boolean);o.length===D.length?l([]):l(D)},I=async()=>{var D,Y;if(!a){Be.error("Please select an order");return}if(o.length===0){Be.error("Please select at least one item");return}if(!c.due_date){Be.error("Please set a due date");return}try{const ae=parseInt(c.needs_to_pay)||0,R={order:a.id,order_items:o,due_date:c.due_date,total_amount:parseInt(c.total_amount)||0,shipping_cost:parseInt(c.shipping_cost)||0,discount:parseInt(c.discount)||0,amount_paid:0,payment_method:c.payment_method,reference_number:c.reference_number,notes:c.notes,bank_name:c.bank_name,account_holder:c.account_holder,account_number:c.account_number,iban:c.iban,card_holder:c.card_holder,card_last_four:c.card_last_four},V=await y.mutateAsync(R);ae>0&&await fd.createPaymentHistory({payment:V.id,date:new Date().toISOString().split("T")[0],amount:ae,method:c.payment_method||"Bank Transfer",reference_no:c.reference_number||"",note:"Initial payment when creating payment record"}),Be.success("Payment created successfully!"),e("/payments")}catch(ae){console.error("Error creating payment:",ae),Be.error(((Y=(D=ae.response)==null?void 0:D.data)==null?void 0:Y.message)||"Failed to create payment")}},W=D=>({pending:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",confirmed:"bg-blue-500/10 text-blue-600 border-blue-500/20",processing:"bg-purple-500/10 text-purple-600 border-purple-500/20",shipped:"bg-indigo-500/10 text-indigo-600 border-indigo-500/20",delivered:"bg-green-500/10 text-green-600 border-green-500/20",cancelled:"bg-red-500/10 text-red-600 border-red-500/20"})[D==null?void 0:D.toLowerCase()]||"bg-gray-500/10 text-gray-600",H=[{id:"select-order",label:"Select Order",icon:js},{id:"review-items",label:"Review Items",icon:ct},{id:"payment-details",label:"Payment Details",icon:ys}],F=H.findIndex(D=>D.id===r);return n.jsx(dt,{title:"Create Payment",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>e("/payments"),className:"h-10 w-10 rounded-full",children:n.jsx(tr,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create Payment"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Create a payment record from an existing order"})]})]}),n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between relative",children:[n.jsx("div",{className:"absolute top-5 left-0 right-0 h-0.5 bg-muted",children:n.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${F/(H.length-1)*100}%`}})}),H.map((D,Y)=>{const ae=D.icon,R=Y<F,V=D.id===r;return n.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[n.jsx("div",{className:ge("w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300",R&&"bg-primary text-primary-foreground",V&&"bg-primary text-primary-foreground ring-4 ring-primary/20",!R&&!V&&"bg-muted text-muted-foreground"),children:R?n.jsx(mo,{className:"h-5 w-5"}):n.jsx(ae,{className:"h-5 w-5"})}),n.jsx("span",{className:ge("mt-2 text-sm font-medium",V?"text-primary":"text-muted-foreground"),children:D.label})]},D.id)})]})}),r==="select-order"&&n.jsxs(Z,{className:"border-0 shadow-lg",children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:n.jsx(js,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(Ue,{className:"text-xl",children:"Select an Order"}),n.jsx(Or,{children:"Choose an order to create a payment record"})]})]})}),n.jsxs(J,{className:"space-y-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{placeholder:"Search by PO number, vendor, or apartment...",value:u,onChange:D=>f(D.target.value),className:"pl-10 h-11"})]}),p||m?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(Bt,{className:"h-6 w-6 animate-spin text-muted-foreground mr-2"}),n.jsx("span",{className:"text-muted-foreground",children:m?"Loading order details...":"Loading orders..."})]}):N.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[n.jsx(js,{className:"h-10 w-10 mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No orders found"})]}):n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs(Os,{children:[n.jsx(Ds,{children:n.jsxs(Ut,{className:"bg-muted/50 hover:bg-muted/50",children:[n.jsx(ke,{className:"font-semibold",children:"PO Number"}),n.jsx(ke,{className:"font-semibold",children:"Apartment"}),n.jsx(ke,{className:"font-semibold",children:"Vendor"}),n.jsx(ke,{className:"font-semibold text-center",children:"Items"}),n.jsx(ke,{className:"font-semibold",children:"Date"}),n.jsx(ke,{className:"font-semibold text-right",children:"Total"}),n.jsx(ke,{className:"w-10"})]})}),n.jsx(Is,{children:N.map(D=>{var ae,R;const Y=parseFloat(String(D.total||0));return n.jsxs(Ut,{onClick:()=>E(D),className:ge("cursor-pointer transition-colors",(a==null?void 0:a.id)===D.id?"bg-primary/5":"hover:bg-muted/50"),children:[n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-semibold",children:D.po_number}),n.jsx(Ae,{variant:"outline",className:ge("text-xs",W(D.status)),children:D.status}),((ae=w.get(D.id))==null?void 0:ae.status)==="Partial"&&n.jsx(Ae,{variant:"outline",className:"text-xs bg-warning/10 text-warning border-warning/20",children:"Has Payment"})]})}),n.jsx(Se,{children:n.jsx("span",{className:"text-muted-foreground",children:D.apartment_name||"N/A"})}),n.jsx(Se,{children:n.jsx("span",{className:"text-muted-foreground",children:D.vendor_name||"N/A"})}),n.jsx(Se,{className:"text-center",children:n.jsx("span",{className:"text-muted-foreground",children:D.items_count||((R=D.items)==null?void 0:R.length)||0})}),n.jsx(Se,{children:n.jsx("span",{className:"text-muted-foreground",children:D.placed_on?Ht(new Date(D.placed_on),"MMM dd, yyyy"):"N/A"})}),n.jsx(Se,{className:"text-right",children:n.jsxs("span",{className:"font-semibold text-primary",children:[Y.toLocaleString()," HUF"]})}),n.jsx(Se,{children:n.jsx(qc,{className:"h-4 w-4 text-muted-foreground"})})]},D.id)})})]})})]})]}),r==="review-items"&&a&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(Z,{className:"border-0 shadow-lg bg-gradient-to-br from-primary/5 to-primary/10",children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Selected Order"}),n.jsx("h2",{className:"text-2xl font-bold",children:a.po_number}),n.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(cr,{className:"h-4 w-4"}),a.apartment_name]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx($n,{className:"h-4 w-4"}),a.vendor_name]})]})]}),n.jsx(te,{variant:"outline",onClick:()=>s("select-order"),children:"Change Order"})]})})}),n.jsxs(Z,{className:"border-0 shadow-lg",children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:n.jsx(ct,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(Ue,{className:"text-xl",children:"Order Items"}),n.jsx(Or,{children:"Select items to include in this payment"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yo,{id:"select-all",checked:o.length===(((T=a.items)==null?void 0:T.length)||0),onCheckedChange:O}),n.jsxs(G,{htmlFor:"select-all",className:"cursor-pointer text-sm font-medium",children:["Select All (",o.length,"/",((P=a.items)==null?void 0:P.length)||0,")"]})]})]})}),n.jsxs(J,{children:[n.jsx("div",{className:"rounded-xl border overflow-hidden",children:n.jsxs(Os,{children:[n.jsx(Ds,{children:n.jsxs(Ut,{className:"bg-muted/50",children:[n.jsx(ke,{className:"w-12"}),n.jsx(ke,{children:"Product"}),n.jsx(ke,{children:"Category"}),n.jsx(ke,{className:"text-center",children:"Quantity"}),n.jsx(ke,{className:"text-right",children:"Unit Price"}),n.jsx(ke,{className:"text-right",children:"Total"})]})}),n.jsx(Is,{children:(a.items||[]).map(D=>{const Y=o.includes(D.id||""),ae=parseFloat(String(D.unit_price||0)),R=ae*(D.quantity||1);return n.jsxs(Ut,{className:ge("cursor-pointer transition-colors",Y?"bg-primary/5":"hover:bg-muted/50"),onClick:()=>k(D.id||""),children:[n.jsx(Se,{onClick:V=>V.stopPropagation(),children:n.jsx(yo,{checked:Y,onCheckedChange:()=>k(D.id||"")})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[D.product_image||D.product_image_url?n.jsx("img",{src:D.product_image||D.product_image_url,alt:D.product_name||"Product",className:"w-10 h-10 rounded-lg object-cover border"}):n.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:n.jsx(ct,{className:"h-5 w-5 text-muted-foreground"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:D.product_name||"Unknown Product"}),D.sku&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["SKU: ",D.sku]})]})]})}),n.jsx(Se,{children:n.jsx(Ae,{variant:"outline",className:"font-normal",children:D.category_name||"N/A"})}),n.jsx(Se,{className:"text-center font-medium",children:D.quantity}),n.jsxs(Se,{className:"text-right",children:[ae.toLocaleString()," HUF"]}),n.jsxs(Se,{className:"text-right font-semibold",children:[R.toLocaleString()," HUF"]})]},D.id)})})]})}),n.jsx("div",{className:"mt-6 p-4 rounded-xl bg-gradient-to-r from-primary/10 to-primary/5 border border-primary/20",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:n.jsx(sr,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.length," item",o.length!==1?"s":""," selected"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready for payment"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),n.jsxs("p",{className:"text-3xl font-bold text-primary",children:[_.toLocaleString()," ",n.jsx("span",{className:"text-lg",children:"HUF"})]})]})]})})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(te,{variant:"outline",onClick:()=>s("select-order"),className:"gap-2",children:[n.jsx(tr,{className:"h-4 w-4"}),"Back"]}),n.jsxs(te,{onClick:()=>s("payment-details"),disabled:o.length===0,className:"gap-2",children:["Continue",n.jsx(qc,{className:"h-4 w-4"})]})]})]}),r==="payment-details"&&a&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(Z,{className:"border-0 shadow-lg",children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 bg-green-500/10 rounded-xl",children:n.jsx(br,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx(Ue,{className:"text-xl",children:"Payment Amount"}),n.jsx(Or,{children:"Set the payment amounts"})]})]})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"total_amount",className:"text-sm font-medium",children:["Total Amount (HUF) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(fe,{id:"total_amount",type:"number",step:"1",min:"0",value:c.total_amount,onChange:D=>d(Y=>({...Y,total_amount:D.target.value})),placeholder:"0",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"needs_to_pay",className:"text-sm font-medium",children:"Amount Paid (HUF)"}),n.jsx(fe,{id:"needs_to_pay",type:"number",step:"1",min:"0",value:c.needs_to_pay,onChange:D=>d(Y=>({...Y,needs_to_pay:D.target.value})),placeholder:"0",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{className:"text-sm font-medium",children:"Outstanding Balance (HUF)"}),n.jsx("div",{className:ge("h-11 px-3 flex items-center rounded-md border bg-muted/50 font-semibold",A>0?"text-red-600":A<0?"text-green-600":"text-muted-foreground"),children:A.toLocaleString()})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"shipping_cost",className:"text-sm font-medium",children:["Shipping Cost (HUF) ",n.jsx("span",{className:"text-muted-foreground text-xs",children:"(Optional)"})]}),n.jsx(fe,{id:"shipping_cost",type:"number",step:"1",min:"0",value:c.shipping_cost,onChange:D=>d(Y=>({...Y,shipping_cost:D.target.value})),placeholder:"0",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"discount",className:"text-sm font-medium",children:["Discount (HUF) ",n.jsx("span",{className:"text-muted-foreground text-xs",children:"(Optional)"})]}),n.jsx(fe,{id:"discount",type:"number",step:"1",min:"0",value:c.discount,onChange:D=>d(Y=>({...Y,discount:D.target.value})),placeholder:"0",className:"h-11"})]})]}),(parseInt(c.shipping_cost)>0||parseInt(c.discount)>0)&&n.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),n.jsxs("span",{children:[parseInt(c.total_amount||"0").toLocaleString()," HUF"]})]}),parseInt(c.shipping_cost)>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"+ Shipping"}),n.jsxs("span",{children:[parseInt(c.shipping_cost).toLocaleString()," HUF"]})]}),parseInt(c.discount)>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"- Discount"}),n.jsxs("span",{className:"text-green-600",children:["-",parseInt(c.discount).toLocaleString()," HUF"]})]}),n.jsx(Ft,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between font-semibold",children:[n.jsx("span",{children:"Final Total"}),n.jsxs("span",{className:"text-primary",children:[C.toLocaleString()," HUF"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"due_date",className:"flex items-center gap-2 text-sm font-medium",children:[n.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),"Due Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(fe,{id:"due_date",type:"date",value:c.due_date,onChange:D=>d(Y=>({...Y,due_date:D.target.value})),className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{className:"flex items-center gap-2 text-sm font-medium",children:[n.jsx(An,{className:"h-4 w-4 text-muted-foreground"}),"Order Reference"]}),n.jsx("div",{className:"h-11 px-3 flex items-center rounded-md border bg-muted/50 text-muted-foreground",children:a.po_number})]})]})]})]}),n.jsxs(Z,{className:"border-0 shadow-lg",children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:n.jsx(ys,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(Ue,{className:"text-xl",children:"Payment Details"}),n.jsx(Or,{children:"Configure payment method and details"})]})]})}),n.jsxs(J,{className:"space-y-6",children:[n.jsx("div",{className:"space-y-3",children:n.jsx("div",{className:"grid grid-cols-3 gap-2 p-1 bg-muted rounded-lg",children:[{value:"Bank Transfer",icon:Ek,label:"Bank Transfer"},{value:"Card Payment",icon:ys,label:"Card Payment"},{value:"Cash",icon:d0,label:"Cash"}].map(D=>{const Y=D.icon,ae=c.payment_method===D.value;return n.jsxs("button",{type:"button",onClick:()=>d(R=>({...R,payment_method:D.value})),className:ge("py-2.5 px-4 rounded-md transition-all duration-200 flex items-center justify-center gap-2",ae?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:[n.jsx(Y,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:D.label})]},D.value)})})}),c.payment_method==="Bank Transfer"&&n.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"bank_name",className:"text-sm font-medium",children:"Bank Name"}),n.jsx(fe,{id:"bank_name",value:c.bank_name,onChange:D=>d(Y=>({...Y,bank_name:D.target.value})),placeholder:"e.g., OTP Bank",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"account_holder",className:"text-sm font-medium",children:"Account Holder"}),n.jsx(fe,{id:"account_holder",value:c.account_holder,onChange:D=>d(Y=>({...Y,account_holder:D.target.value})),placeholder:"Full name",className:"h-11"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"account_number",className:"text-sm font-medium",children:"Account Number"}),n.jsx(fe,{id:"account_number",value:c.account_number,onChange:D=>d(Y=>({...Y,account_number:D.target.value})),placeholder:"XXXX-XXXX-XXXX-XXXX",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"iban",className:"text-sm font-medium",children:"IBAN"}),n.jsx(fe,{id:"iban",value:c.iban,onChange:D=>d(Y=>({...Y,iban:D.target.value})),placeholder:"HU42 1177 3016 1111 1018 0000 0000",className:"h-11"})]})]})]}),c.payment_method==="Card Payment"&&n.jsx("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"card_holder",className:"text-sm font-medium",children:"Card Holder Name"}),n.jsx(fe,{id:"card_holder",value:c.card_holder,onChange:D=>d(Y=>({...Y,card_holder:D.target.value})),placeholder:"Name on card",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"card_last_four",className:"text-sm font-medium",children:"Card Last 4 Digits"}),n.jsx(fe,{id:"card_last_four",value:c.card_last_four,onChange:D=>d(Y=>({...Y,card_last_four:D.target.value.slice(0,4)})),placeholder:"1234",maxLength:4,className:"h-11"})]})]})}),c.payment_method==="Cash"&&n.jsx("div",{className:"p-4 bg-muted/30 rounded-lg border",children:n.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"No additional details required for cash payment"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"reference",className:"text-sm font-medium",children:"Reference Number (Optional)"}),n.jsx(fe,{id:"reference",value:c.reference_number,onChange:D=>d(Y=>({...Y,reference_number:D.target.value})),placeholder:"e.g., INV-2025-001",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"notes",className:"text-sm font-medium",children:"Notes (Optional)"}),n.jsx(gn,{id:"notes",value:c.notes,onChange:D=>d(Y=>({...Y,notes:D.target.value})),placeholder:"Add any additional notes...",rows:3})]})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(te,{variant:"outline",onClick:()=>s("review-items"),className:"gap-2",children:[n.jsx(tr,{className:"h-4 w-4"}),"Back"]}),n.jsx(te,{onClick:I,disabled:y.isPending||!c.due_date||!c.total_amount,className:"gap-2 px-8",children:y.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(fu,{className:"h-4 w-4"}),"Create Payment"]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Z,{className:"border-0 shadow-lg",children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ue,{className:"text-base flex items-center gap-2",children:[n.jsx(js,{className:"h-4 w-4"}),"Order Summary"]})}),n.jsx(J,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Order Number"}),n.jsx("span",{className:"font-medium",children:a.po_number})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Apartment"}),n.jsx("span",{className:"font-medium",children:a.apartment_name})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Vendor"}),n.jsx("span",{className:"font-medium",children:a.vendor_name})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Items Selected"}),n.jsxs("span",{className:"font-medium",children:[o.length," of ",((M=a.items)==null?void 0:M.length)||0]})]})]})})]}),n.jsxs(Z,{className:"border-0 shadow-lg bg-gradient-to-br from-primary/5 to-primary/10",children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ue,{className:"text-base flex items-center gap-2",children:[n.jsx(br,{className:"h-4 w-4"}),"Payment Summary"]})}),n.jsx(J,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),n.jsxs("span",{className:"font-medium",children:[parseInt(c.total_amount||"0").toLocaleString()," HUF"]})]}),parseInt(c.shipping_cost)>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),n.jsxs("span",{className:"font-medium",children:["+",parseInt(c.shipping_cost).toLocaleString()," HUF"]})]}),parseInt(c.discount)>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Discount"}),n.jsxs("span",{className:"font-medium text-green-600",children:["-",parseInt(c.discount).toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Final Total"}),n.jsxs("span",{className:"font-medium",children:[C.toLocaleString()," HUF"]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Amount Paid"}),n.jsxs("span",{className:"font-medium text-green-600",children:[parseInt(c.needs_to_pay||"0").toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Outstanding"}),n.jsxs("span",{className:ge("font-medium",A>0?"text-red-600":"text-green-600"),children:[A.toLocaleString()," HUF"]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Due Date"}),n.jsx("span",{className:"font-medium",children:c.due_date?Ht(new Date(c.due_date),"MMM dd, yyyy"):"Not set"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Method"}),n.jsx("span",{className:"font-medium",children:c.payment_method})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold",children:"Outstanding Balance"}),n.jsxs("span",{className:"text-2xl font-bold text-primary",children:[A.toLocaleString()," HUF"]})]})]})})]}),n.jsx(Z,{className:"border-0 shadow-lg",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:ge("p-2 rounded-lg",parseInt(c.needs_to_pay||"0")>0?parseInt(c.needs_to_pay||"0")>=C?"bg-green-500/10":"bg-blue-500/10":"bg-yellow-500/10"),children:n.jsx(jr,{className:ge("h-5 w-5",parseInt(c.needs_to_pay||"0")>0?parseInt(c.needs_to_pay||"0")>=C?"text-green-600":"text-blue-600":"text-yellow-600")})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Payment Status"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:parseInt(c.needs_to_pay||"0")<=0?"Will be created as Unpaid":parseInt(c.needs_to_pay||"0")>=C?"Will be created as Paid":"Will be created as Partial"})]})]})})})]})]})]})})};function Frt(){return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(S,{className:"h-9 w-24 rounded-md"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-9 w-48"}),n.jsx(S,{className:"h-4 w-32"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(S,{className:"h-6 w-20 rounded-full"}),n.jsx(S,{className:"h-9 w-24 rounded-md"})]})]})}function $rt(){return n.jsxs(Z,{children:[n.jsx(we,{children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-40"})]}),n.jsx(S,{className:"h-4 w-48"})]})})}),n.jsxs(J,{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{bg:"bg-muted/50"},{bg:"bg-green-500/10"},{bg:"bg-yellow-500/10"}].map((e,t)=>n.jsxs("div",{className:`p-4 rounded-lg ${e.bg} border`,children:[n.jsx(S,{className:"h-4 w-24 mb-1"}),n.jsx(S,{className:"h-8 w-32"})]},t))}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-4 w-12"})]}),n.jsx(S,{className:"h-3 w-full rounded-full"})]}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-5 w-24"})]},t))})]})]})}function Lrt(){return n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-32"})]})}),n.jsx(J,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Product","SKU","Unit Price","Qty","Total"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(S,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(3)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(S,{className:"w-10 h-10 rounded"}),n.jsx(S,{className:"h-4 w-32"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-8"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-28"})})]},t))})]})})})]})}function Brt(){return n.jsxs(Z,{children:[n.jsxs(we,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-36"})]}),n.jsx(S,{className:"h-9 w-36 rounded-md"})]}),n.jsx(J,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Date","Amount","Method","Reference","Note",""].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(S,{className:"h-4 w-16"})},t))})}),n.jsx("tbody",{children:[...Array(3)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-6 w-28 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-32"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-8 w-8 rounded"})})]},t))})]})})})]})}function Urt(){return n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-5 w-24"})]})}),n.jsxs(J,{className:"space-y-3",children:[[...Array(5)].map((e,t)=>n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"h-3 w-16"}),n.jsx(S,{className:"h-4 w-full"})]},t)),n.jsx(S,{className:"h-9 w-full rounded-md mt-4"})]})]})}function Vrt(){return n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-5 w-20"})]})}),n.jsxs(J,{className:"space-y-3",children:[[...Array(5)].map((e,t)=>n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"h-3 w-20"}),n.jsx(S,{className:"h-4 w-full"})]},t)),n.jsx(S,{className:"h-9 w-full rounded-md mt-4"})]})]})}function zrt(){return n.jsxs(Z,{children:[n.jsx(we,{children:n.jsx(S,{className:"h-5 w-28"})}),n.jsxs(J,{className:"space-y-2",children:[n.jsx(S,{className:"h-10 w-full rounded-md"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]})}function Wrt(){return n.jsx(dt,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Frt,{}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx($rt,{}),n.jsx(Lrt,{}),n.jsx(Brt,{})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(Urt,{}),n.jsx(Vrt,{}),n.jsx(zrt,{})]})]})]})})}function Hrt(){var y,w,b,N;const{id:e}=Ki(),t=dr(),{data:r,isLoading:s,error:a,refetch:i}=GX(e||""),o=x3(),l=MBe(),[c,d]=v.useState(!1),u=a?"Payment not found":e?null:"No payment ID provided";if(s)return n.jsx(Wrt,{});if(u||!r)return n.jsx(dt,{title:"Payment Not Found",children:n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-4",children:[n.jsx(_t,{className:"h-12 w-12 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold",children:"Payment Not Found"}),n.jsx("p",{className:"text-muted-foreground",children:u}),n.jsxs(te,{onClick:()=>t("/payments"),children:[n.jsx(tr,{className:"h-4 w-4 mr-2"}),"Back to Payments"]})]})});const f=_=>({Paid:"bg-success/10 text-success border-success/20",Partial:"bg-warning/10 text-warning border-warning/20",Unpaid:"bg-muted text-muted-foreground border-border",Overdue:"bg-danger/10 text-danger border-danger/20"})[_]||"bg-muted",m=_=>{switch(_){case"Paid":return n.jsx(Br,{className:"h-4 w-4"});case"Partial":return n.jsx(jr,{className:"h-4 w-4"});case"Overdue":return n.jsx(_t,{className:"h-4 w-4"});default:return n.jsx(br,{className:"h-4 w-4"})}},h=r.total_amount||0,x=r.amount_paid||0,p=r.outstanding_amount||0;r.shipping_cost,r.discount;const g=r.final_total||h,j=g>0?x/g*100:0;return n.jsxs(dt,{title:"Payment Details",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(te,{variant:"ghost",onClick:()=>t("/payments"),children:[n.jsx(tr,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Payment Details"}),n.jsxs("p",{className:"text-muted-foreground",children:["Order Ref: ",r.order_reference]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(Ae,{className:f(r.status),children:[m(r.status),n.jsx("span",{className:"ml-1",children:r.status})]}),n.jsxs(te,{variant:"outline",onClick:()=>t(`/payments/${r.id}/edit`),children:[n.jsx(Gs,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(Z,{children:[n.jsx(we,{children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx($b,{className:"h-5 w-5 text-primary"}),"Payment Overview"]}),n.jsxs(Or,{children:["Created on ",r.created_at?Ht(new Date(r.created_at),"MMM dd, yyyy"):"Unknown"]})]})})}),n.jsxs(J,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold",children:[h.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"p-4 rounded-lg bg-success/10 border border-success/20",children:[n.jsx("p",{className:"text-sm text-success mb-1",children:"Amount Paid"}),n.jsxs("p",{className:"text-2xl font-bold text-success",children:[x.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"p-4 rounded-lg bg-warning/10 border border-warning/20",children:[n.jsx("p",{className:"text-sm text-warning mb-1",children:"Outstanding"}),n.jsxs("p",{className:"text-2xl font-bold text-warning",children:[p.toLocaleString()," HUF"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Payment Progress"}),n.jsxs("span",{className:"font-medium",children:[j.toFixed(1),"%"]})]}),n.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-success transition-all duration-500",style:{width:`${Math.min(j,100)}%`}})})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(Wr,{className:"h-3 w-3"})," Due Date"]}),n.jsx("p",{className:"font-medium",children:r.due_date?Ht(new Date(r.due_date),"MMM dd, yyyy"):"Not set"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(jr,{className:"h-3 w-3"})," Last Payment"]}),n.jsx("p",{className:"font-medium",children:r.last_payment_date?Ht(new Date(r.last_payment_date),"MMM dd, yyyy"):"No payments yet"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(ct,{className:"h-3 w-3"})," Products"]}),n.jsxs("p",{className:"font-medium",children:[r.order_items_count||((y=r.order_item_details)==null?void 0:y.length)||r.product_count||0," items"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(Ae,{className:f(r.status),children:r.status})]})]}),r.notes&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mb-2",children:[n.jsx(An,{className:"h-3 w-3"})," Notes"]}),n.jsx("p",{className:"text-sm whitespace-pre-wrap bg-muted/50 p-3 rounded-lg",children:r.notes})]})]})]})]}),(r.order_item_details&&r.order_item_details.length>0||r.product_details&&r.product_details.length>0)&&n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(ct,{className:"h-5 w-5"}),"Products (",((w=r.order_item_details)==null?void 0:w.length)||((b=r.product_details)==null?void 0:b.length)||0,")"]})}),n.jsx(J,{children:n.jsxs(Os,{children:[n.jsx(Ds,{children:n.jsxs(Ut,{children:[n.jsx(ke,{children:"Product"}),n.jsx(ke,{children:"SKU"}),n.jsx(ke,{className:"text-right",children:"Unit Price"}),n.jsx(ke,{className:"text-center",children:"Qty"}),n.jsx(ke,{className:"text-right",children:"Total"})]})}),n.jsx(Is,{children:r.order_item_details&&r.order_item_details.length>0?r.order_item_details.map(_=>n.jsxs(Ut,{children:[n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[_.product_image&&n.jsx("img",{src:_.product_image,alt:_.product_name,className:"w-10 h-10 rounded object-cover"}),n.jsx("span",{className:"font-medium",children:_.product_name})]})}),n.jsx(Se,{children:n.jsx("span",{className:"text-muted-foreground font-mono text-sm",children:_.sku||"N/A"})}),n.jsxs(Se,{className:"text-right",children:[parseFloat(String(_.unit_price)).toLocaleString()," HUF"]}),n.jsx(Se,{className:"text-center",children:_.quantity}),n.jsxs(Se,{className:"text-right font-medium",children:[parseFloat(String(_.total_price)).toLocaleString()," HUF"]})]},_.id)):(N=r.product_details)==null?void 0:N.map(_=>n.jsxs(Ut,{children:[n.jsx(Se,{className:"font-medium",children:_.product}),n.jsx(Se,{children:n.jsx(Ae,{variant:"outline",children:_.category_name||"N/A"})}),n.jsxs(Se,{className:"text-right",children:[parseFloat(_.unit_price).toLocaleString()," HUF"]}),n.jsx(Se,{className:"text-center",children:_.qty}),n.jsxs(Se,{className:"text-right font-medium",children:[(parseFloat(_.unit_price)*_.qty).toLocaleString()," HUF"]})]},_.id))})]})})]}),n.jsxs(Z,{children:[n.jsxs(we,{className:"flex flex-row items-center justify-between",children:[n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(K5,{className:"h-5 w-5"}),"Payment History"]}),r.status!=="Paid"&&n.jsxs(te,{size:"sm",onClick:()=>d(!0),children:[n.jsx(Gn,{className:"h-4 w-4 mr-1"}),"Record Payment"]})]}),n.jsx(J,{children:r.payment_history&&r.payment_history.length>0?n.jsxs(Os,{children:[n.jsx(Ds,{children:n.jsxs(Ut,{children:[n.jsx(ke,{children:"Date"}),n.jsx(ke,{children:"Amount"}),n.jsx(ke,{children:"Method"}),n.jsx(ke,{children:"Reference"}),n.jsx(ke,{children:"Note"}),n.jsx(ke,{className:"w-[50px]"})]})}),n.jsx(Is,{children:r.payment_history.map(_=>n.jsxs(Ut,{children:[n.jsx(Se,{children:_.date?Ht(new Date(_.date),"MMM dd, yyyy"):"N/A"}),n.jsxs(Se,{className:"font-medium text-success",children:["+",(_.amount||0).toLocaleString()," HUF"]}),n.jsx(Se,{children:n.jsxs(Ae,{variant:"outline",className:"gap-1",children:[_.method==="Bank Transfer"&&n.jsx(d0,{className:"h-3 w-3"}),_.method==="Credit Card"&&n.jsx(ys,{className:"h-3 w-3"}),_.method]})}),n.jsx(Se,{className:"font-mono text-sm",children:_.reference_no||"-"}),n.jsx(Se,{className:"text-muted-foreground max-w-[200px] truncate",children:_.note||"-"}),n.jsx(Se,{children:n.jsx(te,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-muted-foreground hover:text-danger",onClick:async()=>{if(confirm("Are you sure you want to delete this payment record?"))try{await l.mutateAsync(_.id),Be.success("Payment record deleted"),i()}catch{Be.error("Failed to delete payment record")}},children:n.jsx(xn,{className:"h-4 w-4"})})})]},_.id))})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[n.jsx(K5,{className:"h-12 w-12 mb-2 opacity-50"}),n.jsx("p",{children:"No payment history yet"}),r.status!=="Paid"&&n.jsxs(te,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>d(!0),children:[n.jsx(Gn,{className:"h-4 w-4 mr-1"}),"Record First Payment"]})]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2 text-base",children:[n.jsx(cr,{className:"h-4 w-4"}),"Apartment"]})}),n.jsx(J,{className:"space-y-3",children:r.apartment_details?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),n.jsx("p",{className:"font-medium",children:r.apartment_details.name})]}),r.apartment_details.address&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),n.jsx("p",{className:"font-medium",children:r.apartment_details.address})]}),r.apartment_details.type&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),n.jsx(Ae,{variant:"outline",children:r.apartment_details.type})]}),r.apartment_details.status&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(Ae,{variant:"secondary",children:r.apartment_details.status})]}),r.apartment_details.designer&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Designer"}),n.jsx("p",{className:"font-medium",children:r.apartment_details.designer})]}),n.jsx(te,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>{var _;return t(`/apartments/${(_=r.apartment_details)==null?void 0:_.id}`)},children:"View Apartment"})]}):n.jsx("p",{className:"text-muted-foreground",children:"No apartment details available"})})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2 text-base",children:[n.jsx($n,{className:"h-4 w-4"}),"Vendor"]})}),n.jsx(J,{className:"space-y-3",children:r.vendor_details?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Company"}),n.jsx("p",{className:"font-medium",children:r.vendor_details.name})]}),r.vendor_details.contact_person&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx($n,{className:"h-3 w-3"})," Contact Person"]}),n.jsx("p",{className:"font-medium",children:r.vendor_details.contact_person})]}),r.vendor_details.email&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(yn,{className:"h-3 w-3"})," Email"]}),n.jsx("a",{href:`mailto:${r.vendor_details.email}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.email})]}),r.vendor_details.phone&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(So,{className:"h-3 w-3"})," Phone"]}),n.jsx("a",{href:`tel:${r.vendor_details.phone}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.phone})]}),r.vendor_details.address&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),n.jsxs("p",{className:"font-medium text-sm",children:[r.vendor_details.address,r.vendor_details.city&&`, ${r.vendor_details.city}`,r.vendor_details.country&&`, ${r.vendor_details.country}`]})]}),n.jsx(te,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>{var _;return t(`/vendors/${(_=r.vendor_details)==null?void 0:_.id}`)},children:"View Vendor"})]}):n.jsx("p",{className:"text-muted-foreground",children:"No vendor details available"})})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsx(Ue,{className:"text-base",children:"Quick Actions"})}),n.jsxs(J,{className:"space-y-2",children:[r.status!=="Paid"&&n.jsxs(te,{className:"w-full",onClick:()=>d(!0),children:[n.jsx(br,{className:"h-4 w-4 mr-2"}),"Record Payment"]}),n.jsxs(te,{variant:"outline",className:"w-full",onClick:()=>t(`/payments/${r.id}/edit`),children:[n.jsx(Gs,{className:"h-4 w-4 mr-2"}),"Edit Payment"]})]})]})]})]})]}),n.jsx(g3,{payment:r,open:c,onOpenChange:d,onSave:async(_,C,A,E)=>{try{await o.mutateAsync({payment:r.id,date:new Date().toISOString().split("T")[0],amount:_,method:C,reference_no:A,note:E}),Be.success("Payment Recorded",{description:`${_.toLocaleString()} HUF recorded successfully`}),d(!1),i()}catch{Be.error("Failed to record payment")}}})]})}function qrt(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-4 w-28"})]})}function Grt(){return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(S,{className:"h-10 w-10 rounded-md"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(S,{className:"h-9 w-32 mb-2"}),n.jsx(S,{className:"h-4 w-64"})]})]})}function Krt(){return n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-40"})]})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]})]})]})}function Yrt(){return n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-36"})]})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-28"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-10 w-full rounded-md bg-muted"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-16"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-36"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]})]})]})}function Xrt(){return n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-32"})]})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[n.jsx(S,{className:"h-5 w-48"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-16"}),n.jsx(S,{className:"h-24 w-full rounded-md"})]})]})]})}function Qrt(){return n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-5 w-5 rounded"}),n.jsx(S,{className:"h-6 w-48"})]})}),n.jsx(J,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["","Product Name","SKU","Quantity","Unit Price","Total"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(S,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(4)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-5 w-5 rounded"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-40"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-12"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-28"})})]},t))})]})})})]})}function Zrt(){return n.jsx(dt,{title:"Loading...",children:n.jsx("div",{className:"container px-0 py-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(qrt,{}),n.jsx(Grt,{}),n.jsx(Krt,{}),n.jsx(Yrt,{}),n.jsx(Xrt,{}),n.jsx(Qrt,{}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(S,{className:"h-10 w-24 rounded-md"}),n.jsx(S,{className:"h-10 w-32 rounded-md"})]})]})})})}const Jrt=()=>{const e=dr(),{id:t}=Ki(),[r,s]=v.useState({apartment:"",vendor:"",order_reference:"",due_date:"",total_amount:"",amount_paid:"0",status:"Unpaid",last_payment_date:"",payment_method:"Bank Transfer",bank_name:"",account_holder:"",account_number:"",iban:"",swift_bic_code:"",card_number:"",card_holder_name:"",expiry_date:"",cvv:"",notes:""}),[a,i]=v.useState({}),[o,l]=v.useState([]),{data:c,isLoading:d}=GX(t||""),u=KX(),{data:f,isLoading:m}=d3(),h=(f==null?void 0:f.results)||[],{data:x,isLoading:p}=pm(),g=(x==null?void 0:x.results)||[],{data:j,isLoading:y}=VX();j!=null&&j.results,v.useEffect(()=>{c&&(s({apartment:c.apartment,vendor:c.vendor,order_reference:c.order_reference,due_date:c.due_date,total_amount:String(c.total_amount),amount_paid:String(c.amount_paid),status:c.status,last_payment_date:c.last_payment_date||"",payment_method:"Bank Transfer",bank_name:"",account_holder:"",account_number:"",iban:"",swift_bic_code:"",card_number:"",card_holder_name:"",expiry_date:"",cvv:"",notes:c.notes}),l(c.products||[]))},[c]);const w=r.total_amount&&r.amount_paid?(parseFloat(r.total_amount)-parseFloat(r.amount_paid)).toFixed(2):"0.00",b=(A,E)=>{s(k=>({...k,[A]:E})),a[A]&&i(k=>{const O={...k};return delete O[A],O})},N=()=>{const A={};return r.apartment||(A.apartment="Apartment is required"),r.vendor||(A.vendor="Vendor is required"),r.order_reference.trim()||(A.order_reference="Order reference is required"),r.due_date||(A.due_date="Due date is required"),(!r.total_amount||parseFloat(r.total_amount)<=0)&&(A.total_amount="Valid total amount is required"),r.amount_paid&&parseFloat(r.amount_paid)<0&&(A.amount_paid="Amount paid cannot be negative"),r.amount_paid&&r.total_amount&&parseFloat(r.amount_paid)>parseFloat(r.total_amount)&&(A.amount_paid="Amount paid cannot exceed total amount"),i(A),Object.keys(A).length===0},_=async A=>{var E,k;if(A.preventDefault(),!N()){Be.error("Please fix the errors in the form");return}if(!t){Be.error("Payment ID is required");return}try{const O={apartment:r.apartment,vendor:r.vendor,order_reference:r.order_reference,due_date:r.due_date,total_amount:r.total_amount,amount_paid:r.amount_paid||"0",status:r.status,last_payment_date:r.last_payment_date||null,notes:r.notes,products:o};await u.mutateAsync({id:t,data:O}),Be.success("Payment updated successfully"),e("/payments")}catch(O){console.error("Error updating payment:",O),Be.error(((k=(E=O.response)==null?void 0:E.data)==null?void 0:k.message)||"Failed to update payment")}},C=()=>{e("/payments")};return d||m||p?n.jsx(Zrt,{}):n.jsx(dt,{title:"Edit Payment",children:n.jsxs("div",{className:"container px-0 py-6 ",children:[n.jsx(Ra,{className:"mb-6",children:n.jsxs(Ma,{children:[n.jsx(Jt,{children:n.jsx(Xn,{href:"/payments",children:"Payments"})}),n.jsx(Sn,{}),n.jsx(Jt,{children:n.jsx(hi,{children:"Edit Payment"})})]})}),n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:C,className:"h-10 w-10",children:n.jsx(tr,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Payment"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Update payment information and details"})]})]})}),n.jsxs("form",{onSubmit:_,className:"space-y-6",children:[n.jsxs(Z,{children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(An,{className:"h-5 w-5 text-primary"})}),n.jsx(Ue,{className:"text-lg font-semibold",children:"Order Information"})]})}),n.jsx(J,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"apartment",className:"required flex items-center gap-2",children:[n.jsx(cr,{className:"h-4 w-4 text-muted-foreground"}),"Apartment"]}),n.jsxs(at,{value:r.apartment,onValueChange:A=>b("apartment",A),children:[n.jsx(nt,{id:"apartment",className:a.apartment?"border-destructive":"",children:n.jsx(it,{placeholder:"Select apartment"})}),n.jsx(st,{children:m?n.jsx(ne,{value:"loading",disabled:!0,children:"Loading apartments..."}):h.length===0?n.jsx(ne,{value:"empty",disabled:!0,children:"No apartments found"}):h.map(A=>n.jsx(ne,{value:A.id,children:A.name},A.id))})]}),a.apartment&&n.jsx("p",{className:"text-sm text-destructive",children:a.apartment})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"vendor",className:"required flex items-center gap-2",children:[n.jsx(Da,{className:"h-4 w-4 text-muted-foreground"}),"Vendor"]}),n.jsxs(at,{value:r.vendor,onValueChange:A=>b("vendor",A),children:[n.jsx(nt,{id:"vendor",className:a.vendor?"border-destructive":"",children:n.jsx(it,{placeholder:"Select vendor"})}),n.jsx(st,{children:p?n.jsx(ne,{value:"loading",disabled:!0,children:"Loading vendors..."}):g.length===0?n.jsx(ne,{value:"empty",disabled:!0,children:"No vendors found"}):g.map(A=>n.jsx(ne,{value:A.id,children:A.name},A.id))})]}),a.vendor&&n.jsx("p",{className:"text-sm text-destructive",children:a.vendor})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"order_reference",className:"required flex items-center gap-2",children:[n.jsx($b,{className:"h-4 w-4 text-muted-foreground"}),"Order Reference"]}),n.jsx(fe,{id:"order_reference",value:r.order_reference,onChange:A=>b("order_reference",A.target.value),placeholder:"e.g., ORD-2025-001",className:a.order_reference?"border-destructive":""}),a.order_reference&&n.jsx("p",{className:"text-sm text-destructive",children:a.order_reference})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"due_date",className:"required flex items-center gap-2",children:[n.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),"Due Date"]}),n.jsx(fe,{id:"due_date",type:"date",value:r.due_date,onChange:A=>b("due_date",A.target.value),className:a.due_date?"border-destructive":""}),a.due_date&&n.jsx("p",{className:"text-sm text-destructive",children:a.due_date})]})]})})]}),n.jsxs(Z,{children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(br,{className:"h-5 w-5 text-primary"})}),n.jsx(Ue,{className:"text-lg font-semibold",children:"Payment Amount"})]})}),n.jsx(J,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"total_amount",className:"required",children:"Total Amount (HUF)"}),n.jsx(fe,{id:"total_amount",type:"number",step:"0.01",min:"0",value:r.total_amount,onChange:A=>b("total_amount",A.target.value),placeholder:"0.00",className:a.total_amount?"border-destructive":""}),a.total_amount&&n.jsx("p",{className:"text-sm text-destructive",children:a.total_amount})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"amount_paid",children:"Amount Paid (HUF)"}),n.jsx(fe,{id:"amount_paid",type:"number",step:"0.01",min:"0",value:r.amount_paid,onChange:A=>b("amount_paid",A.target.value),placeholder:"0.00",className:a.amount_paid?"border-destructive":""}),a.amount_paid&&n.jsx("p",{className:"text-sm text-destructive",children:a.amount_paid})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"balance",children:"Balance (HUF)"}),n.jsx(fe,{id:"balance",value:w,readOnly:!0,className:"bg-muted text-primary font-semibold"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically calculated"})]})]})})]}),n.jsxs(Z,{children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(ys,{className:"h-5 w-5 text-primary"})}),n.jsx(Ue,{className:"text-lg font-semibold",children:"Payment Details"})]})}),n.jsx(J,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(G,{children:"Payment Method"}),n.jsx(ko,{value:r.payment_method,onValueChange:A=>b("payment_method",A),children:n.jsxs(Xi,{className:"grid w-full grid-cols-3",children:[n.jsxs(Vt,{value:"Bank Transfer",children:[n.jsx(Ek,{className:"h-4 w-4 mr-2"}),"Bank Transfer"]}),n.jsxs(Vt,{value:"Card Payment",children:[n.jsx(ys,{className:"h-4 w-4 mr-2"}),"Card Payment"]}),n.jsxs(Vt,{value:"Cash",children:[n.jsx(d0,{className:"h-4 w-4 mr-2"}),"Cash"]})]})})]}),r.payment_method==="Bank Transfer"&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Bank Transfer Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"bank_name",children:"Bank Name"}),n.jsx(fe,{id:"bank_name",value:r.bank_name,onChange:A=>b("bank_name",A.target.value),placeholder:"e.g., OTP Bank"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"account_holder",children:"Account Holder"}),n.jsx(fe,{id:"account_holder",value:r.account_holder,onChange:A=>b("account_holder",A.target.value),placeholder:"Full name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"account_number",children:"Account Number"}),n.jsx(fe,{id:"account_number",value:r.account_number,onChange:A=>b("account_number",A.target.value),placeholder:"XXXX-XXXX-XXXX-XXXX"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"iban",children:"IBAN"}),n.jsx(fe,{id:"iban",value:r.iban,onChange:A=>b("iban",A.target.value),placeholder:"HU42 1177 3016 1111 1018 0000 0000"})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"swift_bic_code",children:"SWIFT/BIC Code"}),n.jsx(fe,{id:"swift_bic_code",value:r.swift_bic_code,onChange:A=>b("swift_bic_code",A.target.value),placeholder:"e.g., OTPVHUHB"})]})]})]}),r.payment_method==="Card Payment"&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Card Payment Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"card_number",children:"Card Number"}),n.jsx(fe,{id:"card_number",value:r.card_number,onChange:A=>b("card_number",A.target.value),placeholder:"XXXX XXXX XXXX XXXX",maxLength:19})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"card_holder_name",children:"Card Holder Name"}),n.jsx(fe,{id:"card_holder_name",value:r.card_holder_name,onChange:A=>b("card_holder_name",A.target.value),placeholder:"Name as on card"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"expiry_date",children:"Expiry Date"}),n.jsx(fe,{id:"expiry_date",value:r.expiry_date,onChange:A=>b("expiry_date",A.target.value),placeholder:"MM/YY",maxLength:5})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"cvv",children:"CVV"}),n.jsx(fe,{id:"cvv",value:r.cvv,onChange:A=>b("cvv",A.target.value),placeholder:"XXX",maxLength:4,type:"password"})]})]})]}),r.payment_method==="Cash"&&n.jsxs("div",{className:"p-6 border rounded-lg bg-muted/50 text-center",children:[n.jsx(A7,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Cash payment selected. No additional details required."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(da,{id:"notes",value:r.notes,onChange:A=>b("notes",A.target.value),placeholder:"Add any additional payment notes or instructions...",rows:4})]})]})})]}),n.jsxs("div",{className:"flex items-center justify-end gap-4 mt-6",children:[n.jsx(te,{type:"button",variant:"outline",onClick:C,disabled:u.isPending,children:"Cancel"}),n.jsx(te,{type:"submit",disabled:u.isPending,children:u.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(fu,{className:"mr-2 h-4 w-4"}),"Update Payment"]})})]})]})]})})};function ent(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{iconBg:"bg-primary/10"},{iconBg:"bg-green-500/10"},{iconBg:"bg-blue-500/10"},{iconBg:"bg-yellow-500/10"}].map((e,t)=>n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-28"}),n.jsx(S,{className:"h-9 w-16"})]}),n.jsx("div",{className:`h-10 w-10 rounded-lg ${e.iconBg} flex items-center justify-center`,children:n.jsx(S,{className:"h-6 w-6 rounded"})})]})})},t))})}function tnt(){return n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsx("div",{className:"relative flex-1",children:n.jsx(S,{className:"h-10 w-full rounded-md"})}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsx(S,{className:"h-10 w-[150px] rounded-md"}),n.jsx(S,{className:"h-10 w-[150px] rounded-md"}),n.jsx(S,{className:"h-10 w-32 rounded-md"})]})]})})})}function rnt(){return n.jsxs(Z,{children:[n.jsx(we,{children:n.jsx(Ue,{className:"flex items-center justify-between",children:n.jsx(S,{className:"h-6 w-40"})})}),n.jsx(J,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(S,{className:"h-4 w-12"})}),n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(S,{className:"h-4 w-24"})}),n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(S,{className:"h-4 w-16"})}),n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(S,{className:"h-4 w-20"})}),n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(S,{className:"h-4 w-20"})}),n.jsx("th",{className:"px-4 py-3 text-center",children:n.jsx(S,{className:"h-4 w-14 mx-auto"})}),n.jsx("th",{className:"px-4 py-3 text-center",children:n.jsx(S,{className:"h-4 w-14 mx-auto"})}),n.jsx("th",{className:"px-4 py-3 text-right",children:n.jsx(S,{className:"h-4 w-16 ml-auto"})})]})}),n.jsx("tbody",{children:[...Array(8)].map((e,t)=>n.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"flex items-center justify-center bg-muted rounded-lg w-12 h-12",children:n.jsx(S,{className:"w-10 h-10 rounded-lg"})})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-3 w-40"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-36"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((r,s)=>n.jsx(S,{className:"h-3 w-3 rounded-sm"},s)),n.jsx(S,{className:"h-4 w-8 ml-1"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"flex justify-center",children:n.jsx(S,{className:"h-6 w-8 rounded-full"})})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"flex justify-center",children:n.jsx(S,{className:"h-6 w-8 rounded-full"})})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(S,{className:"h-8 w-8 rounded"}),n.jsx(S,{className:"h-8 w-8 rounded"}),n.jsx(S,{className:"h-8 w-8 rounded"})]})})]},t))})]})})})]})}function nnt(){return n.jsxs("div",{className:"space-y-6",children:[n.jsx(ent,{}),n.jsx(tnt,{}),n.jsx(rnt,{})]})}const snt=()=>{const e=dr(),[t,r]=v.useState(""),[s,a]=v.useState("all"),[i,o]=v.useState("all"),[l,c]=v.useState(!1),[d,u]=v.useState(null),{data:f,isLoading:m,error:h}=pm(),x=AX(),p=(f==null?void 0:f.results)||[],g=v.useMemo(()=>p.filter(b=>{const N=b.name.toLowerCase().includes(t.toLowerCase())||b.email.toLowerCase().includes(t.toLowerCase())||b.contact_person.toLowerCase().includes(t.toLowerCase()),_=s==="all"||s==="active"&&b.active_issues===0||s==="issues"&&b.active_issues>0,C=parseFloat(b.reliability),A=i==="all"||i==="high"&&C>=4.5||i==="medium"&&C>=3.5&&C<4.5||i==="low"&&C<3.5;return N&&_&&A}),[p,t,s,i]),j=b=>{const N=typeof b=="string"?parseFloat(b):b;return n.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((_,C)=>n.jsx(tb,{className:`h-3 w-3 ${C<Math.floor(N)?"fill-yellow-500 text-yellow-500":"text-muted-foreground"}`},C)),n.jsx("span",{className:"text-sm font-medium ml-1",children:N.toFixed(1)})]})},y=(b,N)=>{u({id:b,name:N}),c(!0)},w=()=>{d&&x.mutate(d.id,{onSuccess:()=>{c(!1),u(null)}})};return m?n.jsx(dt,{title:"Vendors",children:n.jsx(nnt,{})}):n.jsx(dt,{title:"Vendors",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(Z,{className:"",children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Vendors"}),n.jsx("p",{className:"text-3xl font-bold",children:p.length})]}),n.jsx(cr,{className:"h-10 w-10 text-primary opacity-20"})]})})}),n.jsx(Z,{className:"",children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Vendors"}),n.jsx("p",{className:"text-3xl font-bold",children:p.filter(b=>b.active_issues===0).length})]}),n.jsx(ri,{className:"h-10 w-10 text-green-500 opacity-20"})]})})}),n.jsx(Z,{className:"",children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Orders"}),n.jsx("p",{className:"text-3xl font-bold",children:p.reduce((b,N)=>b+N.orders_count,0)})]}),n.jsx(ct,{className:"h-10 w-10 text-blue-500 opacity-20"})]})})}),n.jsx(Z,{className:"",children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Reliability"}),n.jsx("p",{className:"text-3xl font-bold",children:p.length>0?(p.reduce((b,N)=>b+parseFloat(N.reliability),0)/p.length).toFixed(1):"0.0"})]}),n.jsx(tb,{className:"h-10 w-10 text-yellow-500 opacity-20"})]})})})]}),n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{placeholder:"Search by vendor name or email...",value:t,onChange:b=>r(b.target.value),className:"pl-9"})]}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs(at,{value:s,onValueChange:a,children:[n.jsxs(nt,{className:"w-[150px]",children:[n.jsx(Rv,{className:"h-4 w-4 mr-2"}),n.jsx(it,{placeholder:"Status"})]}),n.jsxs(st,{children:[n.jsx(ne,{value:"all",children:"All Status"}),n.jsx(ne,{value:"active",children:"Active"}),n.jsx(ne,{value:"issues",children:"With Issues"})]})]}),n.jsxs(at,{value:i,onValueChange:o,children:[n.jsxs(nt,{className:"w-[150px]",children:[n.jsx(tb,{className:"h-4 w-4 mr-2"}),n.jsx(it,{placeholder:"Reliability"})]}),n.jsxs(st,{children:[n.jsx(ne,{value:"all",children:"All Ratings"}),n.jsx(ne,{value:"high",children:"High (4.5+)"}),n.jsx(ne,{value:"medium",children:"Medium (3.5-4.5)"}),n.jsx(ne,{value:"low",children:"Low (<3.5)"})]})]}),n.jsxs(te,{onClick:()=>e("/vendors/new"),className:"gap-2",children:[n.jsx(Gn,{className:"h-4 w-4"}),"Add Vendor"]})]})]})})}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center justify-between",children:[n.jsxs("span",{children:["All Vendors (",g.length,")"]}),t&&n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>{r(""),a("all"),o("all")},children:"Clear Filters"})]})}),n.jsx(J,{children:g.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(_t,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No vendors found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filters"}),n.jsxs(te,{onClick:()=>e("/vendors/new"),children:[n.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Add Your First Vendor"]})]}):n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Os,{children:[n.jsx(Ds,{children:n.jsxs(Ut,{children:[n.jsx(ke,{className:"w-[80px]",children:"Logo"}),n.jsx(ke,{children:"Vendor Name"}),n.jsx(ke,{children:"Contact"}),n.jsx(ke,{children:"Lead Time"}),n.jsx(ke,{children:"Reliability"}),n.jsx(ke,{className:"text-center",children:"Orders"}),n.jsx(ke,{className:"text-center",children:"Issues"}),n.jsx(ke,{className:"text-right",children:"Actions"})]})}),n.jsx(Is,{children:g.map(b=>n.jsxs(Ut,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>e(`/vendors/${b.id}`),children:[n.jsx(Se,{children:n.jsx("div",{className:"flex items-center justify-center bg-muted rounded-lg w-12 h-12 overflow-hidden",children:b.website?n.jsx(n.Fragment,{children:n.jsx("img",{src:`https://logo.clearbit.com/${new URL(b.website).hostname}`,alt:`${b.name} logo`,className:"w-10 h-10 object-contain",onError:N=>{const _=N.currentTarget;if(!_.dataset.fallbackAttempted)_.dataset.fallbackAttempted="true",_.src=`https://www.google.com/s2/favicons?domain=${new URL(b.website).hostname}&sz=128`;else{_.style.display="none";const C=_.parentElement;if(C){const A=document.createElement("span");A.className="text-2xl",A.textContent=b.logo||b.name.charAt(0).toUpperCase(),C.appendChild(A)}}}})}):n.jsx("span",{className:"text-2xl",children:b.logo||b.name.charAt(0).toUpperCase()})})}),n.jsx(Se,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:b.name}),n.jsx("a",{href:b.website,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline",onClick:N=>N.stopPropagation(),children:b.website.replace("https://","")})]})}),n.jsx(Se,{children:n.jsx("div",{className:"text-sm",children:n.jsx("p",{children:b.email})})}),n.jsx(Se,{children:n.jsx(Ae,{variant:"outline",className:"font-mono",children:b.lead_time})}),n.jsx(Se,{children:j(b.reliability)}),n.jsx(Se,{className:"text-center",children:n.jsx(Ae,{variant:"secondary",className:"font-semibold",children:b.orders_count})}),n.jsx(Se,{className:"text-center",children:n.jsx(Ae,{variant:b.active_issues>0?"destructive":"default",className:"font-semibold",children:b.active_issues})}),n.jsx(Se,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(te,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),e(`/vendors/${b.id}`)},title:"View Details",children:n.jsx(ti,{className:"h-4 w-4"})}),n.jsx(te,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),e(`/vendors/${b.id}/edit`)},title:"Edit Vendor",children:n.jsx(Gs,{className:"h-4 w-4"})}),n.jsx(te,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),y(b.id,b.name)},title:"Delete Vendor",disabled:x.isPending,children:n.jsx(xn,{className:"h-4 w-4"})})]})})]},b.id))})]})})})]}),h&&n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(_t,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Failed to load vendors"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:h instanceof Error?h.message:"An error occurred while fetching vendors"}),n.jsx(te,{onClick:()=>window.location.reload(),children:"Try Again"})]})})}),n.jsx(lc,{open:l,onOpenChange:c,children:n.jsxs(pl,{children:[n.jsxs(xl,{children:[n.jsx(vl,{children:"Are you sure?"}),n.jsxs(yl,{children:["This will permanently delete ",n.jsx("strong",{children:d==null?void 0:d.name}),". This action cannot be undone."]})]}),n.jsxs(gl,{children:[n.jsx(bl,{disabled:x.isPending,children:"Cancel"}),n.jsx(jl,{onClick:w,disabled:x.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:x.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})})]})})},ant=()=>{const e=dr(),t=mBe(),[r,s]=v.useState("basic"),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[m,h]=v.useState(""),[x,p]=v.useState(""),[g,j]=v.useState(""),[y,w]=v.useState(""),[b,N]=v.useState(""),[_,C]=v.useState(""),[A,E]=v.useState(""),[k,O]=v.useState(""),[I,W]=v.useState(""),[H,F]=v.useState(""),[T,P]=v.useState(""),[M,D]=v.useState(""),[Y,ae]=v.useState(""),[R,V]=v.useState(""),[L,K]=v.useState(""),[le,me]=v.useState(""),B=()=>{if(!a||!c||!o){Be.error("Please fill in all required fields (Company Name, Contact Person, Email)"),s("basic");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c)){Be.error("Please enter a valid email address"),s("basic");return}const Ee={name:a,company_name:a,contact_person:o,email:c,phone:u||"",website:m||"",logo:"",lead_time:M||"7-14 days",address:g||"",city:y||"",country:b||"",postal_code:_||"",tax_id:A||"",business_type:k||"",year_established:I||"",employee_count:H||"",category:x||"",product_categories:"",certifications:"",specializations:"",payment_terms:T||"",delivery_terms:M||"",warranty_period:Y||"",return_policy:R||"",minimum_order:L||"",notes:le||""};t.mutate(Ee,{onSuccess:()=>{e("/vendors")}})},X=xe=>{Be.info(`Import from ${xe.toUpperCase()} coming soon!`)},oe=["basic","address","business","terms"],Ne=oe.indexOf(r),ue=()=>{Ne<oe.length-1&&s(oe[Ne+1])},ve=()=>{Ne>0&&s(oe[Ne-1])};return n.jsx(dt,{title:"Add New Vendor",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(te,{variant:"ghost",onClick:()=>e("/vendors"),className:"gap-2",children:[n.jsx(tr,{className:"h-4 w-4"}),"Back to Vendors"]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(te,{variant:"outline",className:"gap-2",children:[n.jsx(Ui,{className:"h-4 w-4"}),"Import Data"]}),n.jsx(te,{onClick:B,className:"gap-2",disabled:t.isPending,children:t.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(fu,{className:"h-4 w-4"}),"Save Vendor"]})})]})]}),n.jsx(Z,{className:"border-dashed",children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h3",{className:"font-semibold",children:"Quick Import"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Import vendor data from existing files"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(te,{variant:"outline",size:"sm",onClick:()=>X("excel"),className:"gap-2",children:[n.jsx(kk,{className:"h-4 w-4"}),"Excel"]}),n.jsxs(te,{variant:"outline",size:"sm",onClick:()=>X("csv"),className:"gap-2",children:[n.jsx(An,{className:"h-4 w-4"}),"CSV"]}),n.jsxs(te,{variant:"outline",size:"sm",onClick:()=>X("docs"),className:"gap-2",children:[n.jsx(gse,{className:"h-4 w-4"}),"Docs"]})]})]})})}),n.jsxs(Z,{children:[n.jsxs(we,{children:[n.jsx(Ue,{children:"Vendor Information"}),n.jsx(Or,{children:"Fill in the vendor details below. Fields marked with * are required."})]}),n.jsxs(J,{children:[n.jsxs(ko,{value:r,onValueChange:s,children:[n.jsxs(Xi,{className:"grid w-full grid-cols-4",children:[n.jsx(Vt,{value:"basic",children:"Basic Info"}),n.jsx(Vt,{value:"address",children:"Address"}),n.jsx(Vt,{value:"business",children:"Business"}),n.jsx(Vt,{value:"terms",children:"Terms"})]}),n.jsx(Yt,{value:"basic",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"companyName",children:["Company Name ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(cr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"companyName",placeholder:"Enter company name",value:a,onChange:xe=>i(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"category",children:"Category"}),n.jsxs(at,{value:x,onValueChange:p,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select category"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"furniture",children:"Furniture"}),n.jsx(ne,{value:"electronics",children:"Electronics"}),n.jsx(ne,{value:"lighting",children:"Lighting"}),n.jsx(ne,{value:"appliances",children:"Appliances"}),n.jsx(ne,{value:"textiles",children:"Textiles"}),n.jsx(ne,{value:"construction",children:"Construction"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"contactPerson",children:["Contact Person ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx($n,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"contactPerson",placeholder:"Primary contact name",value:o,onChange:xe=>l(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"email",children:["Email ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(yn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"email",type:"email",placeholder:"contact@company.com",value:c,onChange:xe=>d(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"phone",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(So,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"phone",placeholder:"+1 (555) 000-0000",value:u,onChange:xe=>f(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"website",children:"Website"}),n.jsxs("div",{className:"relative",children:[n.jsx(Xl,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"website",placeholder:"https://company.com",value:m,onChange:xe=>h(xe.target.value),className:"pl-9"})]})]})]})}),n.jsx(Yt,{value:"address",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"address",children:"Street Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(ha,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"address",placeholder:"123 Main Street",value:g,onChange:xe=>j(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"city",children:"City"}),n.jsx(fe,{id:"city",placeholder:"City",value:y,onChange:xe=>w(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"postalCode",children:"Postal Code"}),n.jsx(fe,{id:"postalCode",placeholder:"10001",value:_,onChange:xe=>C(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"country",children:"Country"}),n.jsx(fe,{id:"country",placeholder:"Country",value:b,onChange:xe=>N(xe.target.value)})]})]})}),n.jsx(Yt,{value:"business",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"taxId",children:"Tax ID / VAT Number"}),n.jsx(fe,{id:"taxId",placeholder:"XX-XXXXXXX",value:A,onChange:xe=>E(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"businessType",children:"Business Type"}),n.jsxs(at,{value:k,onValueChange:O,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select type"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"manufacturer",children:"Manufacturer"}),n.jsx(ne,{value:"distributor",children:"Distributor"}),n.jsx(ne,{value:"wholesaler",children:"Wholesaler"}),n.jsx(ne,{value:"retailer",children:"Retailer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"yearEstablished",children:"Year Established"}),n.jsx(fe,{id:"yearEstablished",placeholder:"2020",value:I,onChange:xe=>W(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"employeeCount",children:"Number of Employees"}),n.jsx(fe,{id:"employeeCount",placeholder:"50",value:H,onChange:xe=>F(xe.target.value)})]})]})}),n.jsx(Yt,{value:"terms",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"paymentTerms",children:"Payment Terms"}),n.jsxs(at,{value:T,onValueChange:P,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select payment terms"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"net-30",children:"Net 30"}),n.jsx(ne,{value:"net-60",children:"Net 60"}),n.jsx(ne,{value:"net-90",children:"Net 90"}),n.jsx(ne,{value:"cod",children:"Cash on Delivery"}),n.jsx(ne,{value:"advance",children:"Advance Payment"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"deliveryTerms",children:"Delivery Terms"}),n.jsx(fe,{id:"deliveryTerms",placeholder:"E.g., 7-14 business days",value:M,onChange:xe=>D(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"warrantyPeriod",children:"Warranty Period"}),n.jsx(fe,{id:"warrantyPeriod",placeholder:"E.g., 12 months",value:Y,onChange:xe=>ae(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"minimumOrder",children:"Minimum Order Value"}),n.jsxs("div",{className:"relative",children:[n.jsx(br,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"minimumOrder",placeholder:"500",value:L,onChange:xe=>K(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"returnPolicy",children:"Return Policy"}),n.jsx(gn,{id:"returnPolicy",placeholder:"Describe return and refund policy",value:R,onChange:xe=>V(xe.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(gn,{id:"notes",placeholder:"Any additional information about the vendor",value:le,onChange:xe=>me(xe.target.value),rows:4})]})]})})]}),n.jsxs("div",{className:"flex justify-between mt-6 pt-6 border-t",children:[n.jsxs(te,{type:"button",variant:"outline",onClick:ve,disabled:Ne===0,className:"gap-2",children:[n.jsx(hN,{className:"h-4 w-4"}),"Previous"]}),n.jsx("div",{className:"flex gap-2",children:Ne===oe.length-1?n.jsx(te,{type:"button",onClick:B,disabled:t.isPending,className:"gap-2",children:t.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(fu,{className:"h-4 w-4"}),"Save Vendor"]})}):n.jsxs(te,{type:"button",variant:"outline",onClick:ue,className:"gap-2",children:["Next",n.jsx(qc,{className:"h-4 w-4"})]})})]})]})]})]})})};function int(){return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{className:"h-9 w-40 rounded-md"}),n.jsx(S,{className:"h-9 w-32 rounded-md"})]})}function ont(){return n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsx("div",{className:"flex items-center justify-center bg-muted rounded-full w-24 h-24",children:n.jsx(S,{className:"w-20 h-20 rounded-full"})}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-9 w-48"}),n.jsx(S,{className:"h-4 w-32"})]}),n.jsx(S,{className:"h-6 w-16 rounded-full"})]}),n.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[[...Array(5)].map((e,t)=>n.jsx(S,{className:"h-4 w-4 rounded-sm"},t)),n.jsx(S,{className:"h-4 w-8 ml-1"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-4 w-32"})]},t))})]})]})})})}function lnt(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{iconBg:"bg-primary/10"},{iconBg:"bg-red-500/10"},{iconBg:"bg-primary/10"},{iconBg:"bg-green-500/10"}].map((e,t)=>n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-9 w-16"})]}),n.jsx("div",{className:`h-8 w-8 rounded-lg ${e.iconBg} flex items-center justify-center`,children:n.jsx(S,{className:"h-5 w-5 rounded"})})]})})},t))})}function cnt(){return n.jsxs(Z,{children:[n.jsx(we,{children:n.jsx(S,{className:"h-6 w-32"})}),n.jsxs(J,{children:[n.jsx("div",{className:"grid w-full grid-cols-5 bg-muted rounded-lg p-1 mb-6",children:[...Array(5)].map((e,t)=>n.jsx("div",{className:"flex items-center justify-center py-2",children:n.jsx(S,{className:"h-4 w-16"})},t))}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(S,{className:"h-6 w-40"}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"space-y-3",children:[...Array(2)].map((e,t)=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-4 w-48"})]},t))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(S,{className:"h-6 w-32"}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"flex justify-between",children:[n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-4 w-20"})]},t))})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(S,{className:"h-6 w-40"}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[...Array(3)].map((e,t)=>n.jsx(Z,{children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx(S,{className:"h-8 w-8 rounded-lg mx-auto"}),n.jsx(S,{className:"h-7 w-16 mx-auto"}),n.jsx(S,{className:"h-3 w-28 mx-auto"})]})})},t))})]})]})]})]})}function dnt(){return n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Image","Product Details","Category","Client","Apartment","Room","Qty","Unit Price","Total","Payment","Availability","Actions"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(S,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(5)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"w-16 h-16 rounded-md"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2 min-w-[200px]",children:[n.jsx(S,{className:"h-4 w-40"}),n.jsx(S,{className:"h-3 w-32"}),n.jsx(S,{className:"h-3 w-28"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-6 w-24 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2 min-w-[150px]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-4 w-4 rounded"}),n.jsx(S,{className:"h-4 w-24"})]}),n.jsx(S,{className:"h-3 w-32"}),n.jsx(S,{className:"h-3 w-28"}),n.jsx(S,{className:"h-5 w-16 rounded-full"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2 min-w-[150px]",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-3 w-24"}),n.jsx(S,{className:"h-3 w-28"}),n.jsx(S,{className:"h-5 w-20 rounded-full"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-4 w-16"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx(S,{className:"h-4 w-12 ml-auto"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx(S,{className:"h-4 w-24 ml-auto"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-28 ml-auto"}),n.jsx(S,{className:"h-3 w-20 ml-auto"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2 min-w-[120px]",children:[n.jsx(S,{className:"h-6 w-16 rounded-full"}),n.jsx(S,{className:"h-3 w-24"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(S,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx(S,{className:"h-8 w-8 rounded ml-auto"})})]},t))})]})})}function unt(){return n.jsx(dt,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(int,{}),n.jsx(ont,{}),n.jsx(lnt,{}),n.jsx(cnt,{})]})})}const fnt=()=>{const{id:e}=Ki(),t=dr(),[r,s]=v.useState("overview"),{data:a,isLoading:i,error:o}=CX(e||null),{data:l=[],isLoading:c}=pBe(e||null),d=xBe(e||"");if(i)return n.jsx(unt,{});if(o||!a)return n.jsx(dt,{title:"Vendor Not Found",children:n.jsx(Z,{children:n.jsxs(J,{className:"p-12 text-center",children:[n.jsx(_t,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Vendor Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:o instanceof Error?o.message:"The vendor you're looking for doesn't exist."}),n.jsx(te,{onClick:()=>t("/vendors"),children:"Back to Vendors"})]})})});const u=f=>{const m=typeof f=="string"?parseFloat(f):f;return n.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((h,x)=>n.jsx(tb,{className:`h-4 w-4 ${x<Math.floor(m)?"fill-yellow-500 text-yellow-500":"text-muted-foreground"}`},x)),n.jsx("span",{className:"text-sm font-medium ml-1",children:m.toFixed(1)})]})};return n.jsx(dt,{title:a.name,children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(te,{variant:"ghost",onClick:()=>t("/vendors"),className:"gap-2",children:[n.jsx(tr,{className:"h-4 w-4"}),"Back to Vendors"]}),n.jsxs(te,{onClick:()=>t(`/vendors/${e}/edit`),className:"gap-2",children:[n.jsx(Gs,{className:"h-4 w-4"}),"Edit Vendor"]})]}),n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsx("div",{className:"flex items-center justify-center bg-muted rounded-full w-24 h-24 overflow-hidden",children:a.website?n.jsx("img",{src:`https://logo.clearbit.com/${new URL(a.website).hostname}`,alt:`${a.name} logo`,className:"w-20 h-20 object-contain",onError:f=>{const m=f.currentTarget;if(!m.dataset.fallbackAttempted)m.dataset.fallbackAttempted="true",m.src=`https://www.google.com/s2/favicons?domain=${new URL(a.website).hostname}&sz=128`;else{m.style.display="none";const h=m.parentElement;if(h){const x=document.createElement("span");x.className="text-4xl",x.textContent=a.logo||a.name.charAt(0).toUpperCase(),h.appendChild(x)}}}}):n.jsx("span",{className:"text-4xl",children:a.logo||a.name.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold",children:a.name}),n.jsx("p",{className:"text-muted-foreground",children:"Verified Vendor"})]}),n.jsx(Ae,{variant:"secondary",className:"text-sm",children:"Active"})]}),n.jsx("div",{className:"flex items-center gap-2 mb-4",children:u(a.reliability)})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(yn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:`mailto:${a.email}`,className:"hover:underline",children:a.email})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Xl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:a.website.replace("https://","")})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(jr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:["Lead Time: ",a.lead_time]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(ct,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[a.orders_count," Total Orders"]})]})]})]})]})})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),n.jsx("p",{className:"text-3xl font-bold mt-1",children:a.orders_count})]}),n.jsx(ct,{className:"h-8 w-8 text-primary"})]})})}),n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Issues"}),n.jsx("p",{className:"text-3xl font-bold mt-1",children:a.active_issues})]}),n.jsx(_t,{className:`h-8 w-8 ${a.active_issues>0?"text-destructive":"text-green-500"}`})]})})}),n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Products"}),n.jsx("p",{className:"text-3xl font-bold mt-1",children:c?n.jsx("span",{className:"inline-block h-9 w-12 bg-muted animate-pulse rounded"}):l.length})]}),n.jsx(ct,{className:"h-8 w-8 text-primary"})]})})}),n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Reliability"}),n.jsx("p",{className:"text-3xl font-bold mt-1",children:(typeof a.reliability=="string"?parseFloat(a.reliability):a.reliability).toFixed(1)})]}),n.jsx(ri,{className:"h-8 w-8 text-green-500"})]})})})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsx(Ue,{children:"Vendor Details"})}),n.jsx(J,{children:n.jsxs(ko,{value:r,onValueChange:s,children:[n.jsxs(Xi,{className:"grid w-full grid-cols-5",children:[n.jsx(Vt,{value:"overview",children:"Overview"}),n.jsx(Vt,{value:"products",children:"Products"}),n.jsx(Vt,{value:"orders",children:"Orders"}),n.jsx(Vt,{value:"issues",children:"Issues"}),n.jsx(Vt,{value:"payments",children:"Payments"})]}),n.jsxs(Yt,{value:"overview",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Contact Information"}),n.jsx(Ft,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:a.email})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Xl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm hover:underline",children:a.website})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Business Details"}),n.jsx(Ft,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Lead Time"}),n.jsx("span",{className:"text-sm font-medium",children:a.lead_time})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Reliability Score"}),n.jsxs("span",{className:"text-sm font-medium",children:[a.reliability,"/5.0"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Orders"}),n.jsx("span",{className:"text-sm font-medium",children:a.orders_count})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Performance Metrics"}),n.jsx(Ft,{}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsx(Z,{children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Br,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold",children:"95%"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"On-Time Delivery"})]})})}),n.jsx(Z,{children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ri,{className:"h-8 w-8 text-primary mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold",children:"4.5"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Quality Rating"})]})})}),n.jsx(Z,{children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ct,{className:"h-8 w-8 text-primary mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold",children:"98%"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Accuracy"})]})})})]})]})]}),n.jsx(Yt,{value:"products",className:"mt-6",children:c?n.jsx(dnt,{}):l.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ct,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Products"}),n.jsx("p",{className:"text-muted-foreground",children:"This vendor hasn't supplied any products yet."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Os,{children:[n.jsx(Ds,{children:n.jsxs(Ut,{children:[n.jsx(ke,{className:"w-[80px]",children:"Image"}),n.jsx(ke,{children:"Product Details"}),n.jsx(ke,{children:"Category"}),n.jsx(ke,{children:"Client"}),n.jsx(ke,{children:"Apartment"}),n.jsx(ke,{children:"Room"}),n.jsx(ke,{className:"text-right",children:"Qty"}),n.jsx(ke,{className:"text-right",children:"Unit Price"}),n.jsx(ke,{className:"text-right",children:"Total"}),n.jsx(ke,{children:"Payment"}),n.jsx(ke,{children:"Availability"}),n.jsx(ke,{className:"text-right",children:"Actions"})]})}),n.jsx(Is,{children:l.map(f=>{var m;return n.jsxs(Ut,{children:[n.jsxs(Se,{children:[f.product_image?n.jsx("img",{src:f.product_image,alt:f.product,className:"w-16 h-16 object-cover rounded-md",onError:h=>{var x;h.currentTarget.style.display="none",(x=h.currentTarget.nextElementSibling)==null||x.classList.remove("hidden")}}):null,n.jsx("div",{className:`w-16 h-16 bg-muted rounded-md flex items-center justify-center ${f.product_image?"hidden":""}`,children:n.jsx(Bi,{className:"h-6 w-6 text-muted-foreground"})})]}),n.jsx(Se,{children:n.jsxs("div",{className:"space-y-1 min-w-[200px]",children:[n.jsx("p",{className:"font-medium",children:f.product}),f.description&&n.jsx("p",{className:"text-xs text-muted-foreground",children:f.description}),f.dimensions&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.dimensions]}),f.material&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.material]}),f.color&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.color]}),f.brand&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.brand]})]})}),n.jsx(Se,{children:n.jsx(Ae,{variant:"outline",children:f.category_name})}),n.jsx(Se,{children:(m=f.apartment_details)!=null&&m.client_details?n.jsxs("div",{className:"space-y-1 min-w-[150px]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($n,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium",children:f.apartment_details.client_details.name})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f.apartment_details.client_details.email}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f.apartment_details.client_details.phone}),n.jsx(Ae,{variant:"secondary",className:"text-xs",children:f.apartment_details.client_details.type})]}):n.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),n.jsx(Se,{children:f.apartment_details?n.jsxs("div",{className:"space-y-1 min-w-[150px]",children:[n.jsx("p",{className:"text-sm font-medium",children:f.apartment_details.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f.apartment_details.type}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.apartment_details.owner]}),n.jsx(Ae,{variant:f.apartment_details.status==="Delivery"?"default":f.apartment_details.status==="In Progress"?"secondary":"outline",className:"text-xs",children:f.apartment_details.status})]}):n.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),n.jsx(Se,{children:n.jsx("span",{className:"text-sm",children:f.room||"-"})}),n.jsx(Se,{className:"text-right",children:n.jsx("span",{className:"font-medium",children:f.qty||"-"})}),n.jsx(Se,{className:"text-right",children:f.unit_price?n.jsx("div",{className:"space-y-1",children:n.jsx("span",{className:"font-medium",children:typeof f.unit_price=="number"?`${f.unit_price.toFixed(2)} ${f.currency||""}`:`${f.unit_price} ${f.currency||""}`})}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(Se,{className:"text-right",children:f.total_amount||f.total_cost?n.jsxs("div",{className:"space-y-1",children:[n.jsxs("span",{className:"font-semibold text-primary",children:[f.total_amount||f.total_cost," ",f.currency||""]}),f.outstanding_balance&&parseFloat(f.outstanding_balance)>0&&n.jsxs("p",{className:"text-xs text-destructive",children:["Due: ",f.outstanding_balance," ",f.currency]})]}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(Se,{children:n.jsxs("div",{className:"space-y-1 min-w-[120px]",children:[n.jsx(Ae,{variant:f.payment_status==="Paid"?"default":f.payment_status==="Unpaid"?"destructive":f.payment_status==="Partial"?"secondary":"outline",children:f.payment_status||"Unknown"}),f.paid_amount&&parseFloat(f.paid_amount)>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Paid: ",f.paid_amount," ",f.currency]})]})}),n.jsx(Se,{children:n.jsx(Ae,{variant:f.availability==="In Stock"?"default":f.availability==="Out of Stock"?"destructive":f.availability==="Pre-order"?"secondary":"outline",children:f.availability||"Unknown"})}),n.jsx(Se,{className:"text-right",children:n.jsxs(lc,{children:[n.jsx(aX,{asChild:!0,children:n.jsx(te,{variant:"ghost",size:"sm",disabled:d.isPending,className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:n.jsx(xn,{className:"h-4 w-4"})})}),n.jsxs(pl,{children:[n.jsxs(xl,{children:[n.jsx(vl,{children:"Remove Product?"}),n.jsxs(yl,{children:['Are you sure you want to remove "',f.product,'" from this vendor? This action cannot be undone.']})]}),n.jsxs(gl,{children:[n.jsx(bl,{children:"Cancel"}),n.jsx(jl,{onClick:()=>d.mutate(f.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remove"})]})]})]})})]},f.id)})})]})})}),n.jsx(Yt,{value:"orders",className:"mt-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(wr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Orders"}),n.jsx("p",{className:"text-muted-foreground",children:"Order history for this vendor will be displayed here."})]})}),n.jsx(Yt,{value:"issues",className:"mt-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(_t,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Issues"}),n.jsx("p",{className:"text-muted-foreground",children:"Issue tracking for this vendor will be displayed here."})]})}),n.jsx(Yt,{value:"payments",className:"mt-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(br,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payments"}),n.jsx("p",{className:"text-muted-foreground",children:"Payment history for this vendor will be displayed here."})]})})]})})]})]})})};function mnt(){return n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsx(S,{className:"h-10 w-32 rounded-md"})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(S,{className:"h-10 w-24 rounded-md"}),n.jsx(S,{className:"h-10 w-32 rounded-md"})]})]})}function hnt(){return n.jsxs(Z,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-7 w-48"}),n.jsx(S,{className:"h-4 w-96"})]})}),n.jsxs(J,{children:[n.jsx("div",{className:"flex gap-1 border-b mb-6",children:["Basic Info","Address","Business","Products","Terms"].map((e,t)=>n.jsx(S,{className:"h-10 w-28 rounded-t-md"},t))}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-16"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-28"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx(S,{className:"h-5 w-32"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-12"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-20"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-24"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx(S,{className:"h-5 w-36"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-16"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-28"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx(S,{className:"h-5 w-40"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-36"}),n.jsx(S,{className:"h-20 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-28"}),n.jsx(S,{className:"h-20 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-20 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx(S,{className:"h-5 w-44"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-28"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"h-4 w-32"}),n.jsx(S,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[n.jsx(S,{className:"h-4 w-16"}),n.jsx(S,{className:"h-24 w-full rounded-md"})]})]})]})]})}function pnt(){return n.jsx(dt,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(mnt,{}),n.jsx(hnt,{})]})})}const xnt=()=>{const{id:e}=Ki(),t=dr(),[r,s]=v.useState("basic"),{data:a,isLoading:i,error:o}=CX(e||null),l=hBe(),c=AX(),[d,u]=v.useState(""),[f,m]=v.useState(""),[h,x]=v.useState(""),[p,g]=v.useState(""),[j,y]=v.useState(""),[w,b]=v.useState(""),[N,_]=v.useState(""),[C,A]=v.useState(""),[E,k]=v.useState(""),[O,I]=v.useState(""),[W,H]=v.useState(""),[F,T]=v.useState(""),[P,M]=v.useState(""),[D,Y]=v.useState(""),[ae,R]=v.useState(""),[V,L]=v.useState(""),[K,le]=v.useState(""),[me,B]=v.useState(""),[X,oe]=v.useState(""),[Ne,ue]=v.useState(""),[ve,xe]=v.useState(""),[Ee,Me]=v.useState(""),[Te,se]=v.useState("");if(v.useEffect(()=>{a&&(u(a.name||""),m(a.contact_person||""),x(a.email||""),g(a.phone||""),y(a.website||""),b(a.category||""),_(a.address||""),A(a.city||""),k(a.country||""),I(a.postal_code||""),H(a.tax_id||""),T(a.business_type||""),M(a.year_established||""),Y(a.employee_count||""),R(a.product_categories||""),L(a.certifications||""),le(a.specializations||""),B(a.payment_terms||""),oe(a.delivery_terms||""),ue(a.warranty_period||""),xe(a.return_policy||""),Me(a.minimum_order||""),se(a.notes||""))},[a]),i)return n.jsx(pnt,{});if(o||!a)return n.jsx(dt,{title:"Vendor Not Found",children:n.jsx(Z,{children:n.jsxs(J,{className:"p-12 text-center",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Vendor Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:o instanceof Error?o.message:"The vendor you're trying to edit doesn't exist."}),n.jsx(te,{onClick:()=>t("/vendors"),children:"Back to Vendors"})]})})});const he=()=>{if(!d||!h||!f){Be.error("Please fill in all required fields (Company Name, Contact Person, Email)"),s("basic");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h)){Be.error("Please enter a valid email address"),s("basic");return}const $e={name:d,company_name:d,contact_person:f,email:h,phone:p||"",website:j||"",category:w||"",address:N||"",city:C||"",country:E||"",postal_code:O||"",tax_id:W||"",business_type:F||"",year_established:P||"",employee_count:D||"",product_categories:ae||"",certifications:V||"",specializations:K||"",payment_terms:me||"",delivery_terms:X||"",warranty_period:Ne||"",return_policy:ve||"",minimum_order:Ee||"",notes:Te||""};l.mutate({id:e,data:$e},{onSuccess:()=>{t(`/vendors/${e}`)}})},ce=()=>{c.mutate(e,{onSuccess:()=>{t("/vendors")}})};return n.jsx(dt,{title:`Edit ${a.name}`,children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(te,{variant:"ghost",onClick:()=>t(`/vendors/${e}`),className:"gap-2",children:[n.jsx(tr,{className:"h-4 w-4"}),"Back to Vendor"]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(lc,{children:[n.jsx(aX,{asChild:!0,children:n.jsxs(te,{variant:"destructive",className:"gap-2",children:[n.jsx(xn,{className:"h-4 w-4"}),"Delete"]})}),n.jsxs(pl,{children:[n.jsxs(xl,{children:[n.jsx(vl,{children:"Are you sure?"}),n.jsx(yl,{children:"This will permanently delete this vendor and all associated data. This action cannot be undone."})]}),n.jsxs(gl,{children:[n.jsx(bl,{disabled:c.isPending,children:"Cancel"}),n.jsx(jl,{onClick:ce,disabled:c.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:c.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})]}),n.jsx(te,{onClick:he,className:"gap-2",disabled:l.isPending,children:l.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(fu,{className:"h-4 w-4"}),"Save Changes"]})})]})]}),n.jsxs(Z,{children:[n.jsxs(we,{children:[n.jsx(Ue,{children:"Vendor Information"}),n.jsx(Or,{children:"Update the vendor details below. Fields marked with * are required."})]}),n.jsx(J,{children:n.jsxs(ko,{value:r,onValueChange:s,children:[n.jsxs(Xi,{className:"grid w-full grid-cols-5",children:[n.jsx(Vt,{value:"basic",children:"Basic Info"}),n.jsx(Vt,{value:"address",children:"Address"}),n.jsx(Vt,{value:"business",children:"Business"}),n.jsx(Vt,{value:"products",children:"Products"}),n.jsx(Vt,{value:"terms",children:"Terms"})]}),n.jsx(Yt,{value:"basic",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"companyName",children:["Company Name ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(cr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"companyName",placeholder:"Enter company name",value:d,onChange:be=>u(be.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"category",children:"Category"}),n.jsxs(at,{value:w,onValueChange:b,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select category"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"furniture",children:"Furniture"}),n.jsx(ne,{value:"electronics",children:"Electronics"}),n.jsx(ne,{value:"lighting",children:"Lighting"}),n.jsx(ne,{value:"appliances",children:"Appliances"}),n.jsx(ne,{value:"textiles",children:"Textiles"}),n.jsx(ne,{value:"construction",children:"Construction"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"contactPerson",children:["Contact Person ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx($n,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"contactPerson",placeholder:"Primary contact name",value:f,onChange:be=>m(be.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"email",children:["Email ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(yn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"email",type:"email",placeholder:"contact@company.com",value:h,onChange:be=>x(be.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"phone",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(So,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"phone",placeholder:"+1 (555) 000-0000",value:p,onChange:be=>g(be.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"website",children:"Website"}),n.jsxs("div",{className:"relative",children:[n.jsx(Xl,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"website",placeholder:"https://company.com",value:j,onChange:be=>y(be.target.value),className:"pl-9"})]})]})]})}),n.jsx(Yt,{value:"address",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"address",children:"Street Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(ha,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"address",placeholder:"123 Main Street",value:N,onChange:be=>_(be.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"city",children:"City"}),n.jsx(fe,{id:"city",placeholder:"City",value:C,onChange:be=>A(be.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"postalCode",children:"Postal Code"}),n.jsx(fe,{id:"postalCode",placeholder:"10001",value:O,onChange:be=>I(be.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"country",children:"Country"}),n.jsx(fe,{id:"country",placeholder:"Country",value:E,onChange:be=>k(be.target.value)})]})]})}),n.jsx(Yt,{value:"business",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"taxId",children:"Tax ID / VAT Number"}),n.jsx(fe,{id:"taxId",placeholder:"XX-XXXXXXX",value:W,onChange:be=>H(be.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"businessType",children:"Business Type"}),n.jsxs(at,{value:F,onValueChange:T,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select type"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"manufacturer",children:"Manufacturer"}),n.jsx(ne,{value:"distributor",children:"Distributor"}),n.jsx(ne,{value:"wholesaler",children:"Wholesaler"}),n.jsx(ne,{value:"retailer",children:"Retailer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"yearEstablished",children:"Year Established"}),n.jsx(fe,{id:"yearEstablished",placeholder:"2020",value:P,onChange:be=>M(be.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"employeeCount",children:"Number of Employees"}),n.jsx(fe,{id:"employeeCount",placeholder:"50",value:D,onChange:be=>Y(be.target.value)})]})]})}),n.jsx(Yt,{value:"products",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"productCategories",children:"Product Categories"}),n.jsx(gn,{id:"productCategories",placeholder:"E.g., Furniture, Lighting, Appliances (comma-separated)",value:ae,onChange:be=>R(be.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"specializations",children:"Specializations"}),n.jsx(gn,{id:"specializations",placeholder:"What makes this vendor unique?",value:K,onChange:be=>le(be.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"certifications",children:"Certifications & Compliance"}),n.jsx(gn,{id:"certifications",placeholder:"ISO, Quality certifications, etc.",value:V,onChange:be=>L(be.target.value),rows:3})]})]})}),n.jsx(Yt,{value:"terms",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"paymentTerms",children:"Payment Terms"}),n.jsxs(at,{value:me,onValueChange:B,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select payment terms"})}),n.jsxs(st,{children:[n.jsx(ne,{value:"net-30",children:"Net 30"}),n.jsx(ne,{value:"net-60",children:"Net 60"}),n.jsx(ne,{value:"net-90",children:"Net 90"}),n.jsx(ne,{value:"cod",children:"Cash on Delivery"}),n.jsx(ne,{value:"advance",children:"Advance Payment"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"deliveryTerms",children:"Delivery Terms"}),n.jsx(fe,{id:"deliveryTerms",placeholder:"E.g., 7-14 business days",value:X,onChange:be=>oe(be.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"warrantyPeriod",children:"Warranty Period"}),n.jsx(fe,{id:"warrantyPeriod",placeholder:"E.g., 12 months",value:Ne,onChange:be=>ue(be.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"minimumOrder",children:"Minimum Order Value"}),n.jsxs("div",{className:"relative",children:[n.jsx(br,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"minimumOrder",placeholder:"500",value:Ee,onChange:be=>Me(be.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"returnPolicy",children:"Return Policy"}),n.jsx(gn,{id:"returnPolicy",placeholder:"Describe return and refund policy",value:ve,onChange:be=>xe(be.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(gn,{id:"notes",placeholder:"Any additional information about the vendor",value:Te,onChange:be=>se(be.target.value),rows:4})]})]})})]})})]})]})})},Bj=[{id:1,name:"Barbara Kovacs",role:"Designer",email:"barbara@buy2rent.com",phone:"+36 20 123 4567",assigned_apartments:2,status:"Active",last_active:"2025-11-05 14:30"},{id:2,name:"Maria Weber",role:"Designer",email:"maria@buy2rent.com",phone:"+43 664 987 6543",assigned_apartments:2,status:"Active",last_active:"2025-11-05 09:15"},{id:3,name:"Admin User",role:"System Admin",email:"admin@buy2rent.com",phone:"+36 30 555 1234",assigned_apartments:0,status:"Active",last_active:"2025-11-05 15:45"}],b8=[{id:1,name:"Supplier Issue Email",enabled:!0,template:{subject:"Issue Report - {{product}} - Order {{order_no}}",body:`Dear {{vendor}},

We have identified an issue with the following product:

Product: {{product}}
Apartment: {{apartment}}
Issue Type: {{issue_type}}
Description: {{description}}

Please advise on next steps for resolution.

Best regards,
Buy2Rent Team`}},{id:2,name:"Payment Reminder",enabled:!0,template:{subject:"Payment Reminder - Invoice {{invoice_no}}",body:`Dear {{vendor}},

This is a reminder that payment for invoice {{invoice_no}} is due on {{due_date}}.

Amount: {{amount}}
Order: {{order_no}}

Thank you,
Buy2Rent Finance Team`}},{id:3,name:"Out-of-Stock Replacement",enabled:!1,template:{subject:"Product Replacement Request - {{product}}",body:`Dear {{vendor}},

The product {{product}} is currently out of stock. Could you please suggest a suitable replacement?

Original Product: {{product}}
Apartment: {{apartment}}
Budget: {{price}}

Thank you,
Buy2Rent Procurement`}}],gnt=()=>{const[e,t]=v.useState(""),r=Bj.filter(a=>a.name.toLowerCase().includes(e.toLowerCase())||a.email.toLowerCase().includes(e.toLowerCase())||a.role.toLowerCase().includes(e.toLowerCase())),s=a=>({"System Admin":"bg-purple-500/10 text-purple-500",Designer:"bg-blue-500/10 text-blue-500",Manager:"bg-green-500/10 text-green-500"})[a]||"bg-gray-500/10 text-gray-500";return n.jsx(dt,{title:"Users",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),n.jsx("p",{className:"text-3xl font-bold",children:Bj.length})]})})}),n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Users"}),n.jsx("p",{className:"text-3xl font-bold",children:Bj.filter(a=>a.status==="Active").length})]})})}),n.jsx(Z,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Designers"}),n.jsx("p",{className:"text-3xl font-bold",children:Bj.filter(a=>a.role==="Designer").length})]})})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{placeholder:"Search users...",value:e,onChange:a=>t(a.target.value),className:"pl-9"})]}),n.jsxs(te,{children:[n.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{children:["All Users (",r.length,")"]})}),n.jsx(J,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Os,{children:[n.jsx(Ds,{children:n.jsxs(Ut,{children:[n.jsx(ke,{children:"Name"}),n.jsx(ke,{children:"Role"}),n.jsx(ke,{children:"Email"}),n.jsx(ke,{children:"Phone"}),n.jsx(ke,{children:"Assigned Apartments"}),n.jsx(ke,{children:"Status"}),n.jsx(ke,{children:"Last Active"}),n.jsx(ke,{className:"text-right",children:"Actions"})]})}),n.jsx(Is,{children:r.map(a=>n.jsxs(Ut,{children:[n.jsx(Se,{className:"font-medium",children:a.name}),n.jsx(Se,{children:n.jsx(Ae,{className:s(a.role),children:a.role})}),n.jsx(Se,{children:a.email}),n.jsx(Se,{children:a.phone}),n.jsx(Se,{children:a.assigned_apartments>0?n.jsx(Ae,{variant:"secondary",children:a.assigned_apartments}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(Se,{children:n.jsx(Ae,{variant:a.status==="Active"?"default":"secondary",children:a.status})}),n.jsx(Se,{className:"text-sm text-muted-foreground",children:a.last_active}),n.jsx(Se,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(te,{size:"sm",variant:"ghost",children:n.jsx(Gs,{className:"h-4 w-4"})}),n.jsx(te,{size:"sm",variant:"ghost",children:n.jsx(C7,{className:"h-4 w-4"})})]})})]},a.id))})]})})})]})]})})},vnt=()=>{const[e,t]=v.useState(b8.reduce((i,o)=>({...i,[o.id]:o.enabled}),{})),{toast:r}=pr(),s=i=>{t(o=>({...o,[i]:!o[i]})),r({title:"Automation Updated",description:`Automation ${e[i]?"disabled":"enabled"} successfully.`})},a=i=>{r({title:"Template Saved",description:"Email template has been updated successfully."})};return n.jsx(dt,{title:"Automations",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Z,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 rounded-2xl bg-primary/10",children:n.jsx(u0,{className:"h-8 w-8 text-primary"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-2",children:"AI Workflow Automation"}),n.jsx("p",{className:"text-muted-foreground",children:"Configure automated email templates and workflows to streamline vendor communication, payment reminders, and issue resolution."})]})]})})}),b8.map(i=>n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ue,{children:i.name}),n.jsx(Ae,{variant:e[i.id]?"default":"secondary",children:e[i.id]?"Active":"Inactive"})]}),n.jsx(Or,{children:"Automatically send emails when triggered by system events"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(G,{htmlFor:`toggle-${i.id}`,className:"text-sm text-muted-foreground",children:e[i.id]?"Enabled":"Disabled"}),n.jsx(Tn,{id:`toggle-${i.id}`,checked:e[i.id],onCheckedChange:()=>s(i.id)})]})]})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:`subject-${i.id}`,className:"flex items-center gap-2",children:[n.jsx(yn,{className:"h-4 w-4"}),"Email Subject"]}),n.jsx(fe,{id:`subject-${i.id}`,defaultValue:i.template.subject,placeholder:"Email subject line...",disabled:!e[i.id]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:`body-${i.id}`,children:"Email Body"}),n.jsx(da,{id:`body-${i.id}`,defaultValue:i.template.body,placeholder:"Email template body...",rows:8,disabled:!e[i.id],className:"font-mono text-sm"}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[n.jsx(Ae,{variant:"outline",className:"text-xs",children:"{{vendor}}"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"{{product}}"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"{{apartment}}"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"{{order_no}}"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"{{due_date}}"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"{{amount}}"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(te,{onClick:()=>a(i.id),disabled:!e[i.id],children:[n.jsx(fu,{className:"h-4 w-4 mr-2"}),"Save Template"]})})]})]},i.id)),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(jr,{className:"h-5 w-5"}),"Recent Automation Events"]})}),n.jsx(J,{children:n.jsx("div",{className:"space-y-3",children:[{event:"Issue email sent to IKEA Hungary",time:"2 hours ago",type:"issue"},{event:"Payment reminder sent to Royalty Line",time:"5 hours ago",type:"payment"},{event:"Stock check email sent to Philips",time:"1 day ago",type:"stock"},{event:"RMA request email sent to Home Depot",time:"2 days ago",type:"issue"}].map((i,o)=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(yn,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:i.event}),n.jsx("p",{className:"text-xs text-muted-foreground",children:i.time})]})]}),n.jsx(Ae,{variant:"outline",children:i.type})]},o))})})]})]})})},ynt=Hv.replace("/auth",""),gi=ir.create({baseURL:ynt,headers:{"Content-Type":"application/json"}});gi.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});gi.interceptors.response.use(e=>e,async e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const yx={getSettings:async()=>(await gi.get("/auth/settings/")).data,updateSettings:async e=>(await gi.put("/auth/settings/",e)).data,resetSettings:async()=>(await gi.delete("/auth/settings/")).data,getNotificationSettings:async()=>(await gi.get("/auth/settings/notifications/")).data,updateNotificationSettings:async e=>(await gi.put("/auth/settings/notifications/",e)).data,getDisplaySettings:async()=>(await gi.get("/auth/settings/display/")).data,updateDisplaySettings:async e=>(await gi.put("/auth/settings/display/",e)).data,getRegionalSettings:async()=>(await gi.get("/auth/settings/regional/")).data,updateRegionalSettings:async e=>(await gi.put("/auth/settings/regional/",e)).data,getProfileSettings:async()=>(await gi.get("/auth/settings/profile/")).data,updateProfileSettings:async e=>(await gi.put("/auth/settings/profile/",e)).data},Ka={all:["settings"],notifications:["settings","notifications"],display:["settings","display"],regional:["settings","regional"],profile:["settings","profile"]},jnt={company:"",job_title:"",email_notifications:!0,push_notifications:!0,sms_notifications:!1,order_updates:!0,payment_alerts:!0,delivery_notifications:!0,vendor_messages:!0,system_alerts:!0,weekly_reports:!1,monthly_reports:!0,sound_enabled:!0,desktop_notifications:!0,theme:"light",compact_view:!1,sidebar_collapsed:!1,show_avatars:!0,animations_enabled:!0,language:"en",timezone:"UTC+1",date_format:"YYYY-MM-DD",time_format:"24h",currency:"HUF",number_format:"hu-HU",two_factor_enabled:!1},bnt=()=>ws({queryKey:Ka.all,queryFn:async()=>{try{return await yx.getSettings()}catch(e){return console.warn("Failed to fetch settings, using defaults:",e),jnt}},staleTime:5*60*1e3,retry:1}),wnt=()=>{const e=qr();return un({mutationFn:t=>yx.updateSettings(t),onSuccess:t=>{e.setQueryData(Ka.all,t.settings),e.invalidateQueries({queryKey:Ka.notifications}),e.invalidateQueries({queryKey:Ka.display}),e.invalidateQueries({queryKey:Ka.regional}),e.invalidateQueries({queryKey:Ka.profile})}})},Nnt=()=>{const e=qr();return un({mutationFn:yx.resetSettings,onSuccess:t=>{e.setQueryData(Ka.all,t.settings),e.invalidateQueries({queryKey:Ka.all})}})},_nt=()=>{const e=qr();return un({mutationFn:t=>yx.updateNotificationSettings(t),onSuccess:t=>{e.setQueryData(Ka.notifications,t.settings),e.invalidateQueries({queryKey:Ka.all})}})},Snt=()=>{const e=qr();return un({mutationFn:t=>yx.updateDisplaySettings(t),onSuccess:t=>{e.setQueryData(Ka.display,t.settings),e.invalidateQueries({queryKey:Ka.all})}})},Cnt=()=>{const e=qr();return un({mutationFn:t=>yx.updateRegionalSettings(t),onSuccess:t=>{e.setQueryData(Ka.regional,t.settings),e.invalidateQueries({queryKey:Ka.all})}})},Ant=()=>{const{theme:e,setTheme:t}=Up(),{toast:r}=pr(),{user:s}=qv(),[a,i]=v.useState("account"),{data:o,isLoading:l,refetch:c}=bnt(),d=wnt(),u=Nnt(),f=_nt(),m=Snt(),h=Cnt(),[x,p]=v.useState({firstName:"",lastName:"",email:"",phone:"",company:"",jobTitle:""}),[g,j]=v.useState(!1),[y,w]=v.useState(!1),[b,N]=v.useState(!1),[_,C]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[A,E]=v.useState({emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,orderUpdates:!0,paymentAlerts:!0,deliveryNotifications:!0,vendorMessages:!0,systemAlerts:!0,weeklyReports:!1,monthlyReports:!0,soundEnabled:!0,desktopNotifications:!0}),[k,O]=v.useState({compactView:!1,sidebarCollapsed:localStorage.getItem("sidebarCollapsed")==="true",showAvatars:!0,animationsEnabled:!0}),[I,W]=v.useState({language:"en",timezone:"UTC+1",dateFormat:"YYYY-MM-DD",timeFormat:"24h",currency:"HUF",numberFormat:"hu-HU"}),[H,F]=v.useState(!1);v.useEffect(()=>{o&&(p({firstName:(s==null?void 0:s.first_name)||"",lastName:(s==null?void 0:s.last_name)||"",email:(s==null?void 0:s.email)||o.user_email||"",phone:(s==null?void 0:s.phone)||"",company:o.company||"",jobTitle:o.job_title||""}),E({emailNotifications:o.email_notifications,pushNotifications:o.push_notifications,smsNotifications:o.sms_notifications,orderUpdates:o.order_updates,paymentAlerts:o.payment_alerts,deliveryNotifications:o.delivery_notifications,vendorMessages:o.vendor_messages,systemAlerts:o.system_alerts,weeklyReports:o.weekly_reports,monthlyReports:o.monthly_reports,soundEnabled:o.sound_enabled,desktopNotifications:o.desktop_notifications}),O({compactView:o.compact_view,sidebarCollapsed:o.sidebar_collapsed,showAvatars:o.show_avatars,animationsEnabled:o.animations_enabled}),W({language:o.language,timezone:o.timezone,dateFormat:o.date_format,timeFormat:o.time_format,currency:o.currency,numberFormat:o.number_format}),F(o.two_factor_enabled))},[o,s]);const T=async()=>{try{await d.mutateAsync({company:x.company,job_title:x.jobTitle}),r({title:"Account Updated",description:"Your account information has been saved successfully."})}catch{r({title:"Error",description:"Failed to save account settings.",variant:"destructive"})}},P=()=>{if(_.newPassword!==_.confirmPassword){r({title:"Error",description:"New passwords do not match.",variant:"destructive"});return}r({title:"Password Changed",description:"Your password has been updated successfully."}),C({currentPassword:"",newPassword:"",confirmPassword:""})},M=async()=>{try{await f.mutateAsync({email_notifications:A.emailNotifications,push_notifications:A.pushNotifications,sms_notifications:A.smsNotifications,order_updates:A.orderUpdates,payment_alerts:A.paymentAlerts,delivery_notifications:A.deliveryNotifications,vendor_messages:A.vendorMessages,system_alerts:A.systemAlerts,weekly_reports:A.weeklyReports,monthly_reports:A.monthlyReports,sound_enabled:A.soundEnabled,desktop_notifications:A.desktopNotifications}),r({title:"Preferences Saved",description:"Your notification preferences have been updated."})}catch{r({title:"Error",description:"Failed to save notification settings.",variant:"destructive"})}},D=async()=>{try{await m.mutateAsync({theme:e,compact_view:k.compactView,sidebar_collapsed:k.sidebarCollapsed,show_avatars:k.showAvatars,animations_enabled:k.animationsEnabled}),localStorage.setItem("sidebarCollapsed",String(k.sidebarCollapsed)),window.dispatchEvent(new CustomEvent("sidebarPreferenceChanged",{detail:{collapsed:k.sidebarCollapsed}})),r({title:"Display Settings Saved",description:"Your display preferences have been updated."})}catch{r({title:"Error",description:"Failed to save display settings.",variant:"destructive"})}},Y=async()=>{try{await h.mutateAsync({language:I.language,timezone:I.timezone,date_format:I.dateFormat,time_format:I.timeFormat,currency:I.currency,number_format:I.numberFormat}),r({title:"Regional Settings Saved",description:"Your regional preferences have been updated."})}catch{r({title:"Error",description:"Failed to save regional settings.",variant:"destructive"})}},ae=async L=>{try{await u.mutateAsync(),r({title:"Settings Reset",description:"All settings have been reset to defaults."}),c()}catch{r({title:"Error",description:"Failed to reset settings.",variant:"destructive"})}},R=async L=>{try{await d.mutateAsync({two_factor_enabled:L}),F(L),r({title:L?"2FA Enabled":"2FA Disabled",description:L?"Two-factor authentication has been enabled.":"Two-factor authentication has been disabled."})}catch{r({title:"Error",description:"Failed to update 2FA settings.",variant:"destructive"})}};if(l)return n.jsx(dt,{title:"Settings",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs(Z,{children:[n.jsx(we,{children:n.jsx(S,{className:"h-6 w-24"})}),n.jsx(J,{className:"space-y-2",children:[1,2,3,4,5].map(L=>n.jsx(S,{className:"h-10 w-full"},L))})]})}),n.jsx("div",{className:"lg:col-span-3",children:n.jsxs(Z,{children:[n.jsxs(we,{children:[n.jsx(S,{className:"h-6 w-48"}),n.jsx(S,{className:"h-4 w-64"})]}),n.jsx(J,{className:"space-y-4",children:[1,2,3,4].map(L=>n.jsx(S,{className:"h-12 w-full"},L))})]})})]})});const V=[{id:"account",icon:$n,label:"Account"},{id:"security",icon:Y5,label:"Security"},{id:"notifications",icon:af,label:"Notifications"},{id:"display",icon:Cse,label:"Display"},{id:"regional",icon:Xl,label:"Regional Settings"}];return n.jsx(dt,{title:"Settings",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs(Z,{children:[n.jsx(we,{children:n.jsxs(Ue,{className:"flex items-center gap-2",children:[n.jsx(Fv,{className:"h-5 w-5"}),"Settings"]})}),n.jsx(J,{className:"p-2",children:n.jsx("nav",{className:"space-y-1",children:V.map(L=>n.jsxs(te,{variant:a===L.id?"secondary":"ghost",className:"w-full justify-start",onClick:()=>i(L.id),children:[n.jsx(L.icon,{className:"mr-2 h-4 w-4"}),L.label]},L.id))})})]})}),n.jsxs("div",{className:"lg:col-span-3",children:[a==="account"&&n.jsxs(Z,{children:[n.jsxs(we,{children:[n.jsx(Ue,{children:"Personal Information"}),n.jsx(Or,{children:"Update your personal details and contact information"})]}),n.jsxs(J,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"firstName",children:"First Name"}),n.jsx(fe,{id:"firstName",value:x.firstName,onChange:L=>p({...x,firstName:L.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"lastName",children:"Last Name"}),n.jsx(fe,{id:"lastName",value:x.lastName,onChange:L=>p({...x,lastName:L.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"email",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(yn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"email",type:"email",className:"pl-10",value:x.email,onChange:L=>p({...x,email:L.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"phone",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(So,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"phone",type:"tel",className:"pl-10",value:x.phone,onChange:L=>p({...x,phone:L.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"company",children:"Company"}),n.jsx(fe,{id:"company",value:x.company,onChange:L=>p({...x,company:L.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"jobTitle",children:"Job Title"}),n.jsx(fe,{id:"jobTitle",value:x.jobTitle,onChange:L=>p({...x,jobTitle:L.target.value})})]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(te,{variant:"outline",onClick:()=>p({firstName:"John",lastName:"Smith",email:"john.smith@example.com",phone:"+1 (555) 123-4567",company:"Tech Solutions Inc.",jobTitle:"Property Manager"}),children:"Cancel"}),n.jsxs(te,{onClick:T,disabled:d.isPending,children:[d.isPending?n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(mo,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]})]}),a==="security"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Z,{children:[n.jsxs(we,{children:[n.jsx(Ue,{children:"Change Password"}),n.jsx(Or,{children:"Update your password to keep your account secure"})]}),n.jsxs(J,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"currentPassword",children:"Current Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(fe,{id:"currentPassword",type:g?"text":"password",value:_.currentPassword,onChange:L=>C({..._,currentPassword:L.target.value})}),n.jsx(te,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>j(!g),children:g?n.jsx(dh,{className:"h-4 w-4"}):n.jsx(ti,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"newPassword",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(fe,{id:"newPassword",type:y?"text":"password",value:_.newPassword,onChange:L=>C({..._,newPassword:L.target.value})}),n.jsx(te,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>w(!y),children:y?n.jsx(dh,{className:"h-4 w-4"}):n.jsx(ti,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"confirmPassword",children:"Confirm New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(fe,{id:"confirmPassword",type:b?"text":"password",value:_.confirmPassword,onChange:L=>C({..._,confirmPassword:L.target.value})}),n.jsx(te,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>N(!b),children:b?n.jsx(dh,{className:"h-4 w-4"}):n.jsx(ti,{className:"h-4 w-4"})})]})]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(te,{variant:"outline",onClick:()=>C({currentPassword:"",newPassword:"",confirmPassword:""}),children:"Cancel"}),n.jsxs(te,{onClick:P,children:[n.jsx(Y5,{className:"mr-2 h-4 w-4"}),"Update Password"]})]})]})]}),n.jsxs(Z,{children:[n.jsxs(we,{children:[n.jsx(Ue,{children:"Two-Factor Authentication"}),n.jsx(Or,{children:"Add an extra layer of security to your account"})]}),n.jsx(J,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ose,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium",children:"Enable 2FA"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Require a verification code in addition to your password"})]})]}),n.jsx(Tn,{checked:H,onCheckedChange:R,disabled:d.isPending})]})})]})]}),a==="notifications"&&n.jsxs(Z,{children:[n.jsxs(we,{children:[n.jsx(Ue,{children:"Notification Preferences"}),n.jsx(Or,{children:"Manage how and when you receive notifications"})]}),n.jsxs(J,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Notification Channels"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yn,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Email Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]})]}),n.jsx(Tn,{checked:A.emailNotifications,onCheckedChange:L=>E({...A,emailNotifications:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(af,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Push Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive browser push notifications"})]})]}),n.jsx(Tn,{checked:A.pushNotifications,onCheckedChange:L=>E({...A,pushNotifications:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(tl,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"SMS Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via text message"})]})]}),n.jsx(Tn,{checked:A.smsNotifications,onCheckedChange:L=>E({...A,smsNotifications:L})})]})]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Activity Notifications"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Order Updates"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified about order status changes"})]}),n.jsx(Tn,{checked:A.orderUpdates,onCheckedChange:L=>E({...A,orderUpdates:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Payment Alerts"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications for payment activities"})]}),n.jsx(Tn,{checked:A.paymentAlerts,onCheckedChange:L=>E({...A,paymentAlerts:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Delivery Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Updates on delivery status and schedules"})]}),n.jsx(Tn,{checked:A.deliveryNotifications,onCheckedChange:L=>E({...A,deliveryNotifications:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Vendor Messages"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Messages and updates from vendors"})]}),n.jsx(Tn,{checked:A.vendorMessages,onCheckedChange:L=>E({...A,vendorMessages:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"System Alerts"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Important system notifications and updates"})]}),n.jsx(Tn,{checked:A.systemAlerts,onCheckedChange:L=>E({...A,systemAlerts:L})})]})]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Report Notifications"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Weekly Reports"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive weekly summary reports"})]}),n.jsx(Tn,{checked:A.weeklyReports,onCheckedChange:L=>E({...A,weeklyReports:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Monthly Reports"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive monthly summary reports"})]}),n.jsx(Tn,{checked:A.monthlyReports,onCheckedChange:L=>E({...A,monthlyReports:L})})]})]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Sound & Desktop"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[A.soundEnabled?n.jsx(Rse,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(Mse,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Sound Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Play sounds for notifications"})]})]}),n.jsx(Tn,{checked:A.soundEnabled,onCheckedChange:L=>E({...A,soundEnabled:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Desktop Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Show notifications on desktop"})]}),n.jsx(Tn,{checked:A.desktopNotifications,onCheckedChange:L=>E({...A,desktopNotifications:L})})]})]})]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsxs(te,{variant:"outline",onClick:()=>ae(),disabled:u.isPending,children:[u.isPending?n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Sf,{className:"mr-2 h-4 w-4"}),"Reset to Default"]}),n.jsxs(te,{onClick:M,disabled:f.isPending,children:[f.isPending?n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(mo,{className:"mr-2 h-4 w-4"}),"Save Preferences"]})]})]})]}),a==="display"&&n.jsxs(Z,{children:[n.jsxs(we,{children:[n.jsx(Ue,{children:"Appearance"}),n.jsx(Or,{children:"Customize how the application looks and feels"})]}),n.jsxs(J,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[e==="dark"?n.jsx(Mv,{className:"h-4 w-4 text-muted-foreground"}):n.jsx($v,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Theme"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose your preferred color scheme"})]})]}),n.jsxs(at,{value:e,onValueChange:t,children:[n.jsx(nt,{className:"w-32",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"light",children:"Light"}),n.jsx(ne,{value:"dark",children:"Dark"}),n.jsx(ne,{value:"system",children:"System"})]})]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Compact View"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Display more content with reduced spacing"})]}),n.jsx(Tn,{checked:k.compactView,onCheckedChange:L=>O({...k,compactView:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Collapsed Sidebar"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Show sidebar in collapsed state by default"})]}),n.jsx(Tn,{checked:k.sidebarCollapsed,onCheckedChange:L=>{O({...k,sidebarCollapsed:L}),localStorage.setItem("sidebarCollapsed",String(L)),window.dispatchEvent(new CustomEvent("sidebarPreferenceChanged",{detail:{collapsed:L}})),r({title:"Sidebar Preference Updated",description:`Sidebar will be ${L?"collapsed":"expanded"} by default.`})}})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Show Avatars"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Display user avatars throughout the app"})]}),n.jsx(Tn,{checked:k.showAvatars,onCheckedChange:L=>O({...k,showAvatars:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Enable Animations"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Show smooth transitions and animations"})]}),n.jsx(Tn,{checked:k.animationsEnabled,onCheckedChange:L=>O({...k,animationsEnabled:L})})]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsxs(te,{variant:"outline",onClick:()=>ae(),disabled:u.isPending,children:[u.isPending?n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Sf,{className:"mr-2 h-4 w-4"}),"Reset to Default"]}),n.jsxs(te,{onClick:D,disabled:m.isPending,children:[m.isPending?n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(mo,{className:"mr-2 h-4 w-4"}),"Save Settings"]})]})]})]}),a==="regional"&&n.jsxs(Z,{children:[n.jsxs(we,{children:[n.jsx(Ue,{children:"Regional Preferences"}),n.jsx(Or,{children:"Configure language, timezone, and formatting options"})]}),n.jsxs(J,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"language",children:"Language"}),n.jsxs(at,{value:I.language,onValueChange:L=>W({...I,language:L}),children:[n.jsx(nt,{id:"language",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"en",children:"English"}),n.jsx(ne,{value:"es",children:"Spanish"}),n.jsx(ne,{value:"fr",children:"French"}),n.jsx(ne,{value:"de",children:"German"}),n.jsx(ne,{value:"zh",children:"Chinese"}),n.jsx(ne,{value:"ja",children:"Japanese"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"timezone",children:"Timezone"}),n.jsxs("div",{className:"relative",children:[n.jsx(Xl,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground z-10"}),n.jsxs(at,{value:I.timezone,onValueChange:L=>W({...I,timezone:L}),children:[n.jsx(nt,{id:"timezone",className:"pl-10",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"UTC-12",children:"UTC-12:00 Baker Island"}),n.jsx(ne,{value:"UTC-11",children:"UTC-11:00 American Samoa"}),n.jsx(ne,{value:"UTC-10",children:"UTC-10:00 Hawaii"}),n.jsx(ne,{value:"UTC-9",children:"UTC-09:00 Alaska"}),n.jsx(ne,{value:"UTC-8",children:"UTC-08:00 Pacific Time"}),n.jsx(ne,{value:"UTC-7",children:"UTC-07:00 Mountain Time"}),n.jsx(ne,{value:"UTC-6",children:"UTC-06:00 Central Time"}),n.jsx(ne,{value:"UTC-5",children:"UTC-05:00 Eastern Time"}),n.jsx(ne,{value:"UTC-4",children:"UTC-04:00 Atlantic Time"}),n.jsx(ne,{value:"UTC-3",children:"UTC-03:00 Buenos Aires"}),n.jsx(ne,{value:"UTC-2",children:"UTC-02:00 Mid-Atlantic"}),n.jsx(ne,{value:"UTC-1",children:"UTC-01:00 Azores"}),n.jsx(ne,{value:"UTC+0",children:"UTC+00:00 London"}),n.jsx(ne,{value:"UTC+1",children:"UTC+01:00 Paris"}),n.jsx(ne,{value:"UTC+2",children:"UTC+02:00 Cairo"}),n.jsx(ne,{value:"UTC+3",children:"UTC+03:00 Moscow"}),n.jsx(ne,{value:"UTC+4",children:"UTC+04:00 Dubai"}),n.jsx(ne,{value:"UTC+5",children:"UTC+05:00 Pakistan"}),n.jsx(ne,{value:"UTC+6",children:"UTC+06:00 Bangladesh"}),n.jsx(ne,{value:"UTC+7",children:"UTC+07:00 Bangkok"}),n.jsx(ne,{value:"UTC+8",children:"UTC+08:00 Singapore"}),n.jsx(ne,{value:"UTC+9",children:"UTC+09:00 Tokyo"}),n.jsx(ne,{value:"UTC+10",children:"UTC+10:00 Sydney"}),n.jsx(ne,{value:"UTC+11",children:"UTC+11:00 Solomon Islands"}),n.jsx(ne,{value:"UTC+12",children:"UTC+12:00 New Zealand"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"dateFormat",children:"Date Format"}),n.jsxs("div",{className:"relative",children:[n.jsx(Wr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground z-10"}),n.jsxs(at,{value:I.dateFormat,onValueChange:L=>W({...I,dateFormat:L}),children:[n.jsx(nt,{id:"dateFormat",className:"pl-10",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"MM/DD/YYYY",children:"MM/DD/YYYY (12/31/2024)"}),n.jsx(ne,{value:"DD/MM/YYYY",children:"DD/MM/YYYY (31/12/2024)"}),n.jsx(ne,{value:"YYYY-MM-DD",children:"YYYY-MM-DD (2024-12-31)"}),n.jsx(ne,{value:"DD.MM.YYYY",children:"DD.MM.YYYY (31.12.2024)"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"timeFormat",children:"Time Format"}),n.jsxs(at,{value:I.timeFormat,onValueChange:L=>W({...I,timeFormat:L}),children:[n.jsx(nt,{id:"timeFormat",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"12h",children:"12-hour (3:30 PM)"}),n.jsx(ne,{value:"24h",children:"24-hour (15:30)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"currency",children:"Currency"}),n.jsxs("div",{className:"relative",children:[n.jsx(br,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground z-10"}),n.jsxs(at,{value:I.currency,onValueChange:L=>W({...I,currency:L}),children:[n.jsx(nt,{id:"currency",className:"pl-10",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"HUF",children:"HUF - Hungarian Forint (Ft)"}),n.jsx(ne,{value:"USD",children:"USD - US Dollar ($)"}),n.jsx(ne,{value:"EUR",children:"EUR - Euro ()"}),n.jsx(ne,{value:"GBP",children:"GBP - British Pound ()"}),n.jsx(ne,{value:"JPY",children:"JPY - Japanese Yen ()"}),n.jsx(ne,{value:"CNY",children:"CNY - Chinese Yuan ()"}),n.jsx(ne,{value:"INR",children:"INR - Indian Rupee ()"}),n.jsx(ne,{value:"CAD",children:"CAD - Canadian Dollar ($)"}),n.jsx(ne,{value:"AUD",children:"AUD - Australian Dollar ($)"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"numberFormat",children:"Number Format"}),n.jsxs(at,{value:I.numberFormat,onValueChange:L=>W({...I,numberFormat:L}),children:[n.jsx(nt,{id:"numberFormat",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(ne,{value:"en-US",children:"1,234.56 (US)"}),n.jsx(ne,{value:"de-DE",children:"1.234,56 (German)"}),n.jsx(ne,{value:"fr-FR",children:"1 234,56 (French)"}),n.jsx(ne,{value:"en-IN",children:"1,23,456.78 (Indian)"})]})]})]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsxs(te,{variant:"outline",onClick:()=>ae(),disabled:u.isPending,children:[u.isPending?n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Sf,{className:"mr-2 h-4 w-4"}),"Reset to Default"]}),n.jsxs(te,{onClick:Y,disabled:h.isPending,children:[h.isPending?n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(mo,{className:"mr-2 h-4 w-4"}),"Save Settings"]})]})]})]})]})]})})},Ent=()=>{var g;const e=nc(),t=dr(),{issues:r,vendors:s}=Rl(),a=((g=e.state)==null?void 0:g.selectedIssues)||[],[i,o]=v.useState({subject:"",message:"",includeIssueDetails:!0,includePhotos:!0}),[l,c]=v.useState(!1),[d,u]=v.useState(new Set),f=v.useMemo(()=>{const j={};return a.forEach(y=>{const w=y.vendor,b=y.vendor_details||s.find(N=>N.id===w);j[w]||(j[w]={vendor:b||{id:w,name:"Unknown Vendor"},issues:[]}),j[w].issues.push(y)}),j},[a,s]),m=Object.keys(f).length,h=a.length,x=j=>{u(y=>{const w=new Set(y);return w.has(j)?w.delete(j):w.add(j),w})},p=async()=>{var j,y;if(!i.subject||!i.message){Be.error("Please provide email subject and message");return}c(!0);try{const w=a.map(N=>N.id),b=await _r.sendBulkEmail({issue_ids:w,subject:i.subject,message:i.message,include_issue_details:i.includeIssueDetails,include_photos:i.includePhotos});b.success?(Be.success("Emails Sent Successfully",{description:`Sent ${b.results.sent} emails to vendors about ${b.results.total_issues} issues.`}),t("/issues")):Be.error("Failed to send some emails",{description:b.message||"Please check the details and try again."})}catch(w){console.error("Bulk email error:",w),Be.error("Failed to send emails",{description:((y=(j=w.response)==null?void 0:j.data)==null?void 0:y.message)||w.message||"An error occurred while sending emails."})}finally{c(!1)}};return n.jsx(dt,{title:"Send Bulk Email to Vendors",subtitle:"Send a standardized email to all vendors with open issues. Each vendor will receive information about their specific issues.",actions:n.jsxs(te,{variant:"outline",onClick:()=>t("/issues"),children:[n.jsx(tr,{className:"h-4 w-4 mr-2"}),"Back to Issues"]}),children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(Z,{children:n.jsxs(J,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(Gc,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Recipients"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:m})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Vendors"})]})}),n.jsx(Z,{children:n.jsxs(J,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-danger/10 rounded-lg",children:n.jsx(ct,{className:"h-5 w-5 text-danger"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Issues"}),n.jsx("p",{className:"text-2xl font-bold text-danger",children:h})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Items"})]})}),n.jsx(Z,{children:n.jsxs(J,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-warning/10 rounded-lg",children:n.jsx(yn,{className:"h-5 w-5 text-warning"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Emails"}),n.jsx("p",{className:"text-2xl font-bold text-warning",children:m})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"To Send"})]})})]}),n.jsxs(Z,{children:[n.jsxs(we,{children:[n.jsxs(Ue,{className:"text-lg flex items-center gap-2",children:[n.jsx(Gc,{className:"h-5 w-5"}),"Recipients by Vendor"]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Click on a vendor to view their issues"})]}),n.jsx(J,{children:n.jsx("div",{className:"space-y-3",children:Object.entries(f).map(([j,{vendor:y,issues:w}])=>n.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[n.jsxs("button",{onClick:()=>x(j),className:"w-full flex items-center justify-between p-4 bg-muted/30 hover:bg-muted/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[d.has(j)?n.jsx(Au,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(qc,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"font-semibold text-base",children:y.name}),y.email&&n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-0.5",children:[n.jsx(yn,{className:"h-3 w-3"}),y.email]})]})]}),n.jsxs(Ae,{variant:"outline",className:"ml-2",children:[w.length," ",w.length===1?"issue":"issues"]})]}),d.has(j)&&n.jsx("div",{className:"p-4 bg-background border-t space-y-2",children:w.map((b,N)=>n.jsx("div",{className:"p-3 rounded-lg border bg-card hover:bg-accent/5 transition-colors",children:n.jsx("div",{className:"flex items-start justify-between gap-3",children:n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ae,{variant:"secondary",className:"text-xs",children:["#",N+1]}),n.jsx("span",{className:"text-sm font-medium",children:b.display_product_name||b.product_name||"Product Issue"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx(_t,{className:"h-3 w-3"}),n.jsx("span",{className:"font-medium",children:b.type}),n.jsx("span",{children:""}),n.jsx(Ae,{variant:b.priority==="Critical"?"destructive":b.priority==="High"?"default":"secondary",className:"text-xs",children:b.priority})]}),b.description&&n.jsxs("p",{className:"text-xs text-muted-foreground line-clamp-2 flex items-start gap-1",children:[n.jsx(An,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),b.description]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx(Wr,{className:"h-3 w-3"}),n.jsxs("span",{children:["Reported: ",new Date(b.reported_on).toLocaleDateString()]}),n.jsx("span",{children:""}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:b.status})]})]})})},b.id))})]},j))})})]}),n.jsx(Ft,{}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsx(Ue,{className:"text-lg",children:"Compose Email"})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"subject",children:"Email Subject *"}),n.jsx("input",{id:"subject",type:"text",placeholder:"e.g., Urgent: Product Issues Requiring Resolution",value:i.subject,onChange:j=>o(y=>({...y,subject:j.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"message",children:"Email Message *"}),n.jsx(gn,{id:"message",placeholder:`Dear Vendor Team,

We have identified several issues with the products delivered. Please review the details below and provide a resolution plan at your earliest convenience.

Best regards,
Procurement Team`,value:i.message,onChange:j=>o(y=>({...y,message:j.target.value})),rows:10,className:"resize-none"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"This message will be sent to all vendors. Issue-specific details will be automatically appended."})]}),n.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[n.jsx(G,{className:"text-sm font-semibold",children:"Email Options"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(yo,{id:"includeDetails",checked:i.includeIssueDetails,onCheckedChange:j=>o(y=>({...y,includeIssueDetails:j}))}),n.jsx("label",{htmlFor:"includeDetails",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Include detailed issue information (product names, SKUs, descriptions)"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(yo,{id:"includePhotos",checked:i.includePhotos,onCheckedChange:j=>o(y=>({...y,includePhotos:j}))}),n.jsx("label",{htmlFor:"includePhotos",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Attach issue photos to emails"})]})]})]})]}),n.jsxs(Z,{children:[n.jsx(we,{children:n.jsx(Ue,{className:"text-lg",children:"Email Preview"})}),n.jsx(J,{children:n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-3 text-sm",children:[n.jsxs("div",{className:"font-semibold",children:["Subject: ",i.subject||"(No subject)"]}),n.jsx(Ft,{}),n.jsx("div",{className:"whitespace-pre-wrap",children:i.message||"(No message)"}),i.includeIssueDetails&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{}),n.jsx("div",{className:"text-xs text-muted-foreground italic",children:"[Vendor-specific issue details will be inserted here]"})]})]})})]}),n.jsxs("div",{className:"flex justify-end gap-3 pb-6",children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>t("/issues"),children:"Cancel"}),n.jsxs(te,{onClick:p,disabled:l||!i.subject||!i.message,size:"lg",children:[n.jsx(Tk,{className:"h-4 w-4 mr-2"}),l?"Sending...":`Send ${m} Emails`]})]})]})})},Pnt=new Uoe,knt=()=>n.jsx(qoe,{client:Pnt,children:n.jsx(Ode,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:n.jsxs(uU,{children:[n.jsx(yae,{}),n.jsx(Qae,{}),n.jsx(Jle,{children:n.jsx(Tde,{children:n.jsxs(Hle,{children:[n.jsx(Qt,{path:"/login",element:n.jsx(bue,{})}),n.jsx(Qt,{path:"/signup",element:n.jsx(Nue,{})}),n.jsx(Qt,{path:"/forgot-password",element:n.jsx(Sue,{})}),n.jsx(Qt,{path:"/",element:n.jsx(MU,{to:"/overview",replace:!0})}),n.jsx(Qt,{path:"/clients",element:n.jsx(or,{children:n.jsx(q8e,{})})}),n.jsx(Qt,{path:"/clients/:id",element:n.jsx(or,{children:n.jsx(iBe,{})})}),n.jsx(Qt,{path:"/apartments",element:n.jsx(or,{children:n.jsx(gBe,{})})}),n.jsx(Qt,{path:"/apartments/new",element:n.jsx(or,{children:n.jsx(EBe,{})})}),n.jsx(Qt,{path:"/apartments/:id",element:n.jsx(or,{children:n.jsx(FUe,{})})}),n.jsx(Qt,{path:"/apartments/:id/edit",element:n.jsx(or,{children:n.jsx(VUe,{})})}),n.jsx(Qt,{path:"/products",element:n.jsx(or,{children:n.jsx(zUe,{})})}),n.jsx(Qt,{path:"/products/new",element:n.jsx(or,{children:n.jsx(WUe,{})})}),n.jsx(Qt,{path:"/products/import",element:n.jsx(or,{children:n.jsx(JUe,{})})}),n.jsx(Qt,{path:"/products/:id",element:n.jsx(or,{children:n.jsx(HUe,{})})}),n.jsx(Qt,{path:"/products/:id/edit",element:n.jsx(or,{children:n.jsx(XUe,{})})}),n.jsx(Qt,{path:"/orders",element:n.jsx(or,{children:n.jsx(cVe,{})})}),n.jsx(Qt,{path:"/orders/new",element:n.jsx(or,{children:n.jsx(dVe,{})})}),n.jsx(Qt,{path:"/orders/import",element:n.jsx(or,{children:n.jsx(uVe,{})})}),n.jsx(Qt,{path:"/orders/:id",element:n.jsx(or,{children:n.jsx(bVe,{})})}),n.jsx(Qt,{path:"/orders/:id/edit",element:n.jsx(or,{children:n.jsx(EVe,{})})}),n.jsx(Qt,{path:"/deliveries",element:n.jsx(or,{children:n.jsx($Ve,{})})}),n.jsx(Qt,{path:"/issues",element:n.jsx(or,{children:n.jsx(srt,{})})}),n.jsx(Qt,{path:"/issues/new",element:n.jsx(or,{children:n.jsx(art,{})})}),n.jsx(Qt,{path:"/issues/bulk-email",element:n.jsx(or,{children:n.jsx(Ent,{})})}),n.jsx(Qt,{path:"/issues/:issueId",element:n.jsx(or,{children:n.jsx(vrt,{})})}),n.jsx(Qt,{path:"/issues/:issueId/edit",element:n.jsx(or,{children:n.jsx(Crt,{})})}),n.jsx(Qt,{path:"/payments",element:n.jsx(or,{children:n.jsx(Rrt,{})})}),n.jsx(Qt,{path:"/payments/new",element:n.jsx(or,{children:n.jsx(Mrt,{})})}),n.jsx(Qt,{path:"/payments/:id",element:n.jsx(or,{children:n.jsx(Hrt,{})})}),n.jsx(Qt,{path:"/payments/:id/edit",element:n.jsx(or,{children:n.jsx(Jrt,{})})}),n.jsx(Qt,{path:"/vendors",element:n.jsx(or,{children:n.jsx(snt,{})})}),n.jsx(Qt,{path:"/vendors/new",element:n.jsx(or,{children:n.jsx(ant,{})})}),n.jsx(Qt,{path:"/vendors/:id",element:n.jsx(or,{children:n.jsx(fnt,{})})}),n.jsx(Qt,{path:"/vendors/:id/edit",element:n.jsx(or,{children:n.jsx(xnt,{})})}),n.jsx(Qt,{path:"/users",element:n.jsx(or,{children:n.jsx(gnt,{})})}),n.jsx(Qt,{path:"/automations",element:n.jsx(or,{children:n.jsx(vnt,{})})}),n.jsx(Qt,{path:"/settings",element:n.jsx(or,{children:n.jsx(Ant,{})})}),n.jsx(Qt,{path:"/overview",element:n.jsx(or,{children:n.jsx(ZLe,{})})}),n.jsx(Qt,{path:"*",element:n.jsx(JLe,{})})]})})})]})})});W9(document.getElementById("root")).render(n.jsx(knt,{}));
