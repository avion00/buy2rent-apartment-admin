var Bee=Object.defineProperty;var wD=e=>{throw TypeError(e)};var Uee=(e,t,r)=>t in e?Bee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ht=(e,t,r)=>Uee(e,typeof t!="symbol"?t+"":t,r),x_=(e,t,r)=>t.has(e)||wD("Cannot "+r);var pe=(e,t,r)=>(x_(e,t,"read from private field"),r?r.call(e):t.get(e)),kt=(e,t,r)=>t.has(e)?wD("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),mt=(e,t,r,s)=>(x_(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Zt=(e,t,r)=>(x_(e,t,"access private method"),r);var Dy=(e,t,r,s)=>({set _(a){mt(e,t,a,r)},get _(){return pe(e,t,s)}});function Vee(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Iy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ar(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var C8={exports:{}},Qw={},E8={exports:{}},ir={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av=Symbol.for("react.element"),zee=Symbol.for("react.portal"),Wee=Symbol.for("react.fragment"),Hee=Symbol.for("react.strict_mode"),qee=Symbol.for("react.profiler"),Gee=Symbol.for("react.provider"),Kee=Symbol.for("react.context"),Yee=Symbol.for("react.forward_ref"),Xee=Symbol.for("react.suspense"),Qee=Symbol.for("react.memo"),Zee=Symbol.for("react.lazy"),ND=Symbol.iterator;function Jee(e){return e===null||typeof e!="object"?null:(e=ND&&e[ND]||e["@@iterator"],typeof e=="function"?e:null)}var A8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P8=Object.assign,k8={};function Mp(e,t,r){this.props=e,this.context=t,this.refs=k8,this.updater=r||A8}Mp.prototype.isReactComponent={};Mp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function T8(){}T8.prototype=Mp.prototype;function _P(e,t,r){this.props=e,this.context=t,this.refs=k8,this.updater=r||A8}var SP=_P.prototype=new T8;SP.constructor=_P;P8(SP,Mp.prototype);SP.isPureReactComponent=!0;var _D=Array.isArray,O8=Object.prototype.hasOwnProperty,CP={current:null},D8={key:!0,ref:!0,__self:!0,__source:!0};function I8(e,t,r){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)O8.call(t,s)&&!D8.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:Av,type:e,key:i,ref:o,props:a,_owner:CP.current}}function ete(e,t){return{$$typeof:Av,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function EP(e){return typeof e=="object"&&e!==null&&e.$$typeof===Av}function tte(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var SD=/\/+/g;function g_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tte(""+e.key):t.toString(36)}function zj(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Av:case zee:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+g_(o,0):s,_D(a)?(r="",e!=null&&(r=e.replace(SD,"$&/")+"/"),zj(a,t,r,"",function(d){return d})):a!=null&&(EP(a)&&(a=ete(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(SD,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",_D(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+g_(i,l);o+=zj(i,t,r,c,a)}else if(c=Jee(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+g_(i,l++),o+=zj(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ry(e,t,r){if(e==null)return e;var s=[],a=0;return zj(e,s,"","",function(i){return t.call(r,i,a++)}),s}function rte(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var za={current:null},Wj={transition:null},nte={ReactCurrentDispatcher:za,ReactCurrentBatchConfig:Wj,ReactCurrentOwner:CP};function R8(){throw Error("act(...) is not supported in production builds of React.")}ir.Children={map:Ry,forEach:function(e,t,r){Ry(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ry(e,function(){t++}),t},toArray:function(e){return Ry(e,function(t){return t})||[]},only:function(e){if(!EP(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ir.Component=Mp;ir.Fragment=Wee;ir.Profiler=qee;ir.PureComponent=_P;ir.StrictMode=Hee;ir.Suspense=Xee;ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nte;ir.act=R8;ir.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=P8({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=CP.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)O8.call(t,c)&&!D8.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Av,type:e.type,key:a,ref:i,props:s,_owner:o}};ir.createContext=function(e){return e={$$typeof:Kee,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Gee,_context:e},e.Consumer=e};ir.createElement=I8;ir.createFactory=function(e){var t=I8.bind(null,e);return t.type=e,t};ir.createRef=function(){return{current:null}};ir.forwardRef=function(e){return{$$typeof:Yee,render:e}};ir.isValidElement=EP;ir.lazy=function(e){return{$$typeof:Zee,_payload:{_status:-1,_result:e},_init:rte}};ir.memo=function(e,t){return{$$typeof:Qee,type:e,compare:t===void 0?null:t}};ir.startTransition=function(e){var t=Wj.transition;Wj.transition={};try{e()}finally{Wj.transition=t}};ir.unstable_act=R8;ir.useCallback=function(e,t){return za.current.useCallback(e,t)};ir.useContext=function(e){return za.current.useContext(e)};ir.useDebugValue=function(){};ir.useDeferredValue=function(e){return za.current.useDeferredValue(e)};ir.useEffect=function(e,t){return za.current.useEffect(e,t)};ir.useId=function(){return za.current.useId()};ir.useImperativeHandle=function(e,t,r){return za.current.useImperativeHandle(e,t,r)};ir.useInsertionEffect=function(e,t){return za.current.useInsertionEffect(e,t)};ir.useLayoutEffect=function(e,t){return za.current.useLayoutEffect(e,t)};ir.useMemo=function(e,t){return za.current.useMemo(e,t)};ir.useReducer=function(e,t,r){return za.current.useReducer(e,t,r)};ir.useRef=function(e){return za.current.useRef(e)};ir.useState=function(e){return za.current.useState(e)};ir.useSyncExternalStore=function(e,t,r){return za.current.useSyncExternalStore(e,t,r)};ir.useTransition=function(){return za.current.useTransition()};ir.version="18.3.1";E8.exports=ir;var v=E8.exports;const z=Ar(v),AP=Vee({__proto__:null,default:z},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ste=v,ate=Symbol.for("react.element"),ite=Symbol.for("react.fragment"),ote=Object.prototype.hasOwnProperty,lte=ste.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cte={key:!0,ref:!0,__self:!0,__source:!0};function M8(e,t,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)ote.call(t,s)&&!cte.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:ate,type:e,key:i,ref:o,props:a,_owner:lte.current}}Qw.Fragment=ite;Qw.jsx=M8;Qw.jsxs=M8;C8.exports=Qw;var n=C8.exports,F8={exports:{}},Zi={},$8={exports:{}},L8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,O){var K=M.length;M.push(O);e:for(;0<K;){var ne=K-1>>>1,R=M[ne];if(0<a(R,O))M[ne]=O,M[K]=R,K=ne;else break e}}function r(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var O=M[0],K=M.pop();if(K!==O){M[0]=K;e:for(var ne=0,R=M.length,V=R>>>1;ne<V;){var L=2*(ne+1)-1,G=M[L],le=L+1,fe=M[le];if(0>a(G,K))le<R&&0>a(fe,G)?(M[ne]=fe,M[le]=K,ne=le):(M[ne]=G,M[L]=K,ne=L);else if(le<R&&0>a(fe,K))M[ne]=fe,M[le]=K,ne=le;else break e}}return O}function a(M,O){var K=M.sortIndex-O.sortIndex;return K!==0?K:M.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,m=3,h=!1,x=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var O=r(d);O!==null;){if(O.callback===null)s(d);else if(O.startTime<=M)s(d),O.sortIndex=O.expirationTime,t(c,O);else break;O=r(d)}}function b(M){if(p=!1,w(M),!x)if(r(c)!==null)x=!0,T(N);else{var O=r(d);O!==null&&P(b,O.startTime-M)}}function N(M,O){x=!1,p&&(p=!1,j(E),E=-1),h=!0;var K=m;try{for(w(O),f=r(c);f!==null&&(!(f.expirationTime>O)||M&&!D());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,m=f.priorityLevel;var R=ne(f.expirationTime<=O);O=e.unstable_now(),typeof R=="function"?f.callback=R:f===r(c)&&s(c),w(O)}else s(c);f=r(c)}if(f!==null)var V=!0;else{var L=r(d);L!==null&&P(b,L.startTime-O),V=!1}return V}finally{f=null,m=K,h=!1}}var S=!1,_=null,E=-1,A=5,k=-1;function D(){return!(e.unstable_now()-k<A)}function I(){if(_!==null){var M=e.unstable_now();k=M;var O=!0;try{O=_(!0,M)}finally{O?W():(S=!1,_=null)}}else S=!1}var W;if(typeof y=="function")W=function(){y(I)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,F=H.port2;H.port1.onmessage=I,W=function(){F.postMessage(null)}}else W=function(){g(I,0)};function T(M){_=M,S||(S=!0,W())}function P(M,O){E=g(function(){M(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){x||h||(x=!0,T(N))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(m){case 1:case 2:case 3:var O=3;break;default:O=m}var K=m;m=O;try{return M()}finally{m=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,O){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var K=m;m=M;try{return O()}finally{m=K}},e.unstable_scheduleCallback=function(M,O,K){var ne=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,M){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=K+R,M={id:u++,callback:O,priorityLevel:M,startTime:K,expirationTime:R,sortIndex:-1},K>ne?(M.sortIndex=K,t(d,M),r(c)===null&&M===r(d)&&(p?(j(E),E=-1):p=!0,P(b,K-ne))):(M.sortIndex=R,t(c,M),x||h||(x=!0,T(N))),M},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(M){var O=m;return function(){var K=m;m=O;try{return M.apply(this,arguments)}finally{m=K}}}})(L8);$8.exports=L8;var dte=$8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ute=v,Hi=dte;function Ke(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var B8=new Set,qg={};function om(e,t){Vh(e,t),Vh(e+"Capture",t)}function Vh(e,t){for(qg[e]=t,e=0;e<t.length;e++)B8.add(t[e])}var qc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),SC=Object.prototype.hasOwnProperty,fte=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,CD={},ED={};function mte(e){return SC.call(ED,e)?!0:SC.call(CD,e)?!1:fte.test(e)?ED[e]=!0:(CD[e]=!0,!1)}function hte(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pte(e,t,r,s){if(t===null||typeof t>"u"||hte(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Wa(e,t,r,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Js={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Js[e]=new Wa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Js[t]=new Wa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Js[e]=new Wa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Js[e]=new Wa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Js[e]=new Wa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Js[e]=new Wa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Js[e]=new Wa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Js[e]=new Wa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Js[e]=new Wa(e,5,!1,e.toLowerCase(),null,!1,!1)});var PP=/[\-:]([a-z])/g;function kP(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(PP,kP);Js[t]=new Wa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(PP,kP);Js[t]=new Wa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(PP,kP);Js[t]=new Wa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Js[e]=new Wa(e,1,!1,e.toLowerCase(),null,!1,!1)});Js.xlinkHref=new Wa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Js[e]=new Wa(e,1,!1,e.toLowerCase(),null,!0,!0)});function TP(e,t,r,s){var a=Js.hasOwnProperty(t)?Js[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pte(t,r,a,s)&&(r=null),s||a===null?mte(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var cd=ute.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,My=Symbol.for("react.element"),Wm=Symbol.for("react.portal"),Hm=Symbol.for("react.fragment"),OP=Symbol.for("react.strict_mode"),CC=Symbol.for("react.profiler"),U8=Symbol.for("react.provider"),V8=Symbol.for("react.context"),DP=Symbol.for("react.forward_ref"),EC=Symbol.for("react.suspense"),AC=Symbol.for("react.suspense_list"),IP=Symbol.for("react.memo"),Pd=Symbol.for("react.lazy"),z8=Symbol.for("react.offscreen"),AD=Symbol.iterator;function _x(e){return e===null||typeof e!="object"?null:(e=AD&&e[AD]||e["@@iterator"],typeof e=="function"?e:null)}var Tn=Object.assign,v_;function rg(e){if(v_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);v_=t&&t[1]||""}return`
`+v_+e}var y_=!1;function j_(e,t){if(!e||y_)return"";y_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{y_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?rg(e):""}function xte(e){switch(e.tag){case 5:return rg(e.type);case 16:return rg("Lazy");case 13:return rg("Suspense");case 19:return rg("SuspenseList");case 0:case 2:case 15:return e=j_(e.type,!1),e;case 11:return e=j_(e.type.render,!1),e;case 1:return e=j_(e.type,!0),e;default:return""}}function PC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hm:return"Fragment";case Wm:return"Portal";case CC:return"Profiler";case OP:return"StrictMode";case EC:return"Suspense";case AC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case V8:return(e.displayName||"Context")+".Consumer";case U8:return(e._context.displayName||"Context")+".Provider";case DP:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case IP:return t=e.displayName||null,t!==null?t:PC(e.type)||"Memo";case Pd:t=e._payload,e=e._init;try{return PC(e(t))}catch{}}return null}function gte(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return PC(t);case 8:return t===OP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function W8(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vte(e){var t=W8(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fy(e){e._valueTracker||(e._valueTracker=vte(e))}function H8(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=W8(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function pb(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kC(e,t){var r=t.checked;return Tn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function PD(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=hu(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function q8(e,t){t=t.checked,t!=null&&TP(e,"checked",t,!1)}function TC(e,t){q8(e,t);var r=hu(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?OC(e,t.type,r):t.hasOwnProperty("defaultValue")&&OC(e,t.type,hu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function kD(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function OC(e,t,r){(t!=="number"||pb(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ng=Array.isArray;function oh(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+hu(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function DC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ke(91));return Tn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function TD(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ke(92));if(ng(r)){if(1<r.length)throw Error(Ke(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:hu(r)}}function G8(e,t){var r=hu(t.value),s=hu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function OD(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function K8(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function IC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?K8(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $y,Y8=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($y=$y||document.createElement("div"),$y.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$y.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var hg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yte=["Webkit","ms","Moz","O"];Object.keys(hg).forEach(function(e){yte.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hg[t]=hg[e]})});function X8(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||hg.hasOwnProperty(e)&&hg[e]?(""+t).trim():t+"px"}function Q8(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=X8(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var jte=Tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function RC(e,t){if(t){if(jte[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ke(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ke(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ke(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ke(62))}}function MC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FC=null;function RP(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $C=null,lh=null,ch=null;function DD(e){if(e=Tv(e)){if(typeof $C!="function")throw Error(Ke(280));var t=e.stateNode;t&&(t=rN(t),$C(e.stateNode,e.type,t))}}function Z8(e){lh?ch?ch.push(e):ch=[e]:lh=e}function J8(){if(lh){var e=lh,t=ch;if(ch=lh=null,DD(e),t)for(e=0;e<t.length;e++)DD(t[e])}}function eB(e,t){return e(t)}function tB(){}var b_=!1;function rB(e,t,r){if(b_)return e(t,r);b_=!0;try{return eB(e,t,r)}finally{b_=!1,(lh!==null||ch!==null)&&(tB(),J8())}}function Kg(e,t){var r=e.stateNode;if(r===null)return null;var s=rN(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ke(231,t,typeof r));return r}var LC=!1;if(qc)try{var Sx={};Object.defineProperty(Sx,"passive",{get:function(){LC=!0}}),window.addEventListener("test",Sx,Sx),window.removeEventListener("test",Sx,Sx)}catch{LC=!1}function bte(e,t,r,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var pg=!1,xb=null,gb=!1,BC=null,wte={onError:function(e){pg=!0,xb=e}};function Nte(e,t,r,s,a,i,o,l,c){pg=!1,xb=null,bte.apply(wte,arguments)}function _te(e,t,r,s,a,i,o,l,c){if(Nte.apply(this,arguments),pg){if(pg){var d=xb;pg=!1,xb=null}else throw Error(Ke(198));gb||(gb=!0,BC=d)}}function lm(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function nB(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ID(e){if(lm(e)!==e)throw Error(Ke(188))}function Ste(e){var t=e.alternate;if(!t){if(t=lm(e),t===null)throw Error(Ke(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return ID(a),e;if(i===s)return ID(a),t;i=i.sibling}throw Error(Ke(188))}if(r.return!==s.return)r=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o)throw Error(Ke(189))}}if(r.alternate!==s)throw Error(Ke(190))}if(r.tag!==3)throw Error(Ke(188));return r.stateNode.current===r?e:t}function sB(e){return e=Ste(e),e!==null?aB(e):null}function aB(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=aB(e);if(t!==null)return t;e=e.sibling}return null}var iB=Hi.unstable_scheduleCallback,RD=Hi.unstable_cancelCallback,Cte=Hi.unstable_shouldYield,Ete=Hi.unstable_requestPaint,qn=Hi.unstable_now,Ate=Hi.unstable_getCurrentPriorityLevel,MP=Hi.unstable_ImmediatePriority,oB=Hi.unstable_UserBlockingPriority,vb=Hi.unstable_NormalPriority,Pte=Hi.unstable_LowPriority,lB=Hi.unstable_IdlePriority,Zw=null,Gl=null;function kte(e){if(Gl&&typeof Gl.onCommitFiberRoot=="function")try{Gl.onCommitFiberRoot(Zw,e,void 0,(e.current.flags&128)===128)}catch{}}var sl=Math.clz32?Math.clz32:Dte,Tte=Math.log,Ote=Math.LN2;function Dte(e){return e>>>=0,e===0?32:31-(Tte(e)/Ote|0)|0}var Ly=64,By=4194304;function sg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yb(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?s=sg(l):(i&=o,i!==0&&(s=sg(i)))}else o=r&~a,o!==0?s=sg(o):i!==0&&(s=sg(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-sl(t),a=1<<r,s|=e[r],t&=~a;return s}function Ite(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rte(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-sl(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&s)&&(a[o]=Ite(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function UC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cB(){var e=Ly;return Ly<<=1,!(Ly&4194240)&&(Ly=64),e}function w_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Pv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sl(t),e[t]=r}function Mte(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-sl(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function FP(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-sl(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var Rr=0;function dB(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uB,$P,fB,mB,hB,VC=!1,Uy=[],eu=null,tu=null,ru=null,Yg=new Map,Xg=new Map,Od=[],Fte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function MD(e,t){switch(e){case"focusin":case"focusout":eu=null;break;case"dragenter":case"dragleave":tu=null;break;case"mouseover":case"mouseout":ru=null;break;case"pointerover":case"pointerout":Yg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xg.delete(t.pointerId)}}function Cx(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Tv(t),t!==null&&$P(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function $te(e,t,r,s,a){switch(t){case"focusin":return eu=Cx(eu,e,t,r,s,a),!0;case"dragenter":return tu=Cx(tu,e,t,r,s,a),!0;case"mouseover":return ru=Cx(ru,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return Yg.set(i,Cx(Yg.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,Xg.set(i,Cx(Xg.get(i)||null,e,t,r,s,a)),!0}return!1}function pB(e){var t=lf(e.target);if(t!==null){var r=lm(t);if(r!==null){if(t=r.tag,t===13){if(t=nB(r),t!==null){e.blockedOn=t,hB(e.priority,function(){fB(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hj(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=zC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);FC=s,r.target.dispatchEvent(s),FC=null}else return t=Tv(r),t!==null&&$P(t),e.blockedOn=r,!1;t.shift()}return!0}function FD(e,t,r){Hj(e)&&r.delete(t)}function Lte(){VC=!1,eu!==null&&Hj(eu)&&(eu=null),tu!==null&&Hj(tu)&&(tu=null),ru!==null&&Hj(ru)&&(ru=null),Yg.forEach(FD),Xg.forEach(FD)}function Ex(e,t){e.blockedOn===t&&(e.blockedOn=null,VC||(VC=!0,Hi.unstable_scheduleCallback(Hi.unstable_NormalPriority,Lte)))}function Qg(e){function t(a){return Ex(a,e)}if(0<Uy.length){Ex(Uy[0],e);for(var r=1;r<Uy.length;r++){var s=Uy[r];s.blockedOn===e&&(s.blockedOn=null)}}for(eu!==null&&Ex(eu,e),tu!==null&&Ex(tu,e),ru!==null&&Ex(ru,e),Yg.forEach(t),Xg.forEach(t),r=0;r<Od.length;r++)s=Od[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Od.length&&(r=Od[0],r.blockedOn===null);)pB(r),r.blockedOn===null&&Od.shift()}var dh=cd.ReactCurrentBatchConfig,jb=!0;function Bte(e,t,r,s){var a=Rr,i=dh.transition;dh.transition=null;try{Rr=1,LP(e,t,r,s)}finally{Rr=a,dh.transition=i}}function Ute(e,t,r,s){var a=Rr,i=dh.transition;dh.transition=null;try{Rr=4,LP(e,t,r,s)}finally{Rr=a,dh.transition=i}}function LP(e,t,r,s){if(jb){var a=zC(e,t,r,s);if(a===null)O_(e,t,s,bb,r),MD(e,s);else if($te(a,e,t,r,s))s.stopPropagation();else if(MD(e,s),t&4&&-1<Fte.indexOf(e)){for(;a!==null;){var i=Tv(a);if(i!==null&&uB(i),i=zC(e,t,r,s),i===null&&O_(e,t,s,bb,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else O_(e,t,s,null,r)}}var bb=null;function zC(e,t,r,s){if(bb=null,e=RP(s),e=lf(e),e!==null)if(t=lm(e),t===null)e=null;else if(r=t.tag,r===13){if(e=nB(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bb=e,null}function xB(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ate()){case MP:return 1;case oB:return 4;case vb:case Pte:return 16;case lB:return 536870912;default:return 16}default:return 16}}var Hd=null,BP=null,qj=null;function gB(){if(qj)return qj;var e,t=BP,r=t.length,s,a="value"in Hd?Hd.value:Hd.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[i-s];s++);return qj=a.slice(e,1<s?1-s:void 0)}function Gj(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vy(){return!0}function $D(){return!1}function Ji(e){function t(r,s,a,i,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vy:$D,this.isPropagationStopped=$D,this}return Tn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vy)},persist:function(){},isPersistent:Vy}),t}var Fp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},UP=Ji(Fp),kv=Tn({},Fp,{view:0,detail:0}),Vte=Ji(kv),N_,__,Ax,Jw=Tn({},kv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:VP,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ax&&(Ax&&e.type==="mousemove"?(N_=e.screenX-Ax.screenX,__=e.screenY-Ax.screenY):__=N_=0,Ax=e),N_)},movementY:function(e){return"movementY"in e?e.movementY:__}}),LD=Ji(Jw),zte=Tn({},Jw,{dataTransfer:0}),Wte=Ji(zte),Hte=Tn({},kv,{relatedTarget:0}),S_=Ji(Hte),qte=Tn({},Fp,{animationName:0,elapsedTime:0,pseudoElement:0}),Gte=Ji(qte),Kte=Tn({},Fp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yte=Ji(Kte),Xte=Tn({},Fp,{data:0}),BD=Ji(Xte),Qte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ere(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jte[e])?!!t[e]:!1}function VP(){return ere}var tre=Tn({},kv,{key:function(e){if(e.key){var t=Qte[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gj(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zte[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:VP,charCode:function(e){return e.type==="keypress"?Gj(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gj(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rre=Ji(tre),nre=Tn({},Jw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),UD=Ji(nre),sre=Tn({},kv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:VP}),are=Ji(sre),ire=Tn({},Fp,{propertyName:0,elapsedTime:0,pseudoElement:0}),ore=Ji(ire),lre=Tn({},Jw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cre=Ji(lre),dre=[9,13,27,32],zP=qc&&"CompositionEvent"in window,xg=null;qc&&"documentMode"in document&&(xg=document.documentMode);var ure=qc&&"TextEvent"in window&&!xg,vB=qc&&(!zP||xg&&8<xg&&11>=xg),VD=" ",zD=!1;function yB(e,t){switch(e){case"keyup":return dre.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jB(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qm=!1;function fre(e,t){switch(e){case"compositionend":return jB(t);case"keypress":return t.which!==32?null:(zD=!0,VD);case"textInput":return e=t.data,e===VD&&zD?null:e;default:return null}}function mre(e,t){if(qm)return e==="compositionend"||!zP&&yB(e,t)?(e=gB(),qj=BP=Hd=null,qm=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vB&&t.locale!=="ko"?null:t.data;default:return null}}var hre={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hre[e.type]:t==="textarea"}function bB(e,t,r,s){Z8(s),t=wb(t,"onChange"),0<t.length&&(r=new UP("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var gg=null,Zg=null;function pre(e){OB(e,0)}function eN(e){var t=Ym(e);if(H8(t))return e}function xre(e,t){if(e==="change")return t}var wB=!1;if(qc){var C_;if(qc){var E_="oninput"in document;if(!E_){var HD=document.createElement("div");HD.setAttribute("oninput","return;"),E_=typeof HD.oninput=="function"}C_=E_}else C_=!1;wB=C_&&(!document.documentMode||9<document.documentMode)}function qD(){gg&&(gg.detachEvent("onpropertychange",NB),Zg=gg=null)}function NB(e){if(e.propertyName==="value"&&eN(Zg)){var t=[];bB(t,Zg,e,RP(e)),rB(pre,t)}}function gre(e,t,r){e==="focusin"?(qD(),gg=t,Zg=r,gg.attachEvent("onpropertychange",NB)):e==="focusout"&&qD()}function vre(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return eN(Zg)}function yre(e,t){if(e==="click")return eN(t)}function jre(e,t){if(e==="input"||e==="change")return eN(t)}function bre(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dl=typeof Object.is=="function"?Object.is:bre;function Jg(e,t){if(dl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!SC.call(t,a)||!dl(e[a],t[a]))return!1}return!0}function GD(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function KD(e,t){var r=GD(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=GD(r)}}function _B(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_B(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function SB(){for(var e=window,t=pb();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=pb(e.document)}return t}function WP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wre(e){var t=SB(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&_B(r.ownerDocument.documentElement,r)){if(s!==null&&WP(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=KD(r,i);var o=KD(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Nre=qc&&"documentMode"in document&&11>=document.documentMode,Gm=null,WC=null,vg=null,HC=!1;function YD(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;HC||Gm==null||Gm!==pb(s)||(s=Gm,"selectionStart"in s&&WP(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),vg&&Jg(vg,s)||(vg=s,s=wb(WC,"onSelect"),0<s.length&&(t=new UP("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Gm)))}function zy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Km={animationend:zy("Animation","AnimationEnd"),animationiteration:zy("Animation","AnimationIteration"),animationstart:zy("Animation","AnimationStart"),transitionend:zy("Transition","TransitionEnd")},A_={},CB={};qc&&(CB=document.createElement("div").style,"AnimationEvent"in window||(delete Km.animationend.animation,delete Km.animationiteration.animation,delete Km.animationstart.animation),"TransitionEvent"in window||delete Km.transitionend.transition);function tN(e){if(A_[e])return A_[e];if(!Km[e])return e;var t=Km[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in CB)return A_[e]=t[r];return e}var EB=tN("animationend"),AB=tN("animationiteration"),PB=tN("animationstart"),kB=tN("transitionend"),TB=new Map,XD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pu(e,t){TB.set(e,t),om(t,[e])}for(var P_=0;P_<XD.length;P_++){var k_=XD[P_],_re=k_.toLowerCase(),Sre=k_[0].toUpperCase()+k_.slice(1);Pu(_re,"on"+Sre)}Pu(EB,"onAnimationEnd");Pu(AB,"onAnimationIteration");Pu(PB,"onAnimationStart");Pu("dblclick","onDoubleClick");Pu("focusin","onFocus");Pu("focusout","onBlur");Pu(kB,"onTransitionEnd");Vh("onMouseEnter",["mouseout","mouseover"]);Vh("onMouseLeave",["mouseout","mouseover"]);Vh("onPointerEnter",["pointerout","pointerover"]);Vh("onPointerLeave",["pointerout","pointerover"]);om("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));om("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));om("onBeforeInput",["compositionend","keypress","textInput","paste"]);om("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));om("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));om("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ag="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cre=new Set("cancel close invalid load scroll toggle".split(" ").concat(ag));function QD(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,_te(s,t,void 0,e),e.currentTarget=null}function OB(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;QD(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;QD(a,l,d),i=c}}}if(gb)throw e=BC,gb=!1,BC=null,e}function en(e,t){var r=t[XC];r===void 0&&(r=t[XC]=new Set);var s=e+"__bubble";r.has(s)||(DB(t,e,2,!1),r.add(s))}function T_(e,t,r){var s=0;t&&(s|=4),DB(r,e,s,t)}var Wy="_reactListening"+Math.random().toString(36).slice(2);function e0(e){if(!e[Wy]){e[Wy]=!0,B8.forEach(function(r){r!=="selectionchange"&&(Cre.has(r)||T_(r,!1,e),T_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wy]||(t[Wy]=!0,T_("selectionchange",!1,t))}}function DB(e,t,r,s){switch(xB(t)){case 1:var a=Bte;break;case 4:a=Ute;break;default:a=LP}r=a.bind(null,t,r,e),a=void 0,!LC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function O_(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=lf(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}rB(function(){var d=i,u=RP(r),f=[];e:{var m=TB.get(e);if(m!==void 0){var h=UP,x=e;switch(e){case"keypress":if(Gj(r)===0)break e;case"keydown":case"keyup":h=rre;break;case"focusin":x="focus",h=S_;break;case"focusout":x="blur",h=S_;break;case"beforeblur":case"afterblur":h=S_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=LD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Wte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=are;break;case EB:case AB:case PB:h=Gte;break;case kB:h=ore;break;case"scroll":h=Vte;break;case"wheel":h=cre;break;case"copy":case"cut":case"paste":h=Yte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=UD}var p=(t&4)!==0,g=!p&&e==="scroll",j=p?m!==null?m+"Capture":null:m;p=[];for(var y=d,w;y!==null;){w=y;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,j!==null&&(b=Kg(y,j),b!=null&&p.push(t0(y,b,w)))),g)break;y=y.return}0<p.length&&(m=new h(m,x,null,r,u),f.push({event:m,listeners:p}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&r!==FC&&(x=r.relatedTarget||r.fromElement)&&(lf(x)||x[Gc]))break e;if((h||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,h?(x=r.relatedTarget||r.toElement,h=d,x=x?lf(x):null,x!==null&&(g=lm(x),x!==g||x.tag!==5&&x.tag!==6)&&(x=null)):(h=null,x=d),h!==x)){if(p=LD,b="onMouseLeave",j="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=UD,b="onPointerLeave",j="onPointerEnter",y="pointer"),g=h==null?m:Ym(h),w=x==null?m:Ym(x),m=new p(b,y+"leave",h,r,u),m.target=g,m.relatedTarget=w,b=null,lf(u)===d&&(p=new p(j,y+"enter",x,r,u),p.target=w,p.relatedTarget=g,b=p),g=b,h&&x)t:{for(p=h,j=x,y=0,w=p;w;w=Sm(w))y++;for(w=0,b=j;b;b=Sm(b))w++;for(;0<y-w;)p=Sm(p),y--;for(;0<w-y;)j=Sm(j),w--;for(;y--;){if(p===j||j!==null&&p===j.alternate)break t;p=Sm(p),j=Sm(j)}p=null}else p=null;h!==null&&ZD(f,m,h,p,!1),x!==null&&g!==null&&ZD(f,g,x,p,!0)}}e:{if(m=d?Ym(d):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var N=xre;else if(WD(m))if(wB)N=jre;else{N=vre;var S=gre}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=yre);if(N&&(N=N(e,d))){bB(f,N,r,u);break e}S&&S(e,m,d),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&OC(m,"number",m.value)}switch(S=d?Ym(d):window,e){case"focusin":(WD(S)||S.contentEditable==="true")&&(Gm=S,WC=d,vg=null);break;case"focusout":vg=WC=Gm=null;break;case"mousedown":HC=!0;break;case"contextmenu":case"mouseup":case"dragend":HC=!1,YD(f,r,u);break;case"selectionchange":if(Nre)break;case"keydown":case"keyup":YD(f,r,u)}var _;if(zP)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else qm?yB(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(vB&&r.locale!=="ko"&&(qm||E!=="onCompositionStart"?E==="onCompositionEnd"&&qm&&(_=gB()):(Hd=u,BP="value"in Hd?Hd.value:Hd.textContent,qm=!0)),S=wb(d,E),0<S.length&&(E=new BD(E,e,null,r,u),f.push({event:E,listeners:S}),_?E.data=_:(_=jB(r),_!==null&&(E.data=_)))),(_=ure?fre(e,r):mre(e,r))&&(d=wb(d,"onBeforeInput"),0<d.length&&(u=new BD("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=_))}OB(f,t)})}function t0(e,t,r){return{instance:e,listener:t,currentTarget:r}}function wb(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Kg(e,r),i!=null&&s.unshift(t0(e,i,a)),i=Kg(e,t),i!=null&&s.push(t0(e,i,a))),e=e.return}return s}function Sm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ZD(e,t,r,s,a){for(var i=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=Kg(r,i),c!=null&&o.unshift(t0(r,c,l))):a||(c=Kg(r,i),c!=null&&o.push(t0(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Ere=/\r\n?/g,Are=/\u0000|\uFFFD/g;function JD(e){return(typeof e=="string"?e:""+e).replace(Ere,`
`).replace(Are,"")}function Hy(e,t,r){if(t=JD(t),JD(e)!==t&&r)throw Error(Ke(425))}function Nb(){}var qC=null,GC=null;function KC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var YC=typeof setTimeout=="function"?setTimeout:void 0,Pre=typeof clearTimeout=="function"?clearTimeout:void 0,e5=typeof Promise=="function"?Promise:void 0,kre=typeof queueMicrotask=="function"?queueMicrotask:typeof e5<"u"?function(e){return e5.resolve(null).then(e).catch(Tre)}:YC;function Tre(e){setTimeout(function(){throw e})}function D_(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),Qg(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);Qg(t)}function nu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function t5(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var $p=Math.random().toString(36).slice(2),Bl="__reactFiber$"+$p,r0="__reactProps$"+$p,Gc="__reactContainer$"+$p,XC="__reactEvents$"+$p,Ore="__reactListeners$"+$p,Dre="__reactHandles$"+$p;function lf(e){var t=e[Bl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Gc]||r[Bl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=t5(e);e!==null;){if(r=e[Bl])return r;e=t5(e)}return t}e=r,r=e.parentNode}return null}function Tv(e){return e=e[Bl]||e[Gc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ym(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ke(33))}function rN(e){return e[r0]||null}var QC=[],Xm=-1;function ku(e){return{current:e}}function an(e){0>Xm||(e.current=QC[Xm],QC[Xm]=null,Xm--)}function Yr(e,t){Xm++,QC[Xm]=e.current,e.current=t}var pu={},ga=ku(pu),si=ku(!1),Rf=pu;function zh(e,t){var r=e.type.contextTypes;if(!r)return pu;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ai(e){return e=e.childContextTypes,e!=null}function _b(){an(si),an(ga)}function r5(e,t,r){if(ga.current!==pu)throw Error(Ke(168));Yr(ga,t),Yr(si,r)}function IB(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(Ke(108,gte(e)||"Unknown",a));return Tn({},r,s)}function Sb(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pu,Rf=ga.current,Yr(ga,e),Yr(si,si.current),!0}function n5(e,t,r){var s=e.stateNode;if(!s)throw Error(Ke(169));r?(e=IB(e,t,Rf),s.__reactInternalMemoizedMergedChildContext=e,an(si),an(ga),Yr(ga,e)):an(si),Yr(si,r)}var Sc=null,nN=!1,I_=!1;function RB(e){Sc===null?Sc=[e]:Sc.push(e)}function Ire(e){nN=!0,RB(e)}function Tu(){if(!I_&&Sc!==null){I_=!0;var e=0,t=Rr;try{var r=Sc;for(Rr=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Sc=null,nN=!1}catch(a){throw Sc!==null&&(Sc=Sc.slice(e+1)),iB(MP,Tu),a}finally{Rr=t,I_=!1}}return null}var Qm=[],Zm=0,Cb=null,Eb=0,po=[],xo=0,Mf=null,Pc=1,kc="";function Yu(e,t){Qm[Zm++]=Eb,Qm[Zm++]=Cb,Cb=e,Eb=t}function MB(e,t,r){po[xo++]=Pc,po[xo++]=kc,po[xo++]=Mf,Mf=e;var s=Pc;e=kc;var a=32-sl(s)-1;s&=~(1<<a),r+=1;var i=32-sl(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,Pc=1<<32-sl(t)+a|r<<a|s,kc=i+e}else Pc=1<<i|r<<a|s,kc=e}function HP(e){e.return!==null&&(Yu(e,1),MB(e,1,0))}function qP(e){for(;e===Cb;)Cb=Qm[--Zm],Qm[Zm]=null,Eb=Qm[--Zm],Qm[Zm]=null;for(;e===Mf;)Mf=po[--xo],po[xo]=null,kc=po[--xo],po[xo]=null,Pc=po[--xo],po[xo]=null}var $i=null,Mi=null,fn=!1,Yo=null;function FB(e,t){var r=vo(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function s5(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$i=e,Mi=nu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$i=e,Mi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Mf!==null?{id:Pc,overflow:kc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=vo(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,$i=e,Mi=null,!0):!1;default:return!1}}function ZC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function JC(e){if(fn){var t=Mi;if(t){var r=t;if(!s5(e,t)){if(ZC(e))throw Error(Ke(418));t=nu(r.nextSibling);var s=$i;t&&s5(e,t)?FB(s,r):(e.flags=e.flags&-4097|2,fn=!1,$i=e)}}else{if(ZC(e))throw Error(Ke(418));e.flags=e.flags&-4097|2,fn=!1,$i=e}}}function a5(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$i=e}function qy(e){if(e!==$i)return!1;if(!fn)return a5(e),fn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!KC(e.type,e.memoizedProps)),t&&(t=Mi)){if(ZC(e))throw $B(),Error(Ke(418));for(;t;)FB(e,t),t=nu(t.nextSibling)}if(a5(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ke(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Mi=nu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Mi=null}}else Mi=$i?nu(e.stateNode.nextSibling):null;return!0}function $B(){for(var e=Mi;e;)e=nu(e.nextSibling)}function Wh(){Mi=$i=null,fn=!1}function GP(e){Yo===null?Yo=[e]:Yo.push(e)}var Rre=cd.ReactCurrentBatchConfig;function Px(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ke(309));var s=r.stateNode}if(!s)throw Error(Ke(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ke(284));if(!r._owner)throw Error(Ke(290,e))}return e}function Gy(e,t){throw e=Object.prototype.toString.call(t),Error(Ke(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function i5(e){var t=e._init;return t(e._payload)}function LB(e){function t(j,y){if(e){var w=j.deletions;w===null?(j.deletions=[y],j.flags|=16):w.push(y)}}function r(j,y){if(!e)return null;for(;y!==null;)t(j,y),y=y.sibling;return null}function s(j,y){for(j=new Map;y!==null;)y.key!==null?j.set(y.key,y):j.set(y.index,y),y=y.sibling;return j}function a(j,y){return j=ou(j,y),j.index=0,j.sibling=null,j}function i(j,y,w){return j.index=w,e?(w=j.alternate,w!==null?(w=w.index,w<y?(j.flags|=2,y):w):(j.flags|=2,y)):(j.flags|=1048576,y)}function o(j){return e&&j.alternate===null&&(j.flags|=2),j}function l(j,y,w,b){return y===null||y.tag!==6?(y=U_(w,j.mode,b),y.return=j,y):(y=a(y,w),y.return=j,y)}function c(j,y,w,b){var N=w.type;return N===Hm?u(j,y,w.props.children,b,w.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Pd&&i5(N)===y.type)?(b=a(y,w.props),b.ref=Px(j,y,w),b.return=j,b):(b=eb(w.type,w.key,w.props,null,j.mode,b),b.ref=Px(j,y,w),b.return=j,b)}function d(j,y,w,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=V_(w,j.mode,b),y.return=j,y):(y=a(y,w.children||[]),y.return=j,y)}function u(j,y,w,b,N){return y===null||y.tag!==7?(y=Af(w,j.mode,b,N),y.return=j,y):(y=a(y,w),y.return=j,y)}function f(j,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=U_(""+y,j.mode,w),y.return=j,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case My:return w=eb(y.type,y.key,y.props,null,j.mode,w),w.ref=Px(j,null,y),w.return=j,w;case Wm:return y=V_(y,j.mode,w),y.return=j,y;case Pd:var b=y._init;return f(j,b(y._payload),w)}if(ng(y)||_x(y))return y=Af(y,j.mode,w,null),y.return=j,y;Gy(j,y)}return null}function m(j,y,w,b){var N=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(j,y,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case My:return w.key===N?c(j,y,w,b):null;case Wm:return w.key===N?d(j,y,w,b):null;case Pd:return N=w._init,m(j,y,N(w._payload),b)}if(ng(w)||_x(w))return N!==null?null:u(j,y,w,b,null);Gy(j,w)}return null}function h(j,y,w,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return j=j.get(w)||null,l(y,j,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case My:return j=j.get(b.key===null?w:b.key)||null,c(y,j,b,N);case Wm:return j=j.get(b.key===null?w:b.key)||null,d(y,j,b,N);case Pd:var S=b._init;return h(j,y,w,S(b._payload),N)}if(ng(b)||_x(b))return j=j.get(w)||null,u(y,j,b,N,null);Gy(y,b)}return null}function x(j,y,w,b){for(var N=null,S=null,_=y,E=y=0,A=null;_!==null&&E<w.length;E++){_.index>E?(A=_,_=null):A=_.sibling;var k=m(j,_,w[E],b);if(k===null){_===null&&(_=A);break}e&&_&&k.alternate===null&&t(j,_),y=i(k,y,E),S===null?N=k:S.sibling=k,S=k,_=A}if(E===w.length)return r(j,_),fn&&Yu(j,E),N;if(_===null){for(;E<w.length;E++)_=f(j,w[E],b),_!==null&&(y=i(_,y,E),S===null?N=_:S.sibling=_,S=_);return fn&&Yu(j,E),N}for(_=s(j,_);E<w.length;E++)A=h(_,j,E,w[E],b),A!==null&&(e&&A.alternate!==null&&_.delete(A.key===null?E:A.key),y=i(A,y,E),S===null?N=A:S.sibling=A,S=A);return e&&_.forEach(function(D){return t(j,D)}),fn&&Yu(j,E),N}function p(j,y,w,b){var N=_x(w);if(typeof N!="function")throw Error(Ke(150));if(w=N.call(w),w==null)throw Error(Ke(151));for(var S=N=null,_=y,E=y=0,A=null,k=w.next();_!==null&&!k.done;E++,k=w.next()){_.index>E?(A=_,_=null):A=_.sibling;var D=m(j,_,k.value,b);if(D===null){_===null&&(_=A);break}e&&_&&D.alternate===null&&t(j,_),y=i(D,y,E),S===null?N=D:S.sibling=D,S=D,_=A}if(k.done)return r(j,_),fn&&Yu(j,E),N;if(_===null){for(;!k.done;E++,k=w.next())k=f(j,k.value,b),k!==null&&(y=i(k,y,E),S===null?N=k:S.sibling=k,S=k);return fn&&Yu(j,E),N}for(_=s(j,_);!k.done;E++,k=w.next())k=h(_,j,E,k.value,b),k!==null&&(e&&k.alternate!==null&&_.delete(k.key===null?E:k.key),y=i(k,y,E),S===null?N=k:S.sibling=k,S=k);return e&&_.forEach(function(I){return t(j,I)}),fn&&Yu(j,E),N}function g(j,y,w,b){if(typeof w=="object"&&w!==null&&w.type===Hm&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case My:e:{for(var N=w.key,S=y;S!==null;){if(S.key===N){if(N=w.type,N===Hm){if(S.tag===7){r(j,S.sibling),y=a(S,w.props.children),y.return=j,j=y;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Pd&&i5(N)===S.type){r(j,S.sibling),y=a(S,w.props),y.ref=Px(j,S,w),y.return=j,j=y;break e}r(j,S);break}else t(j,S);S=S.sibling}w.type===Hm?(y=Af(w.props.children,j.mode,b,w.key),y.return=j,j=y):(b=eb(w.type,w.key,w.props,null,j.mode,b),b.ref=Px(j,y,w),b.return=j,j=b)}return o(j);case Wm:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(j,y.sibling),y=a(y,w.children||[]),y.return=j,j=y;break e}else{r(j,y);break}else t(j,y);y=y.sibling}y=V_(w,j.mode,b),y.return=j,j=y}return o(j);case Pd:return S=w._init,g(j,y,S(w._payload),b)}if(ng(w))return x(j,y,w,b);if(_x(w))return p(j,y,w,b);Gy(j,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(j,y.sibling),y=a(y,w),y.return=j,j=y):(r(j,y),y=U_(w,j.mode,b),y.return=j,j=y),o(j)):r(j,y)}return g}var Hh=LB(!0),BB=LB(!1),Ab=ku(null),Pb=null,Jm=null,KP=null;function YP(){KP=Jm=Pb=null}function XP(e){var t=Ab.current;an(Ab),e._currentValue=t}function e4(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function uh(e,t){Pb=e,KP=Jm=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ti=!0),e.firstContext=null)}function Eo(e){var t=e._currentValue;if(KP!==e)if(e={context:e,memoizedValue:t,next:null},Jm===null){if(Pb===null)throw Error(Ke(308));Jm=e,Pb.dependencies={lanes:0,firstContext:e}}else Jm=Jm.next=e;return t}var cf=null;function QP(e){cf===null?cf=[e]:cf.push(e)}function UB(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,QP(t)):(r.next=a.next,a.next=r),t.interleaved=r,Kc(e,s)}function Kc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var kd=!1;function ZP(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VB(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function su(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,xr&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Kc(e,r)}return a=s.interleaved,a===null?(t.next=t,QP(s)):(t.next=a.next,a.next=t),s.interleaved=t,Kc(e,r)}function Kj(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,FP(e,r)}}function o5(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function kb(e,t,r,s){var a=e.updateQueue;kd=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,h=l.eventTime;if((s&m)===m){u!==null&&(u=u.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,p=l;switch(m=t,h=r,p.tag){case 1:if(x=p.payload,typeof x=="function"){f=x.call(h,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,m=typeof x=="function"?x.call(h,f,m):x,m==null)break e;f=Tn({},f,m);break e;case 2:kd=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=h,c=f):u=u.next=h,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);$f|=o,e.lanes=o,e.memoizedState=f}}function l5(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(Ke(191,a));a.call(s)}}}var Ov={},Kl=ku(Ov),n0=ku(Ov),s0=ku(Ov);function df(e){if(e===Ov)throw Error(Ke(174));return e}function JP(e,t){switch(Yr(s0,t),Yr(n0,e),Yr(Kl,Ov),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:IC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=IC(t,e)}an(Kl),Yr(Kl,t)}function qh(){an(Kl),an(n0),an(s0)}function zB(e){df(s0.current);var t=df(Kl.current),r=IC(t,e.type);t!==r&&(Yr(n0,e),Yr(Kl,r))}function ek(e){n0.current===e&&(an(Kl),an(n0))}var Cn=ku(0);function Tb(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var R_=[];function tk(){for(var e=0;e<R_.length;e++)R_[e]._workInProgressVersionPrimary=null;R_.length=0}var Yj=cd.ReactCurrentDispatcher,M_=cd.ReactCurrentBatchConfig,Ff=0,Pn=null,xs=null,Ps=null,Ob=!1,yg=!1,a0=0,Mre=0;function sa(){throw Error(Ke(321))}function rk(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!dl(e[r],t[r]))return!1;return!0}function nk(e,t,r,s,a,i){if(Ff=i,Pn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yj.current=e===null||e.memoizedState===null?Bre:Ure,e=r(s,a),yg){i=0;do{if(yg=!1,a0=0,25<=i)throw Error(Ke(301));i+=1,Ps=xs=null,t.updateQueue=null,Yj.current=Vre,e=r(s,a)}while(yg)}if(Yj.current=Db,t=xs!==null&&xs.next!==null,Ff=0,Ps=xs=Pn=null,Ob=!1,t)throw Error(Ke(300));return e}function sk(){var e=a0!==0;return a0=0,e}function Tl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ps===null?Pn.memoizedState=Ps=e:Ps=Ps.next=e,Ps}function Ao(){if(xs===null){var e=Pn.alternate;e=e!==null?e.memoizedState:null}else e=xs.next;var t=Ps===null?Pn.memoizedState:Ps.next;if(t!==null)Ps=t,xs=e;else{if(e===null)throw Error(Ke(310));xs=e,e={memoizedState:xs.memoizedState,baseState:xs.baseState,baseQueue:xs.baseQueue,queue:xs.queue,next:null},Ps===null?Pn.memoizedState=Ps=e:Ps=Ps.next=e}return Ps}function i0(e,t){return typeof t=="function"?t(e):t}function F_(e){var t=Ao(),r=t.queue;if(r===null)throw Error(Ke(311));r.lastRenderedReducer=e;var s=xs,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Ff&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,Pn.lanes|=u,$f|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,dl(s,t.memoizedState)||(ti=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Pn.lanes|=i,$f|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function $_(e){var t=Ao(),r=t.queue;if(r===null)throw Error(Ke(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);dl(i,t.memoizedState)||(ti=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function WB(){}function HB(e,t){var r=Pn,s=Ao(),a=t(),i=!dl(s.memoizedState,a);if(i&&(s.memoizedState=a,ti=!0),s=s.queue,ak(KB.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||Ps!==null&&Ps.memoizedState.tag&1){if(r.flags|=2048,o0(9,GB.bind(null,r,s,a,t),void 0,null),Is===null)throw Error(Ke(349));Ff&30||qB(r,t,a)}return a}function qB(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Pn.updateQueue,t===null?(t={lastEffect:null,stores:null},Pn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function GB(e,t,r,s){t.value=r,t.getSnapshot=s,YB(t)&&XB(e)}function KB(e,t,r){return r(function(){YB(t)&&XB(e)})}function YB(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!dl(e,r)}catch{return!0}}function XB(e){var t=Kc(e,1);t!==null&&al(t,e,1,-1)}function c5(e){var t=Tl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i0,lastRenderedState:e},t.queue=e,e=e.dispatch=Lre.bind(null,Pn,e),[t.memoizedState,e]}function o0(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Pn.updateQueue,t===null?(t={lastEffect:null,stores:null},Pn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function QB(){return Ao().memoizedState}function Xj(e,t,r,s){var a=Tl();Pn.flags|=e,a.memoizedState=o0(1|t,r,void 0,s===void 0?null:s)}function sN(e,t,r,s){var a=Ao();s=s===void 0?null:s;var i=void 0;if(xs!==null){var o=xs.memoizedState;if(i=o.destroy,s!==null&&rk(s,o.deps)){a.memoizedState=o0(t,r,i,s);return}}Pn.flags|=e,a.memoizedState=o0(1|t,r,i,s)}function d5(e,t){return Xj(8390656,8,e,t)}function ak(e,t){return sN(2048,8,e,t)}function ZB(e,t){return sN(4,2,e,t)}function JB(e,t){return sN(4,4,e,t)}function e9(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function t9(e,t,r){return r=r!=null?r.concat([e]):null,sN(4,4,e9.bind(null,t,e),r)}function ik(){}function r9(e,t){var r=Ao();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&rk(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function n9(e,t){var r=Ao();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&rk(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function s9(e,t,r){return Ff&21?(dl(r,t)||(r=cB(),Pn.lanes|=r,$f|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ti=!0),e.memoizedState=r)}function Fre(e,t){var r=Rr;Rr=r!==0&&4>r?r:4,e(!0);var s=M_.transition;M_.transition={};try{e(!1),t()}finally{Rr=r,M_.transition=s}}function a9(){return Ao().memoizedState}function $re(e,t,r){var s=iu(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},i9(e))o9(t,r);else if(r=UB(e,t,r,s),r!==null){var a=Ma();al(r,e,s,a),l9(r,t,s)}}function Lre(e,t,r){var s=iu(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(i9(e))o9(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,dl(l,o)){var c=t.interleaved;c===null?(a.next=a,QP(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=UB(e,t,a,s),r!==null&&(a=Ma(),al(r,e,s,a),l9(r,t,s))}}function i9(e){var t=e.alternate;return e===Pn||t!==null&&t===Pn}function o9(e,t){yg=Ob=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function l9(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,FP(e,r)}}var Db={readContext:Eo,useCallback:sa,useContext:sa,useEffect:sa,useImperativeHandle:sa,useInsertionEffect:sa,useLayoutEffect:sa,useMemo:sa,useReducer:sa,useRef:sa,useState:sa,useDebugValue:sa,useDeferredValue:sa,useTransition:sa,useMutableSource:sa,useSyncExternalStore:sa,useId:sa,unstable_isNewReconciler:!1},Bre={readContext:Eo,useCallback:function(e,t){return Tl().memoizedState=[e,t===void 0?null:t],e},useContext:Eo,useEffect:d5,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Xj(4194308,4,e9.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Xj(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xj(4,2,e,t)},useMemo:function(e,t){var r=Tl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Tl();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=$re.bind(null,Pn,e),[s.memoizedState,e]},useRef:function(e){var t=Tl();return e={current:e},t.memoizedState=e},useState:c5,useDebugValue:ik,useDeferredValue:function(e){return Tl().memoizedState=e},useTransition:function(){var e=c5(!1),t=e[0];return e=Fre.bind(null,e[1]),Tl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Pn,a=Tl();if(fn){if(r===void 0)throw Error(Ke(407));r=r()}else{if(r=t(),Is===null)throw Error(Ke(349));Ff&30||qB(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,d5(KB.bind(null,s,i,e),[e]),s.flags|=2048,o0(9,GB.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=Tl(),t=Is.identifierPrefix;if(fn){var r=kc,s=Pc;r=(s&~(1<<32-sl(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=a0++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Mre++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ure={readContext:Eo,useCallback:r9,useContext:Eo,useEffect:ak,useImperativeHandle:t9,useInsertionEffect:ZB,useLayoutEffect:JB,useMemo:n9,useReducer:F_,useRef:QB,useState:function(){return F_(i0)},useDebugValue:ik,useDeferredValue:function(e){var t=Ao();return s9(t,xs.memoizedState,e)},useTransition:function(){var e=F_(i0)[0],t=Ao().memoizedState;return[e,t]},useMutableSource:WB,useSyncExternalStore:HB,useId:a9,unstable_isNewReconciler:!1},Vre={readContext:Eo,useCallback:r9,useContext:Eo,useEffect:ak,useImperativeHandle:t9,useInsertionEffect:ZB,useLayoutEffect:JB,useMemo:n9,useReducer:$_,useRef:QB,useState:function(){return $_(i0)},useDebugValue:ik,useDeferredValue:function(e){var t=Ao();return xs===null?t.memoizedState=e:s9(t,xs.memoizedState,e)},useTransition:function(){var e=$_(i0)[0],t=Ao().memoizedState;return[e,t]},useMutableSource:WB,useSyncExternalStore:HB,useId:a9,unstable_isNewReconciler:!1};function Wo(e,t){if(e&&e.defaultProps){t=Tn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function t4(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:Tn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var aN={isMounted:function(e){return(e=e._reactInternals)?lm(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Ma(),a=iu(e),i=Mc(s,a);i.payload=t,r!=null&&(i.callback=r),t=su(e,i,a),t!==null&&(al(t,e,a,s),Kj(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Ma(),a=iu(e),i=Mc(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=su(e,i,a),t!==null&&(al(t,e,a,s),Kj(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ma(),s=iu(e),a=Mc(r,s);a.tag=2,t!=null&&(a.callback=t),t=su(e,a,s),t!==null&&(al(t,e,s,r),Kj(t,e,s))}};function u5(e,t,r,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!Jg(r,s)||!Jg(a,i):!0}function c9(e,t,r){var s=!1,a=pu,i=t.contextType;return typeof i=="object"&&i!==null?i=Eo(i):(a=ai(t)?Rf:ga.current,s=t.contextTypes,i=(s=s!=null)?zh(e,a):pu),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=aN,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function f5(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&aN.enqueueReplaceState(t,t.state,null)}function r4(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},ZP(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Eo(i):(i=ai(t)?Rf:ga.current,a.context=zh(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(t4(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&aN.enqueueReplaceState(a,a.state,null),kb(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Gh(e,t){try{var r="",s=t;do r+=xte(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function L_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function n4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var zre=typeof WeakMap=="function"?WeakMap:Map;function d9(e,t,r){r=Mc(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Rb||(Rb=!0,m4=s),n4(e,t)},r}function u9(e,t,r){r=Mc(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){n4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){n4(e,t),typeof s!="function"&&(au===null?au=new Set([this]):au.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function m5(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new zre;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=nne.bind(null,e,t,r),t.then(e,e))}function h5(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function p5(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Mc(-1,1),t.tag=2,su(r,t,1))),r.lanes|=1),e)}var Wre=cd.ReactCurrentOwner,ti=!1;function Aa(e,t,r,s){t.child=e===null?BB(t,null,r,s):Hh(t,e.child,r,s)}function x5(e,t,r,s,a){r=r.render;var i=t.ref;return uh(t,a),s=nk(e,t,r,s,i,a),r=sk(),e!==null&&!ti?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Yc(e,t,a)):(fn&&r&&HP(t),t.flags|=1,Aa(e,t,s,a),t.child)}function g5(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!hk(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,f9(e,t,i,s,a)):(e=eb(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Jg,r(o,s)&&e.ref===t.ref)return Yc(e,t,a)}return t.flags|=1,e=ou(i,s),e.ref=t.ref,e.return=t,t.child=e}function f9(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(Jg(i,s)&&e.ref===t.ref)if(ti=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(ti=!0);else return t.lanes=e.lanes,Yc(e,t,a)}return s4(e,t,r,s,a)}function m9(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yr(th,Pi),Pi|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Yr(th,Pi),Pi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,Yr(th,Pi),Pi|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,Yr(th,Pi),Pi|=s;return Aa(e,t,a,r),t.child}function h9(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function s4(e,t,r,s,a){var i=ai(r)?Rf:ga.current;return i=zh(t,i),uh(t,a),r=nk(e,t,r,s,i,a),s=sk(),e!==null&&!ti?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Yc(e,t,a)):(fn&&s&&HP(t),t.flags|=1,Aa(e,t,r,a),t.child)}function v5(e,t,r,s,a){if(ai(r)){var i=!0;Sb(t)}else i=!1;if(uh(t,a),t.stateNode===null)Qj(e,t),c9(t,r,s),r4(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Eo(d):(d=ai(r)?Rf:ga.current,d=zh(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&f5(t,o,s,d),kd=!1;var m=t.memoizedState;o.state=m,kb(t,s,o,a),c=t.memoizedState,l!==s||m!==c||si.current||kd?(typeof u=="function"&&(t4(t,r,u,s),c=t.memoizedState),(l=kd||u5(t,r,l,s,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,VB(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Wo(t.type,l),o.props=d,f=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Eo(c):(c=ai(r)?Rf:ga.current,c=zh(t,c));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&f5(t,o,s,c),kd=!1,m=t.memoizedState,o.state=m,kb(t,s,o,a);var x=t.memoizedState;l!==f||m!==x||si.current||kd?(typeof h=="function"&&(t4(t,r,h,s),x=t.memoizedState),(d=kd||u5(t,r,d,s,m,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),o.props=s,o.state=x,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return a4(e,t,r,s,i,a)}function a4(e,t,r,s,a,i){h9(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&n5(t,r,!1),Yc(e,t,i);s=t.stateNode,Wre.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Hh(t,e.child,null,i),t.child=Hh(t,null,l,i)):Aa(e,t,l,i),t.memoizedState=s.state,a&&n5(t,r,!0),t.child}function p9(e){var t=e.stateNode;t.pendingContext?r5(e,t.pendingContext,t.pendingContext!==t.context):t.context&&r5(e,t.context,!1),JP(e,t.containerInfo)}function y5(e,t,r,s,a){return Wh(),GP(a),t.flags|=256,Aa(e,t,r,s),t.child}var i4={dehydrated:null,treeContext:null,retryLane:0};function o4(e){return{baseLanes:e,cachePool:null,transitions:null}}function x9(e,t,r){var s=t.pendingProps,a=Cn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Yr(Cn,a&1),e===null)return JC(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=lN(o,s,0,null),e=Af(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=o4(r),t.memoizedState=i4,e):ok(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Hre(e,t,o,s,l,a,r);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=ou(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=ou(l,i):(i=Af(i,o,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?o4(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=i4,s}return i=e.child,e=i.sibling,s=ou(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function ok(e,t){return t=lN({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ky(e,t,r,s){return s!==null&&GP(s),Hh(t,e.child,null,r),e=ok(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hre(e,t,r,s,a,i,o){if(r)return t.flags&256?(t.flags&=-257,s=L_(Error(Ke(422))),Ky(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=lN({mode:"visible",children:s.children},a,0,null),i=Af(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Hh(t,e.child,null,o),t.child.memoizedState=o4(o),t.memoizedState=i4,i);if(!(t.mode&1))return Ky(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(Ke(419)),s=L_(i,s,void 0),Ky(e,t,o,s)}if(l=(o&e.childLanes)!==0,ti||l){if(s=Is,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Kc(e,a),al(s,e,a,-1))}return mk(),s=L_(Error(Ke(421))),Ky(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=sne.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Mi=nu(a.nextSibling),$i=t,fn=!0,Yo=null,e!==null&&(po[xo++]=Pc,po[xo++]=kc,po[xo++]=Mf,Pc=e.id,kc=e.overflow,Mf=t),t=ok(t,s.children),t.flags|=4096,t)}function j5(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),e4(e.return,t,r)}function B_(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function g9(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(Aa(e,t,s.children,r),s=Cn.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&j5(e,r,t);else if(e.tag===19)j5(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Yr(Cn,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Tb(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),B_(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Tb(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}B_(t,!0,r,null,i);break;case"together":B_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qj(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$f|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ke(153));if(t.child!==null){for(e=t.child,r=ou(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ou(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function qre(e,t,r){switch(t.tag){case 3:p9(t),Wh();break;case 5:zB(t);break;case 1:ai(t.type)&&Sb(t);break;case 4:JP(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Yr(Ab,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Yr(Cn,Cn.current&1),t.flags|=128,null):r&t.child.childLanes?x9(e,t,r):(Yr(Cn,Cn.current&1),e=Yc(e,t,r),e!==null?e.sibling:null);Yr(Cn,Cn.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return g9(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Yr(Cn,Cn.current),s)break;return null;case 22:case 23:return t.lanes=0,m9(e,t,r)}return Yc(e,t,r)}var v9,l4,y9,j9;v9=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};l4=function(){};y9=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,df(Kl.current);var i=null;switch(r){case"input":a=kC(e,a),s=kC(e,s),i=[];break;case"select":a=Tn({},a,{value:void 0}),s=Tn({},s,{value:void 0}),i=[];break;case"textarea":a=DC(e,a),s=DC(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Nb)}RC(r,s);var o;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(qg.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(qg.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&en("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};j9=function(e,t,r,s){r!==s&&(t.flags|=4)};function kx(e,t){if(!fn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function aa(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Gre(e,t,r){var s=t.pendingProps;switch(qP(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return aa(t),null;case 1:return ai(t.type)&&_b(),aa(t),null;case 3:return s=t.stateNode,qh(),an(si),an(ga),tk(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(qy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yo!==null&&(x4(Yo),Yo=null))),l4(e,t),aa(t),null;case 5:ek(t);var a=df(s0.current);if(r=t.type,e!==null&&t.stateNode!=null)y9(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Ke(166));return aa(t),null}if(e=df(Kl.current),qy(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[Bl]=t,s[r0]=i,e=(t.mode&1)!==0,r){case"dialog":en("cancel",s),en("close",s);break;case"iframe":case"object":case"embed":en("load",s);break;case"video":case"audio":for(a=0;a<ag.length;a++)en(ag[a],s);break;case"source":en("error",s);break;case"img":case"image":case"link":en("error",s),en("load",s);break;case"details":en("toggle",s);break;case"input":PD(s,i),en("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},en("invalid",s);break;case"textarea":TD(s,i),en("invalid",s)}RC(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&Hy(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Hy(s.textContent,l,e),a=["children",""+l]):qg.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&en("scroll",s)}switch(r){case"input":Fy(s),kD(s,i,!0);break;case"textarea":Fy(s),OD(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Nb)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=K8(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[Bl]=t,e[r0]=s,v9(e,t,!1,!1),t.stateNode=e;e:{switch(o=MC(r,s),r){case"dialog":en("cancel",e),en("close",e),a=s;break;case"iframe":case"object":case"embed":en("load",e),a=s;break;case"video":case"audio":for(a=0;a<ag.length;a++)en(ag[a],e);a=s;break;case"source":en("error",e),a=s;break;case"img":case"image":case"link":en("error",e),en("load",e),a=s;break;case"details":en("toggle",e),a=s;break;case"input":PD(e,s),a=kC(e,s),en("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=Tn({},s,{value:void 0}),en("invalid",e);break;case"textarea":TD(e,s),a=DC(e,s),en("invalid",e);break;default:a=s}RC(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Q8(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Y8(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Gg(e,c):typeof c=="number"&&Gg(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qg.hasOwnProperty(i)?c!=null&&i==="onScroll"&&en("scroll",e):c!=null&&TP(e,i,c,o))}switch(r){case"input":Fy(e),kD(e,s,!1);break;case"textarea":Fy(e),OD(e);break;case"option":s.value!=null&&e.setAttribute("value",""+hu(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?oh(e,!!s.multiple,i,!1):s.defaultValue!=null&&oh(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Nb)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return aa(t),null;case 6:if(e&&t.stateNode!=null)j9(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Ke(166));if(r=df(s0.current),df(Kl.current),qy(t)){if(s=t.stateNode,r=t.memoizedProps,s[Bl]=t,(i=s.nodeValue!==r)&&(e=$i,e!==null))switch(e.tag){case 3:Hy(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hy(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Bl]=t,t.stateNode=s}return aa(t),null;case 13:if(an(Cn),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fn&&Mi!==null&&t.mode&1&&!(t.flags&128))$B(),Wh(),t.flags|=98560,i=!1;else if(i=qy(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(Ke(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ke(317));i[Bl]=t}else Wh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;aa(t),i=!1}else Yo!==null&&(x4(Yo),Yo=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Cn.current&1?bs===0&&(bs=3):mk())),t.updateQueue!==null&&(t.flags|=4),aa(t),null);case 4:return qh(),l4(e,t),e===null&&e0(t.stateNode.containerInfo),aa(t),null;case 10:return XP(t.type._context),aa(t),null;case 17:return ai(t.type)&&_b(),aa(t),null;case 19:if(an(Cn),i=t.memoizedState,i===null)return aa(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)kx(i,!1);else{if(bs!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Tb(e),o!==null){for(t.flags|=128,kx(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Yr(Cn,Cn.current&1|2),t.child}e=e.sibling}i.tail!==null&&qn()>Kh&&(t.flags|=128,s=!0,kx(i,!1),t.lanes=4194304)}else{if(!s)if(e=Tb(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),kx(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!fn)return aa(t),null}else 2*qn()-i.renderingStartTime>Kh&&r!==1073741824&&(t.flags|=128,s=!0,kx(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=qn(),t.sibling=null,r=Cn.current,Yr(Cn,s?r&1|2:r&1),t):(aa(t),null);case 22:case 23:return fk(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Pi&1073741824&&(aa(t),t.subtreeFlags&6&&(t.flags|=8192)):aa(t),null;case 24:return null;case 25:return null}throw Error(Ke(156,t.tag))}function Kre(e,t){switch(qP(t),t.tag){case 1:return ai(t.type)&&_b(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qh(),an(si),an(ga),tk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ek(t),null;case 13:if(an(Cn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ke(340));Wh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return an(Cn),null;case 4:return qh(),null;case 10:return XP(t.type._context),null;case 22:case 23:return fk(),null;case 24:return null;default:return null}}var Yy=!1,ca=!1,Yre=typeof WeakSet=="function"?WeakSet:Set,vt=null;function eh(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Rn(e,t,s)}else r.current=null}function c4(e,t,r){try{r()}catch(s){Rn(e,t,s)}}var b5=!1;function Xre(e,t){if(qC=jb,e=SB(),WP(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,m=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===r&&++d===a&&(l=o),m===i&&++u===s&&(c=o),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(GC={focusedElem:e,selectionRange:r},jb=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){t=vt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,g=x.memoizedState,j=t.stateNode,y=j.getSnapshotBeforeUpdate(t.elementType===t.type?p:Wo(t.type,p),g);j.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ke(163))}}catch(b){Rn(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}return x=b5,b5=!1,x}function jg(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&c4(t,r,i)}a=a.next}while(a!==s)}}function iN(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function d4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function b9(e){var t=e.alternate;t!==null&&(e.alternate=null,b9(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bl],delete t[r0],delete t[XC],delete t[Ore],delete t[Dre])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function w9(e){return e.tag===5||e.tag===3||e.tag===4}function w5(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||w9(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function u4(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Nb));else if(s!==4&&(e=e.child,e!==null))for(u4(e,t,r),e=e.sibling;e!==null;)u4(e,t,r),e=e.sibling}function f4(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(f4(e,t,r),e=e.sibling;e!==null;)f4(e,t,r),e=e.sibling}var Ws=null,qo=!1;function jd(e,t,r){for(r=r.child;r!==null;)N9(e,t,r),r=r.sibling}function N9(e,t,r){if(Gl&&typeof Gl.onCommitFiberUnmount=="function")try{Gl.onCommitFiberUnmount(Zw,r)}catch{}switch(r.tag){case 5:ca||eh(r,t);case 6:var s=Ws,a=qo;Ws=null,jd(e,t,r),Ws=s,qo=a,Ws!==null&&(qo?(e=Ws,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ws.removeChild(r.stateNode));break;case 18:Ws!==null&&(qo?(e=Ws,r=r.stateNode,e.nodeType===8?D_(e.parentNode,r):e.nodeType===1&&D_(e,r),Qg(e)):D_(Ws,r.stateNode));break;case 4:s=Ws,a=qo,Ws=r.stateNode.containerInfo,qo=!0,jd(e,t,r),Ws=s,qo=a;break;case 0:case 11:case 14:case 15:if(!ca&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&c4(r,t,o),a=a.next}while(a!==s)}jd(e,t,r);break;case 1:if(!ca&&(eh(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){Rn(r,t,l)}jd(e,t,r);break;case 21:jd(e,t,r);break;case 22:r.mode&1?(ca=(s=ca)||r.memoizedState!==null,jd(e,t,r),ca=s):jd(e,t,r);break;default:jd(e,t,r)}}function N5(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Yre),t.forEach(function(s){var a=ane.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function Lo(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ws=l.stateNode,qo=!1;break e;case 3:Ws=l.stateNode.containerInfo,qo=!0;break e;case 4:Ws=l.stateNode.containerInfo,qo=!0;break e}l=l.return}if(Ws===null)throw Error(Ke(160));N9(i,o,a),Ws=null,qo=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Rn(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_9(t,e),t=t.sibling}function _9(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lo(t,e),Cl(e),s&4){try{jg(3,e,e.return),iN(3,e)}catch(p){Rn(e,e.return,p)}try{jg(5,e,e.return)}catch(p){Rn(e,e.return,p)}}break;case 1:Lo(t,e),Cl(e),s&512&&r!==null&&eh(r,r.return);break;case 5:if(Lo(t,e),Cl(e),s&512&&r!==null&&eh(r,r.return),e.flags&32){var a=e.stateNode;try{Gg(a,"")}catch(p){Rn(e,e.return,p)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&q8(a,i),MC(l,o);var d=MC(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?Q8(a,f):u==="dangerouslySetInnerHTML"?Y8(a,f):u==="children"?Gg(a,f):TP(a,u,f,d)}switch(l){case"input":TC(a,i);break;case"textarea":G8(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?oh(a,!!i.multiple,h,!1):m!==!!i.multiple&&(i.defaultValue!=null?oh(a,!!i.multiple,i.defaultValue,!0):oh(a,!!i.multiple,i.multiple?[]:"",!1))}a[r0]=i}catch(p){Rn(e,e.return,p)}}break;case 6:if(Lo(t,e),Cl(e),s&4){if(e.stateNode===null)throw Error(Ke(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){Rn(e,e.return,p)}}break;case 3:if(Lo(t,e),Cl(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Qg(t.containerInfo)}catch(p){Rn(e,e.return,p)}break;case 4:Lo(t,e),Cl(e);break;case 13:Lo(t,e),Cl(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(dk=qn())),s&4&&N5(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(ca=(d=ca)||u,Lo(t,e),ca=d):Lo(t,e),Cl(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(vt=e,u=e.child;u!==null;){for(f=vt=u;vt!==null;){switch(m=vt,h=m.child,m.tag){case 0:case 11:case 14:case 15:jg(4,m,m.return);break;case 1:eh(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){s=m,r=m.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(p){Rn(s,r,p)}}break;case 5:eh(m,m.return);break;case 22:if(m.memoizedState!==null){S5(f);continue}}h!==null?(h.return=m,vt=h):S5(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=X8("display",o))}catch(p){Rn(e,e.return,p)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(p){Rn(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Lo(t,e),Cl(e),s&4&&N5(e);break;case 21:break;default:Lo(t,e),Cl(e)}}function Cl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(w9(r)){var s=r;break e}r=r.return}throw Error(Ke(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Gg(a,""),s.flags&=-33);var i=w5(e);f4(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=w5(e);u4(e,l,o);break;default:throw Error(Ke(161))}}catch(c){Rn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qre(e,t,r){vt=e,S9(e)}function S9(e,t,r){for(var s=(e.mode&1)!==0;vt!==null;){var a=vt,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||Yy;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ca;l=Yy;var d=ca;if(Yy=o,(ca=c)&&!d)for(vt=a;vt!==null;)o=vt,c=o.child,o.tag===22&&o.memoizedState!==null?C5(a):c!==null?(c.return=o,vt=c):C5(a);for(;i!==null;)vt=i,S9(i),i=i.sibling;vt=a,Yy=l,ca=d}_5(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,vt=i):_5(e)}}function _5(e){for(;vt!==null;){var t=vt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ca||iN(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ca)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Wo(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&l5(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}l5(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Qg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ke(163))}ca||t.flags&512&&d4(t)}catch(m){Rn(t,t.return,m)}}if(t===e){vt=null;break}if(r=t.sibling,r!==null){r.return=t.return,vt=r;break}vt=t.return}}function S5(e){for(;vt!==null;){var t=vt;if(t===e){vt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,vt=r;break}vt=t.return}}function C5(e){for(;vt!==null;){var t=vt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{iN(4,t)}catch(c){Rn(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){Rn(t,a,c)}}var i=t.return;try{d4(t)}catch(c){Rn(t,i,c)}break;case 5:var o=t.return;try{d4(t)}catch(c){Rn(t,o,c)}}}catch(c){Rn(t,t.return,c)}if(t===e){vt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,vt=l;break}vt=t.return}}var Zre=Math.ceil,Ib=cd.ReactCurrentDispatcher,lk=cd.ReactCurrentOwner,wo=cd.ReactCurrentBatchConfig,xr=0,Is=null,ns=null,Xs=0,Pi=0,th=ku(0),bs=0,l0=null,$f=0,oN=0,ck=0,bg=null,Za=null,dk=0,Kh=1/0,jc=null,Rb=!1,m4=null,au=null,Xy=!1,qd=null,Mb=0,wg=0,h4=null,Zj=-1,Jj=0;function Ma(){return xr&6?qn():Zj!==-1?Zj:Zj=qn()}function iu(e){return e.mode&1?xr&2&&Xs!==0?Xs&-Xs:Rre.transition!==null?(Jj===0&&(Jj=cB()),Jj):(e=Rr,e!==0||(e=window.event,e=e===void 0?16:xB(e.type)),e):1}function al(e,t,r,s){if(50<wg)throw wg=0,h4=null,Error(Ke(185));Pv(e,r,s),(!(xr&2)||e!==Is)&&(e===Is&&(!(xr&2)&&(oN|=r),bs===4&&Dd(e,Xs)),ii(e,s),r===1&&xr===0&&!(t.mode&1)&&(Kh=qn()+500,nN&&Tu()))}function ii(e,t){var r=e.callbackNode;Rte(e,t);var s=yb(e,e===Is?Xs:0);if(s===0)r!==null&&RD(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&RD(r),t===1)e.tag===0?Ire(E5.bind(null,e)):RB(E5.bind(null,e)),kre(function(){!(xr&6)&&Tu()}),r=null;else{switch(dB(s)){case 1:r=MP;break;case 4:r=oB;break;case 16:r=vb;break;case 536870912:r=lB;break;default:r=vb}r=D9(r,C9.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function C9(e,t){if(Zj=-1,Jj=0,xr&6)throw Error(Ke(327));var r=e.callbackNode;if(fh()&&e.callbackNode!==r)return null;var s=yb(e,e===Is?Xs:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Fb(e,s);else{t=s;var a=xr;xr|=2;var i=A9();(Is!==e||Xs!==t)&&(jc=null,Kh=qn()+500,Ef(e,t));do try{tne();break}catch(l){E9(e,l)}while(!0);YP(),Ib.current=i,xr=a,ns!==null?t=0:(Is=null,Xs=0,t=bs)}if(t!==0){if(t===2&&(a=UC(e),a!==0&&(s=a,t=p4(e,a))),t===1)throw r=l0,Ef(e,0),Dd(e,s),ii(e,qn()),r;if(t===6)Dd(e,s);else{if(a=e.current.alternate,!(s&30)&&!Jre(a)&&(t=Fb(e,s),t===2&&(i=UC(e),i!==0&&(s=i,t=p4(e,i))),t===1))throw r=l0,Ef(e,0),Dd(e,s),ii(e,qn()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(Ke(345));case 2:Xu(e,Za,jc);break;case 3:if(Dd(e,s),(s&130023424)===s&&(t=dk+500-qn(),10<t)){if(yb(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Ma(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=YC(Xu.bind(null,e,Za,jc),t);break}Xu(e,Za,jc);break;case 4:if(Dd(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-sl(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=qn()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Zre(s/1960))-s,10<s){e.timeoutHandle=YC(Xu.bind(null,e,Za,jc),s);break}Xu(e,Za,jc);break;case 5:Xu(e,Za,jc);break;default:throw Error(Ke(329))}}}return ii(e,qn()),e.callbackNode===r?C9.bind(null,e):null}function p4(e,t){var r=bg;return e.current.memoizedState.isDehydrated&&(Ef(e,t).flags|=256),e=Fb(e,t),e!==2&&(t=Za,Za=r,t!==null&&x4(t)),e}function x4(e){Za===null?Za=e:Za.push.apply(Za,e)}function Jre(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!dl(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dd(e,t){for(t&=~ck,t&=~oN,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-sl(t),s=1<<r;e[r]=-1,t&=~s}}function E5(e){if(xr&6)throw Error(Ke(327));fh();var t=yb(e,0);if(!(t&1))return ii(e,qn()),null;var r=Fb(e,t);if(e.tag!==0&&r===2){var s=UC(e);s!==0&&(t=s,r=p4(e,s))}if(r===1)throw r=l0,Ef(e,0),Dd(e,t),ii(e,qn()),r;if(r===6)throw Error(Ke(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xu(e,Za,jc),ii(e,qn()),null}function uk(e,t){var r=xr;xr|=1;try{return e(t)}finally{xr=r,xr===0&&(Kh=qn()+500,nN&&Tu())}}function Lf(e){qd!==null&&qd.tag===0&&!(xr&6)&&fh();var t=xr;xr|=1;var r=wo.transition,s=Rr;try{if(wo.transition=null,Rr=1,e)return e()}finally{Rr=s,wo.transition=r,xr=t,!(xr&6)&&Tu()}}function fk(){Pi=th.current,an(th)}function Ef(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Pre(r)),ns!==null)for(r=ns.return;r!==null;){var s=r;switch(qP(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&_b();break;case 3:qh(),an(si),an(ga),tk();break;case 5:ek(s);break;case 4:qh();break;case 13:an(Cn);break;case 19:an(Cn);break;case 10:XP(s.type._context);break;case 22:case 23:fk()}r=r.return}if(Is=e,ns=e=ou(e.current,null),Xs=Pi=t,bs=0,l0=null,ck=oN=$f=0,Za=bg=null,cf!==null){for(t=0;t<cf.length;t++)if(r=cf[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}r.pending=s}cf=null}return e}function E9(e,t){do{var r=ns;try{if(YP(),Yj.current=Db,Ob){for(var s=Pn.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Ob=!1}if(Ff=0,Ps=xs=Pn=null,yg=!1,a0=0,lk.current=null,r===null||r.return===null){bs=1,l0=t,ns=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Xs,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=h5(o);if(h!==null){h.flags&=-257,p5(h,o,l,i,t),h.mode&1&&m5(i,d,t),t=h,c=d;var x=t.updateQueue;if(x===null){var p=new Set;p.add(c),t.updateQueue=p}else x.add(c);break e}else{if(!(t&1)){m5(i,d,t),mk();break e}c=Error(Ke(426))}}else if(fn&&l.mode&1){var g=h5(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),p5(g,o,l,i,t),GP(Gh(c,l));break e}}i=c=Gh(c,l),bs!==4&&(bs=2),bg===null?bg=[i]:bg.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var j=d9(i,c,t);o5(i,j);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(au===null||!au.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=u9(i,l,t);o5(i,b);break e}}i=i.return}while(i!==null)}k9(r)}catch(N){t=N,ns===r&&r!==null&&(ns=r=r.return);continue}break}while(!0)}function A9(){var e=Ib.current;return Ib.current=Db,e===null?Db:e}function mk(){(bs===0||bs===3||bs===2)&&(bs=4),Is===null||!($f&268435455)&&!(oN&268435455)||Dd(Is,Xs)}function Fb(e,t){var r=xr;xr|=2;var s=A9();(Is!==e||Xs!==t)&&(jc=null,Ef(e,t));do try{ene();break}catch(a){E9(e,a)}while(!0);if(YP(),xr=r,Ib.current=s,ns!==null)throw Error(Ke(261));return Is=null,Xs=0,bs}function ene(){for(;ns!==null;)P9(ns)}function tne(){for(;ns!==null&&!Cte();)P9(ns)}function P9(e){var t=O9(e.alternate,e,Pi);e.memoizedProps=e.pendingProps,t===null?k9(e):ns=t,lk.current=null}function k9(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Kre(r,t),r!==null){r.flags&=32767,ns=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bs=6,ns=null;return}}else if(r=Gre(r,t,Pi),r!==null){ns=r;return}if(t=t.sibling,t!==null){ns=t;return}ns=t=e}while(t!==null);bs===0&&(bs=5)}function Xu(e,t,r){var s=Rr,a=wo.transition;try{wo.transition=null,Rr=1,rne(e,t,r,s)}finally{wo.transition=a,Rr=s}return null}function rne(e,t,r,s){do fh();while(qd!==null);if(xr&6)throw Error(Ke(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ke(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Mte(e,i),e===Is&&(ns=Is=null,Xs=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xy||(Xy=!0,D9(vb,function(){return fh(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=wo.transition,wo.transition=null;var o=Rr;Rr=1;var l=xr;xr|=4,lk.current=null,Xre(e,r),_9(r,e),wre(GC),jb=!!qC,GC=qC=null,e.current=r,Qre(r),Ete(),xr=l,Rr=o,wo.transition=i}else e.current=r;if(Xy&&(Xy=!1,qd=e,Mb=a),i=e.pendingLanes,i===0&&(au=null),kte(r.stateNode),ii(e,qn()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(Rb)throw Rb=!1,e=m4,m4=null,e;return Mb&1&&e.tag!==0&&fh(),i=e.pendingLanes,i&1?e===h4?wg++:(wg=0,h4=e):wg=0,Tu(),null}function fh(){if(qd!==null){var e=dB(Mb),t=wo.transition,r=Rr;try{if(wo.transition=null,Rr=16>e?16:e,qd===null)var s=!1;else{if(e=qd,qd=null,Mb=0,xr&6)throw Error(Ke(331));var a=xr;for(xr|=4,vt=e.current;vt!==null;){var i=vt,o=i.child;if(vt.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(vt=d;vt!==null;){var u=vt;switch(u.tag){case 0:case 11:case 15:jg(8,u,i)}var f=u.child;if(f!==null)f.return=u,vt=f;else for(;vt!==null;){u=vt;var m=u.sibling,h=u.return;if(b9(u),u===d){vt=null;break}if(m!==null){m.return=h,vt=m;break}vt=h}}}var x=i.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}vt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,vt=o;else e:for(;vt!==null;){if(i=vt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:jg(9,i,i.return)}var j=i.sibling;if(j!==null){j.return=i.return,vt=j;break e}vt=i.return}}var y=e.current;for(vt=y;vt!==null;){o=vt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,vt=w;else e:for(o=y;vt!==null;){if(l=vt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:iN(9,l)}}catch(N){Rn(l,l.return,N)}if(l===o){vt=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,vt=b;break e}vt=l.return}}if(xr=a,Tu(),Gl&&typeof Gl.onPostCommitFiberRoot=="function")try{Gl.onPostCommitFiberRoot(Zw,e)}catch{}s=!0}return s}finally{Rr=r,wo.transition=t}}return!1}function A5(e,t,r){t=Gh(r,t),t=d9(e,t,1),e=su(e,t,1),t=Ma(),e!==null&&(Pv(e,1,t),ii(e,t))}function Rn(e,t,r){if(e.tag===3)A5(e,e,r);else for(;t!==null;){if(t.tag===3){A5(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(au===null||!au.has(s))){e=Gh(r,e),e=u9(t,e,1),t=su(t,e,1),e=Ma(),t!==null&&(Pv(t,1,e),ii(t,e));break}}t=t.return}}function nne(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Ma(),e.pingedLanes|=e.suspendedLanes&r,Is===e&&(Xs&r)===r&&(bs===4||bs===3&&(Xs&130023424)===Xs&&500>qn()-dk?Ef(e,0):ck|=r),ii(e,t)}function T9(e,t){t===0&&(e.mode&1?(t=By,By<<=1,!(By&130023424)&&(By=4194304)):t=1);var r=Ma();e=Kc(e,t),e!==null&&(Pv(e,t,r),ii(e,r))}function sne(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),T9(e,r)}function ane(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Ke(314))}s!==null&&s.delete(t),T9(e,r)}var O9;O9=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||si.current)ti=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ti=!1,qre(e,t,r);ti=!!(e.flags&131072)}else ti=!1,fn&&t.flags&1048576&&MB(t,Eb,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Qj(e,t),e=t.pendingProps;var a=zh(t,ga.current);uh(t,r),a=nk(null,t,s,e,a,r);var i=sk();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ai(s)?(i=!0,Sb(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ZP(t),a.updater=aN,t.stateNode=a,a._reactInternals=t,r4(t,s,e,r),t=a4(null,t,s,!0,i,r)):(t.tag=0,fn&&i&&HP(t),Aa(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Qj(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=one(s),e=Wo(s,e),a){case 0:t=s4(null,t,s,e,r);break e;case 1:t=v5(null,t,s,e,r);break e;case 11:t=x5(null,t,s,e,r);break e;case 14:t=g5(null,t,s,Wo(s.type,e),r);break e}throw Error(Ke(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Wo(s,a),s4(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Wo(s,a),v5(e,t,s,a,r);case 3:e:{if(p9(t),e===null)throw Error(Ke(387));s=t.pendingProps,i=t.memoizedState,a=i.element,VB(e,t),kb(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Gh(Error(Ke(423)),t),t=y5(e,t,s,r,a);break e}else if(s!==a){a=Gh(Error(Ke(424)),t),t=y5(e,t,s,r,a);break e}else for(Mi=nu(t.stateNode.containerInfo.firstChild),$i=t,fn=!0,Yo=null,r=BB(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wh(),s===a){t=Yc(e,t,r);break e}Aa(e,t,s,r)}t=t.child}return t;case 5:return zB(t),e===null&&JC(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,KC(s,a)?o=null:i!==null&&KC(s,i)&&(t.flags|=32),h9(e,t),Aa(e,t,o,r),t.child;case 6:return e===null&&JC(t),null;case 13:return x9(e,t,r);case 4:return JP(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Hh(t,null,s,r):Aa(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Wo(s,a),x5(e,t,s,a,r);case 7:return Aa(e,t,t.pendingProps,r),t.child;case 8:return Aa(e,t,t.pendingProps.children,r),t.child;case 12:return Aa(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Yr(Ab,s._currentValue),s._currentValue=o,i!==null)if(dl(i.value,o)){if(i.children===a.children&&!si.current){t=Yc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Mc(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),e4(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ke(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),e4(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Aa(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,uh(t,r),a=Eo(a),s=s(a),t.flags|=1,Aa(e,t,s,r),t.child;case 14:return s=t.type,a=Wo(s,t.pendingProps),a=Wo(s.type,a),g5(e,t,s,a,r);case 15:return f9(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Wo(s,a),Qj(e,t),t.tag=1,ai(s)?(e=!0,Sb(t)):e=!1,uh(t,r),c9(t,s,a),r4(t,s,a,r),a4(null,t,s,!0,e,r);case 19:return g9(e,t,r);case 22:return m9(e,t,r)}throw Error(Ke(156,t.tag))};function D9(e,t){return iB(e,t)}function ine(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vo(e,t,r,s){return new ine(e,t,r,s)}function hk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function one(e){if(typeof e=="function")return hk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===DP)return 11;if(e===IP)return 14}return 2}function ou(e,t){var r=e.alternate;return r===null?(r=vo(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function eb(e,t,r,s,a,i){var o=2;if(s=e,typeof e=="function")hk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Hm:return Af(r.children,a,i,t);case OP:o=8,a|=8;break;case CC:return e=vo(12,r,t,a|2),e.elementType=CC,e.lanes=i,e;case EC:return e=vo(13,r,t,a),e.elementType=EC,e.lanes=i,e;case AC:return e=vo(19,r,t,a),e.elementType=AC,e.lanes=i,e;case z8:return lN(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U8:o=10;break e;case V8:o=9;break e;case DP:o=11;break e;case IP:o=14;break e;case Pd:o=16,s=null;break e}throw Error(Ke(130,e==null?e:typeof e,""))}return t=vo(o,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function Af(e,t,r,s){return e=vo(7,e,s,t),e.lanes=r,e}function lN(e,t,r,s){return e=vo(22,e,s,t),e.elementType=z8,e.lanes=r,e.stateNode={isHidden:!1},e}function U_(e,t,r){return e=vo(6,e,null,t),e.lanes=r,e}function V_(e,t,r){return t=vo(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lne(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=w_(0),this.expirationTimes=w_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w_(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function pk(e,t,r,s,a,i,o,l,c){return e=new lne(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=vo(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ZP(i),e}function cne(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wm,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function I9(e){if(!e)return pu;e=e._reactInternals;e:{if(lm(e)!==e||e.tag!==1)throw Error(Ke(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ke(171))}if(e.tag===1){var r=e.type;if(ai(r))return IB(e,r,t)}return t}function R9(e,t,r,s,a,i,o,l,c){return e=pk(r,s,!0,e,a,i,o,l,c),e.context=I9(null),r=e.current,s=Ma(),a=iu(r),i=Mc(s,a),i.callback=t??null,su(r,i,a),e.current.lanes=a,Pv(e,a,s),ii(e,s),e}function cN(e,t,r,s){var a=t.current,i=Ma(),o=iu(a);return r=I9(r),t.context===null?t.context=r:t.pendingContext=r,t=Mc(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=su(a,t,o),e!==null&&(al(e,a,o,i),Kj(e,a,o)),o}function $b(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function P5(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function xk(e,t){P5(e,t),(e=e.alternate)&&P5(e,t)}function dne(){return null}var M9=typeof reportError=="function"?reportError:function(e){console.error(e)};function gk(e){this._internalRoot=e}dN.prototype.render=gk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ke(409));cN(e,t,null,null)};dN.prototype.unmount=gk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lf(function(){cN(null,e,null,null)}),t[Gc]=null}};function dN(e){this._internalRoot=e}dN.prototype.unstable_scheduleHydration=function(e){if(e){var t=mB();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Od.length&&t!==0&&t<Od[r].priority;r++);Od.splice(r,0,e),r===0&&pB(e)}};function vk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function k5(){}function une(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=$b(o);i.call(d)}}var o=R9(t,s,e,0,null,!1,!1,"",k5);return e._reactRootContainer=o,e[Gc]=o.current,e0(e.nodeType===8?e.parentNode:e),Lf(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=$b(c);l.call(d)}}var c=pk(e,0,!1,null,null,!1,!1,"",k5);return e._reactRootContainer=c,e[Gc]=c.current,e0(e.nodeType===8?e.parentNode:e),Lf(function(){cN(t,c,r,s)}),c}function fN(e,t,r,s,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=$b(o);l.call(c)}}cN(t,o,e,a)}else o=une(r,t,e,a,s);return $b(o)}uB=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=sg(t.pendingLanes);r!==0&&(FP(t,r|1),ii(t,qn()),!(xr&6)&&(Kh=qn()+500,Tu()))}break;case 13:Lf(function(){var s=Kc(e,1);if(s!==null){var a=Ma();al(s,e,1,a)}}),xk(e,1)}};$P=function(e){if(e.tag===13){var t=Kc(e,134217728);if(t!==null){var r=Ma();al(t,e,134217728,r)}xk(e,134217728)}};fB=function(e){if(e.tag===13){var t=iu(e),r=Kc(e,t);if(r!==null){var s=Ma();al(r,e,t,s)}xk(e,t)}};mB=function(){return Rr};hB=function(e,t){var r=Rr;try{return Rr=e,t()}finally{Rr=r}};$C=function(e,t,r){switch(t){case"input":if(TC(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=rN(s);if(!a)throw Error(Ke(90));H8(s),TC(s,a)}}}break;case"textarea":G8(e,r);break;case"select":t=r.value,t!=null&&oh(e,!!r.multiple,t,!1)}};eB=uk;tB=Lf;var fne={usingClientEntryPoint:!1,Events:[Tv,Ym,rN,Z8,J8,uk]},Tx={findFiberByHostInstance:lf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mne={bundleType:Tx.bundleType,version:Tx.version,rendererPackageName:Tx.rendererPackageName,rendererConfig:Tx.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cd.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sB(e),e===null?null:e.stateNode},findFiberByHostInstance:Tx.findFiberByHostInstance||dne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qy.isDisabled&&Qy.supportsFiber)try{Zw=Qy.inject(mne),Gl=Qy}catch{}}Zi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fne;Zi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vk(t))throw Error(Ke(200));return cne(e,t,null,r)};Zi.createRoot=function(e,t){if(!vk(e))throw Error(Ke(299));var r=!1,s="",a=M9;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=pk(e,1,!1,null,null,r,!1,s,a),e[Gc]=t.current,e0(e.nodeType===8?e.parentNode:e),new gk(t)};Zi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ke(188)):(e=Object.keys(e).join(","),Error(Ke(268,e)));return e=sB(t),e=e===null?null:e.stateNode,e};Zi.flushSync=function(e){return Lf(e)};Zi.hydrate=function(e,t,r){if(!uN(t))throw Error(Ke(200));return fN(null,e,t,!0,r)};Zi.hydrateRoot=function(e,t,r){if(!vk(e))throw Error(Ke(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",o=M9;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=R9(t,null,e,1,r??null,a,!1,i,o),e[Gc]=t.current,e0(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new dN(t)};Zi.render=function(e,t,r){if(!uN(t))throw Error(Ke(200));return fN(null,e,t,!1,r)};Zi.unmountComponentAtNode=function(e){if(!uN(e))throw Error(Ke(40));return e._reactRootContainer?(Lf(function(){fN(null,null,e,!1,function(){e._reactRootContainer=null,e[Gc]=null})}),!0):!1};Zi.unstable_batchedUpdates=uk;Zi.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!uN(r))throw Error(Ke(200));if(e==null||e._reactInternals===void 0)throw Error(Ke(38));return fN(e,t,r,!1,s)};Zi.version="18.3.1-next-f1338f8080-20240426";function F9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(F9)}catch(e){console.error(e)}}F9(),F8.exports=Zi;var pl=F8.exports;const mN=Ar(pl);var $9,T5=pl;$9=T5.createRoot,T5.hydrateRoot;const hne=1,pne=1e6;let z_=0;function xne(){return z_=(z_+1)%Number.MAX_SAFE_INTEGER,z_.toString()}const W_=new Map,O5=e=>{if(W_.has(e))return;const t=setTimeout(()=>{W_.delete(e),Ng({type:"REMOVE_TOAST",toastId:e})},pne);W_.set(e,t)},gne=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,hne)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?O5(r):e.toasts.forEach(s=>{O5(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},tb=[];let rb={toasts:[]};function Ng(e){rb=gne(rb,e),tb.forEach(t=>{t(rb)})}function vne({...e}){const t=xne(),r=a=>Ng({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>Ng({type:"DISMISS_TOAST",toastId:t});return Ng({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:r}}function gr(){const[e,t]=v.useState(rb);return v.useEffect(()=>(tb.push(t),()=>{const r=tb.indexOf(t);r>-1&&tb.splice(r,1)}),[e]),{...e,toast:vne,dismiss:r=>Ng({type:"DISMISS_TOAST",toastId:r})}}function He(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function yne(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function hN(...e){return t=>e.forEach(r=>yne(r,t))}function Ft(...e){return v.useCallback(hN(...e),e)}function jne(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,bne(a,...t)]}function bne(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Jl=v.forwardRef((e,t)=>{const{children:r,...s}=e,a=v.Children.toArray(r),i=a.find(wne);if(i){const o=i.props.children,l=a.map(c=>c===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return n.jsx(g4,{...s,ref:t,children:v.isValidElement(o)?v.cloneElement(o,void 0,l):null})}return n.jsx(g4,{...s,ref:t,children:r})});Jl.displayName="Slot";var g4=v.forwardRef((e,t)=>{const{children:r,...s}=e;if(v.isValidElement(r)){const a=_ne(r);return v.cloneElement(r,{...Nne(s,r.props),ref:t?hN(t,a):a})}return v.Children.count(r)>1?v.Children.only(null):null});g4.displayName="SlotClone";var yk=({children:e})=>n.jsx(n.Fragment,{children:e});function wne(e){return v.isValidElement(e)&&e.type===yk}function Nne(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function _ne(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Dv(e){const t=e+"CollectionProvider",[r,s]=jne(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:x,children:p}=h,g=z.useRef(null),j=z.useRef(new Map).current;return n.jsx(a,{scope:x,itemMap:j,collectionRef:g,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=z.forwardRef((h,x)=>{const{scope:p,children:g}=h,j=i(l,p),y=Ft(x,j.collectionRef);return n.jsx(Jl,{ref:y,children:g})});c.displayName=l;const d=e+"CollectionItemSlot",u="data-radix-collection-item",f=z.forwardRef((h,x)=>{const{scope:p,children:g,...j}=h,y=z.useRef(null),w=Ft(x,y),b=i(d,p);return z.useEffect(()=>(b.itemMap.set(y,{ref:y,...j}),()=>void b.itemMap.delete(y))),n.jsx(Jl,{[u]:"",ref:w,children:g})});f.displayName=d;function m(h){const x=i(e+"CollectionConsumer",h);return z.useCallback(()=>{const g=x.collectionRef.current;if(!g)return[];const j=Array.from(g.querySelectorAll(`[${u}]`));return Array.from(x.itemMap.values()).sort((b,N)=>j.indexOf(b.ref.current)-j.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},m,s]}function Sne(e,t){const r=v.createContext(t),s=i=>{const{children:o,...l}=i,c=v.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function ra(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];const d=f=>{var j;const{scope:m,children:h,...x}=f,p=((j=m==null?void 0:m[e])==null?void 0:j[c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})};d.displayName=i+"Provider";function u(f,m){var p;const h=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,Cne(a,...t)]}function Cne(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Ene=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ft=Ene.reduce((e,t)=>{const r=v.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?Jl:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function jk(e,t){e&&pl.flushSync(()=>e.dispatchEvent(t))}function mn(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function Ane(e,t=globalThis==null?void 0:globalThis.document){const r=mn(e);v.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var Pne="DismissableLayer",v4="dismissableLayer.update",kne="dismissableLayer.pointerDownOutside",Tne="dismissableLayer.focusOutside",D5,L9=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cm=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=v.useContext(L9),[u,f]=v.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=v.useState({}),x=Ft(t,_=>f(_)),p=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=p.indexOf(g),y=u?p.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,b=y>=j,N=Dne(_=>{const E=_.target,A=[...d.branches].some(k=>k.contains(E));!b||A||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},m),S=Ine(_=>{const E=_.target;[...d.branches].some(k=>k.contains(E))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},m);return Ane(_=>{y===d.layers.size-1&&(s==null||s(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},m),v.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(D5=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),I5(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=D5)}},[u,m,r,d]),v.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),I5())},[u,d]),v.useEffect(()=>{const _=()=>h({});return document.addEventListener(v4,_),()=>document.removeEventListener(v4,_)},[]),n.jsx(ft.div,{...c,ref:x,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:He(e.onFocusCapture,S.onFocusCapture),onBlurCapture:He(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:He(e.onPointerDownCapture,N.onPointerDownCapture)})});cm.displayName=Pne;var One="DismissableLayerBranch",B9=v.forwardRef((e,t)=>{const r=v.useContext(L9),s=v.useRef(null),a=Ft(t,s);return v.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(ft.div,{...e,ref:a})});B9.displayName=One;function Dne(e,t=globalThis==null?void 0:globalThis.document){const r=mn(e),s=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){U9(kne,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function Ine(e,t=globalThis==null?void 0:globalThis.document){const r=mn(e),s=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!s.current&&U9(Tne,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function I5(){const e=new CustomEvent(v4);document.dispatchEvent(e)}function U9(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?jk(a,i):a.dispatchEvent(i)}var Rne=cm,Mne=B9,is=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},Fne="Portal",Lp=v.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=v.useState(!1);is(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?mN.createPortal(n.jsx(ft.div,{...s,ref:t}),o):null});Lp.displayName=Fne;function $ne(e,t){return v.useReducer((r,s)=>t[r][s]??r,e)}var ls=e=>{const{present:t,children:r}=e,s=Lne(t),a=typeof r=="function"?r({present:s.isPresent}):v.Children.only(r),i=Ft(s.ref,Bne(a));return typeof r=="function"||s.isPresent?v.cloneElement(a,{ref:i}):null};ls.displayName="Presence";function Lne(e){const[t,r]=v.useState(),s=v.useRef({}),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=$ne(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const d=Zy(s.current);i.current=l==="mounted"?d:"none"},[l]),is(()=>{const d=s.current,u=a.current;if(u!==e){const m=i.current,h=Zy(d);e?c("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),is(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=h=>{const p=Zy(s.current).includes(h.animationName);if(h.target===t&&p&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},m=h=>{h.target===t&&(i.current=Zy(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(d=>{d&&(s.current=getComputedStyle(d)),r(d)},[])}}function Zy(e){return(e==null?void 0:e.animationName)||"none"}function Bne(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function $a({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=Une({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:s,l=mn(r),c=v.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else a(d)},[i,e,a,l]);return[o,c]}function Une({defaultProp:e,onChange:t}){const r=v.useState(e),[s]=r,a=v.useRef(s),i=mn(t);return v.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),r}var Vne="VisuallyHidden",Iv=v.forwardRef((e,t)=>n.jsx(ft.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Iv.displayName=Vne;var zne=Iv,bk="ToastProvider",[wk,Wne,Hne]=Dv("Toast"),[V9,Tnt]=ra("Toast",[Hne]),[qne,pN]=V9(bk),z9=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=v.useState(null),[d,u]=v.useState(0),f=v.useRef(!1),m=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${bk}\`. Expected non-empty \`string\`.`),n.jsx(wk.Provider,{scope:t,children:n.jsx(qne,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>u(h=>h+1),[]),onToastRemove:v.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};z9.displayName=bk;var W9="ToastViewport",Gne=["F8"],y4="toast.viewportPause",j4="toast.viewportResume",H9=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=Gne,label:a="Notifications ({hotkey})",...i}=e,o=pN(W9,r),l=Wne(r),c=v.useRef(null),d=v.useRef(null),u=v.useRef(null),f=v.useRef(null),m=Ft(t,f,o.onViewportChange),h=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;v.useEffect(()=>{const g=j=>{var w;s.length!==0&&s.every(b=>j[b]||j.code===b)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[s]),v.useEffect(()=>{const g=c.current,j=f.current;if(x&&g&&j){const y=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(y4);j.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(j4);j.dispatchEvent(S),o.isClosePausedRef.current=!1}},b=S=>{!g.contains(S.relatedTarget)&&w()},N=()=>{g.contains(document.activeElement)||w()};return g.addEventListener("focusin",y),g.addEventListener("focusout",b),g.addEventListener("pointermove",y),g.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{g.removeEventListener("focusin",y),g.removeEventListener("focusout",b),g.removeEventListener("pointermove",y),g.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const p=v.useCallback(({tabbingDirection:g})=>{const y=l().map(w=>{const b=w.ref.current,N=[b,...ise(b)];return g==="forwards"?N:N.reverse()});return(g==="forwards"?y.reverse():y).flat()},[l]);return v.useEffect(()=>{const g=f.current;if(g){const j=y=>{var N,S,_;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const E=document.activeElement,A=y.shiftKey;if(y.target===g&&A){(N=d.current)==null||N.focus();return}const I=p({tabbingDirection:A?"backwards":"forwards"}),W=I.findIndex(H=>H===E);H_(I.slice(W+1))?y.preventDefault():A?(S=d.current)==null||S.focus():(_=u.current)==null||_.focus()}};return g.addEventListener("keydown",j),()=>g.removeEventListener("keydown",j)}},[l,p]),n.jsxs(Mne,{ref:c,role:"region","aria-label":a.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&n.jsx(b4,{ref:d,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"forwards"});H_(g)}}),n.jsx(wk.Slot,{scope:r,children:n.jsx(ft.ol,{tabIndex:-1,...i,ref:m})}),x&&n.jsx(b4,{ref:u,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"backwards"});H_(g)}})]})});H9.displayName=W9;var q9="ToastFocusProxy",b4=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=e,i=pN(q9,r);return n.jsx(Iv,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});b4.displayName=q9;var xN="Toast",Kne="toast.swipeStart",Yne="toast.swipeMove",Xne="toast.swipeCancel",Qne="toast.swipeEnd",G9=v.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=$a({prop:s,defaultProp:a,onChange:i});return n.jsx(ls,{present:r||l,children:n.jsx(ese,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:mn(e.onPause),onResume:mn(e.onResume),onSwipeStart:He(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:He(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:He(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:He(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});G9.displayName=xN;var[Zne,Jne]=V9(xN,{onClose(){}}),ese=v.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:h,...x}=e,p=pN(xN,r),[g,j]=v.useState(null),y=Ft(t,H=>j(H)),w=v.useRef(null),b=v.useRef(null),N=a||p.duration,S=v.useRef(0),_=v.useRef(N),E=v.useRef(0),{onToastAdd:A,onToastRemove:k}=p,D=mn(()=>{var F;(g==null?void 0:g.contains(document.activeElement))&&((F=p.viewport)==null||F.focus()),o()}),I=v.useCallback(H=>{!H||H===1/0||(window.clearTimeout(E.current),S.current=new Date().getTime(),E.current=window.setTimeout(D,H))},[D]);v.useEffect(()=>{const H=p.viewport;if(H){const F=()=>{I(_.current),d==null||d()},T=()=>{const P=new Date().getTime()-S.current;_.current=_.current-P,window.clearTimeout(E.current),c==null||c()};return H.addEventListener(y4,T),H.addEventListener(j4,F),()=>{H.removeEventListener(y4,T),H.removeEventListener(j4,F)}}},[p.viewport,N,c,d,I]),v.useEffect(()=>{i&&!p.isClosePausedRef.current&&I(N)},[i,N,p.isClosePausedRef,I]),v.useEffect(()=>(A(),()=>k()),[A,k]);const W=v.useMemo(()=>g?e7(g):null,[g]);return p.viewport?n.jsxs(n.Fragment,{children:[W&&n.jsx(tse,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),n.jsx(Zne,{scope:r,onClose:D,children:pl.createPortal(n.jsx(wk.ItemSlot,{scope:r,children:n.jsx(Rne,{asChild:!0,onEscapeKeyDown:He(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||D(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(ft.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...x,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:He(e.onKeyDown,H=>{H.key==="Escape"&&(l==null||l(H.nativeEvent),H.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:He(e.onPointerDown,H=>{H.button===0&&(w.current={x:H.clientX,y:H.clientY})}),onPointerMove:He(e.onPointerMove,H=>{if(!w.current)return;const F=H.clientX-w.current.x,T=H.clientY-w.current.y,P=!!b.current,M=["left","right"].includes(p.swipeDirection),O=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,K=M?O(0,F):0,ne=M?0:O(0,T),R=H.pointerType==="touch"?10:2,V={x:K,y:ne},L={originalEvent:H,delta:V};P?(b.current=V,Jy(Yne,f,L,{discrete:!1})):R5(V,p.swipeDirection,R)?(b.current=V,Jy(Kne,u,L,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(F)>R||Math.abs(T)>R)&&(w.current=null)}),onPointerUp:He(e.onPointerUp,H=>{const F=b.current,T=H.target;if(T.hasPointerCapture(H.pointerId)&&T.releasePointerCapture(H.pointerId),b.current=null,w.current=null,F){const P=H.currentTarget,M={originalEvent:H,delta:F};R5(F,p.swipeDirection,p.swipeThreshold)?Jy(Qne,h,M,{discrete:!0}):Jy(Xne,m,M,{discrete:!0}),P.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),tse=e=>{const{__scopeToast:t,children:r,...s}=e,a=pN(xN,t),[i,o]=v.useState(!1),[l,c]=v.useState(!1);return sse(()=>o(!0)),v.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(Lp,{asChild:!0,children:n.jsx(Iv,{...s,children:i&&n.jsxs(n.Fragment,{children:[a.label," ",r]})})})},rse="ToastTitle",K9=v.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(ft.div,{...s,ref:t})});K9.displayName=rse;var nse="ToastDescription",Y9=v.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(ft.div,{...s,ref:t})});Y9.displayName=nse;var X9="ToastAction",Q9=v.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?n.jsx(J9,{altText:r,asChild:!0,children:n.jsx(Nk,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${X9}\`. Expected non-empty \`string\`.`),null)});Q9.displayName=X9;var Z9="ToastClose",Nk=v.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,a=Jne(Z9,r);return n.jsx(J9,{asChild:!0,children:n.jsx(ft.button,{type:"button",...s,ref:t,onClick:He(e.onClick,a.onClose)})})});Nk.displayName=Z9;var J9=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...a}=e;return n.jsx(ft.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function e7(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),ase(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...e7(s))}}),t}function Jy(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?jk(a,i):a.dispatchEvent(i)}var R5=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>r:!i&&a>r};function sse(e=()=>{}){const t=mn(e);is(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[t])}function ase(e){return e.nodeType===e.ELEMENT_NODE}function ise(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function H_(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var ose=z9,t7=H9,r7=G9,n7=K9,s7=Y9,a7=Q9,i7=Nk;function o7(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=o7(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function Wt(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=o7(e))&&(s&&(s+=" "),s+=t);return s}const M5=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,F5=Wt,Bp=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return F5(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],f=i==null?void 0:i[d];if(u===null)return null;const m=M5(u)||M5(f);return a[d][m]}),l=r&&Object.entries(r).reduce((d,u)=>{let[f,m]=u;return m===void 0||(d[f]=m),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:f,className:m,...h}=u;return Object.entries(h).every(x=>{let[p,g]=x;return Array.isArray(g)?g.includes({...i,...l}[p]):{...i,...l}[p]===g})?[...d,f,m]:d},[]);return F5(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l7=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cse={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dse=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...cse,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:l7("lucide",a),...l},[...o.map(([d,u])=>v.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,t)=>{const r=v.forwardRef(({className:s,...a},i)=>v.createElement(dse,{ref:i,iconNode:t,className:l7(`lucide-${lse(e)}`,s),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=ze("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=ze("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=ze("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=ze("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=ze("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=ze("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=ze("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=ze("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=ze("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=ze("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=ze("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=ze("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=ze("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=ze("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=ze("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=ze("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=ze("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=ze("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=ze("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=ze("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=ze("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=ze("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=ze("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=ze("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=ze("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=ze("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=ze("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=ze("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=ze("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=ze("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=ze("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=ze("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=ze("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=ze("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=ze("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=ze("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=ze("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=ze("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=ze("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=ze("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=ze("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=ze("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jse=ze("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=ze("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=ze("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=ze("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=ze("MapPinned",[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _se=ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=ze("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=ze("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=ze("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=ze("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=ze("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=ze("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=ze("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=ze("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=ze("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=ze("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=ze("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=ze("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=ze("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=ze("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=ze("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=ze("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=ze("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=ze("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=ze("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=ze("Sofa",[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=ze("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=ze("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=ze("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=ze("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=ze("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=ze("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=ze("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dse=ze("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=ze("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=ze("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=ze("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=ze("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=ze("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rse=ze("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=ze("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=ze("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=ze("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mse=ze("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Ak="-",Fse=e=>{const t=Lse(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(Ak);return l[0]===""&&l.length!==1&&l.shift(),S7(l,t)||$se(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},S7=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?S7(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Ak);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},H5=/^\[(.+)\]$/,$se=e=>{if(H5.test(e)){const t=H5.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Lse=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return Use(Object.entries(e.classGroups),r).forEach(([i,o])=>{N4(o,s,i,t)}),s},N4=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:q5(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(Bse(a)){N4(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{N4(o,q5(t,i),r,s)})})},q5=(e,t)=>{let r=e;return t.split(Ak).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},Bse=e=>e.isThemeGetter,Use=(e,t)=>t?e.map(([r,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,Vse=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},C7="!",zse=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let g=0;g<l.length;g++){let j=l[g];if(d===0){if(j===a&&(s||l.slice(g,g+i)===t)){c.push(l.slice(u,g)),u=g+i;continue}if(j==="/"){f=g;continue}}j==="["?d++:j==="]"&&d--}const m=c.length===0?l:l.substring(u),h=m.startsWith(C7),x=h?m.substring(1):m,p=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:x,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},Wse=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},Hse=e=>({cache:Vse(e.cacheSize),parseClassName:zse(e),...Fse(e)}),qse=/\s+/,Gse=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(qse);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:h}=r(d);let x=!!h,p=s(x?m.substring(0,h):m);if(!p){if(!x){l=d+(l.length>0?" "+l:l);continue}if(p=s(m),!p){l=d+(l.length>0?" "+l:l);continue}x=!1}const g=Wse(u).join(":"),j=f?g+C7:g,y=j+p;if(i.includes(y))continue;i.push(y);const w=a(p,x);for(let b=0;b<w.length;++b){const N=w[b];i.push(j+N)}l=d+(l.length>0?" "+l:l)}return l};function Kse(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=E7(t))&&(s&&(s+=" "),s+=r);return s}const E7=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=E7(e[s]))&&(r&&(r+=" "),r+=t);return r};function Yse(e,...t){let r,s,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return r=Hse(d),s=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=Gse(c,r);return a(c,u),u}return function(){return i(Kse.apply(null,arguments))}}const Jr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},A7=/^\[(?:([a-z-]+):)?(.+)\]$/i,Xse=/^\d+\/\d+$/,Qse=new Set(["px","full","screen"]),Zse=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jse=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eae=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,tae=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rae=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hc=e=>ph(e)||Qse.has(e)||Xse.test(e),bd=e=>Up(e,"length",dae),ph=e=>!!e&&!Number.isNaN(Number(e)),G_=e=>Up(e,"number",ph),Ox=e=>!!e&&Number.isInteger(Number(e)),nae=e=>e.endsWith("%")&&ph(e.slice(0,-1)),Kt=e=>A7.test(e),wd=e=>Zse.test(e),sae=new Set(["length","size","percentage"]),aae=e=>Up(e,sae,P7),iae=e=>Up(e,"position",P7),oae=new Set(["image","url"]),lae=e=>Up(e,oae,fae),cae=e=>Up(e,"",uae),Dx=()=>!0,Up=(e,t,r)=>{const s=A7.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},dae=e=>Jse.test(e)&&!eae.test(e),P7=()=>!1,uae=e=>tae.test(e),fae=e=>rae.test(e),mae=()=>{const e=Jr("colors"),t=Jr("spacing"),r=Jr("blur"),s=Jr("brightness"),a=Jr("borderColor"),i=Jr("borderRadius"),o=Jr("borderSpacing"),l=Jr("borderWidth"),c=Jr("contrast"),d=Jr("grayscale"),u=Jr("hueRotate"),f=Jr("invert"),m=Jr("gap"),h=Jr("gradientColorStops"),x=Jr("gradientColorStopPositions"),p=Jr("inset"),g=Jr("margin"),j=Jr("opacity"),y=Jr("padding"),w=Jr("saturate"),b=Jr("scale"),N=Jr("sepia"),S=Jr("skew"),_=Jr("space"),E=Jr("translate"),A=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Kt,t],I=()=>[Kt,t],W=()=>["",hc,bd],H=()=>["auto",ph,Kt],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",Kt],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[ph,Kt];return{cacheSize:500,separator:":",theme:{colors:[Dx],spacing:[hc,bd],blur:["none","",wd,Kt],brightness:ne(),borderColor:[e],borderRadius:["none","","full",wd,Kt],borderSpacing:I(),borderWidth:W(),contrast:ne(),grayscale:O(),hueRotate:ne(),invert:O(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[nae,bd],inset:D(),margin:D(),opacity:ne(),padding:I(),saturate:ne(),scale:ne(),sepia:O(),skew:ne(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Kt]}],container:["container"],columns:[{columns:[wd]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),Kt]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ox,Kt]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Kt]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",Ox,Kt]}],"grid-cols":[{"grid-cols":[Dx]}],"col-start-end":[{col:["auto",{span:["full",Ox,Kt]},Kt]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Dx]}],"row-start-end":[{row:["auto",{span:[Ox,Kt]},Kt]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Kt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Kt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Kt,t]}],"min-w":[{"min-w":[Kt,t,"min","max","fit"]}],"max-w":[{"max-w":[Kt,t,"none","full","min","max","fit","prose",{screen:[wd]},wd]}],h:[{h:[Kt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Kt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Kt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Kt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",wd,bd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",G_]}],"font-family":[{font:[Dx]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Kt]}],"line-clamp":[{"line-clamp":["none",ph,G_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hc,Kt]}],"list-image":[{"list-image":["none",Kt]}],"list-style-type":[{list:["none","disc","decimal",Kt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hc,bd]}],"underline-offset":[{"underline-offset":["auto",hc,Kt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Kt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Kt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),iae]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",aae]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},lae]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:T()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[hc,Kt]}],"outline-w":[{outline:[hc,bd]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[hc,bd]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",wd,cae]}],"shadow-color":[{shadow:[Dx]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...P(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":P()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",wd,Kt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Kt]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",Kt]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",Kt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Ox,Kt]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Kt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Kt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Kt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[hc,bd,G_]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hae=Yse(mae);function ve(...e){return hae(Wt(e))}const pae=ose,k7=v.forwardRef(({className:e,...t},r)=>n.jsx(t7,{ref:r,className:ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));k7.displayName=t7.displayName;const xae=Bp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),T7=v.forwardRef(({className:e,variant:t,...r},s)=>n.jsx(r7,{ref:s,className:ve(xae({variant:t}),e),...r}));T7.displayName=r7.displayName;const gae=v.forwardRef(({className:e,...t},r)=>n.jsx(a7,{ref:r,className:ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));gae.displayName=a7.displayName;const O7=v.forwardRef(({className:e,...t},r)=>n.jsx(i7,{ref:r,className:ve("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(ps,{className:"h-4 w-4"})}));O7.displayName=i7.displayName;const D7=v.forwardRef(({className:e,...t},r)=>n.jsx(n7,{ref:r,className:ve("text-sm font-semibold",e),...t}));D7.displayName=n7.displayName;const I7=v.forwardRef(({className:e,...t},r)=>n.jsx(s7,{ref:r,className:ve("text-sm opacity-90",e),...t}));I7.displayName=s7.displayName;function vae(){const{toasts:e}=gr();return n.jsxs(pae,{children:[e.map(function({id:t,title:r,description:s,action:a,...i}){return n.jsxs(T7,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(D7,{children:r}),s&&n.jsx(I7,{children:s})]}),a,n.jsx(O7,{})]},t)}),n.jsx(k7,{})]})}var Vb=["light","dark"],Pk="(prefers-color-scheme: dark)",yae=typeof window>"u",kk=v.createContext(void 0),jae={setTheme:e=>{},themes:[]},Vp=()=>{var e;return(e=v.useContext(kk))!=null?e:jae},bae=e=>v.useContext(kk)?e.children:v.createElement(Nae,{...e}),wae=["light","dark"],Nae=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:s=!0,storageKey:a="theme",themes:i=wae,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:d,nonce:u})=>{let[f,m]=v.useState(()=>G5(a,o)),[h,x]=v.useState(()=>G5(a)),p=c?Object.values(c):i,g=v.useCallback(b=>{let N=b;if(!N)return;b==="system"&&r&&(N=K5());let S=c?c[N]:N,_=t?Sae():null,E=document.documentElement;if(l==="class"?(E.classList.remove(...p),S&&E.classList.add(S)):S?E.setAttribute(l,S):E.removeAttribute(l),s){let A=Vb.includes(o)?o:null,k=Vb.includes(N)?N:A;E.style.colorScheme=k}_==null||_()},[]),j=v.useCallback(b=>{let N=typeof b=="function"?b(b):b;m(N);try{localStorage.setItem(a,N)}catch{}},[e]),y=v.useCallback(b=>{let N=K5(b);x(N),f==="system"&&r&&!e&&g("system")},[f,e]);v.useEffect(()=>{let b=window.matchMedia(Pk);return b.addListener(y),y(b),()=>b.removeListener(y)},[y]),v.useEffect(()=>{let b=N=>{if(N.key!==a)return;let S=N.newValue||o;j(S)};return window.addEventListener("storage",b),()=>window.removeEventListener("storage",b)},[j]),v.useEffect(()=>{g(e??f)},[e,f]);let w=v.useMemo(()=>({theme:f,setTheme:j,forcedTheme:e,resolvedTheme:f==="system"?h:f,themes:r?[...i,"system"]:i,systemTheme:r?h:void 0}),[f,j,e,h,r,i]);return v.createElement(kk.Provider,{value:w},v.createElement(_ae,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:s,storageKey:a,themes:i,defaultTheme:o,attribute:l,value:c,children:d,attrs:p,nonce:u}),d)},_ae=v.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?Vb.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,p=!1,g=!0)=>{let j=o?o[x]:x,y=p?x+"|| ''":`'${j}'`,w="";return a&&g&&!p&&Vb.includes(x)&&(w+=`d.style.colorScheme = '${x}';`),r==="class"?p||j?w+=`c.add(${y})`:w+="null":j&&(w+=`d[s](n,${y})`),w},h=e?`!function(){${u}${m(e)}}()`:s?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${Pk}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})}),G5=(e,t)=>{if(yae)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},Sae=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},K5=e=>(e||(e=window.matchMedia(Pk)),e.matches?"dark":"light"),Cae=e=>{switch(e){case"success":return Pae;case"info":return Tae;case"warning":return kae;case"error":return Oae;default:return null}},Eae=Array(12).fill(0),Aae=({visible:e})=>z.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},z.createElement("div",{className:"sonner-spinner"},Eae.map((t,r)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Pae=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),kae=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Tae=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Oae=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Dae=()=>{let[e,t]=z.useState(document.hidden);return z.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},_4=1,Iae=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:_4++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...s,dismissible:o,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),a=r!==void 0;return s.then(async i=>{if(Mae(i)&&!i.ok){a=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:r,type:"error",message:o,description:l})}else if(t.success!==void 0){a=!1;let o=typeof t.success=="function"?await t.success(i):t.success,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async i=>{if(t.error!==void 0){a=!1;let o=typeof t.error=="function"?await t.error(i):t.error,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var i;a&&(this.dismiss(r),r=void 0),(i=t.finally)==null||i.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||_4++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Ei=new Iae,Rae=(e,t)=>{let r=(t==null?void 0:t.id)||_4++;return Ei.addToast({title:e,...t,id:r}),r},Mae=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Fae=Rae,$ae=()=>Ei.toasts,Ue=Object.assign(Fae,{success:Ei.success,info:Ei.info,warning:Ei.warning,error:Ei.error,custom:Ei.custom,message:Ei.message,promise:Ei.promise,dismiss:Ei.dismiss,loading:Ei.loading},{getHistory:$ae});function Lae(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}Lae(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ej(e){return e.label!==void 0}var Bae=3,Uae="32px",Vae=4e3,zae=356,Wae=14,Hae=20,qae=200;function Gae(...e){return e.filter(Boolean).join(" ")}var Kae=e=>{var t,r,s,a,i,o,l,c,d,u;let{invert:f,toast:m,unstyled:h,interacting:x,setHeights:p,visibleToasts:g,heights:j,index:y,toasts:w,expanded:b,removeToast:N,defaultRichColors:S,closeButton:_,style:E,cancelButtonStyle:A,actionButtonStyle:k,className:D="",descriptionClassName:I="",duration:W,position:H,gap:F,loadingIcon:T,expandByDefault:P,classNames:M,icons:O,closeButtonAriaLabel:K="Close toast",pauseWhenPageIsHidden:ne,cn:R}=e,[V,L]=z.useState(!1),[G,le]=z.useState(!1),[fe,B]=z.useState(!1),[Y,ie]=z.useState(!1),[we,ue]=z.useState(0),[ge,xe]=z.useState(0),Se=z.useRef(null),Me=z.useRef(null),ke=y===0,se=y+1<=g,he=m.type,ce=m.dismissible!==!1,je=m.className||"",$e=m.descriptionClassName||"",De=z.useMemo(()=>j.findIndex(jt=>jt.toastId===m.id)||0,[j,m.id]),de=z.useMemo(()=>{var jt;return(jt=m.closeButton)!=null?jt:_},[m.closeButton,_]),Ie=z.useMemo(()=>m.duration||W||Vae,[m.duration,W]),it=z.useRef(0),wt=z.useRef(0),Qe=z.useRef(0),ye=z.useRef(null),[qe,Pt]=H.split("-"),Ct=z.useMemo(()=>j.reduce((jt,Tt,tr)=>tr>=De?jt:jt+Tt.height,0),[j,De]),vr=Dae(),qr=m.invert||f,On=he==="loading";wt.current=z.useMemo(()=>De*F+Ct,[De,Ct]),z.useEffect(()=>{L(!0)},[]),z.useLayoutEffect(()=>{if(!V)return;let jt=Me.current,Tt=jt.style.height;jt.style.height="auto";let tr=jt.getBoundingClientRect().height;jt.style.height=Tt,xe(tr),p(Un=>Un.find(ds=>ds.toastId===m.id)?Un.map(ds=>ds.toastId===m.id?{...ds,height:tr}:ds):[{toastId:m.id,height:tr,position:m.position},...Un])},[V,m.title,m.description,p,m.id]);let Vr=z.useCallback(()=>{le(!0),ue(wt.current),p(jt=>jt.filter(Tt=>Tt.toastId!==m.id)),setTimeout(()=>{N(m)},qae)},[m,N,p,wt]);z.useEffect(()=>{if(m.promise&&he==="loading"||m.duration===1/0||m.type==="loading")return;let jt,Tt=Ie;return b||x||ne&&vr?(()=>{if(Qe.current<it.current){let tr=new Date().getTime()-it.current;Tt=Tt-tr}Qe.current=new Date().getTime()})():Tt!==1/0&&(it.current=new Date().getTime(),jt=setTimeout(()=>{var tr;(tr=m.onAutoClose)==null||tr.call(m,m),Vr()},Tt)),()=>clearTimeout(jt)},[b,x,P,m,Ie,Vr,m.promise,he,ne,vr]),z.useEffect(()=>{let jt=Me.current;if(jt){let Tt=jt.getBoundingClientRect().height;return xe(Tt),p(tr=>[{toastId:m.id,height:Tt,position:m.position},...tr]),()=>p(tr=>tr.filter(Un=>Un.toastId!==m.id))}},[p,m.id]),z.useEffect(()=>{m.delete&&Vr()},[Vr,m.delete]);function Pr(){return O!=null&&O.loading?z.createElement("div",{className:"sonner-loader","data-visible":he==="loading"},O.loading):T?z.createElement("div",{className:"sonner-loader","data-visible":he==="loading"},T):z.createElement(Aae,{visible:he==="loading"})}return z.createElement("li",{"aria-live":m.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Me,className:R(D,je,M==null?void 0:M.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,M==null?void 0:M.default,M==null?void 0:M[he],(r=m==null?void 0:m.classNames)==null?void 0:r[he]),"data-sonner-toast":"","data-rich-colors":(s=m.richColors)!=null?s:S,"data-styled":!(m.jsx||m.unstyled||h),"data-mounted":V,"data-promise":!!m.promise,"data-removed":G,"data-visible":se,"data-y-position":qe,"data-x-position":Pt,"data-index":y,"data-front":ke,"data-swiping":fe,"data-dismissible":ce,"data-type":he,"data-invert":qr,"data-swipe-out":Y,"data-expanded":!!(b||P&&V),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":`${G?we:wt.current}px`,"--initial-height":P?"auto":`${ge}px`,...E,...m.style},onPointerDown:jt=>{On||!ce||(Se.current=new Date,ue(wt.current),jt.target.setPointerCapture(jt.pointerId),jt.target.tagName!=="BUTTON"&&(B(!0),ye.current={x:jt.clientX,y:jt.clientY}))},onPointerUp:()=>{var jt,Tt,tr,Un;if(Y||!ce)return;ye.current=null;let ds=Number(((jt=Me.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ga=new Date().getTime()-((Tt=Se.current)==null?void 0:Tt.getTime()),yd=Math.abs(ds)/Ga;if(Math.abs(ds)>=Hae||yd>.11){ue(wt.current),(tr=m.onDismiss)==null||tr.call(m,m),Vr(),ie(!0);return}(Un=Me.current)==null||Un.style.setProperty("--swipe-amount","0px"),B(!1)},onPointerMove:jt=>{var Tt;if(!ye.current||!ce)return;let tr=jt.clientY-ye.current.y,Un=jt.clientX-ye.current.x,ds=(qe==="top"?Math.min:Math.max)(0,tr),Ga=jt.pointerType==="touch"?10:2;Math.abs(ds)>Ga?(Tt=Me.current)==null||Tt.style.setProperty("--swipe-amount",`${tr}px`):Math.abs(Un)>Ga&&(ye.current=null)}},de&&!m.jsx?z.createElement("button",{"aria-label":K,"data-disabled":On,"data-close-button":!0,onClick:On||!ce?()=>{}:()=>{var jt;Vr(),(jt=m.onDismiss)==null||jt.call(m,m)},className:R(M==null?void 0:M.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,m.jsx||z.isValidElement(m.title)?m.jsx||m.title:z.createElement(z.Fragment,null,he||m.icon||m.promise?z.createElement("div",{"data-icon":"",className:R(M==null?void 0:M.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Pr():null,m.type!=="loading"?m.icon||(O==null?void 0:O[he])||Cae(he):null):null,z.createElement("div",{"data-content":"",className:R(M==null?void 0:M.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},z.createElement("div",{"data-title":"",className:R(M==null?void 0:M.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},m.title),m.description?z.createElement("div",{"data-description":"",className:R(I,$e,M==null?void 0:M.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},m.description):null),z.isValidElement(m.cancel)?m.cancel:m.cancel&&ej(m.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||A,onClick:jt=>{var Tt,tr;ej(m.cancel)&&ce&&((tr=(Tt=m.cancel).onClick)==null||tr.call(Tt,jt),Vr())},className:R(M==null?void 0:M.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,z.isValidElement(m.action)?m.action:m.action&&ej(m.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||k,onClick:jt=>{var Tt,tr;ej(m.action)&&(jt.defaultPrevented||((tr=(Tt=m.action).onClick)==null||tr.call(Tt,jt),Vr()))},className:R(M==null?void 0:M.actionButton,(u=m==null?void 0:m.classNames)==null?void 0:u.actionButton)},m.action.label):null))};function Y5(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Yae=e=>{let{invert:t,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:o,offset:l,theme:c="light",richColors:d,duration:u,style:f,visibleToasts:m=Bae,toastOptions:h,dir:x=Y5(),gap:p=Wae,loadingIcon:g,icons:j,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:w,cn:b=Gae}=e,[N,S]=z.useState([]),_=z.useMemo(()=>Array.from(new Set([r].concat(N.filter(ne=>ne.position).map(ne=>ne.position)))),[N,r]),[E,A]=z.useState([]),[k,D]=z.useState(!1),[I,W]=z.useState(!1),[H,F]=z.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),T=z.useRef(null),P=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=z.useRef(null),O=z.useRef(!1),K=z.useCallback(ne=>{var R;(R=N.find(V=>V.id===ne.id))!=null&&R.delete||Ei.dismiss(ne.id),S(V=>V.filter(({id:L})=>L!==ne.id))},[N]);return z.useEffect(()=>Ei.subscribe(ne=>{if(ne.dismiss){S(R=>R.map(V=>V.id===ne.id?{...V,delete:!0}:V));return}setTimeout(()=>{mN.flushSync(()=>{S(R=>{let V=R.findIndex(L=>L.id===ne.id);return V!==-1?[...R.slice(0,V),{...R[V],...ne},...R.slice(V+1)]:[ne,...R]})})})}),[]),z.useEffect(()=>{if(c!=="system"){F(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:ne})=>{F(ne?"dark":"light")})},[c]),z.useEffect(()=>{N.length<=1&&D(!1)},[N]),z.useEffect(()=>{let ne=R=>{var V,L;s.every(G=>R[G]||R.code===G)&&(D(!0),(V=T.current)==null||V.focus()),R.code==="Escape"&&(document.activeElement===T.current||(L=T.current)!=null&&L.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[s]),z.useEffect(()=>{if(T.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,O.current=!1)}},[T.current]),N.length?z.createElement("section",{"aria-label":`${y} ${P}`,tabIndex:-1},_.map((ne,R)=>{var V;let[L,G]=ne.split("-");return z.createElement("ol",{key:ne,dir:x==="auto"?Y5():x,tabIndex:-1,ref:T,className:o,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":L,"data-x-position":G,style:{"--front-toast-height":`${((V=E[0])==null?void 0:V.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||Uae,"--width":`${zae}px`,"--gap":`${p}px`,...f},onBlur:le=>{O.current&&!le.currentTarget.contains(le.relatedTarget)&&(O.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||O.current||(O.current=!0,M.current=le.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{I||D(!1)},onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},N.filter(le=>!le.position&&R===0||le.position===ne).map((le,fe)=>{var B,Y;return z.createElement(Kae,{key:le.id,icons:j,index:fe,toast:le,defaultRichColors:d,duration:(B=h==null?void 0:h.duration)!=null?B:u,className:h==null?void 0:h.className,descriptionClassName:h==null?void 0:h.descriptionClassName,invert:t,visibleToasts:m,closeButton:(Y=h==null?void 0:h.closeButton)!=null?Y:i,interacting:I,position:ne,style:h==null?void 0:h.style,unstyled:h==null?void 0:h.unstyled,classNames:h==null?void 0:h.classNames,cancelButtonStyle:h==null?void 0:h.cancelButtonStyle,actionButtonStyle:h==null?void 0:h.actionButtonStyle,removeToast:K,toasts:N.filter(ie=>ie.position==le.position),heights:E.filter(ie=>ie.position==le.position),setHeights:A,expandByDefault:a,gap:p,loadingIcon:g,expanded:k,pauseWhenPageIsHidden:w,cn:b})}))})):null};const Xae=({...e})=>{const{theme:t="system"}=Vp();return n.jsx(Yae,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Qae=AP.useId||(()=>{}),Zae=0;function di(e){const[t,r]=v.useState(Qae());return is(()=>{r(s=>s??String(Zae++))},[e]),t?`radix-${t}`:""}const Jae=["top","right","bottom","left"],vu=Math.min,Oi=Math.max,zb=Math.round,tj=Math.floor,yu=e=>({x:e,y:e}),eie={left:"right",right:"left",bottom:"top",top:"bottom"},tie={start:"end",end:"start"};function S4(e,t,r){return Oi(e,vu(t,r))}function Qc(e,t){return typeof e=="function"?e(t):e}function Zc(e){return e.split("-")[0]}function zp(e){return e.split("-")[1]}function Tk(e){return e==="x"?"y":"x"}function Ok(e){return e==="y"?"height":"width"}function ju(e){return["top","bottom"].includes(Zc(e))?"y":"x"}function Dk(e){return Tk(ju(e))}function rie(e,t,r){r===void 0&&(r=!1);const s=zp(e),a=Dk(e),i=Ok(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Wb(o)),[o,Wb(o)]}function nie(e){const t=Wb(e);return[C4(e),t,C4(t)]}function C4(e){return e.replace(/start|end/g,t=>tie[t])}function sie(e,t,r){const s=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:s:t?s:a;case"left":case"right":return t?i:o;default:return[]}}function aie(e,t,r,s){const a=zp(e);let i=sie(Zc(e),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(C4)))),i}function Wb(e){return e.replace(/left|right|bottom|top/g,t=>eie[t])}function iie(e){return{top:0,right:0,bottom:0,left:0,...e}}function R7(e){return typeof e!="number"?iie(e):{top:e,right:e,bottom:e,left:e}}function Hb(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function X5(e,t,r){let{reference:s,floating:a}=e;const i=ju(t),o=Dk(t),l=Ok(o),c=Zc(t),d=i==="y",u=s.x+s.width/2-a.width/2,f=s.y+s.height/2-a.height/2,m=s[l]/2-a[l]/2;let h;switch(c){case"top":h={x:u,y:s.y-a.height};break;case"bottom":h={x:u,y:s.y+s.height};break;case"right":h={x:s.x+s.width,y:f};break;case"left":h={x:s.x-a.width,y:f};break;default:h={x:s.x,y:s.y}}switch(zp(t)){case"start":h[o]-=m*(r&&d?-1:1);break;case"end":h[o]+=m*(r&&d?-1:1);break}return h}const oie=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=X5(d,s,c),m=s,h={},x=0;for(let p=0;p<l.length;p++){const{name:g,fn:j}=l[p],{x:y,y:w,data:b,reset:N}=await j({x:u,y:f,initialPlacement:s,placement:m,strategy:a,middlewareData:h,rects:d,platform:o,elements:{reference:e,floating:t}});u=y??u,f=w??f,h={...h,[g]:{...h[g],...b}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:u,y:f}=X5(d,m,c)),p=-1)}return{x:u,y:f,placement:m,strategy:a,middlewareData:h}};async function u0(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:m=!1,padding:h=0}=Qc(t,e),x=R7(h),g=l[m?f==="floating"?"reference":"floating":f],j=Hb(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=f==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Hb(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(j.top-N.top+x.top)/b.y,bottom:(N.bottom-j.bottom+x.bottom)/b.y,left:(j.left-N.left+x.left)/b.x,right:(N.right-j.right+x.right)/b.x}}const lie=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Qc(e,t)||{};if(d==null)return{};const f=R7(u),m={x:r,y:s},h=Dk(a),x=Ok(h),p=await o.getDimensions(d),g=h==="y",j=g?"top":"left",y=g?"bottom":"right",w=g?"clientHeight":"clientWidth",b=i.reference[x]+i.reference[h]-m[h]-i.floating[x],N=m[h]-i.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let _=S?S[w]:0;(!_||!await(o.isElement==null?void 0:o.isElement(S)))&&(_=l.floating[w]||i.floating[x]);const E=b/2-N/2,A=_/2-p[x]/2-1,k=vu(f[j],A),D=vu(f[y],A),I=k,W=_-p[x]-D,H=_/2-p[x]/2+E,F=S4(I,H,W),T=!c.arrow&&zp(a)!=null&&H!==F&&i.reference[x]/2-(H<I?k:D)-p[x]/2<0,P=T?H<I?H-I:H-W:0;return{[h]:m[h]+P,data:{[h]:F,centerOffset:H-F-P,...T&&{alignmentOffset:P}},reset:T}}}),cie=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:p=!0,...g}=Qc(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const j=Zc(a),y=ju(l),w=Zc(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=m||(w||!p?[Wb(l)]:nie(l)),S=x!=="none";!m&&S&&N.push(...aie(l,p,x,b));const _=[l,...N],E=await u0(t,g),A=[];let k=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&A.push(E[j]),f){const H=rie(a,o,b);A.push(E[H[0]],E[H[1]])}if(k=[...k,{placement:a,overflows:A}],!A.every(H=>H<=0)){var D,I;const H=(((D=i.flip)==null?void 0:D.index)||0)+1,F=_[H];if(F)return{data:{index:H,overflows:k},reset:{placement:F}};let T=(I=k.filter(P=>P.overflows[0]<=0).sort((P,M)=>P.overflows[1]-M.overflows[1])[0])==null?void 0:I.placement;if(!T)switch(h){case"bestFit":{var W;const P=(W=k.filter(M=>{if(S){const O=ju(M.placement);return O===y||O==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(O=>O>0).reduce((O,K)=>O+K,0)]).sort((M,O)=>M[1]-O[1])[0])==null?void 0:W[0];P&&(T=P);break}case"initialPlacement":T=l;break}if(a!==T)return{reset:{placement:T}}}return{}}}};function Q5(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Z5(e){return Jae.some(t=>e[t]>=0)}const die=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=Qc(e,t);switch(s){case"referenceHidden":{const i=await u0(t,{...a,elementContext:"reference"}),o=Q5(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Z5(o)}}}case"escaped":{const i=await u0(t,{...a,altBoundary:!0}),o=Q5(i,r.floating);return{data:{escapedOffsets:o,escaped:Z5(o)}}}default:return{}}}}};async function uie(e,t){const{placement:r,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Zc(r),l=zp(r),c=ju(r)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,f=Qc(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(h=l==="end"?x*-1:x),c?{x:h*u,y:m*d}:{x:m*d,y:h*u}}const fie=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await uie(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},mie=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:j,y}=g;return{x:j,y}}},...c}=Qc(e,t),d={x:r,y:s},u=await u0(t,c),f=ju(Zc(a)),m=Tk(f);let h=d[m],x=d[f];if(i){const g=m==="y"?"top":"left",j=m==="y"?"bottom":"right",y=h+u[g],w=h-u[j];h=S4(y,h,w)}if(o){const g=f==="y"?"top":"left",j=f==="y"?"bottom":"right",y=x+u[g],w=x-u[j];x=S4(y,x,w)}const p=l.fn({...t,[m]:h,[f]:x});return{...p,data:{x:p.x-r,y:p.y-s,enabled:{[m]:i,[f]:o}}}}}},hie=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Qc(e,t),u={x:r,y:s},f=ju(a),m=Tk(f);let h=u[m],x=u[f];const p=Qc(l,t),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=m==="y"?"height":"width",b=i.reference[m]-i.floating[w]+g.mainAxis,N=i.reference[m]+i.reference[w]-g.mainAxis;h<b?h=b:h>N&&(h=N)}if(d){var j,y;const w=m==="y"?"width":"height",b=["top","left"].includes(Zc(a)),N=i.reference[f]-i.floating[w]+(b&&((j=o.offset)==null?void 0:j[f])||0)+(b?0:g.crossAxis),S=i.reference[f]+i.reference[w]+(b?0:((y=o.offset)==null?void 0:y[f])||0)-(b?g.crossAxis:0);x<N?x=N:x>S&&(x=S)}return{[m]:h,[f]:x}}}},pie=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Qc(e,t),u=await u0(t,d),f=Zc(a),m=zp(a),h=ju(a)==="y",{width:x,height:p}=i.floating;let g,j;f==="top"||f==="bottom"?(g=f,j=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(j=f,g=m==="end"?"top":"bottom");const y=p-u.top-u.bottom,w=x-u.left-u.right,b=vu(p-u[g],y),N=vu(x-u[j],w),S=!t.middlewareData.shift;let _=b,E=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=w),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(_=y),S&&!m){const k=Oi(u.left,0),D=Oi(u.right,0),I=Oi(u.top,0),W=Oi(u.bottom,0);h?E=x-2*(k!==0||D!==0?k+D:Oi(u.left,u.right)):_=p-2*(I!==0||W!==0?I+W:Oi(u.top,u.bottom))}await c({...t,availableWidth:E,availableHeight:_});const A=await o.getDimensions(l.floating);return x!==A.width||p!==A.height?{reset:{rects:!0}}:{}}}};function vN(){return typeof window<"u"}function Wp(e){return M7(e)?(e.nodeName||"").toLowerCase():"#document"}function Li(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ic(e){var t;return(t=(M7(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function M7(e){return vN()?e instanceof Node||e instanceof Li(e).Node:!1}function ul(e){return vN()?e instanceof Element||e instanceof Li(e).Element:!1}function tc(e){return vN()?e instanceof HTMLElement||e instanceof Li(e).HTMLElement:!1}function J5(e){return!vN()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Li(e).ShadowRoot}function Bv(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=fl(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!["inline","contents"].includes(a)}function xie(e){return["table","td","th"].includes(Wp(e))}function yN(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ik(e){const t=Rk(),r=ul(e)?fl(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function gie(e){let t=bu(e);for(;tc(t)&&!Yh(t);){if(Ik(t))return t;if(yN(t))return null;t=bu(t)}return null}function Rk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Yh(e){return["html","body","#document"].includes(Wp(e))}function fl(e){return Li(e).getComputedStyle(e)}function jN(e){return ul(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function bu(e){if(Wp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||J5(e)&&e.host||ic(e);return J5(t)?t.host:t}function F7(e){const t=bu(e);return Yh(t)?e.ownerDocument?e.ownerDocument.body:e.body:tc(t)&&Bv(t)?t:F7(t)}function f0(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=F7(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=Li(a);if(i){const l=E4(o);return t.concat(o,o.visualViewport||[],Bv(a)?a:[],l&&r?f0(l):[])}return t.concat(a,f0(a,[],r))}function E4(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function $7(e){const t=fl(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=tc(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:s,l=zb(r)!==i||zb(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function Mk(e){return ul(e)?e:e.contextElement}function xh(e){const t=Mk(e);if(!tc(t))return yu(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:i}=$7(t);let o=(i?zb(r.width):r.width)/s,l=(i?zb(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const vie=yu(0);function L7(e){const t=Li(e);return!Rk()||!t.visualViewport?vie:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function yie(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Li(e)?!1:t}function Uf(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Mk(e);let o=yu(1);t&&(s?ul(s)&&(o=xh(s)):o=xh(e));const l=yie(i,r,s)?L7(i):yu(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const m=Li(i),h=s&&ul(s)?Li(s):s;let x=m,p=E4(x);for(;p&&s&&h!==x;){const g=xh(p),j=p.getBoundingClientRect(),y=fl(p),w=j.left+(p.clientLeft+parseFloat(y.paddingLeft))*g.x,b=j.top+(p.clientTop+parseFloat(y.paddingTop))*g.y;c*=g.x,d*=g.y,u*=g.x,f*=g.y,c+=w,d+=b,x=Li(p),p=E4(x)}}return Hb({width:u,height:f,x:c,y:d})}function jie(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=ic(s),l=t?yN(t.floating):!1;if(s===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=yu(1);const u=yu(0),f=tc(s);if((f||!f&&!i)&&((Wp(s)!=="body"||Bv(o))&&(c=jN(s)),tc(s))){const m=Uf(s);d=xh(s),u.x=m.x+s.clientLeft,u.y=m.y+s.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x,y:r.y*d.y-c.scrollTop*d.y+u.y}}function bie(e){return Array.from(e.getClientRects())}function A4(e,t){const r=jN(e).scrollLeft;return t?t.left+r:Uf(ic(e)).left+r}function wie(e){const t=ic(e),r=jN(e),s=e.ownerDocument.body,a=Oi(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Oi(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+A4(e);const l=-r.scrollTop;return fl(s).direction==="rtl"&&(o+=Oi(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function Nie(e,t){const r=Li(e),s=ic(e),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Rk();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function _ie(e,t){const r=Uf(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,i=tc(e)?xh(e):yu(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function eI(e,t,r){let s;if(t==="viewport")s=Nie(e,r);else if(t==="document")s=wie(ic(e));else if(ul(t))s=_ie(t,r);else{const a=L7(e);s={...t,x:t.x-a.x,y:t.y-a.y}}return Hb(s)}function B7(e,t){const r=bu(e);return r===t||!ul(r)||Yh(r)?!1:fl(r).position==="fixed"||B7(r,t)}function Sie(e,t){const r=t.get(e);if(r)return r;let s=f0(e,[],!1).filter(l=>ul(l)&&Wp(l)!=="body"),a=null;const i=fl(e).position==="fixed";let o=i?bu(e):e;for(;ul(o)&&!Yh(o);){const l=fl(o),c=Ik(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Bv(o)&&!c&&B7(e,o))?s=s.filter(u=>u!==o):a=l,o=bu(o)}return t.set(e,s),s}function Cie(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const o=[...r==="clippingAncestors"?yN(t)?[]:Sie(t,this._c):[].concat(r),s],l=o[0],c=o.reduce((d,u)=>{const f=eI(t,u,a);return d.top=Oi(f.top,d.top),d.right=vu(f.right,d.right),d.bottom=vu(f.bottom,d.bottom),d.left=Oi(f.left,d.left),d},eI(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Eie(e){const{width:t,height:r}=$7(e);return{width:t,height:r}}function Aie(e,t,r){const s=tc(t),a=ic(t),i=r==="fixed",o=Uf(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=yu(0);if(s||!s&&!i)if((Wp(t)!=="body"||Bv(a))&&(l=jN(t)),s){const h=Uf(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=A4(a));let d=0,u=0;if(a&&!s&&!i){const h=a.getBoundingClientRect();u=h.top+l.scrollTop,d=h.left+l.scrollLeft-A4(a,h)}const f=o.left+l.scrollLeft-c.x-d,m=o.top+l.scrollTop-c.y-u;return{x:f,y:m,width:o.width,height:o.height}}function K_(e){return fl(e).position==="static"}function tI(e,t){if(!tc(e)||fl(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ic(e)===r&&(r=r.ownerDocument.body),r}function U7(e,t){const r=Li(e);if(yN(e))return r;if(!tc(e)){let a=bu(e);for(;a&&!Yh(a);){if(ul(a)&&!K_(a))return a;a=bu(a)}return r}let s=tI(e,t);for(;s&&xie(s)&&K_(s);)s=tI(s,t);return s&&Yh(s)&&K_(s)&&!Ik(s)?r:s||gie(e)||r}const Pie=async function(e){const t=this.getOffsetParent||U7,r=this.getDimensions,s=await r(e.floating);return{reference:Aie(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function kie(e){return fl(e).direction==="rtl"}const Tie={convertOffsetParentRelativeRectToViewportRelativeRect:jie,getDocumentElement:ic,getClippingRect:Cie,getOffsetParent:U7,getElementRects:Pie,getClientRects:bie,getDimensions:Eie,getScale:xh,isElement:ul,isRTL:kie};function Oie(e,t){let r=null,s;const a=ic(e);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:u,width:f,height:m}=e.getBoundingClientRect();if(l||t(),!f||!m)return;const h=tj(u),x=tj(a.clientWidth-(d+f)),p=tj(a.clientHeight-(u+m)),g=tj(d),y={rootMargin:-h+"px "+-x+"px "+-p+"px "+-g+"px",threshold:Oi(0,vu(1,c))||1};let w=!0;function b(N){const S=N[0].intersectionRatio;if(S!==c){if(!w)return o();S?o(!1,S):s=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(b,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(b,y)}r.observe(e)}return o(!0),i}function Die(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Mk(e),u=a||i?[...d?f0(d):[],...f0(t)]:[];u.forEach(j=>{a&&j.addEventListener("scroll",r,{passive:!0}),i&&j.addEventListener("resize",r)});const f=d&&l?Oie(d,r):null;let m=-1,h=null;o&&(h=new ResizeObserver(j=>{let[y]=j;y&&y.target===d&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),r()}),d&&!c&&h.observe(d),h.observe(t));let x,p=c?Uf(e):null;c&&g();function g(){const j=Uf(e);p&&(j.x!==p.x||j.y!==p.y||j.width!==p.width||j.height!==p.height)&&r(),p=j,x=requestAnimationFrame(g)}return r(),()=>{var j;u.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(j=h)==null||j.disconnect(),h=null,c&&cancelAnimationFrame(x)}}const Iie=fie,Rie=mie,Mie=cie,Fie=pie,$ie=die,rI=lie,Lie=hie,Bie=(e,t,r)=>{const s=new Map,a={platform:Tie,...r},i={...a.platform,_c:s};return oie(e,t,{...a,platform:i})};var sb=typeof document<"u"?v.useLayoutEffect:v.useEffect;function qb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!qb(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!qb(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function V7(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function nI(e,t){const r=V7(e);return Math.round(t*r)/r}function Y_(e){const t=v.useRef(e);return sb(()=>{t.current=e}),t}function Uie(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=v.useState(s);qb(m,s)||h(s);const[x,p]=v.useState(null),[g,j]=v.useState(null),y=v.useCallback(M=>{M!==S.current&&(S.current=M,p(M))},[]),w=v.useCallback(M=>{M!==_.current&&(_.current=M,j(M))},[]),b=i||x,N=o||g,S=v.useRef(null),_=v.useRef(null),E=v.useRef(u),A=c!=null,k=Y_(c),D=Y_(a),I=Y_(d),W=v.useCallback(()=>{if(!S.current||!_.current)return;const M={placement:t,strategy:r,middleware:m};D.current&&(M.platform=D.current),Bie(S.current,_.current,M).then(O=>{const K={...O,isPositioned:I.current!==!1};H.current&&!qb(E.current,K)&&(E.current=K,pl.flushSync(()=>{f(K)}))})},[m,t,r,D,I]);sb(()=>{d===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[d]);const H=v.useRef(!1);sb(()=>(H.current=!0,()=>{H.current=!1}),[]),sb(()=>{if(b&&(S.current=b),N&&(_.current=N),b&&N){if(k.current)return k.current(b,N,W);W()}},[b,N,W,k,A]);const F=v.useMemo(()=>({reference:S,floating:_,setReference:y,setFloating:w}),[y,w]),T=v.useMemo(()=>({reference:b,floating:N}),[b,N]),P=v.useMemo(()=>{const M={position:r,left:0,top:0};if(!T.floating)return M;const O=nI(T.floating,u.x),K=nI(T.floating,u.y);return l?{...M,transform:"translate("+O+"px, "+K+"px)",...V7(T.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:O,top:K}},[r,l,T.floating,u.x,u.y]);return v.useMemo(()=>({...u,update:W,refs:F,elements:T,floatingStyles:P}),[u,W,F,T,P])}const Vie=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?rI({element:s.current,padding:a}).fn(r):{}:s?rI({element:s,padding:a}).fn(r):{}}}},zie=(e,t)=>({...Iie(e),options:[e,t]}),Wie=(e,t)=>({...Rie(e),options:[e,t]}),Hie=(e,t)=>({...Lie(e),options:[e,t]}),qie=(e,t)=>({...Mie(e),options:[e,t]}),Gie=(e,t)=>({...Fie(e),options:[e,t]}),Kie=(e,t)=>({...$ie(e),options:[e,t]}),Yie=(e,t)=>({...Vie(e),options:[e,t]});var Xie="Arrow",z7=v.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...i}=e;return n.jsx(ft.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});z7.displayName=Xie;var Qie=z7;function Zie(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,Jie(a,...t)]}function Jie(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function bN(e){const[t,r]=v.useState(void 0);return is(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var Fk="Popper",[W7,Du]=Zie(Fk),[eoe,H7]=W7(Fk),q7=e=>{const{__scopePopper:t,children:r}=e,[s,a]=v.useState(null);return n.jsx(eoe,{scope:t,anchor:s,onAnchorChange:a,children:r})};q7.displayName=Fk;var G7="PopperAnchor",K7=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=H7(G7,r),o=v.useRef(null),l=Ft(t,o);return v.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:n.jsx(ft.div,{...a,ref:l})});K7.displayName=G7;var $k="PopperContent",[toe,roe]=W7($k),Y7=v.forwardRef((e,t)=>{var fe,B,Y,ie,we,ue;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:x,...p}=e,g=H7($k,r),[j,y]=v.useState(null),w=Ft(t,ge=>y(ge)),[b,N]=v.useState(null),S=bN(b),_=(S==null?void 0:S.width)??0,E=(S==null?void 0:S.height)??0,A=s+(i!=="center"?"-"+i:""),k=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(d)?d:[d],I=D.length>0,W={padding:k,boundary:D.filter(soe),altBoundary:I},{refs:H,floatingStyles:F,placement:T,isPositioned:P,middlewareData:M}=Uie({strategy:"fixed",placement:A,whileElementsMounted:(...ge)=>Die(...ge,{animationFrame:h==="always"}),elements:{reference:g.anchor},middleware:[zie({mainAxis:a+E,alignmentAxis:o}),c&&Wie({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Hie():void 0,...W}),c&&qie({...W}),Gie({...W,apply:({elements:ge,rects:xe,availableWidth:Se,availableHeight:Me})=>{const{width:ke,height:se}=xe.reference,he=ge.floating.style;he.setProperty("--radix-popper-available-width",`${Se}px`),he.setProperty("--radix-popper-available-height",`${Me}px`),he.setProperty("--radix-popper-anchor-width",`${ke}px`),he.setProperty("--radix-popper-anchor-height",`${se}px`)}}),b&&Yie({element:b,padding:l}),aoe({arrowWidth:_,arrowHeight:E}),m&&Kie({strategy:"referenceHidden",...W})]}),[O,K]=Z7(T),ne=mn(x);is(()=>{P&&(ne==null||ne())},[P,ne]);const R=(fe=M.arrow)==null?void 0:fe.x,V=(B=M.arrow)==null?void 0:B.y,L=((Y=M.arrow)==null?void 0:Y.centerOffset)!==0,[G,le]=v.useState();return is(()=>{j&&le(window.getComputedStyle(j).zIndex)},[j]),n.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:P?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(ie=M.transformOrigin)==null?void 0:ie.x,(we=M.transformOrigin)==null?void 0:we.y].join(" "),...((ue=M.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(toe,{scope:r,placedSide:O,onArrowChange:N,arrowX:R,arrowY:V,shouldHideArrow:L,children:n.jsx(ft.div,{"data-side":O,"data-align":K,...p,ref:w,style:{...p.style,animation:P?void 0:"none"}})})})});Y7.displayName=$k;var X7="PopperArrow",noe={top:"bottom",right:"left",bottom:"top",left:"right"},Q7=v.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=roe(X7,s),o=noe[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(Qie,{...a,ref:r,style:{...a.style,display:"block"}})})});Q7.displayName=X7;function soe(e){return e!==null}var aoe=e=>({name:"transformOrigin",options:e,fn(t){var g,j,y;const{placement:r,rects:s,middlewareData:a}=t,o=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=Z7(r),f={start:"0%",center:"50%",end:"100%"}[u],m=(((j=a.arrow)==null?void 0:j.x)??0)+l/2,h=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let x="",p="";return d==="bottom"?(x=o?f:`${m}px`,p=`${-c}px`):d==="top"?(x=o?f:`${m}px`,p=`${s.floating.height+c}px`):d==="right"?(x=`${-c}px`,p=o?f:`${h}px`):d==="left"&&(x=`${s.floating.width+c}px`,p=o?f:`${h}px`),{data:{x,y:p}}}});function Z7(e){const[t,r="center"]=e.split("-");return[t,r]}var wN=q7,Uv=K7,NN=Y7,_N=Q7,[SN,Ont]=ra("Tooltip",[Du]),CN=Du(),J7="TooltipProvider",ioe=700,P4="tooltip.open",[ooe,Lk]=SN(J7),eU=e=>{const{__scopeTooltip:t,delayDuration:r=ioe,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,[o,l]=v.useState(!0),c=v.useRef(!1),d=v.useRef(0);return v.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),n.jsx(ooe,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(u=>{c.current=u},[]),disableHoverableContent:a,children:i})};eU.displayName=J7;var EN="Tooltip",[loe,AN]=SN(EN),tU=e=>{const{__scopeTooltip:t,children:r,open:s,defaultOpen:a=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=Lk(EN,e.__scopeTooltip),d=CN(t),[u,f]=v.useState(null),m=di(),h=v.useRef(0),x=o??c.disableHoverableContent,p=l??c.delayDuration,g=v.useRef(!1),[j=!1,y]=$a({prop:s,defaultProp:a,onChange:_=>{_?(c.onOpen(),document.dispatchEvent(new CustomEvent(P4))):c.onClose(),i==null||i(_)}}),w=v.useMemo(()=>j?g.current?"delayed-open":"instant-open":"closed",[j]),b=v.useCallback(()=>{window.clearTimeout(h.current),h.current=0,g.current=!1,y(!0)},[y]),N=v.useCallback(()=>{window.clearTimeout(h.current),h.current=0,y(!1)},[y]),S=v.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{g.current=!0,y(!0),h.current=0},p)},[p,y]);return v.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),n.jsx(wN,{...d,children:n.jsx(loe,{scope:t,contentId:m,open:j,stateAttribute:w,trigger:u,onTriggerChange:f,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayed?S():b()},[c.isOpenDelayed,S,b]),onTriggerLeave:v.useCallback(()=>{x?N():(window.clearTimeout(h.current),h.current=0)},[N,x]),onOpen:b,onClose:N,disableHoverableContent:x,children:r})})};tU.displayName=EN;var k4="TooltipTrigger",rU=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=AN(k4,r),i=Lk(k4,r),o=CN(r),l=v.useRef(null),c=Ft(t,l,a.onTriggerChange),d=v.useRef(!1),u=v.useRef(!1),f=v.useCallback(()=>d.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),n.jsx(Uv,{asChild:!0,...o,children:n.jsx(ft.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:He(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:He(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:He(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:He(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:He(e.onBlur,a.onClose),onClick:He(e.onClick,a.onClose)})})});rU.displayName=k4;var coe="TooltipPortal",[Dnt,doe]=SN(coe,{forceMount:void 0}),Xh="TooltipContent",nU=v.forwardRef((e,t)=>{const r=doe(Xh,e.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...i}=e,o=AN(Xh,e.__scopeTooltip);return n.jsx(ls,{present:s||o.open,children:o.disableHoverableContent?n.jsx(sU,{side:a,...i,ref:t}):n.jsx(uoe,{side:a,...i,ref:t})})}),uoe=v.forwardRef((e,t)=>{const r=AN(Xh,e.__scopeTooltip),s=Lk(Xh,e.__scopeTooltip),a=v.useRef(null),i=Ft(t,a),[o,l]=v.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:f}=s,m=v.useCallback(()=>{l(null),f(!1)},[f]),h=v.useCallback((x,p)=>{const g=x.currentTarget,j={x:x.clientX,y:x.clientY},y=poe(j,g.getBoundingClientRect()),w=xoe(j,y),b=goe(p.getBoundingClientRect()),N=yoe([...w,...b]);l(N),f(!0)},[f]);return v.useEffect(()=>()=>m(),[m]),v.useEffect(()=>{if(c&&u){const x=g=>h(g,u),p=g=>h(g,c);return c.addEventListener("pointerleave",x),u.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",p)}}},[c,u,h,m]),v.useEffect(()=>{if(o){const x=p=>{const g=p.target,j={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(g))||(u==null?void 0:u.contains(g)),w=!voe(j,o);y?m():w&&(m(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,u,o,d,m]),n.jsx(sU,{...e,ref:i})}),[foe,moe]=SN(EN,{isInside:!1}),sU=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=AN(Xh,r),d=CN(r),{onClose:u}=c;return v.useEffect(()=>(document.addEventListener(P4,u),()=>document.removeEventListener(P4,u)),[u]),v.useEffect(()=>{if(c.trigger){const f=m=>{const h=m.target;h!=null&&h.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),n.jsx(cm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:n.jsxs(NN,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(yk,{children:s}),n.jsx(foe,{scope:r,isInside:!0,children:n.jsx(zne,{id:c.contentId,role:"tooltip",children:a||s})})]})})});nU.displayName=Xh;var aU="TooltipArrow",hoe=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=CN(r);return moe(aU,r).isInside?null:n.jsx(_N,{...a,...s,ref:t})});hoe.displayName=aU;function poe(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,s,a,i)){case i:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function xoe(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function goe(e){const{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}function voe(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>s!=u>s&&r<(d-l)*(s-c)/(u-c)+l&&(a=!a)}return a}function yoe(e){const t=e.slice();return t.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),joe(t)}function joe(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var boe=eU,woe=tU,Noe=rU,iU=nU;const oU=boe,_oe=woe,Soe=Noe,lU=v.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(iU,{ref:s,sideOffset:t,className:ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));lU.displayName=iU.displayName;var Hp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vf=typeof window>"u"||"Deno"in globalThis;function mo(){}function Coe(e,t){return typeof e=="function"?e(t):e}function T4(e){return typeof e=="number"&&e>=0&&e!==1/0}function cU(e,t){return Math.max(e+(t||0)-Date.now(),0)}function gh(e,t){return typeof e=="function"?e(t):e}function Xo(e,t){return typeof e=="function"?e(t):e}function sI(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==Bk(o,t.options))return!1}else if(!m0(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function aI(e,t){const{exact:r,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(zf(t.options.mutationKey)!==zf(i))return!1}else if(!m0(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function Bk(e,t){return((t==null?void 0:t.queryKeyHashFn)||zf)(e)}function zf(e){return JSON.stringify(e,(t,r)=>O4(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function m0(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!m0(e[r],t[r])):!1}function dU(e,t){if(e===t)return e;const r=iI(e)&&iI(t);if(r||O4(e)&&O4(t)){const s=r?e:Object.keys(e),a=s.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d];(!r&&s.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=dU(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function Gb(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function iI(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function O4(e){if(!oI(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!oI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function oI(e){return Object.prototype.toString.call(e)==="[object Object]"}function Eoe(e){return new Promise(t=>{setTimeout(t,e)})}function D4(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?dU(e,t):t}function Aoe(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function Poe(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var Uk=Symbol();function uU(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Uk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var jf,Md,Ph,x8,koe=(x8=class extends Hp{constructor(){super();kt(this,jf);kt(this,Md);kt(this,Ph);mt(this,Ph,t=>{if(!Vf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){pe(this,Md)||this.setEventListener(pe(this,Ph))}onUnsubscribe(){var t;this.hasListeners()||((t=pe(this,Md))==null||t.call(this),mt(this,Md,void 0))}setEventListener(t){var r;mt(this,Ph,t),(r=pe(this,Md))==null||r.call(this),mt(this,Md,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){pe(this,jf)!==t&&(mt(this,jf,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof pe(this,jf)=="boolean"?pe(this,jf):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},jf=new WeakMap,Md=new WeakMap,Ph=new WeakMap,x8),Vk=new koe,kh,Fd,Th,g8,Toe=(g8=class extends Hp{constructor(){super();kt(this,kh,!0);kt(this,Fd);kt(this,Th);mt(this,Th,t=>{if(!Vf&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){pe(this,Fd)||this.setEventListener(pe(this,Th))}onUnsubscribe(){var t;this.hasListeners()||((t=pe(this,Fd))==null||t.call(this),mt(this,Fd,void 0))}setEventListener(t){var r;mt(this,Th,t),(r=pe(this,Fd))==null||r.call(this),mt(this,Fd,t(this.setOnline.bind(this)))}setOnline(t){pe(this,kh)!==t&&(mt(this,kh,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return pe(this,kh)}},kh=new WeakMap,Fd=new WeakMap,Th=new WeakMap,g8),Kb=new Toe;function I4(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},r.reject=a=>{s({status:"rejected",reason:a}),t(a)},r}function Ooe(e){return Math.min(1e3*2**e,3e4)}function fU(e){return(e??"online")==="online"?Kb.isOnline():!0}var mU=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function X_(e){return e instanceof mU}function hU(e){let t=!1,r=0,s=!1,a;const i=I4(),o=p=>{var g;s||(m(new mU(p)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>Vk.isFocused()&&(e.networkMode==="always"||Kb.isOnline())&&e.canRun(),u=()=>fU(e.networkMode)&&e.canRun(),f=p=>{var g;s||(s=!0,(g=e.onSuccess)==null||g.call(e,p),a==null||a(),i.resolve(p))},m=p=>{var g;s||(s=!0,(g=e.onError)==null||g.call(e,p),a==null||a(),i.reject(p))},h=()=>new Promise(p=>{var g;a=j=>{(s||d())&&p(j)},(g=e.onPause)==null||g.call(e)}).then(()=>{var p;a=void 0,s||(p=e.onContinue)==null||p.call(e)}),x=()=>{if(s)return;let p;const g=r===0?e.initialPromise:void 0;try{p=g??e.fn()}catch(j){p=Promise.reject(j)}Promise.resolve(p).then(f).catch(j=>{var S;if(s)return;const y=e.retry??(Vf?0:3),w=e.retryDelay??Ooe,b=typeof w=="function"?w(r,j):w,N=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,j);if(t||!N){m(j);return}r++,(S=e.onFail)==null||S.call(e,r,j),Eoe(b).then(()=>d()?void 0:h()).then(()=>{t?m(j):x()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?x():h().then(x),i)}}function Doe(){let e=[],t=0,r=l=>{l()},s=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var gs=Doe(),bf,v8,pU=(v8=class{constructor(){kt(this,bf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),T4(this.gcTime)&&mt(this,bf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Vf?1/0:5*60*1e3))}clearGcTimeout(){pe(this,bf)&&(clearTimeout(pe(this,bf)),mt(this,bf,void 0))}},bf=new WeakMap,v8),Oh,Dh,fo,ia,_v,wf,Ho,vc,y8,Ioe=(y8=class extends pU{constructor(t){super();kt(this,Ho);kt(this,Oh);kt(this,Dh);kt(this,fo);kt(this,ia);kt(this,_v);kt(this,wf);mt(this,wf,!1),mt(this,_v,t.defaultOptions),this.setOptions(t.options),this.observers=[],mt(this,fo,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,mt(this,Oh,Roe(this.options)),this.state=t.state??pe(this,Oh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=pe(this,ia))==null?void 0:t.promise}setOptions(t){this.options={...pe(this,_v),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&pe(this,fo).remove(this)}setData(t,r){const s=D4(this.state.data,t,this.options);return Zt(this,Ho,vc).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){Zt(this,Ho,vc).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=pe(this,ia))==null?void 0:s.promise;return(a=pe(this,ia))==null||a.cancel(t),r?r.then(mo).catch(mo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(pe(this,Oh))}isActive(){return this.observers.some(t=>Xo(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Uk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!cU(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=pe(this,ia))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=pe(this,ia))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),pe(this,fo).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(pe(this,ia)&&(pe(this,wf)?pe(this,ia).cancel({revert:!0}):pe(this,ia).cancelRetry()),this.scheduleGc()),pe(this,fo).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Zt(this,Ho,vc).call(this,{type:"invalidate"})}fetch(t,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(pe(this,ia))return pe(this,ia).continueRetry(),pe(this,ia).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(mt(this,wf,!0),s.signal)})},i=()=>{const f=uU(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return a(m),mt(this,wf,!1),this.options.persister?this.options.persister(f,m,this):f(m)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),mt(this,Dh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Zt(this,Ho,vc).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=f=>{var m,h,x,p;X_(f)&&f.silent||Zt(this,Ho,vc).call(this,{type:"error",error:f}),X_(f)||((h=(m=pe(this,fo).config).onError)==null||h.call(m,f,this),(p=(x=pe(this,fo).config).onSettled)==null||p.call(x,this.state.data,f,this)),this.scheduleGc()};return mt(this,ia,hU({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var m,h,x,p;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(g){l(g);return}(h=(m=pe(this,fo).config).onSuccess)==null||h.call(m,f,this),(p=(x=pe(this,fo).config).onSettled)==null||p.call(x,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{Zt(this,Ho,vc).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Zt(this,Ho,vc).call(this,{type:"pause"})},onContinue:()=>{Zt(this,Ho,vc).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),pe(this,ia).start()}},Oh=new WeakMap,Dh=new WeakMap,fo=new WeakMap,ia=new WeakMap,_v=new WeakMap,wf=new WeakMap,Ho=new WeakSet,vc=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...xU(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return X_(a)&&a.revert&&pe(this,Dh)?{...pe(this,Dh),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),gs.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),pe(this,fo).notify({query:this,type:"updated",action:t})})},y8);function xU(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fU(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Roe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Rl,j8,Moe=(j8=class extends Hp{constructor(t={}){super();kt(this,Rl);this.config=t,mt(this,Rl,new Map)}build(t,r,s){const a=r.queryKey,i=r.queryHash??Bk(a,r);let o=this.get(i);return o||(o=new Ioe({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){pe(this,Rl).has(t.queryHash)||(pe(this,Rl).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=pe(this,Rl).get(t.queryHash);r&&(t.destroy(),r===t&&pe(this,Rl).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){gs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return pe(this,Rl).get(t)}getAll(){return[...pe(this,Rl).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>sI(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>sI(t,s)):r}notify(t){gs.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){gs.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){gs.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Rl=new WeakMap,j8),Ml,Na,Nf,Fl,Sd,b8,Foe=(b8=class extends pU{constructor(t){super();kt(this,Fl);kt(this,Ml);kt(this,Na);kt(this,Nf);this.mutationId=t.mutationId,mt(this,Na,t.mutationCache),mt(this,Ml,[]),this.state=t.state||gU(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){pe(this,Ml).includes(t)||(pe(this,Ml).push(t),this.clearGcTimeout(),pe(this,Na).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){mt(this,Ml,pe(this,Ml).filter(r=>r!==t)),this.scheduleGc(),pe(this,Na).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){pe(this,Ml).length||(this.state.status==="pending"?this.scheduleGc():pe(this,Na).remove(this))}continue(){var t;return((t=pe(this,Nf))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,d,u,f,m,h,x,p,g,j,y,w,b,N,S,_;mt(this,Nf,hU({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,A)=>{Zt(this,Fl,Sd).call(this,{type:"failed",failureCount:E,error:A})},onPause:()=>{Zt(this,Fl,Sd).call(this,{type:"pause"})},onContinue:()=>{Zt(this,Fl,Sd).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>pe(this,Na).canRun(this)}));const r=this.state.status==="pending",s=!pe(this,Nf).canStart();try{if(!r){Zt(this,Fl,Sd).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(a=pe(this,Na).config).onMutate)==null?void 0:i.call(a,t,this));const A=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));A!==this.state.context&&Zt(this,Fl,Sd).call(this,{type:"pending",context:A,variables:t,isPaused:s})}const E=await pe(this,Nf).start();return await((d=(c=pe(this,Na).config).onSuccess)==null?void 0:d.call(c,E,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,E,t,this.state.context)),await((h=(m=pe(this,Na).config).onSettled)==null?void 0:h.call(m,E,null,this.state.variables,this.state.context,this)),await((p=(x=this.options).onSettled)==null?void 0:p.call(x,E,null,t,this.state.context)),Zt(this,Fl,Sd).call(this,{type:"success",data:E}),E}catch(E){try{throw await((j=(g=pe(this,Na).config).onError)==null?void 0:j.call(g,E,t,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,E,t,this.state.context)),await((N=(b=pe(this,Na).config).onSettled)==null?void 0:N.call(b,void 0,E,this.state.variables,this.state.context,this)),await((_=(S=this.options).onSettled)==null?void 0:_.call(S,void 0,E,t,this.state.context)),E}finally{Zt(this,Fl,Sd).call(this,{type:"error",error:E})}}finally{pe(this,Na).runNext(this)}}},Ml=new WeakMap,Na=new WeakMap,Nf=new WeakMap,Fl=new WeakSet,Sd=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),gs.batch(()=>{pe(this,Ml).forEach(s=>{s.onMutationUpdate(t)}),pe(this,Na).notify({mutation:this,type:"updated",action:t})})},b8);function gU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ci,Sv,w8,$oe=(w8=class extends Hp{constructor(t={}){super();kt(this,Ci);kt(this,Sv);this.config=t,mt(this,Ci,new Map),mt(this,Sv,Date.now())}build(t,r,s){const a=new Foe({mutationCache:this,mutationId:++Dy(this,Sv)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){const r=rj(t),s=pe(this,Ci).get(r)??[];s.push(t),pe(this,Ci).set(r,s),this.notify({type:"added",mutation:t})}remove(t){var s;const r=rj(t);if(pe(this,Ci).has(r)){const a=(s=pe(this,Ci).get(r))==null?void 0:s.filter(i=>i!==t);a&&(a.length===0?pe(this,Ci).delete(r):pe(this,Ci).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const r=(s=pe(this,Ci).get(rj(t)))==null?void 0:s.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var s;const r=(s=pe(this,Ci).get(rj(t)))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){gs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...pe(this,Ci).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(s=>aI(r,s))}findAll(t={}){return this.getAll().filter(r=>aI(t,r))}notify(t){gs.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return gs.batch(()=>Promise.all(t.map(r=>r.continue().catch(mo))))}},Ci=new WeakMap,Sv=new WeakMap,w8);function rj(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function lI(e){return{onFetch:(t,r)=>{var u,f,m,h,x;const s=t.options,a=(m=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((h=t.state.data)==null?void 0:h.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},j=uU(t.options,t.fetchOptions),y=async(w,b,N)=>{if(p)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const S={queryKey:t.queryKey,pageParam:b,direction:N?"backward":"forward",meta:t.options.meta};g(S);const _=await j(S),{maxPages:E}=t.options,A=N?Poe:Aoe;return{pages:A(w.pages,_,E),pageParams:A(w.pageParams,b,E)}};if(a&&i.length){const w=a==="backward",b=w?Loe:cI,N={pages:i,pageParams:o},S=b(s,N);l=await y(N,S,w)}else{const w=e??i.length;do{const b=c===0?o[0]??s.initialPageParam:cI(s,l);if(c>0&&b==null)break;l=await y(l,b),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,g;return(g=(p=t.options).persister)==null?void 0:g.call(p,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function cI(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function Loe(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var Dn,$d,Ld,Ih,Rh,Bd,Mh,Fh,N8,Boe=(N8=class{constructor(e={}){kt(this,Dn);kt(this,$d);kt(this,Ld);kt(this,Ih);kt(this,Rh);kt(this,Bd);kt(this,Mh);kt(this,Fh);mt(this,Dn,e.queryCache||new Moe),mt(this,$d,e.mutationCache||new $oe),mt(this,Ld,e.defaultOptions||{}),mt(this,Ih,new Map),mt(this,Rh,new Map),mt(this,Bd,0)}mount(){Dy(this,Bd)._++,pe(this,Bd)===1&&(mt(this,Mh,Vk.subscribe(async e=>{e&&(await this.resumePausedMutations(),pe(this,Dn).onFocus())})),mt(this,Fh,Kb.subscribe(async e=>{e&&(await this.resumePausedMutations(),pe(this,Dn).onOnline())})))}unmount(){var e,t;Dy(this,Bd)._--,pe(this,Bd)===0&&((e=pe(this,Mh))==null||e.call(this),mt(this,Mh,void 0),(t=pe(this,Fh))==null||t.call(this),mt(this,Fh,void 0))}isFetching(e){return pe(this,Dn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return pe(this,$d).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=pe(this,Dn).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),s=pe(this,Dn).build(this,r);return e.revalidateIfStale&&s.isStaleByTime(gh(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return pe(this,Dn).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=pe(this,Dn).get(s.queryHash),i=a==null?void 0:a.state.data,o=Coe(t,i);if(o!==void 0)return pe(this,Dn).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return gs.batch(()=>pe(this,Dn).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=pe(this,Dn).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=pe(this,Dn);gs.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=pe(this,Dn),s={type:"active",...e};return gs.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},s=gs.batch(()=>pe(this,Dn).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(mo).catch(mo)}invalidateQueries(e={},t={}){return gs.batch(()=>{if(pe(this,Dn).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=gs.batch(()=>pe(this,Dn).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(mo)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(mo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=pe(this,Dn).build(this,t);return r.isStaleByTime(gh(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(mo).catch(mo)}fetchInfiniteQuery(e){return e.behavior=lI(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(mo).catch(mo)}ensureInfiniteQueryData(e){return e.behavior=lI(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Kb.isOnline()?pe(this,$d).resumePausedMutations():Promise.resolve()}getQueryCache(){return pe(this,Dn)}getMutationCache(){return pe(this,$d)}getDefaultOptions(){return pe(this,Ld)}setDefaultOptions(e){mt(this,Ld,e)}setQueryDefaults(e,t){pe(this,Ih).set(zf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...pe(this,Ih).values()];let r={};return t.forEach(s=>{m0(e,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(e,t){pe(this,Rh).set(zf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...pe(this,Rh).values()];let r={};return t.forEach(s=>{m0(e,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...pe(this,Ld).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Bk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Uk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...pe(this,Ld).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){pe(this,Dn).clear(),pe(this,$d).clear()}},Dn=new WeakMap,$d=new WeakMap,Ld=new WeakMap,Ih=new WeakMap,Rh=new WeakMap,Bd=new WeakMap,Mh=new WeakMap,Fh=new WeakMap,N8),Ya,lr,Cv,_a,_f,$h,Ud,$l,Ev,Lh,Bh,Sf,Cf,Vd,Uh,Er,ig,R4,M4,F4,$4,L4,B4,U4,vU,_8,Uoe=(_8=class extends Hp{constructor(t,r){super();kt(this,Er);kt(this,Ya);kt(this,lr);kt(this,Cv);kt(this,_a);kt(this,_f);kt(this,$h);kt(this,Ud);kt(this,$l);kt(this,Ev);kt(this,Lh);kt(this,Bh);kt(this,Sf);kt(this,Cf);kt(this,Vd);kt(this,Uh,new Set);this.options=r,mt(this,Ya,t),mt(this,$l,null),mt(this,Ud,I4()),this.options.experimental_prefetchInRender||pe(this,Ud).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(pe(this,lr).addObserver(this),dI(pe(this,lr),this.options)?Zt(this,Er,ig).call(this):this.updateResult(),Zt(this,Er,$4).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return V4(pe(this,lr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return V4(pe(this,lr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Zt(this,Er,L4).call(this),Zt(this,Er,B4).call(this),pe(this,lr).removeObserver(this)}setOptions(t,r){const s=this.options,a=pe(this,lr);if(this.options=pe(this,Ya).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xo(this.options.enabled,pe(this,lr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Zt(this,Er,U4).call(this),pe(this,lr).setOptions(this.options),s._defaulted&&!Gb(this.options,s)&&pe(this,Ya).getQueryCache().notify({type:"observerOptionsUpdated",query:pe(this,lr),observer:this});const i=this.hasListeners();i&&uI(pe(this,lr),a,this.options,s)&&Zt(this,Er,ig).call(this),this.updateResult(r),i&&(pe(this,lr)!==a||Xo(this.options.enabled,pe(this,lr))!==Xo(s.enabled,pe(this,lr))||gh(this.options.staleTime,pe(this,lr))!==gh(s.staleTime,pe(this,lr)))&&Zt(this,Er,R4).call(this);const o=Zt(this,Er,M4).call(this);i&&(pe(this,lr)!==a||Xo(this.options.enabled,pe(this,lr))!==Xo(s.enabled,pe(this,lr))||o!==pe(this,Vd))&&Zt(this,Er,F4).call(this,o)}getOptimisticResult(t){const r=pe(this,Ya).getQueryCache().build(pe(this,Ya),t),s=this.createResult(r,t);return zoe(this,s)&&(mt(this,_a,s),mt(this,$h,this.options),mt(this,_f,pe(this,lr).state)),s}getCurrentResult(){return pe(this,_a)}trackResult(t,r){const s={};return Object.keys(t).forEach(a=>{Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),s}trackProp(t){pe(this,Uh).add(t)}getCurrentQuery(){return pe(this,lr)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=pe(this,Ya).defaultQueryOptions(t),s=pe(this,Ya).getQueryCache().build(pe(this,Ya),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return Zt(this,Er,ig).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),pe(this,_a)))}createResult(t,r){var E;const s=pe(this,lr),a=this.options,i=pe(this,_a),o=pe(this,_f),l=pe(this,$h),d=t!==s?t.state:pe(this,Cv),{state:u}=t;let f={...u},m=!1,h;if(r._optimisticResults){const A=this.hasListeners(),k=!A&&dI(t,r),D=A&&uI(t,s,r,a);(k||D)&&(f={...f,...xU(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:p,status:g}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&r.select===pe(this,Ev))h=pe(this,Lh);else try{mt(this,Ev,r.select),h=r.select(f.data),h=D4(i==null?void 0:i.data,h,r),mt(this,Lh,h),mt(this,$l,null)}catch(A){mt(this,$l,A)}else h=f.data;if(r.placeholderData!==void 0&&h===void 0&&g==="pending"){let A;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))A=i.data;else if(A=typeof r.placeholderData=="function"?r.placeholderData((E=pe(this,Bh))==null?void 0:E.state.data,pe(this,Bh)):r.placeholderData,r.select&&A!==void 0)try{A=r.select(A),mt(this,$l,null)}catch(k){mt(this,$l,k)}A!==void 0&&(g="success",h=D4(i==null?void 0:i.data,A,r),m=!0)}pe(this,$l)&&(x=pe(this,$l),h=pe(this,Lh),p=Date.now(),g="error");const j=f.fetchStatus==="fetching",y=g==="pending",w=g==="error",b=y&&j,N=h!==void 0,_={status:g,fetchStatus:f.fetchStatus,isPending:y,isSuccess:g==="success",isError:w,isInitialLoading:b,isLoading:b,data:h,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:j,isRefetching:j&&!y,isLoadingError:w&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:w&&N,isStale:zk(t,r),refetch:this.refetch,promise:pe(this,Ud)};if(this.options.experimental_prefetchInRender){const A=I=>{_.status==="error"?I.reject(_.error):_.data!==void 0&&I.resolve(_.data)},k=()=>{const I=mt(this,Ud,_.promise=I4());A(I)},D=pe(this,Ud);switch(D.status){case"pending":t.queryHash===s.queryHash&&A(D);break;case"fulfilled":(_.status==="error"||_.data!==D.value)&&k();break;case"rejected":(_.status!=="error"||_.error!==D.reason)&&k();break}}return _}updateResult(t){const r=pe(this,_a),s=this.createResult(pe(this,lr),this.options);if(mt(this,_f,pe(this,lr).state),mt(this,$h,this.options),pe(this,_f).data!==void 0&&mt(this,Bh,pe(this,lr)),Gb(s,r))return;mt(this,_a,s);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!pe(this,Uh).size)return!0;const c=new Set(l??pe(this,Uh));return this.options.throwOnError&&c.add("error"),Object.keys(pe(this,_a)).some(d=>{const u=d;return pe(this,_a)[u]!==r[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),Zt(this,Er,vU).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Zt(this,Er,$4).call(this)}},Ya=new WeakMap,lr=new WeakMap,Cv=new WeakMap,_a=new WeakMap,_f=new WeakMap,$h=new WeakMap,Ud=new WeakMap,$l=new WeakMap,Ev=new WeakMap,Lh=new WeakMap,Bh=new WeakMap,Sf=new WeakMap,Cf=new WeakMap,Vd=new WeakMap,Uh=new WeakMap,Er=new WeakSet,ig=function(t){Zt(this,Er,U4).call(this);let r=pe(this,lr).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(mo)),r},R4=function(){Zt(this,Er,L4).call(this);const t=gh(this.options.staleTime,pe(this,lr));if(Vf||pe(this,_a).isStale||!T4(t))return;const s=cU(pe(this,_a).dataUpdatedAt,t)+1;mt(this,Sf,setTimeout(()=>{pe(this,_a).isStale||this.updateResult()},s))},M4=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(pe(this,lr)):this.options.refetchInterval)??!1},F4=function(t){Zt(this,Er,B4).call(this),mt(this,Vd,t),!(Vf||Xo(this.options.enabled,pe(this,lr))===!1||!T4(pe(this,Vd))||pe(this,Vd)===0)&&mt(this,Cf,setInterval(()=>{(this.options.refetchIntervalInBackground||Vk.isFocused())&&Zt(this,Er,ig).call(this)},pe(this,Vd)))},$4=function(){Zt(this,Er,R4).call(this),Zt(this,Er,F4).call(this,Zt(this,Er,M4).call(this))},L4=function(){pe(this,Sf)&&(clearTimeout(pe(this,Sf)),mt(this,Sf,void 0))},B4=function(){pe(this,Cf)&&(clearInterval(pe(this,Cf)),mt(this,Cf,void 0))},U4=function(){const t=pe(this,Ya).getQueryCache().build(pe(this,Ya),this.options);if(t===pe(this,lr))return;const r=pe(this,lr);mt(this,lr,t),mt(this,Cv,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},vU=function(t){gs.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(pe(this,_a))}),pe(this,Ya).getQueryCache().notify({query:pe(this,lr),type:"observerResultsUpdated"})})},_8);function Voe(e,t){return Xo(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function dI(e,t){return Voe(e,t)||e.state.data!==void 0&&V4(e,t,t.refetchOnMount)}function V4(e,t,r){if(Xo(t.enabled,e)!==!1){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&zk(e,t)}return!1}function uI(e,t,r,s){return(e!==t||Xo(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&zk(e,r)}function zk(e,t){return Xo(t.enabled,e)!==!1&&e.isStaleByTime(gh(t.staleTime,e))}function zoe(e,t){return!Gb(e.getCurrentResult(),t)}var zd,Wd,Xa,Ec,Hc,ab,z4,S8,Woe=(S8=class extends Hp{constructor(r,s){super();kt(this,Hc);kt(this,zd);kt(this,Wd);kt(this,Xa);kt(this,Ec);mt(this,zd,r),this.setOptions(s),this.bindMethods(),Zt(this,Hc,ab).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const s=this.options;this.options=pe(this,zd).defaultMutationOptions(r),Gb(this.options,s)||pe(this,zd).getMutationCache().notify({type:"observerOptionsUpdated",mutation:pe(this,Xa),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&zf(s.mutationKey)!==zf(this.options.mutationKey)?this.reset():((a=pe(this,Xa))==null?void 0:a.state.status)==="pending"&&pe(this,Xa).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=pe(this,Xa))==null||r.removeObserver(this)}onMutationUpdate(r){Zt(this,Hc,ab).call(this),Zt(this,Hc,z4).call(this,r)}getCurrentResult(){return pe(this,Wd)}reset(){var r;(r=pe(this,Xa))==null||r.removeObserver(this),mt(this,Xa,void 0),Zt(this,Hc,ab).call(this),Zt(this,Hc,z4).call(this)}mutate(r,s){var a;return mt(this,Ec,s),(a=pe(this,Xa))==null||a.removeObserver(this),mt(this,Xa,pe(this,zd).getMutationCache().build(pe(this,zd),this.options)),pe(this,Xa).addObserver(this),pe(this,Xa).execute(r)}},zd=new WeakMap,Wd=new WeakMap,Xa=new WeakMap,Ec=new WeakMap,Hc=new WeakSet,ab=function(){var s;const r=((s=pe(this,Xa))==null?void 0:s.state)??gU();mt(this,Wd,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},z4=function(r){gs.batch(()=>{var s,a,i,o,l,c,d,u;if(pe(this,Ec)&&this.hasListeners()){const f=pe(this,Wd).variables,m=pe(this,Wd).context;(r==null?void 0:r.type)==="success"?((a=(s=pe(this,Ec)).onSuccess)==null||a.call(s,r.data,f,m),(o=(i=pe(this,Ec)).onSettled)==null||o.call(i,r.data,null,f,m)):(r==null?void 0:r.type)==="error"&&((c=(l=pe(this,Ec)).onError)==null||c.call(l,r.error,f,m),(u=(d=pe(this,Ec)).onSettled)==null||u.call(d,void 0,r.error,f,m))}this.listeners.forEach(f=>{f(pe(this,Wd))})})},S8),yU=v.createContext(void 0),Hr=e=>{const t=v.useContext(yU);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Hoe=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(yU.Provider,{value:e,children:t})),jU=v.createContext(!1),qoe=()=>v.useContext(jU);jU.Provider;function Goe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Koe=v.createContext(Goe()),Yoe=()=>v.useContext(Koe);function bU(e,t){return typeof e=="function"?e(...t):!!e}function wU(){}var Xoe=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Qoe=e=>{v.useEffect(()=>{e.clearReset()},[e])},Zoe=({result:e,errorResetBoundary:t,throwOnError:r,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&bU(r,[e.error,s]),Joe=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},ele=(e,t)=>e.isLoading&&e.isFetching&&!t,tle=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,fI=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function rle(e,t,r){var u,f,m,h,x;const s=Hr(),a=qoe(),i=Yoe(),o=s.defaultQueryOptions(e);(f=(u=s.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||f.call(u,o),o._optimisticResults=a?"isRestoring":"optimistic",Joe(o),Xoe(o,i),Qoe(i);const l=!s.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new t(s,o)),d=c.getOptimisticResult(o);if(v.useSyncExternalStore(v.useCallback(p=>{const g=a?()=>{}:c.subscribe(gs.batchCalls(p));return c.updateResult(),g},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),tle(o,d))throw fI(o,c,i);if(Zoe({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash)}))throw d.error;if((h=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||h.call(m,o,d),o.experimental_prefetchInRender&&!Vf&&ele(d,a)){const p=l?fI(o,c,i):(x=s.getQueryCache().get(o.queryHash))==null?void 0:x.promise;p==null||p.catch(wU).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Ss(e,t){return rle(e,Uoe)}function cn(e,t){const r=Hr(),[s]=v.useState(()=>new Woe(r,e));v.useEffect(()=>{s.setOptions(e)},[s,e]);const a=v.useSyncExternalStore(v.useCallback(o=>s.subscribe(gs.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=v.useCallback((o,l)=>{s.mutate(o,l).catch(wU)},[s]);if(a.error&&bU(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},h0.apply(this,arguments)}var Gd;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gd||(Gd={}));const mI="popstate";function nle(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return W4("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:Yb(a)}return ale(t,r,null,e)}function Zn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function NU(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sle(){return Math.random().toString(36).substr(2,8)}function hI(e,t){return{usr:e.state,key:e.key,idx:t}}function W4(e,t,r,s){return r===void 0&&(r=null),h0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?qp(t):t,{state:r,key:t&&t.key||s||sle()})}function Yb(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function qp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function ale(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=Gd.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(h0({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=Gd.Pop;let g=u(),j=g==null?null:g-d;d=g,c&&c({action:l,location:p.location,delta:j})}function m(g,j){l=Gd.Push;let y=W4(p.location,g,j);d=u()+1;let w=hI(y,d),b=p.createHref(y);try{o.pushState(w,"",b)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(b)}i&&c&&c({action:l,location:p.location,delta:1})}function h(g,j){l=Gd.Replace;let y=W4(p.location,g,j);d=u();let w=hI(y,d),b=p.createHref(y);o.replaceState(w,"",b),i&&c&&c({action:l,location:p.location,delta:0})}function x(g){let j=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof g=="string"?g:Yb(g);return y=y.replace(/ $/,"%20"),Zn(j,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,j)}let p={get action(){return l},get location(){return e(a,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(mI,f),c=g,()=>{a.removeEventListener(mI,f),c=null}},createHref(g){return t(a,g)},createURL:x,encodeLocation(g){let j=x(g);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:m,replace:h,go(g){return o.go(g)}};return p}var pI;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pI||(pI={}));function ile(e,t,r){return r===void 0&&(r="/"),ole(e,t,r,!1)}function ole(e,t,r,s){let a=typeof t=="string"?qp(t):t,i=Wk(a.pathname||"/",r);if(i==null)return null;let o=_U(e);lle(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=yle(i);l=gle(o[c],d,s)}return l}function _U(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Zn(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=cu([s,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Zn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),_U(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:ple(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of SU(i.path))a(i,o,c)}),t}function SU(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=SU(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function lle(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:xle(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const cle=/^:[\w-]+$/,dle=3,ule=2,fle=1,mle=10,hle=-2,xI=e=>e==="*";function ple(e,t){let r=e.split("/"),s=r.length;return r.some(xI)&&(s+=hle),t&&(s+=ule),r.filter(a=>!xI(a)).reduce((a,i)=>a+(cle.test(i)?dle:i===""?fle:mle),s)}function xle(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function gle(e,t,r){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=gI({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!f&&d&&r&&!s[s.length-1].route.index&&(f=gI({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:cu([i,f.pathname]),pathnameBase:Nle(cu([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=cu([i,f.pathnameBase]))}return o}function gI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=vle(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,u,f)=>{let{paramName:m,isOptional:h}=u;if(m==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const x=l[f];return h&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function vle(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),NU(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function yle(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return NU(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Wk(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function jle(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?qp(e):e;return{pathname:r?r.startsWith("/")?r:ble(r,t):t,search:_le(s),hash:Sle(a)}}function ble(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Q_(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wle(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Hk(e,t){let r=wle(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function qk(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=qp(e):(a=h0({},e),Zn(!a.pathname||!a.pathname.includes("?"),Q_("?","pathname","search",a)),Zn(!a.pathname||!a.pathname.includes("#"),Q_("#","pathname","hash",a)),Zn(!a.search||!a.search.includes("#"),Q_("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=jle(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const cu=e=>e.join("/").replace(/\/\/+/g,"/"),Nle=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_le=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Sle=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Cle(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const CU=["post","put","patch","delete"];new Set(CU);const Ele=["get",...CU];new Set(Ele);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},p0.apply(this,arguments)}const Gk=v.createContext(null),Ale=v.createContext(null),Iu=v.createContext(null),PN=v.createContext(null),dd=v.createContext({outlet:null,matches:[],isDataRoute:!1}),EU=v.createContext(null);function Ple(e,t){let{relative:r}=t===void 0?{}:t;Gp()||Zn(!1);let{basename:s,navigator:a}=v.useContext(Iu),{hash:i,pathname:o,search:l}=PU(e,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:cu([s,o])),a.createHref({pathname:c,search:l,hash:i})}function Gp(){return v.useContext(PN)!=null}function oc(){return Gp()||Zn(!1),v.useContext(PN).location}function AU(e){v.useContext(Iu).static||v.useLayoutEffect(e)}function mr(){let{isDataRoute:e}=v.useContext(dd);return e?Vle():kle()}function kle(){Gp()||Zn(!1);let e=v.useContext(Gk),{basename:t,future:r,navigator:s}=v.useContext(Iu),{matches:a}=v.useContext(dd),{pathname:i}=oc(),o=JSON.stringify(Hk(a,r.v7_relativeSplatPath)),l=v.useRef(!1);return AU(()=>{l.current=!0}),v.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let f=qk(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:cu([t,f.pathname])),(u.replace?s.replace:s.push)(f,u.state,u)},[t,s,o,i,e])}function eo(){let{matches:e}=v.useContext(dd),t=e[e.length-1];return t?t.params:{}}function PU(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=v.useContext(Iu),{matches:a}=v.useContext(dd),{pathname:i}=oc(),o=JSON.stringify(Hk(a,s.v7_relativeSplatPath));return v.useMemo(()=>qk(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Tle(e,t){return Ole(e,t)}function Ole(e,t,r,s){Gp()||Zn(!1);let{navigator:a}=v.useContext(Iu),{matches:i}=v.useContext(dd),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=oc(),u;if(t){var f;let g=typeof t=="string"?qp(t):t;c==="/"||(f=g.pathname)!=null&&f.startsWith(c)||Zn(!1),u=g}else u=d;let m=u.pathname||"/",h=m;if(c!=="/"){let g=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=ile(e,{pathname:h}),p=Fle(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:cu([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:cu([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,s);return t&&p?v.createElement(PN.Provider,{value:{location:p0({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Gd.Pop}},p):p}function Dle(){let e=Ule(),t=Cle(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:a},r):null,null)}const Ile=v.createElement(Dle,null);class Rle extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(dd.Provider,{value:this.props.routeContext},v.createElement(EU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Mle(e){let{routeContext:t,match:r,children:s}=e,a=v.useContext(Gk);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(dd.Provider,{value:t},s)}function Fle(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||Zn(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:m,errors:h}=r,x=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,m)=>{let h,x=!1,p=null,g=null;r&&(h=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||Ile,c&&(d<0&&m===0?(x=!0,g=null):d===m&&(x=!0,g=f.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,m+1)),y=()=>{let w;return h?w=p:x?w=g:f.route.Component?w=v.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,v.createElement(Mle,{match:f,routeContext:{outlet:u,matches:j,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?v.createElement(Rle,{location:r.location,revalidation:r.revalidation,component:p,error:h,children:y(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):y()},null)}var kU=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(kU||{}),Xb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Xb||{});function $le(e){let t=v.useContext(Gk);return t||Zn(!1),t}function Lle(e){let t=v.useContext(Ale);return t||Zn(!1),t}function Ble(e){let t=v.useContext(dd);return t||Zn(!1),t}function TU(e){let t=Ble(),r=t.matches[t.matches.length-1];return r.route.id||Zn(!1),r.route.id}function Ule(){var e;let t=v.useContext(EU),r=Lle(Xb.UseRouteError),s=TU(Xb.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function Vle(){let{router:e}=$le(kU.UseNavigateStable),t=TU(Xb.UseNavigateStable),r=v.useRef(!1);return AU(()=>{r.current=!0}),v.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,p0({fromRouteId:t},i)))},[e,t])}function OU(e){let{to:t,replace:r,state:s,relative:a}=e;Gp()||Zn(!1);let{future:i,static:o}=v.useContext(Iu),{matches:l}=v.useContext(dd),{pathname:c}=oc(),d=mr(),u=qk(t,Hk(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(u);return v.useEffect(()=>d(JSON.parse(f),{replace:r,state:s,relative:a}),[d,f,a,r,s]),null}function Jt(e){Zn(!1)}function zle(e){let{basename:t="/",children:r=null,location:s,navigationType:a=Gd.Pop,navigator:i,static:o=!1,future:l}=e;Gp()&&Zn(!1);let c=t.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:c,navigator:i,static:o,future:p0({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=qp(s));let{pathname:u="/",search:f="",hash:m="",state:h=null,key:x="default"}=s,p=v.useMemo(()=>{let g=Wk(u,c);return g==null?null:{location:{pathname:g,search:f,hash:m,state:h,key:x},navigationType:a}},[c,u,f,m,h,x,a]);return p==null?null:v.createElement(Iu.Provider,{value:d},v.createElement(PN.Provider,{children:r,value:p}))}function Wle(e){let{children:t,location:r}=e;return Tle(H4(t),r)}new Promise(()=>{});function H4(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(s,a)=>{if(!v.isValidElement(s))return;let i=[...t,a];if(s.type===v.Fragment){r.push.apply(r,H4(s.props.children,i));return}s.type!==Jt&&Zn(!1),!s.props.index||!s.props.children||Zn(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=H4(s.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function q4(){return q4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},q4.apply(this,arguments)}function Hle(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function qle(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Gle(e,t){return e.button===0&&(!t||t==="_self")&&!qle(e)}function G4(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(a=>[r,a]):[[r,s]])},[]))}function Kle(e,t){let r=G4(e);return t&&t.forEach((s,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Yle=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Xle="6";try{window.__reactRouterVersion=Xle}catch{}const Qle="startTransition",vI=AP[Qle];function Zle(e){let{basename:t,children:r,future:s,window:a}=e,i=v.useRef();i.current==null&&(i.current=nle({window:a,v5Compat:!0}));let o=i.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=v.useCallback(f=>{d&&vI?vI(()=>c(f)):c(f)},[c,d]);return v.useLayoutEffect(()=>o.listen(u),[o,u]),v.createElement(zle,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:s})}const Jle=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ece=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ki=v.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,m=Hle(t,Yle),{basename:h}=v.useContext(Iu),x,p=!1;if(typeof d=="string"&&ece.test(d)&&(x=d,Jle))try{let w=new URL(window.location.href),b=d.startsWith("//")?new URL(w.protocol+d):new URL(d),N=Wk(b.pathname,h);b.origin===w.origin&&N!=null?d=N+b.search+b.hash:p=!0}catch{}let g=Ple(d,{relative:a}),j=tce(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function y(w){s&&s(w),w.defaultPrevented||j(w)}return v.createElement("a",q4({},m,{href:x||g,onClick:p||i?s:y,ref:r,target:c}))});var yI;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(yI||(yI={}));var jI;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(jI||(jI={}));function tce(e,t){let{target:r,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=mr(),d=oc(),u=PU(e,{relative:o});return v.useCallback(f=>{if(Gle(f,r)){f.preventDefault();let m=s!==void 0?s:Yb(d)===Yb(u);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,a,r,e,i,o,l])}function kN(e){let t=v.useRef(G4(e)),r=v.useRef(!1),s=oc(),a=v.useMemo(()=>Kle(s.search,r.current?null:t.current),[s.search]),i=mr(),o=v.useCallback((l,c)=>{const d=G4(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}function DU(e,t){return function(){return e.apply(t,arguments)}}const{toString:rce}=Object.prototype,{getPrototypeOf:Kk}=Object,{iterator:TN,toStringTag:IU}=Symbol,ON=(e=>t=>{const r=rce.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),xl=e=>(e=e.toLowerCase(),t=>ON(t)===e),DN=e=>t=>typeof t===e,{isArray:Kp}=Array,Qh=DN("undefined");function Vv(e){return e!==null&&!Qh(e)&&e.constructor!==null&&!Qh(e.constructor)&&ui(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const RU=xl("ArrayBuffer");function nce(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&RU(e.buffer),t}const sce=DN("string"),ui=DN("function"),MU=DN("number"),zv=e=>e!==null&&typeof e=="object",ace=e=>e===!0||e===!1,ib=e=>{if(ON(e)!=="object")return!1;const t=Kk(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(IU in e)&&!(TN in e)},ice=e=>{if(!zv(e)||Vv(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},oce=xl("Date"),lce=xl("File"),cce=xl("Blob"),dce=xl("FileList"),uce=e=>zv(e)&&ui(e.pipe),fce=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ui(e.append)&&((t=ON(e))==="formdata"||t==="object"&&ui(e.toString)&&e.toString()==="[object FormData]"))},mce=xl("URLSearchParams"),[hce,pce,xce,gce]=["ReadableStream","Request","Response","Headers"].map(xl),vce=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wv(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),Kp(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(Vv(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(s=0;s<o;s++)l=i[s],t.call(null,e[l],l,e)}}function FU(e,t){if(Vv(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,a;for(;s-- >0;)if(a=r[s],t===a.toLowerCase())return a;return null}const ff=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$U=e=>!Qh(e)&&e!==ff;function K4(){const{caseless:e,skipUndefined:t}=$U(this)&&this||{},r={},s=(a,i)=>{const o=e&&FU(r,i)||i;ib(r[o])&&ib(a)?r[o]=K4(r[o],a):ib(a)?r[o]=K4({},a):Kp(a)?r[o]=a.slice():(!t||!Qh(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Wv(arguments[a],s);return r}const yce=(e,t,r,{allOwnKeys:s}={})=>(Wv(t,(a,i)=>{r&&ui(a)?e[i]=DU(a,r):e[i]=a},{allOwnKeys:s}),e),jce=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),bce=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},wce=(e,t,r,s)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!s||s(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&Kk(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Nce=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},_ce=e=>{if(!e)return null;if(Kp(e))return e;let t=e.length;if(!MU(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Sce=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Kk(Uint8Array)),Cce=(e,t)=>{const s=(e&&e[TN]).call(e);let a;for(;(a=s.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},Ece=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},Ace=xl("HTMLFormElement"),Pce=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),bI=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),kce=xl("RegExp"),LU=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};Wv(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(s[i]=o||a)}),Object.defineProperties(e,s)},Tce=e=>{LU(e,(t,r)=>{if(ui(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(ui(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Oce=(e,t)=>{const r={},s=a=>{a.forEach(i=>{r[i]=!0})};return Kp(e)?s(e):s(String(e).split(t)),r},Dce=()=>{},Ice=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Rce(e){return!!(e&&ui(e.append)&&e[IU]==="FormData"&&e[TN])}const Mce=e=>{const t=new Array(10),r=(s,a)=>{if(zv(s)){if(t.indexOf(s)>=0)return;if(Vv(s))return s;if(!("toJSON"in s)){t[a]=s;const i=Kp(s)?[]:{};return Wv(s,(o,l)=>{const c=r(o,a+1);!Qh(c)&&(i[l]=c)}),t[a]=void 0,i}}return s};return r(e,0)},Fce=xl("AsyncFunction"),$ce=e=>e&&(zv(e)||ui(e))&&ui(e.then)&&ui(e.catch),BU=((e,t)=>e?setImmediate:t?((r,s)=>(ff.addEventListener("message",({source:a,data:i})=>{a===ff&&i===r&&s.length&&s.shift()()},!1),a=>{s.push(a),ff.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ui(ff.postMessage)),Lce=typeof queueMicrotask<"u"?queueMicrotask.bind(ff):typeof process<"u"&&process.nextTick||BU,Bce=e=>e!=null&&ui(e[TN]),Oe={isArray:Kp,isArrayBuffer:RU,isBuffer:Vv,isFormData:fce,isArrayBufferView:nce,isString:sce,isNumber:MU,isBoolean:ace,isObject:zv,isPlainObject:ib,isEmptyObject:ice,isReadableStream:hce,isRequest:pce,isResponse:xce,isHeaders:gce,isUndefined:Qh,isDate:oce,isFile:lce,isBlob:cce,isRegExp:kce,isFunction:ui,isStream:uce,isURLSearchParams:mce,isTypedArray:Sce,isFileList:dce,forEach:Wv,merge:K4,extend:yce,trim:vce,stripBOM:jce,inherits:bce,toFlatObject:wce,kindOf:ON,kindOfTest:xl,endsWith:Nce,toArray:_ce,forEachEntry:Cce,matchAll:Ece,isHTMLForm:Ace,hasOwnProperty:bI,hasOwnProp:bI,reduceDescriptors:LU,freezeMethods:Tce,toObjectSet:Oce,toCamelCase:Pce,noop:Dce,toFiniteNumber:Ice,findKey:FU,global:ff,isContextDefined:$U,isSpecCompliantForm:Rce,toJSONObject:Mce,isAsyncFn:Fce,isThenable:$ce,setImmediate:BU,asap:Lce,isIterable:Bce};function qt(e,t,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}Oe.inherits(qt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Oe.toJSONObject(this.config),code:this.code,status:this.status}}});const UU=qt.prototype,VU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{VU[e]={value:e}});Object.defineProperties(qt,VU);Object.defineProperty(UU,"isAxiosError",{value:!0});qt.from=(e,t,r,s,a,i)=>{const o=Object.create(UU);Oe.toFlatObject(e,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return qt.call(o,l,c,r,s,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const Uce=null;function Y4(e){return Oe.isPlainObject(e)||Oe.isArray(e)}function zU(e){return Oe.endsWith(e,"[]")?e.slice(0,-2):e}function wI(e,t,r){return e?e.concat(t).map(function(a,i){return a=zU(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function Vce(e){return Oe.isArray(e)&&!e.some(Y4)}const zce=Oe.toFlatObject(Oe,{},null,function(t){return/^is[A-Z]/.test(t)});function IN(e,t,r){if(!Oe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Oe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,g){return!Oe.isUndefined(g[p])});const s=r.metaTokens,a=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Oe.isSpecCompliantForm(t);if(!Oe.isFunction(a))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(Oe.isDate(x))return x.toISOString();if(Oe.isBoolean(x))return x.toString();if(!c&&Oe.isBlob(x))throw new qt("Blob is not supported. Use a Buffer instead.");return Oe.isArrayBuffer(x)||Oe.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,p,g){let j=x;if(x&&!g&&typeof x=="object"){if(Oe.endsWith(p,"{}"))p=s?p:p.slice(0,-2),x=JSON.stringify(x);else if(Oe.isArray(x)&&Vce(x)||(Oe.isFileList(x)||Oe.endsWith(p,"[]"))&&(j=Oe.toArray(x)))return p=zU(p),j.forEach(function(w,b){!(Oe.isUndefined(w)||w===null)&&t.append(o===!0?wI([p],b,i):o===null?p:p+"[]",d(w))}),!1}return Y4(x)?!0:(t.append(wI(g,p,i),d(x)),!1)}const f=[],m=Object.assign(zce,{defaultVisitor:u,convertValue:d,isVisitable:Y4});function h(x,p){if(!Oe.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(x),Oe.forEach(x,function(j,y){(!(Oe.isUndefined(j)||j===null)&&a.call(t,j,Oe.isString(y)?y.trim():y,p,m))===!0&&h(j,p?p.concat(y):[y])}),f.pop()}}if(!Oe.isObject(e))throw new TypeError("data must be an object");return h(e),t}function NI(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Yk(e,t){this._pairs=[],e&&IN(e,this,t)}const WU=Yk.prototype;WU.append=function(t,r){this._pairs.push([t,r])};WU.toString=function(t){const r=t?function(s){return t.call(this,s,NI)}:NI;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Wce(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function HU(e,t,r){if(!t)return e;const s=r&&r.encode||Wce;Oe.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=Oe.isURLSearchParams(t)?t.toString():new Yk(t,r).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class _I{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Oe.forEach(this.handlers,function(s){s!==null&&t(s)})}}const qU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hce=typeof URLSearchParams<"u"?URLSearchParams:Yk,qce=typeof FormData<"u"?FormData:null,Gce=typeof Blob<"u"?Blob:null,Kce={isBrowser:!0,classes:{URLSearchParams:Hce,FormData:qce,Blob:Gce},protocols:["http","https","file","blob","url","data"]},Xk=typeof window<"u"&&typeof document<"u",X4=typeof navigator=="object"&&navigator||void 0,Yce=Xk&&(!X4||["ReactNative","NativeScript","NS"].indexOf(X4.product)<0),Xce=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Qce=Xk&&window.location.href||"http://localhost",Zce=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xk,hasStandardBrowserEnv:Yce,hasStandardBrowserWebWorkerEnv:Xce,navigator:X4,origin:Qce},Symbol.toStringTag,{value:"Module"})),ua={...Zce,...Kce};function Jce(e,t){return IN(e,new ua.classes.URLSearchParams,{visitor:function(r,s,a,i){return ua.isNode&&Oe.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function ede(e){return Oe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function tde(e){const t={},r=Object.keys(e);let s;const a=r.length;let i;for(s=0;s<a;s++)i=r[s],t[i]=e[i];return t}function GU(e){function t(r,s,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&Oe.isArray(a)?a.length:o,c?(Oe.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!l):((!a[o]||!Oe.isObject(a[o]))&&(a[o]=[]),t(r,s,a[o],i)&&Oe.isArray(a[o])&&(a[o]=tde(a[o])),!l)}if(Oe.isFormData(e)&&Oe.isFunction(e.entries)){const r={};return Oe.forEachEntry(e,(s,a)=>{t(ede(s),a,r,0)}),r}return null}function rde(e,t,r){if(Oe.isString(e))try{return(t||JSON.parse)(e),Oe.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(0,JSON.stringify)(e)}const Hv={transitional:qU,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",a=s.indexOf("application/json")>-1,i=Oe.isObject(t);if(i&&Oe.isHTMLForm(t)&&(t=new FormData(t)),Oe.isFormData(t))return a?JSON.stringify(GU(t)):t;if(Oe.isArrayBuffer(t)||Oe.isBuffer(t)||Oe.isStream(t)||Oe.isFile(t)||Oe.isBlob(t)||Oe.isReadableStream(t))return t;if(Oe.isArrayBufferView(t))return t.buffer;if(Oe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Jce(t,this.formSerializer).toString();if((l=Oe.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return IN(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),rde(t)):t}],transformResponse:[function(t){const r=this.transitional||Hv.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Oe.isResponse(t)||Oe.isReadableStream(t))return t;if(t&&Oe.isString(t)&&(s&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?qt.from(l,qt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ua.classes.FormData,Blob:ua.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Oe.forEach(["delete","get","head","post","put","patch"],e=>{Hv.headers[e]={}});const nde=Oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sde=e=>{const t={};let r,s,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!r||t[r]&&nde[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},SI=Symbol("internals");function Ix(e){return e&&String(e).trim().toLowerCase()}function ob(e){return e===!1||e==null?e:Oe.isArray(e)?e.map(ob):String(e)}function ade(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const ide=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Z_(e,t,r,s,a){if(Oe.isFunction(s))return s.call(this,t,r);if(a&&(t=r),!!Oe.isString(t)){if(Oe.isString(s))return t.indexOf(s)!==-1;if(Oe.isRegExp(s))return s.test(t)}}function ode(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function lde(e,t){const r=Oe.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(a,i,o){return this[s].call(this,t,a,i,o)},configurable:!0})})}class fi{constructor(t){t&&this.set(t)}set(t,r,s){const a=this;function i(l,c,d){const u=Ix(c);if(!u)throw new Error("header name must be a non-empty string");const f=Oe.findKey(a,u);(!f||a[f]===void 0||d===!0||d===void 0&&a[f]!==!1)&&(a[f||c]=ob(l))}const o=(l,c)=>Oe.forEach(l,(d,u)=>i(d,u,c));if(Oe.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Oe.isString(t)&&(t=t.trim())&&!ide(t))o(sde(t),r);else if(Oe.isObject(t)&&Oe.isIterable(t)){let l={},c,d;for(const u of t){if(!Oe.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?Oe.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,r)}else t!=null&&i(r,t,s);return this}get(t,r){if(t=Ix(t),t){const s=Oe.findKey(this,t);if(s){const a=this[s];if(!r)return a;if(r===!0)return ade(a);if(Oe.isFunction(r))return r.call(this,a,s);if(Oe.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ix(t),t){const s=Oe.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||Z_(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let a=!1;function i(o){if(o=Ix(o),o){const l=Oe.findKey(s,o);l&&(!r||Z_(s,s[l],l,r))&&(delete s[l],a=!0)}}return Oe.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let s=r.length,a=!1;for(;s--;){const i=r[s];(!t||Z_(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,s={};return Oe.forEach(this,(a,i)=>{const o=Oe.findKey(s,i);if(o){r[o]=ob(a),delete r[i];return}const l=t?ode(i):String(i).trim();l!==i&&delete r[i],r[l]=ob(a),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Oe.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=t&&Oe.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[SI]=this[SI]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Ix(o);s[l]||(lde(a,o),s[l]=!0)}return Oe.isArray(t)?t.forEach(i):i(t),this}}fi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Oe.reduceDescriptors(fi.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});Oe.freezeMethods(fi);function J_(e,t){const r=this||Hv,s=t||r,a=fi.from(s.headers);let i=s.data;return Oe.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function KU(e){return!!(e&&e.__CANCEL__)}function Yp(e,t,r){qt.call(this,e??"canceled",qt.ERR_CANCELED,t,r),this.name="CanceledError"}Oe.inherits(Yp,qt,{__CANCEL__:!0});function YU(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new qt("Request failed with status code "+r.status,[qt.ERR_BAD_REQUEST,qt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function cde(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function dde(e,t){e=e||10;const r=new Array(e),s=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=s[i];o||(o=d),r[a]=c,s[a]=d;let f=i,m=0;for(;f!==a;)m+=r[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<t)return;const h=u&&d-u;return h?Math.round(m*1e3/h):void 0}}function ude(e,t){let r=0,s=1e3/t,a,i;const o=(d,u=Date.now())=>{r=u,a=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),f=u-r;f>=s?o(d,u):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},s-f)))},()=>a&&o(a)]}const Qb=(e,t,r=3)=>{let s=0;const a=dde(50,250);return ude(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-s,d=a(c),u=o<=l;s=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},CI=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},EI=e=>(...t)=>Oe.asap(()=>e(...t)),fde=ua.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ua.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ua.origin),ua.navigator&&/(msie|trident)/i.test(ua.navigator.userAgent)):()=>!0,mde=ua.hasStandardBrowserEnv?{write(e,t,r,s,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];Oe.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),Oe.isString(s)&&l.push(`path=${s}`),Oe.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),Oe.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function hde(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function pde(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function XU(e,t,r){let s=!hde(t);return e&&(s||r==!1)?pde(e,t):t}const AI=e=>e instanceof fi?{...e}:e;function Wf(e,t){t=t||{};const r={};function s(d,u,f,m){return Oe.isPlainObject(d)&&Oe.isPlainObject(u)?Oe.merge.call({caseless:m},d,u):Oe.isPlainObject(u)?Oe.merge({},u):Oe.isArray(u)?u.slice():u}function a(d,u,f,m){if(Oe.isUndefined(u)){if(!Oe.isUndefined(d))return s(void 0,d,f,m)}else return s(d,u,f,m)}function i(d,u){if(!Oe.isUndefined(u))return s(void 0,u)}function o(d,u){if(Oe.isUndefined(u)){if(!Oe.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,f){if(f in t)return s(d,u);if(f in e)return s(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,f)=>a(AI(d),AI(u),f,!0)};return Oe.forEach(Object.keys({...e,...t}),function(u){const f=c[u]||a,m=f(e[u],t[u],u);Oe.isUndefined(m)&&f!==l||(r[u]=m)}),r}const QU=e=>{const t=Wf({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=fi.from(o),t.url=HU(XU(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Oe.isFormData(r)){if(ua.hasStandardBrowserEnv||ua.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Oe.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{d.includes(u.toLowerCase())&&o.set(u,f)})}}if(ua.hasStandardBrowserEnv&&(s&&Oe.isFunction(s)&&(s=s(t)),s||s!==!1&&fde(t.url))){const c=a&&i&&mde.read(i);c&&o.set(a,c)}return t},xde=typeof XMLHttpRequest<"u",gde=xde&&function(e){return new Promise(function(r,s){const a=QU(e);let i=a.data;const o=fi.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,f,m,h,x;function p(){h&&h(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function j(){if(!g)return;const w=fi.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:w,config:e,request:g};YU(function(_){r(_),p()},function(_){s(_),p()},N),g=null}"onloadend"in g?g.onloadend=j:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(j)},g.onabort=function(){g&&(s(new qt("Request aborted",qt.ECONNABORTED,e,g)),g=null)},g.onerror=function(b){const N=b&&b.message?b.message:"Network Error",S=new qt(N,qt.ERR_NETWORK,e,g);S.event=b||null,s(S),g=null},g.ontimeout=function(){let b=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||qU;a.timeoutErrorMessage&&(b=a.timeoutErrorMessage),s(new qt(b,N.clarifyTimeoutError?qt.ETIMEDOUT:qt.ECONNABORTED,e,g)),g=null},i===void 0&&o.setContentType(null),"setRequestHeader"in g&&Oe.forEach(o.toJSON(),function(b,N){g.setRequestHeader(N,b)}),Oe.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),l&&l!=="json"&&(g.responseType=a.responseType),d&&([m,x]=Qb(d,!0),g.addEventListener("progress",m)),c&&g.upload&&([f,h]=Qb(c),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(u=w=>{g&&(s(!w||w.type?new Yp(null,e,g):w),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const y=cde(a.url);if(y&&ua.protocols.indexOf(y)===-1){s(new qt("Unsupported protocol "+y+":",qt.ERR_BAD_REQUEST,e));return}g.send(i||null)})},vde=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,a;const i=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof qt?u:new Yp(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new qt(`timeout ${t} of ms exceeded`,qt.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>Oe.asap(l),c}},yde=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,a;for(;s<r;)a=s+t,yield e.slice(s,a),s=a},jde=async function*(e,t){for await(const r of bde(e))yield*yde(r,t)},bde=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},PI=(e,t,r,s)=>{const a=jde(e,t);let i=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let f=u.byteLength;if(r){let m=i+=f;r(m)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},kI=64*1024,{isFunction:nj}=Oe,wde=(({Request:e,Response:t})=>({Request:e,Response:t}))(Oe.global),{ReadableStream:TI,TextEncoder:OI}=Oe.global,DI=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Nde=e=>{e=Oe.merge.call({skipUndefined:!0},wde,e);const{fetch:t,Request:r,Response:s}=e,a=t?nj(t):typeof fetch=="function",i=nj(r),o=nj(s);if(!a)return!1;const l=a&&nj(TI),c=a&&(typeof OI=="function"?(x=>p=>x.encode(p))(new OI):async x=>new Uint8Array(await new r(x).arrayBuffer())),d=i&&l&&DI(()=>{let x=!1;const p=new r(ua.origin,{body:new TI,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!p}),u=o&&l&&DI(()=>Oe.isReadableStream(new s("").body)),f={stream:u&&(x=>x.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!f[x]&&(f[x]=(p,g)=>{let j=p&&p[x];if(j)return j.call(p);throw new qt(`Response type '${x}' is not supported`,qt.ERR_NOT_SUPPORT,g)})});const m=async x=>{if(x==null)return 0;if(Oe.isBlob(x))return x.size;if(Oe.isSpecCompliantForm(x))return(await new r(ua.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(Oe.isArrayBufferView(x)||Oe.isArrayBuffer(x))return x.byteLength;if(Oe.isURLSearchParams(x)&&(x=x+""),Oe.isString(x))return(await c(x)).byteLength},h=async(x,p)=>{const g=Oe.toFiniteNumber(x.getContentLength());return g??m(p)};return async x=>{let{url:p,method:g,data:j,signal:y,cancelToken:w,timeout:b,onDownloadProgress:N,onUploadProgress:S,responseType:_,headers:E,withCredentials:A="same-origin",fetchOptions:k}=QU(x),D=t||fetch;_=_?(_+"").toLowerCase():"text";let I=vde([y,w&&w.toAbortSignal()],b),W=null;const H=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let F;try{if(S&&d&&g!=="get"&&g!=="head"&&(F=await h(E,j))!==0){let ne=new r(p,{method:"POST",body:j,duplex:"half"}),R;if(Oe.isFormData(j)&&(R=ne.headers.get("content-type"))&&E.setContentType(R),ne.body){const[V,L]=CI(F,Qb(EI(S)));j=PI(ne.body,kI,V,L)}}Oe.isString(A)||(A=A?"include":"omit");const T=i&&"credentials"in r.prototype,P={...k,signal:I,method:g.toUpperCase(),headers:E.normalize().toJSON(),body:j,duplex:"half",credentials:T?A:void 0};W=i&&new r(p,P);let M=await(i?D(W,k):D(p,P));const O=u&&(_==="stream"||_==="response");if(u&&(N||O&&H)){const ne={};["status","statusText","headers"].forEach(G=>{ne[G]=M[G]});const R=Oe.toFiniteNumber(M.headers.get("content-length")),[V,L]=N&&CI(R,Qb(EI(N),!0))||[];M=new s(PI(M.body,kI,V,()=>{L&&L(),H&&H()}),ne)}_=_||"text";let K=await f[Oe.findKey(f,_)||"text"](M,x);return!O&&H&&H(),await new Promise((ne,R)=>{YU(ne,R,{data:K,headers:fi.from(M.headers),status:M.status,statusText:M.statusText,config:x,request:W})})}catch(T){throw H&&H(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new qt("Network Error",qt.ERR_NETWORK,x,W),{cause:T.cause||T}):qt.from(T,T&&T.code,x,W)}}},_de=new Map,ZU=e=>{let t=e&&e.env||{};const{fetch:r,Request:s,Response:a}=t,i=[s,a,r];let o=i.length,l=o,c,d,u=_de;for(;l--;)c=i[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:Nde(t)),u=d;return d};ZU();const Qk={http:Uce,xhr:gde,fetch:{get:ZU}};Oe.forEach(Qk,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const II=e=>`- ${e}`,Sde=e=>Oe.isFunction(e)||e===null||e===!1;function Cde(e,t){e=Oe.isArray(e)?e:[e];const{length:r}=e;let s,a;const i={};for(let o=0;o<r;o++){s=e[o];let l;if(a=s,!Sde(s)&&(a=Qk[(l=String(s)).toLowerCase()],a===void 0))throw new qt(`Unknown adapter '${l}'`);if(a&&(Oe.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(II).join(`
`):" "+II(o[0]):"as no adapter specified";throw new qt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const JU={getAdapter:Cde,adapters:Qk};function eS(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Yp(null,e)}function RI(e){return eS(e),e.headers=fi.from(e.headers),e.data=J_.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),JU.getAdapter(e.adapter||Hv.adapter,e)(e).then(function(s){return eS(e),s.data=J_.call(e,e.transformResponse,s),s.headers=fi.from(s.headers),s},function(s){return KU(s)||(eS(e),s&&s.response&&(s.response.data=J_.call(e,e.transformResponse,s.response),s.response.headers=fi.from(s.response.headers))),Promise.reject(s)})}const eV="1.13.2",RN={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{RN[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const MI={};RN.transitional=function(t,r,s){function a(i,o){return"[Axios v"+eV+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(t===!1)throw new qt(a(o," has been removed"+(r?" in "+r:"")),qt.ERR_DEPRECATED);return r&&!MI[o]&&(MI[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};RN.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Ede(e,t,r){if(typeof e!="object")throw new qt("options must be an object",qt.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const i=s[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new qt("option "+i+" must be "+c,qt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new qt("Unknown option "+i,qt.ERR_BAD_OPTION)}}const lb={assertOptions:Ede,validators:RN},El=lb.validators;class kf{constructor(t){this.defaults=t||{},this.interceptors={request:new _I,response:new _I}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Wf(this.defaults,r);const{transitional:s,paramsSerializer:a,headers:i}=r;s!==void 0&&lb.assertOptions(s,{silentJSONParsing:El.transitional(El.boolean),forcedJSONParsing:El.transitional(El.boolean),clarifyTimeoutError:El.transitional(El.boolean)},!1),a!=null&&(Oe.isFunction(a)?r.paramsSerializer={serialize:a}:lb.assertOptions(a,{encode:El.function,serialize:El.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),lb.assertOptions(r,{baseUrl:El.spelling("baseURL"),withXsrfToken:El.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Oe.merge(i.common,i[r.method]);i&&Oe.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),r.headers=fi.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,f=0,m;if(!c){const x=[RI.bind(this),void 0];for(x.unshift(...l),x.push(...d),m=x.length,u=Promise.resolve(r);f<m;)u=u.then(x[f++],x[f++]);return u}m=l.length;let h=r;for(;f<m;){const x=l[f++],p=l[f++];try{h=x(h)}catch(g){p.call(this,g);break}}try{u=RI.call(this,h)}catch(x){return Promise.reject(x)}for(f=0,m=d.length;f<m;)u=u.then(d[f++],d[f++]);return u}getUri(t){t=Wf(this.defaults,t);const r=XU(t.baseURL,t.url,t.allowAbsoluteUrls);return HU(r,t.params,t.paramsSerializer)}}Oe.forEach(["delete","get","head","options"],function(t){kf.prototype[t]=function(r,s){return this.request(Wf(s||{},{method:t,url:r,data:(s||{}).data}))}});Oe.forEach(["post","put","patch"],function(t){function r(s){return function(i,o,l){return this.request(Wf(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}kf.prototype[t]=r(),kf.prototype[t+"Form"]=r(!0)});class Zk{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,l){s.reason||(s.reason=new Yp(i,o,l),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Zk(function(a){t=a}),cancel:t}}}function Ade(e){return function(r){return e.apply(null,r)}}function Pde(e){return Oe.isObject(e)&&e.isAxiosError===!0}const Q4={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Q4).forEach(([e,t])=>{Q4[t]=e});function tV(e){const t=new kf(e),r=DU(kf.prototype.request,t);return Oe.extend(r,kf.prototype,t,{allOwnKeys:!0}),Oe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return tV(Wf(e,a))},r}const cr=tV(Hv);cr.Axios=kf;cr.CanceledError=Yp;cr.CancelToken=Zk;cr.isCancel=KU;cr.VERSION=eV;cr.toFormData=IN;cr.AxiosError=qt;cr.Cancel=cr.CanceledError;cr.all=function(t){return Promise.all(t)};cr.spread=Ade;cr.isAxiosError=Pde;cr.mergeConfig=Wf;cr.AxiosHeaders=fi;cr.formToJSON=e=>GU(Oe.isHTMLForm(e)?new FormData(e):e);cr.getAdapter=JU.getAdapter;cr.HttpStatusCode=Q4;cr.default=cr;const to="https://procurement.buy2rent.eu/api",qv="https://procurement.buy2rent.eu/auth";console.log("API Configuration:",{API_BASE_URL:to,AUTH_BASE_URL:qv,mode:"production"});const oa=cr.create({baseURL:qv,timeout:1e4,headers:{"Content-Type":"application/json"}});let Rx=!1,Z4=[];const sj=(e=null)=>{Z4.forEach(t=>{e?t.reject(e):t.resolve()}),Z4=[]};oa.interceptors.response.use(e=>e,async e=>{var r,s;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if((s=t.url)!=null&&s.includes("/refresh/"))return un.clearTokens(),Rx=!1,sj(e),Promise.reject(e);if(Rx)return new Promise((i,o)=>{Z4.push({resolve:i,reject:o})}).then(()=>oa(t)).catch(i=>Promise.reject(i));t._retry=!0,Rx=!0;const a=un.getRefreshToken();if(!a)return Rx=!1,un.clearTokens(),sj(e),Promise.reject(e);try{const i=await oa.post("/refresh/",{refresh:a}),{access:o}=i.data,l=un.getRefreshToken();return l&&un.setTokens(o,l),t.headers.Authorization=`Bearer ${o}`,sj(),oa(t)}catch(i){return sj(i),un.clearTokens(),Promise.reject(i)}finally{Rx=!1}}return Promise.reject(e)});const bc={async login(e){return(await oa.post("/login/",e)).data},async register(e){const r=(await oa.post("/register/",e)).data;return{access:r.tokens.access,refresh:r.tokens.refresh,user:r.user}},async refreshToken(e){return(await oa.post("/refresh/",{refresh:e})).data},async logout(e){const t=localStorage.getItem("access_token");await oa.post("/logout/",{refresh:e},{headers:t?{Authorization:`Bearer ${t}`}:{}})},async getProfile(){const e=localStorage.getItem("access_token");if(!e)throw new Error("No access token found");return(await oa.get("/profile/",{headers:{Authorization:`Bearer ${e}`}})).data},async updateProfile(e){const t=localStorage.getItem("access_token");if(!t)throw new Error("No access token found");return(await oa.put("/profile/",e,{headers:{Authorization:`Bearer ${t}`}})).data},async requestPasswordReset(e){await oa.post("/password-reset/",e)},async confirmPasswordReset(e){await oa.post("/password-reset-confirm/",e)},async changePassword(e){const t=localStorage.getItem("access_token");if(!t)throw new Error("No access token found");await oa.post("/change-password/",e,{headers:{Authorization:`Bearer ${t}`}})},async getSessions(){const e=localStorage.getItem("access_token");if(!e)throw new Error("No access token found");return(await oa.get("/sessions/",{headers:{Authorization:`Bearer ${e}`}})).data},async terminateSession(e){const t=localStorage.getItem("access_token");if(!t)throw new Error("No access token found");await oa.delete(`/sessions/${e}/`,{headers:{Authorization:`Bearer ${t}`}})},async terminateAllSessions(){const e=localStorage.getItem("access_token");if(!e)throw new Error("No access token found");await oa.delete("/sessions/",{headers:{Authorization:`Bearer ${e}`}})}},un={getAccessToken(){return localStorage.getItem("access_token")},getRefreshToken(){return localStorage.getItem("refresh_token")},setTokens(e,t){localStorage.setItem("access_token",e),localStorage.setItem("refresh_token",t)},clearTokens(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")},isAuthenticated(){return!!this.getAccessToken()}},rV=v.createContext(void 0);function kde({children:e}){const[t,r]=v.useState(null),[s,a]=v.useState(!0);v.useEffect(()=>{const p=setTimeout(()=>{console.warn("Auth check timed out after 15 seconds"),a(!1)},15e3);return i().finally(()=>{clearTimeout(p)}),()=>clearTimeout(p)},[]);const i=async()=>{try{const p=un.getAccessToken(),g=un.getRefreshToken();if(!p&&!g){a(!1);return}if(!p&&g)try{const j=await bc.refreshToken(g);un.setTokens(j.access,g)}catch(j){console.error("Token refresh failed during auth check:",j),un.clearTokens(),a(!1);return}if(un.getAccessToken())try{const j=await bc.getProfile();r({...j,name:j.first_name&&j.last_name?`${j.first_name} ${j.last_name}`:j.username})}catch(j){console.error("Profile fetch failed:",j),un.clearTokens(),r(null)}}catch(p){console.error("Auth check failed:",p),un.clearTokens(),r(null)}finally{a(!1)}},o=async()=>{try{const p=await bc.getProfile();r({...p,name:p.first_name&&p.last_name?`${p.first_name} ${p.last_name}`:p.username})}catch(p){throw console.error("Failed to refresh user:",p),p}},l=async(p,g)=>{var j,y,w,b,N,S;try{const _=await bc.login({email:p,password:g});un.setTokens(_.access,_.refresh),r({..._.user,name:_.user.first_name&&_.user.last_name?`${_.user.first_name} ${_.user.last_name}`:_.user.username})}catch(_){console.error("Login failed:",_);const E=((y=(j=_.response)==null?void 0:j.data)==null?void 0:y.message)||((b=(w=_.response)==null?void 0:w.data)==null?void 0:b.detail)||((S=(N=_.response)==null?void 0:N.data)==null?void 0:S.error)||_.message||"Login failed";throw new Error(E)}},c=async(p,g,j)=>{var y,w,b,N,S,_,E,A,k,D;try{const I=(j==null?void 0:j.split(" "))||[],W=I[0]||"User",H=I.slice(1).join(" ")||"Name",F=await bc.register({username:p.split("@")[0],email:p,password:g,password_confirm:g,first_name:W,last_name:H});un.setTokens(F.access,F.refresh),r({...F.user,name:F.user.first_name&&F.user.last_name?`${F.user.first_name} ${F.user.last_name}`:F.user.username})}catch(I){console.error("Signup failed:",I);const W=((w=(y=I.response)==null?void 0:y.data)==null?void 0:w.details)||((N=(b=I.response)==null?void 0:b.data)==null?void 0:N.errors);let H=((_=(S=I.response)==null?void 0:S.data)==null?void 0:_.message)||((A=(E=I.response)==null?void 0:E.data)==null?void 0:A.detail)||((D=(k=I.response)==null?void 0:k.data)==null?void 0:D.error)||I.message||"Signup failed";if(W&&typeof W=="object"){const F=Object.values(W)[0];Array.isArray(F)?H=F[0]:typeof F=="string"&&(H=F)}throw new Error(H)}},d=async()=>{try{window.location.href="/api/auth/google"}catch(p){throw p}},u=async()=>{try{window.location.href="/api/auth/facebook"}catch(p){throw p}},f=async()=>{try{window.location.href="/api/auth/twitter"}catch(p){throw p}},m=async()=>{try{const p=un.getRefreshToken();p&&await bc.logout(p),un.clearTokens(),r(null)}catch(p){console.error("Logout failed:",p),un.clearTokens(),r(null)}},h=async p=>{var g,j;try{await bc.requestPasswordReset({email:p})}catch(y){throw console.error("Password reset failed:",y),new Error(((j=(g=y.response)==null?void 0:g.data)==null?void 0:j.detail)||y.message||"Password reset failed")}},x=async p=>{try{console.warn("Email verification not implemented yet")}catch(g){throw g}};return n.jsx(rV.Provider,{value:{user:t,loading:s,login:l,signup:c,loginWithGoogle:d,loginWithFacebook:u,loginWithTwitter:f,logout:m,resetPassword:h,verifyEmail:x,refreshUser:o},children:e})}function Gv(){const e=v.useContext(rV);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function C({className:e,...t}){return n.jsx("div",{className:ve("relative overflow-hidden rounded-md bg-muted","before:absolute before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:bg-gradient-to-r","before:from-transparent before:via-white/10 before:to-transparent",e),...t})}function dr({children:e}){const{user:t,loading:r}=Gv(),s=oc();if(r)return n.jsxs("div",{className:"min-h-screen flex bg-background",children:[n.jsxs("div",{className:"w-64 border-r border-border p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[n.jsx(C,{className:"h-10 w-10 rounded-lg"}),n.jsx(C,{className:"h-5 w-32"})]}),[...Array(8)].map((i,o)=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-4 w-24"})]},o))]}),n.jsx("div",{className:"flex-1 p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-8 w-64"}),n.jsx(C,{className:"h-4 w-96"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((i,o)=>n.jsxs("div",{className:"border rounded-lg p-6 space-y-3",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-8 w-20"}),n.jsx(C,{className:"h-3 w-16"})]},o))}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(2)].map((i,o)=>n.jsxs("div",{className:"border rounded-lg p-6 space-y-4",children:[n.jsx(C,{className:"h-6 w-40"}),n.jsx("div",{className:"space-y-2",children:[...Array(4)].map((l,c)=>n.jsx(C,{className:"h-4 w-full"},c))})]},o))})]})})]});const a=un.isAuthenticated();return!t&&!a?n.jsx(OU,{to:"/login",state:{from:s},replace:!0}):a&&!t?n.jsxs("div",{className:"min-h-screen flex bg-background",children:[n.jsxs("div",{className:"w-64 border-r border-border p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[n.jsx(C,{className:"h-10 w-10 rounded-lg"}),n.jsx(C,{className:"h-5 w-32"})]}),[...Array(8)].map((i,o)=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-4 w-24"})]},o))]}),n.jsx("div",{className:"flex-1 p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-8 w-64"}),n.jsx(C,{className:"h-4 w-96"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((i,o)=>n.jsxs("div",{className:"border rounded-lg p-6 space-y-3",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-8 w-20"}),n.jsx(C,{className:"h-3 w-16"})]},o))})]})})]}):n.jsx(n.Fragment,{children:e})}function Tde({children:e,...t}){return n.jsx(bae,{...t,children:e})}var Kv=e=>e.type==="checkbox",mf=e=>e instanceof Date,Pa=e=>e==null;const nV=e=>typeof e=="object";var Jn=e=>!Pa(e)&&!Array.isArray(e)&&nV(e)&&!mf(e),Ode=e=>Jn(e)&&e.target?Kv(e.target)?e.target.checked:e.target.value:e,Dde=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ide=(e,t)=>e.has(Dde(t)),Rde=e=>{const t=e.constructor&&e.constructor.prototype;return Jn(t)&&t.hasOwnProperty("isPrototypeOf")},Jk=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function lo(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Jk&&(e instanceof Blob||e instanceof FileList))&&(r||Jn(e)))if(t=r?[]:{},!r&&!Rde(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=lo(e[s]));else return e;return t}var MN=e=>Array.isArray(e)?e.filter(Boolean):[],Wn=e=>e===void 0,gt=(e,t,r)=>{if(!t||!Jn(e))return r;const s=MN(t.split(/[,[\].]+?/)).reduce((a,i)=>Pa(a)?a:a[i],e);return Wn(s)||s===e?Wn(e[t])?r:e[t]:s},Dl=e=>typeof e=="boolean",eT=e=>/^\w*$/.test(e),sV=e=>MN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),$r=(e,t,r)=>{let s=-1;const a=eT(t)?[t]:sV(t),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let c=r;if(s!==o){const d=e[l];c=Jn(d)||Array.isArray(d)?d:isNaN(+a[s+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const FI={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Qo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},pc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};z.createContext(null);var Mde=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Qo.all&&(t._proxyFormState[o]=!s||Qo.all),e[o]}});return a},Qa=e=>Jn(e)&&!Object.keys(e).length,Fde=(e,t,r,s)=>{r(e);const{name:a,...i}=e;return Qa(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===Qo.all)},cb=e=>Array.isArray(e)?e:[e];function $de(e){const t=z.useRef(e);t.current=e,z.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var Wl=e=>typeof e=="string",Lde=(e,t,r,s,a)=>Wl(e)?(s&&t.watch.add(e),gt(r,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),gt(r,i))):(s&&(t.watchAll=!0),r),aV=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},$I=e=>({isOnSubmit:!e||e===Qo.onSubmit,isOnBlur:e===Qo.onBlur,isOnChange:e===Qo.onChange,isOnAll:e===Qo.all,isOnTouch:e===Qo.onTouched}),LI=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Sg=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const i=gt(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(Sg(l,t))break}else if(Jn(l)&&Sg(l,t))break}}};var Bde=(e,t,r)=>{const s=cb(gt(e,r));return $r(s,"root",t[r]),$r(e,r,s),e},tT=e=>e.type==="file",Tc=e=>typeof e=="function",Zb=e=>{if(!Jk)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},db=e=>Wl(e),rT=e=>e.type==="radio",Jb=e=>e instanceof RegExp;const BI={value:!1,isValid:!1},UI={value:!0,isValid:!0};var iV=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Wn(e[0].attributes.value)?Wn(e[0].value)||e[0].value===""?UI:{value:e[0].value,isValid:!0}:UI:BI}return BI};const VI={isValid:!1,value:null};var oV=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,VI):VI;function zI(e,t,r="validate"){if(db(e)||Array.isArray(e)&&e.every(db)||Dl(e)&&!e)return{type:r,message:db(e)?e:"",ref:t}}var Cm=e=>Jn(e)&&!Jb(e)?e:{value:e,message:""},WI=async(e,t,r,s,a)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:d,min:u,max:f,pattern:m,validate:h,name:x,valueAsNumber:p,mount:g,disabled:j}=e._f,y=gt(t,x);if(!g||j)return{};const w=o?o[0]:i,b=I=>{s&&w.reportValidity&&(w.setCustomValidity(Dl(I)?"":I||""),w.reportValidity())},N={},S=rT(i),_=Kv(i),E=S||_,A=(p||tT(i))&&Wn(i.value)&&Wn(y)||Zb(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,k=aV.bind(null,x,r,N),D=(I,W,H,F=pc.maxLength,T=pc.minLength)=>{const P=I?W:H;N[x]={type:I?F:T,message:P,ref:i,...k(I?F:T,P)}};if(a?!Array.isArray(y)||!y.length:l&&(!E&&(A||Pa(y))||Dl(y)&&!y||_&&!iV(o).isValid||S&&!oV(o).isValid)){const{value:I,message:W}=db(l)?{value:!!l,message:l}:Cm(l);if(I&&(N[x]={type:pc.required,message:W,ref:w,...k(pc.required,W)},!r))return b(W),N}if(!A&&(!Pa(u)||!Pa(f))){let I,W;const H=Cm(f),F=Cm(u);if(!Pa(y)&&!isNaN(y)){const T=i.valueAsNumber||y&&+y;Pa(H.value)||(I=T>H.value),Pa(F.value)||(W=T<F.value)}else{const T=i.valueAsDate||new Date(y),P=K=>new Date(new Date().toDateString()+" "+K),M=i.type=="time",O=i.type=="week";Wl(H.value)&&y&&(I=M?P(y)>P(H.value):O?y>H.value:T>new Date(H.value)),Wl(F.value)&&y&&(W=M?P(y)<P(F.value):O?y<F.value:T<new Date(F.value))}if((I||W)&&(D(!!I,H.message,F.message,pc.max,pc.min),!r))return b(N[x].message),N}if((c||d)&&!A&&(Wl(y)||a&&Array.isArray(y))){const I=Cm(c),W=Cm(d),H=!Pa(I.value)&&y.length>+I.value,F=!Pa(W.value)&&y.length<+W.value;if((H||F)&&(D(H,I.message,W.message),!r))return b(N[x].message),N}if(m&&!A&&Wl(y)){const{value:I,message:W}=Cm(m);if(Jb(I)&&!y.match(I)&&(N[x]={type:pc.pattern,message:W,ref:i,...k(pc.pattern,W)},!r))return b(W),N}if(h){if(Tc(h)){const I=await h(y,t),W=zI(I,w);if(W&&(N[x]={...W,...k(pc.validate,W.message)},!r))return b(W.message),N}else if(Jn(h)){let I={};for(const W in h){if(!Qa(I)&&!r)break;const H=zI(await h[W](y,t),w,W);H&&(I={...H,...k(W,H.message)},b(H.message),r&&(N[x]=I))}if(!Qa(I)&&(N[x]={ref:w,...I},!r))return N}}return b(!0),N};function Ude(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=Wn(e)?s++:e[t[s++]];return e}function Vde(e){for(const t in e)if(e.hasOwnProperty(t)&&!Wn(e[t]))return!1;return!0}function fs(e,t){const r=Array.isArray(t)?t:eT(t)?[t]:sV(t),s=r.length===1?e:Ude(e,r),a=r.length-1,i=r[a];return s&&delete s[i],a!==0&&(Jn(s)&&Qa(s)||Array.isArray(s)&&Vde(s))&&fs(e,r.slice(0,-1)),e}var tS=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},J4=e=>Pa(e)||!nV(e);function Id(e,t){if(J4(e)||J4(t))return e===t;if(mf(e)&&mf(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const a of r){const i=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const o=t[a];if(mf(i)&&mf(o)||Jn(i)&&Jn(o)||Array.isArray(i)&&Array.isArray(o)?!Id(i,o):i!==o)return!1}}return!0}var lV=e=>e.type==="select-multiple",zde=e=>rT(e)||Kv(e),rS=e=>Zb(e)&&e.isConnected,cV=e=>{for(const t in e)if(Tc(e[t]))return!0;return!1};function e1(e,t={}){const r=Array.isArray(e);if(Jn(e)||r)for(const s in e)Array.isArray(e[s])||Jn(e[s])&&!cV(e[s])?(t[s]=Array.isArray(e[s])?[]:{},e1(e[s],t[s])):Pa(e[s])||(t[s]=!0);return t}function dV(e,t,r){const s=Array.isArray(e);if(Jn(e)||s)for(const a in e)Array.isArray(e[a])||Jn(e[a])&&!cV(e[a])?Wn(t)||J4(r[a])?r[a]=Array.isArray(e[a])?e1(e[a],[]):{...e1(e[a])}:dV(e[a],Pa(t)?{}:t[a],r[a]):r[a]=!Id(e[a],t[a]);return r}var Mx=(e,t)=>dV(e,t,e1(t)),uV=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>Wn(e)?e:t?e===""?NaN:e&&+e:r&&Wl(e)?new Date(e):s?s(e):e;function nS(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return tT(t)?t.files:rT(t)?oV(e.refs).value:lV(t)?[...t.selectedOptions].map(({value:r})=>r):Kv(t)?iV(e.refs).value:uV(Wn(t.value)?e.ref.value:t.value,e)}var Wde=(e,t,r,s)=>{const a={};for(const i of e){const o=gt(t,i);o&&$r(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}},Fx=e=>Wn(e)?e:Jb(e)?e.source:Jn(e)?Jb(e.value)?e.value.source:e.value:e;const HI="AsyncFunction";var Hde=e=>(!e||!e.validate)&&!!(Tc(e.validate)&&e.validate.constructor.name===HI||Jn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===HI)),qde=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function qI(e,t,r){const s=gt(e,r);if(s||eT(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=gt(t,i),l=gt(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var Gde=(e,t,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:(r?s.isOnChange:a.isOnChange)?e:!0,Kde=(e,t)=>!MN(gt(e,t)).length&&fs(e,t);const Yde={mode:Qo.onSubmit,reValidateMode:Qo.onChange,shouldFocusError:!0};function Xde(e={}){let t={...Yde,...e},r={submitCount:0,isDirty:!1,isLoading:Tc(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Jn(t.defaultValues)||Jn(t.values)?lo(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:lo(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:tS(),array:tS(),state:tS()},m=$I(t.mode),h=$I(t.reValidateMode),x=t.criteriaMode===Qo.all,p=se=>he=>{clearTimeout(d),d=setTimeout(se,he)},g=async se=>{if(!e.disabled&&(u.isValid||se)){const he=t.resolver?Qa((await E()).errors):await k(s,!0);he!==r.isValid&&f.state.next({isValid:he})}},j=(se,he)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((se||Array.from(l.mount)).forEach(ce=>{ce&&(he?$r(r.validatingFields,ce,he):fs(r.validatingFields,ce))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Qa(r.validatingFields)}))},y=(se,he=[],ce,je,$e=!0,De=!0)=>{if(je&&ce&&!e.disabled){if(o.action=!0,De&&Array.isArray(gt(s,se))){const de=ce(gt(s,se),je.argA,je.argB);$e&&$r(s,se,de)}if(De&&Array.isArray(gt(r.errors,se))){const de=ce(gt(r.errors,se),je.argA,je.argB);$e&&$r(r.errors,se,de),Kde(r.errors,se)}if(u.touchedFields&&De&&Array.isArray(gt(r.touchedFields,se))){const de=ce(gt(r.touchedFields,se),je.argA,je.argB);$e&&$r(r.touchedFields,se,de)}u.dirtyFields&&(r.dirtyFields=Mx(a,i)),f.state.next({name:se,isDirty:I(se,he),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else $r(i,se,he)},w=(se,he)=>{$r(r.errors,se,he),f.state.next({errors:r.errors})},b=se=>{r.errors=se,f.state.next({errors:r.errors,isValid:!1})},N=(se,he,ce,je)=>{const $e=gt(s,se);if($e){const De=gt(i,se,Wn(ce)?gt(a,se):ce);Wn(De)||je&&je.defaultChecked||he?$r(i,se,he?De:nS($e._f)):F(se,De),o.mount&&g()}},S=(se,he,ce,je,$e)=>{let De=!1,de=!1;const Ie={name:se};if(!e.disabled){const it=!!(gt(s,se)&&gt(s,se)._f&&gt(s,se)._f.disabled);if(!ce||je){u.isDirty&&(de=r.isDirty,r.isDirty=Ie.isDirty=I(),De=de!==Ie.isDirty);const wt=it||Id(gt(a,se),he);de=!!(!it&&gt(r.dirtyFields,se)),wt||it?fs(r.dirtyFields,se):$r(r.dirtyFields,se,!0),Ie.dirtyFields=r.dirtyFields,De=De||u.dirtyFields&&de!==!wt}if(ce){const wt=gt(r.touchedFields,se);wt||($r(r.touchedFields,se,ce),Ie.touchedFields=r.touchedFields,De=De||u.touchedFields&&wt!==ce)}De&&$e&&f.state.next(Ie)}return De?Ie:{}},_=(se,he,ce,je)=>{const $e=gt(r.errors,se),De=u.isValid&&Dl(he)&&r.isValid!==he;if(e.delayError&&ce?(c=p(()=>w(se,ce)),c(e.delayError)):(clearTimeout(d),c=null,ce?$r(r.errors,se,ce):fs(r.errors,se)),(ce?!Id($e,ce):$e)||!Qa(je)||De){const de={...je,...De&&Dl(he)?{isValid:he}:{},errors:r.errors,name:se};r={...r,...de},f.state.next(de)}},E=async se=>{j(se,!0);const he=await t.resolver(i,t.context,Wde(se||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return j(se),he},A=async se=>{const{errors:he}=await E(se);if(se)for(const ce of se){const je=gt(he,ce);je?$r(r.errors,ce,je):fs(r.errors,ce)}else r.errors=he;return he},k=async(se,he,ce={valid:!0})=>{for(const je in se){const $e=se[je];if($e){const{_f:De,...de}=$e;if(De){const Ie=l.array.has(De.name),it=$e._f&&Hde($e._f);it&&u.validatingFields&&j([je],!0);const wt=await WI($e,i,x,t.shouldUseNativeValidation&&!he,Ie);if(it&&u.validatingFields&&j([je]),wt[De.name]&&(ce.valid=!1,he))break;!he&&(gt(wt,De.name)?Ie?Bde(r.errors,wt,De.name):$r(r.errors,De.name,wt[De.name]):fs(r.errors,De.name))}!Qa(de)&&await k(de,he,ce)}}return ce.valid},D=()=>{for(const se of l.unMount){const he=gt(s,se);he&&(he._f.refs?he._f.refs.every(ce=>!rS(ce)):!rS(he._f.ref))&&le(se)}l.unMount=new Set},I=(se,he)=>!e.disabled&&(se&&he&&$r(i,se,he),!Id(ne(),a)),W=(se,he,ce)=>Lde(se,l,{...o.mount?i:Wn(he)?a:Wl(se)?{[se]:he}:he},ce,he),H=se=>MN(gt(o.mount?i:a,se,e.shouldUnregister?gt(a,se,[]):[])),F=(se,he,ce={})=>{const je=gt(s,se);let $e=he;if(je){const De=je._f;De&&(!De.disabled&&$r(i,se,uV(he,De)),$e=Zb(De.ref)&&Pa(he)?"":he,lV(De.ref)?[...De.ref.options].forEach(de=>de.selected=$e.includes(de.value)):De.refs?Kv(De.ref)?De.refs.length>1?De.refs.forEach(de=>(!de.defaultChecked||!de.disabled)&&(de.checked=Array.isArray($e)?!!$e.find(Ie=>Ie===de.value):$e===de.value)):De.refs[0]&&(De.refs[0].checked=!!$e):De.refs.forEach(de=>de.checked=de.value===$e):tT(De.ref)?De.ref.value="":(De.ref.value=$e,De.ref.type||f.values.next({name:se,values:{...i}})))}(ce.shouldDirty||ce.shouldTouch)&&S(se,$e,ce.shouldTouch,ce.shouldDirty,!0),ce.shouldValidate&&K(se)},T=(se,he,ce)=>{for(const je in he){const $e=he[je],De=`${se}.${je}`,de=gt(s,De);(l.array.has(se)||Jn($e)||de&&!de._f)&&!mf($e)?T(De,$e,ce):F(De,$e,ce)}},P=(se,he,ce={})=>{const je=gt(s,se),$e=l.array.has(se),De=lo(he);$r(i,se,De),$e?(f.array.next({name:se,values:{...i}}),(u.isDirty||u.dirtyFields)&&ce.shouldDirty&&f.state.next({name:se,dirtyFields:Mx(a,i),isDirty:I(se,De)})):je&&!je._f&&!Pa(De)?T(se,De,ce):F(se,De,ce),LI(se,l)&&f.state.next({...r}),f.values.next({name:o.mount?se:void 0,values:{...i}})},M=async se=>{o.mount=!0;const he=se.target;let ce=he.name,je=!0;const $e=gt(s,ce),De=()=>he.type?nS($e._f):Ode(se),de=Ie=>{je=Number.isNaN(Ie)||mf(Ie)&&isNaN(Ie.getTime())||Id(Ie,gt(i,ce,Ie))};if($e){let Ie,it;const wt=De(),Qe=se.type===FI.BLUR||se.type===FI.FOCUS_OUT,ye=!qde($e._f)&&!t.resolver&&!gt(r.errors,ce)&&!$e._f.deps||Gde(Qe,gt(r.touchedFields,ce),r.isSubmitted,h,m),qe=LI(ce,l,Qe);$r(i,ce,wt),Qe?($e._f.onBlur&&$e._f.onBlur(se),c&&c(0)):$e._f.onChange&&$e._f.onChange(se);const Pt=S(ce,wt,Qe,!1),Ct=!Qa(Pt)||qe;if(!Qe&&f.values.next({name:ce,type:se.type,values:{...i}}),ye)return u.isValid&&(e.mode==="onBlur"?Qe&&g():g()),Ct&&f.state.next({name:ce,...qe?{}:Pt});if(!Qe&&qe&&f.state.next({...r}),t.resolver){const{errors:vr}=await E([ce]);if(de(wt),je){const qr=qI(r.errors,s,ce),On=qI(vr,s,qr.name||ce);Ie=On.error,ce=On.name,it=Qa(vr)}}else j([ce],!0),Ie=(await WI($e,i,x,t.shouldUseNativeValidation))[ce],j([ce]),de(wt),je&&(Ie?it=!1:u.isValid&&(it=await k(s,!0)));je&&($e._f.deps&&K($e._f.deps),_(ce,it,Ie,Pt))}},O=(se,he)=>{if(gt(r.errors,he)&&se.focus)return se.focus(),1},K=async(se,he={})=>{let ce,je;const $e=cb(se);if(t.resolver){const De=await A(Wn(se)?se:$e);ce=Qa(De),je=se?!$e.some(de=>gt(De,de)):ce}else se?(je=(await Promise.all($e.map(async De=>{const de=gt(s,De);return await k(de&&de._f?{[De]:de}:de)}))).every(Boolean),!(!je&&!r.isValid)&&g()):je=ce=await k(s);return f.state.next({...!Wl(se)||u.isValid&&ce!==r.isValid?{}:{name:se},...t.resolver||!se?{isValid:ce}:{},errors:r.errors}),he.shouldFocus&&!je&&Sg(s,O,se?$e:l.mount),je},ne=se=>{const he={...o.mount?i:a};return Wn(se)?he:Wl(se)?gt(he,se):se.map(ce=>gt(he,ce))},R=(se,he)=>({invalid:!!gt((he||r).errors,se),isDirty:!!gt((he||r).dirtyFields,se),error:gt((he||r).errors,se),isValidating:!!gt(r.validatingFields,se),isTouched:!!gt((he||r).touchedFields,se)}),V=se=>{se&&cb(se).forEach(he=>fs(r.errors,he)),f.state.next({errors:se?r.errors:{}})},L=(se,he,ce)=>{const je=(gt(s,se,{_f:{}})._f||{}).ref,$e=gt(r.errors,se)||{},{ref:De,message:de,type:Ie,...it}=$e;$r(r.errors,se,{...it,...he,ref:je}),f.state.next({name:se,errors:r.errors,isValid:!1}),ce&&ce.shouldFocus&&je&&je.focus&&je.focus()},G=(se,he)=>Tc(se)?f.values.subscribe({next:ce=>se(W(void 0,he),ce)}):W(se,he,!0),le=(se,he={})=>{for(const ce of se?cb(se):l.mount)l.mount.delete(ce),l.array.delete(ce),he.keepValue||(fs(s,ce),fs(i,ce)),!he.keepError&&fs(r.errors,ce),!he.keepDirty&&fs(r.dirtyFields,ce),!he.keepTouched&&fs(r.touchedFields,ce),!he.keepIsValidating&&fs(r.validatingFields,ce),!t.shouldUnregister&&!he.keepDefaultValue&&fs(a,ce);f.values.next({values:{...i}}),f.state.next({...r,...he.keepDirty?{isDirty:I()}:{}}),!he.keepIsValid&&g()},fe=({disabled:se,name:he,field:ce,fields:je,value:$e})=>{if(Dl(se)&&o.mount||se){const De=se?void 0:Wn($e)?nS(ce?ce._f:gt(je,he)._f):$e;$r(i,he,De),S(he,De,!1,!1,!0)}},B=(se,he={})=>{let ce=gt(s,se);const je=Dl(he.disabled)||Dl(e.disabled);return $r(s,se,{...ce||{},_f:{...ce&&ce._f?ce._f:{ref:{name:se}},name:se,mount:!0,...he}}),l.mount.add(se),ce?fe({field:ce,disabled:Dl(he.disabled)?he.disabled:e.disabled,name:se,value:he.value}):N(se,!0,he.value),{...je?{disabled:he.disabled||e.disabled}:{},...t.progressive?{required:!!he.required,min:Fx(he.min),max:Fx(he.max),minLength:Fx(he.minLength),maxLength:Fx(he.maxLength),pattern:Fx(he.pattern)}:{},name:se,onChange:M,onBlur:M,ref:$e=>{if($e){B(se,he),ce=gt(s,se);const De=Wn($e.value)&&$e.querySelectorAll&&$e.querySelectorAll("input,select,textarea")[0]||$e,de=zde(De),Ie=ce._f.refs||[];if(de?Ie.find(it=>it===De):De===ce._f.ref)return;$r(s,se,{_f:{...ce._f,...de?{refs:[...Ie.filter(rS),De,...Array.isArray(gt(a,se))?[{}]:[]],ref:{type:De.type,name:se}}:{ref:De}}}),N(se,!1,void 0,De)}else ce=gt(s,se,{}),ce._f&&(ce._f.mount=!1),(t.shouldUnregister||he.shouldUnregister)&&!(Ide(l.array,se)&&o.action)&&l.unMount.add(se)}}},Y=()=>t.shouldFocusError&&Sg(s,O,l.mount),ie=se=>{Dl(se)&&(f.state.next({disabled:se}),Sg(s,(he,ce)=>{const je=gt(s,ce);je&&(he.disabled=je._f.disabled||se,Array.isArray(je._f.refs)&&je._f.refs.forEach($e=>{$e.disabled=je._f.disabled||se}))},0,!1))},we=(se,he)=>async ce=>{let je;ce&&(ce.preventDefault&&ce.preventDefault(),ce.persist&&ce.persist());let $e=lo(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:De,values:de}=await E();r.errors=De,$e=de}else await k(s);if(fs(r.errors,"root"),Qa(r.errors)){f.state.next({errors:{}});try{await se($e,ce)}catch(De){je=De}}else he&&await he({...r.errors},ce),Y(),setTimeout(Y);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qa(r.errors)&&!je,submitCount:r.submitCount+1,errors:r.errors}),je)throw je},ue=(se,he={})=>{gt(s,se)&&(Wn(he.defaultValue)?P(se,lo(gt(a,se))):(P(se,he.defaultValue),$r(a,se,lo(he.defaultValue))),he.keepTouched||fs(r.touchedFields,se),he.keepDirty||(fs(r.dirtyFields,se),r.isDirty=he.defaultValue?I(se,lo(gt(a,se))):I()),he.keepError||(fs(r.errors,se),u.isValid&&g()),f.state.next({...r}))},ge=(se,he={})=>{const ce=se?lo(se):a,je=lo(ce),$e=Qa(se),De=$e?a:je;if(he.keepDefaultValues||(a=ce),!he.keepValues){if(he.keepDirtyValues){const de=new Set([...l.mount,...Object.keys(Mx(a,i))]);for(const Ie of Array.from(de))gt(r.dirtyFields,Ie)?$r(De,Ie,gt(i,Ie)):P(Ie,gt(De,Ie))}else{if(Jk&&Wn(se))for(const de of l.mount){const Ie=gt(s,de);if(Ie&&Ie._f){const it=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(Zb(it)){const wt=it.closest("form");if(wt){wt.reset();break}}}}s={}}i=e.shouldUnregister?he.keepDefaultValues?lo(a):{}:lo(De),f.array.next({values:{...De}}),f.values.next({values:{...De}})}l={mount:he.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!he.keepIsValid||!!he.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:he.keepSubmitCount?r.submitCount:0,isDirty:$e?!1:he.keepDirty?r.isDirty:!!(he.keepDefaultValues&&!Id(se,a)),isSubmitted:he.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:$e?{}:he.keepDirtyValues?he.keepDefaultValues&&i?Mx(a,i):r.dirtyFields:he.keepDefaultValues&&se?Mx(a,se):he.keepDirty?r.dirtyFields:{},touchedFields:he.keepTouched?r.touchedFields:{},errors:he.keepErrors?r.errors:{},isSubmitSuccessful:he.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},xe=(se,he)=>ge(Tc(se)?se(i):se,he);return{control:{register:B,unregister:le,getFieldState:R,handleSubmit:we,setError:L,_executeSchema:E,_getWatch:W,_getDirty:I,_updateValid:g,_removeUnmounted:D,_updateFieldArray:y,_updateDisabledField:fe,_getFieldArray:H,_reset:ge,_resetDefaultValues:()=>Tc(t.defaultValues)&&t.defaultValues().then(se=>{xe(se,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:se=>{r={...r,...se}},_disableForm:ie,_subjects:f,_proxyFormState:u,_setErrors:b,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(se){o=se},get _defaultValues(){return a},get _names(){return l},set _names(se){l=se},get _formState(){return r},set _formState(se){r=se},get _options(){return t},set _options(se){t={...t,...se}}},trigger:K,register:B,handleSubmit:we,watch:G,setValue:P,getValues:ne,reset:xe,resetField:ue,clearErrors:V,unregister:le,setError:L,setFocus:(se,he={})=>{const ce=gt(s,se),je=ce&&ce._f;if(je){const $e=je.refs?je.refs[0]:je.ref;$e.focus&&($e.focus(),he.shouldSelect&&$e.select())}},getFieldState:R}}function nT(e={}){const t=z.useRef(),r=z.useRef(),[s,a]=z.useState({isDirty:!1,isValidating:!1,isLoading:Tc(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Tc(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Xde(e),formState:s});const i=t.current.control;return i._options=e,$de({subject:i._subjects.state,next:o=>{Fde(o,i._proxyFormState,i._updateFormState)&&a({...i._formState})}}),z.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),z.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),z.useEffect(()=>{e.values&&!Id(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),z.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),z.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),z.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),z.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[s]),t.current.formState=Mde(s,i),t.current}const GI=(e,t,r)=>{if(e&&"reportValidity"in e){const s=gt(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},fV=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?GI(s.ref,r,e):s.refs&&s.refs.forEach(a=>GI(a,r,e))}},Qde=(e,t)=>{t.shouldUseNativeValidation&&fV(e,t);const r={};for(const s in e){const a=gt(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if(Zde(t.names||Object.keys(e),s)){const o=Object.assign({},gt(r,s));$r(o,"root",i),$r(r,s,o)}else $r(r,s,i)}return r},Zde=(e,t)=>e.some(r=>r.startsWith(t+"."));var Jde=function(e,t){for(var r={};e.length;){var s=e[0],a=s.code,i=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,d=c&&c[s.code];r[o]=aV(o,t,r,a,d?[].concat(d,s.message):s.message)}e.shift()}return r},sT=function(e,t,r){return r===void 0&&(r={}),function(s,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(d){return i.shouldUseNativeValidation&&fV({},i),{errors:{},values:r.raw?s:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Qde(Jde(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},pr;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(pr||(pr={}));var KI;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(KI||(KI={}));const pt=pr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),rf=e=>{switch(typeof e){case"undefined":return pt.undefined;case"string":return pt.string;case"number":return isNaN(e)?pt.nan:pt.number;case"boolean":return pt.boolean;case"function":return pt.function;case"bigint":return pt.bigint;case"symbol":return pt.symbol;case"object":return Array.isArray(e)?pt.array:e===null?pt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?pt.promise:typeof Map<"u"&&e instanceof Map?pt.map:typeof Set<"u"&&e instanceof Set?pt.set:typeof Date<"u"&&e instanceof Date?pt.date:pt.object;default:return pt.unknown}},Ye=pr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class No extends Error{constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),s}static assert(t){if(!(t instanceof No))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,pr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):s.push(t(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}No.create=e=>new No(e);const x0=(e,t)=>{let r;switch(e.code){case Ye.invalid_type:e.received===pt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ye.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,pr.jsonStringifyReplacer)}`;break;case Ye.unrecognized_keys:r=`Unrecognized key(s) in object: ${pr.joinValues(e.keys,", ")}`;break;case Ye.invalid_union:r="Invalid input";break;case Ye.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${pr.joinValues(e.options)}`;break;case Ye.invalid_enum_value:r=`Invalid enum value. Expected ${pr.joinValues(e.options)}, received '${e.received}'`;break;case Ye.invalid_arguments:r="Invalid function arguments";break;case Ye.invalid_return_type:r="Invalid function return type";break;case Ye.invalid_date:r="Invalid date";break;case Ye.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:pr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ye.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ye.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ye.custom:r="Invalid input";break;case Ye.invalid_intersection_types:r="Intersection results could not be merged";break;case Ye.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ye.not_finite:r="Number must be finite";break;default:r=t.defaultError,pr.assertNever(e)}return{message:r}};let eue=x0;function eE(){return eue}const tE=e=>{const{data:t,path:r,errorMaps:s,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function ut(e,t){const r=eE(),s=tE({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===x0?void 0:x0].filter(a=>!!a)});e.common.issues.push(s)}class Ba{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const a of r){if(a.status==="aborted")return $t;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const a of r){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return Ba.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return $t;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const $t=Object.freeze({status:"aborted"}),og=e=>({status:"dirty",value:e}),pi=e=>({status:"valid",value:e}),YI=e=>e.status==="aborted",XI=e=>e.status==="dirty",t1=e=>e.status==="valid",r1=e=>typeof Promise<"u"&&e instanceof Promise;function n1(e,t,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function mV(e,t,r,s,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var _t;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(_t||(_t={}));var lg,cg;class rc{constructor(t,r,s,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const QI=(e,t)=>{if(t1(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new No(e.common.issues);return this._error=r,this._error}}};function Gt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:a}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,d;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??s)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??r)!==null&&d!==void 0?d:l.defaultError}},description:a}}class ar{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return rf(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:rf(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ba,ctx:{common:t.parent.common,data:t.data,parsedType:rf(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(r1(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){var s;const a={common:{issues:[],async:(s=r==null?void 0:r.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:rf(t)},i=this._parseSync({data:t,path:a.path,parent:a});return QI(a,i)}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:rf(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(r1(a)?a:Promise.resolve(a));return QI(s,i)}refine(t,r){const s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:Ye.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(t){return new ed({schema:this,typeName:Rt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Fc.create(this,this._def)}nullable(){return qf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Yl.create(this,this._def)}promise(){return v0.create(this,this._def)}or(t){return i1.create([this,t],this._def)}and(t){return o1.create(this,t,this._def)}transform(t){return new ed({...Gt(this._def),schema:this,typeName:Rt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new f1({...Gt(this._def),innerType:this,defaultValue:r,typeName:Rt.ZodDefault})}brand(){return new gV({typeName:Rt.ZodBranded,type:this,...Gt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new m1({...Gt(this._def),innerType:this,catchValue:r,typeName:Rt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return FN.create(this,t)}readonly(){return h1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const tue=/^c[^\s-]{8,}$/i,rue=/^[0-9a-z]+$/,nue=/^[0-9A-HJKMNP-TV-Z]{26}$/,sue=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,aue=/^[a-z0-9_-]{21}$/i,iue=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,oue=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,lue="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let sS;const cue=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,due=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,uue=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,hV="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fue=new RegExp(`^${hV}$`);function pV(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function mue(e){return new RegExp(`^${pV(e)}$`)}function hue(e){let t=`${hV}T${pV(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function pue(e,t){return!!((t==="v4"||!t)&&cue.test(e)||(t==="v6"||!t)&&due.test(e))}class Oc extends ar{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==pt.string){const i=this._getOrReturnCtx(t);return ut(i,{code:Ye.invalid_type,expected:pt.string,received:i.parsedType}),$t}const s=new Ba;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:Ye.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:Ye.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?ut(a,{code:Ye.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&ut(a,{code:Ye.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")oue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"email",code:Ye.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")sS||(sS=new RegExp(lue,"u")),sS.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"emoji",code:Ye.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")sue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"uuid",code:Ye.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")aue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"nanoid",code:Ye.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")tue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"cuid",code:Ye.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")rue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"cuid2",code:Ye.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")nue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"ulid",code:Ye.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),ut(a,{validation:"url",code:Ye.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"regex",code:Ye.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Ye.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Ye.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Ye.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?hue(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Ye.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?fue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Ye.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?mue(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Ye.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?iue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"duration",code:Ye.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?pue(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"ip",code:Ye.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?uue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"base64",code:Ye.invalid_string,message:i.message}),s.dirty()):pr.assertNever(i);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(a=>t.test(a),{validation:r,code:Ye.invalid_string,..._t.errToObj(s)})}_addCheck(t){return new Oc({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",..._t.errToObj(t)})}url(t){return this._addCheck({kind:"url",..._t.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",..._t.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",..._t.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",..._t.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",..._t.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",..._t.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",..._t.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",..._t.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",..._t.errToObj(t)})}datetime(t){var r,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(s=t==null?void 0:t.local)!==null&&s!==void 0?s:!1,..._t.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,..._t.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",..._t.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,..._t.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,..._t.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,..._t.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,..._t.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,..._t.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,..._t.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,..._t.errToObj(r)})}nonempty(t){return this.min(1,_t.errToObj(t))}trim(){return new Oc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Oc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Oc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Oc.create=e=>{var t;return new Oc({checks:[],typeName:Rt.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Gt(e)})};function xue(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=r>s?r:s,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class Zh extends ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==pt.number){const i=this._getOrReturnCtx(t);return ut(i,{code:Ye.invalid_type,expected:pt.number,received:i.parsedType}),$t}let s;const a=new Ba;for(const i of this._def.checks)i.kind==="int"?pr.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),ut(s,{code:Ye.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Ye.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Ye.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?xue(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Ye.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),ut(s,{code:Ye.not_finite,message:i.message}),a.dirty()):pr.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,_t.toString(r))}gt(t,r){return this.setLimit("min",t,!1,_t.toString(r))}lte(t,r){return this.setLimit("max",t,!0,_t.toString(r))}lt(t,r){return this.setLimit("max",t,!1,_t.toString(r))}setLimit(t,r,s,a){return new Zh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:_t.toString(a)}]})}_addCheck(t){return new Zh({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:_t.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_t.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_t.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_t.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_t.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:_t.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:_t.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_t.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_t.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&pr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Zh.create=e=>new Zh({checks:[],typeName:Rt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Gt(e)});class Jh extends ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==pt.bigint){const i=this._getOrReturnCtx(t);return ut(i,{code:Ye.invalid_type,expected:pt.bigint,received:i.parsedType}),$t}let s;const a=new Ba;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Ye.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Ye.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Ye.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):pr.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,_t.toString(r))}gt(t,r){return this.setLimit("min",t,!1,_t.toString(r))}lte(t,r){return this.setLimit("max",t,!0,_t.toString(r))}lt(t,r){return this.setLimit("max",t,!1,_t.toString(r))}setLimit(t,r,s,a){return new Jh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:_t.toString(a)}]})}_addCheck(t){return new Jh({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_t.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_t.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_t.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_t.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:_t.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Jh.create=e=>{var t;return new Jh({checks:[],typeName:Rt.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Gt(e)})};class rE extends ar{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==pt.boolean){const s=this._getOrReturnCtx(t);return ut(s,{code:Ye.invalid_type,expected:pt.boolean,received:s.parsedType}),$t}return pi(t.data)}}rE.create=e=>new rE({typeName:Rt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Gt(e)});class g0 extends ar{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==pt.date){const i=this._getOrReturnCtx(t);return ut(i,{code:Ye.invalid_type,expected:pt.date,received:i.parsedType}),$t}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return ut(i,{code:Ye.invalid_date}),$t}const s=new Ba;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:Ye.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:Ye.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):pr.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new g0({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:_t.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:_t.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}g0.create=e=>new g0({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Rt.ZodDate,...Gt(e)});class nE extends ar{_parse(t){if(this._getType(t)!==pt.symbol){const s=this._getOrReturnCtx(t);return ut(s,{code:Ye.invalid_type,expected:pt.symbol,received:s.parsedType}),$t}return pi(t.data)}}nE.create=e=>new nE({typeName:Rt.ZodSymbol,...Gt(e)});class s1 extends ar{_parse(t){if(this._getType(t)!==pt.undefined){const s=this._getOrReturnCtx(t);return ut(s,{code:Ye.invalid_type,expected:pt.undefined,received:s.parsedType}),$t}return pi(t.data)}}s1.create=e=>new s1({typeName:Rt.ZodUndefined,...Gt(e)});class a1 extends ar{_parse(t){if(this._getType(t)!==pt.null){const s=this._getOrReturnCtx(t);return ut(s,{code:Ye.invalid_type,expected:pt.null,received:s.parsedType}),$t}return pi(t.data)}}a1.create=e=>new a1({typeName:Rt.ZodNull,...Gt(e)});class sE extends ar{constructor(){super(...arguments),this._any=!0}_parse(t){return pi(t.data)}}sE.create=e=>new sE({typeName:Rt.ZodAny,...Gt(e)});class vh extends ar{constructor(){super(...arguments),this._unknown=!0}_parse(t){return pi(t.data)}}vh.create=e=>new vh({typeName:Rt.ZodUnknown,...Gt(e)});class wu extends ar{_parse(t){const r=this._getOrReturnCtx(t);return ut(r,{code:Ye.invalid_type,expected:pt.never,received:r.parsedType}),$t}}wu.create=e=>new wu({typeName:Rt.ZodNever,...Gt(e)});class aE extends ar{_parse(t){if(this._getType(t)!==pt.undefined){const s=this._getOrReturnCtx(t);return ut(s,{code:Ye.invalid_type,expected:pt.void,received:s.parsedType}),$t}return pi(t.data)}}aE.create=e=>new aE({typeName:Rt.ZodVoid,...Gt(e)});class Yl extends ar{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),a=this._def;if(r.parsedType!==pt.array)return ut(r,{code:Ye.invalid_type,expected:pt.array,received:r.parsedType}),$t;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(ut(r,{code:o?Ye.too_big:Ye.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(ut(r,{code:Ye.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(ut(r,{code:Ye.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new rc(r,o,r.path,l)))).then(o=>Ba.mergeArray(s,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new rc(r,o,r.path,l)));return Ba.mergeArray(s,i)}get element(){return this._def.type}min(t,r){return new Yl({...this._def,minLength:{value:t,message:_t.toString(r)}})}max(t,r){return new Yl({...this._def,maxLength:{value:t,message:_t.toString(r)}})}length(t,r){return new Yl({...this._def,exactLength:{value:t,message:_t.toString(r)}})}nonempty(t){return this.min(1,t)}}Yl.create=(e,t)=>new Yl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Rt.ZodArray,...Gt(t)});function Bm(e){if(e instanceof In){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=Fc.create(Bm(s))}return new In({...e._def,shape:()=>t})}else return e instanceof Yl?new Yl({...e._def,type:Bm(e.element)}):e instanceof Fc?Fc.create(Bm(e.unwrap())):e instanceof qf?qf.create(Bm(e.unwrap())):e instanceof Jc?Jc.create(e.items.map(t=>Bm(t))):e}class In extends ar{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=pr.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==pt.object){const d=this._getOrReturnCtx(t);return ut(d,{code:Ye.invalid_type,expected:pt.object,received:d.parsedType}),$t}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof wu&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new rc(a,f,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof wu){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(ut(a,{code:Ye.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new rc(a,f,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,m=await u.value;d.push({key:f,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>Ba.mergeObjectSync(s,d)):Ba.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return _t.errToObj,new In({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,s).message)!==null&&o!==void 0?o:s.defaultError;return r.code==="unrecognized_keys"?{message:(l=_t.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new In({...this._def,unknownKeys:"strip"})}passthrough(){return new In({...this._def,unknownKeys:"passthrough"})}extend(t){return new In({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new In({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Rt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new In({...this._def,catchall:t})}pick(t){const r={};return pr.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new In({...this._def,shape:()=>r})}omit(t){const r={};return pr.objectKeys(this.shape).forEach(s=>{t[s]||(r[s]=this.shape[s])}),new In({...this._def,shape:()=>r})}deepPartial(){return Bm(this)}partial(t){const r={};return pr.objectKeys(this.shape).forEach(s=>{const a=this.shape[s];t&&!t[s]?r[s]=a:r[s]=a.optional()}),new In({...this._def,shape:()=>r})}required(t){const r={};return pr.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof Fc;)i=i._def.innerType;r[s]=i}}),new In({...this._def,shape:()=>r})}keyof(){return xV(pr.objectKeys(this.shape))}}In.create=(e,t)=>new In({shape:()=>e,unknownKeys:"strip",catchall:wu.create(),typeName:Rt.ZodObject,...Gt(t)});In.strictCreate=(e,t)=>new In({shape:()=>e,unknownKeys:"strict",catchall:wu.create(),typeName:Rt.ZodObject,...Gt(t)});In.lazycreate=(e,t)=>new In({shape:e,unknownKeys:"strip",catchall:wu.create(),typeName:Rt.ZodObject,...Gt(t)});class i1 extends ar{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new No(l.ctx.common.issues));return ut(r,{code:Ye.invalid_union,unionErrors:o}),$t}if(r.common.async)return Promise.all(s.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of s){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new No(c));return ut(r,{code:Ye.invalid_union,unionErrors:l}),$t}}get options(){return this._def.options}}i1.create=(e,t)=>new i1({options:e,typeName:Rt.ZodUnion,...Gt(t)});const yc=e=>e instanceof c1?yc(e.schema):e instanceof ed?yc(e.innerType()):e instanceof d1?[e.value]:e instanceof Hf?e.options:e instanceof u1?pr.objectValues(e.enum):e instanceof f1?yc(e._def.innerType):e instanceof s1?[void 0]:e instanceof a1?[null]:e instanceof Fc?[void 0,...yc(e.unwrap())]:e instanceof qf?[null,...yc(e.unwrap())]:e instanceof gV||e instanceof h1?yc(e.unwrap()):e instanceof m1?yc(e._def.innerType):[];class aT extends ar{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==pt.object)return ut(r,{code:Ye.invalid_type,expected:pt.object,received:r.parsedType}),$t;const s=this.discriminator,a=r.data[s],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(ut(r,{code:Ye.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),$t)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,s){const a=new Map;for(const i of r){const o=yc(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new aT({typeName:Rt.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...Gt(s)})}}function iE(e,t){const r=rf(e),s=rf(t);if(e===t)return{valid:!0,data:e};if(r===pt.object&&s===pt.object){const a=pr.objectKeys(t),i=pr.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=iE(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===pt.array&&s===pt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=iE(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===pt.date&&s===pt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class o1 extends ar{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(YI(i)||YI(o))return $t;const l=iE(i.value,o.value);return l.valid?((XI(i)||XI(o))&&r.dirty(),{status:r.value,value:l.data}):(ut(s,{code:Ye.invalid_intersection_types}),$t)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}o1.create=(e,t,r)=>new o1({left:e,right:t,typeName:Rt.ZodIntersection,...Gt(r)});class Jc extends ar{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==pt.array)return ut(s,{code:Ye.invalid_type,expected:pt.array,received:s.parsedType}),$t;if(s.data.length<this._def.items.length)return ut(s,{code:Ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$t;!this._def.rest&&s.data.length>this._def.items.length&&(ut(s,{code:Ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new rc(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>Ba.mergeArray(r,o)):Ba.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Jc({...this._def,rest:t})}}Jc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Jc({items:e,typeName:Rt.ZodTuple,rest:null,...Gt(t)})};class l1 extends ar{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==pt.object)return ut(s,{code:Ye.invalid_type,expected:pt.object,received:s.parsedType}),$t;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in s.data)a.push({key:i._parse(new rc(s,l,s.path,l)),value:o._parse(new rc(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?Ba.mergeObjectAsync(r,a):Ba.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,s){return r instanceof ar?new l1({keyType:t,valueType:r,typeName:Rt.ZodRecord,...Gt(s)}):new l1({keyType:Oc.create(),valueType:t,typeName:Rt.ZodRecord,...Gt(r)})}}class oE extends ar{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==pt.map)return ut(s,{code:Ye.invalid_type,expected:pt.map,received:s.parsedType}),$t;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:a._parse(new rc(s,l,s.path,[d,"key"])),value:i._parse(new rc(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return $t;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return $t;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}oE.create=(e,t,r)=>new oE({valueType:t,keyType:e,typeName:Rt.ZodMap,...Gt(r)});class ep extends ar{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==pt.set)return ut(s,{code:Ye.invalid_type,expected:pt.set,received:s.parsedType}),$t;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(ut(s,{code:Ye.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(ut(s,{code:Ye.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return $t;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...s.data.values()].map((c,d)=>i._parse(new rc(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new ep({...this._def,minSize:{value:t,message:_t.toString(r)}})}max(t,r){return new ep({...this._def,maxSize:{value:t,message:_t.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}ep.create=(e,t)=>new ep({valueType:e,minSize:null,maxSize:null,typeName:Rt.ZodSet,...Gt(t)});class Cg extends ar{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==pt.function)return ut(r,{code:Ye.invalid_type,expected:pt.function,received:r.parsedType}),$t;function s(l,c){return tE({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,eE(),x0].filter(d=>!!d),issueData:{code:Ye.invalid_arguments,argumentsError:c}})}function a(l,c){return tE({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,eE(),x0].filter(d=>!!d),issueData:{code:Ye.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof v0){const l=this;return pi(async function(...c){const d=new No([]),u=await l._def.args.parseAsync(c,i).catch(h=>{throw d.addIssue(s(c,h)),d}),f=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(f,i).catch(h=>{throw d.addIssue(a(f,h)),d})})}else{const l=this;return pi(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new No([s(c,d.error)]);const u=Reflect.apply(o,this,d.data),f=l._def.returns.safeParse(u,i);if(!f.success)throw new No([a(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Cg({...this._def,args:Jc.create(t).rest(vh.create())})}returns(t){return new Cg({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,s){return new Cg({args:t||Jc.create([]).rest(vh.create()),returns:r||vh.create(),typeName:Rt.ZodFunction,...Gt(s)})}}class c1 extends ar{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}c1.create=(e,t)=>new c1({getter:e,typeName:Rt.ZodLazy,...Gt(t)});class d1 extends ar{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ut(r,{received:r.data,code:Ye.invalid_literal,expected:this._def.value}),$t}return{status:"valid",value:t.data}}get value(){return this._def.value}}d1.create=(e,t)=>new d1({value:e,typeName:Rt.ZodLiteral,...Gt(t)});function xV(e,t){return new Hf({values:e,typeName:Rt.ZodEnum,...Gt(t)})}class Hf extends ar{constructor(){super(...arguments),lg.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return ut(r,{expected:pr.joinValues(s),received:r.parsedType,code:Ye.invalid_type}),$t}if(n1(this,lg)||mV(this,lg,new Set(this._def.values)),!n1(this,lg).has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return ut(r,{received:r.data,code:Ye.invalid_enum_value,options:s}),$t}return pi(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Hf.create(t,{...this._def,...r})}exclude(t,r=this._def){return Hf.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}lg=new WeakMap;Hf.create=xV;class u1 extends ar{constructor(){super(...arguments),cg.set(this,void 0)}_parse(t){const r=pr.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==pt.string&&s.parsedType!==pt.number){const a=pr.objectValues(r);return ut(s,{expected:pr.joinValues(a),received:s.parsedType,code:Ye.invalid_type}),$t}if(n1(this,cg)||mV(this,cg,new Set(pr.getValidEnumValues(this._def.values))),!n1(this,cg).has(t.data)){const a=pr.objectValues(r);return ut(s,{received:s.data,code:Ye.invalid_enum_value,options:a}),$t}return pi(t.data)}get enum(){return this._def.values}}cg=new WeakMap;u1.create=(e,t)=>new u1({values:e,typeName:Rt.ZodNativeEnum,...Gt(t)});class v0 extends ar{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==pt.promise&&r.common.async===!1)return ut(r,{code:Ye.invalid_type,expected:pt.promise,received:r.parsedType}),$t;const s=r.parsedType===pt.promise?r.data:Promise.resolve(r.data);return pi(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}v0.create=(e,t)=>new v0({type:e,typeName:Rt.ZodPromise,...Gt(t)});class ed extends ar{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Rt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{ut(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return $t;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?$t:c.status==="dirty"||r.value==="dirty"?og(c.value):c});{if(r.value==="aborted")return $t;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?$t:l.status==="dirty"||r.value==="dirty"?og(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?$t:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?$t:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!t1(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>t1(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);pr.assertNever(a)}}ed.create=(e,t,r)=>new ed({schema:e,typeName:Rt.ZodEffects,effect:t,...Gt(r)});ed.createWithPreprocess=(e,t,r)=>new ed({schema:t,effect:{type:"preprocess",transform:e},typeName:Rt.ZodEffects,...Gt(r)});class Fc extends ar{_parse(t){return this._getType(t)===pt.undefined?pi(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Fc.create=(e,t)=>new Fc({innerType:e,typeName:Rt.ZodOptional,...Gt(t)});class qf extends ar{_parse(t){return this._getType(t)===pt.null?pi(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}qf.create=(e,t)=>new qf({innerType:e,typeName:Rt.ZodNullable,...Gt(t)});class f1 extends ar{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===pt.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}f1.create=(e,t)=>new f1({innerType:e,typeName:Rt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Gt(t)});class m1 extends ar{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return r1(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new No(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new No(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}m1.create=(e,t)=>new m1({innerType:e,typeName:Rt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Gt(t)});class lE extends ar{_parse(t){if(this._getType(t)!==pt.nan){const s=this._getOrReturnCtx(t);return ut(s,{code:Ye.invalid_type,expected:pt.nan,received:s.parsedType}),$t}return{status:"valid",value:t.data}}}lE.create=e=>new lE({typeName:Rt.ZodNaN,...Gt(e)});class gV extends ar{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class FN extends ar{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?$t:i.status==="dirty"?(r.dirty(),og(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?$t:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,r){return new FN({in:t,out:r,typeName:Rt.ZodPipeline})}}class h1 extends ar{_parse(t){const r=this._def.innerType._parse(t),s=a=>(t1(a)&&(a.value=Object.freeze(a.value)),a);return r1(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}}h1.create=(e,t)=>new h1({innerType:e,typeName:Rt.ZodReadonly,...Gt(t)});In.lazycreate;var Rt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Rt||(Rt={}));const hf=Oc.create;Zh.create;lE.create;Jh.create;rE.create;g0.create;nE.create;s1.create;a1.create;sE.create;vh.create;wu.create;aE.create;Yl.create;const iT=In.create;In.strictCreate;i1.create;aT.create;o1.create;Jc.create;l1.create;oE.create;ep.create;Cg.create;c1.create;d1.create;Hf.create;u1.create;v0.create;ed.create;Fc.create;qf.create;ed.createWithPreprocess;FN.create;const y0=Bp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=v.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},i)=>{const o=s?Jl:"button";return n.jsx(o,{className:ve(y0({variant:t,size:r,className:e})),ref:i,...a})});ee.displayName="Button";const me=v.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));me.displayName="Input";var gue="Label",vV=v.forwardRef((e,t)=>n.jsx(ft.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));vV.displayName=gue;var yV=vV;const vue=Bp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),q=v.forwardRef(({className:e,...t},r)=>n.jsx(yV,{ref:r,className:ve(vue(),e),...t}));q.displayName=yV.displayName;const yue=iT({email:hf().email("Please enter a valid email address"),password:hf().min(6,"Password must be at least 6 characters")});function jue(){const[e,t]=v.useState(!1),[r,s]=v.useState(!1),{login:a,loginWithGoogle:i,loginWithFacebook:o,loginWithTwitter:l}=Gv(),{toast:c}=gr(),d=mr(),{theme:u,setTheme:f}=Vp(),{register:m,handleSubmit:h,formState:{errors:x}}=nT({resolver:sT(yue)}),p=async j=>{s(!0);try{await a(j.email,j.password),c({title:"Welcome back!",description:"You have successfully logged in."}),d("/overview")}catch(y){c({title:"Login failed",description:y.message||"Please check your credentials and try again.",variant:"destructive"})}finally{s(!1)}},g=async j=>{s(!0);try{j==="google"?await i():j==="facebook"?await o():await l()}catch(y){c({title:"Login failed",description:y.message||"Something went wrong. Please try again.",variant:"destructive"}),s(!1)}};return n.jsxs("div",{className:"min-h-screen flex",children:[n.jsxs("div",{className:"flex-1 flex items-center justify-center p-8 lg:p-12 bg-background relative",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>f(u==="dark"?"light":"dark"),className:"absolute top-4 right-4 z-10",children:u==="dark"?n.jsx(Lv,{className:"h-5 w-5"}):n.jsx(Fv,{className:"h-5 w-5"})}),n.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Welcome back"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Sign in to continue to your account"})]}),n.jsxs("form",{onSubmit:h(p),className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"email",className:"text-sm font-semibold",children:"Email address"}),n.jsx(me,{id:"email",type:"email",placeholder:"name@example.com",...m("email"),className:`h-12 text-base ${x.email?"border-destructive":""}`}),x.email&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:x.email.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(q,{htmlFor:"password",className:"text-sm font-semibold",children:"Password"}),n.jsx(Ki,{to:"/forgot-password",className:"text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:"Forgot?"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"password",type:e?"text":"password",placeholder:"Enter your password",...m("password"),className:`h-12 text-base pr-12 ${x.password?"border-destructive":""}`}),n.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:e?n.jsx(mh,{className:"h-5 w-5"}):n.jsx(oi,{className:"h-5 w-5"})})]}),x.password&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:x.password.message})]}),n.jsx(ee,{type:"submit",className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all shadow-md",disabled:r,children:r?"Signing in...":"Sign in"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t border-border"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"bg-background px-4 text-muted-foreground font-medium",children:"or"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(ee,{type:"button",variant:"outline",className:"w-full h-12 text-base font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>g("google"),disabled:r,children:[n.jsx(u7,{className:"mr-3 h-5 w-5"}),"Continue with Google"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs(ee,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>g("facebook"),disabled:r,children:[n.jsx(h7,{className:"mr-2 h-5 w-5"}),"Facebook"]}),n.jsxs(ee,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>g("twitter"),disabled:r,children:[n.jsx(j7,{className:"mr-2 h-5 w-5"}),"Twitter"]})]})]}),n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-muted-foreground",children:["Don't have an account?"," ",n.jsx(Ki,{to:"/signup",className:"text-primary font-semibold hover:text-primary/80 transition-colors",children:"Create account"})]})})]})]}),n.jsxs("div",{className:"hidden lg:flex lg:flex-1 bg-gradient-to-br from-primary via-primary/90 to-accent relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"}),n.jsx("div",{className:"relative flex flex-col items-center justify-center p-12 text-white",children:n.jsxs("div",{className:"max-w-md space-y-6 animate-fade-in",children:[n.jsx("h2",{className:"text-5xl font-bold leading-tight",children:"Manage your business with ease"}),n.jsx("p",{className:"text-xl text-white/90 leading-relaxed",children:"Streamline your operations, track your inventory, and grow your business with our all-in-one platform."}),n.jsxs("div",{className:"flex items-center gap-2 pt-8",children:[n.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(j=>n.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 border-2 border-white flex items-center justify-center backdrop-blur-sm",children:n.jsx("span",{className:"text-sm font-semibold",children:j})},j))}),n.jsx("p",{className:"text-sm text-white/80 font-medium",children:"Trusted by 1000+ businesses"})]})]})}),n.jsx("div",{className:"absolute top-20 right-20 w-72 h-72 bg-white/10 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 bg-accent/20 rounded-full blur-3xl"})]})]})}const bue=iT({name:hf().min(2,"Name must be at least 2 characters").max(100,"Name is too long"),email:hf().email("Please enter a valid email address").max(255,"Email is too long"),password:hf().min(8,"Password must be at least 8 characters").max(100,"Password is too long").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:hf()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function wue(){const[e,t]=v.useState(!1),[r,s]=v.useState(!1),[a,i]=v.useState(!1),{signup:o,loginWithGoogle:l,loginWithFacebook:c,loginWithTwitter:d}=Gv(),{toast:u}=gr(),f=mr(),{theme:m,setTheme:h}=Vp(),{register:x,handleSubmit:p,formState:{errors:g},watch:j}=nT({resolver:sT(bue)}),y=j("password",""),w=[{label:"At least 8 characters",met:y.length>=8},{label:"One uppercase letter",met:/[A-Z]/.test(y)},{label:"One lowercase letter",met:/[a-z]/.test(y)},{label:"One number",met:/[0-9]/.test(y)}],b=async S=>{i(!0);try{await o(S.email,S.password,S.name),u({title:"Account created!",description:"Please check your email to verify your account."}),f("/overview")}catch(_){u({title:"Signup failed",description:_.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{i(!1)}},N=async S=>{i(!0);try{S==="google"?await l():S==="facebook"?await c():await d()}catch(_){u({title:"Signup failed",description:_.message||"Something went wrong. Please try again.",variant:"destructive"}),i(!1)}};return n.jsxs("div",{className:"min-h-screen flex",children:[n.jsxs("div",{className:"hidden lg:flex lg:flex-1 bg-gradient-to-br from-accent via-accent/90 to-primary relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"}),n.jsx("div",{className:"relative flex flex-col items-center justify-center p-12 text-white",children:n.jsxs("div",{className:"max-w-md space-y-6 animate-fade-in",children:[n.jsx("h2",{className:"text-5xl font-bold leading-tight",children:"Start your journey today"}),n.jsx("p",{className:"text-xl text-white/90 leading-relaxed",children:"Join thousands of businesses already using our platform to streamline their operations and boost productivity."}),n.jsx("div",{className:"grid grid-cols-2 gap-6 pt-8",children:[{label:"Active Users",value:"10,000+"},{label:"Success Rate",value:"99.9%"},{label:"Countries",value:"50+"},{label:"Support 24/7",value:"Available"}].map(S=>n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-3xl font-bold",children:S.value}),n.jsx("p",{className:"text-sm text-white/80",children:S.label})]},S.label))})]})}),n.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-white/10 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-primary/20 rounded-full blur-3xl"})]}),n.jsxs("div",{className:"flex-1 flex items-center justify-center p-8 lg:p-12 bg-background overflow-y-auto relative",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>h(m==="dark"?"light":"dark"),className:"absolute top-4 right-4 z-10",children:m==="dark"?n.jsx(Lv,{className:"h-5 w-5"}):n.jsx(Fv,{className:"h-5 w-5"})}),n.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Create account"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Start your free trial today"})]}),n.jsxs("form",{onSubmit:p(b),className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"name",className:"text-sm font-semibold",children:"Full name"}),n.jsx(me,{id:"name",type:"text",placeholder:"John Doe",...x("name"),className:`h-12 text-base ${g.name?"border-destructive":""}`}),g.name&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:g.name.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"email",className:"text-sm font-semibold",children:"Email address"}),n.jsx(me,{id:"email",type:"email",placeholder:"name@example.com",...x("email"),className:`h-12 text-base ${g.email?"border-destructive":""}`}),g.email&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:g.email.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"password",className:"text-sm font-semibold",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"password",type:e?"text":"password",placeholder:"Create a strong password",...x("password"),className:`h-12 text-base pr-12 ${g.password?"border-destructive":""}`}),n.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:e?n.jsx(mh,{className:"h-5 w-5"}):n.jsx(oi,{className:"h-5 w-5"})})]}),y&&n.jsx("div",{className:"space-y-2 pt-2",children:w.map(S=>n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(or,{className:`h-4 w-4 ${S.met?"text-success":"text-muted-foreground"}`}),n.jsx("span",{className:S.met?"text-success":"text-muted-foreground",children:S.label})]},S.label))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"confirmPassword",className:"text-sm font-semibold",children:"Confirm password"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"confirmPassword",type:r?"text":"password",placeholder:"Confirm your password",...x("confirmPassword"),className:`h-12 text-base pr-12 ${g.confirmPassword?"border-destructive":""}`}),n.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:r?n.jsx(mh,{className:"h-5 w-5"}):n.jsx(oi,{className:"h-5 w-5"})})]}),g.confirmPassword&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:g.confirmPassword.message})]}),n.jsx(ee,{type:"submit",className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all shadow-md",disabled:a,children:a?"Creating account...":"Create account"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t border-border"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"bg-background px-4 text-muted-foreground font-medium",children:"or"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(ee,{type:"button",variant:"outline",className:"w-full h-12 text-base font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>N("google"),disabled:a,children:[n.jsx(u7,{className:"mr-3 h-5 w-5"}),"Continue with Google"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs(ee,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>N("facebook"),disabled:a,children:[n.jsx(h7,{className:"mr-2 h-5 w-5"}),"Facebook"]}),n.jsxs(ee,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>N("twitter"),disabled:a,children:[n.jsx(j7,{className:"mr-2 h-5 w-5"}),"Twitter"]})]})]}),n.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["By creating an account, you agree to our"," ",n.jsx("a",{href:"#",className:"text-primary hover:underline font-medium",children:"Terms of Service"})," ","and"," ",n.jsx("a",{href:"#",className:"text-primary hover:underline font-medium",children:"Privacy Policy"})]}),n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",n.jsx(Ki,{to:"/login",className:"text-primary font-semibold hover:text-primary/80 transition-colors",children:"Sign in"})]})})]})]})]})}const Nue=iT({email:hf().email("Please enter a valid email address").max(255,"Email is too long")});function _ue(){const[e,t]=v.useState(!1),[r,s]=v.useState(!1),{resetPassword:a}=Gv(),{toast:i}=gr(),{theme:o,setTheme:l}=Vp(),{register:c,handleSubmit:d,formState:{errors:u},getValues:f}=nT({resolver:sT(Nue)}),m=async h=>{t(!0);try{await a(h.email),s(!0),i({title:"Email sent!",description:"Check your inbox for password reset instructions."})}catch(x){i({title:"Failed to send email",description:x.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{t(!1)}};return n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-accent/5 p-4 relative",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>l(o==="dark"?"light":"dark"),className:"absolute top-4 right-4 z-10",children:o==="dark"?n.jsx(Lv,{className:"h-5 w-5"}):n.jsx(Fv,{className:"h-5 w-5"})}),n.jsx("div",{className:"w-full max-w-md",children:n.jsx("div",{className:"bg-card rounded-3xl shadow-2xl border border-border p-8 lg:p-10 animate-fade-in",children:r?n.jsx(n.Fragment,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-success/10 mb-6",children:n.jsx(Ur,{className:"h-10 w-10 text-success"})}),n.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-foreground mb-3",children:"Check your email"}),n.jsx("p",{className:"text-muted-foreground text-base mb-6 leading-relaxed",children:"We've sent password reset instructions to"}),n.jsx("p",{className:"font-semibold text-foreground text-lg mb-6",children:f("email")}),n.jsx("div",{className:"bg-muted/50 rounded-xl p-4 mb-6",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Didn't receive the email? Check your spam folder or"," ",n.jsx("button",{type:"button",onClick:()=>s(!1),className:"text-primary hover:underline font-medium",children:"try another email address"})]})}),n.jsx(Ki,{to:"/login",children:n.jsx(ee,{className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all",children:"Back to login"})})]})}):n.jsxs(n.Fragment,{children:[n.jsxs(Ki,{to:"/login",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-8 transition-colors group",children:[n.jsx(sr,{className:"mr-2 h-4 w-4 group-hover:-translate-x-1 transition-transform"}),"Back to login"]}),n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary/10 mb-6",children:n.jsx(gn,{className:"h-8 w-8 text-primary"})}),n.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-foreground mb-3",children:"Forgot password?"}),n.jsx("p",{className:"text-muted-foreground text-base lg:text-lg leading-relaxed",children:"No worries! Enter your email and we'll send you reset instructions."})]}),n.jsxs("form",{onSubmit:d(m),className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"email",className:"text-sm font-semibold",children:"Email address"}),n.jsx(me,{id:"email",type:"email",placeholder:"name@example.com",...c("email"),className:`h-12 text-base ${u.email?"border-destructive":""}`}),u.email&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:u.email.message})]}),n.jsx(ee,{type:"submit",className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all shadow-md",disabled:e,children:e?"Sending...":"Send reset instructions"})]})]})})})]})}var oT="Avatar",[Sue,Rnt]=ra(oT),[Cue,jV]=Sue(oT),bV=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...s}=e,[a,i]=v.useState("idle");return n.jsx(Cue,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:n.jsx(ft.span,{...s,ref:t})})});bV.displayName=oT;var wV="AvatarImage",NV=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=jV(wV,r),l=Eue(s,i.referrerPolicy),c=mn(d=>{a(d),o.onImageLoadingStatusChange(d)});return is(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?n.jsx(ft.img,{...i,ref:t,src:s}):null});NV.displayName=wV;var _V="AvatarFallback",SV=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:s,...a}=e,i=jV(_V,r),[o,l]=v.useState(s===void 0);return v.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(ft.span,{...a,ref:t}):null});SV.displayName=_V;function Eue(e,t){const[r,s]=v.useState("idle");return is(()=>{if(!e){s("error");return}let a=!0;const i=new window.Image,o=l=>()=>{a&&s(l)};return s("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{a=!1}},[e,t]),r}var CV=bV,EV=NV,AV=SV;const cE=v.forwardRef(({className:e,...t},r)=>n.jsx(CV,{ref:r,className:ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));cE.displayName=CV.displayName;const Aue=v.forwardRef(({className:e,...t},r)=>n.jsx(EV,{ref:r,className:ve("aspect-square h-full w-full",e),...t}));Aue.displayName=EV.displayName;const dE=v.forwardRef(({className:e,...t},r)=>n.jsx(AV,{ref:r,className:ve("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));dE.displayName=AV.displayName;var Pue=v.createContext(void 0);function dm(e){const t=v.useContext(Pue);return e||t||"ltr"}var aS=0;function $N(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ZI()),document.body.insertAdjacentElement("beforeend",e[1]??ZI()),aS++,()=>{aS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),aS--}},[])}function ZI(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var iS="focusScope.autoFocusOnMount",oS="focusScope.autoFocusOnUnmount",JI={bubbles:!1,cancelable:!0},kue="FocusScope",Yv=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),d=mn(a),u=mn(i),f=v.useRef(null),m=Ft(t,p=>c(p)),h=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(s){let p=function(w){if(h.paused||!l)return;const b=w.target;l.contains(b)?f.current=b:Cd(f.current,{select:!0})},g=function(w){if(h.paused||!l)return;const b=w.relatedTarget;b!==null&&(l.contains(b)||Cd(f.current,{select:!0}))},j=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Cd(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const y=new MutationObserver(j);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),y.disconnect()}}},[s,l,h.paused]),v.useEffect(()=>{if(l){tR.add(h);const p=document.activeElement;if(!l.contains(p)){const j=new CustomEvent(iS,JI);l.addEventListener(iS,d),l.dispatchEvent(j),j.defaultPrevented||(Tue(Mue(PV(l)),{select:!0}),document.activeElement===p&&Cd(l))}return()=>{l.removeEventListener(iS,d),setTimeout(()=>{const j=new CustomEvent(oS,JI);l.addEventListener(oS,u),l.dispatchEvent(j),j.defaultPrevented||Cd(p??document.body,{select:!0}),l.removeEventListener(oS,u),tR.remove(h)},0)}}},[l,d,u,h]);const x=v.useCallback(p=>{if(!r&&!s||h.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,j=document.activeElement;if(g&&j){const y=p.currentTarget,[w,b]=Oue(y);w&&b?!p.shiftKey&&j===b?(p.preventDefault(),r&&Cd(w,{select:!0})):p.shiftKey&&j===w&&(p.preventDefault(),r&&Cd(b,{select:!0})):j===y&&p.preventDefault()}},[r,s,h.paused]);return n.jsx(ft.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});Yv.displayName=kue;function Tue(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Cd(s,{select:t}),document.activeElement!==r)return}function Oue(e){const t=PV(e),r=eR(t,e),s=eR(t.reverse(),e);return[r,s]}function PV(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function eR(e,t){for(const r of e)if(!Due(r,{upTo:t}))return r}function Due(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Iue(e){return e instanceof HTMLInputElement&&"select"in e}function Cd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Iue(e)&&t&&e.select()}}var tR=Rue();function Rue(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=rR(e,t),e.unshift(t)},remove(t){var r;e=rR(e,t),(r=e[0])==null||r.resume()}}}function rR(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function Mue(e){return e.filter(t=>t.tagName!=="A")}function Fue(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,$ue(a,...t)]}function $ue(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var lS="rovingFocusGroup.onEntryFocus",Lue={bubbles:!1,cancelable:!0},LN="RovingFocusGroup",[uE,kV,Bue]=Dv(LN),[Uue,Xp]=Fue(LN,[Bue]),[Vue,zue]=Uue(LN),TV=v.forwardRef((e,t)=>n.jsx(uE.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(uE.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Wue,{...e,ref:t})})}));TV.displayName=LN;var Wue=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,m=v.useRef(null),h=Ft(t,m),x=dm(i),[p=null,g]=$a({prop:o,defaultProp:l,onChange:c}),[j,y]=v.useState(!1),w=mn(d),b=kV(r),N=v.useRef(!1),[S,_]=v.useState(0);return v.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(lS,w),()=>E.removeEventListener(lS,w)},[w]),n.jsx(Vue,{scope:r,orientation:s,dir:x,loop:a,currentTabStopId:p,onItemFocus:v.useCallback(E=>g(E),[g]),onItemShiftTab:v.useCallback(()=>y(!0),[]),onFocusableItemAdd:v.useCallback(()=>_(E=>E+1),[]),onFocusableItemRemove:v.useCallback(()=>_(E=>E-1),[]),children:n.jsx(ft.div,{tabIndex:j||S===0?-1:0,"data-orientation":s,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:He(e.onMouseDown,()=>{N.current=!0}),onFocus:He(e.onFocus,E=>{const A=!N.current;if(E.target===E.currentTarget&&A&&!j){const k=new CustomEvent(lS,Lue);if(E.currentTarget.dispatchEvent(k),!k.defaultPrevented){const D=b().filter(T=>T.focusable),I=D.find(T=>T.active),W=D.find(T=>T.id===p),F=[I,W,...D].filter(Boolean).map(T=>T.ref.current);IV(F,u)}}N.current=!1}),onBlur:He(e.onBlur,()=>y(!1))})})}),OV="RovingFocusGroupItem",DV=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,...o}=e,l=di(),c=i||l,d=zue(OV,r),u=d.currentTabStopId===c,f=kV(r),{onFocusableItemAdd:m,onFocusableItemRemove:h}=d;return v.useEffect(()=>{if(s)return m(),()=>h()},[s,m,h]),n.jsx(uE.ItemSlot,{scope:r,id:c,focusable:s,active:a,children:n.jsx(ft.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:He(e.onMouseDown,x=>{s?d.onItemFocus(c):x.preventDefault()}),onFocus:He(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:He(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const p=Gue(x,d.orientation,d.dir);if(p!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let j=f().filter(y=>y.focusable).map(y=>y.ref.current);if(p==="last")j.reverse();else if(p==="prev"||p==="next"){p==="prev"&&j.reverse();const y=j.indexOf(x.currentTarget);j=d.loop?Kue(j,y+1):j.slice(y+1)}setTimeout(()=>IV(j))}})})})});DV.displayName=OV;var Hue={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function que(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Gue(e,t,r){const s=que(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Hue[s]}function IV(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function Kue(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var lT=TV,cT=DV,Yue=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Em=new WeakMap,aj=new WeakMap,ij={},cS=0,RV=function(e){return e&&(e.host||RV(e.parentNode))},Xue=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=RV(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Que=function(e,t,r,s){var a=Xue(t,Array.isArray(e)?e:[e]);ij[r]||(ij[r]=new WeakMap);var i=ij[r],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))u(m);else try{var h=m.getAttribute(s),x=h!==null&&h!=="false",p=(Em.get(m)||0)+1,g=(i.get(m)||0)+1;Em.set(m,p),i.set(m,g),o.push(m),p===1&&x&&aj.set(m,!0),g===1&&m.setAttribute(r,"true"),x||m.setAttribute(s,"true")}catch(j){console.error("aria-hidden: cannot operate on ",m,j)}})};return u(t),l.clear(),cS++,function(){o.forEach(function(f){var m=Em.get(f)-1,h=i.get(f)-1;Em.set(f,m),i.set(f,h),m||(aj.has(f)||f.removeAttribute(s),aj.delete(f)),h||f.removeAttribute(r)}),cS--,cS||(Em=new WeakMap,Em=new WeakMap,aj=new WeakMap,ij={})}},Xv=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=Yue(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),Que(s,a,r,"aria-hidden")):function(){return null}},fa=function(){return fa=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},fa.apply(this,arguments)};function dT(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function MV(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var Eg="right-scroll-bar-position",Ag="width-before-scroll-bar",Zue="with-scroll-bars-hidden",Jue="--removed-body-scroll-bar-size";function dS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function efe(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var tfe=typeof window<"u"?v.useLayoutEffect:v.useEffect,nR=new WeakMap;function FV(e,t){var r=efe(null,function(s){return e.forEach(function(a){return dS(a,s)})});return tfe(function(){var s=nR.get(r);if(s){var a=new Set(s),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||dS(l,null)}),i.forEach(function(l){a.has(l)||dS(l,o)})}nR.set(r,e)},[e]),r}function rfe(e){return e}function nfe(e,t){t===void 0&&(t=rfe);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function $V(e){e===void 0&&(e={});var t=nfe(null);return t.options=fa({async:!0,ssr:!1},e),t}var LV=function(e){var t=e.sideCar,r=dT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return v.createElement(s,fa({},r))};LV.isSideCarExport=!0;function BV(e,t){return e.useMedium(t),LV}var UV=$V(),uS=function(){},BN=v.forwardRef(function(e,t){var r=v.useRef(null),s=v.useState({onScrollCapture:uS,onWheelCapture:uS,onTouchMoveCapture:uS}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,h=e.noIsolation,x=e.inert,p=e.allowPinchZoom,g=e.as,j=g===void 0?"div":g,y=e.gapMode,w=dT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=m,N=FV([r,t]),S=fa(fa({},w),a);return v.createElement(v.Fragment,null,u&&v.createElement(b,{sideCar:UV,removeScrollBar:d,shards:f,noIsolation:h,inert:x,setCallbacks:i,allowPinchZoom:!!p,lockRef:r,gapMode:y}),o?v.cloneElement(v.Children.only(l),fa(fa({},S),{ref:N})):v.createElement(j,fa({},S,{className:c,ref:N}),l))});BN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};BN.classNames={fullWidth:Ag,zeroRight:Eg};var sfe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function afe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=sfe();return t&&e.setAttribute("nonce",t),e}function ife(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ofe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var lfe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=afe())&&(ife(t,r),ofe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},cfe=function(){var e=lfe();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},uT=function(){var e=cfe(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},dfe={left:0,top:0,right:0,gap:0},fS=function(e){return parseInt(e||"",10)||0},ufe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[fS(r),fS(s),fS(a)]},ffe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return dfe;var t=ufe(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},mfe=uT(),yh="data-scroll-locked",hfe=function(e,t,r,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Zue,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(yh,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Eg,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Ag,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Eg," .").concat(Eg,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Ag," .").concat(Ag,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(yh,`] {
    `).concat(Jue,": ").concat(l,`px;
  }
`)},sR=function(){var e=parseInt(document.body.getAttribute(yh)||"0",10);return isFinite(e)?e:0},pfe=function(){v.useEffect(function(){return document.body.setAttribute(yh,(sR()+1).toString()),function(){var e=sR()-1;e<=0?document.body.removeAttribute(yh):document.body.setAttribute(yh,e.toString())}},[])},VV=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;pfe();var i=v.useMemo(function(){return ffe(a)},[a]);return v.createElement(mfe,{styles:hfe(i,!t,a,r?"":"!important")})},fE=!1;if(typeof window<"u")try{var oj=Object.defineProperty({},"passive",{get:function(){return fE=!0,!0}});window.addEventListener("test",oj,oj),window.removeEventListener("test",oj,oj)}catch{fE=!1}var Am=fE?{passive:!1}:!1,xfe=function(e){return e.tagName==="TEXTAREA"},zV=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!xfe(e)&&r[t]==="visible")},gfe=function(e){return zV(e,"overflowY")},vfe=function(e){return zV(e,"overflowX")},aR=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=WV(e,s);if(a){var i=HV(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},yfe=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},jfe=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},WV=function(e,t){return e==="v"?gfe(t):vfe(t)},HV=function(e,t){return e==="v"?yfe(t):jfe(t)},bfe=function(e,t){return e==="h"&&t==="rtl"?-1:1},wfe=function(e,t,r,s,a){var i=bfe(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,m=0;do{var h=HV(e,l),x=h[0],p=h[1],g=h[2],j=p-g-i*x;(x||j)&&WV(e,l)&&(f+=j,m+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!a)||!u&&(Math.abs(m)<1||!a))&&(d=!0),d},lj=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},iR=function(e){return[e.deltaX,e.deltaY]},oR=function(e){return e&&"current"in e?e.current:e},Nfe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},_fe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Sfe=0,Pm=[];function Cfe(e){var t=v.useRef([]),r=v.useRef([0,0]),s=v.useRef(),a=v.useState(Sfe++)[0],i=v.useState(uT)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=MV([e.lockRef.current],(e.shards||[]).map(oR),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var j=lj(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-j[0],b="deltaY"in p?p.deltaY:y[1]-j[1],N,S=p.target,_=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in p&&_==="h"&&S.type==="range")return!1;var E=aR(_,S);if(!E)return!0;if(E?N=_:(N=_==="v"?"h":"v",E=aR(_,S)),!E)return!1;if(!s.current&&"changedTouches"in p&&(w||b)&&(s.current=N),!N)return!0;var A=s.current||N;return wfe(A,g,p,A==="h"?w:b,!0)},[]),c=v.useCallback(function(p){var g=p;if(!(!Pm.length||Pm[Pm.length-1]!==i)){var j="deltaY"in g?iR(g):lj(g),y=t.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&Nfe(N.delta,j)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(oR).filter(Boolean).filter(function(N){return N.contains(g.target)}),b=w.length>0?l(g,w[0]):!o.current.noIsolation;b&&g.cancelable&&g.preventDefault()}}},[]),d=v.useCallback(function(p,g,j,y){var w={name:p,delta:g,target:j,should:y,shadowParent:Efe(j)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),u=v.useCallback(function(p){r.current=lj(p),s.current=void 0},[]),f=v.useCallback(function(p){d(p.type,iR(p),p.target,l(p,e.lockRef.current))},[]),m=v.useCallback(function(p){d(p.type,lj(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return Pm.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Am),document.addEventListener("touchmove",c,Am),document.addEventListener("touchstart",u,Am),function(){Pm=Pm.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Am),document.removeEventListener("touchmove",c,Am),document.removeEventListener("touchstart",u,Am)}},[]);var h=e.removeScrollBar,x=e.inert;return v.createElement(v.Fragment,null,x?v.createElement(i,{styles:_fe(a)}):null,h?v.createElement(VV,{gapMode:e.gapMode}):null)}function Efe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Afe=BV(UV,Cfe);var Qv=v.forwardRef(function(e,t){return v.createElement(BN,fa({},e,{ref:t,sideCar:Afe}))});Qv.classNames=BN.classNames;var mE=["Enter"," "],Pfe=["ArrowDown","PageUp","Home"],qV=["ArrowUp","PageDown","End"],kfe=[...Pfe,...qV],Tfe={ltr:[...mE,"ArrowRight"],rtl:[...mE,"ArrowLeft"]},Ofe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Zv="Menu",[j0,Dfe,Ife]=Dv(Zv),[um,GV]=ra(Zv,[Ife,Du,Xp]),UN=Du(),KV=Xp(),[Rfe,fm]=um(Zv),[Mfe,Jv]=um(Zv),YV=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,l=UN(t),[c,d]=v.useState(null),u=v.useRef(!1),f=mn(i),m=dm(a);return v.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),n.jsx(wN,{...l,children:n.jsx(Rfe,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:d,children:n.jsx(Mfe,{scope:t,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:m,modal:o,children:s})})})};YV.displayName=Zv;var Ffe="MenuAnchor",fT=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=UN(r);return n.jsx(Uv,{...a,...s,ref:t})});fT.displayName=Ffe;var mT="MenuPortal",[$fe,XV]=um(mT,{forceMount:void 0}),QV=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:a}=e,i=fm(mT,t);return n.jsx($fe,{scope:t,forceMount:r,children:n.jsx(ls,{present:r||i.open,children:n.jsx(Lp,{asChild:!0,container:a,children:s})})})};QV.displayName=mT;var _o="MenuContent",[Lfe,hT]=um(_o),ZV=v.forwardRef((e,t)=>{const r=XV(_o,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=fm(_o,e.__scopeMenu),o=Jv(_o,e.__scopeMenu);return n.jsx(j0.Provider,{scope:e.__scopeMenu,children:n.jsx(ls,{present:s||i.open,children:n.jsx(j0.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(Bfe,{...a,ref:t}):n.jsx(Ufe,{...a,ref:t})})})})}),Bfe=v.forwardRef((e,t)=>{const r=fm(_o,e.__scopeMenu),s=v.useRef(null),a=Ft(t,s);return v.useEffect(()=>{const i=s.current;if(i)return Xv(i)},[]),n.jsx(pT,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:He(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Ufe=v.forwardRef((e,t)=>{const r=fm(_o,e.__scopeMenu);return n.jsx(pT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),pT=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:h,disableOutsideScroll:x,...p}=e,g=fm(_o,r),j=Jv(_o,r),y=UN(r),w=KV(r),b=Dfe(r),[N,S]=v.useState(null),_=v.useRef(null),E=Ft(t,_,g.onContentChange),A=v.useRef(0),k=v.useRef(""),D=v.useRef(0),I=v.useRef(null),W=v.useRef("right"),H=v.useRef(0),F=x?Qv:v.Fragment,T=x?{as:Jl,allowPinchZoom:!0}:void 0,P=O=>{var fe,B;const K=k.current+O,ne=b().filter(Y=>!Y.disabled),R=document.activeElement,V=(fe=ne.find(Y=>Y.ref.current===R))==null?void 0:fe.textValue,L=ne.map(Y=>Y.textValue),G=Jfe(L,K,V),le=(B=ne.find(Y=>Y.textValue===G))==null?void 0:B.ref.current;(function Y(ie){k.current=ie,window.clearTimeout(A.current),ie!==""&&(A.current=window.setTimeout(()=>Y(""),1e3))})(K),le&&setTimeout(()=>le.focus())};v.useEffect(()=>()=>window.clearTimeout(A.current),[]),$N();const M=v.useCallback(O=>{var ne,R;return W.current===((ne=I.current)==null?void 0:ne.side)&&tme(O,(R=I.current)==null?void 0:R.area)},[]);return n.jsx(Lfe,{scope:r,searchRef:k,onItemEnter:v.useCallback(O=>{M(O)&&O.preventDefault()},[M]),onItemLeave:v.useCallback(O=>{var K;M(O)||((K=_.current)==null||K.focus(),S(null))},[M]),onTriggerLeave:v.useCallback(O=>{M(O)&&O.preventDefault()},[M]),pointerGraceTimerRef:D,onPointerGraceIntentChange:v.useCallback(O=>{I.current=O},[]),children:n.jsx(F,{...T,children:n.jsx(Yv,{asChild:!0,trapped:a,onMountAutoFocus:He(i,O=>{var K;O.preventDefault(),(K=_.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(cm,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:h,children:n.jsx(lT,{asChild:!0,...w,dir:j.dir,orientation:"vertical",loop:s,currentTabStopId:N,onCurrentTabStopIdChange:S,onEntryFocus:He(c,O=>{j.isUsingKeyboardRef.current||O.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(NN,{role:"menu","aria-orientation":"vertical","data-state":hz(g.open),"data-radix-menu-content":"",dir:j.dir,...y,...p,ref:E,style:{outline:"none",...p.style},onKeyDown:He(p.onKeyDown,O=>{const ne=O.target.closest("[data-radix-menu-content]")===O.currentTarget,R=O.ctrlKey||O.altKey||O.metaKey,V=O.key.length===1;ne&&(O.key==="Tab"&&O.preventDefault(),!R&&V&&P(O.key));const L=_.current;if(O.target!==L||!kfe.includes(O.key))return;O.preventDefault();const le=b().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);qV.includes(O.key)&&le.reverse(),Qfe(le)}),onBlur:He(e.onBlur,O=>{O.currentTarget.contains(O.target)||(window.clearTimeout(A.current),k.current="")}),onPointerMove:He(e.onPointerMove,b0(O=>{const K=O.target,ne=H.current!==O.clientX;if(O.currentTarget.contains(K)&&ne){const R=O.clientX>H.current?"right":"left";W.current=R,H.current=O.clientX}}))})})})})})})});ZV.displayName=_o;var Vfe="MenuGroup",xT=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(ft.div,{role:"group",...s,ref:t})});xT.displayName=Vfe;var zfe="MenuLabel",JV=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(ft.div,{...s,ref:t})});JV.displayName=zfe;var p1="MenuItem",lR="menu.itemSelect",VN=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:s,...a}=e,i=v.useRef(null),o=Jv(p1,e.__scopeMenu),l=hT(p1,e.__scopeMenu),c=Ft(t,i),d=v.useRef(!1),u=()=>{const f=i.current;if(!r&&f){const m=new CustomEvent(lR,{bubbles:!0,cancelable:!0});f.addEventListener(lR,h=>s==null?void 0:s(h),{once:!0}),jk(f,m),m.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(ez,{...a,ref:c,disabled:r,onClick:He(e.onClick,u),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),d.current=!0},onPointerUp:He(e.onPointerUp,f=>{var m;d.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:He(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||mE.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});VN.displayName=p1;var ez=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...i}=e,o=hT(p1,r),l=KV(r),c=v.useRef(null),d=Ft(t,c),[u,f]=v.useState(!1),[m,h]=v.useState("");return v.useEffect(()=>{const x=c.current;x&&h((x.textContent??"").trim())},[i.children]),n.jsx(j0.ItemSlot,{scope:r,disabled:s,textValue:a??m,children:n.jsx(cT,{asChild:!0,...l,focusable:!s,children:n.jsx(ft.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:d,onPointerMove:He(e.onPointerMove,b0(x=>{s?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:He(e.onPointerLeave,b0(x=>o.onItemLeave(x))),onFocus:He(e.onFocus,()=>f(!0)),onBlur:He(e.onBlur,()=>f(!1))})})})}),Wfe="MenuCheckboxItem",tz=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:s,...a}=e;return n.jsx(iz,{scope:e.__scopeMenu,checked:r,children:n.jsx(VN,{role:"menuitemcheckbox","aria-checked":x1(r)?"mixed":r,...a,ref:t,"data-state":vT(r),onSelect:He(a.onSelect,()=>s==null?void 0:s(x1(r)?!0:!r),{checkForDefaultPrevented:!1})})})});tz.displayName=Wfe;var rz="MenuRadioGroup",[Hfe,qfe]=um(rz,{value:void 0,onValueChange:()=>{}}),nz=v.forwardRef((e,t)=>{const{value:r,onValueChange:s,...a}=e,i=mn(s);return n.jsx(Hfe,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(xT,{...a,ref:t})})});nz.displayName=rz;var sz="MenuRadioItem",az=v.forwardRef((e,t)=>{const{value:r,...s}=e,a=qfe(sz,e.__scopeMenu),i=r===a.value;return n.jsx(iz,{scope:e.__scopeMenu,checked:i,children:n.jsx(VN,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":vT(i),onSelect:He(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});az.displayName=sz;var gT="MenuItemIndicator",[iz,Gfe]=um(gT,{checked:!1}),oz=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:s,...a}=e,i=Gfe(gT,r);return n.jsx(ls,{present:s||x1(i.checked)||i.checked===!0,children:n.jsx(ft.span,{...a,ref:t,"data-state":vT(i.checked)})})});oz.displayName=gT;var Kfe="MenuSeparator",lz=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(ft.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});lz.displayName=Kfe;var Yfe="MenuArrow",cz=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=UN(r);return n.jsx(_N,{...a,...s,ref:t})});cz.displayName=Yfe;var Xfe="MenuSub",[Mnt,dz]=um(Xfe),dg="MenuSubTrigger",uz=v.forwardRef((e,t)=>{const r=fm(dg,e.__scopeMenu),s=Jv(dg,e.__scopeMenu),a=dz(dg,e.__scopeMenu),i=hT(dg,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>u,[u]),v.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),n.jsx(fT,{asChild:!0,...d,children:n.jsx(ez,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":hz(r.open),...e,ref:hN(t,a.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:He(e.onPointerMove,b0(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:He(e.onPointerLeave,b0(f=>{var h,x;u();const m=(h=r.content)==null?void 0:h.getBoundingClientRect();if(m){const p=(x=r.content)==null?void 0:x.dataset.side,g=p==="right",j=g?-5:5,y=m[g?"left":"right"],w=m[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+j,y:f.clientY},{x:y,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:y,y:m.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:He(e.onKeyDown,f=>{var h;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||Tfe[s.dir].includes(f.key)&&(r.onOpenChange(!0),(h=r.content)==null||h.focus(),f.preventDefault())})})})});uz.displayName=dg;var fz="MenuSubContent",mz=v.forwardRef((e,t)=>{const r=XV(_o,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=fm(_o,e.__scopeMenu),o=Jv(_o,e.__scopeMenu),l=dz(fz,e.__scopeMenu),c=v.useRef(null),d=Ft(t,c);return n.jsx(j0.Provider,{scope:e.__scopeMenu,children:n.jsx(ls,{present:s||i.open,children:n.jsx(j0.Slot,{scope:e.__scopeMenu,children:n.jsx(pT,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:He(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:He(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:He(e.onKeyDown,u=>{var h;const f=u.currentTarget.contains(u.target),m=Ofe[o.dir].includes(u.key);f&&m&&(i.onOpenChange(!1),(h=l.trigger)==null||h.focus(),u.preventDefault())})})})})})});mz.displayName=fz;function hz(e){return e?"open":"closed"}function x1(e){return e==="indeterminate"}function vT(e){return x1(e)?"indeterminate":e?"checked":"unchecked"}function Qfe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Zfe(e,t){return e.map((r,s)=>e[(t+s)%e.length])}function Jfe(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Zfe(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function eme(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>s!=u>s&&r<(d-l)*(s-c)/(u-c)+l&&(a=!a)}return a}function tme(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return eme(r,t)}function b0(e){return t=>t.pointerType==="mouse"?e(t):void 0}var rme=YV,nme=fT,sme=QV,ame=ZV,ime=xT,ome=JV,lme=VN,cme=tz,dme=nz,ume=az,fme=oz,mme=lz,hme=cz,pme=uz,xme=mz,yT="DropdownMenu",[gme,Fnt]=ra(yT,[GV]),Ha=GV(),[vme,pz]=gme(yT),xz=e=>{const{__scopeDropdownMenu:t,children:r,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Ha(t),d=v.useRef(null),[u=!1,f]=$a({prop:a,defaultProp:i,onChange:o});return n.jsx(vme,{scope:t,triggerId:di(),triggerRef:d,contentId:di(),open:u,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(m=>!m),[f]),modal:l,children:n.jsx(rme,{...c,open:u,onOpenChange:f,dir:s,modal:l,children:r})})};xz.displayName=yT;var gz="DropdownMenuTrigger",vz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=e,i=pz(gz,r),o=Ha(r);return n.jsx(nme,{asChild:!0,...o,children:n.jsx(ft.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:hN(t,i.triggerRef),onPointerDown:He(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:He(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});vz.displayName=gz;var yme="DropdownMenuPortal",yz=e=>{const{__scopeDropdownMenu:t,...r}=e,s=Ha(t);return n.jsx(sme,{...s,...r})};yz.displayName=yme;var jz="DropdownMenuContent",bz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=pz(jz,r),i=Ha(r),o=v.useRef(!1);return n.jsx(ame,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:He(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:He(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bz.displayName=jz;var jme="DropdownMenuGroup",bme=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ha(r);return n.jsx(ime,{...a,...s,ref:t})});bme.displayName=jme;var wme="DropdownMenuLabel",wz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ha(r);return n.jsx(ome,{...a,...s,ref:t})});wz.displayName=wme;var Nme="DropdownMenuItem",Nz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ha(r);return n.jsx(lme,{...a,...s,ref:t})});Nz.displayName=Nme;var _me="DropdownMenuCheckboxItem",_z=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ha(r);return n.jsx(cme,{...a,...s,ref:t})});_z.displayName=_me;var Sme="DropdownMenuRadioGroup",Cme=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ha(r);return n.jsx(dme,{...a,...s,ref:t})});Cme.displayName=Sme;var Eme="DropdownMenuRadioItem",Sz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ha(r);return n.jsx(ume,{...a,...s,ref:t})});Sz.displayName=Eme;var Ame="DropdownMenuItemIndicator",Cz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ha(r);return n.jsx(fme,{...a,...s,ref:t})});Cz.displayName=Ame;var Pme="DropdownMenuSeparator",Ez=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ha(r);return n.jsx(mme,{...a,...s,ref:t})});Ez.displayName=Pme;var kme="DropdownMenuArrow",Tme=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ha(r);return n.jsx(hme,{...a,...s,ref:t})});Tme.displayName=kme;var Ome="DropdownMenuSubTrigger",Az=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ha(r);return n.jsx(pme,{...a,...s,ref:t})});Az.displayName=Ome;var Dme="DropdownMenuSubContent",Pz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ha(r);return n.jsx(xme,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Pz.displayName=Dme;var Ime=xz,Rme=vz,Mme=yz,kz=bz,Tz=wz,Oz=Nz,Dz=_z,Iz=Sz,Rz=Cz,Mz=Ez,Fz=Az,$z=Pz;const ey=Ime,ty=Rme,Fme=v.forwardRef(({className:e,inset:t,children:r,...s},a)=>n.jsxs(Fz,{ref:a,className:ve("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[r,n.jsx(xu,{className:"ml-auto h-4 w-4"})]}));Fme.displayName=Fz.displayName;const $me=v.forwardRef(({className:e,...t},r)=>n.jsx($z,{ref:r,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));$me.displayName=$z.displayName;const Qp=v.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(Mme,{children:n.jsx(kz,{ref:s,sideOffset:t,className:ve("z-[9999] min-w-[12rem] overflow-hidden rounded-lg border border-border/50 bg-popover backdrop-blur-xl p-2 text-popover-foreground shadow-2xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Qp.displayName=kz.displayName;const Mn=v.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(Oz,{ref:s,className:ve("relative flex cursor-pointer select-none items-center rounded-md px-3 py-2.5 text-sm font-medium outline-none transition-colors","hover:bg-accent/80 hover:text-accent-foreground focus:bg-accent/80 focus:text-accent-foreground","data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Mn.displayName=Oz.displayName;const Lz=v.forwardRef(({className:e,children:t,checked:r,...s},a)=>n.jsxs(Dz,{ref:a,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Rz,{children:n.jsx(yo,{className:"h-4 w-4"})})}),t]}));Lz.displayName=Dz.displayName;const Lme=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Iz,{ref:s,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Rz,{children:n.jsx(f7,{className:"h-2 w-2 fill-current"})})}),t]}));Lme.displayName=Iz.displayName;const hE=v.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(Tz,{ref:s,className:ve("px-3 py-2 text-xs font-bold text-muted-foreground uppercase tracking-wider",t&&"pl-8",e),...r}));hE.displayName=Tz.displayName;const $c=v.forwardRef(({className:e,...t},r)=>n.jsx(Mz,{ref:r,className:ve("my-1.5 h-px bg-border/50",e),...t}));$c.displayName=Mz.displayName;var jT="Dialog",[Bz,Uz]=ra(jT),[Bme,gl]=Bz(jT),Vz=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[d=!1,u]=$a({prop:s,defaultProp:a,onChange:i});return n.jsx(Bme,{scope:t,triggerRef:l,contentRef:c,contentId:di(),titleId:di(),descriptionId:di(),open:d,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};Vz.displayName=jT;var zz="DialogTrigger",Wz=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=gl(zz,r),i=Ft(t,a.triggerRef);return n.jsx(ft.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":NT(a.open),...s,ref:i,onClick:He(e.onClick,a.onOpenToggle)})});Wz.displayName=zz;var bT="DialogPortal",[Ume,Hz]=Bz(bT,{forceMount:void 0}),qz=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=gl(bT,t);return n.jsx(Ume,{scope:t,forceMount:r,children:v.Children.map(s,o=>n.jsx(ls,{present:r||i.open,children:n.jsx(Lp,{asChild:!0,container:a,children:o})}))})};qz.displayName=bT;var g1="DialogOverlay",Gz=v.forwardRef((e,t)=>{const r=Hz(g1,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=gl(g1,e.__scopeDialog);return i.modal?n.jsx(ls,{present:s||i.open,children:n.jsx(Vme,{...a,ref:t})}):null});Gz.displayName=g1;var Vme=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=gl(g1,r);return n.jsx(Qv,{as:Jl,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(ft.div,{"data-state":NT(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Gf="DialogContent",Kz=v.forwardRef((e,t)=>{const r=Hz(Gf,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=gl(Gf,e.__scopeDialog);return n.jsx(ls,{present:s||i.open,children:i.modal?n.jsx(zme,{...a,ref:t}):n.jsx(Wme,{...a,ref:t})})});Kz.displayName=Gf;var zme=v.forwardRef((e,t)=>{const r=gl(Gf,e.__scopeDialog),s=v.useRef(null),a=Ft(t,r.contentRef,s);return v.useEffect(()=>{const i=s.current;if(i)return Xv(i)},[]),n.jsx(Yz,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:He(e.onFocusOutside,i=>i.preventDefault())})}),Wme=v.forwardRef((e,t)=>{const r=gl(Gf,e.__scopeDialog),s=v.useRef(!1),a=v.useRef(!1);return n.jsx(Yz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Yz=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=gl(Gf,r),c=v.useRef(null),d=Ft(t,c);return $N(),n.jsxs(n.Fragment,{children:[n.jsx(Yv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(cm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":NT(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(qme,{titleId:l.titleId}),n.jsx(Kme,{contentRef:c,descriptionId:l.descriptionId})]})]})}),wT="DialogTitle",Xz=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=gl(wT,r);return n.jsx(ft.h2,{id:a.titleId,...s,ref:t})});Xz.displayName=wT;var Qz="DialogDescription",Zz=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=gl(Qz,r);return n.jsx(ft.p,{id:a.descriptionId,...s,ref:t})});Zz.displayName=Qz;var Jz="DialogClose",eW=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=gl(Jz,r);return n.jsx(ft.button,{type:"button",...s,ref:t,onClick:He(e.onClick,()=>a.onOpenChange(!1))})});eW.displayName=Jz;function NT(e){return e?"open":"closed"}var tW="DialogTitleWarning",[Hme,rW]=Sne(tW,{contentName:Gf,titleName:wT,docsSlug:"dialog"}),qme=({titleId:e})=>{const t=rW(tW),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Gme="DialogDescriptionWarning",Kme=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${rW(Gme).contentName}}.`;return v.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},_T=Vz,nW=Wz,ST=qz,ry=Gz,ny=Kz,sy=Xz,ay=Zz,zN=eW;const Yme=_T,Xme=ST,sW=v.forwardRef(({className:e,...t},r)=>n.jsx(ry,{className:ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));sW.displayName=ry.displayName;const Qme=Bp("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),aW=v.forwardRef(({side:e="right",className:t,children:r,...s},a)=>n.jsxs(Xme,{children:[n.jsx(sW,{}),n.jsxs(ny,{ref:a,className:ve(Qme({side:e}),t),...s,children:[r,n.jsxs(zN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(ps,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));aW.displayName=ny.displayName;const iW=({className:e,...t})=>n.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",e),...t});iW.displayName="SheetHeader";const oW=v.forwardRef(({className:e,...t},r)=>n.jsx(sy,{ref:r,className:ve("text-lg font-semibold text-foreground",e),...t}));oW.displayName=sy.displayName;const Zme=v.forwardRef(({className:e,...t},r)=>n.jsx(ay,{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));Zme.displayName=ay.displayName;function pE(e,[t,r]){return Math.min(r,Math.max(t,e))}function Jme(e,t){return v.useReducer((r,s)=>t[r][s]??r,e)}var CT="ScrollArea",[lW,$nt]=ra(CT),[ehe,Oo]=lW(CT),cW=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=v.useState(null),[d,u]=v.useState(null),[f,m]=v.useState(null),[h,x]=v.useState(null),[p,g]=v.useState(null),[j,y]=v.useState(0),[w,b]=v.useState(0),[N,S]=v.useState(!1),[_,E]=v.useState(!1),A=Ft(t,D=>c(D)),k=dm(a);return n.jsx(ehe,{scope:r,type:s,dir:k,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:m,scrollbarX:h,onScrollbarXChange:x,scrollbarXEnabled:N,onScrollbarXEnabledChange:S,scrollbarY:p,onScrollbarYChange:g,scrollbarYEnabled:_,onScrollbarYEnabledChange:E,onCornerWidthChange:y,onCornerHeightChange:b,children:n.jsx(ft.div,{dir:k,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});cW.displayName=CT;var dW="ScrollAreaViewport",uW=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:s,asChild:a,nonce:i,...o}=e,l=Oo(dW,r),c=v.useRef(null),d=Ft(t,c,l.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),n.jsx(ft.div,{"data-radix-scroll-area-viewport":"",...o,asChild:a,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:dhe({asChild:a,children:s},u=>n.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});uW.displayName=dW;var lc="ScrollAreaScrollbar",ET=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Oo(lc,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return v.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?n.jsx(the,{...s,ref:t,forceMount:r}):a.type==="scroll"?n.jsx(rhe,{...s,ref:t,forceMount:r}):a.type==="auto"?n.jsx(fW,{...s,ref:t,forceMount:r}):a.type==="always"?n.jsx(AT,{...s,ref:t}):null});ET.displayName=lc;var the=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Oo(lc,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(ls,{present:r||i,children:n.jsx(fW,{"data-state":i?"visible":"hidden",...s,ref:t})})}),rhe=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Oo(lc,e.__scopeScrollArea),i=e.orientation==="horizontal",o=HN(()=>c("SCROLL_END"),100),[l,c]=Jme("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),v.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let f=d[u];const m=()=>{const h=d[u];f!==h&&(c("SCROLL"),o()),f=h};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),n.jsx(ls,{present:r||l!=="hidden",children:n.jsx(AT,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:He(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:He(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),fW=v.forwardRef((e,t)=>{const r=Oo(lc,e.__scopeScrollArea),{forceMount:s,...a}=e,[i,o]=v.useState(!1),l=e.orientation==="horizontal",c=HN(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return tp(r.viewport,c),tp(r.content,c),n.jsx(ls,{present:s||i,children:n.jsx(AT,{"data-state":i?"visible":"hidden",...a,ref:t})})}),AT=v.forwardRef((e,t)=>{const{orientation:r="vertical",...s}=e,a=Oo(lc,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=gW(l.viewport,l.content),u={...s,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,h){return lhe(m,o.current,l,h)}return r==="horizontal"?n.jsx(nhe,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,h=cR(m,l,a.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}}):r==="vertical"?n.jsx(she,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,h=cR(m,l);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}}):null}),nhe=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=Oo(lc,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),d=Ft(t,c,i.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(hW,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":WN(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),yW(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:y1(o.paddingLeft),paddingEnd:y1(o.paddingRight)}})}})}),she=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=Oo(lc,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),d=Ft(t,c,i.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(hW,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":WN(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),yW(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:y1(o.paddingTop),paddingEnd:y1(o.paddingBottom)}})}})}),[ahe,mW]=lW(lc),hW=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...m}=e,h=Oo(lc,r),[x,p]=v.useState(null),g=Ft(t,A=>p(A)),j=v.useRef(null),y=v.useRef(""),w=h.viewport,b=s.content-s.viewport,N=mn(u),S=mn(c),_=HN(f,10);function E(A){if(j.current){const k=A.clientX-j.current.left,D=A.clientY-j.current.top;d({x:k,y:D})}}return v.useEffect(()=>{const A=k=>{const D=k.target;(x==null?void 0:x.contains(D))&&N(k,b)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[w,x,b,N]),v.useEffect(S,[s,S]),tp(x,_),tp(h.content,_),n.jsx(ahe,{scope:r,scrollbar:x,hasThumb:a,onThumbChange:mn(i),onThumbPointerUp:mn(o),onThumbPositionChange:S,onThumbPointerDown:mn(l),children:n.jsx(ft.div,{...m,ref:g,style:{position:"absolute",...m.style},onPointerDown:He(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),j.current=x.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),E(A))}),onPointerMove:He(e.onPointerMove,E),onPointerUp:He(e.onPointerUp,A=>{const k=A.target;k.hasPointerCapture(A.pointerId)&&k.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=y.current,h.viewport&&(h.viewport.style.scrollBehavior=""),j.current=null})})})}),v1="ScrollAreaThumb",pW=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=mW(v1,e.__scopeScrollArea);return n.jsx(ls,{present:r||a.hasThumb,children:n.jsx(ihe,{ref:t,...s})})}),ihe=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:s,...a}=e,i=Oo(v1,r),o=mW(v1,r),{onThumbPositionChange:l}=o,c=Ft(t,f=>o.onThumbChange(f)),d=v.useRef(),u=HN(()=>{d.current&&(d.current(),d.current=void 0)},100);return v.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(u(),!d.current){const h=che(f,l);d.current=h,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,u,l]),n.jsx(ft.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:He(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),x=f.clientX-h.left,p=f.clientY-h.top;o.onThumbPointerDown({x,y:p})}),onPointerUp:He(e.onPointerUp,o.onThumbPointerUp)})});pW.displayName=v1;var PT="ScrollAreaCorner",xW=v.forwardRef((e,t)=>{const r=Oo(PT,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?n.jsx(ohe,{...e,ref:t}):null});xW.displayName=PT;var ohe=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...s}=e,a=Oo(PT,r),[i,o]=v.useState(0),[l,c]=v.useState(0),d=!!(i&&l);return tp(a.scrollbarX,()=>{var f;const u=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),tp(a.scrollbarY,()=>{var f;const u=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?n.jsx(ft.div,{...s,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function y1(e){return e?parseInt(e,10):0}function gW(e,t){const r=e/t;return isNaN(r)?0:r}function WN(e){const t=gW(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function lhe(e,t,r,s="ltr"){const a=WN(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,f=s==="ltr"?[0,u]:[u*-1,0];return vW([c,d],f)(e)}function cR(e,t,r="ltr"){const s=WN(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-s,c=r==="ltr"?[0,o]:[o*-1,0],d=pE(e,c);return vW([0,o],[0,l])(d)}function vW(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function yW(e,t){return e>0&&e<t}var che=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function HN(e,t){const r=mn(e),s=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),v.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function tp(e,t){const r=mn(t);is(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,r])}function dhe(e,t){const{asChild:r,children:s}=e;if(!r)return typeof t=="function"?t(s):t;const a=v.Children.only(s);return v.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var jW=cW,uhe=uW,fhe=xW;const ud=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(jW,{ref:s,className:ve("relative overflow-hidden",e),...r,children:[n.jsx(uhe,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(bW,{}),n.jsx(fhe,{})]}));ud.displayName=jW.displayName;const bW=v.forwardRef(({className:e,orientation:t="vertical",...r},s)=>n.jsx(ET,{ref:s,orientation:t,className:ve("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(pW,{className:"relative flex-1 rounded-full bg-border"})}));bW.displayName=ET.displayName;var dR=1,mhe=.9,hhe=.8,phe=.17,mS=.1,hS=.999,xhe=.9999,ghe=.99,vhe=/[\\\/_+.#"@\[\(\{&]/,yhe=/[\\\/_+.#"@\[\(\{&]/g,jhe=/[\s-]/,wW=/[\s-]/g;function xE(e,t,r,s,a,i,o){if(i===t.length)return a===e.length?dR:ghe;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=s.charAt(i),d=r.indexOf(c,a),u=0,f,m,h,x;d>=0;)f=xE(e,t,r,s,d+1,i+1,o),f>u&&(d===a?f*=dR:vhe.test(e.charAt(d-1))?(f*=hhe,h=e.slice(a,d-1).match(yhe),h&&a>0&&(f*=Math.pow(hS,h.length))):jhe.test(e.charAt(d-1))?(f*=mhe,x=e.slice(a,d-1).match(wW),x&&a>0&&(f*=Math.pow(hS,x.length))):(f*=phe,a>0&&(f*=Math.pow(hS,d-a))),e.charAt(d)!==t.charAt(i)&&(f*=xhe)),(f<mS&&r.charAt(d-1)===s.charAt(i+1)||s.charAt(i+1)===s.charAt(i)&&r.charAt(d-1)!==s.charAt(i))&&(m=xE(e,t,r,s,d+1,i+2,o),m*mS>f&&(f=m*mS)),f>u&&(u=f),d=r.indexOf(c,d+1);return o[l]=u,u}function uR(e){return e.toLowerCase().replace(wW," ")}function bhe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,xE(e,t,uR(e),uR(t),0,0,{})}function ea(){return ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ea.apply(null,arguments)}function jh(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function whe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function NW(...e){return t=>e.forEach(r=>whe(r,t))}function iy(...e){return v.useCallback(NW(...e),e)}function Nhe(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return v.createElement(p.Provider,{value:g},h)}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,_he(a,...t)]}function _he(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}const gE=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},She=AP.useId||(()=>{});let Che=0;function pS(e){const[t,r]=v.useState(She());return gE(()=>{e||r(s=>s??String(Che++))},[e]),e||(t?`radix-${t}`:"")}function Kf(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var s;return(s=t.current)===null||s===void 0?void 0:s.call(t,...r)},[])}function Ehe({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=Ahe({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:s,l=Kf(r),c=v.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else a(d)},[i,e,a,l]);return[o,c]}function Ahe({defaultProp:e,onChange:t}){const r=v.useState(e),[s]=r,a=v.useRef(s),i=Kf(t);return v.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),r}const kT=v.forwardRef((e,t)=>{const{children:r,...s}=e,a=v.Children.toArray(r),i=a.find(khe);if(i){const o=i.props.children,l=a.map(c=>c===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return v.createElement(vE,ea({},s,{ref:t}),v.isValidElement(o)?v.cloneElement(o,void 0,l):null)}return v.createElement(vE,ea({},s,{ref:t}),r)});kT.displayName="Slot";const vE=v.forwardRef((e,t)=>{const{children:r,...s}=e;return v.isValidElement(r)?v.cloneElement(r,{...The(s,r.props),ref:t?NW(t,r.ref):r.ref}):v.Children.count(r)>1?v.Children.only(null):null});vE.displayName="SlotClone";const Phe=({children:e})=>v.createElement(v.Fragment,null,e);function khe(e){return v.isValidElement(e)&&e.type===Phe}function The(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}const Ohe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Do=Ohe.reduce((e,t)=>{const r=v.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?kT:t;return v.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),v.createElement(l,ea({},o,{ref:a}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Dhe(e,t){e&&pl.flushSync(()=>e.dispatchEvent(t))}function Ihe(e,t=globalThis==null?void 0:globalThis.document){const r=Kf(e);v.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s),()=>t.removeEventListener("keydown",s)},[r,t])}const yE="dismissableLayer.update",Rhe="dismissableLayer.pointerDownOutside",Mhe="dismissableLayer.focusOutside";let fR;const Fhe=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$he=v.forwardRef((e,t)=>{var r;const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=e,u=v.useContext(Fhe),[f,m]=v.useState(null),h=(r=f==null?void 0:f.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,x]=v.useState({}),p=iy(t,E=>m(E)),g=Array.from(u.layers),[j]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(j),w=f?g.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,N=w>=y,S=Lhe(E=>{const A=E.target,k=[...u.branches].some(D=>D.contains(A));!N||k||(i==null||i(E),l==null||l(E),E.defaultPrevented||c==null||c())},h),_=Bhe(E=>{const A=E.target;[...u.branches].some(D=>D.contains(A))||(o==null||o(E),l==null||l(E),E.defaultPrevented||c==null||c())},h);return Ihe(E=>{w===u.layers.size-1&&(a==null||a(E),!E.defaultPrevented&&c&&(E.preventDefault(),c()))},h),v.useEffect(()=>{if(f)return s&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(fR=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),mR(),()=>{s&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=fR)}},[f,h,s,u]),v.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),mR())},[f,u]),v.useEffect(()=>{const E=()=>x({});return document.addEventListener(yE,E),()=>document.removeEventListener(yE,E)},[]),v.createElement(Do.div,ea({},d,{ref:p,style:{pointerEvents:b?N?"auto":"none":void 0,...e.style},onFocusCapture:jh(e.onFocusCapture,_.onFocusCapture),onBlurCapture:jh(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:jh(e.onPointerDownCapture,S.onPointerDownCapture)}))});function Lhe(e,t=globalThis==null?void 0:globalThis.document){const r=Kf(e),s=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let u=function(){_W(Rhe,r,d,{discrete:!0})};var c=u;const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function Bhe(e,t=globalThis==null?void 0:globalThis.document){const r=Kf(e),s=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!s.current&&_W(Mhe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function mR(){const e=new CustomEvent(yE);document.dispatchEvent(e)}function _W(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?Dhe(a,i):a.dispatchEvent(i)}const xS="focusScope.autoFocusOnMount",gS="focusScope.autoFocusOnUnmount",hR={bubbles:!1,cancelable:!0},Uhe=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),d=Kf(a),u=Kf(i),f=v.useRef(null),m=iy(t,p=>c(p)),h=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(s){let y=function(S){if(h.paused||!l)return;const _=S.target;l.contains(_)?f.current=_:Ed(f.current,{select:!0})},w=function(S){if(h.paused||!l)return;const _=S.relatedTarget;_!==null&&(l.contains(_)||Ed(f.current,{select:!0}))},b=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&Ed(l)};var p=y,g=w,j=b;document.addEventListener("focusin",y),document.addEventListener("focusout",w);const N=new MutationObserver(b);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),N.disconnect()}}},[s,l,h.paused]),v.useEffect(()=>{if(l){xR.add(h);const p=document.activeElement;if(!l.contains(p)){const j=new CustomEvent(xS,hR);l.addEventListener(xS,d),l.dispatchEvent(j),j.defaultPrevented||(Vhe(Ghe(SW(l)),{select:!0}),document.activeElement===p&&Ed(l))}return()=>{l.removeEventListener(xS,d),setTimeout(()=>{const j=new CustomEvent(gS,hR);l.addEventListener(gS,u),l.dispatchEvent(j),j.defaultPrevented||Ed(p??document.body,{select:!0}),l.removeEventListener(gS,u),xR.remove(h)},0)}}},[l,d,u,h]);const x=v.useCallback(p=>{if(!r&&!s||h.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,j=document.activeElement;if(g&&j){const y=p.currentTarget,[w,b]=zhe(y);w&&b?!p.shiftKey&&j===b?(p.preventDefault(),r&&Ed(w,{select:!0})):p.shiftKey&&j===w&&(p.preventDefault(),r&&Ed(b,{select:!0})):j===y&&p.preventDefault()}},[r,s,h.paused]);return v.createElement(Do.div,ea({tabIndex:-1},o,{ref:m,onKeyDown:x}))});function Vhe(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Ed(s,{select:t}),document.activeElement!==r)return}function zhe(e){const t=SW(e),r=pR(t,e),s=pR(t.reverse(),e);return[r,s]}function SW(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function pR(e,t){for(const r of e)if(!Whe(r,{upTo:t}))return r}function Whe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Hhe(e){return e instanceof HTMLInputElement&&"select"in e}function Ed(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Hhe(e)&&t&&e.select()}}const xR=qhe();function qhe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=gR(e,t),e.unshift(t)},remove(t){var r;e=gR(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function gR(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function Ghe(e){return e.filter(t=>t.tagName!=="A")}const Khe=v.forwardRef((e,t)=>{var r;const{container:s=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...a}=e;return s?mN.createPortal(v.createElement(Do.div,ea({},a,{ref:t})),s):null});function Yhe(e,t){return v.useReducer((r,s)=>{const a=t[r][s];return a??r},e)}const qN=e=>{const{present:t,children:r}=e,s=Xhe(t),a=typeof r=="function"?r({present:s.isPresent}):v.Children.only(r),i=iy(s.ref,a.ref);return typeof r=="function"||s.isPresent?v.cloneElement(a,{ref:i}):null};qN.displayName="Presence";function Xhe(e){const[t,r]=v.useState(),s=v.useRef({}),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Yhe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const d=cj(s.current);i.current=l==="mounted"?d:"none"},[l]),gE(()=>{const d=s.current,u=a.current;if(u!==e){const m=i.current,h=cj(d);e?c("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),gE(()=>{if(t){const d=f=>{const h=cj(s.current).includes(f.animationName);f.target===t&&h&&pl.flushSync(()=>c("ANIMATION_END"))},u=f=>{f.target===t&&(i.current=cj(s.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(d=>{d&&(s.current=getComputedStyle(d)),r(d)},[])}}function cj(e){return(e==null?void 0:e.animationName)||"none"}let vS=0;function Qhe(){v.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:vR()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:vR()),vS++,()=>{vS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),vS--}},[])}function vR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var CW=$V(),yS=function(){},GN=v.forwardRef(function(e,t){var r=v.useRef(null),s=v.useState({onScrollCapture:yS,onWheelCapture:yS,onTouchMoveCapture:yS}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,h=e.noIsolation,x=e.inert,p=e.allowPinchZoom,g=e.as,j=g===void 0?"div":g,y=dT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=m,b=FV([r,t]),N=fa(fa({},y),a);return v.createElement(v.Fragment,null,u&&v.createElement(w,{sideCar:CW,removeScrollBar:d,shards:f,noIsolation:h,inert:x,setCallbacks:i,allowPinchZoom:!!p,lockRef:r}),o?v.cloneElement(v.Children.only(l),fa(fa({},N),{ref:b})):v.createElement(j,fa({},N,{className:c,ref:b}),l))});GN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};GN.classNames={fullWidth:Ag,zeroRight:Eg};var jE=!1;if(typeof window<"u")try{var dj=Object.defineProperty({},"passive",{get:function(){return jE=!0,!0}});window.addEventListener("test",dj,dj),window.removeEventListener("test",dj,dj)}catch{jE=!1}var km=jE?{passive:!1}:!1,Zhe=function(e){return e.tagName==="TEXTAREA"},EW=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Zhe(e)&&r[t]==="visible")},Jhe=function(e){return EW(e,"overflowY")},epe=function(e){return EW(e,"overflowX")},yR=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=AW(e,r);if(s){var a=PW(e,r),i=a[1],o=a[2];if(i>o)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},tpe=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},rpe=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},AW=function(e,t){return e==="v"?Jhe(t):epe(t)},PW=function(e,t){return e==="v"?tpe(t):rpe(t)},npe=function(e,t){return e==="h"&&t==="rtl"?-1:1},spe=function(e,t,r,s,a){var i=npe(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,m=0;do{var h=PW(e,l),x=h[0],p=h[1],g=h[2],j=p-g-i*x;(x||j)&&AW(e,l)&&(f+=j,m+=x),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(f===0||!a)||!u&&(m===0||!a))&&(d=!0),d},uj=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},jR=function(e){return[e.deltaX,e.deltaY]},bR=function(e){return e&&"current"in e?e.current:e},ape=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ipe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ope=0,Tm=[];function lpe(e){var t=v.useRef([]),r=v.useRef([0,0]),s=v.useRef(),a=v.useState(ope++)[0],i=v.useState(function(){return uT()})[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=MV([e.lockRef.current],(e.shards||[]).map(bR),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,g){if("touches"in p&&p.touches.length===2)return!o.current.allowPinchZoom;var j=uj(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-j[0],b="deltaY"in p?p.deltaY:y[1]-j[1],N,S=p.target,_=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in p&&_==="h"&&S.type==="range")return!1;var E=yR(_,S);if(!E)return!0;if(E?N=_:(N=_==="v"?"h":"v",E=yR(_,S)),!E)return!1;if(!s.current&&"changedTouches"in p&&(w||b)&&(s.current=N),!N)return!0;var A=s.current||N;return spe(A,g,p,A==="h"?w:b,!0)},[]),c=v.useCallback(function(p){var g=p;if(!(!Tm.length||Tm[Tm.length-1]!==i)){var j="deltaY"in g?jR(g):uj(g),y=t.current.filter(function(N){return N.name===g.type&&N.target===g.target&&ape(N.delta,j)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(bR).filter(Boolean).filter(function(N){return N.contains(g.target)}),b=w.length>0?l(g,w[0]):!o.current.noIsolation;b&&g.cancelable&&g.preventDefault()}}},[]),d=v.useCallback(function(p,g,j,y){var w={name:p,delta:g,target:j,should:y};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),u=v.useCallback(function(p){r.current=uj(p),s.current=void 0},[]),f=v.useCallback(function(p){d(p.type,jR(p),p.target,l(p,e.lockRef.current))},[]),m=v.useCallback(function(p){d(p.type,uj(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return Tm.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,km),document.addEventListener("touchmove",c,km),document.addEventListener("touchstart",u,km),function(){Tm=Tm.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,km),document.removeEventListener("touchmove",c,km),document.removeEventListener("touchstart",u,km)}},[]);var h=e.removeScrollBar,x=e.inert;return v.createElement(v.Fragment,null,x?v.createElement(i,{styles:ipe(a)}):null,h?v.createElement(VV,{gapMode:"margin"}):null)}const cpe=BV(CW,lpe);var kW=v.forwardRef(function(e,t){return v.createElement(GN,fa({},e,{ref:t,sideCar:cpe}))});kW.classNames=GN.classNames;const TW="Dialog",[OW,Lnt]=Nhe(TW),[dpe,mm]=OW(TW),upe=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[d=!1,u]=Ehe({prop:s,defaultProp:a,onChange:i});return v.createElement(dpe,{scope:t,triggerRef:l,contentRef:c,contentId:pS(),titleId:pS(),descriptionId:pS(),open:d,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(f=>!f),[u]),modal:o},r)},DW="DialogPortal",[fpe,IW]=OW(DW,{forceMount:void 0}),mpe=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=mm(DW,t);return v.createElement(fpe,{scope:t,forceMount:r},v.Children.map(s,o=>v.createElement(qN,{present:r||i.open},v.createElement(Khe,{asChild:!0,container:a},o))))},bE="DialogOverlay",hpe=v.forwardRef((e,t)=>{const r=IW(bE,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=mm(bE,e.__scopeDialog);return i.modal?v.createElement(qN,{present:s||i.open},v.createElement(ppe,ea({},a,{ref:t}))):null}),ppe=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=mm(bE,r);return v.createElement(kW,{as:kT,allowPinchZoom:!0,shards:[a.contentRef]},v.createElement(Do.div,ea({"data-state":MW(a.open)},s,{ref:t,style:{pointerEvents:"auto",...s.style}})))}),w0="DialogContent",xpe=v.forwardRef((e,t)=>{const r=IW(w0,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=mm(w0,e.__scopeDialog);return v.createElement(qN,{present:s||i.open},i.modal?v.createElement(gpe,ea({},a,{ref:t})):v.createElement(vpe,ea({},a,{ref:t})))}),gpe=v.forwardRef((e,t)=>{const r=mm(w0,e.__scopeDialog),s=v.useRef(null),a=iy(t,r.contentRef,s);return v.useEffect(()=>{const i=s.current;if(i)return Xv(i)},[]),v.createElement(RW,ea({},e,{ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:jh(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)===null||o===void 0||o.focus()}),onPointerDownOutside:jh(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:jh(e.onFocusOutside,i=>i.preventDefault())}))}),vpe=v.forwardRef((e,t)=>{const r=mm(w0,e.__scopeDialog),s=v.useRef(!1),a=v.useRef(!1);return v.createElement(RW,ea({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o;if((o=e.onCloseAutoFocus)===null||o===void 0||o.call(e,i),!i.defaultPrevented){var l;s.current||(l=r.triggerRef.current)===null||l===void 0||l.focus(),i.preventDefault()}s.current=!1,a.current=!1},onInteractOutside:i=>{var o,l;(o=e.onInteractOutside)===null||o===void 0||o.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;((l=r.triggerRef.current)===null||l===void 0?void 0:l.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),RW=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=mm(w0,r),c=v.useRef(null),d=iy(t,c);return Qhe(),v.createElement(v.Fragment,null,v.createElement(Uhe,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i},v.createElement($he,ea({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":MW(l.open)},o,{ref:d,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function MW(e){return e?"open":"closed"}const ype=upe,jpe=mpe,bpe=hpe,wpe=xpe;var $x='[cmdk-group=""]',jS='[cmdk-group-items=""]',Npe='[cmdk-group-heading=""]',TT='[cmdk-item=""]',wR=`${TT}:not([aria-disabled="true"])`,wE="cmdk-item-select",nf="data-value",_pe=(e,t,r)=>bhe(e,t,r),FW=v.createContext(void 0),oy=()=>v.useContext(FW),$W=v.createContext(void 0),OT=()=>v.useContext($W),LW=v.createContext(void 0),BW=v.forwardRef((e,t)=>{let r=Um(()=>{var R,V;return{search:"",value:(V=(R=e.value)!=null?R:e.defaultValue)!=null?V:"",filtered:{count:0,items:new Map,groups:new Set}}}),s=Um(()=>new Set),a=Um(()=>new Map),i=Um(()=>new Map),o=Um(()=>new Set),l=UW(e),{label:c,children:d,value:u,onValueChange:f,filter:m,shouldFilter:h,loop:x,disablePointerSelection:p=!1,vimBindings:g=!0,...j}=e,y=v.useId(),w=v.useId(),b=v.useId(),N=v.useRef(null),S=Rpe();Yf(()=>{if(u!==void 0){let R=u.trim();r.current.value=R,_.emit()}},[u]),Yf(()=>{S(6,W)},[]);let _=v.useMemo(()=>({subscribe:R=>(o.current.add(R),()=>o.current.delete(R)),snapshot:()=>r.current,setState:(R,V,L)=>{var G,le,fe;if(!Object.is(r.current[R],V)){if(r.current[R]=V,R==="search")I(),k(),S(1,D);else if(R==="value"&&(L||S(5,W),((G=l.current)==null?void 0:G.value)!==void 0)){let B=V??"";(fe=(le=l.current).onValueChange)==null||fe.call(le,B);return}_.emit()}},emit:()=>{o.current.forEach(R=>R())}}),[]),E=v.useMemo(()=>({value:(R,V,L)=>{var G;V!==((G=i.current.get(R))==null?void 0:G.value)&&(i.current.set(R,{value:V,keywords:L}),r.current.filtered.items.set(R,A(V,L)),S(2,()=>{k(),_.emit()}))},item:(R,V)=>(s.current.add(R),V&&(a.current.has(V)?a.current.get(V).add(R):a.current.set(V,new Set([R]))),S(3,()=>{I(),k(),r.current.value||D(),_.emit()}),()=>{i.current.delete(R),s.current.delete(R),r.current.filtered.items.delete(R);let L=H();S(4,()=>{I(),(L==null?void 0:L.getAttribute("id"))===R&&D(),_.emit()})}),group:R=>(a.current.has(R)||a.current.set(R,new Set),()=>{i.current.delete(R),a.current.delete(R)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],disablePointerSelection:p,listId:y,inputId:b,labelId:w,listInnerRef:N}),[]);function A(R,V){var L,G;let le=(G=(L=l.current)==null?void 0:L.filter)!=null?G:_pe;return R?le(R,r.current.search,V):0}function k(){if(!r.current.search||l.current.shouldFilter===!1)return;let R=r.current.filtered.items,V=[];r.current.filtered.groups.forEach(G=>{let le=a.current.get(G),fe=0;le.forEach(B=>{let Y=R.get(B);fe=Math.max(Y,fe)}),V.push([G,fe])});let L=N.current;F().sort((G,le)=>{var fe,B;let Y=G.getAttribute("id"),ie=le.getAttribute("id");return((fe=R.get(ie))!=null?fe:0)-((B=R.get(Y))!=null?B:0)}).forEach(G=>{let le=G.closest(jS);le?le.appendChild(G.parentElement===le?G:G.closest(`${jS} > *`)):L.appendChild(G.parentElement===L?G:G.closest(`${jS} > *`))}),V.sort((G,le)=>le[1]-G[1]).forEach(G=>{let le=N.current.querySelector(`${$x}[${nf}="${encodeURIComponent(G[0])}"]`);le==null||le.parentElement.appendChild(le)})}function D(){let R=F().find(L=>L.getAttribute("aria-disabled")!=="true"),V=R==null?void 0:R.getAttribute(nf);_.setState("value",V||void 0)}function I(){var R,V,L,G;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=s.current.size;return}r.current.filtered.groups=new Set;let le=0;for(let fe of s.current){let B=(V=(R=i.current.get(fe))==null?void 0:R.value)!=null?V:"",Y=(G=(L=i.current.get(fe))==null?void 0:L.keywords)!=null?G:[],ie=A(B,Y);r.current.filtered.items.set(fe,ie),ie>0&&le++}for(let[fe,B]of a.current)for(let Y of B)if(r.current.filtered.items.get(Y)>0){r.current.filtered.groups.add(fe);break}r.current.filtered.count=le}function W(){var R,V,L;let G=H();G&&(((R=G.parentElement)==null?void 0:R.firstChild)===G&&((L=(V=G.closest($x))==null?void 0:V.querySelector(Npe))==null||L.scrollIntoView({block:"nearest"})),G.scrollIntoView({block:"nearest"}))}function H(){var R;return(R=N.current)==null?void 0:R.querySelector(`${TT}[aria-selected="true"]`)}function F(){var R;return Array.from((R=N.current)==null?void 0:R.querySelectorAll(wR))}function T(R){let V=F()[R];V&&_.setState("value",V.getAttribute(nf))}function P(R){var V;let L=H(),G=F(),le=G.findIndex(B=>B===L),fe=G[le+R];(V=l.current)!=null&&V.loop&&(fe=le+R<0?G[G.length-1]:le+R===G.length?G[0]:G[le+R]),fe&&_.setState("value",fe.getAttribute(nf))}function M(R){let V=H(),L=V==null?void 0:V.closest($x),G;for(;L&&!G;)L=R>0?Dpe(L,$x):Ipe(L,$x),G=L==null?void 0:L.querySelector(wR);G?_.setState("value",G.getAttribute(nf)):P(R)}let O=()=>T(F().length-1),K=R=>{R.preventDefault(),R.metaKey?O():R.altKey?M(1):P(1)},ne=R=>{R.preventDefault(),R.metaKey?T(0):R.altKey?M(-1):P(-1)};return v.createElement(Do.div,{ref:t,tabIndex:-1,...j,"cmdk-root":"",onKeyDown:R=>{var V;if((V=j.onKeyDown)==null||V.call(j,R),!R.defaultPrevented)switch(R.key){case"n":case"j":{g&&R.ctrlKey&&K(R);break}case"ArrowDown":{K(R);break}case"p":case"k":{g&&R.ctrlKey&&ne(R);break}case"ArrowUp":{ne(R);break}case"Home":{R.preventDefault(),T(0);break}case"End":{R.preventDefault(),O();break}case"Enter":if(!R.nativeEvent.isComposing&&R.keyCode!==229){R.preventDefault();let L=H();if(L){let G=new Event(wE);L.dispatchEvent(G)}}}}},v.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:Fpe},c),KN(e,R=>v.createElement($W.Provider,{value:_},v.createElement(FW.Provider,{value:E},R))))}),Spe=v.forwardRef((e,t)=>{var r,s;let a=v.useId(),i=v.useRef(null),o=v.useContext(LW),l=oy(),c=UW(e),d=(s=(r=c.current)==null?void 0:r.forceMount)!=null?s:o==null?void 0:o.forceMount;Yf(()=>{if(!d)return l.item(a,o==null?void 0:o.id)},[d]);let u=VW(a,i,[e.value,e.children,i],e.keywords),f=OT(),m=Xf(S=>S.value&&S.value===u.current),h=Xf(S=>d||l.filter()===!1?!0:S.search?S.filtered.items.get(a)>0:!0);v.useEffect(()=>{let S=i.current;if(!(!S||e.disabled))return S.addEventListener(wE,x),()=>S.removeEventListener(wE,x)},[h,e.onSelect,e.disabled]);function x(){var S,_;p(),(_=(S=c.current).onSelect)==null||_.call(S,u.current)}function p(){f.setState("value",u.current,!0)}if(!h)return null;let{disabled:g,value:j,onSelect:y,forceMount:w,keywords:b,...N}=e;return v.createElement(Do.div,{ref:N0([i,t]),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!m,"data-disabled":!!g,"data-selected":!!m,onPointerMove:g||l.disablePointerSelection?void 0:p,onClick:g?void 0:x},e.children)}),Cpe=v.forwardRef((e,t)=>{let{heading:r,children:s,forceMount:a,...i}=e,o=v.useId(),l=v.useRef(null),c=v.useRef(null),d=v.useId(),u=oy(),f=Xf(h=>a||u.filter()===!1?!0:h.search?h.filtered.groups.has(o):!0);Yf(()=>u.group(o),[]),VW(o,l,[e.value,e.heading,c]);let m=v.useMemo(()=>({id:o,forceMount:a}),[a]);return v.createElement(Do.div,{ref:N0([l,t]),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&v.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),KN(e,h=>v.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},v.createElement(LW.Provider,{value:m},h))))}),Epe=v.forwardRef((e,t)=>{let{alwaysRender:r,...s}=e,a=v.useRef(null),i=Xf(o=>!o.search);return!r&&!i?null:v.createElement(Do.div,{ref:N0([a,t]),...s,"cmdk-separator":"",role:"separator"})}),Ape=v.forwardRef((e,t)=>{let{onValueChange:r,...s}=e,a=e.value!=null,i=OT(),o=Xf(u=>u.search),l=Xf(u=>u.value),c=oy(),d=v.useMemo(()=>{var u;let f=(u=c.listInnerRef.current)==null?void 0:u.querySelector(`${TT}[${nf}="${encodeURIComponent(l)}"]`);return f==null?void 0:f.getAttribute("id")},[]);return v.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),v.createElement(Do.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":d,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),Ppe=v.forwardRef((e,t)=>{let{children:r,label:s="Suggestions",...a}=e,i=v.useRef(null),o=v.useRef(null),l=oy();return v.useEffect(()=>{if(o.current&&i.current){let c=o.current,d=i.current,u,f=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let m=c.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return f.observe(c),()=>{cancelAnimationFrame(u),f.unobserve(c)}}},[]),v.createElement(Do.div,{ref:N0([i,t]),...a,"cmdk-list":"",role:"listbox","aria-label":s,id:l.listId},KN(e,c=>v.createElement("div",{ref:N0([o,l.listInnerRef]),"cmdk-list-sizer":""},c)))}),kpe=v.forwardRef((e,t)=>{let{open:r,onOpenChange:s,overlayClassName:a,contentClassName:i,container:o,...l}=e;return v.createElement(ype,{open:r,onOpenChange:s},v.createElement(jpe,{container:o},v.createElement(bpe,{"cmdk-overlay":"",className:a}),v.createElement(wpe,{"aria-label":e.label,"cmdk-dialog":"",className:i},v.createElement(BW,{ref:t,...l}))))}),Tpe=v.forwardRef((e,t)=>Xf(r=>r.filtered.count===0)?v.createElement(Do.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Ope=v.forwardRef((e,t)=>{let{progress:r,children:s,label:a="Loading...",...i}=e;return v.createElement(Do.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},KN(e,o=>v.createElement("div",{"aria-hidden":!0},o)))}),vi=Object.assign(BW,{List:Ppe,Item:Spe,Input:Ape,Group:Cpe,Separator:Epe,Dialog:kpe,Empty:Tpe,Loading:Ope});function Dpe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Ipe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function UW(e){let t=v.useRef(e);return Yf(()=>{t.current=e}),t}var Yf=typeof window>"u"?v.useEffect:v.useLayoutEffect;function Um(e){let t=v.useRef();return t.current===void 0&&(t.current=e()),t}function N0(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}function Xf(e){let t=OT(),r=()=>e(t.snapshot());return v.useSyncExternalStore(t.subscribe,r,r)}function VW(e,t,r,s=[]){let a=v.useRef(),i=oy();return Yf(()=>{var o;let l=(()=>{var d;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=s.map(d=>d.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(nf,l),a.current=l}),a}var Rpe=()=>{let[e,t]=v.useState(),r=Um(()=>new Map);return Yf(()=>{r.current.forEach(s=>s()),r.current=new Map},[e]),(s,a)=>{r.current.set(s,a),t({})}};function Mpe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function KN({asChild:e,children:t},r){return e&&v.isValidElement(t)?v.cloneElement(Mpe(t),{ref:t.ref},r(t.props.children)):r(t)}var Fpe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const vn=_T,$pe=nW,Lpe=ST,zW=v.forwardRef(({className:e,...t},r)=>n.jsx(ry,{ref:r,className:ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));zW.displayName=ry.displayName;const on=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Lpe,{children:[n.jsx(zW,{}),n.jsxs(ny,{ref:s,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(zN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(ps,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));on.displayName=ny.displayName;const yn=({className:e,...t})=>n.jsx("div",{className:ve("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});yn.displayName="DialogHeader";const qa=({className:e,...t})=>n.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});qa.displayName="DialogFooter";const jn=v.forwardRef(({className:e,...t},r)=>n.jsx(sy,{ref:r,className:ve("text-lg font-semibold leading-none tracking-tight",e),...t}));jn.displayName=sy.displayName;const Cs=v.forwardRef(({className:e,...t},r)=>n.jsx(ay,{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));Cs.displayName=ay.displayName;const DT=v.forwardRef(({className:e,...t},r)=>n.jsx(vi,{ref:r,className:ve("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));DT.displayName=vi.displayName;const Bpe=({children:e,shouldFilter:t=!0,...r})=>n.jsx(vn,{...r,children:n.jsx(on,{className:"overflow-hidden p-0 shadow-2xl border-border/50 max-w-2xl",children:n.jsx(DT,{shouldFilter:t,className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-semibold [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:uppercase [&_[cmdk-group-heading]]:tracking-wider [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-3 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),IT=v.forwardRef(({className:e,...t},r)=>n.jsxs("div",{className:"flex items-center border-b border-border/50 px-4 bg-muted/30","cmdk-input-wrapper":"",children:[n.jsx(ma,{className:"mr-3 h-5 w-5 shrink-0 text-primary/70"}),n.jsx(vi.Input,{ref:r,className:ve("flex h-14 w-full rounded-md bg-transparent py-3 text-base outline-none placeholder:text-muted-foreground/70 disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));IT.displayName=vi.Input.displayName;const RT=v.forwardRef(({className:e,...t},r)=>n.jsx(vi.List,{ref:r,className:ve("max-h-[400px] overflow-y-auto overflow-x-hidden p-2",e),...t}));RT.displayName=vi.List.displayName;const WW=v.forwardRef((e,t)=>n.jsx(vi.Empty,{ref:t,className:"py-12 text-center text-sm text-muted-foreground",...e}));WW.displayName=vi.Empty.displayName;const Il=v.forwardRef(({className:e,...t},r)=>n.jsx(vi.Group,{ref:r,className:ve("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-3 [&_[cmdk-group-heading]]:py-2 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-semibold [&_[cmdk-group-heading]]:text-muted-foreground/80 [&_[cmdk-group-heading]]:uppercase [&_[cmdk-group-heading]]:tracking-wider",e),...t}));Il.displayName=vi.Group.displayName;const Upe=v.forwardRef(({className:e,...t},r)=>n.jsx(vi.Separator,{ref:r,className:ve("-mx-1 h-px bg-border",e),...t}));Upe.displayName=vi.Separator.displayName;const _i=v.forwardRef(({className:e,...t},r)=>n.jsx(vi.Item,{ref:r,className:ve("relative flex cursor-pointer select-none items-center rounded-lg px-3 py-2.5 text-sm outline-none transition-all duration-150 data-[disabled=true]:pointer-events-none data-[selected='true']:bg-primary/10 data-[selected='true']:text-primary data-[selected=true]:shadow-sm data-[disabled=true]:opacity-50 hover:bg-muted/50",e),...t}));_i.displayName=vi.Item.displayName;const bi=cr.create({baseURL:to,timeout:3e4,headers:{"Content-Type":"application/json"}});bi.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const fj={async getNotifications(e){return(await bi.get("/notifications/",{params:e})).data},async getRecentNotifications(){return(await bi.get("/notifications/recent/")).data},async getNotification(e){return(await bi.get(`/notifications/${e}/`)).data},async getUnreadCount(){return(await bi.get("/notifications/unread_count/")).data.unread_count},async markAsRead(e){return(await bi.post(`/notifications/${e}/mark_read/`)).data},async markAllAsRead(){return(await bi.post("/notifications/mark_all_read/")).data},async deleteNotification(e){await bi.delete(`/notifications/${e}/`)},async clearReadNotifications(){return(await bi.delete("/notifications/clear_read/")).data},async getByType(e){return(await bi.get("/notifications/by_type/",{params:{type:e}})).data},async createNotification(e){return(await bi.post("/notifications/",e)).data},async getPreferences(){return(await bi.get("/notification-preferences/")).data},async updatePreferences(e){return(await bi.post("/notification-preferences/",e)).data}},Vpe=e=>({info:"text-blue-500",success:"text-green-500",warning:"text-amber-500",error:"text-red-500",order:"text-blue-500",delivery:"text-cyan-500",payment:"text-green-500",issue:"text-orange-500",system:"text-purple-500"})[e]||"text-muted-foreground",zpe=e=>{const t=new Date(e),s=new Date().getTime()-t.getTime(),a=Math.floor(s/6e4),i=Math.floor(s/36e5),o=Math.floor(s/864e5);return a<1?"Just now":a<60?`${a} min ago`:i<24?`${i} hour${i>1?"s":""} ago`:o<7?`${o} day${o>1?"s":""} ago`:t.toLocaleDateString()},MT=cr.create({baseURL:to,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});MT.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));MT.interceptors.response.use(e=>e,e=>{var t,r;return console.error("Search API error:",(t=e.response)==null?void 0:t.status,(r=e.response)==null?void 0:r.data),Promise.reject(e)});const Wpe={async globalSearch(e,t=5){return(await MT.get("/search/",{params:{q:e,limit:t}})).data}};function Hpe({className:e,onMenuToggle:t}){const[r,s]=v.useState(!1),[a,i]=v.useState(!1),[o,l]=v.useState(""),[c,d]=v.useState(null),[u,f]=v.useState(!1),[m,h]=v.useState([]),[x,p]=v.useState(0),[g,j]=v.useState(!1),[y,w]=v.useState(null),[b,N]=v.useState(!1),S=mr(),{toast:_}=gr();v.useEffect(()=>{(async()=>{try{if(un.isAuthenticated()){const T=await bc.getProfile();d(T)}}catch(T){console.error("Failed to fetch profile:",T)}})()},[]),v.useEffect(()=>{const F=async()=>{try{if(un.isAuthenticated()){j(!0);const[P,M]=await Promise.all([fj.getRecentNotifications(),fj.getUnreadCount()]);h(P),p(M)}}catch(P){console.error("Failed to fetch notifications:",P)}finally{j(!1)}};F();const T=setInterval(F,3e4);return()=>clearInterval(T)},[]);const E=v.useCallback(async()=>{try{await fj.markAllAsRead(),h(F=>F.map(T=>({...T,is_read:!0}))),p(0),_({title:"Notifications marked as read",description:"All notifications have been marked as read."})}catch(F){console.error("Failed to mark all as read:",F)}},[_]),A=v.useCallback(async F=>{try{await fj.markAsRead(F),h(T=>T.map(P=>P.id===F?{...P,is_read:!0}:P)),p(T=>Math.max(0,T-1))}catch(T){console.error("Failed to mark as read:",T)}},[]),k=v.useCallback(async()=>{f(!0);try{const F=un.getRefreshToken();F&&await bc.logout(F),un.clearTokens(),_({title:"Logged out",description:"You have been successfully logged out."}),S("/login")}catch(F){console.error("Logout failed:",F),un.clearTokens(),S("/login")}finally{f(!1)}},[S,_]),D=v.useMemo(()=>{var P,M,O,K;if(!c)return"U";const F=((P=c.first_name)==null?void 0:P[0])||"",T=((M=c.last_name)==null?void 0:M[0])||"";return F||T?(F+T).toUpperCase():((K=(O=c.username)==null?void 0:O[0])==null?void 0:K.toUpperCase())||"U"},[c]),I=v.useMemo(()=>c?c.first_name&&c.last_name?`${c.first_name} ${c.last_name}`:c.username||"User":"User",[c]);v.useEffect(()=>{const F=T=>{T.key==="k"&&(T.metaKey||T.ctrlKey)&&(T.preventDefault(),s(P=>!P))};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[]);const W=F=>{switch(F){case"order":return Ns;case"payment":return ws;case"delivery":return _r;case"issue":return At;case"warning":return At;case"success":return yo;default:return uf}};v.useEffect(()=>{const F=setTimeout(async()=>{var P,M;const T=o.trim();if(T.length>=2){N(!0);try{console.log("Searching for:",T);const O=await Wpe.globalSearch(T,5);console.log("Search results:",O),w(O)}catch(O){console.error("Search failed:",O),console.error("Error response:",(P=O.response)==null?void 0:P.data),console.error("Error status:",(M=O.response)==null?void 0:M.status),w(null)}finally{N(!1)}}else w(null)},300);return()=>clearTimeout(F)},[o]);const H=(F,T,P)=>{s(!1),l(""),w(null),F==="apartment"?S(`/apartments/${T}`):F==="client"?S("/clients"):F==="vendor"?S("/vendors"):F==="delivery"?S("/deliveries"):F==="issue"?S(P?`/apartments/${P}`:"/issues"):F==="product"&&P&&S(`/apartments/${P}`)};return n.jsxs(n.Fragment,{children:[n.jsx("header",{className:ve("sticky top-0 z-20 w-full","bg-background/80 backdrop-blur-xl","border-b border-border/40","supports-[backdrop-filter]:bg-background/60",e),children:n.jsxs("div",{className:"flex items-center justify-between h-16 px-4 lg:px-6",children:[n.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[n.jsx(ee,{variant:"ghost",size:"icon",className:"md:hidden h-9 w-9 hover:bg-muted/80",onClick:t,children:n.jsx(_se,{className:"h-5 w-5"})}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center shadow-lg shadow-primary/20",children:n.jsx(Cc,{className:"h-4 w-4 text-primary-foreground"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-bold tracking-tight text-foreground",children:"Buy2Rent"}),n.jsx("span",{className:"text-[10px] text-muted-foreground -mt-0.5",children:"Procurement"})]})]})}),n.jsxs(ee,{variant:"outline",className:ve("relative hidden lg:flex items-center gap-3","h-10 rounded-xl px-4","bg-muted/30 hover:bg-muted/50","border-border/50 hover:border-primary/30","text-sm text-muted-foreground","transition-all duration-300","min-w-[280px] lg:min-w-[360px]","justify-start","group"),onClick:()=>s(!0),children:[n.jsx(ma,{className:"h-4 w-4 text-muted-foreground/70 group-hover:text-primary transition-colors"}),n.jsx("span",{className:"flex-1 text-left text-muted-foreground/70",children:"Search apartments, clients, products..."}),n.jsxs("kbd",{className:ve("hidden lg:inline-flex h-5 select-none items-center gap-1","rounded-md border border-border/50 bg-background/80","px-1.5 font-mono text-[10px] font-medium text-muted-foreground/70"),children:[n.jsx("span",{className:"text-xs",children:""}),"K"]})]})]}),n.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[n.jsx(ee,{variant:"ghost",size:"icon",className:"lg:hidden h-9 w-9 hover:bg-muted/80",onClick:()=>s(!0),children:n.jsx(ma,{className:"h-5 w-5"})}),n.jsxs(ee,{variant:"ghost",size:"icon",className:ve("relative h-9 w-9 rounded-xl","hover:bg-muted/80 transition-all duration-200","group"),onClick:()=>i(!0),children:[n.jsx(uf,{className:"h-5 w-5 text-muted-foreground group-hover:text-foreground transition-colors"}),x>0&&n.jsx("span",{className:ve("absolute -top-0.5 -right-0.5","flex h-5 min-w-5 items-center justify-center","rounded-full bg-primary px-1","text-[10px] font-bold text-primary-foreground","shadow-lg shadow-primary/30","animate-in zoom-in-50"),children:x})]}),n.jsx("div",{className:"hidden lg:block h-6 w-px bg-border/50 mx-2"}),n.jsxs(ey,{children:[n.jsx(ty,{asChild:!0,children:n.jsxs(ee,{variant:"ghost",className:ve("h-10 gap-2 px-2 lg:px-3 rounded-xl","hover:bg-muted/80 transition-all duration-200"),children:[n.jsx(cE,{className:ve("h-8 w-8","ring-2 ring-primary/20 ring-offset-2 ring-offset-background","transition-all duration-300"),children:n.jsx(dE,{className:"bg-gradient-to-br from-primary via-primary to-primary/80 text-primary-foreground text-xs font-semibold",children:D})}),n.jsxs("div",{className:"hidden lg:flex flex-col items-start",children:[n.jsx("span",{className:"text-sm font-medium",children:I}),n.jsx("span",{className:"text-[10px] text-muted-foreground",children:(c==null?void 0:c.username)||"User"})]}),n.jsx(Ou,{className:"hidden lg:block h-4 w-4 text-muted-foreground"})]})}),n.jsxs(Qp,{align:"end",className:ve("w-64 p-2","bg-popover/95 backdrop-blur-xl","border-border/50","shadow-xl"),children:[n.jsxs("div",{className:"flex items-center gap-3 p-2 mb-2",children:[n.jsx(cE,{className:"h-10 w-10 ring-2 ring-primary/20",children:n.jsx(dE,{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground font-semibold",children:D})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-semibold",children:I}),n.jsx("span",{className:"text-xs text-muted-foreground",children:(c==null?void 0:c.email)||"user@example.com"})]})]}),n.jsx($c,{className:"bg-border/50"}),n.jsxs(Mn,{className:"cursor-pointer rounded-lg h-10 gap-3",children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-muted/50 flex items-center justify-center",children:n.jsx(w4,{className:"h-4 w-4 text-muted-foreground"})}),n.jsx("span",{children:"Profile"})]}),n.jsxs(Mn,{className:"cursor-pointer rounded-lg h-10 gap-3",onClick:()=>S("/settings"),children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-muted/50 flex items-center justify-center",children:n.jsx($v,{className:"h-4 w-4 text-muted-foreground"})}),n.jsx("span",{children:"Settings"})]}),n.jsxs(Mn,{className:"cursor-pointer rounded-lg h-10 gap-3",children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-muted/50 flex items-center justify-center",children:n.jsx(Xc,{className:"h-4 w-4 text-muted-foreground"})}),n.jsx("span",{children:"Team"})]}),n.jsx($c,{className:"bg-border/50"}),n.jsxs(Mn,{className:"cursor-pointer rounded-lg h-10 gap-3 text-red-500 hover:text-red-500 hover:bg-red-500/10",onClick:k,disabled:u,children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-red-500/10 flex items-center justify-center",children:n.jsx(wse,{className:ve("h-4 w-4",u&&"animate-spin")})}),n.jsx("span",{children:u?"Logging out...":"Log out"})]})]})]})]})]})}),n.jsxs(Bpe,{open:r,onOpenChange:F=>{s(F),F||l("")},shouldFilter:!1,children:[n.jsxs("div",{className:"flex items-center border-b px-3",children:[n.jsx(ma,{className:"h-4 w-4 text-muted-foreground mr-2"}),n.jsx(IT,{placeholder:"Search apartments, clients, vendors, products...",className:"h-14 text-base border-0 focus:ring-0",value:o,onValueChange:l})]}),n.jsxs(RT,{className:"min-h-[350px] max-h-[450px]",children:[b&&n.jsx("div",{className:"py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Searching..."})]})}),!b&&o.length>=2&&y&&y.total_results===0&&n.jsx("div",{className:"py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(ma,{className:"h-10 w-10 text-muted-foreground/30"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"No results found"}),n.jsx("p",{className:"text-xs text-muted-foreground/70",children:"Try searching for apartments, clients, vendors, or products"})]})}),y&&y.apartments.length>0&&n.jsx(Il,{heading:`Apartments (${y.apartments.length})`,children:y.apartments.map(F=>n.jsxs(_i,{value:`apartment-${F.id}`,onSelect:()=>H("apartment",F.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-emerald-500/10 flex items-center justify-center mr-3",children:n.jsx(fr,{className:"h-4 w-4 text-emerald-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:F.address})]}),n.jsx("span",{className:ve("text-[10px] px-2 py-0.5 rounded-full",F.status==="In Progress"?"bg-blue-500/10 text-blue-500":F.status==="Completed"?"bg-green-500/10 text-green-500":"bg-muted text-muted-foreground"),children:F.status})]},F.id))}),y&&y.clients.length>0&&n.jsx(Il,{heading:`Clients (${y.clients.length})`,children:y.clients.map(F=>n.jsxs(_i,{value:`client-${F.id}`,onSelect:()=>H("client",F.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-violet-500/10 flex items-center justify-center mr-3",children:n.jsx(b7,{className:"h-4 w-4 text-violet-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:F.email})]}),n.jsx("span",{className:ve("text-[10px] px-2 py-0.5 rounded-full",F.account_status==="Active"?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"),children:F.account_status})]},F.id))}),y&&y.vendors.length>0&&n.jsx(Il,{heading:`Vendors (${y.vendors.length})`,children:y.vendors.map(F=>n.jsxs(_i,{value:`vendor-${F.id}`,onSelect:()=>H("vendor",F.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-amber-500/10 flex items-center justify-center mr-3",children:n.jsx(La,{className:"h-4 w-4 text-amber-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:F.company_name||F.email||"No details"})]})]},F.id))}),y&&y.products.length>0&&n.jsx(Il,{heading:`Products (${y.products.length})`,children:y.products.map(F=>n.jsxs(_i,{value:`product-${F.id}`,onSelect:()=>H("product",F.id,F.apartment_id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-orange-500/10 flex items-center justify-center mr-3",children:n.jsx(ot,{className:"h-4 w-4 text-orange-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.product}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[F.vendor,"  ",F.category||"Uncategorized"]})]}),n.jsx("span",{className:ve("text-[10px] px-2 py-0.5 rounded-full",F.status==="Delivered"?"bg-green-500/10 text-green-500":F.status==="Ordered"?"bg-blue-500/10 text-blue-500":"bg-muted text-muted-foreground"),children:F.status})]},F.id))}),y&&y.deliveries.length>0&&n.jsx(Il,{heading:`Deliveries (${y.deliveries.length})`,children:y.deliveries.map(F=>n.jsxs(_i,{value:`delivery-${F.id}`,onSelect:()=>H("delivery",F.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-cyan-500/10 flex items-center justify-center mr-3",children:n.jsx(_r,{className:"h-4 w-4 text-cyan-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.order_reference||`Delivery #${F.id.slice(0,8)}`}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[F.vendor,"  ",F.expected_date||"No date"]})]}),n.jsx("span",{className:ve("text-[10px] px-2 py-0.5 rounded-full",F.status==="Delivered"?"bg-green-500/10 text-green-500":F.status==="In Transit"?"bg-blue-500/10 text-blue-500":F.status==="Scheduled"?"bg-amber-500/10 text-amber-500":"bg-muted text-muted-foreground"),children:F.status})]},F.id))}),y&&y.issues.length>0&&n.jsx(Il,{heading:`Issues (${y.issues.length})`,children:y.issues.map(F=>n.jsxs(_i,{value:`issue-${F.id}`,onSelect:()=>H("issue",F.id,F.apartment_id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-red-500/10 flex items-center justify-center mr-3",children:n.jsx(At,{className:"h-4 w-4 text-red-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.product_name}),n.jsxs("span",{className:"text-xs text-muted-foreground line-clamp-1",children:[F.type,"  ",F.priority]})]}),n.jsx("span",{className:ve("text-[10px] px-2 py-0.5 rounded-full",F.status==="Closed"?"bg-green-500/10 text-green-500":F.status==="Open"?"bg-red-500/10 text-red-500":"bg-amber-500/10 text-amber-500"),children:F.status})]},F.id))}),!o&&n.jsxs(Il,{heading:"Quick Actions",children:[n.jsxs(_i,{value:"go-to-apartments",onSelect:()=>{s(!1),S("/apartments")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-emerald-500/10 flex items-center justify-center mr-3",children:n.jsx(fr,{className:"h-4 w-4 text-emerald-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:"View All Apartments"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse apartments"})]})]}),n.jsxs(_i,{value:"go-to-clients",onSelect:()=>{s(!1),S("/clients")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-violet-500/10 flex items-center justify-center mr-3",children:n.jsx(Xc,{className:"h-4 w-4 text-violet-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:"View All Clients"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse clients"})]})]}),n.jsxs(_i,{value:"go-to-vendors",onSelect:()=>{s(!1),S("/vendors")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-amber-500/10 flex items-center justify-center mr-3",children:n.jsx(La,{className:"h-4 w-4 text-amber-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:"View All Vendors"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse vendors"})]})]}),n.jsxs(_i,{value:"go-to-deliveries",onSelect:()=>{s(!1),S("/deliveries")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-cyan-500/10 flex items-center justify-center mr-3",children:n.jsx(_r,{className:"h-4 w-4 text-cyan-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:"View All Deliveries"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse deliveries"})]})]})]})]})]}),n.jsx(Yme,{open:a,onOpenChange:i,children:n.jsxs(aW,{className:"w-full sm:w-[420px] p-0 border-l-border/50",children:[n.jsx(iW,{className:"p-6 pb-4 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx(uf,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(oW,{className:"text-lg",children:"Notifications"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[x," unread messages"]})]})]}),x>0&&n.jsxs(ee,{variant:"ghost",size:"sm",className:"text-xs text-primary hover:text-primary",onClick:E,children:[n.jsx(yo,{className:"h-3 w-3 mr-1"}),"Mark all read"]})]})}),n.jsx(ud,{className:"h-[calc(100vh-120px)]",children:n.jsx("div",{className:"p-4 space-y-2",children:g?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full"})}):m.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"h-12 w-12 rounded-xl bg-muted/50 flex items-center justify-center mb-3",children:n.jsx(uf,{className:"h-6 w-6 text-muted-foreground/50"})}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No notifications"}),n.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:"You're all caught up!"})]}):m.map(F=>{const T=W(F.notification_type);return n.jsx("div",{className:ve("group relative p-4 rounded-xl border transition-all duration-200 cursor-pointer","hover:shadow-md hover:scale-[1.01]",F.is_read?"bg-card border-border/50 hover:bg-muted/50":"bg-primary/5 border-primary/20 hover:bg-primary/10"),onClick:()=>{F.is_read||A(F.id),F.action_url&&(S(F.action_url),i(!1))},children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:ve("h-10 w-10 rounded-xl flex items-center justify-center flex-shrink-0",F.is_read?"bg-muted/50":"bg-background"),children:n.jsx(T,{className:ve("h-5 w-5",Vpe(F.notification_type))})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("p",{className:"font-medium text-sm",children:F.title}),!F.is_read&&n.jsx("span",{className:"h-2 w-2 rounded-full bg-primary flex-shrink-0 mt-1.5"})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:F.message}),n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-[10px] text-muted-foreground/70",children:[n.jsx(wr,{className:"h-3 w-3"}),n.jsx("span",{children:zpe(F.created_at)})]})]})]})},F.id)})})})]})})]})}const bS=768;function HW(){const[e,t]=v.useState(void 0);return v.useEffect(()=>{const r=window.matchMedia(`(max-width: ${bS-1}px)`),s=()=>{t(window.innerWidth<bS)};return r.addEventListener("change",s),t(window.innerWidth<bS),()=>r.removeEventListener("change",s)},[]),!!e}const qpe="/assets/buy2rent-CUbASZeg.png",Gpe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAAyCAYAAACauW+fAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADwZJREFUeNrsWwlYVdUW3ne+gDiWQw6pDyXLPmdNqLwKjljyKrG0TCtnM8vZ0rSytKeYiebwyinQcAiVckBDK3DAAVBfaQ6k4ggoCNz53vevc/e5Hi6XQYLv63vvrO9b3z5nn7X3Xmf/e6299jr3MiaTTDLJJJNMMskkk0wyySSTTDLJJJNMMv39SCFe/Gt88EQULR6suVPoQqVWspp1m7D6AV1YkyfDmN1qZA67taI6nQafAf/crl07GaEqIrV40aJxjX4oni035MBcpQToGhXTaNVM56NkfsoLzOfuXvZomxeZyufhiupUwDk7JSUlBuXiTp062WSoqgh4q82hQ6ErD+BKAlylZAq1GsCrmRKlk9mZqTCbZV1OYab8a+yRx/qymo26VkQn0qE2uHHHjh2bogxLSkqaERwcfEiGq/JIKbl2lGulaJRMo9PAwnVM56tjeirBel898/HzFa6dliyWk7GLFWSd/qv61QR3CwoKWp+YmNhFhqtqgC91LycrFwDXu8DWFwHdVQrXYB8/P2wDJpZ/bTdzOqyVoWeAwWBYn5CQ8JAMWSW7eu9unQBXInhTwdLVrGH9GkyDUqPVMDX29Tt5ZsHV07VG45JR056v0biulfnMlneCaWpWirG2DA0NnYXyHRm2qgIe+7gC8b4AqtoVvKnU6k3j5+/fpIDlk/UrFEoW+2VES61OOzIr1xhAwKsAuLAwhIBPg71fycx3T3sC/wfn45I6f3AH8DNl6PtGXFzcgvDw8GsydFUAvBKBm5pbsIZbNBZAWnJa5nap3OtTv1dD9uCK+S98A9knXN6AZBHsOR3MYraCr7JqTYt0vysiIuJLlNcldVpwg9jY2DA6WZaib7UBAwbQ4vhOhq4SgSdrVqtU3HWrXcBrXcDD3es9G+/59Twds47q9bqvIBtFsnSut1ltANzCTCYAbzJ7Nru9efPmCx51heC7Q4YMOR8dHR2K696l6BwqA1+JwR25dLhtd4B2v9Qyvd7FJZGPn88fWgR+DoeTmYxmVnCvkBXkGcFU5pc7roiJiaFIcEUZOjeXYatEi6fInFy0WqtyW7vU8mHxZm8dLPkonILAEVaLjZmNFmY2m5nFaBUs3gxX71RoK3KOL41UMmyVCDxZuCsiV7v3dpUEeHCLz6b3e4b2f0rRKhH92WyOh99+45neN2/m/lPYz+HWzULpAp7u6zbv4DmmvSRloqKihACuzLOlTFULvBDU8Sgd1/2mTwjpwBCtA3XGrA7mMFtqZmZmNyFLdwVyFmYF6GaLlVlxb0XZIDDEc0zfRYsW1fSii++4ceNeRWkoQ2e9DFtlunoOvBt0TVG3j7LevXxLPafTLABqhjs3C1Z9H3SL2eYG3OFUsYAuQ1j1uv/wHPP59957z9vHIB8euJW1N/xHhq1SgdeKLr2I5fOjnCBjs9kBONw5gS26cwF0F9M+byNrR1TvcKiYzq+utzEf51xRipFhq0xXr78PvEZLlu/KvtERzw7ACVg36KJblwBOVu4CHmy3Mwf41E9fM61PdfZQ4yfEYeK4RZN1N+J19EGmTjn1vfjxxx8ny7A9OM2aRUlP1hjzd0U4uosPrhyemQhLN1DGjaxdgSDO6XAwC7n1QgFss59OZRGidRF8k8X/dna+YOE2gQlwh5DqFaI4q5nVbvgY6zZkPi2Ay6jaD36ED9mEl/T9trw5+IEKhWKLZ+W0adPaliB/bcGCBbeqelLDn21GBtRaUnUH/Gfcz5dE/V6RvK8nGZnrNwg/Qdcq0Q/jB8yfP/8lmmfM3+QiwN9Kn5sIwA0UsVPcLBzPTASyWXDruN+xduuJHTabDR7AwewA2G61PT6kT2Bw9p3CLmThdI73JJvFyDr0m2Bq0fkFytb1ADekLF0F9F8aGRk5YdKkScXDfKczWXLUU0qi//OQT6DtAW3NVTGpzz3dtNs7g9rQpIbW8BMyWCy3wEKI7/hiU9rX8UkZRuiXjvsnS+mGUthzAUp0VeiI8b9grm8chzBGUBHg8859lkgRtR0AEtCUiBH3cTqiwaKndR747889Ox0Z3rp9r06NvsUst/J66FZrWd169RcGv74yftmyZTSeDtF73ANE55QdjEHb0ePHjzeW8GJlHfFm4YU/qewJ7fNUk5ZThrTfkZNnCqzup90bu//8DaqPCAkIyyuw1Knlr3s7dML2KKiXKJ5W8B7LxPaYh/oowvhcZOP9AvE4mz+jIgAcyMX/JM8gNsdzPxTN+LO74EeZ6zO2CXwWcle5XBiOyUtwSVH2KYwxg8ZyA3/3908TrWaLwWR0u3FJtC4AP7fb8Og53iZg87w+r6NY6+1ZzRr+h2N3p/Xs9PxkNnLkyHwO1GIUE8sxt5fh/pbVrl17KdoaS1nRIvC7Vq9evYtf+40YMeJFlB2FFQ7CPSUV2tM95FaL7VEfxregaxjrck5OTlfuMfZC7E+JXG/usnWoj9q/NHwWQP+I9NyXcrXlyrjTglcZFd46LLRTo2h4UFP41Pj6UuBJD7E/uF8V3DB9m3iXVz2Nx0kYp+GqVate4R6yG392DLwT87ARY2eiT9revuDPboLbcW+aA06G3GLIHYZcHh2VuTekHAqlx39xT17m0fcTL/4y1fn7vonO9PhxzuNbRzoPxQxzHlz7qnPfqpede5a9NKekiQfwfcBOL5w59oXWxSL4NWvW+EOhNGfZlNqzZ8/yuDKR3vaonyY+4PeR0nuJ3GlefXrv3r29JP25PdywYcM0uM/i9UISalfkc2PA2eCvPXXaHfVi8qGNw8VxE72NS++Gqnck4/XCODqUayR11ziLtIbLhHiZL6ncGcj5orSCHbzOwe/3uaN6yq8XOZrRmdxqdUfriOwt3ib96TYNaDWN8PLI7Oejmb182+li5+7hw4ff02q1owcPHrwXt9VKwbQNgBgEKyjvRxkD+syWbsG8TBJ3tBLa3RbLXr167cXEnOCeIQL9zYmJiSnEYg2SnD5mCuAevryV36cUSVSEtqrftGWjhv61/IsNhP4Gi9fR0dEBEmu3YpwrGIc81DBet3758uUb6GLs2LEkR7+LHAaZtR4Z0KNouxvlSXQ/EmVfOjJDrgXqZ6JuFHf1F3G/kjyU2+2cjBuTaLVYDBY6jhH4kjM5HecQuK1ZtPHkNx7voZ036qme2bmm6cXScHr1iv3Hro6J3JjKuj5Zf6BkgimKP3Do1I3bmOB54iSWQtcjIiLab968+UY5XH1JNAOLZz7EyGt96OlyJa74AKq7434AP3oKWzbqNqOOFl8EReHQ5XHolOE5SP+QVpTObvX9qqEfYE4G+1fTReubT39V6upLIHLVGzDOFMguxfV4MYwICgrKpIvk5GRqv5TX0zv8DE4UnQfa7uPvQttUsrQedWRg5DoTcN+ryDneWGB0W7fL0gE4jmcUvVO0jmkaCJD7eSjsjxf0LZaC06kPHTx5bQaBToR2sfwR/WyaDvV9eoyP27N9+/YPBwwYECzZx7wRfaefHR4ePhbyZVn8Vc4iUfDUlMbDOFvKG7RhnO2Q/425AtbJuE7g1kb0ozfQ+/Zo5bNz3Zt9mEY105hr7Kiw22PXbTo61kMsi8cO4k+QyYt+v2HDhj3Vq1dfw+s6SeTXA3Axk1kgqff8kGWSXGs8AmNpnaZYAkcAnp/FRSt38uMZt41qALlaOebtdlL69Qmff3virliBdp4uVQiCAKYtPj5+VFhY2BHc1iilzzFxcXHrsFqPlDH2ph9++GGReJOfn99u0KBB62hhoT1lMDLK8+EHeolHIHKLndF2mmRLWuLZuLfhsYAfY8e8lpV5Z7bS6biw7ce0yXa7c9HoWcUW6nHotw3vO4/nLmgeYhcuXLgtPT1dlLF6AOeQHFUv8sVyo6REHCvn7yjdQsZCi+uzKqJ5SsY4HRX6CObUa1XzPlt//FiRrypalcg+vHR/Wu3fv/9ZFAtZ2V/dloSGhvqWIZOF/m6IPGfOHIrwz/FnLSSTyNCXmpfipBahffv2RXMLJRK3snOoL5I5NAQFtN29ZczKa5duzc7Jyo3fGHe874iZcd5AFywVeq1CH+SqKRahIGBrWlraaFEfiXEQ0db6JhbeMDCdnN5nrh+hHHtAXESc7fyd/dwrxWI2M4fd6QJcUbFzrU6jij9+9nYxi0DdAX6ZyjNV0gCMHThw4BODwRDEg5KSqEtCQsJb3bt3/xLyJcm0Qj/uvZT/JLszvz3Fz8ICoa9h6OsIymaS9LE04i6A1dNRS5pOW4J6d1DVtf2jNRNjR8efS81omJtz71u73f7a3MgE1rp5HT13I6YzF7OZl76XQzcVVJ3DU9ZfQQ8b9FnLj8XPcSsm3XdPmTKFti9feCIKBgfz/d3xANAU8rIOzQ/GCnRDHPtJn1/h0oMrmszQalRXT13IbvvBysPZFWmflJTUDIHMEcn+V1Iypy1c/pkHDO7+wF5JE3YLY6TxRAfjLrO+VA30/bTE6n1DQkJo0mvRHos+GgQHB98Tn+emze5z/sLNXXl38ljunfyJiIu0dWv5KZwEuVPQK3NC5MHv0s9n0UoN9uwf7/wu9Jkt0Yei7018O3lZkuSi4K+eJMVr4FvPfl4Xgn5/4nPRw7MedVM9FvAp9X3glJRmrFtR4H/LyHm3oqATYUIvSaPuEohc8luSI5A05emNzMeOHTtPfaJ/YRNNSUn5tGPHjm/wPZYW/u+Svi9JGw8dOtSYmZlJQR55ozgp6ETpqRfvmArMt+gHJyqFYqFap1HkFZpd3ypcwLMJA9vs5P3W9ewf/S2GPmroM4K7Y3LlKdB5OMp7qO/OP2hRUHYR9RSj0LEtHc/aSN5bGvgVeNaj3UbIPy/J9J2Q/mmyAfsLP3KYEpV06a+mQE+ePEn6DClDrFq7du1WeLRrVoLsFcjavIxTh28rl/lJg6g6RceQv962bVuyQA3k6FckG8mQUlNTn8Kzo0WCjkkGPU49L3FL41GKU/RCxLlTopJ3oh9xboX+vejTTLIXF0DmBq8nw2wsyqH+kqSNXvLN4zqemcqop9OB+CPW/fL3Su95geng9ZIs2AF5Vv4/gN/CAc8Dnzx79myD/7V3VMswF6eMjIz19MGGbwVfBQYGFsizIpNMMskkk0wyySSTTDLJJNPfgP4rwAAac5xZmi8mLQAAAABJRU5ErkJggg==",Vm=cr.create({baseURL:to,headers:{"Content-Type":"application/json"}});Vm.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const FT={getOverview:async()=>(await Vm.get("/dashboard/overview/")).data,getStats:async()=>(await Vm.get("/dashboard/stats/")).data,getCharts:async()=>(await Vm.get("/dashboard/charts/")).data,getRecentActivities:async()=>{var t,r;const e=await Vm.get("/dashboard/recent-activities/");return console.log("=== API Response ==="),console.log("Full response:",e.data),console.log("Recent Orders count:",(t=e.data.recent_orders)==null?void 0:t.length),((r=e.data.recent_orders)==null?void 0:r.length)>0&&(console.log("First order:",e.data.recent_orders[0]),console.log("First order items:",e.data.recent_orders[0].items)),e.data},getQuickStats:async()=>(await Vm.get("/dashboard/quick-stats/")).data},$T={all:["dashboard"],overview:["dashboard","overview"],stats:["dashboard","stats"],charts:["dashboard","charts"],recentActivities:["dashboard","recent-activities"],quickStats:["dashboard","quick-stats"]},Kpe=()=>Ss({queryKey:$T.overview,queryFn:FT.getOverview,staleTime:60*1e3,refetchInterval:5*60*1e3}),qW=()=>Ss({queryKey:$T.recentActivities,queryFn:FT.getRecentActivities,staleTime:30*1e3}),Ype=()=>Ss({queryKey:$T.quickStats,queryFn:FT.getQuickStats,staleTime:60*1e3});function Xpe({isCollapsed:e,onToggle:t,className:r,isMobileOpen:s=!1}){const a=oc(),i=HW(),{theme:o,setTheme:l}=Vp(),c=o==="dark",{data:d,isLoading:u}=Ype(),f=()=>{l(c?"light":"dark")},m=v.useMemo(()=>{var b,N,S;const p=((b=d==null?void 0:d.active_apartments)==null?void 0:b.value)??0,g=((N=d==null?void 0:d.deliveries_this_week)==null?void 0:N.value)??0,j=((S=d==null?void 0:d.open_issues)==null?void 0:S.value)??0,y=(d==null?void 0:d.total_clients)??0,w=(d==null?void 0:d.total_vendors)??0;return{totalApartments:p,pendingDeliveries:g,openIssues:j,totalClients:y,totalVendors:w}},[d]),h=[{title:"Main",items:[{title:"Overview",icon:p7,href:"/overview",color:"text-blue-500"}]},{title:"Management",items:[{title:"Clients",icon:Xc,href:"/clients",color:"text-violet-500"},{title:"Apartments",icon:_k,href:"/apartments",color:"text-emerald-500"},{title:"Orders",icon:Ns,href:"/orders",color:"text-orange-500"},{title:"Deliveries",icon:_r,href:"/deliveries",badge:m.pendingDeliveries>0?m.pendingDeliveries:void 0,color:"text-cyan-500"},{title:"Payments",icon:ws,href:"/payments",color:"text-green-500"},{title:"Issues",icon:At,href:"/issues",badge:m.openIssues>0?m.openIssues:void 0,color:"text-red-500"},{title:"Vendors",icon:La,href:"/vendors",color:"text-amber-500"}]},{title:"System",items:[{title:"Automations",icon:d0,href:"/automations",color:"text-yellow-500"},{title:"Settings",icon:$v,href:"/settings",color:"text-slate-500"}]}],x=({item:p,isActive:g})=>{const j=n.jsxs(Ki,{to:p.href,className:ve("group relative flex items-center gap-3 rounded-xl px-3 py-2.5 transition-all duration-300 ease-out","hover:bg-gradient-to-r hover:from-sidebar-accent hover:to-sidebar-accent/50",g?"bg-gradient-to-r from-primary/15 to-primary/5 text-primary shadow-sm":"text-sidebar-foreground/80 hover:text-sidebar-foreground",e&&!i&&"justify-center px-2.5"),children:[n.jsxs("div",{className:ve("relative flex items-center justify-center transition-transform duration-300","group-hover:scale-110",g&&"scale-110"),children:[n.jsx(p.icon,{className:ve("h-[18px] w-[18px] shrink-0 transition-colors duration-300",g?"text-primary":p.color||"text-sidebar-foreground/70","group-hover:text-primary")}),g&&n.jsx("div",{className:ve("absolute inset-0 blur-lg opacity-50",p.color||"bg-primary")})]}),n.jsx("span",{className:ve("text-sm font-medium transition-all duration-300 whitespace-nowrap",e&&!i?"opacity-0 w-0 hidden":"opacity-100",g&&"font-semibold"),children:p.title}),p.badge&&!e&&n.jsx("span",{className:ve("ml-auto flex h-5 min-w-5 items-center justify-center rounded-full px-1.5","text-[10px] font-semibold","bg-primary/10 text-primary","animate-pulse"),children:p.badge}),p.badge&&e&&!i&&n.jsx("span",{className:"absolute -top-0.5 -right-0.5 h-2 w-2 rounded-full bg-primary animate-pulse"})]});return e&&!i?n.jsxs(_oe,{delayDuration:0,children:[n.jsx(Soe,{asChild:!0,children:j}),n.jsxs(lU,{side:"right",sideOffset:12,className:"z-[100] flex items-center gap-2 bg-popover/95 backdrop-blur-sm shadow-lg border-border/50",children:[p.title,p.badge&&n.jsx("span",{className:"flex h-5 min-w-5 items-center justify-center rounded-full bg-primary/10 text-primary text-[10px] font-semibold px-1.5",children:p.badge})]})]}):j};return n.jsx(oU,{delayDuration:0,children:n.jsxs("aside",{className:ve("fixed top-0 left-0 flex flex-col h-screen","bg-gradient-to-b from-sidebar via-sidebar to-sidebar/95","border-r border-sidebar-border/50","transition-all duration-300 ease-out","backdrop-blur-xl",i?ve("w-72 z-50 shadow-2xl",s?"translate-x-0":"-translate-x-full"):ve(e?"w-[72px]":"w-72","z-40"),r),children:[n.jsxs("div",{className:ve("flex items-center shrink-0 relative","h-16 px-4","border-b border-sidebar-border/50","bg-gradient-to-r from-sidebar to-sidebar/80"),children:[n.jsx("div",{className:ve("flex items-center gap-3 transition-all duration-300",e&&!i?"justify-center w-full":""),children:n.jsx("div",{className:ve("relative flex items-center justify-center","transition-all duration-300",e&&!i?"w-10 h-10":"w-auto h-10"),children:n.jsx("img",{src:c?Gpe:qpe,alt:"Buy2Rent",className:ve("transition-all duration-300 object-contain",e&&!i?"h-8 w-8":"h-9 max-w-[160px]")})})}),!i&&n.jsx(ee,{variant:"outline",size:"icon",onClick:t,className:ve("absolute -right-4 top-1/2 -translate-y-1/2 z-50","h-7 w-7 rounded-full","bg-background border-2 border-border shadow-lg","hover:bg-primary hover:text-primary-foreground hover:border-primary","hover:scale-110","transition-all duration-300","flex items-center justify-center"),children:e?n.jsx(xu,{className:"h-4 w-4"}):n.jsx(Sk,{className:"h-4 w-4"})})]}),n.jsx(ud,{className:"flex-1 py-1",children:n.jsx("nav",{className:"px-3 ",children:h.map((p,g)=>n.jsx("div",{children:n.jsx("div",{className:"",children:p.items.map((j,y)=>{const w=a.pathname===j.href||j.href!=="/overview"&&a.pathname.startsWith(j.href+"/");return n.jsx(x,{item:j,isActive:w},y)})})},g))})}),n.jsxs("div",{className:ve("mt-auto shrink-0","border-t border-sidebar-border/50","bg-gradient-to-t from-sidebar/50 to-transparent"),children:[n.jsx("div",{className:ve("p-3",e&&!i?"px-2":"px-4"),children:n.jsxs("button",{onClick:f,className:ve("w-full flex items-center gap-3 rounded-xl p-2.5 transition-all duration-300","bg-sidebar-accent/30 hover:bg-sidebar-accent/50","group",e&&!i&&"justify-center"),children:[n.jsxs("div",{className:ve("relative flex items-center justify-center","h-8 w-8 rounded-lg","bg-gradient-to-br transition-all duration-500",c?"from-indigo-500/20 to-purple-500/20":"from-amber-500/20 to-orange-500/20","group-hover:scale-110"),children:[n.jsx(Lv,{className:ve("h-4 w-4 absolute transition-all duration-500",c?"opacity-0 rotate-90 scale-0":"opacity-100 rotate-0 scale-100 text-amber-500")}),n.jsx(Fv,{className:ve("h-4 w-4 absolute transition-all duration-500",c?"opacity-100 rotate-0 scale-100 text-indigo-400":"opacity-0 -rotate-90 scale-0")})]}),(!e||i)&&n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("p",{className:"text-xs font-medium text-sidebar-foreground",children:c?"Dark Mode":"Light Mode"}),n.jsx("p",{className:"text-[10px] text-sidebar-foreground/50",children:"Click to switch"})]})]})}),(!e||i)&&n.jsx("div",{className:"p-4 pt-0",children:n.jsxs("div",{className:ve("relative overflow-hidden rounded-xl p-4","bg-gradient-to-br from-primary/10 via-primary/5 to-transparent","border border-primary/10"),children:[n.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full blur-2xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-primary/5 rounded-full blur-xl"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg bg-primary/10",children:n.jsx(Cc,{className:"h-3.5 w-3.5 text-primary"})}),n.jsx("span",{className:"text-xs font-semibold text-sidebar-foreground",children:"Project Overview"})]}),n.jsxs("div",{className:"space-y-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("span",{className:"text-2xl font-bold text-sidebar-foreground",children:m.totalApartments}),n.jsx("span",{className:"text-xs text-sidebar-foreground/60",children:"Apartments"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-sidebar-border/30",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(_r,{className:"h-3 w-3 text-cyan-500"}),n.jsxs("span",{className:"text-[10px] text-sidebar-foreground/70",children:[n.jsx("span",{className:"font-semibold text-sidebar-foreground",children:m.pendingDeliveries})," Deliveries"]})]}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(At,{className:"h-3 w-3 text-red-500"}),n.jsxs("span",{className:"text-[10px] text-sidebar-foreground/70",children:[n.jsx("span",{className:"font-semibold text-sidebar-foreground",children:m.openIssues})," Issues"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-sidebar-border/30",children:[n.jsxs("p",{className:"text-[10px] text-sidebar-foreground/50 flex items-center gap-1",children:[n.jsx(Xc,{className:"h-3 w-3"}),m.totalClients," Clients"]}),n.jsxs("p",{className:"text-[10px] text-sidebar-foreground/50 flex items-center gap-1",children:[n.jsx(La,{className:"h-3 w-3"}),m.totalVendors," Vendors"]})]})]})]})]})})]})]})})}function ct({children:e,title:t,subtitle:r,actions:s,fullWidth:a=!1,noPadding:i=!1}){const o=HW(),[l,c]=v.useState(()=>localStorage.getItem("sidebarCollapsed")==="true"),[d,u]=v.useState(!1);z.useEffect(()=>{const m=h=>{c(h.detail.collapsed)};return window.addEventListener("sidebarPreferenceChanged",m),()=>{window.removeEventListener("sidebarPreferenceChanged",m)}},[]);const f=()=>{o?u(m=>!m):c(m=>{const h=!m;return localStorage.setItem("sidebarCollapsed",String(h)),h})};return n.jsxs("div",{className:"h-screen flex bg-background overflow-hidden",children:[o&&d&&n.jsx("div",{className:ve("fixed inset-0 z-40 lg:hidden","bg-background/80 backdrop-blur-sm","animate-in fade-in-0 duration-200"),onClick:()=>u(!1)}),n.jsx(Xpe,{isCollapsed:l,onToggle:f,isMobileOpen:d}),n.jsxs("div",{className:ve("flex-1 flex flex-col min-w-0 w-full lg:w-auto h-screen","transition-all duration-300 ease-out","relative z-10"),style:{marginLeft:o?0:l?"72px":"288px"},children:[n.jsx(Hpe,{onMenuToggle:f}),n.jsx("main",{className:"flex-1 overflow-y-auto overflow-x-hidden bg-gradient-to-br from-background via-background to-muted/20",children:n.jsxs("div",{className:ve("animate-in fade-in-0  slide-in-from-bottom-4 duration-500",!i&&"p-4 lg:p-6 xl:p-8",!a&&"max-w-[1600px] mx-auto"),children:[(t||s)&&n.jsxs("div",{className:ve("flex flex-col sm:flex-row sm:items-center justify-between gap-4","mb-6 lg:mb-8"),children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h1",{className:ve("text-2xl lg:text-3xl font-bold tracking-tight","bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text"),children:t}),r&&n.jsx("p",{className:"text-sm text-muted-foreground",children:r})]}),s&&n.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:s})]}),n.jsx("div",{className:"relative",children:e})]})})]})]})}const X=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ve("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));X.displayName="Card";const be=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ve("flex flex-col space-y-1.5 p-6",e),...t}));be.displayName="CardHeader";const Ve=v.forwardRef(({className:e,...t},r)=>n.jsx("h3",{ref:r,className:ve("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ve.displayName="CardTitle";const Dr=v.forwardRef(({className:e,...t},r)=>n.jsx("p",{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));Dr.displayName="CardDescription";const Q=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ve("p-6 pt-0",e),...t}));Q.displayName="CardContent";const Qpe=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ve("flex items-center p-6 pt-0",e),...t}));Qpe.displayName="CardFooter";function Lx({title:e,value:t,icon:r,trend:s,className:a}){return n.jsx(X,{className:ve("overflow-hidden",a),children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:e}),n.jsx("p",{className:"text-3xl font-bold",children:t}),s&&n.jsxs("p",{className:ve("text-xs font-medium",s.value>0?"text-success":s.value<0?"text-danger":"text-muted-foreground"),children:[s.value>0?"+":"",s.value,"% ",s.label]})]}),n.jsx("div",{className:"p-3 rounded-2xl bg-primary/10",children:n.jsx(r,{className:"h-6 w-6 text-primary"})})]})})})}const Zpe=Bp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _e({className:e,variant:t,...r}){return n.jsx("div",{className:ve(Zpe({variant:t}),e),...r})}function Et(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function zr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function qs(e,t){const r=Et(e);return isNaN(t)?zr(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Po(e,t){const r=Et(e);if(isNaN(t))return zr(e,NaN);if(!t)return r;const s=r.getDate(),a=zr(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return s>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}const LT=6048e5,Jpe=864e5,exe=6e4,txe=36e5,rxe=1e3,mj=43200,NR=1440;let nxe={};function Ru(){return nxe}function Yi(e,t){var l,c,d,u;const r=Ru(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Et(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function td(e){return Yi(e,{weekStartsOn:1})}function GW(e){const t=Et(e),r=t.getFullYear(),s=zr(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=td(s),i=zr(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=td(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function rp(e){const t=Et(e);return t.setHours(0,0,0,0),t}function Nu(e){const t=Et(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function tl(e,t){const r=rp(e),s=rp(t),a=+r-Nu(r),i=+s-Nu(s);return Math.round((a-i)/Jpe)}function sxe(e){const t=GW(e),r=zr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),td(r)}function NE(e,t){const r=t*7;return qs(e,r)}function axe(e,t){return Po(e,t*12)}function ixe(e){let t;return e.forEach(function(r){const s=Et(r);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function oxe(e){let t;return e.forEach(r=>{const s=Et(r);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function ub(e,t){const r=Et(e),s=Et(t),a=r.getTime()-s.getTime();return a<0?-1:a>0?1:a}function lxe(e){return zr(e,Date.now())}function ri(e,t){const r=rp(e),s=rp(t);return+r==+s}function BT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function cxe(e){if(!BT(e)&&typeof e!="number")return!1;const t=Et(e);return!isNaN(Number(t))}function np(e,t){const r=Et(e),s=Et(t),a=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return a*12+i}function dxe(e,t,r){const s=Yi(e,r),a=Yi(t,r),i=+s-Nu(s),o=+a-Nu(a);return Math.round((i-o)/LT)}function hj(e,t){const r=Et(e),s=Et(t),a=_R(r,s),i=Math.abs(tl(r,s));r.setDate(r.getDate()-a*i);const o=+(_R(r,s)===-a),l=a*(i-o);return l===0?0:l}function _R(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function uxe(e){return t=>{const s=(e?Math[e]:Math.trunc)(t);return s===0?0:s}}function fxe(e,t){return+Et(e)-+Et(t)}function mxe(e){const t=Et(e);return t.setHours(23,59,59,999),t}function YN(e){const t=Et(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function hxe(e){const t=Et(e);return+mxe(t)==+YN(t)}function pxe(e,t){const r=Et(e),s=Et(t),a=ub(r,s),i=Math.abs(np(r,s));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=ub(r,s)===-a;hxe(Et(e))&&i===1&&ub(e,s)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function xxe(e,t,r){const s=fxe(e,t)/1e3;return uxe(r==null?void 0:r.roundingMethod)(s)}function mi(e){const t=Et(e);return t.setDate(1),t.setHours(0,0,0,0),t}function KW(e){const t=Et(e),r=zr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function UT(e,t){var l,c,d,u;const r=Ru(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Et(e),i=a.getDay(),o=(i<s?-7:0)+6-(i-s);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function YW(e){return UT(e,{weekStartsOn:1})}const gxe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vxe=(e,t,r)=>{let s;const a=gxe[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function wS(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const yxe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jxe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bxe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wxe={date:wS({formats:yxe,defaultWidth:"full"}),time:wS({formats:jxe,defaultWidth:"full"}),dateTime:wS({formats:bxe,defaultWidth:"full"})},Nxe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_xe=(e,t,r,s)=>Nxe[e];function Bx(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Sxe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Cxe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Exe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Axe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Pxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Txe=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Oxe={ordinalNumber:Txe,era:Bx({values:Sxe,defaultWidth:"wide"}),quarter:Bx({values:Cxe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Bx({values:Exe,defaultWidth:"wide"}),day:Bx({values:Axe,defaultWidth:"wide"}),dayPeriod:Bx({values:Pxe,defaultWidth:"wide",formattingValues:kxe,defaultFormattingWidth:"wide"})};function Ux(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Ixe(l,f=>f.test(o)):Dxe(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function Dxe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Ixe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Rxe(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Mxe=/^(\d+)(th|st|nd|rd)?/i,Fxe=/\d+/i,$xe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Lxe={any:[/^b/i,/^(a|c)/i]},Bxe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Uxe={any:[/1/i,/2/i,/3/i,/4/i]},Vxe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zxe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Wxe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Hxe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qxe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Gxe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Kxe={ordinalNumber:Rxe({matchPattern:Mxe,parsePattern:Fxe,valueCallback:e=>parseInt(e,10)}),era:Ux({matchPatterns:$xe,defaultMatchWidth:"wide",parsePatterns:Lxe,defaultParseWidth:"any"}),quarter:Ux({matchPatterns:Bxe,defaultMatchWidth:"wide",parsePatterns:Uxe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ux({matchPatterns:Vxe,defaultMatchWidth:"wide",parsePatterns:zxe,defaultParseWidth:"any"}),day:Ux({matchPatterns:Wxe,defaultMatchWidth:"wide",parsePatterns:Hxe,defaultParseWidth:"any"}),dayPeriod:Ux({matchPatterns:qxe,defaultMatchWidth:"any",parsePatterns:Gxe,defaultParseWidth:"any"})},XN={code:"en-US",formatDistance:vxe,formatLong:wxe,formatRelative:_xe,localize:Oxe,match:Kxe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Yxe(e){const t=Et(e);return tl(t,KW(t))+1}function VT(e){const t=Et(e),r=+td(t)-+sxe(t);return Math.round(r/LT)+1}function zT(e,t){var u,f,m,h;const r=Et(e),s=r.getFullYear(),a=Ru(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(m=a.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,o=zr(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=Yi(o,t),c=zr(e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=Yi(c,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function Xxe(e,t){var l,c,d,u;const r=Ru(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=zT(e,t),i=zr(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),Yi(i,t)}function WT(e,t){const r=Et(e),s=+Yi(r,t)-+Xxe(r,t);return Math.round(s/LT)+1}function Tr(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const Nd={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return Tr(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Tr(r+1,2)},d(e,t){return Tr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Tr(e.getHours()%12||12,t.length)},H(e,t){return Tr(e.getHours(),t.length)},m(e,t){return Tr(e.getMinutes(),t.length)},s(e,t){return Tr(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return Tr(a,t.length)}},Om={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},SR={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return Nd.y(e,t)},Y:function(e,t,r,s){const a=zT(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Tr(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Tr(i,t.length)},R:function(e,t){const r=GW(e);return Tr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Tr(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Tr(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Tr(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return Nd.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Tr(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const a=WT(e,s);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Tr(a,t.length)},I:function(e,t,r){const s=VT(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):Tr(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Nd.d(e,t)},D:function(e,t,r){const s=Yxe(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Tr(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Tr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Tr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return Tr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let a;switch(s===12?a=Om.noon:s===0?a=Om.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let a;switch(s>=17?a=Om.evening:s>=12?a=Om.afternoon:s>=4?a=Om.morning:a=Om.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Nd.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Nd.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Tr(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):Tr(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Nd.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Nd.s(e,t)},S:function(e,t){return Nd.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return ER(s);case"XXXX":case"XX":return Qu(s);case"XXXXX":case"XXX":default:return Qu(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return ER(s);case"xxxx":case"xx":return Qu(s);case"xxxxx":case"xxx":default:return Qu(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+CR(s,":");case"OOOO":default:return"GMT"+Qu(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+CR(s,":");case"zzzz":default:return"GMT"+Qu(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return Tr(s,t.length)},T:function(e,t,r){const s=e.getTime();return Tr(s,t.length)}};function CR(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+t+Tr(i,2)}function ER(e,t){return e%60===0?(e>0?"-":"+")+Tr(Math.abs(e)/60,2):Qu(e,t)}function Qu(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Tr(Math.trunc(s/60),2),i=Tr(s%60,2);return r+a+t+i}const AR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},XW=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Qxe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return AR(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",AR(s,t)).replace("{{time}}",XW(a,t))},_E={p:XW,P:Qxe},Zxe=/^D+$/,Jxe=/^Y+$/,ege=["D","DD","YY","YYYY"];function QW(e){return Zxe.test(e)}function ZW(e){return Jxe.test(e)}function SE(e,t,r){const s=tge(e,t,r);if(console.warn(s),ege.includes(e))throw new RangeError(s)}function tge(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const rge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sge=/^'([^]*?)'?$/,age=/''/g,ige=/[a-zA-Z]/;function Xt(e,t,r){var u,f,m,h,x,p,g,j;const s=Ru(),a=(r==null?void 0:r.locale)??s.locale??XN,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(m=s.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:p.weekStartsOn)??s.weekStartsOn??((j=(g=s.locale)==null?void 0:g.options)==null?void 0:j.weekStartsOn)??0,l=Et(e);if(!cxe(l))throw new RangeError("Invalid time value");let c=t.match(nge).map(y=>{const w=y[0];if(w==="p"||w==="P"){const b=_E[w];return b(y,a.formatLong)}return y}).join("").match(rge).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:oge(y)};if(SR[w])return{isToken:!0,value:y};if(w.match(ige))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&ZW(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&QW(w))&&SE(w,t,String(e));const b=SR[w[0]];return b(l,w,a.localize,d)}).join("")}function oge(e){const t=e.match(sge);return t?t[1].replace(age,"'"):e}function lge(e,t,r){const s=Ru(),a=(r==null?void 0:r.locale)??s.locale??XN,i=2520,o=ub(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,d;o>0?(c=Et(t),d=Et(e)):(c=Et(e),d=Et(t));const u=xxe(d,c),f=(Nu(d)-Nu(c))/1e3,m=Math.round((u-f)/60);let h;if(m<2)return r!=null&&r.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<NR){const x=Math.round(m/60);return a.formatDistance("aboutXHours",x,l)}else{if(m<i)return a.formatDistance("xDays",1,l);if(m<mj){const x=Math.round(m/NR);return a.formatDistance("xDays",x,l)}else if(m<mj*2)return h=Math.round(m/mj),a.formatDistance("aboutXMonths",h,l)}if(h=pxe(d,c),h<12){const x=Math.round(m/mj);return a.formatDistance("xMonths",x,l)}else{const x=h%12,p=Math.trunc(h/12);return x<3?a.formatDistance("aboutXYears",p,l):x<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function cge(e,t){return lge(e,lxe(e),t)}function dge(e){const t=Et(e),r=t.getFullYear(),s=t.getMonth(),a=zr(e,0);return a.setFullYear(r,s+1,0),a.setHours(0,0,0,0),a.getDate()}function uge(){return Object.assign({},Ru())}function fge(e){let r=Et(e).getDay();return r===0&&(r=7),r}function mge(e){return Math.trunc(+Et(e)/1e3)}function hge(e){const t=Et(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function pge(e,t){return dxe(hge(e),mi(e),t)+1}function CE(e,t){const r=Et(e),s=Et(t);return r.getTime()>s.getTime()}function JW(e,t){const r=Et(e),s=Et(t);return+r<+s}function xge(e,t){const r=t instanceof Date?zr(t,0):new t(0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}const gge=10;class eH{constructor(){ht(this,"subPriority",0)}validate(t,r){return!0}}class vge extends eH{constructor(t,r,s,a,i){super(),this.value=t,this.validateValue=r,this.setValue=s,this.priority=a,i&&(this.subPriority=i)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,s){return this.setValue(t,r,this.value,s)}}class yge extends eH{constructor(){super(...arguments);ht(this,"priority",gge);ht(this,"subPriority",-1)}set(r,s){return s.timestampIsSet?r:zr(r,xge(r,Date))}}class Sr{run(t,r,s,a){const i=this.parse(t,r,s,a);return i?{setter:new vge(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,r,s){return!0}}class jge extends Sr{constructor(){super(...arguments);ht(this,"priority",140);ht(this,"incompatibleTokens",["R","u","t","T"])}parse(r,s,a){switch(s){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,s,a){return s.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const Yn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Vl={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Xn(e,t){return e&&{value:t(e.value),rest:e.rest}}function En(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function zl(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const s=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:s*(a*txe+i*exe+o*rxe),rest:t.slice(r[0].length)}}function tH(e){return En(Yn.anyDigitsSigned,e)}function Bn(e,t){switch(e){case 1:return En(Yn.singleDigit,t);case 2:return En(Yn.twoDigits,t);case 3:return En(Yn.threeDigits,t);case 4:return En(Yn.fourDigits,t);default:return En(new RegExp("^\\d{1,"+e+"}"),t)}}function j1(e,t){switch(e){case 1:return En(Yn.singleDigitSigned,t);case 2:return En(Yn.twoDigitsSigned,t);case 3:return En(Yn.threeDigitsSigned,t);case 4:return En(Yn.fourDigitsSigned,t);default:return En(new RegExp("^-?\\d{1,"+e+"}"),t)}}function HT(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function rH(e,t){const r=t>0,s=r?t:1-t;let a;if(s<=50)a=e||100;else{const i=s+50,o=Math.trunc(i/100)*100,l=e>=i%100;a=e+o-(l?100:0)}return r?a:1-a}function nH(e){return e%400===0||e%4===0&&e%100!==0}class bge extends Sr{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,s,a){const i=o=>({year:o,isTwoDigitYear:s==="yy"});switch(s){case"y":return Xn(Bn(4,r),i);case"yo":return Xn(a.ordinalNumber(r,{unit:"year"}),i);default:return Xn(Bn(s.length,r),i)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,a){const i=r.getFullYear();if(a.isTwoDigitYear){const l=rH(a.year,i);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const o=!("era"in s)||s.era===1?a.year:1-a.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class wge extends Sr{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,s,a){const i=o=>({year:o,isTwoDigitYear:s==="YY"});switch(s){case"Y":return Xn(Bn(4,r),i);case"Yo":return Xn(a.ordinalNumber(r,{unit:"year"}),i);default:return Xn(Bn(s.length,r),i)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,a,i){const o=zT(r,i);if(a.isTwoDigitYear){const c=rH(a.year,o);return r.setFullYear(c,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Yi(r,i)}const l=!("era"in s)||s.era===1?a.year:1-a.year;return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Yi(r,i)}}class Nge extends Sr{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,s){return j1(s==="R"?4:s.length,r)}set(r,s,a){const i=zr(r,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),td(i)}}class _ge extends Sr{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,s){return j1(s==="u"?4:s.length,r)}set(r,s,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class Sge extends Sr{constructor(){super(...arguments);ht(this,"priority",120);ht(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,a){switch(s){case"Q":case"QQ":return Bn(s.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=1&&s<=4}set(r,s,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class Cge extends Sr{constructor(){super(...arguments);ht(this,"priority",120);ht(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,a){switch(s){case"q":case"qq":return Bn(s.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=1&&s<=4}set(r,s,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class Ege extends Sr{constructor(){super(...arguments);ht(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ht(this,"priority",110)}parse(r,s,a){const i=o=>o-1;switch(s){case"M":return Xn(En(Yn.month,r),i);case"MM":return Xn(Bn(2,r),i);case"Mo":return Xn(a.ordinalNumber(r,{unit:"month"}),i);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=11}set(r,s,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class Age extends Sr{constructor(){super(...arguments);ht(this,"priority",110);ht(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,s,a){const i=o=>o-1;switch(s){case"L":return Xn(En(Yn.month,r),i);case"LL":return Xn(Bn(2,r),i);case"Lo":return Xn(a.ordinalNumber(r,{unit:"month"}),i);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=11}set(r,s,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function Pge(e,t,r){const s=Et(e),a=WT(s,r)-t;return s.setDate(s.getDate()-a*7),s}class kge extends Sr{constructor(){super(...arguments);ht(this,"priority",100);ht(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,s,a){switch(s){case"w":return En(Yn.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return Bn(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,a,i){return Yi(Pge(r,a,i),i)}}function Tge(e,t){const r=Et(e),s=VT(r)-t;return r.setDate(r.getDate()-s*7),r}class Oge extends Sr{constructor(){super(...arguments);ht(this,"priority",100);ht(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,s,a){switch(s){case"I":return En(Yn.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return Bn(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,a){return td(Tge(r,a))}}const Dge=[31,28,31,30,31,30,31,31,30,31,30,31],Ige=[31,29,31,30,31,30,31,31,30,31,30,31];class Rge extends Sr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"subPriority",1);ht(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,s,a){switch(s){case"d":return En(Yn.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return Bn(s.length,r)}}validate(r,s){const a=r.getFullYear(),i=nH(a),o=r.getMonth();return i?s>=1&&s<=Ige[o]:s>=1&&s<=Dge[o]}set(r,s,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class Mge extends Sr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"subpriority",1);ht(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,s,a){switch(s){case"D":case"DD":return En(Yn.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return Bn(s.length,r)}}validate(r,s){const a=r.getFullYear();return nH(a)?s>=1&&s<=366:s>=1&&s<=365}set(r,s,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function qT(e,t,r){var f,m,h,x;const s=Ru(),a=(r==null?void 0:r.weekStartsOn)??((m=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??s.weekStartsOn??((x=(h=s.locale)==null?void 0:h.options)==null?void 0:x.weekStartsOn)??0,i=Et(e),o=i.getDay(),c=(t%7+7)%7,d=7-a,u=t<0||t>6?t-(o+d)%7:(c+d)%7-(o+d)%7;return qs(i,u)}class Fge extends Sr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,s,a){switch(s){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,a,i){return r=qT(r,a,i),r.setHours(0,0,0,0),r}}class $ge extends Sr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,s,a,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(s){case"e":case"ee":return Xn(Bn(s.length,r),o);case"eo":return Xn(a.ordinalNumber(r,{unit:"day"}),o);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,a,i){return r=qT(r,a,i),r.setHours(0,0,0,0),r}}class Lge extends Sr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,s,a,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(s){case"c":case"cc":return Xn(Bn(s.length,r),o);case"co":return Xn(a.ordinalNumber(r,{unit:"day"}),o);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=6}set(r,s,a,i){return r=qT(r,a,i),r.setHours(0,0,0,0),r}}function Bge(e,t){const r=Et(e),s=fge(r),a=t-s;return qs(r,a)}class Uge extends Sr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,s,a){const i=o=>o===0?7:o;switch(s){case"i":case"ii":return Bn(s.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return Xn(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return Xn(a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Xn(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Xn(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,s){return s>=1&&s<=7}set(r,s,a){return r=Bge(r,a),r.setHours(0,0,0,0),r}}class Vge extends Sr{constructor(){super(...arguments);ht(this,"priority",80);ht(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,s,a){switch(s){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,a){return r.setHours(HT(a),0,0,0),r}}class zge extends Sr{constructor(){super(...arguments);ht(this,"priority",80);ht(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,s,a){switch(s){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,a){return r.setHours(HT(a),0,0,0),r}}class Wge extends Sr{constructor(){super(...arguments);ht(this,"priority",80);ht(this,"incompatibleTokens",["a","b","t","T"])}parse(r,s,a){switch(s){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,a){return r.setHours(HT(a),0,0,0),r}}class Hge extends Sr{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,s,a){switch(s){case"h":return En(Yn.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return Bn(s.length,r)}}validate(r,s){return s>=1&&s<=12}set(r,s,a){const i=r.getHours()>=12;return i&&a<12?r.setHours(a+12,0,0,0):!i&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class qge extends Sr{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,s,a){switch(s){case"H":return En(Yn.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return Bn(s.length,r)}}validate(r,s){return s>=0&&s<=23}set(r,s,a){return r.setHours(a,0,0,0),r}}class Gge extends Sr{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,s,a){switch(s){case"K":return En(Yn.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return Bn(s.length,r)}}validate(r,s){return s>=0&&s<=11}set(r,s,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class Kge extends Sr{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,s,a){switch(s){case"k":return En(Yn.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return Bn(s.length,r)}}validate(r,s){return s>=1&&s<=24}set(r,s,a){const i=a<=24?a%24:a;return r.setHours(i,0,0,0),r}}class Yge extends Sr{constructor(){super(...arguments);ht(this,"priority",60);ht(this,"incompatibleTokens",["t","T"])}parse(r,s,a){switch(s){case"m":return En(Yn.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return Bn(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,a){return r.setMinutes(a,0,0),r}}class Xge extends Sr{constructor(){super(...arguments);ht(this,"priority",50);ht(this,"incompatibleTokens",["t","T"])}parse(r,s,a){switch(s){case"s":return En(Yn.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return Bn(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,a){return r.setSeconds(a,0),r}}class Qge extends Sr{constructor(){super(...arguments);ht(this,"priority",30);ht(this,"incompatibleTokens",["t","T"])}parse(r,s){const a=i=>Math.trunc(i*Math.pow(10,-s.length+3));return Xn(Bn(s.length,r),a)}set(r,s,a){return r.setMilliseconds(a),r}}class Zge extends Sr{constructor(){super(...arguments);ht(this,"priority",10);ht(this,"incompatibleTokens",["t","T","x"])}parse(r,s){switch(s){case"X":return zl(Vl.basicOptionalMinutes,r);case"XX":return zl(Vl.basic,r);case"XXXX":return zl(Vl.basicOptionalSeconds,r);case"XXXXX":return zl(Vl.extendedOptionalSeconds,r);case"XXX":default:return zl(Vl.extended,r)}}set(r,s,a){return s.timestampIsSet?r:zr(r,r.getTime()-Nu(r)-a)}}class Jge extends Sr{constructor(){super(...arguments);ht(this,"priority",10);ht(this,"incompatibleTokens",["t","T","X"])}parse(r,s){switch(s){case"x":return zl(Vl.basicOptionalMinutes,r);case"xx":return zl(Vl.basic,r);case"xxxx":return zl(Vl.basicOptionalSeconds,r);case"xxxxx":return zl(Vl.extendedOptionalSeconds,r);case"xxx":default:return zl(Vl.extended,r)}}set(r,s,a){return s.timestampIsSet?r:zr(r,r.getTime()-Nu(r)-a)}}class e0e extends Sr{constructor(){super(...arguments);ht(this,"priority",40);ht(this,"incompatibleTokens","*")}parse(r){return tH(r)}set(r,s,a){return[zr(r,a*1e3),{timestampIsSet:!0}]}}class t0e extends Sr{constructor(){super(...arguments);ht(this,"priority",20);ht(this,"incompatibleTokens","*")}parse(r){return tH(r)}set(r,s,a){return[zr(r,a),{timestampIsSet:!0}]}}const r0e={G:new jge,y:new bge,Y:new wge,R:new Nge,u:new _ge,Q:new Sge,q:new Cge,M:new Ege,L:new Age,w:new kge,I:new Oge,d:new Rge,D:new Mge,E:new Fge,e:new $ge,c:new Lge,i:new Uge,a:new Vge,b:new zge,B:new Wge,h:new Hge,H:new qge,K:new Gge,k:new Kge,m:new Yge,s:new Xge,S:new Qge,X:new Zge,x:new Jge,t:new e0e,T:new t0e},n0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,s0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,a0e=/^'([^]*?)'?$/,i0e=/''/g,o0e=/\S/,l0e=/[a-zA-Z]/;function c0e(e,t,r,s){var p,g,j,y;const a=uge(),i=a.locale??XN,o=a.firstWeekContainsDate??((g=(p=a.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,l=a.weekStartsOn??((y=(j=a.locale)==null?void 0:j.options)==null?void 0:y.weekStartsOn)??0,c={firstWeekContainsDate:o,weekStartsOn:l,locale:i},d=[new yge],u=t.match(s0e).map(w=>{const b=w[0];if(b in _E){const N=_E[b];return N(w,i.formatLong)}return w}).join("").match(n0e),f=[];for(let w of u){ZW(w)&&SE(w,t,e),QW(w)&&SE(w,t,e);const b=w[0],N=r0e[b];if(N){const{incompatibleTokens:S}=N;if(Array.isArray(S)){const E=f.find(A=>S.includes(A.token)||A.token===b);if(E)throw new RangeError(`The format string mustn't contain \`${E.fullToken}\` and \`${w}\` at the same time`)}else if(N.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);f.push({token:b,fullToken:w});const _=N.run(e,w,i.match,c);if(!_)return zr(r,NaN);d.push(_.setter),e=_.rest}else{if(b.match(l0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");if(w==="''"?w="'":b==="'"&&(w=d0e(w)),e.indexOf(w)===0)e=e.slice(w.length);else return zr(r,NaN)}}if(e.length>0&&o0e.test(e))return zr(r,NaN);const m=d.map(w=>w.priority).sort((w,b)=>b-w).filter((w,b,N)=>N.indexOf(w)===b).map(w=>d.filter(b=>b.priority===w).sort((b,N)=>N.subPriority-b.subPriority)).map(w=>w[0]);let h=Et(r);if(isNaN(h.getTime()))return zr(r,NaN);const x={};for(const w of m){if(!w.validate(h,c))return zr(r,NaN);const b=w.set(h,x,c);Array.isArray(b)?(h=b[0],Object.assign(x,b[1])):h=b}return zr(r,h)}function d0e(e){return e.match(a0e)[1].replace(i0e,"'")}function GT(e,t){const r=Et(e),s=Et(t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function u0e(e,t){const r=Et(e),s=Et(t);return r.getFullYear()===s.getFullYear()}function Ac(e,t){return qs(e,-t)}function NS(e,t){const r=Et(e),s=r.getFullYear(),a=r.getDate(),i=zr(e,0);i.setFullYear(s,t,15),i.setHours(0,0,0,0);const o=dge(i);return r.setMonth(t,Math.min(a,o)),r}function PR(e,t){const r=Et(e);return isNaN(+r)?zr(e,NaN):(r.setFullYear(t),r)}function f0e(e,t){return Po(e,-t)}const kR={order:Ns,"shopping-cart":Ns,payment:ws,"credit-card":ws,delivery:_r,truck:_r,issue:At,"alert-circle":At,product:ot,package:ot,apartment:fr,building:fr,client:Xc,users:Xc,vendor:La,store:La,user:os,status:Bf,activity:Bf,ai:Oa,bot:Oa},m0e={created:Qn,updated:Pse,deleted:hn,delivered:Ur,payment_received:Ur,completed:Ur,cancelled:hn,status_changed:Lb},h0e=(e,t)=>({created:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},updated:{bg:"bg-blue-500/5 dark:bg-blue-500/10",border:"border-blue-500/20",icon:"text-blue-500",badge:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/20",glow:"shadow-blue-500/5"},deleted:{bg:"bg-red-500/5 dark:bg-red-500/10",border:"border-red-500/20",icon:"text-red-500",badge:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",glow:"shadow-red-500/5"},delivered:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},payment_received:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},completed:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},cancelled:{bg:"bg-red-500/5 dark:bg-red-500/10",border:"border-red-500/20",icon:"text-red-500",badge:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",glow:"shadow-red-500/5"},status_changed:{bg:"bg-amber-500/5 dark:bg-amber-500/10",border:"border-amber-500/20",icon:"text-amber-500",badge:"bg-amber-500/10 text-amber-600 dark:text-amber-400 border-amber-500/20",glow:"shadow-amber-500/5"}})[e]||{bg:"bg-slate-500/5 dark:bg-slate-500/10",border:"border-slate-500/20",icon:"text-slate-500",badge:"bg-slate-500/10 text-slate-600 dark:text-slate-400 border-slate-500/20",glow:"shadow-slate-500/5"},p0e=e=>({order:"Order",payment:"Payment",delivery:"Delivery",issue:"Issue",product:"Product",apartment:"Apartment",client:"Client",vendor:"Vendor",user:"User"})[e]||e;function x0e(){const{data:e,isLoading:t,refetch:r}=qW(),s=(e==null?void 0:e.activities)||[],a=i=>{try{return cge(new Date(i),{addSuffix:!0})}catch{return"recently"}};return t?n.jsxs(X,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/80",children:[n.jsx(be,{className:"pb-3",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(d0,{className:"h-4 w-4 text-primary"})}),n.jsx(Ve,{className:"text-lg font-semibold",children:"Recent Activity"})]})})}),n.jsx(Q,{children:n.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(i=>n.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-muted/30",children:[n.jsx(C,{className:"h-10 w-10 rounded-xl"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(C,{className:"h-4 w-40"}),n.jsx(C,{className:"h-3 w-56"}),n.jsx(C,{className:"h-3 w-24"})]})]},i))})})]}):n.jsxs(X,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/80 overflow-hidden",children:[n.jsx(be,{className:"pb-3 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-primary/20 to-primary/5 shadow-sm",children:n.jsx(d0,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(Ve,{className:"text-lg font-semibold",children:"Recent Activity"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[s.length," activities tracked"]})]})]}),n.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>r(),className:"h-9 w-9 p-0 hover:bg-primary/10 hover:text-primary transition-colors",children:n.jsx(Pf,{className:"h-4 w-4"})})]})}),n.jsx(Q,{className:"p-0",children:n.jsx(ud,{className:"h-[480px]",children:n.jsx("div",{className:"p-4 space-y-2",children:s.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-muted/50 mb-4",children:n.jsx(Bf,{className:"h-8 w-8 text-muted-foreground/50"})}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No recent activities"}),n.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1 max-w-[200px]",children:"Activities will appear here when you create, update, or delete records"})]}):s.slice(0,15).map((i,o)=>{const l=kR[i.icon]||kR[i.type]||Bf,c=m0e[i.action]||Qn,d=h0e(i.action,i.type);return n.jsxs("div",{className:ve("group relative flex items-center gap-3 px-4 py-2.5 rounded-lg transition-all duration-300","hover:shadow-sm cursor-pointer border border-transparent","hover:border-border/50 hover:bg-muted/30"),children:[o<s.slice(0,15).length-1&&n.jsx("div",{className:"absolute left-[26px] top-[42px] w-[1px] h-[calc(100%-14px)] bg-border/30"}),n.jsxs("div",{className:"relative flex-shrink-0",children:[n.jsx("div",{className:ve("p-2 rounded-lg transition-all duration-300","group-hover:shadow-sm",d.bg,`border ${d.border}`),children:n.jsx(l,{className:ve("h-4 w-4",d.icon)})}),n.jsx("div",{className:ve("absolute -bottom-1 -right-1 p-0.5 rounded-full bg-background border shadow-sm",d.border),children:n.jsx(c,{className:ve("h-2.5 w-2.5",d.icon)})})]}),n.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-0 space-y-0.5",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-semibold text-sm text-foreground truncate",children:i.title}),n.jsx(_e,{variant:"outline",className:ve("text-[9px] px-2 py-0.5 h-4 font-semibold uppercase tracking-wide border flex-shrink-0",d.badge),children:i.action})]}),n.jsx("p",{className:"text-xs text-muted-foreground/80 truncate leading-relaxed",children:i.description})]}),n.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center gap-1.5 min-w-[70px]",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary/40"}),n.jsx("span",{className:"text-xs font-medium text-foreground/70",children:p0e(i.type)})]}),i.apartment&&n.jsxs("div",{className:"flex items-center gap-1.5 min-w-[100px] max-w-[140px]",children:[n.jsx(fr,{className:"h-3.5 w-3.5 text-muted-foreground/50 flex-shrink-0"}),n.jsx("span",{className:"text-xs text-muted-foreground/70 truncate",children:i.apartment})]}),n.jsxs("div",{className:"flex items-center gap-1.5 min-w-[90px]",children:[n.jsx(wr,{className:"h-3.5 w-3.5 text-muted-foreground/50 flex-shrink-0"}),n.jsx("span",{className:"text-xs text-muted-foreground/70 whitespace-nowrap",children:a(i.created_at)})]})]})]})]},i.id)})})})})]})}var g0e=Array.isArray,yi=g0e,v0e=typeof Iy=="object"&&Iy&&Iy.Object===Object&&Iy,sH=v0e,y0e=sH,j0e=typeof self=="object"&&self&&self.Object===Object&&self,b0e=y0e||j0e||Function("return this")(),cc=b0e,w0e=cc,N0e=w0e.Symbol,ly=N0e,TR=ly,aH=Object.prototype,_0e=aH.hasOwnProperty,S0e=aH.toString,Vx=TR?TR.toStringTag:void 0;function C0e(e){var t=_0e.call(e,Vx),r=e[Vx];try{e[Vx]=void 0;var s=!0}catch{}var a=S0e.call(e);return s&&(t?e[Vx]=r:delete e[Vx]),a}var E0e=C0e,A0e=Object.prototype,P0e=A0e.toString;function k0e(e){return P0e.call(e)}var T0e=k0e,OR=ly,O0e=E0e,D0e=T0e,I0e="[object Null]",R0e="[object Undefined]",DR=OR?OR.toStringTag:void 0;function M0e(e){return e==null?e===void 0?R0e:I0e:DR&&DR in Object(e)?O0e(e):D0e(e)}var fd=M0e;function F0e(e){return e!=null&&typeof e=="object"}var md=F0e,$0e=fd,L0e=md,B0e="[object Symbol]";function U0e(e){return typeof e=="symbol"||L0e(e)&&$0e(e)==B0e}var Zp=U0e,V0e=yi,z0e=Zp,W0e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H0e=/^\w*$/;function q0e(e,t){if(V0e(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||z0e(e)?!0:H0e.test(e)||!W0e.test(e)||t!=null&&e in Object(t)}var KT=q0e;function G0e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Mu=G0e;const Jp=Ar(Mu);var K0e=fd,Y0e=Mu,X0e="[object AsyncFunction]",Q0e="[object Function]",Z0e="[object GeneratorFunction]",J0e="[object Proxy]";function eve(e){if(!Y0e(e))return!1;var t=K0e(e);return t==Q0e||t==Z0e||t==X0e||t==J0e}var YT=eve;const It=Ar(YT);var tve=cc,rve=tve["__core-js_shared__"],nve=rve,_S=nve,IR=function(){var e=/[^.]+$/.exec(_S&&_S.keys&&_S.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function sve(e){return!!IR&&IR in e}var ave=sve,ive=Function.prototype,ove=ive.toString;function lve(e){if(e!=null){try{return ove.call(e)}catch{}try{return e+""}catch{}}return""}var iH=lve,cve=YT,dve=ave,uve=Mu,fve=iH,mve=/[\\^$.*+?()[\]{}|]/g,hve=/^\[object .+?Constructor\]$/,pve=Function.prototype,xve=Object.prototype,gve=pve.toString,vve=xve.hasOwnProperty,yve=RegExp("^"+gve.call(vve).replace(mve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jve(e){if(!uve(e)||dve(e))return!1;var t=cve(e)?yve:hve;return t.test(fve(e))}var bve=jve;function wve(e,t){return e==null?void 0:e[t]}var Nve=wve,_ve=bve,Sve=Nve;function Cve(e,t){var r=Sve(e,t);return _ve(r)?r:void 0}var hm=Cve,Eve=hm,Ave=Eve(Object,"create"),QN=Ave,RR=QN;function Pve(){this.__data__=RR?RR(null):{},this.size=0}var kve=Pve;function Tve(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ove=Tve,Dve=QN,Ive="__lodash_hash_undefined__",Rve=Object.prototype,Mve=Rve.hasOwnProperty;function Fve(e){var t=this.__data__;if(Dve){var r=t[e];return r===Ive?void 0:r}return Mve.call(t,e)?t[e]:void 0}var $ve=Fve,Lve=QN,Bve=Object.prototype,Uve=Bve.hasOwnProperty;function Vve(e){var t=this.__data__;return Lve?t[e]!==void 0:Uve.call(t,e)}var zve=Vve,Wve=QN,Hve="__lodash_hash_undefined__";function qve(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Wve&&t===void 0?Hve:t,this}var Gve=qve,Kve=kve,Yve=Ove,Xve=$ve,Qve=zve,Zve=Gve;function ex(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}ex.prototype.clear=Kve;ex.prototype.delete=Yve;ex.prototype.get=Xve;ex.prototype.has=Qve;ex.prototype.set=Zve;var Jve=ex;function eye(){this.__data__=[],this.size=0}var tye=eye;function rye(e,t){return e===t||e!==e&&t!==t}var XT=rye,nye=XT;function sye(e,t){for(var r=e.length;r--;)if(nye(e[r][0],t))return r;return-1}var ZN=sye,aye=ZN,iye=Array.prototype,oye=iye.splice;function lye(e){var t=this.__data__,r=aye(t,e);if(r<0)return!1;var s=t.length-1;return r==s?t.pop():oye.call(t,r,1),--this.size,!0}var cye=lye,dye=ZN;function uye(e){var t=this.__data__,r=dye(t,e);return r<0?void 0:t[r][1]}var fye=uye,mye=ZN;function hye(e){return mye(this.__data__,e)>-1}var pye=hye,xye=ZN;function gye(e,t){var r=this.__data__,s=xye(r,e);return s<0?(++this.size,r.push([e,t])):r[s][1]=t,this}var vye=gye,yye=tye,jye=cye,bye=fye,wye=pye,Nye=vye;function tx(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}tx.prototype.clear=yye;tx.prototype.delete=jye;tx.prototype.get=bye;tx.prototype.has=wye;tx.prototype.set=Nye;var JN=tx,_ye=hm,Sye=cc,Cye=_ye(Sye,"Map"),QT=Cye,MR=Jve,Eye=JN,Aye=QT;function Pye(){this.size=0,this.__data__={hash:new MR,map:new(Aye||Eye),string:new MR}}var kye=Pye;function Tye(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Oye=Tye,Dye=Oye;function Iye(e,t){var r=e.__data__;return Dye(t)?r[typeof t=="string"?"string":"hash"]:r.map}var e2=Iye,Rye=e2;function Mye(e){var t=Rye(this,e).delete(e);return this.size-=t?1:0,t}var Fye=Mye,$ye=e2;function Lye(e){return $ye(this,e).get(e)}var Bye=Lye,Uye=e2;function Vye(e){return Uye(this,e).has(e)}var zye=Vye,Wye=e2;function Hye(e,t){var r=Wye(this,e),s=r.size;return r.set(e,t),this.size+=r.size==s?0:1,this}var qye=Hye,Gye=kye,Kye=Fye,Yye=Bye,Xye=zye,Qye=qye;function rx(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}rx.prototype.clear=Gye;rx.prototype.delete=Kye;rx.prototype.get=Yye;rx.prototype.has=Xye;rx.prototype.set=Qye;var ZT=rx,oH=ZT,Zye="Expected a function";function JT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Zye);var r=function(){var s=arguments,a=t?t.apply(this,s):s[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,s);return r.cache=i.set(a,o)||i,o};return r.cache=new(JT.Cache||oH),r}JT.Cache=oH;var lH=JT;const Jye=Ar(lH);var eje=lH,tje=500;function rje(e){var t=eje(e,function(s){return r.size===tje&&r.clear(),s}),r=t.cache;return t}var nje=rje,sje=nje,aje=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ije=/\\(\\)?/g,oje=sje(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(aje,function(r,s,a,i){t.push(a?i.replace(ije,"$1"):s||r)}),t}),lje=oje;function cje(e,t){for(var r=-1,s=e==null?0:e.length,a=Array(s);++r<s;)a[r]=t(e[r],r,e);return a}var eO=cje,FR=ly,dje=eO,uje=yi,fje=Zp,mje=1/0,$R=FR?FR.prototype:void 0,LR=$R?$R.toString:void 0;function cH(e){if(typeof e=="string")return e;if(uje(e))return dje(e,cH)+"";if(fje(e))return LR?LR.call(e):"";var t=e+"";return t=="0"&&1/e==-mje?"-0":t}var hje=cH,pje=hje;function xje(e){return e==null?"":pje(e)}var dH=xje,gje=yi,vje=KT,yje=lje,jje=dH;function bje(e,t){return gje(e)?e:vje(e,t)?[e]:yje(jje(e))}var uH=bje,wje=Zp,Nje=1/0;function _je(e){if(typeof e=="string"||wje(e))return e;var t=e+"";return t=="0"&&1/e==-Nje?"-0":t}var t2=_je,Sje=uH,Cje=t2;function Eje(e,t){t=Sje(t,e);for(var r=0,s=t.length;e!=null&&r<s;)e=e[Cje(t[r++])];return r&&r==s?e:void 0}var tO=Eje,Aje=tO;function Pje(e,t,r){var s=e==null?void 0:Aje(e,t);return s===void 0?r:s}var fH=Pje;const Bi=Ar(fH);function kje(e){return e==null}var Tje=kje;const Ut=Ar(Tje);var Oje=fd,Dje=yi,Ije=md,Rje="[object String]";function Mje(e){return typeof e=="string"||!Dje(e)&&Ije(e)&&Oje(e)==Rje}var Fje=Mje;const cy=Ar(Fje);var mH={exports:{}},Fr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rO=Symbol.for("react.element"),nO=Symbol.for("react.portal"),r2=Symbol.for("react.fragment"),n2=Symbol.for("react.strict_mode"),s2=Symbol.for("react.profiler"),a2=Symbol.for("react.provider"),i2=Symbol.for("react.context"),$je=Symbol.for("react.server_context"),o2=Symbol.for("react.forward_ref"),l2=Symbol.for("react.suspense"),c2=Symbol.for("react.suspense_list"),d2=Symbol.for("react.memo"),u2=Symbol.for("react.lazy"),Lje=Symbol.for("react.offscreen"),hH;hH=Symbol.for("react.module.reference");function Io(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case rO:switch(e=e.type,e){case r2:case s2:case n2:case l2:case c2:return e;default:switch(e=e&&e.$$typeof,e){case $je:case i2:case o2:case u2:case d2:case a2:return e;default:return t}}case nO:return t}}}Fr.ContextConsumer=i2;Fr.ContextProvider=a2;Fr.Element=rO;Fr.ForwardRef=o2;Fr.Fragment=r2;Fr.Lazy=u2;Fr.Memo=d2;Fr.Portal=nO;Fr.Profiler=s2;Fr.StrictMode=n2;Fr.Suspense=l2;Fr.SuspenseList=c2;Fr.isAsyncMode=function(){return!1};Fr.isConcurrentMode=function(){return!1};Fr.isContextConsumer=function(e){return Io(e)===i2};Fr.isContextProvider=function(e){return Io(e)===a2};Fr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===rO};Fr.isForwardRef=function(e){return Io(e)===o2};Fr.isFragment=function(e){return Io(e)===r2};Fr.isLazy=function(e){return Io(e)===u2};Fr.isMemo=function(e){return Io(e)===d2};Fr.isPortal=function(e){return Io(e)===nO};Fr.isProfiler=function(e){return Io(e)===s2};Fr.isStrictMode=function(e){return Io(e)===n2};Fr.isSuspense=function(e){return Io(e)===l2};Fr.isSuspenseList=function(e){return Io(e)===c2};Fr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===r2||e===s2||e===n2||e===l2||e===c2||e===Lje||typeof e=="object"&&e!==null&&(e.$$typeof===u2||e.$$typeof===d2||e.$$typeof===a2||e.$$typeof===i2||e.$$typeof===o2||e.$$typeof===hH||e.getModuleId!==void 0)};Fr.typeOf=Io;mH.exports=Fr;var pH=mH.exports,Bje=fd,Uje=md,Vje="[object Number]";function zje(e){return typeof e=="number"||Uje(e)&&Bje(e)==Vje}var xH=zje;const Wje=Ar(xH);var Hje=xH;function qje(e){return Hje(e)&&e!=+e}var Gje=qje;const nx=Ar(Gje);var Da=function(t){return t===0?0:t>0?1:-1},pf=function(t){return cy(t)&&t.indexOf("%")===t.length-1},Xe=function(t){return Wje(t)&&!nx(t)},_s=function(t){return Xe(t)||cy(t)},Kje=0,pm=function(t){var r=++Kje;return"".concat(t||"").concat(r)},Ia=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xe(t)&&!cy(t))return s;var i;if(pf(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return nx(i)&&(i=s),a&&i>r&&(i=r),i},Rd=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Yje=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,s={},a=0;a<r;a++)if(!s[t[a]])s[t[a]]=!0;else return!0;return!1},vs=function(t,r){return Xe(t)&&Xe(r)?function(s){return t+s*(r-t)}:function(){return r}};function b1(e,t,r){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):Bi(s,t))===r})}function bh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function EE(e){"@babel/helpers - typeof";return EE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EE(e)}var Xje=["viewBox","children"],Qje=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],BR=["points","pathLength"],SS={svg:Xje,polygon:BR,polyline:BR},sO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],w1=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(v.isValidElement(t)&&(s=t.props),!Jp(s))return null;var a={};return Object.keys(s).forEach(function(i){sO.includes(i)&&(a[i]=r||function(o){return s[i](s,o)})}),a},Zje=function(t,r,s){return function(a){return t(r,s,a),null}},Qf=function(t,r,s){if(!Jp(t)||EE(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];sO.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Zje(o,r,s))}),a},Jje=["children"],ebe=["children"];function UR(e,t){if(e==null)return{};var r=tbe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function tbe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function AE(e){"@babel/helpers - typeof";return AE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},AE(e)}var VR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Lc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},zR=null,CS=null,aO=function e(t){if(t===zR&&Array.isArray(CS))return CS;var r=[];return v.Children.forEach(t,function(s){Ut(s)||(pH.isFragment(s)?r=r.concat(e(s.props.children)):r.push(s))}),CS=r,zR=t,r};function Ui(e,t){var r=[],s=[];return Array.isArray(t)?s=t.map(function(a){return Lc(a)}):s=[Lc(t)],aO(e).forEach(function(a){var i=Bi(a,"type.displayName")||Bi(a,"type.name");s.indexOf(i)!==-1&&r.push(a)}),r}function ki(e,t){var r=Ui(e,t);return r&&r[0]}var WR=function(t){if(!t||!t.props)return!1;var r=t.props,s=r.width,a=r.height;return!(!Xe(s)||s<=0||!Xe(a)||a<=0)},rbe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],nbe=function(t){return t&&t.type&&cy(t.type)&&rbe.indexOf(t.type)>=0},gH=function(t){return t&&AE(t)==="object"&&"clipDot"in t},sbe=function(t,r,s,a){var i,o=(i=SS==null?void 0:SS[a])!==null&&i!==void 0?i:[];return!It(t)&&(a&&o.includes(r)||Qje.includes(r))||s&&sO.includes(r)},Nt=function(t,r,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(v.isValidElement(t)&&(a=t.props),!Jp(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;sbe((l=a)===null||l===void 0?void 0:l[o],o,r,s)&&(i[o]=a[o])}),i},PE=function e(t,r){if(t===r)return!0;var s=v.Children.count(t);if(s!==v.Children.count(r))return!1;if(s===0)return!0;if(s===1)return HR(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<s;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!HR(i,o))return!1}return!0},HR=function(t,r){if(Ut(t)&&Ut(r))return!0;if(!Ut(t)&&!Ut(r)){var s=t.props||{},a=s.children,i=UR(s,Jje),o=r.props||{},l=o.children,c=UR(o,ebe);return a&&l?bh(i,c)&&PE(a,l):!a&&!l?bh(i,c):!1}return!1},qR=function(t,r){var s=[],a={};return aO(t).forEach(function(i,o){if(nbe(i))s.push(i);else if(i){var l=Lc(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var f=d(i,l,o);s.push(f),a[l]=!0}}}),s},abe=function(t){var r=t&&t.type;return r&&VR[r]?VR[r]:null},ibe=function(t,r){return aO(r).indexOf(t)},obe=["children","width","height","viewBox","className","style","title","desc"];function kE(){return kE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},kE.apply(this,arguments)}function lbe(e,t){if(e==null)return{};var r=cbe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function cbe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function TE(e){var t=e.children,r=e.width,s=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=lbe(e,obe),u=a||{width:r,height:s,x:0,y:0},f=Wt("recharts-surface",i);return z.createElement("svg",kE({},Nt(d,!0,"svg"),{className:f,width:r,height:s,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),z.createElement("title",null,l),z.createElement("desc",null,c),t)}var dbe=["children","className"];function OE(){return OE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},OE.apply(this,arguments)}function ube(e,t){if(e==null)return{};var r=fbe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function fbe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var nr=z.forwardRef(function(e,t){var r=e.children,s=e.className,a=ube(e,dbe),i=Wt("recharts-layer",s);return z.createElement("g",OE({className:i},Nt(a,!0),{ref:t}),r)}),il=function(t,r){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]};function mbe(e,t,r){var s=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++s<a;)i[s]=e[s+t];return i}var hbe=mbe,pbe=hbe;function xbe(e,t,r){var s=e.length;return r=r===void 0?s:r,!t&&r>=s?e:pbe(e,t,r)}var gbe=xbe,vbe="\\ud800-\\udfff",ybe="\\u0300-\\u036f",jbe="\\ufe20-\\ufe2f",bbe="\\u20d0-\\u20ff",wbe=ybe+jbe+bbe,Nbe="\\ufe0e\\ufe0f",_be="\\u200d",Sbe=RegExp("["+_be+vbe+wbe+Nbe+"]");function Cbe(e){return Sbe.test(e)}var vH=Cbe;function Ebe(e){return e.split("")}var Abe=Ebe,yH="\\ud800-\\udfff",Pbe="\\u0300-\\u036f",kbe="\\ufe20-\\ufe2f",Tbe="\\u20d0-\\u20ff",Obe=Pbe+kbe+Tbe,Dbe="\\ufe0e\\ufe0f",Ibe="["+yH+"]",DE="["+Obe+"]",IE="\\ud83c[\\udffb-\\udfff]",Rbe="(?:"+DE+"|"+IE+")",jH="[^"+yH+"]",bH="(?:\\ud83c[\\udde6-\\uddff]){2}",wH="[\\ud800-\\udbff][\\udc00-\\udfff]",Mbe="\\u200d",NH=Rbe+"?",_H="["+Dbe+"]?",Fbe="(?:"+Mbe+"(?:"+[jH,bH,wH].join("|")+")"+_H+NH+")*",$be=_H+NH+Fbe,Lbe="(?:"+[jH+DE+"?",DE,bH,wH,Ibe].join("|")+")",Bbe=RegExp(IE+"(?="+IE+")|"+Lbe+$be,"g");function Ube(e){return e.match(Bbe)||[]}var Vbe=Ube,zbe=Abe,Wbe=vH,Hbe=Vbe;function qbe(e){return Wbe(e)?Hbe(e):zbe(e)}var Gbe=qbe,Kbe=gbe,Ybe=vH,Xbe=Gbe,Qbe=dH;function Zbe(e){return function(t){t=Qbe(t);var r=Ybe(t)?Xbe(t):void 0,s=r?r[0]:t.charAt(0),a=r?Kbe(r,1).join(""):t.slice(1);return s[e]()+a}}var Jbe=Zbe,e1e=Jbe,t1e=e1e("toUpperCase"),r1e=t1e;const f2=Ar(r1e);function Kr(e){return function(){return e}}const SH=Math.cos,N1=Math.sin,vl=Math.sqrt,_1=Math.PI,m2=2*_1,RE=Math.PI,ME=2*RE,Zu=1e-6,n1e=ME-Zu;function CH(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function s1e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return CH;const r=10**t;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+s[a]}}class a1e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?CH:s1e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,s,a){this._append`Q${+t},${+r},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(t,r,s,a,i,o){this._append`C${+t},${+r},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,s,a,i){if(t=+t,r=+r,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-t,d=a-r,u=o-t,f=l-r,m=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Zu)if(!(Math.abs(f*c-d*u)>Zu)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=s-o,x=a-l,p=c*c+d*d,g=h*h+x*x,j=Math.sqrt(p),y=Math.sqrt(m),w=i*Math.tan((RE-Math.acos((p+m-g)/(2*j*y)))/2),b=w/y,N=w/j;Math.abs(b-1)>Zu&&this._append`L${t+b*u},${r+b*f}`,this._append`A${i},${i},0,0,${+(f*h>u*x)},${this._x1=t+N*c},${this._y1=r+N*d}`}}arc(t,r,s,a,i,o){if(t=+t,r=+r,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),c=s*Math.sin(a),d=t+l,u=r+c,f=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Zu||Math.abs(this._y1-u)>Zu)&&this._append`L${d},${u}`,s&&(m<0&&(m=m%ME+ME),m>n1e?this._append`A${s},${s},0,1,${f},${t-l},${r-c}A${s},${s},0,1,${f},${this._x1=d},${this._y1=u}`:m>Zu&&this._append`A${s},${s},0,${+(m>=RE)},${f},${this._x1=t+s*Math.cos(i)},${this._y1=r+s*Math.sin(i)}`)}rect(t,r,s,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function iO(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);t=s}return e},()=>new a1e(t)}function oO(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function EH(e){this._context=e}EH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function h2(e){return new EH(e)}function AH(e){return e[0]}function PH(e){return e[1]}function kH(e,t){var r=Kr(!0),s=null,a=h2,i=null,o=iO(l);e=typeof e=="function"?e:e===void 0?AH:Kr(e),t=typeof t=="function"?t:t===void 0?PH:Kr(t);function l(c){var d,u=(c=oO(c)).length,f,m=!1,h;for(s==null&&(i=a(h=o())),d=0;d<=u;++d)!(d<u&&r(f=c[d],d,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(f,d,c),+t(f,d,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Kr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Kr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Kr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),l):s},l}function pj(e,t,r){var s=null,a=Kr(!0),i=null,o=h2,l=null,c=iO(d);e=typeof e=="function"?e:e===void 0?AH:Kr(+e),t=typeof t=="function"?t:Kr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?PH:Kr(+r);function d(f){var m,h,x,p=(f=oO(f)).length,g,j=!1,y,w=new Array(p),b=new Array(p);for(i==null&&(l=o(y=c())),m=0;m<=p;++m){if(!(m<p&&a(g=f[m],m,f))===j)if(j=!j)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=h;--x)l.point(w[x],b[x]);l.lineEnd(),l.areaEnd()}j&&(w[m]=+e(g,m,f),b[m]=+t(g,m,f),l.point(s?+s(g,m,f):w[m],r?+r(g,m,f):b[m]))}if(y)return l=null,y+""||null}function u(){return kH().defined(a).curve(o).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Kr(+f),s=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Kr(+f),d):e},d.x1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:Kr(+f),d):s},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Kr(+f),r=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Kr(+f),d):t},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Kr(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(s).y(t)},d.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Kr(!!f),d):a},d.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),d):o},d.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),d):i},d}class TH{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function i1e(e){return new TH(e,!0)}function o1e(e){return new TH(e,!1)}const lO={draw(e,t){const r=vl(t/_1);e.moveTo(r,0),e.arc(0,0,r,0,m2)}},l1e={draw(e,t){const r=vl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},OH=vl(1/3),c1e=OH*2,d1e={draw(e,t){const r=vl(t/c1e),s=r*OH;e.moveTo(0,-r),e.lineTo(s,0),e.lineTo(0,r),e.lineTo(-s,0),e.closePath()}},u1e={draw(e,t){const r=vl(t),s=-r/2;e.rect(s,s,r,r)}},f1e=.8908130915292852,DH=N1(_1/10)/N1(7*_1/10),m1e=N1(m2/10)*DH,h1e=-SH(m2/10)*DH,p1e={draw(e,t){const r=vl(t*f1e),s=m1e*r,a=h1e*r;e.moveTo(0,-r),e.lineTo(s,a);for(let i=1;i<5;++i){const o=m2*i/5,l=SH(o),c=N1(o);e.lineTo(c*r,-l*r),e.lineTo(l*s-c*a,c*s+l*a)}e.closePath()}},ES=vl(3),x1e={draw(e,t){const r=-vl(t/(ES*3));e.moveTo(0,r*2),e.lineTo(-ES*r,-r),e.lineTo(ES*r,-r),e.closePath()}},so=-.5,ao=vl(3)/2,FE=1/vl(12),g1e=(FE/2+1)*3,v1e={draw(e,t){const r=vl(t/g1e),s=r/2,a=r*FE,i=s,o=r*FE+r,l=-i,c=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(so*s-ao*a,ao*s+so*a),e.lineTo(so*i-ao*o,ao*i+so*o),e.lineTo(so*l-ao*c,ao*l+so*c),e.lineTo(so*s+ao*a,so*a-ao*s),e.lineTo(so*i+ao*o,so*o-ao*i),e.lineTo(so*l+ao*c,so*c-ao*l),e.closePath()}};function y1e(e,t){let r=null,s=iO(a);e=typeof e=="function"?e:Kr(e||lO),t=typeof t=="function"?t:Kr(t===void 0?64:+t);function a(){let i;if(r||(r=i=s()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Kr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Kr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function S1(){}function C1(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function IH(e){this._context=e}IH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:C1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:C1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function j1e(e){return new IH(e)}function RH(e){this._context=e}RH.prototype={areaStart:S1,areaEnd:S1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:C1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function b1e(e){return new RH(e)}function MH(e){this._context=e}MH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break;case 3:this._point=4;default:C1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function w1e(e){return new MH(e)}function FH(e){this._context=e}FH.prototype={areaStart:S1,areaEnd:S1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function N1e(e){return new FH(e)}function GR(e){return e<0?-1:1}function KR(e,t,r){var s=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(r-e._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(GR(i)+GR(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function YR(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function AS(e,t,r){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-s)/3;e._context.bezierCurveTo(s+l,a+l*t,i-l,o-l*r,i,o)}function E1(e){this._context=e}E1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:AS(this,this._t0,YR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,AS(this,YR(this,r=KR(this,e,t)),r);break;default:AS(this,this._t0,r=KR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function $H(e){this._context=new LH(e)}($H.prototype=Object.create(E1.prototype)).point=function(e,t){E1.prototype.point.call(this,t,e)};function LH(e){this._context=e}LH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,s,a,i){this._context.bezierCurveTo(t,e,s,r,i,a)}};function _1e(e){return new E1(e)}function S1e(e){return new $H(e)}function BH(e){this._context=e}BH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var s=XR(e),a=XR(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function XR(e){var t,r=e.length-1,s,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)s=a[t]/i[t-1],i[t]-=s,o[t]-=s*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function C1e(e){return new BH(e)}function p2(e,t){this._context=e,this._t=t}p2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function E1e(e){return new p2(e,.5)}function A1e(e){return new p2(e,0)}function P1e(e){return new p2(e,1)}function sp(e,t){if((o=e.length)>1)for(var r=1,s,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function $E(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function k1e(e,t){return e[t]}function T1e(e){const t=[];return t.key=e,t}function O1e(){var e=Kr([]),t=$E,r=sp,s=k1e;function a(i){var o=Array.from(e.apply(this,arguments),T1e),l,c=o.length,d=-1,u;for(const f of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+s(f,o[l].key,d,i)]).data=f;for(l=0,u=oO(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Kr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:Kr(+i),a):s},a.order=function(i){return arguments.length?(t=i==null?$E:typeof i=="function"?i:Kr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??sp,a):r},a}function D1e(e,t){if((s=e.length)>0){for(var r,s,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<s;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<s;++r)e[r][a][1]/=o}sp(e,t)}}function I1e(e,t){if((a=e.length)>0){for(var r=0,s=e[t[0]],a,i=s.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;s[r][1]+=s[r][0]=-l/2}sp(e,t)}}function R1e(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,s=1,a,i,o;s<i;++s){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],f=u[s][1]||0,m=u[s-1][1]||0,h=(f-m)/2,x=0;x<l;++x){var p=e[t[x]],g=p[s][1]||0,j=p[s-1][1]||0;h+=g-j}c+=f,d+=h*f}a[s-1][1]+=a[s-1][0]=r,c&&(r-=d/c)}a[s-1][1]+=a[s-1][0]=r,sp(e,t)}}function _0(e){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_0(e)}var M1e=["type","size","sizeType"];function LE(){return LE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},LE.apply(this,arguments)}function QR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ZR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(r),!0).forEach(function(s){F1e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function F1e(e,t,r){return t=$1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $1e(e){var t=L1e(e,"string");return _0(t)=="symbol"?t:t+""}function L1e(e,t){if(_0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(_0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B1e(e,t){if(e==null)return{};var r=U1e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function U1e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var UH={symbolCircle:lO,symbolCross:l1e,symbolDiamond:d1e,symbolSquare:u1e,symbolStar:p1e,symbolTriangle:x1e,symbolWye:v1e},V1e=Math.PI/180,z1e=function(t){var r="symbol".concat(f2(t));return UH[r]||lO},W1e=function(t,r,s){if(r==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*V1e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},H1e=function(t,r){UH["symbol".concat(f2(t))]=r},cO=function(t){var r=t.type,s=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=B1e(t,M1e),d=ZR(ZR({},c),{},{type:s,size:i,sizeType:l}),u=function(){var g=z1e(s),j=y1e().type(g).size(W1e(i,l,s));return j()},f=d.className,m=d.cx,h=d.cy,x=Nt(d,!0);return m===+m&&h===+h&&i===+i?z.createElement("path",LE({},x,{className:Wt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:u()})):null};cO.registerSymbol=H1e;function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function BE(){return BE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},BE.apply(this,arguments)}function JR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function q1e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(r),!0).forEach(function(s){S0(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function G1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K1e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,zH(s.key),s)}}function Y1e(e,t,r){return t&&K1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function X1e(e,t,r){return t=A1(t),Q1e(e,VH()?Reflect.construct(t,r||[],A1(e).constructor):t.apply(e,r))}function Q1e(e,t){if(t&&(ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z1e(e)}function Z1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VH=function(){return!!e})()}function A1(e){return A1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A1(e)}function J1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UE(e,t)}function UE(e,t){return UE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},UE(e,t)}function S0(e,t,r){return t=zH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zH(e){var t=ewe(e,"string");return ap(t)=="symbol"?t:t+""}function ewe(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ap(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var io=32,dO=function(e){function t(){return G1e(this,t),X1e(this,t,arguments)}return J1e(t,e),Y1e(t,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=io/2,o=io/6,l=io/3,c=s.inactive?a:s.color;if(s.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:io,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(io,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(io/8,"h").concat(io,"v").concat(io*3/4,"h").concat(-io,"z"),className:"recharts-legend-icon"});if(z.isValidElement(s.legendIcon)){var d=q1e({},s);return delete d.legendIcon,z.cloneElement(s.legendIcon,d)}return z.createElement(cO,{fill:c,cx:i,cy:i,size:io,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:io,height:io},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,x){var p=h.formatter||c,g=Wt(S0(S0({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",h.inactive));if(h.type==="none")return null;var j=It(h.value)?null:h.value;il(!It(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=h.inactive?d:h.color;return z.createElement("li",BE({className:g,style:f,key:"legend-item-".concat(x)},Qf(s.props,h,x)),z.createElement(TE,{width:o,height:o,viewBox:u,style:m},s.renderIcon(h)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(j,h,x):j))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);S0(dO,"displayName","Legend");S0(dO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var twe=JN;function rwe(){this.__data__=new twe,this.size=0}var nwe=rwe;function swe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var awe=swe;function iwe(e){return this.__data__.get(e)}var owe=iwe;function lwe(e){return this.__data__.has(e)}var cwe=lwe,dwe=JN,uwe=QT,fwe=ZT,mwe=200;function hwe(e,t){var r=this.__data__;if(r instanceof dwe){var s=r.__data__;if(!uwe||s.length<mwe-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new fwe(s)}return r.set(e,t),this.size=r.size,this}var pwe=hwe,xwe=JN,gwe=nwe,vwe=awe,ywe=owe,jwe=cwe,bwe=pwe;function sx(e){var t=this.__data__=new xwe(e);this.size=t.size}sx.prototype.clear=gwe;sx.prototype.delete=vwe;sx.prototype.get=ywe;sx.prototype.has=jwe;sx.prototype.set=bwe;var WH=sx,wwe="__lodash_hash_undefined__";function Nwe(e){return this.__data__.set(e,wwe),this}var _we=Nwe;function Swe(e){return this.__data__.has(e)}var Cwe=Swe,Ewe=ZT,Awe=_we,Pwe=Cwe;function P1(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Ewe;++t<r;)this.add(e[t])}P1.prototype.add=P1.prototype.push=Awe;P1.prototype.has=Pwe;var HH=P1;function kwe(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(t(e[r],r,e))return!0;return!1}var qH=kwe;function Twe(e,t){return e.has(t)}var GH=Twe,Owe=HH,Dwe=qH,Iwe=GH,Rwe=1,Mwe=2;function Fwe(e,t,r,s,a,i){var o=r&Rwe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var f=-1,m=!0,h=r&Mwe?new Owe:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var x=e[f],p=t[f];if(s)var g=o?s(p,x,f,t,e,i):s(x,p,f,e,t,i);if(g!==void 0){if(g)continue;m=!1;break}if(h){if(!Dwe(t,function(j,y){if(!Iwe(h,y)&&(x===j||a(x,j,r,s,i)))return h.push(y)})){m=!1;break}}else if(!(x===p||a(x,p,r,s,i))){m=!1;break}}return i.delete(e),i.delete(t),m}var KH=Fwe,$we=cc,Lwe=$we.Uint8Array,Bwe=Lwe;function Uwe(e){var t=-1,r=Array(e.size);return e.forEach(function(s,a){r[++t]=[a,s]}),r}var Vwe=Uwe;function zwe(e){var t=-1,r=Array(e.size);return e.forEach(function(s){r[++t]=s}),r}var uO=zwe,eM=ly,tM=Bwe,Wwe=XT,Hwe=KH,qwe=Vwe,Gwe=uO,Kwe=1,Ywe=2,Xwe="[object Boolean]",Qwe="[object Date]",Zwe="[object Error]",Jwe="[object Map]",eNe="[object Number]",tNe="[object RegExp]",rNe="[object Set]",nNe="[object String]",sNe="[object Symbol]",aNe="[object ArrayBuffer]",iNe="[object DataView]",rM=eM?eM.prototype:void 0,PS=rM?rM.valueOf:void 0;function oNe(e,t,r,s,a,i,o){switch(r){case iNe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case aNe:return!(e.byteLength!=t.byteLength||!i(new tM(e),new tM(t)));case Xwe:case Qwe:case eNe:return Wwe(+e,+t);case Zwe:return e.name==t.name&&e.message==t.message;case tNe:case nNe:return e==t+"";case Jwe:var l=qwe;case rNe:var c=s&Kwe;if(l||(l=Gwe),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;s|=Ywe,o.set(e,t);var u=Hwe(l(e),l(t),s,a,i,o);return o.delete(e),u;case sNe:if(PS)return PS.call(e)==PS.call(t)}return!1}var lNe=oNe;function cNe(e,t){for(var r=-1,s=t.length,a=e.length;++r<s;)e[a+r]=t[r];return e}var YH=cNe,dNe=YH,uNe=yi;function fNe(e,t,r){var s=t(e);return uNe(e)?s:dNe(s,r(e))}var mNe=fNe;function hNe(e,t){for(var r=-1,s=e==null?0:e.length,a=0,i=[];++r<s;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var pNe=hNe;function xNe(){return[]}var gNe=xNe,vNe=pNe,yNe=gNe,jNe=Object.prototype,bNe=jNe.propertyIsEnumerable,nM=Object.getOwnPropertySymbols,wNe=nM?function(e){return e==null?[]:(e=Object(e),vNe(nM(e),function(t){return bNe.call(e,t)}))}:yNe,NNe=wNe;function _Ne(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s}var SNe=_Ne,CNe=fd,ENe=md,ANe="[object Arguments]";function PNe(e){return ENe(e)&&CNe(e)==ANe}var kNe=PNe,sM=kNe,TNe=md,XH=Object.prototype,ONe=XH.hasOwnProperty,DNe=XH.propertyIsEnumerable,INe=sM(function(){return arguments}())?sM:function(e){return TNe(e)&&ONe.call(e,"callee")&&!DNe.call(e,"callee")},fO=INe,k1={exports:{}};function RNe(){return!1}var MNe=RNe;k1.exports;(function(e,t){var r=cc,s=MNe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||s;e.exports=d})(k1,k1.exports);var QH=k1.exports,FNe=9007199254740991,$Ne=/^(?:0|[1-9]\d*)$/;function LNe(e,t){var r=typeof e;return t=t??FNe,!!t&&(r=="number"||r!="symbol"&&$Ne.test(e))&&e>-1&&e%1==0&&e<t}var mO=LNe,BNe=9007199254740991;function UNe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=BNe}var hO=UNe,VNe=fd,zNe=hO,WNe=md,HNe="[object Arguments]",qNe="[object Array]",GNe="[object Boolean]",KNe="[object Date]",YNe="[object Error]",XNe="[object Function]",QNe="[object Map]",ZNe="[object Number]",JNe="[object Object]",e2e="[object RegExp]",t2e="[object Set]",r2e="[object String]",n2e="[object WeakMap]",s2e="[object ArrayBuffer]",a2e="[object DataView]",i2e="[object Float32Array]",o2e="[object Float64Array]",l2e="[object Int8Array]",c2e="[object Int16Array]",d2e="[object Int32Array]",u2e="[object Uint8Array]",f2e="[object Uint8ClampedArray]",m2e="[object Uint16Array]",h2e="[object Uint32Array]",tn={};tn[i2e]=tn[o2e]=tn[l2e]=tn[c2e]=tn[d2e]=tn[u2e]=tn[f2e]=tn[m2e]=tn[h2e]=!0;tn[HNe]=tn[qNe]=tn[s2e]=tn[GNe]=tn[a2e]=tn[KNe]=tn[YNe]=tn[XNe]=tn[QNe]=tn[ZNe]=tn[JNe]=tn[e2e]=tn[t2e]=tn[r2e]=tn[n2e]=!1;function p2e(e){return WNe(e)&&zNe(e.length)&&!!tn[VNe(e)]}var x2e=p2e;function g2e(e){return function(t){return e(t)}}var ZH=g2e,T1={exports:{}};T1.exports;(function(e,t){var r=sH,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(T1,T1.exports);var v2e=T1.exports,y2e=x2e,j2e=ZH,aM=v2e,iM=aM&&aM.isTypedArray,b2e=iM?j2e(iM):y2e,JH=b2e,w2e=SNe,N2e=fO,_2e=yi,S2e=QH,C2e=mO,E2e=JH,A2e=Object.prototype,P2e=A2e.hasOwnProperty;function k2e(e,t){var r=_2e(e),s=!r&&N2e(e),a=!r&&!s&&S2e(e),i=!r&&!s&&!a&&E2e(e),o=r||s||a||i,l=o?w2e(e.length,String):[],c=l.length;for(var d in e)(t||P2e.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||C2e(d,c)))&&l.push(d);return l}var T2e=k2e,O2e=Object.prototype;function D2e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||O2e;return e===r}var I2e=D2e;function R2e(e,t){return function(r){return e(t(r))}}var eq=R2e,M2e=eq,F2e=M2e(Object.keys,Object),$2e=F2e,L2e=I2e,B2e=$2e,U2e=Object.prototype,V2e=U2e.hasOwnProperty;function z2e(e){if(!L2e(e))return B2e(e);var t=[];for(var r in Object(e))V2e.call(e,r)&&r!="constructor"&&t.push(r);return t}var W2e=z2e,H2e=YT,q2e=hO;function G2e(e){return e!=null&&q2e(e.length)&&!H2e(e)}var dy=G2e,K2e=T2e,Y2e=W2e,X2e=dy;function Q2e(e){return X2e(e)?K2e(e):Y2e(e)}var x2=Q2e,Z2e=mNe,J2e=NNe,e_e=x2;function t_e(e){return Z2e(e,e_e,J2e)}var r_e=t_e,oM=r_e,n_e=1,s_e=Object.prototype,a_e=s_e.hasOwnProperty;function i_e(e,t,r,s,a,i){var o=r&n_e,l=oM(e),c=l.length,d=oM(t),u=d.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var m=l[f];if(!(o?m in t:a_e.call(t,m)))return!1}var h=i.get(e),x=i.get(t);if(h&&x)return h==t&&x==e;var p=!0;i.set(e,t),i.set(t,e);for(var g=o;++f<c;){m=l[f];var j=e[m],y=t[m];if(s)var w=o?s(y,j,m,t,e,i):s(j,y,m,e,t,i);if(!(w===void 0?j===y||a(j,y,r,s,i):w)){p=!1;break}g||(g=m=="constructor")}if(p&&!g){var b=e.constructor,N=t.constructor;b!=N&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof N=="function"&&N instanceof N)&&(p=!1)}return i.delete(e),i.delete(t),p}var o_e=i_e,l_e=hm,c_e=cc,d_e=l_e(c_e,"DataView"),u_e=d_e,f_e=hm,m_e=cc,h_e=f_e(m_e,"Promise"),p_e=h_e,x_e=hm,g_e=cc,v_e=x_e(g_e,"Set"),tq=v_e,y_e=hm,j_e=cc,b_e=y_e(j_e,"WeakMap"),w_e=b_e,VE=u_e,zE=QT,WE=p_e,HE=tq,qE=w_e,rq=fd,ax=iH,lM="[object Map]",N_e="[object Object]",cM="[object Promise]",dM="[object Set]",uM="[object WeakMap]",fM="[object DataView]",__e=ax(VE),S_e=ax(zE),C_e=ax(WE),E_e=ax(HE),A_e=ax(qE),Ju=rq;(VE&&Ju(new VE(new ArrayBuffer(1)))!=fM||zE&&Ju(new zE)!=lM||WE&&Ju(WE.resolve())!=cM||HE&&Ju(new HE)!=dM||qE&&Ju(new qE)!=uM)&&(Ju=function(e){var t=rq(e),r=t==N_e?e.constructor:void 0,s=r?ax(r):"";if(s)switch(s){case __e:return fM;case S_e:return lM;case C_e:return cM;case E_e:return dM;case A_e:return uM}return t});var P_e=Ju,kS=WH,k_e=KH,T_e=lNe,O_e=o_e,mM=P_e,hM=yi,pM=QH,D_e=JH,I_e=1,xM="[object Arguments]",gM="[object Array]",xj="[object Object]",R_e=Object.prototype,vM=R_e.hasOwnProperty;function M_e(e,t,r,s,a,i){var o=hM(e),l=hM(t),c=o?gM:mM(e),d=l?gM:mM(t);c=c==xM?xj:c,d=d==xM?xj:d;var u=c==xj,f=d==xj,m=c==d;if(m&&pM(e)){if(!pM(t))return!1;o=!0,u=!1}if(m&&!u)return i||(i=new kS),o||D_e(e)?k_e(e,t,r,s,a,i):T_e(e,t,c,r,s,a,i);if(!(r&I_e)){var h=u&&vM.call(e,"__wrapped__"),x=f&&vM.call(t,"__wrapped__");if(h||x){var p=h?e.value():e,g=x?t.value():t;return i||(i=new kS),a(p,g,r,s,i)}}return m?(i||(i=new kS),O_e(e,t,r,s,a,i)):!1}var F_e=M_e,$_e=F_e,yM=md;function nq(e,t,r,s,a){return e===t?!0:e==null||t==null||!yM(e)&&!yM(t)?e!==e&&t!==t:$_e(e,t,r,s,nq,a)}var pO=nq,L_e=WH,B_e=pO,U_e=1,V_e=2;function z_e(e,t,r,s){var a=r.length,i=a,o=!s;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var f=new L_e;if(s)var m=s(d,u,c,e,t,f);if(!(m===void 0?B_e(u,d,U_e|V_e,s,f):m))return!1}}return!0}var W_e=z_e,H_e=Mu;function q_e(e){return e===e&&!H_e(e)}var sq=q_e,G_e=sq,K_e=x2;function Y_e(e){for(var t=K_e(e),r=t.length;r--;){var s=t[r],a=e[s];t[r]=[s,a,G_e(a)]}return t}var X_e=Y_e;function Q_e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var aq=Q_e,Z_e=W_e,J_e=X_e,eSe=aq;function tSe(e){var t=J_e(e);return t.length==1&&t[0][2]?eSe(t[0][0],t[0][1]):function(r){return r===e||Z_e(r,e,t)}}var rSe=tSe;function nSe(e,t){return e!=null&&t in Object(e)}var sSe=nSe,aSe=uH,iSe=fO,oSe=yi,lSe=mO,cSe=hO,dSe=t2;function uSe(e,t,r){t=aSe(t,e);for(var s=-1,a=t.length,i=!1;++s<a;){var o=dSe(t[s]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++s!=a?i:(a=e==null?0:e.length,!!a&&cSe(a)&&lSe(o,a)&&(oSe(e)||iSe(e)))}var fSe=uSe,mSe=sSe,hSe=fSe;function pSe(e,t){return e!=null&&hSe(e,t,mSe)}var xSe=pSe,gSe=pO,vSe=fH,ySe=xSe,jSe=KT,bSe=sq,wSe=aq,NSe=t2,_Se=1,SSe=2;function CSe(e,t){return jSe(e)&&bSe(t)?wSe(NSe(e),t):function(r){var s=vSe(r,e);return s===void 0&&s===t?ySe(r,e):gSe(t,s,_Se|SSe)}}var ESe=CSe;function ASe(e){return e}var ix=ASe;function PSe(e){return function(t){return t==null?void 0:t[e]}}var kSe=PSe,TSe=tO;function OSe(e){return function(t){return TSe(t,e)}}var DSe=OSe,ISe=kSe,RSe=DSe,MSe=KT,FSe=t2;function $Se(e){return MSe(e)?ISe(FSe(e)):RSe(e)}var LSe=$Se,BSe=rSe,USe=ESe,VSe=ix,zSe=yi,WSe=LSe;function HSe(e){return typeof e=="function"?e:e==null?VSe:typeof e=="object"?zSe(e)?USe(e[0],e[1]):BSe(e):WSe(e)}var dc=HSe;function qSe(e,t,r,s){for(var a=e.length,i=r+(s?1:-1);s?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var iq=qSe;function GSe(e){return e!==e}var KSe=GSe;function YSe(e,t,r){for(var s=r-1,a=e.length;++s<a;)if(e[s]===t)return s;return-1}var XSe=YSe,QSe=iq,ZSe=KSe,JSe=XSe;function eCe(e,t,r){return t===t?JSe(e,t,r):QSe(e,ZSe,r)}var tCe=eCe,rCe=tCe;function nCe(e,t){var r=e==null?0:e.length;return!!r&&rCe(e,t,0)>-1}var sCe=nCe;function aCe(e,t,r){for(var s=-1,a=e==null?0:e.length;++s<a;)if(r(t,e[s]))return!0;return!1}var iCe=aCe;function oCe(){}var lCe=oCe,TS=tq,cCe=lCe,dCe=uO,uCe=1/0,fCe=TS&&1/dCe(new TS([,-0]))[1]==uCe?function(e){return new TS(e)}:cCe,mCe=fCe,hCe=HH,pCe=sCe,xCe=iCe,gCe=GH,vCe=mCe,yCe=uO,jCe=200;function bCe(e,t,r){var s=-1,a=pCe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=xCe;else if(i>=jCe){var d=t?null:vCe(e);if(d)return yCe(d);o=!1,a=gCe,c=new hCe}else c=t?[]:l;e:for(;++s<i;){var u=e[s],f=t?t(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;t&&c.push(f),l.push(u)}else a(c,f,r)||(c!==l&&c.push(f),l.push(u))}return l}var wCe=bCe,NCe=dc,_Ce=wCe;function SCe(e,t){return e&&e.length?_Ce(e,NCe(t)):[]}var CCe=SCe;const jM=Ar(CCe);function oq(e,t,r){return t===!0?jM(e,r):It(t)?jM(e,t):e}function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}var ECe=["ref"];function bM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function xc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bM(Object(r),!0).forEach(function(s){g2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ACe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wM(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,cq(s.key),s)}}function PCe(e,t,r){return t&&wM(e.prototype,t),r&&wM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kCe(e,t,r){return t=O1(t),TCe(e,lq()?Reflect.construct(t,r||[],O1(e).constructor):t.apply(e,r))}function TCe(e,t){if(t&&(ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OCe(e)}function OCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lq=function(){return!!e})()}function O1(e){return O1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O1(e)}function DCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GE(e,t)}function GE(e,t){return GE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},GE(e,t)}function g2(e,t,r){return t=cq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cq(e){var t=ICe(e,"string");return ip(t)=="symbol"?t:t+""}function ICe(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ip(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RCe(e,t){if(e==null)return{};var r=MCe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function MCe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function FCe(e){return e.value}function $Ce(e,t){if(z.isValidElement(e))return z.cloneElement(e,t);if(typeof e=="function")return z.createElement(e,t);t.ref;var r=RCe(t,ECe);return z.createElement(dO,r)}var NM=1,ol=function(e){function t(){var r;ACe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=kCe(this,t,[].concat(a)),g2(r,"lastBoundingBox",{width:-1,height:-1}),r}return DCe(t,e),PCe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>NM||Math.abs(a.height-this.lastBoundingBox.height)>NM)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?xc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,f,m;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();f={left:((d||0)-h.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();m={top:((u||0)-x.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return xc(xc({},f),m)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,f=xc(xc({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return z.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){s.wrapperNode=h}},$Ce(i,xc(xc({},this.props),{},{payload:oq(u,d,FCe)})))}}],[{key:"getWithHeight",value:function(s,a){var i=xc(xc({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&Xe(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])}(v.PureComponent);g2(ol,"displayName","Legend");g2(ol,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _M=ly,LCe=fO,BCe=yi,SM=_M?_M.isConcatSpreadable:void 0;function UCe(e){return BCe(e)||LCe(e)||!!(SM&&e&&e[SM])}var VCe=UCe,zCe=YH,WCe=VCe;function dq(e,t,r,s,a){var i=-1,o=e.length;for(r||(r=WCe),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?dq(l,t-1,r,s,a):zCe(a,l):s||(a[a.length]=l)}return a}var uq=dq;function HCe(e){return function(t,r,s){for(var a=-1,i=Object(t),o=s(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var qCe=HCe,GCe=qCe,KCe=GCe(),YCe=KCe,XCe=YCe,QCe=x2;function ZCe(e,t){return e&&XCe(e,t,QCe)}var fq=ZCe,JCe=dy;function e4e(e,t){return function(r,s){if(r==null)return r;if(!JCe(r))return e(r,s);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&s(o[i],i,o)!==!1;);return r}}var t4e=e4e,r4e=fq,n4e=t4e,s4e=n4e(r4e),xO=s4e,a4e=xO,i4e=dy;function o4e(e,t){var r=-1,s=i4e(e)?Array(e.length):[];return a4e(e,function(a,i,o){s[++r]=t(a,i,o)}),s}var mq=o4e;function l4e(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var c4e=l4e,CM=Zp;function d4e(e,t){if(e!==t){var r=e!==void 0,s=e===null,a=e===e,i=CM(e),o=t!==void 0,l=t===null,c=t===t,d=CM(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||s&&o&&c||!r&&c||!a)return 1;if(!s&&!i&&!d&&e<t||d&&r&&a&&!s&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var u4e=d4e,f4e=u4e;function m4e(e,t,r){for(var s=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++s<o;){var c=f4e(a[s],i[s]);if(c){if(s>=l)return c;var d=r[s];return c*(d=="desc"?-1:1)}}return e.index-t.index}var h4e=m4e,OS=eO,p4e=tO,x4e=dc,g4e=mq,v4e=c4e,y4e=ZH,j4e=h4e,b4e=ix,w4e=yi;function N4e(e,t,r){t.length?t=OS(t,function(i){return w4e(i)?function(o){return p4e(o,i.length===1?i[0]:i)}:i}):t=[b4e];var s=-1;t=OS(t,y4e(x4e));var a=g4e(e,function(i,o,l){var c=OS(t,function(d){return d(i)});return{criteria:c,index:++s,value:i}});return v4e(a,function(i,o){return j4e(i,o,r)})}var _4e=N4e;function S4e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var C4e=S4e,E4e=C4e,EM=Math.max;function A4e(e,t,r){return t=EM(t===void 0?e.length-1:t,0),function(){for(var s=arguments,a=-1,i=EM(s.length-t,0),o=Array(i);++a<i;)o[a]=s[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=s[a];return l[t]=r(o),E4e(e,this,l)}}var P4e=A4e;function k4e(e){return function(){return e}}var T4e=k4e,O4e=hm,D4e=function(){try{var e=O4e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),hq=D4e,I4e=T4e,AM=hq,R4e=ix,M4e=AM?function(e,t){return AM(e,"toString",{configurable:!0,enumerable:!1,value:I4e(t),writable:!0})}:R4e,F4e=M4e,$4e=800,L4e=16,B4e=Date.now;function U4e(e){var t=0,r=0;return function(){var s=B4e(),a=L4e-(s-r);if(r=s,a>0){if(++t>=$4e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var V4e=U4e,z4e=F4e,W4e=V4e,H4e=W4e(z4e),q4e=H4e,G4e=ix,K4e=P4e,Y4e=q4e;function X4e(e,t){return Y4e(K4e(e,t,G4e),e+"")}var Q4e=X4e,Z4e=XT,J4e=dy,eEe=mO,tEe=Mu;function rEe(e,t,r){if(!tEe(r))return!1;var s=typeof t;return(s=="number"?J4e(r)&&eEe(t,r.length):s=="string"&&t in r)?Z4e(r[t],e):!1}var v2=rEe,nEe=uq,sEe=_4e,aEe=Q4e,PM=v2,iEe=aEe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&PM(e,t[0],t[1])?t=[]:r>2&&PM(t[0],t[1],t[2])&&(t=[t[0]]),sEe(e,nEe(t,1),[])}),oEe=iEe;const gO=Ar(oEe);function C0(e){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C0(e)}function KE(){return KE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},KE.apply(this,arguments)}function lEe(e,t){return fEe(e)||uEe(e,t)||dEe(e,t)||cEe()}function cEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dEe(e,t){if(e){if(typeof e=="string")return kM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kM(e,t)}}function kM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function uEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function fEe(e){if(Array.isArray(e))return e}function TM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function DS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(r),!0).forEach(function(s){mEe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function mEe(e,t,r){return t=hEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hEe(e){var t=pEe(e,"string");return C0(t)=="symbol"?t:t+""}function pEe(e,t){if(C0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(C0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xEe(e){return Array.isArray(e)&&_s(e[0])&&_s(e[1])?e.join(" ~ "):e}var gEe=function(t){var r=t.separator,s=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,f=t.formatter,m=t.itemSorter,h=t.wrapperClassName,x=t.labelClassName,p=t.label,g=t.labelFormatter,j=t.accessibilityLayer,y=j===void 0?!1:j,w=function(){if(u&&u.length){var I={padding:0,margin:0},W=(m?gO(u,m):u).map(function(H,F){if(H.type==="none")return null;var T=DS({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),P=H.formatter||f||xEe,M=H.value,O=H.name,K=M,ne=O;if(P&&K!=null&&ne!=null){var R=P(M,O,H,F,u);if(Array.isArray(R)){var V=lEe(R,2);K=V[0],ne=V[1]}else K=R}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:T},_s(ne)?z.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,_s(ne)?z.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,z.createElement("span",{className:"recharts-tooltip-item-value"},K),z.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:I},W)}return null},b=DS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=DS({margin:0},d),S=!Ut(p),_=S?p:"",E=Wt("recharts-default-tooltip",h),A=Wt("recharts-tooltip-label",x);S&&g&&u!==void 0&&u!==null&&(_=g(p,u));var k=y?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",KE({className:E,style:b},k),z.createElement("p",{className:A,style:N},z.isValidElement(_)?_:"".concat(_)),w())};function E0(e){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E0(e)}function gj(e,t,r){return t=vEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vEe(e){var t=yEe(e,"string");return E0(t)=="symbol"?t:t+""}function yEe(e,t){if(E0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(E0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zx="recharts-tooltip-wrapper",jEe={visibility:"hidden"};function bEe(e){var t=e.coordinate,r=e.translateX,s=e.translateY;return Wt(zx,gj(gj(gj(gj({},"".concat(zx,"-right"),Xe(r)&&t&&Xe(t.x)&&r>=t.x),"".concat(zx,"-left"),Xe(r)&&t&&Xe(t.x)&&r<t.x),"".concat(zx,"-bottom"),Xe(s)&&t&&Xe(t.y)&&s>=t.y),"".concat(zx,"-top"),Xe(s)&&t&&Xe(t.y)&&s<t.y))}function OM(e){var t=e.allowEscapeViewBox,r=e.coordinate,s=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&Xe(i[s]))return i[s];var u=r[s]-l-a,f=r[s]+a;if(t[s])return o[s]?u:f;if(o[s]){var m=u,h=c[s];return m<h?Math.max(f,c[s]):Math.max(u,c[s])}var x=f+l,p=c[s]+d;return x>p?Math.max(u,c[s]):Math.max(f,c[s])}function wEe(e){var t=e.translateX,r=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function NEe(e){var t=e.allowEscapeViewBox,r=e.coordinate,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,f;return o.height>0&&o.width>0&&r?(u=OM({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=OM({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=wEe({translateX:u,translateY:f,useTranslate3d:l})):d=jEe,{cssProperties:d,cssClasses:bEe({translateX:u,translateY:f,coordinate:r})}}function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function DM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function IM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DM(Object(r),!0).forEach(function(s){XE(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function _Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SEe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,xq(s.key),s)}}function CEe(e,t,r){return t&&SEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EEe(e,t,r){return t=D1(t),AEe(e,pq()?Reflect.construct(t,r||[],D1(e).constructor):t.apply(e,r))}function AEe(e,t){if(t&&(op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PEe(e)}function PEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pq=function(){return!!e})()}function D1(e){return D1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},D1(e)}function kEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YE(e,t)}function YE(e,t){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},YE(e,t)}function XE(e,t,r){return t=xq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xq(e){var t=TEe(e,"string");return op(t)=="symbol"?t:t+""}function TEe(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(op(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RM=1,OEe=function(e){function t(){var r;_Ee(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=EEe(this,t,[].concat(a)),XE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),XE(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return kEe(t,e),CEe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>RM||Math.abs(s.height-this.state.lastBoundingBox.height)>RM)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,h=a.offset,x=a.position,p=a.reverseDirection,g=a.useTranslate3d,j=a.viewBox,y=a.wrapperStyle,w=NEe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:h,position:x,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:j}),b=w.cssClasses,N=w.cssProperties,S=IM(IM({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return z.createElement("div",{tabIndex:-1,className:b,style:S,ref:function(E){s.wrapperNode=E}},d)}}])}(v.PureComponent),DEe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ll={isSsr:DEe(),get:function(t){return ll[t]},set:function(t,r){if(typeof t=="string")ll[t]=r;else{var s=Object.keys(t);s&&s.length&&s.forEach(function(a){ll[a]=t[a]})}}};function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function MM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function FM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(r),!0).forEach(function(s){vO(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function IEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function REe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,vq(s.key),s)}}function MEe(e,t,r){return t&&REe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FEe(e,t,r){return t=I1(t),$Ee(e,gq()?Reflect.construct(t,r||[],I1(e).constructor):t.apply(e,r))}function $Ee(e,t){if(t&&(lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LEe(e)}function LEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gq=function(){return!!e})()}function I1(e){return I1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I1(e)}function BEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QE(e,t)}function QE(e,t){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},QE(e,t)}function vO(e,t,r){return t=vq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vq(e){var t=UEe(e,"string");return lp(t)=="symbol"?t:t+""}function UEe(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(lp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VEe(e){return e.dataKey}function zEe(e,t){return z.isValidElement(e)?z.cloneElement(e,t):typeof e=="function"?z.createElement(e,t):z.createElement(gEe,t)}var hr=function(e){function t(){return IEe(this,t),FEe(this,t,arguments)}return BEe(t,e),MEe(t,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,f=a.filterNull,m=a.isAnimationActive,h=a.offset,x=a.payload,p=a.payloadUniqBy,g=a.position,j=a.reverseDirection,y=a.useTranslate3d,w=a.viewBox,b=a.wrapperStyle,N=x??[];f&&N.length&&(N=oq(x.filter(function(_){return _.value!=null&&(_.hide!==!0||s.props.includeHidden)}),p,VEe));var S=N.length>0;return z.createElement(OEe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:u,hasPayload:S,offset:h,position:g,reverseDirection:j,useTranslate3d:y,viewBox:w,wrapperStyle:b},zEe(d,FM(FM({},this.props),{},{payload:N})))}}])}(v.PureComponent);vO(hr,"displayName","Tooltip");vO(hr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ll.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var WEe=cc,HEe=function(){return WEe.Date.now()},qEe=HEe,GEe=/\s/;function KEe(e){for(var t=e.length;t--&&GEe.test(e.charAt(t)););return t}var YEe=KEe,XEe=YEe,QEe=/^\s+/;function ZEe(e){return e&&e.slice(0,XEe(e)+1).replace(QEe,"")}var JEe=ZEe,eAe=JEe,$M=Mu,tAe=Zp,LM=NaN,rAe=/^[-+]0x[0-9a-f]+$/i,nAe=/^0b[01]+$/i,sAe=/^0o[0-7]+$/i,aAe=parseInt;function iAe(e){if(typeof e=="number")return e;if(tAe(e))return LM;if($M(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=$M(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=eAe(e);var r=nAe.test(e);return r||sAe.test(e)?aAe(e.slice(2),r?2:8):rAe.test(e)?LM:+e}var yq=iAe,oAe=Mu,IS=qEe,BM=yq,lAe="Expected a function",cAe=Math.max,dAe=Math.min;function uAe(e,t,r){var s,a,i,o,l,c,d=0,u=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(lAe);t=BM(t)||0,oAe(r)&&(u=!!r.leading,f="maxWait"in r,i=f?cAe(BM(r.maxWait)||0,t):i,m="trailing"in r?!!r.trailing:m);function h(S){var _=s,E=a;return s=a=void 0,d=S,o=e.apply(E,_),o}function x(S){return d=S,l=setTimeout(j,t),u?h(S):o}function p(S){var _=S-c,E=S-d,A=t-_;return f?dAe(A,i-E):A}function g(S){var _=S-c,E=S-d;return c===void 0||_>=t||_<0||f&&E>=i}function j(){var S=IS();if(g(S))return y(S);l=setTimeout(j,p(S))}function y(S){return l=void 0,m&&s?h(S):(s=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),d=0,s=c=a=l=void 0}function b(){return l===void 0?o:y(IS())}function N(){var S=IS(),_=g(S);if(s=arguments,a=this,c=S,_){if(l===void 0)return x(c);if(f)return clearTimeout(l),l=setTimeout(j,t),h(c)}return l===void 0&&(l=setTimeout(j,t)),o}return N.cancel=w,N.flush=b,N}var fAe=uAe,mAe=fAe,hAe=Mu,pAe="Expected a function";function xAe(e,t,r){var s=!0,a=!0;if(typeof e!="function")throw new TypeError(pAe);return hAe(r)&&(s="leading"in r?!!r.leading:s,a="trailing"in r?!!r.trailing:a),mAe(e,t,{leading:s,maxWait:t,trailing:a})}var gAe=xAe;const jq=Ar(gAe);function A0(e){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A0(e)}function UM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function vj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(r),!0).forEach(function(s){vAe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function vAe(e,t,r){return t=yAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yAe(e){var t=jAe(e,"string");return A0(t)=="symbol"?t:t+""}function jAe(e,t){if(A0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(A0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bAe(e,t){return SAe(e)||_Ae(e,t)||NAe(e,t)||wAe()}function wAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NAe(e,t){if(e){if(typeof e=="string")return VM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VM(e,t)}}function VM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function _Ae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function SAe(e){if(Array.isArray(e))return e}var dn=v.forwardRef(function(e,t){var r=e.aspect,s=e.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,f=e.minHeight,m=e.maxHeight,h=e.children,x=e.debounce,p=x===void 0?0:x,g=e.id,j=e.className,y=e.onResize,w=e.style,b=w===void 0?{}:w,N=v.useRef(null),S=v.useRef();S.current=y,v.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var _=v.useState({containerWidth:a.width,containerHeight:a.height}),E=bAe(_,2),A=E[0],k=E[1],D=v.useCallback(function(W,H){k(function(F){var T=Math.round(W),P=Math.round(H);return F.containerWidth===T&&F.containerHeight===P?F:{containerWidth:T,containerHeight:P}})},[]);v.useEffect(function(){var W=function(O){var K,ne=O[0].contentRect,R=ne.width,V=ne.height;D(R,V),(K=S.current)===null||K===void 0||K.call(S,R,V)};p>0&&(W=jq(W,p,{trailing:!0,leading:!1}));var H=new ResizeObserver(W),F=N.current.getBoundingClientRect(),T=F.width,P=F.height;return D(T,P),H.observe(N.current),function(){H.disconnect()}},[D,p]);var I=v.useMemo(function(){var W=A.containerWidth,H=A.containerHeight;if(W<0||H<0)return null;il(pf(o)||pf(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),il(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=pf(o)?W:o,T=pf(c)?H:c;r&&r>0&&(F?T=F/r:T&&(F=T*r),m&&T>m&&(T=m)),il(F>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,T,o,c,u,f,r);var P=!Array.isArray(h)&&Lc(h.type).endsWith("Chart");return z.Children.map(h,function(M){return pH.isElement(M)?v.cloneElement(M,vj({width:F,height:T},P?{style:vj({height:"100%",width:"100%",maxHeight:T,maxWidth:F},M.props.style)}:{})):M})},[r,h,c,m,f,u,A,o]);return z.createElement("div",{id:g?"".concat(g):void 0,className:Wt("recharts-responsive-container",j),style:vj(vj({},b),{},{width:o,height:c,minWidth:u,minHeight:f,maxHeight:m}),ref:N},I)}),Ca=function(t){return null};Ca.displayName="Cell";function P0(e){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P0(e)}function zM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ZE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(r),!0).forEach(function(s){CAe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function CAe(e,t,r){return t=EAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EAe(e){var t=AAe(e,"string");return P0(t)=="symbol"?t:t+""}function AAe(e,t){if(P0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(P0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dm={widthCache:{},cacheCount:0},PAe=2e3,kAe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WM="recharts_measurement_span";function TAe(e){var t=ZE({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Pg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ll.isSsr)return{width:0,height:0};var s=TAe(r),a=JSON.stringify({text:t,copyStyle:s});if(Dm.widthCache[a])return Dm.widthCache[a];try{var i=document.getElementById(WM);i||(i=document.createElement("span"),i.setAttribute("id",WM),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=ZE(ZE({},kAe),s);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Dm.widthCache[a]=c,++Dm.cacheCount>PAe&&(Dm.cacheCount=0,Dm.widthCache={}),c}catch{return{width:0,height:0}}},OAe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function k0(e){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k0(e)}function R1(e,t){return MAe(e)||RAe(e,t)||IAe(e,t)||DAe()}function DAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IAe(e,t){if(e){if(typeof e=="string")return HM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HM(e,t)}}function HM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function RAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function MAe(e){if(Array.isArray(e))return e}function FAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qM(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,LAe(s.key),s)}}function $Ae(e,t,r){return t&&qM(e.prototype,t),r&&qM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LAe(e){var t=BAe(e,"string");return k0(t)=="symbol"?t:t+""}function BAe(e,t){if(k0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(k0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UAe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,VAe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zAe=Object.keys(bq),rh="NaN";function WAe(e,t){return e*bq[t]}var yj=function(){function e(t,r){FAe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!UAe.test(r)&&(this.num=NaN,this.unit=""),zAe.includes(r)&&(this.num=WAe(t,r),this.unit="px")}return $Ae(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var s,a=(s=VAe.exec(r))!==null&&s!==void 0?s:[],i=R1(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function wq(e){if(e.includes(rh))return rh;for(var t=e;t.includes("*")||t.includes("/");){var r,s=(r=GM.exec(t))!==null&&r!==void 0?r:[],a=R1(s,4),i=a[1],o=a[2],l=a[3],c=yj.parse(i??""),d=yj.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return rh;t=t.replace(GM,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,m=(f=KM.exec(t))!==null&&f!==void 0?f:[],h=R1(m,4),x=h[1],p=h[2],g=h[3],j=yj.parse(x??""),y=yj.parse(g??""),w=p==="+"?j.add(y):j.subtract(y);if(w.isNaN())return rh;t=t.replace(KM,w.toString())}return t}var YM=/\(([^()]*)\)/;function HAe(e){for(var t=e;t.includes("(");){var r=YM.exec(t),s=R1(r,2),a=s[1];t=t.replace(YM,wq(a))}return t}function qAe(e){var t=e.replace(/\s+/g,"");return t=HAe(t),t=wq(t),t}function GAe(e){try{return qAe(e)}catch{return rh}}function RS(e){var t=GAe(e.slice(5,-1));return t===rh?"":t}var KAe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],YAe=["dx","dy","angle","className","breakAll"];function JE(){return JE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},JE.apply(this,arguments)}function XM(e,t){if(e==null)return{};var r=XAe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function XAe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function QM(e,t){return ePe(e)||JAe(e,t)||ZAe(e,t)||QAe()}function QAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZAe(e,t){if(e){if(typeof e=="string")return ZM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZM(e,t)}}function ZM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function JAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function ePe(e){if(Array.isArray(e))return e}var Nq=/[ \f\n\r\t\v\u2028\u2029]+/,_q=function(t){var r=t.children,s=t.breakAll,a=t.style;try{var i=[];Ut(r)||(s?i=r.toString().split(""):i=r.toString().split(Nq));var o=i.map(function(c){return{word:c,width:Pg(c,a).width}}),l=s?0:Pg("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},tPe=function(t,r,s,a,i){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=Xe(o),f=l,m=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(T,P){var M=P.word,O=P.width,K=T[T.length-1];if(K&&(a==null||i||K.width+O+s<Number(a)))K.words.push(M),K.width+=O+s;else{var ne={words:[M],width:O};T.push(ne)}return T},[])},h=m(r),x=function(F){return F.reduce(function(T,P){return T.width>P.width?T:P})};if(!u)return h;for(var p="",g=function(F){var T=f.slice(0,F),P=_q({breakAll:d,style:c,children:T+p}).wordsWithComputedWidth,M=m(P),O=M.length>o||x(M).width>Number(a);return[O,M]},j=0,y=f.length-1,w=0,b;j<=y&&w<=f.length-1;){var N=Math.floor((j+y)/2),S=N-1,_=g(S),E=QM(_,2),A=E[0],k=E[1],D=g(N),I=QM(D,1),W=I[0];if(!A&&!W&&(j=N+1),A&&W&&(y=N-1),!A&&W){b=k;break}w++}return b||h},JM=function(t){var r=Ut(t)?[]:t.toString().split(Nq);return[{words:r}]},rPe=function(t){var r=t.width,s=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||s)&&!ll.isSsr){var c,d,u=_q({breakAll:o,children:a,style:i});if(u){var f=u.wordsWithComputedWidth,m=u.spaceWidth;c=f,d=m}else return JM(a);return tPe({breakAll:o,children:a,maxLines:l,style:i},c,d,r,s)}return JM(a)},eF="#808080",Zf=function(t){var r=t.x,s=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,f=u===void 0?!1:u,m=t.textAnchor,h=m===void 0?"start":m,x=t.verticalAnchor,p=x===void 0?"end":x,g=t.fill,j=g===void 0?eF:g,y=XM(t,KAe),w=v.useMemo(function(){return rPe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),b=y.dx,N=y.dy,S=y.angle,_=y.className,E=y.breakAll,A=XM(y,YAe);if(!_s(s)||!_s(i))return null;var k=s+(Xe(b)?b:0),D=i+(Xe(N)?N:0),I;switch(p){case"start":I=RS("calc(".concat(d,")"));break;case"middle":I=RS("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:I=RS("calc(".concat(w.length-1," * -").concat(l,")"));break}var W=[];if(f){var H=w[0].width,F=y.width;W.push("scale(".concat((Xe(F)?F/H:1)/H,")"))}return S&&W.push("rotate(".concat(S,", ").concat(k,", ").concat(D,")")),W.length&&(A.transform=W.join(" ")),z.createElement("text",JE({},Nt(A,!0),{x:k,y:D,className:Wt("recharts-text",_),textAnchor:h,fill:j.includes("url")?eF:j}),w.map(function(T,P){var M=T.words.join(E?"":" ");return z.createElement("tspan",{x:k,dy:P===0?I:l,key:"".concat(M,"-").concat(P)},M)}))};function du(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nPe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yO(e){let t,r,s;e.length!==2?(t=du,r=(l,c)=>du(e(l),c),s=(l,c)=>e(l)-c):(t=e===du||e===nPe?e:sPe,r=e,s=e);function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function o(l,c,d=0,u=l.length){const f=a(l,c,d,u-1);return f>d&&s(l[f-1],c)>-s(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function sPe(){return 0}function Sq(e){return e===null?NaN:+e}function*aPe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const iPe=yO(du),uy=iPe.right;yO(Sq).center;class tF extends Map{constructor(t,r=cPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[s,a]of t)this.set(s,a)}get(t){return super.get(rF(this,t))}has(t){return super.has(rF(this,t))}set(t,r){return super.set(oPe(this,t),r)}delete(t){return super.delete(lPe(this,t))}}function rF({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):r}function oPe({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):(e.set(s,r),r)}function lPe({_intern:e,_key:t},r){const s=t(r);return e.has(s)&&(r=e.get(s),e.delete(s)),r}function cPe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function dPe(e=du){if(e===du)return Cq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const s=e(t,r);return s||s===0?s:(e(r,r)===0)-(e(t,t)===0)}}function Cq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const uPe=Math.sqrt(50),fPe=Math.sqrt(10),mPe=Math.sqrt(2);function M1(e,t,r){const s=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=uPe?10:i>=fPe?5:i>=mPe?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?M1(e,t,r*2):[l,c,d]}function eA(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const s=t<e,[a,i,o]=s?M1(t,e,r):M1(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(s)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function tA(e,t,r){return t=+t,e=+e,r=+r,M1(e,t,r)[2]}function rA(e,t,r){t=+t,e=+e,r=+r;const s=t<e,a=s?tA(t,e,r):tA(e,t,r);return(s?-1:1)*(a<0?1/-a:a)}function nF(e,t){let r;for(const s of e)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);return r}function sF(e,t){let r;for(const s of e)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);return r}function Eq(e,t,r=0,s=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(e.length-1,s)),!(r<=t&&t<=s))return e;for(a=a===void 0?Cq:dPe(a);s>r;){if(s-r>600){const c=s-r+1,d=t-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),m=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),h=Math.max(r,Math.floor(t-d*f/c+m)),x=Math.min(s,Math.floor(t+(c-d)*f/c+m));Eq(e,t,h,x,a)}const i=e[t];let o=r,l=s;for(Wx(e,r,t),a(e[s],i)>0&&Wx(e,r,s);o<l;){for(Wx(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Wx(e,r,l):(++l,Wx(e,l,s)),l<=t&&(r=l+1),t<=l&&(s=l-1)}return e}function Wx(e,t,r){const s=e[t];e[t]=e[r],e[r]=s}function hPe(e,t,r){if(e=Float64Array.from(aPe(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return sF(e);if(t>=1)return nF(e);var s,a=(s-1)*t,i=Math.floor(a),o=nF(Eq(e,i).subarray(0,i+1)),l=sF(e.subarray(i+1));return o+(l-o)*(a-i)}}function pPe(e,t,r=Sq){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+r(e[0],0,e);if(t>=1)return+r(e[s-1],s-1,e);var s,a=(s-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function xPe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++s<a;)i[s]=e+s*r;return i}function Ro(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function hd(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const nA=Symbol("implicit");function jO(){var e=new tF,t=[],r=[],s=nA;function a(i){let o=e.get(i);if(o===void 0){if(s!==nA)return s;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new tF;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return jO(t,r).unknown(s)},Ro.apply(a,arguments),a}function T0(){var e=jO().unknown(void 0),t=e.domain,r=e.range,s=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var m=t().length,h=a<s,x=h?a:s,p=h?s:a;i=(p-x)/Math.max(1,m-c+d*2),l&&(i=Math.floor(i)),x+=(p-x-i*(m-c))*u,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var g=xPe(m).map(function(j){return x+i*j});return r(h?g.reverse():g)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([s,a]=m,s=+s,a=+a,f()):[s,a]},e.rangeRound=function(m){return[s,a]=m,s=+s,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(d=+m,f()):d},e.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),f()):u},e.copy=function(){return T0(t(),[s,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},Ro.apply(f(),arguments)}function Aq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Aq(t())},e}function kg(){return Aq(T0.apply(null,arguments).paddingInner(1))}function bO(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Pq(e,t){var r=Object.create(e.prototype);for(var s in t)r[s]=t[s];return r}function fy(){}var O0=.7,F1=1/O0,wh="\\s*([+-]?\\d+)\\s*",D0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gPe=/^#([0-9a-f]{3,8})$/,vPe=new RegExp(`^rgb\\(${wh},${wh},${wh}\\)$`),yPe=new RegExp(`^rgb\\(${Xl},${Xl},${Xl}\\)$`),jPe=new RegExp(`^rgba\\(${wh},${wh},${wh},${D0}\\)$`),bPe=new RegExp(`^rgba\\(${Xl},${Xl},${Xl},${D0}\\)$`),wPe=new RegExp(`^hsl\\(${D0},${Xl},${Xl}\\)$`),NPe=new RegExp(`^hsla\\(${D0},${Xl},${Xl},${D0}\\)$`),aF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bO(fy,I0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:iF,formatHex:iF,formatHex8:_Pe,formatHsl:SPe,formatRgb:oF,toString:oF});function iF(){return this.rgb().formatHex()}function _Pe(){return this.rgb().formatHex8()}function SPe(){return kq(this).formatHsl()}function oF(){return this.rgb().formatRgb()}function I0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=gPe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?lF(t):r===3?new ni(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?jj(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?jj(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=vPe.exec(e))?new ni(t[1],t[2],t[3],1):(t=yPe.exec(e))?new ni(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jPe.exec(e))?jj(t[1],t[2],t[3],t[4]):(t=bPe.exec(e))?jj(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wPe.exec(e))?uF(t[1],t[2]/100,t[3]/100,1):(t=NPe.exec(e))?uF(t[1],t[2]/100,t[3]/100,t[4]):aF.hasOwnProperty(e)?lF(aF[e]):e==="transparent"?new ni(NaN,NaN,NaN,0):null}function lF(e){return new ni(e>>16&255,e>>8&255,e&255,1)}function jj(e,t,r,s){return s<=0&&(e=t=r=NaN),new ni(e,t,r,s)}function CPe(e){return e instanceof fy||(e=I0(e)),e?(e=e.rgb(),new ni(e.r,e.g,e.b,e.opacity)):new ni}function sA(e,t,r,s){return arguments.length===1?CPe(e):new ni(e,t,r,s??1)}function ni(e,t,r,s){this.r=+e,this.g=+t,this.b=+r,this.opacity=+s}bO(ni,sA,Pq(fy,{brighter(e){return e=e==null?F1:Math.pow(F1,e),new ni(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?O0:Math.pow(O0,e),new ni(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ni(Tf(this.r),Tf(this.g),Tf(this.b),$1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cF,formatHex:cF,formatHex8:EPe,formatRgb:dF,toString:dF}));function cF(){return`#${xf(this.r)}${xf(this.g)}${xf(this.b)}`}function EPe(){return`#${xf(this.r)}${xf(this.g)}${xf(this.b)}${xf((isNaN(this.opacity)?1:this.opacity)*255)}`}function dF(){const e=$1(this.opacity);return`${e===1?"rgb(":"rgba("}${Tf(this.r)}, ${Tf(this.g)}, ${Tf(this.b)}${e===1?")":`, ${e})`}`}function $1(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Tf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xf(e){return e=Tf(e),(e<16?"0":"")+e.toString(16)}function uF(e,t,r,s){return s<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Zo(e,t,r,s)}function kq(e){if(e instanceof Zo)return new Zo(e.h,e.s,e.l,e.opacity);if(e instanceof fy||(e=I0(e)),!e)return new Zo;if(e instanceof Zo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,s=e.b/255,a=Math.min(t,r,s),i=Math.max(t,r,s),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-s)/l+(r<s)*6:r===i?o=(s-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Zo(o,l,c,e.opacity)}function APe(e,t,r,s){return arguments.length===1?kq(e):new Zo(e,t,r,s??1)}function Zo(e,t,r,s){this.h=+e,this.s=+t,this.l=+r,this.opacity=+s}bO(Zo,APe,Pq(fy,{brighter(e){return e=e==null?F1:Math.pow(F1,e),new Zo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?O0:Math.pow(O0,e),new Zo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*t,a=2*r-s;return new ni(MS(e>=240?e-240:e+120,a,s),MS(e,a,s),MS(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new Zo(fF(this.h),bj(this.s),bj(this.l),$1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$1(this.opacity);return`${e===1?"hsl(":"hsla("}${fF(this.h)}, ${bj(this.s)*100}%, ${bj(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fF(e){return e=(e||0)%360,e<0?e+360:e}function bj(e){return Math.max(0,Math.min(1,e||0))}function MS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const wO=e=>()=>e;function PPe(e,t){return function(r){return e+r*t}}function kPe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(s){return Math.pow(e+s*t,r)}}function TPe(e){return(e=+e)==1?Tq:function(t,r){return r-t?kPe(t,r,e):wO(isNaN(t)?r:t)}}function Tq(e,t){var r=t-e;return r?PPe(e,r):wO(isNaN(e)?t:e)}const mF=function e(t){var r=TPe(t);function s(a,i){var o=r((a=sA(a)).r,(i=sA(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=Tq(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return s.gamma=e,s}(1);function OPe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(i){for(a=0;a<r;++a)s[a]=e[a]*(1-i)+t[a]*i;return s}}function DPe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function IPe(e,t){var r=t?t.length:0,s=e?Math.min(r,e.length):0,a=new Array(s),i=new Array(r),o;for(o=0;o<s;++o)a[o]=ox(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function RPe(e,t){var r=new Date;return e=+e,t=+t,function(s){return r.setTime(e*(1-s)+t*s),r}}function L1(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function MPe(e,t){var r={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ox(e[a],t[a]):s[a]=t[a];return function(i){for(a in r)s[a]=r[a](i);return s}}var aA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,FS=new RegExp(aA.source,"g");function FPe(e){return function(){return e}}function $Pe(e){return function(t){return e(t)+""}}function LPe(e,t){var r=aA.lastIndex=FS.lastIndex=0,s,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=aA.exec(e))&&(a=FS.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:L1(s,a)})),r=FS.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?$Pe(c[0].x):FPe(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function ox(e,t){var r=typeof t,s;return t==null||r==="boolean"?wO(t):(r==="number"?L1:r==="string"?(s=I0(t))?(t=s,mF):LPe:t instanceof I0?mF:t instanceof Date?RPe:DPe(t)?OPe:Array.isArray(t)?IPe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?MPe:L1)(e,t)}function NO(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function BPe(e,t){t===void 0&&(t=e,e=ox);for(var r=0,s=t.length-1,a=t[0],i=new Array(s<0?0:s);r<s;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function UPe(e){return function(){return e}}function B1(e){return+e}var hF=[0,1];function Ra(e){return e}function iA(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:UPe(isNaN(t)?NaN:.5)}function VPe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(s){return Math.max(e,Math.min(t,s))}}function zPe(e,t,r){var s=e[0],a=e[1],i=t[0],o=t[1];return a<s?(s=iA(a,s),i=r(o,i)):(s=iA(s,a),i=r(i,o)),function(l){return i(s(l))}}function WPe(e,t,r){var s=Math.min(e.length,t.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)a[o]=iA(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=uy(e,l,1,s)-1;return i[c](a[c](l))}}function my(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function y2(){var e=hF,t=hF,r=ox,s,a,i,o=Ra,l,c,d;function u(){var m=Math.min(e.length,t.length);return o!==Ra&&(o=VPe(e[0],e[m-1])),l=m>2?WPe:zPe,c=d=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(s),t,r)))(s(o(m)))}return f.invert=function(m){return o(a((d||(d=l(t,e.map(s),L1)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,B1),u()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),u()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=NO,u()},f.clamp=function(m){return arguments.length?(o=m?!0:Ra,u()):o!==Ra},f.interpolate=function(m){return arguments.length?(r=m,u()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,h){return s=m,a=h,u()}}function _O(){return y2()(Ra,Ra)}function HPe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function U1(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,s=e.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+e.slice(r+1)]}function cp(e){return e=U1(Math.abs(e)),e?e[1]:NaN}function qPe(e,t){return function(r,s){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function GPe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var KPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function R0(e){if(!(t=KPe.exec(e)))throw new Error("invalid format: "+e);var t;return new SO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}R0.prototype=SO.prototype;function SO(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}SO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function YPe(e){e:for(var t=e.length,r=1,s=-1,a;r<t;++r)switch(e[r]){case".":s=a=r;break;case"0":s===0&&(s=r),a=r;break;default:if(!+e[r])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var Oq;function XPe(e,t){var r=U1(e,t);if(!r)return e+"";var s=r[0],a=r[1],i=a-(Oq=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+U1(e,Math.max(0,t+i-1))[0]}function pF(e,t){var r=U1(e,t);if(!r)return e+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const xF={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:HPe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>pF(e*100,t),r:pF,s:XPe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function gF(e){return e}var vF=Array.prototype.map,yF=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function QPe(e){var t=e.grouping===void 0||e.thousands===void 0?gF:qPe(vF.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?gF:GPe(vF.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=R0(f);var m=f.fill,h=f.align,x=f.sign,p=f.symbol,g=f.zero,j=f.width,y=f.comma,w=f.precision,b=f.trim,N=f.type;N==="n"?(y=!0,N="g"):xF[N]||(w===void 0&&(w=12),b=!0,N="g"),(g||m==="0"&&h==="=")&&(g=!0,m="0",h="=");var S=p==="$"?r:p==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",_=p==="$"?s:/[%p]/.test(N)?o:"",E=xF[N],A=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function k(D){var I=S,W=_,H,F,T;if(N==="c")W=E(D)+W,D="";else{D=+D;var P=D<0||1/D<0;if(D=isNaN(D)?c:E(Math.abs(D),w),b&&(D=YPe(D)),P&&+D==0&&x!=="+"&&(P=!1),I=(P?x==="("?x:l:x==="-"||x==="("?"":x)+I,W=(N==="s"?yF[8+Oq/3]:"")+W+(P&&x==="("?")":""),A){for(H=-1,F=D.length;++H<F;)if(T=D.charCodeAt(H),48>T||T>57){W=(T===46?a+D.slice(H+1):D.slice(H))+W,D=D.slice(0,H);break}}}y&&!g&&(D=t(D,1/0));var M=I.length+D.length+W.length,O=M<j?new Array(j-M+1).join(m):"";switch(y&&g&&(D=t(O+D,O.length?j-W.length:1/0),O=""),h){case"<":D=I+D+W+O;break;case"=":D=I+O+D+W;break;case"^":D=O.slice(0,M=O.length>>1)+I+D+W+O.slice(M);break;default:D=O+I+D+W;break}return i(D)}return k.toString=function(){return f+""},k}function u(f,m){var h=d((f=R0(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(cp(m)/3)))*3,p=Math.pow(10,-x),g=yF[8+x/3];return function(j){return h(p*j)+g}}return{format:d,formatPrefix:u}}var wj,CO,Dq;ZPe({thousands:",",grouping:[3],currency:["$",""]});function ZPe(e){return wj=QPe(e),CO=wj.format,Dq=wj.formatPrefix,wj}function JPe(e){return Math.max(0,-cp(Math.abs(e)))}function eke(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cp(t)/3)))*3-cp(Math.abs(e)))}function tke(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cp(t)-cp(e))+1}function Iq(e,t,r,s){var a=rA(e,t,r),i;switch(s=R0(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=eke(a,o))&&(s.precision=i),Dq(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=tke(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=JPe(a))&&(s.precision=i-(s.type==="%")*2);break}}return CO(s)}function Fu(e){var t=e.domain;return e.ticks=function(r){var s=t();return eA(s[0],s[s.length-1],r??10)},e.tickFormat=function(r,s){var a=t();return Iq(a[0],a[a.length-1],r??10,s)},e.nice=function(r){r==null&&(r=10);var s=t(),a=0,i=s.length-1,o=s[a],l=s[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=tA(o,l,r),d===c)return s[a]=o,s[i]=l,t(s);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function V1(){var e=_O();return e.copy=function(){return my(e,V1())},Ro.apply(e,arguments),Fu(e)}function Rq(e){var t;function r(s){return s==null||isNaN(s=+s)?t:s}return r.invert=r,r.domain=r.range=function(s){return arguments.length?(e=Array.from(s,B1),r):e.slice()},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return Rq(e).unknown(t)},e=arguments.length?Array.from(e,B1):[0,1],Fu(r)}function Mq(e,t){e=e.slice();var r=0,s=e.length-1,a=e[r],i=e[s],o;return i<a&&(o=r,r=s,s=o,o=a,a=i,i=o),e[r]=t.floor(a),e[s]=t.ceil(i),e}function jF(e){return Math.log(e)}function bF(e){return Math.exp(e)}function rke(e){return-Math.log(-e)}function nke(e){return-Math.exp(-e)}function ske(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ake(e){return e===10?ske:e===Math.E?Math.exp:t=>Math.pow(e,t)}function ike(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function wF(e){return(t,r)=>-e(-t,r)}function EO(e){const t=e(jF,bF),r=t.domain;let s=10,a,i;function o(){return a=ike(s),i=ake(s),r()[0]<0?(a=wF(a),i=wF(i),e(rke,nke)):e(jF,bF),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let m=a(d),h=a(u),x,p;const g=l==null?10:+l;let j=[];if(!(s%1)&&h-m<g){if(m=Math.floor(m),h=Math.ceil(h),d>0){for(;m<=h;++m)for(x=1;x<s;++x)if(p=m<0?x/i(-m):x*i(m),!(p<d)){if(p>u)break;j.push(p)}}else for(;m<=h;++m)for(x=s-1;x>=1;--x)if(p=m>0?x/i(-m):x*i(m),!(p<d)){if(p>u)break;j.push(p)}j.length*2<g&&(j=eA(d,u,g))}else j=eA(m,h,Math.min(h-m,g)).map(i);return f?j.reverse():j},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=R0(c)).precision==null&&(c.trim=!0),c=CO(c)),l===1/0)return c;const d=Math.max(1,s*l/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*s<s-.5&&(f*=s),f<=d?c(u):""}},t.nice=()=>r(Mq(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function Fq(){const e=EO(y2()).domain([1,10]);return e.copy=()=>my(e,Fq()).base(e.base()),Ro.apply(e,arguments),e}function NF(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _F(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function AO(e){var t=1,r=e(NF(t),_F(t));return r.constant=function(s){return arguments.length?e(NF(t=+s),_F(t)):t},Fu(r)}function $q(){var e=AO(y2());return e.copy=function(){return my(e,$q()).constant(e.constant())},Ro.apply(e,arguments)}function SF(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function oke(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function lke(e){return e<0?-e*e:e*e}function PO(e){var t=e(Ra,Ra),r=1;function s(){return r===1?e(Ra,Ra):r===.5?e(oke,lke):e(SF(r),SF(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,s()):r},Fu(t)}function kO(){var e=PO(y2());return e.copy=function(){return my(e,kO()).exponent(e.exponent())},Ro.apply(e,arguments),e}function cke(){return kO.apply(null,arguments).exponent(.5)}function CF(e){return Math.sign(e)*e*e}function dke(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Lq(){var e=_O(),t=[0,1],r=!1,s;function a(i){var o=dke(e(i));return isNaN(o)?s:r?Math.round(o):o}return a.invert=function(i){return e.invert(CF(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,B1)).map(CF)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return Lq(e.domain(),t).round(r).clamp(e.clamp()).unknown(s)},Ro.apply(a,arguments),Fu(a)}function Bq(){var e=[],t=[],r=[],s;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=pPe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:t[uy(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(du),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return r.slice()},i.copy=function(){return Bq().domain(e).range(t).unknown(s)},Ro.apply(i,arguments)}function Uq(){var e=0,t=1,r=1,s=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[uy(s,c,0,r)]:i}function l(){var c=-1;for(s=new Array(r);++c<r;)s[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,s[0]]:d>=r?[s[r-1],t]:[s[d-1],s[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return Uq().domain([e,t]).range(a).unknown(i)},Ro.apply(Fu(o),arguments)}function Vq(){var e=[.5],t=[0,1],r,s=1;function a(i){return i!=null&&i<=i?t[uy(e,i,0,s)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Vq().domain(e).range(t).unknown(r)},Ro.apply(a,arguments)}const $S=new Date,LS=new Date;function Es(e,t,r,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},a.filter=i=>Es(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>($S.setTime(+i),LS.setTime(+o),e($S),e(LS),Math.floor(r($S,LS))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const z1=Es(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);z1.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Es(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):z1);z1.range;const Dc=1e3,jo=Dc*60,Ic=jo*60,rd=Ic*24,TO=rd*7,EF=rd*30,BS=rd*365,gf=Es(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Dc)},(e,t)=>(t-e)/Dc,e=>e.getUTCSeconds());gf.range;const OO=Es(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dc)},(e,t)=>{e.setTime(+e+t*jo)},(e,t)=>(t-e)/jo,e=>e.getMinutes());OO.range;const DO=Es(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*jo)},(e,t)=>(t-e)/jo,e=>e.getUTCMinutes());DO.range;const IO=Es(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dc-e.getMinutes()*jo)},(e,t)=>{e.setTime(+e+t*Ic)},(e,t)=>(t-e)/Ic,e=>e.getHours());IO.range;const RO=Es(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ic)},(e,t)=>(t-e)/Ic,e=>e.getUTCHours());RO.range;const hy=Es(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*jo)/rd,e=>e.getDate()-1);hy.range;const j2=Es(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rd,e=>e.getUTCDate()-1);j2.range;const zq=Es(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rd,e=>Math.floor(e/rd));zq.range;function xm(e){return Es(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*jo)/TO)}const b2=xm(0),W1=xm(1),uke=xm(2),fke=xm(3),dp=xm(4),mke=xm(5),hke=xm(6);b2.range;W1.range;uke.range;fke.range;dp.range;mke.range;hke.range;function gm(e){return Es(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/TO)}const w2=gm(0),H1=gm(1),pke=gm(2),xke=gm(3),up=gm(4),gke=gm(5),vke=gm(6);w2.range;H1.range;pke.range;xke.range;up.range;gke.range;vke.range;const MO=Es(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());MO.range;const FO=Es(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());FO.range;const nd=Es(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());nd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Es(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});nd.range;const sd=Es(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());sd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Es(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});sd.range;function Wq(e,t,r,s,a,i){const o=[[gf,1,Dc],[gf,5,5*Dc],[gf,15,15*Dc],[gf,30,30*Dc],[i,1,jo],[i,5,5*jo],[i,15,15*jo],[i,30,30*jo],[a,1,Ic],[a,3,3*Ic],[a,6,6*Ic],[a,12,12*Ic],[s,1,rd],[s,2,2*rd],[r,1,TO],[t,1,EF],[t,3,3*EF],[e,1,BS]];function l(d,u,f){const m=u<d;m&&([d,u]=[u,d]);const h=f&&typeof f.range=="function"?f:c(d,u,f),x=h?h.range(d,+u+1):[];return m?x.reverse():x}function c(d,u,f){const m=Math.abs(u-d)/f,h=yO(([,,g])=>g).right(o,m);if(h===o.length)return e.every(rA(d/BS,u/BS,f));if(h===0)return z1.every(Math.max(rA(d,u,f),1));const[x,p]=o[m/o[h-1][2]<o[h][2]/m?h-1:h];return x.every(p)}return[l,c]}const[yke,jke]=Wq(sd,FO,w2,zq,RO,DO),[bke,wke]=Wq(nd,MO,b2,hy,IO,OO);function US(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function VS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Hx(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Nke(e){var t=e.dateTime,r=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=qx(a),u=Gx(a),f=qx(i),m=Gx(i),h=qx(o),x=Gx(o),p=qx(l),g=Gx(l),j=qx(c),y=Gx(c),w={a:P,A:M,b:O,B:K,c:null,d:DF,e:DF,f:qke,g:rTe,G:sTe,H:zke,I:Wke,j:Hke,L:Hq,m:Gke,M:Kke,p:ne,q:R,Q:MF,s:FF,S:Yke,u:Xke,U:Qke,V:Zke,w:Jke,W:eTe,x:null,X:null,y:tTe,Y:nTe,Z:aTe,"%":RF},b={a:V,A:L,b:G,B:le,c:null,d:IF,e:IF,f:cTe,g:yTe,G:bTe,H:iTe,I:oTe,j:lTe,L:Gq,m:dTe,M:uTe,p:fe,q:B,Q:MF,s:FF,S:fTe,u:mTe,U:hTe,V:pTe,w:xTe,W:gTe,x:null,X:null,y:vTe,Y:jTe,Z:wTe,"%":RF},N={a:k,A:D,b:I,B:W,c:H,d:TF,e:TF,f:Lke,g:kF,G:PF,H:OF,I:OF,j:Rke,L:$ke,m:Ike,M:Mke,p:A,q:Dke,Q:Uke,s:Vke,S:Fke,u:Ake,U:Pke,V:kke,w:Eke,W:Tke,x:F,X:T,y:kF,Y:PF,Z:Oke,"%":Bke};w.x=S(r,w),w.X=S(s,w),w.c=S(t,w),b.x=S(r,b),b.X=S(s,b),b.c=S(t,b);function S(Y,ie){return function(we){var ue=[],ge=-1,xe=0,Se=Y.length,Me,ke,se;for(we instanceof Date||(we=new Date(+we));++ge<Se;)Y.charCodeAt(ge)===37&&(ue.push(Y.slice(xe,ge)),(ke=AF[Me=Y.charAt(++ge)])!=null?Me=Y.charAt(++ge):ke=Me==="e"?" ":"0",(se=ie[Me])&&(Me=se(we,ke)),ue.push(Me),xe=ge+1);return ue.push(Y.slice(xe,ge)),ue.join("")}}function _(Y,ie){return function(we){var ue=Hx(1900,void 0,1),ge=E(ue,Y,we+="",0),xe,Se;if(ge!=we.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(ie&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(xe=VS(Hx(ue.y,0,1)),Se=xe.getUTCDay(),xe=Se>4||Se===0?H1.ceil(xe):H1(xe),xe=j2.offset(xe,(ue.V-1)*7),ue.y=xe.getUTCFullYear(),ue.m=xe.getUTCMonth(),ue.d=xe.getUTCDate()+(ue.w+6)%7):(xe=US(Hx(ue.y,0,1)),Se=xe.getDay(),xe=Se>4||Se===0?W1.ceil(xe):W1(xe),xe=hy.offset(xe,(ue.V-1)*7),ue.y=xe.getFullYear(),ue.m=xe.getMonth(),ue.d=xe.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Se="Z"in ue?VS(Hx(ue.y,0,1)).getUTCDay():US(Hx(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(Se+5)%7:ue.w+ue.U*7-(Se+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,VS(ue)):US(ue)}}function E(Y,ie,we,ue){for(var ge=0,xe=ie.length,Se=we.length,Me,ke;ge<xe;){if(ue>=Se)return-1;if(Me=ie.charCodeAt(ge++),Me===37){if(Me=ie.charAt(ge++),ke=N[Me in AF?ie.charAt(ge++):Me],!ke||(ue=ke(Y,we,ue))<0)return-1}else if(Me!=we.charCodeAt(ue++))return-1}return ue}function A(Y,ie,we){var ue=d.exec(ie.slice(we));return ue?(Y.p=u.get(ue[0].toLowerCase()),we+ue[0].length):-1}function k(Y,ie,we){var ue=h.exec(ie.slice(we));return ue?(Y.w=x.get(ue[0].toLowerCase()),we+ue[0].length):-1}function D(Y,ie,we){var ue=f.exec(ie.slice(we));return ue?(Y.w=m.get(ue[0].toLowerCase()),we+ue[0].length):-1}function I(Y,ie,we){var ue=j.exec(ie.slice(we));return ue?(Y.m=y.get(ue[0].toLowerCase()),we+ue[0].length):-1}function W(Y,ie,we){var ue=p.exec(ie.slice(we));return ue?(Y.m=g.get(ue[0].toLowerCase()),we+ue[0].length):-1}function H(Y,ie,we){return E(Y,t,ie,we)}function F(Y,ie,we){return E(Y,r,ie,we)}function T(Y,ie,we){return E(Y,s,ie,we)}function P(Y){return o[Y.getDay()]}function M(Y){return i[Y.getDay()]}function O(Y){return c[Y.getMonth()]}function K(Y){return l[Y.getMonth()]}function ne(Y){return a[+(Y.getHours()>=12)]}function R(Y){return 1+~~(Y.getMonth()/3)}function V(Y){return o[Y.getUTCDay()]}function L(Y){return i[Y.getUTCDay()]}function G(Y){return c[Y.getUTCMonth()]}function le(Y){return l[Y.getUTCMonth()]}function fe(Y){return a[+(Y.getUTCHours()>=12)]}function B(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var ie=S(Y+="",w);return ie.toString=function(){return Y},ie},parse:function(Y){var ie=_(Y+="",!1);return ie.toString=function(){return Y},ie},utcFormat:function(Y){var ie=S(Y+="",b);return ie.toString=function(){return Y},ie},utcParse:function(Y){var ie=_(Y+="",!0);return ie.toString=function(){return Y},ie}}}var AF={"-":"",_:" ",0:"0"},Bs=/^\s*\d+/,_ke=/^%/,Ske=/[\\^$*+?|[\]().{}]/g;function jr(e,t,r){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<r?new Array(r-i+1).join(t)+a:a)}function Cke(e){return e.replace(Ske,"\\$&")}function qx(e){return new RegExp("^(?:"+e.map(Cke).join("|")+")","i")}function Gx(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Eke(e,t,r){var s=Bs.exec(t.slice(r,r+1));return s?(e.w=+s[0],r+s[0].length):-1}function Ake(e,t,r){var s=Bs.exec(t.slice(r,r+1));return s?(e.u=+s[0],r+s[0].length):-1}function Pke(e,t,r){var s=Bs.exec(t.slice(r,r+2));return s?(e.U=+s[0],r+s[0].length):-1}function kke(e,t,r){var s=Bs.exec(t.slice(r,r+2));return s?(e.V=+s[0],r+s[0].length):-1}function Tke(e,t,r){var s=Bs.exec(t.slice(r,r+2));return s?(e.W=+s[0],r+s[0].length):-1}function PF(e,t,r){var s=Bs.exec(t.slice(r,r+4));return s?(e.y=+s[0],r+s[0].length):-1}function kF(e,t,r){var s=Bs.exec(t.slice(r,r+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function Oke(e,t,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function Dke(e,t,r){var s=Bs.exec(t.slice(r,r+1));return s?(e.q=s[0]*3-3,r+s[0].length):-1}function Ike(e,t,r){var s=Bs.exec(t.slice(r,r+2));return s?(e.m=s[0]-1,r+s[0].length):-1}function TF(e,t,r){var s=Bs.exec(t.slice(r,r+2));return s?(e.d=+s[0],r+s[0].length):-1}function Rke(e,t,r){var s=Bs.exec(t.slice(r,r+3));return s?(e.m=0,e.d=+s[0],r+s[0].length):-1}function OF(e,t,r){var s=Bs.exec(t.slice(r,r+2));return s?(e.H=+s[0],r+s[0].length):-1}function Mke(e,t,r){var s=Bs.exec(t.slice(r,r+2));return s?(e.M=+s[0],r+s[0].length):-1}function Fke(e,t,r){var s=Bs.exec(t.slice(r,r+2));return s?(e.S=+s[0],r+s[0].length):-1}function $ke(e,t,r){var s=Bs.exec(t.slice(r,r+3));return s?(e.L=+s[0],r+s[0].length):-1}function Lke(e,t,r){var s=Bs.exec(t.slice(r,r+6));return s?(e.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function Bke(e,t,r){var s=_ke.exec(t.slice(r,r+1));return s?r+s[0].length:-1}function Uke(e,t,r){var s=Bs.exec(t.slice(r));return s?(e.Q=+s[0],r+s[0].length):-1}function Vke(e,t,r){var s=Bs.exec(t.slice(r));return s?(e.s=+s[0],r+s[0].length):-1}function DF(e,t){return jr(e.getDate(),t,2)}function zke(e,t){return jr(e.getHours(),t,2)}function Wke(e,t){return jr(e.getHours()%12||12,t,2)}function Hke(e,t){return jr(1+hy.count(nd(e),e),t,3)}function Hq(e,t){return jr(e.getMilliseconds(),t,3)}function qke(e,t){return Hq(e,t)+"000"}function Gke(e,t){return jr(e.getMonth()+1,t,2)}function Kke(e,t){return jr(e.getMinutes(),t,2)}function Yke(e,t){return jr(e.getSeconds(),t,2)}function Xke(e){var t=e.getDay();return t===0?7:t}function Qke(e,t){return jr(b2.count(nd(e)-1,e),t,2)}function qq(e){var t=e.getDay();return t>=4||t===0?dp(e):dp.ceil(e)}function Zke(e,t){return e=qq(e),jr(dp.count(nd(e),e)+(nd(e).getDay()===4),t,2)}function Jke(e){return e.getDay()}function eTe(e,t){return jr(W1.count(nd(e)-1,e),t,2)}function tTe(e,t){return jr(e.getFullYear()%100,t,2)}function rTe(e,t){return e=qq(e),jr(e.getFullYear()%100,t,2)}function nTe(e,t){return jr(e.getFullYear()%1e4,t,4)}function sTe(e,t){var r=e.getDay();return e=r>=4||r===0?dp(e):dp.ceil(e),jr(e.getFullYear()%1e4,t,4)}function aTe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+jr(t/60|0,"0",2)+jr(t%60,"0",2)}function IF(e,t){return jr(e.getUTCDate(),t,2)}function iTe(e,t){return jr(e.getUTCHours(),t,2)}function oTe(e,t){return jr(e.getUTCHours()%12||12,t,2)}function lTe(e,t){return jr(1+j2.count(sd(e),e),t,3)}function Gq(e,t){return jr(e.getUTCMilliseconds(),t,3)}function cTe(e,t){return Gq(e,t)+"000"}function dTe(e,t){return jr(e.getUTCMonth()+1,t,2)}function uTe(e,t){return jr(e.getUTCMinutes(),t,2)}function fTe(e,t){return jr(e.getUTCSeconds(),t,2)}function mTe(e){var t=e.getUTCDay();return t===0?7:t}function hTe(e,t){return jr(w2.count(sd(e)-1,e),t,2)}function Kq(e){var t=e.getUTCDay();return t>=4||t===0?up(e):up.ceil(e)}function pTe(e,t){return e=Kq(e),jr(up.count(sd(e),e)+(sd(e).getUTCDay()===4),t,2)}function xTe(e){return e.getUTCDay()}function gTe(e,t){return jr(H1.count(sd(e)-1,e),t,2)}function vTe(e,t){return jr(e.getUTCFullYear()%100,t,2)}function yTe(e,t){return e=Kq(e),jr(e.getUTCFullYear()%100,t,2)}function jTe(e,t){return jr(e.getUTCFullYear()%1e4,t,4)}function bTe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?up(e):up.ceil(e),jr(e.getUTCFullYear()%1e4,t,4)}function wTe(){return"+0000"}function RF(){return"%"}function MF(e){return+e}function FF(e){return Math.floor(+e/1e3)}var Im,Yq,Xq;NTe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function NTe(e){return Im=Nke(e),Yq=Im.format,Im.parse,Xq=Im.utcFormat,Im.utcParse,Im}function _Te(e){return new Date(e)}function STe(e){return e instanceof Date?+e:+new Date(+e)}function $O(e,t,r,s,a,i,o,l,c,d){var u=_O(),f=u.invert,m=u.domain,h=d(".%L"),x=d(":%S"),p=d("%I:%M"),g=d("%I %p"),j=d("%a %d"),y=d("%b %d"),w=d("%B"),b=d("%Y");function N(S){return(c(S)<S?h:l(S)<S?x:o(S)<S?p:i(S)<S?g:s(S)<S?a(S)<S?j:y:r(S)<S?w:b)(S)}return u.invert=function(S){return new Date(f(S))},u.domain=function(S){return arguments.length?m(Array.from(S,STe)):m().map(_Te)},u.ticks=function(S){var _=m();return e(_[0],_[_.length-1],S??10)},u.tickFormat=function(S,_){return _==null?N:d(_)},u.nice=function(S){var _=m();return(!S||typeof S.range!="function")&&(S=t(_[0],_[_.length-1],S??10)),S?m(Mq(_,S)):u},u.copy=function(){return my(u,$O(e,t,r,s,a,i,o,l,c,d))},u}function CTe(){return Ro.apply($O(bke,wke,nd,MO,b2,hy,IO,OO,gf,Yq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ETe(){return Ro.apply($O(yke,jke,sd,FO,w2,j2,RO,DO,gf,Xq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function N2(){var e=0,t=1,r,s,a,i,o=Ra,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),s=i(t=+t),a=r===s?0:1/(s-r),d):[e,t]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(o=f,d):o};function u(f){return function(m){var h,x;return arguments.length?([h,x]=m,o=f(h,x),d):[o(0),o(1)]}}return d.range=u(ox),d.rangeRound=u(NO),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return i=f,r=f(e),s=f(t),a=r===s?0:1/(s-r),d}}function $u(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Qq(){var e=Fu(N2()(Ra));return e.copy=function(){return $u(e,Qq())},hd.apply(e,arguments)}function Zq(){var e=EO(N2()).domain([1,10]);return e.copy=function(){return $u(e,Zq()).base(e.base())},hd.apply(e,arguments)}function Jq(){var e=AO(N2());return e.copy=function(){return $u(e,Jq()).constant(e.constant())},hd.apply(e,arguments)}function LO(){var e=PO(N2());return e.copy=function(){return $u(e,LO()).exponent(e.exponent())},hd.apply(e,arguments)}function ATe(){return LO.apply(null,arguments).exponent(.5)}function eG(){var e=[],t=Ra;function r(s){if(s!=null&&!isNaN(s=+s))return t((uy(e,s,1)-1)/(e.length-1))}return r.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(du),r},r.interpolator=function(s){return arguments.length?(t=s,r):t},r.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},r.quantiles=function(s){return Array.from({length:s+1},(a,i)=>hPe(e,i/s))},r.copy=function(){return eG(t).domain(e)},hd.apply(r,arguments)}function _2(){var e=0,t=.5,r=1,s=1,a,i,o,l,c,d=Ra,u,f=!1,m;function h(p){return isNaN(p=+p)?m:(p=.5+((p=+u(p))-i)*(s*p<s*i?l:c),d(f?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t,r]=p,a=u(e=+e),i=u(t=+t),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,h):[e,t,r]},h.clamp=function(p){return arguments.length?(f=!!p,h):f},h.interpolator=function(p){return arguments.length?(d=p,h):d};function x(p){return function(g){var j,y,w;return arguments.length?([j,y,w]=g,d=BPe(p,[j,y,w]),h):[d(0),d(.5),d(1)]}}return h.range=x(ox),h.rangeRound=x(NO),h.unknown=function(p){return arguments.length?(m=p,h):m},function(p){return u=p,a=p(e),i=p(t),o=p(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,h}}function tG(){var e=Fu(_2()(Ra));return e.copy=function(){return $u(e,tG())},hd.apply(e,arguments)}function rG(){var e=EO(_2()).domain([.1,1,10]);return e.copy=function(){return $u(e,rG()).base(e.base())},hd.apply(e,arguments)}function nG(){var e=AO(_2());return e.copy=function(){return $u(e,nG()).constant(e.constant())},hd.apply(e,arguments)}function BO(){var e=PO(_2());return e.copy=function(){return $u(e,BO()).exponent(e.exponent())},hd.apply(e,arguments)}function PTe(){return BO.apply(null,arguments).exponent(.5)}const $F=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:T0,scaleDiverging:tG,scaleDivergingLog:rG,scaleDivergingPow:BO,scaleDivergingSqrt:PTe,scaleDivergingSymlog:nG,scaleIdentity:Rq,scaleImplicit:nA,scaleLinear:V1,scaleLog:Fq,scaleOrdinal:jO,scalePoint:kg,scalePow:kO,scaleQuantile:Bq,scaleQuantize:Uq,scaleRadial:Lq,scaleSequential:Qq,scaleSequentialLog:Zq,scaleSequentialPow:LO,scaleSequentialQuantile:eG,scaleSequentialSqrt:ATe,scaleSequentialSymlog:Jq,scaleSqrt:cke,scaleSymlog:$q,scaleThreshold:Vq,scaleTime:CTe,scaleUtc:ETe,tickFormat:Iq},Symbol.toStringTag,{value:"Module"}));var kTe=Zp;function TTe(e,t,r){for(var s=-1,a=e.length;++s<a;){var i=e[s],o=t(i);if(o!=null&&(l===void 0?o===o&&!kTe(o):r(o,l)))var l=o,c=i}return c}var S2=TTe;function OTe(e,t){return e>t}var sG=OTe,DTe=S2,ITe=sG,RTe=ix;function MTe(e){return e&&e.length?DTe(e,RTe,ITe):void 0}var FTe=MTe;const Kd=Ar(FTe);function $Te(e,t){return e<t}var aG=$Te,LTe=S2,BTe=aG,UTe=ix;function VTe(e){return e&&e.length?LTe(e,UTe,BTe):void 0}var zTe=VTe;const C2=Ar(zTe);var WTe=eO,HTe=dc,qTe=mq,GTe=yi;function KTe(e,t){var r=GTe(e)?WTe:qTe;return r(e,HTe(t))}var YTe=KTe,XTe=uq,QTe=YTe;function ZTe(e,t){return XTe(QTe(e,t),1)}var JTe=ZTe;const eOe=Ar(JTe);var tOe=pO;function rOe(e,t){return tOe(e,t)}var nOe=rOe;const Jf=Ar(nOe);var lx=1e9,sOe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},VO,xn=!0,ko="[DecimalError] ",Of=ko+"Invalid argument: ",UO=ko+"Exponent out of range: ",cx=Math.floor,ef=Math.pow,aOe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ri,As=1e7,sn=7,iG=9007199254740991,q1=cx(iG/sn),yt={};yt.absoluteValue=yt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};yt.comparedTo=yt.cmp=function(e){var t,r,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,t=0,r=s<a?s:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};yt.decimalPlaces=yt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*sn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};yt.dividedBy=yt.div=function(e){return Bc(this,new this.constructor(e))};yt.dividedToIntegerBy=yt.idiv=function(e){var t=this,r=t.constructor;return Wr(Bc(t,new r(e),0,1),r.precision)};yt.equals=yt.eq=function(e){return!this.cmp(e)};yt.exponent=function(){return ss(this)};yt.greaterThan=yt.gt=function(e){return this.cmp(e)>0};yt.greaterThanOrEqualTo=yt.gte=function(e){return this.cmp(e)>=0};yt.isInteger=yt.isint=function(){return this.e>this.d.length-2};yt.isNegative=yt.isneg=function(){return this.s<0};yt.isPositive=yt.ispos=function(){return this.s>0};yt.isZero=function(){return this.s===0};yt.lessThan=yt.lt=function(e){return this.cmp(e)<0};yt.lessThanOrEqualTo=yt.lte=function(e){return this.cmp(e)<1};yt.logarithm=yt.log=function(e){var t,r=this,s=r.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(Ri))throw Error(ko+"NaN");if(r.s<1)throw Error(ko+(r.s?"NaN":"-Infinity"));return r.eq(Ri)?new s(0):(xn=!1,t=Bc(M0(r,i),M0(e,i),i),xn=!0,Wr(t,a))};yt.minus=yt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cG(t,e):oG(t,(e.s=-e.s,e))};yt.modulo=yt.mod=function(e){var t,r=this,s=r.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(ko+"NaN");return r.s?(xn=!1,t=Bc(r,e,0,1).times(e),xn=!0,r.minus(t)):Wr(new s(r),a)};yt.naturalExponential=yt.exp=function(){return lG(this)};yt.naturalLogarithm=yt.ln=function(){return M0(this)};yt.negated=yt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};yt.plus=yt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?oG(t,e):cG(t,(e.s=-e.s,e))};yt.precision=yt.sd=function(e){var t,r,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Of+e);if(t=ss(a)+1,s=a.d.length-1,r=s*sn+1,s=a.d[s],s){for(;s%10==0;s/=10)r--;for(s=a.d[0];s>=10;s/=10)r++}return e&&t>r?t:r};yt.squareRoot=yt.sqrt=function(){var e,t,r,s,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ko+"NaN")}for(e=ss(l),xn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Hl(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=cx((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=s,s=i.plus(Bc(l,i,o+2)).times(.5),Hl(i.d).slice(0,o)===(t=Hl(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Wr(i,r+1,0),i.times(i).eq(l)){s=i;break}}else if(t!="9999")break;o+=4}return xn=!0,Wr(s,r)};yt.times=yt.mul=function(e){var t,r,s,a,i,o,l,c,d,u=this,f=u.constructor,m=u.d,h=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,c=m.length,d=h.length,c<d&&(i=m,m=h,h=i,o=c,c=d,d=o),i=[],o=c+d,s=o;s--;)i.push(0);for(s=d;--s>=0;){for(t=0,a=c+s;a>s;)l=i[a]+h[s]*m[a-s-1]+t,i[a--]=l%As|0,t=l/As|0;i[a]=(i[a]+t)%As|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,xn?Wr(e,f.precision):e};yt.toDecimalPlaces=yt.todp=function(e,t){var r=this,s=r.constructor;return r=new s(r),e===void 0?r:(nc(e,0,lx),t===void 0?t=s.rounding:nc(t,0,8),Wr(r,e+ss(r)+1,t))};yt.toExponential=function(e,t){var r,s=this,a=s.constructor;return e===void 0?r=em(s,!0):(nc(e,0,lx),t===void 0?t=a.rounding:nc(t,0,8),s=Wr(new a(s),e+1,t),r=em(s,!0,e+1)),r};yt.toFixed=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?em(a):(nc(e,0,lx),t===void 0?t=i.rounding:nc(t,0,8),s=Wr(new i(a),e+ss(a)+1,t),r=em(s.abs(),!1,e+ss(s)+1),a.isneg()&&!a.isZero()?"-"+r:r)};yt.toInteger=yt.toint=function(){var e=this,t=e.constructor;return Wr(new t(e),ss(e)+1,t.rounding)};yt.toNumber=function(){return+this};yt.toPower=yt.pow=function(e){var t,r,s,a,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Ri);if(l=new c(l),!l.s){if(e.s<1)throw Error(ko+"Infinity");return l}if(l.eq(Ri))return l;if(s=c.precision,e.eq(Ri))return Wr(l,s);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=iG){for(a=new c(Ri),t=Math.ceil(s/sn+4),xn=!1;r%2&&(a=a.times(l),BF(a.d,t)),r=cx(r/2),r!==0;)l=l.times(l),BF(l.d,t);return xn=!0,e.s<0?new c(Ri).div(a):Wr(a,s)}}else if(i<0)throw Error(ko+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,xn=!1,a=e.times(M0(l,s+d)),xn=!0,a=lG(a),a.s=i,a};yt.toPrecision=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?(r=ss(a),s=em(a,r<=i.toExpNeg||r>=i.toExpPos)):(nc(e,1,lx),t===void 0?t=i.rounding:nc(t,0,8),a=Wr(new i(a),e,t),r=ss(a),s=em(a,e<=r||r<=i.toExpNeg,e)),s};yt.toSignificantDigits=yt.tosd=function(e,t){var r=this,s=r.constructor;return e===void 0?(e=s.precision,t=s.rounding):(nc(e,1,lx),t===void 0?t=s.rounding:nc(t,0,8)),Wr(new s(r),e,t)};yt.toString=yt.valueOf=yt.val=yt.toJSON=yt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ss(e),r=e.constructor;return em(e,t<=r.toExpNeg||t>=r.toExpPos)};function oG(e,t){var r,s,a,i,o,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),xn?Wr(t,f):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(s=c,i=-i,l=d.length):(s=d,a=o,l=c.length),o=Math.ceil(f/sn),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,s=d,d=c,c=s),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/As|0,c[i]%=As;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,xn?Wr(t,f):t}function nc(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Of+e)}function Hl(e){var t,r,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)s=e[t]+"",r=sn-s.length,r&&(i+=Td(r)),i+=s;o=e[t],s=o+"",r=sn-s.length,r&&(i+=Td(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Bc=function(){function e(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%As|0,o=i/As|0;return o&&s.unshift(o),s}function t(s,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=a[l]){c=s[l]>a[l]?1:-1;break}return c}function r(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*As+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,c,d,u,f,m,h,x,p,g,j,y,w,b,N,S,_,E,A=s.constructor,k=s.s==a.s?1:-1,D=s.d,I=a.d;if(!s.s)return new A(s);if(!a.s)throw Error(ko+"Division by zero");for(c=s.e-a.e,_=I.length,N=D.length,h=new A(k),x=h.d=[],d=0;I[d]==(D[d]||0);)++d;if(I[d]>(D[d]||0)&&--c,i==null?y=i=A.precision:o?y=i+(ss(s)-ss(a))+1:y=i,y<0)return new A(0);if(y=y/sn+2|0,d=0,_==1)for(u=0,I=I[0],y++;(d<N||u)&&y--;d++)w=u*As+(D[d]||0),x[d]=w/I|0,u=w%I|0;else{for(u=As/(I[0]+1)|0,u>1&&(I=e(I,u),D=e(D,u),_=I.length,N=D.length),b=_,p=D.slice(0,_),g=p.length;g<_;)p[g++]=0;E=I.slice(),E.unshift(0),S=I[0],I[1]>=As/2&&++S;do u=0,l=t(I,p,_,g),l<0?(j=p[0],_!=g&&(j=j*As+(p[1]||0)),u=j/S|0,u>1?(u>=As&&(u=As-1),f=e(I,u),m=f.length,g=p.length,l=t(f,p,m,g),l==1&&(u--,r(f,_<m?E:I,m))):(u==0&&(l=u=1),f=I.slice()),m=f.length,m<g&&f.unshift(0),r(p,f,g),l==-1&&(g=p.length,l=t(I,p,_,g),l<1&&(u++,r(p,_<g?E:I,g))),g=p.length):l===0&&(u++,p=[0]),x[d++]=u,l&&p[0]?p[g++]=D[b]||0:(p=[D[b]],g=1);while((b++<N||p[0]!==void 0)&&y--)}return x[0]||x.shift(),h.e=c,Wr(h,o?i+ss(h)+1:i)}}();function lG(e,t){var r,s,a,i,o,l,c=0,d=0,u=e.constructor,f=u.precision;if(ss(e)>16)throw Error(UO+ss(e));if(!e.s)return new u(Ri);for(t==null?(xn=!1,l=f):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(s=Math.log(ef(2,d))/Math.LN10*2+5|0,l+=s,r=a=i=new u(Ri),u.precision=l;;){if(a=Wr(a.times(e),l),r=r.times(++c),o=i.plus(Bc(a,r,l)),Hl(o.d).slice(0,l)===Hl(i.d).slice(0,l)){for(;d--;)i=Wr(i.times(i),l);return u.precision=f,t==null?(xn=!0,Wr(i,f)):i}i=o}}function ss(e){for(var t=e.e*sn,r=e.d[0];r>=10;r/=10)t++;return t}function zS(e,t,r){if(t>e.LN10.sd())throw xn=!0,r&&(e.precision=r),Error(ko+"LN10 precision limit exceeded");return Wr(new e(e.LN10),t)}function Td(e){for(var t="";e--;)t+="0";return t}function M0(e,t){var r,s,a,i,o,l,c,d,u,f=1,m=10,h=e,x=h.d,p=h.constructor,g=p.precision;if(h.s<1)throw Error(ko+(h.s?"NaN":"-Infinity"));if(h.eq(Ri))return new p(0);if(t==null?(xn=!1,d=g):d=t,h.eq(10))return t==null&&(xn=!0),zS(p,d);if(d+=m,p.precision=d,r=Hl(x),s=r.charAt(0),i=ss(h),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&r.charAt(1)>3;)h=h.times(e),r=Hl(h.d),s=r.charAt(0),f++;i=ss(h),s>1?(h=new p("0."+r),i++):h=new p(s+"."+r.slice(1))}else return c=zS(p,d+2,g).times(i+""),h=M0(new p(s+"."+r.slice(1)),d-m).plus(c),p.precision=g,t==null?(xn=!0,Wr(h,g)):h;for(l=o=h=Bc(h.minus(Ri),h.plus(Ri),d),u=Wr(h.times(h),d),a=3;;){if(o=Wr(o.times(u),d),c=l.plus(Bc(o,new p(a),d)),Hl(c.d).slice(0,d)===Hl(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(zS(p,d+2,g).times(i+""))),l=Bc(l,new p(f),d),p.precision=g,t==null?(xn=!0,Wr(l,g)):l;l=c,a+=2}}function LF(e,t){var r,s,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charCodeAt(s)===48;)++s;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(s,a),t){if(a-=s,r=r-s-1,e.e=cx(r/sn),e.d=[],s=(r+1)%sn,r<0&&(s+=sn),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=sn;s<a;)e.d.push(+t.slice(s,s+=sn));t=t.slice(s),s=sn-t.length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),xn&&(e.e>q1||e.e<-q1))throw Error(UO+r)}else e.s=0,e.e=0,e.d=[0];return e}function Wr(e,t,r){var s,a,i,o,l,c,d,u,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(s=t-o,s<0)s+=sn,a=t,d=f[u=0];else{if(u=Math.ceil((s+1)/sn),i=f.length,u>=i)return e;for(d=i=f[u],o=1;i>=10;i/=10)o++;s%=sn,a=s-sn+o}if(r!==void 0&&(i=ef(10,o-a-1),l=d/i%10|0,c=t<0||f[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(s>0?a>0?d/ef(10,o-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=ss(e),f.length=1,t=t-i-1,f[0]=ef(10,(sn-t%sn)%sn),e.e=cx(-t/sn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(s==0?(f.length=u,i=1,u--):(f.length=u+1,i=ef(10,sn-s),f[u]=a>0?(d/ef(10,o-a)%ef(10,a)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==As&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=As)break;f[u--]=0,i=1}for(s=f.length;f[--s]===0;)f.pop();if(xn&&(e.e>q1||e.e<-q1))throw Error(UO+ss(e));return e}function cG(e,t){var r,s,a,i,o,l,c,d,u,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),xn?Wr(t,h):t;if(c=e.d,f=t.d,s=t.e,d=e.e,c=c.slice(),o=d-s,o){for(u=o<0,u?(r=c,o=-o,l=f.length):(r=f,s=d,l=c.length),a=Math.max(Math.ceil(h/sn),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){u=c[a]<f[a];break}o=0}for(u&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=As-1;--c[i],c[a]+=As}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,xn?Wr(t,h):t):new m(0)}function em(e,t,r){var s,a=ss(e),i=Hl(e.d),o=i.length;return t?(r&&(s=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Td(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Td(-a-1)+i,r&&(s=r-o)>0&&(i+=Td(s))):a>=o?(i+=Td(a+1-o),r&&(s=r-a-1)>0&&(i=i+"."+Td(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),r&&(s=r-o)>0&&(a+1===o&&(i+="."),i+=Td(s))),e.s<0?"-"+i:i}function BF(e,t){if(e.length>t)return e.length=t,!0}function dG(e){var t,r,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Of+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return LF(o,i.toString())}else if(typeof i!="string")throw Error(Of+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,aOe.test(i))LF(o,i);else throw Error(Of+i)}if(a.prototype=yt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=dG,a.config=a.set=iOe,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(r=s[t++])||(e[r]=this[r]);return a.config(e),a}function iOe(e){if(!e||typeof e!="object")throw Error(ko+"Object expected");var t,r,s,a=["precision",1,lx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((s=e[r=a[t]])!==void 0)if(cx(s)===s&&s>=a[t+1]&&s<=a[t+2])this[r]=s;else throw Error(Of+r+": "+s);if((s=e[r="LN10"])!==void 0)if(s==Math.LN10)this[r]=new this(s);else throw Error(Of+r+": "+s);return this}var VO=dG(sOe);Ri=new VO(1);const Lr=VO;function oOe(e){return uOe(e)||dOe(e)||cOe(e)||lOe()}function lOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cOe(e,t){if(e){if(typeof e=="string")return oA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oA(e,t)}}function dOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function uOe(e){if(Array.isArray(e))return oA(e)}function oA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var fOe=function(t){return t},uG={"@@functional/placeholder":!0},fG=function(t){return t===uG},UF=function(t){return function r(){return arguments.length===0||arguments.length===1&&fG(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},mOe=function e(t,r){return t===1?r:UF(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==uG}).length;return o>=t?r.apply(void 0,a):e(t-o,UF(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(f){return fG(f)?c.shift():f});return r.apply(void 0,oOe(u).concat(c))}))})},E2=function(t){return mOe(t.length,t)},lA=function(t,r){for(var s=[],a=t;a<r;++a)s[a-t]=a;return s},hOe=E2(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),pOe=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];if(!r.length)return fOe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},cA=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},mG=function(t){var r=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,s=t.apply(void 0,i)),s}};function xOe(e){var t;return e===0?t=1:t=Math.floor(new Lr(e).abs().log(10).toNumber())+1,t}function gOe(e,t,r){for(var s=new Lr(e),a=0,i=[];s.lt(t)&&a<1e5;)i.push(s.toNumber()),s=s.add(r),a++;return i}var vOe=E2(function(e,t,r){var s=+e,a=+t;return s+r*(a-s)}),yOe=E2(function(e,t,r){var s=t-+e;return s=s||1/0,(r-e)/s}),jOe=E2(function(e,t,r){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(r-e)/s))});const A2={rangeStep:gOe,getDigitCount:xOe,interpolateNumber:vOe,uninterpolateNumber:yOe,uninterpolateTruncation:jOe};function dA(e){return NOe(e)||wOe(e)||hG(e)||bOe()}function bOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function NOe(e){if(Array.isArray(e))return uA(e)}function F0(e,t){return COe(e)||SOe(e,t)||hG(e,t)||_Oe()}function _Oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hG(e,t){if(e){if(typeof e=="string")return uA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uA(e,t)}}function uA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function SOe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],s=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));s=!0);}catch(c){a=!0,i=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function COe(e){if(Array.isArray(e))return e}function pG(e){var t=F0(e,2),r=t[0],s=t[1],a=r,i=s;return r>s&&(a=s,i=r),[a,i]}function xG(e,t,r){if(e.lte(0))return new Lr(0);var s=A2.getDigitCount(e.toNumber()),a=new Lr(10).pow(s),i=e.div(a),o=s!==1?.05:.1,l=new Lr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Lr(Math.ceil(c))}function EOe(e,t,r){var s=1,a=new Lr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(s=new Lr(10).pow(A2.getDigitCount(e)-1),a=new Lr(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new Lr(Math.floor(e)))}else e===0?a=new Lr(Math.floor((t-1)/2)):r||(a=new Lr(Math.floor(e)));var o=Math.floor((t-1)/2),l=pOe(hOe(function(c){return a.add(new Lr(c-o).mul(s)).toNumber()}),lA);return l(0,t)}function gG(e,t,r,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Lr(0),tickMin:new Lr(0),tickMax:new Lr(0)};var i=xG(new Lr(t).sub(e).div(r-1),s,a),o;e<=0&&t>=0?o=new Lr(0):(o=new Lr(e).add(t).div(2),o=o.sub(new Lr(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Lr(t).sub(o).div(i).toNumber()),d=l+c+1;return d>r?gG(e,t,r,s,a+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:i,tickMin:o.sub(new Lr(l).mul(i)),tickMax:o.add(new Lr(c).mul(i))})}function AOe(e){var t=F0(e,2),r=t[0],s=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=pG([r,s]),c=F0(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var f=u===1/0?[d].concat(dA(lA(0,a-1).map(function(){return 1/0}))):[].concat(dA(lA(0,a-1).map(function(){return-1/0})),[u]);return r>s?cA(f):f}if(d===u)return EOe(d,a,i);var m=gG(d,u,o,i),h=m.step,x=m.tickMin,p=m.tickMax,g=A2.rangeStep(x,p.add(new Lr(.1).mul(h)),h);return r>s?cA(g):g}function POe(e,t){var r=F0(e,2),s=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=pG([s,a]),l=F0(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[s,a];if(c===d)return[c];var u=Math.max(t,2),f=xG(new Lr(d).sub(c).div(u-1),i,0),m=[].concat(dA(A2.rangeStep(new Lr(c),new Lr(d).sub(new Lr(.99).mul(f)),f)),[d]);return s>a?cA(m):m}var kOe=mG(AOe),TOe=mG(POe),OOe="Invariant failed";function _u(e,t){throw new Error(OOe)}var DOe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function G1(){return G1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},G1.apply(this,arguments)}function IOe(e,t){return $Oe(e)||FOe(e,t)||MOe(e,t)||ROe()}function ROe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MOe(e,t){if(e){if(typeof e=="string")return VF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VF(e,t)}}function VF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function FOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function $Oe(e){if(Array.isArray(e))return e}function LOe(e,t){if(e==null)return{};var r=BOe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function BOe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function UOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VOe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,jG(s.key),s)}}function zOe(e,t,r){return t&&VOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WOe(e,t,r){return t=K1(t),HOe(e,vG()?Reflect.construct(t,r||[],K1(e).constructor):t.apply(e,r))}function HOe(e,t){if(t&&(fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qOe(e)}function qOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vG=function(){return!!e})()}function K1(e){return K1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},K1(e)}function GOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fA(e,t)}function fA(e,t){return fA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},fA(e,t)}function yG(e,t,r){return t=jG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jG(e){var t=KOe(e,"string");return fp(t)=="symbol"?t:t+""}function KOe(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(fp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var py=function(e){function t(){return UOe(this,t),WOe(this,t,arguments)}return GOe(t,e),zOe(t,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,c=s.data,d=s.dataPointFormatter,u=s.xAxis,f=s.yAxis,m=LOe(s,DOe),h=Nt(m,!1);this.props.direction==="x"&&u.type!=="number"&&_u();var x=c.map(function(p){var g=d(p,l),j=g.x,y=g.y,w=g.value,b=g.errorVal;if(!b)return null;var N=[],S,_;if(Array.isArray(b)){var E=IOe(b,2);S=E[0],_=E[1]}else S=_=b;if(i==="vertical"){var A=u.scale,k=y+a,D=k+o,I=k-o,W=A(w-S),H=A(w+_);N.push({x1:H,y1:D,x2:H,y2:I}),N.push({x1:W,y1:k,x2:H,y2:k}),N.push({x1:W,y1:D,x2:W,y2:I})}else if(i==="horizontal"){var F=f.scale,T=j+a,P=T-o,M=T+o,O=F(w-S),K=F(w+_);N.push({x1:P,y1:K,x2:M,y2:K}),N.push({x1:T,y1:O,x2:T,y2:K}),N.push({x1:P,y1:O,x2:M,y2:O})}return z.createElement(nr,G1({className:"recharts-errorBar",key:"bar-".concat(N.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},h),N.map(function(ne){return z.createElement("line",G1({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return z.createElement(nr,{className:"recharts-errorBars"},x)}}])}(z.Component);yG(py,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});yG(py,"displayName","ErrorBar");function $0(e){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$0(e)}function zF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Hu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zF(Object(r),!0).forEach(function(s){YOe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function YOe(e,t,r){return t=XOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XOe(e){var t=QOe(e,"string");return $0(t)=="symbol"?t:t+""}function QOe(e,t){if($0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if($0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bG=function(t){var r=t.children,s=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=ki(r,ol);if(!o)return null;var l=ol.defaultProps,c=l!==void 0?Hu(Hu({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(s||[]).reduce(function(u,f){var m=f.item,h=f.props,x=h.sectors||h.data||[];return u.concat(x.map(function(p){return{type:o.props.iconType||m.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):d=(s||[]).map(function(u){var f=u.item,m=f.type.defaultProps,h=m!==void 0?Hu(Hu({},m),f.props):{},x=h.dataKey,p=h.name,g=h.legendType,j=h.hide;return{inactive:j,dataKey:x,type:c.iconType||g||"square",color:zO(f),value:p||x,payload:h}}),Hu(Hu(Hu({},c),ol.getWithHeight(o,a)),{},{payload:d,item:o})};function L0(e){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L0(e)}function WF(e){return t3e(e)||e3e(e)||JOe(e)||ZOe()}function ZOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JOe(e,t){if(e){if(typeof e=="string")return mA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mA(e,t)}}function e3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function t3e(e){if(Array.isArray(e))return mA(e)}function mA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function HF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HF(Object(r),!0).forEach(function(s){Nh(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Nh(e,t,r){return t=r3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r3e(e){var t=n3e(e,"string");return L0(t)=="symbol"?t:t+""}function n3e(e,t){if(L0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(L0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gn(e,t,r){return Ut(e)||Ut(t)?r:_s(t)?Bi(e,t,r):It(t)?t(e):r}function Tg(e,t,r,s){var a=eOe(e,function(l){return Gn(l,t)});if(r==="number"){var i=a.filter(function(l){return Xe(l)||parseFloat(l)});return i.length?[C2(i),Kd(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!Ut(l)}):a;return o.map(function(l){return _s(l)||l instanceof Date?l:""})}var s3e=function(t){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=s==null?void 0:s.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,f=a[d].coordinate,m=d>=l-1?a[0].coordinate:a[d+1].coordinate,h=void 0;if(Da(f-u)!==Da(m-f)){var x=[];if(Da(m-f)===Da(c[1]-c[0])){h=m;var p=f+c[1]-c[0];x[0]=Math.min(p,(p+u)/2),x[1]=Math.max(p,(p+u)/2)}else{h=u;var g=m+c[1]-c[0];x[0]=Math.min(f,(g+f)/2),x[1]=Math.max(f,(g+f)/2)}var j=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(t>j[0]&&t<=j[1]||t>=x[0]&&t<=x[1]){o=a[d].index;break}}else{var y=Math.min(u,m),w=Math.max(u,m);if(t>(y+f)/2&&t<=(w+f)/2){o=a[d].index;break}}}else for(var b=0;b<l;b++)if(b===0&&t<=(s[b].coordinate+s[b+1].coordinate)/2||b>0&&b<l-1&&t>(s[b].coordinate+s[b-1].coordinate)/2&&t<=(s[b].coordinate+s[b+1].coordinate)/2||b===l-1&&t>(s[b].coordinate+s[b-1].coordinate)/2){o=s[b].index;break}return o},zO=function(t){var r,s=t,a=s.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Fn(Fn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},a3e=function(t){var r=t.barSize,s=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,f=Object.keys(u),m=0,h=f.length;m<h;m++){var x=u[f[m]],p=x.items,g=x.cateAxisId,j=p.filter(function(_){return Lc(_.type).indexOf("Bar")>=0});if(j&&j.length){var y=j[0].type.defaultProps,w=y!==void 0?Fn(Fn({},y),j[0].props):j[0].props,b=w.barSize,N=w[g];o[N]||(o[N]=[]);var S=Ut(b)?r:b;o[N].push({item:j[0],stackList:j.slice(1),barSize:Ut(S)?void 0:Ia(S,s,0)})}}return o},i3e=function(t){var r=t.barGap,s=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=Ia(r,a,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,h=a/c,x=o.reduce(function(b,N){return b+N.barSize||0},0);x+=(c-1)*d,x>=a&&(x-=(c-1)*d,d=0),x>=a&&h>0&&(m=!0,h*=.9,x=c*h);var p=(a-x)/2>>0,g={offset:p-d,size:0};u=o.reduce(function(b,N){var S={item:N.item,position:{offset:g.offset+g.size+d,size:m?h:N.barSize}},_=[].concat(WF(b),[S]);return g=_[_.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(E){_.push({item:E,position:g})}),_},f)}else{var j=Ia(s,a,0,!0);a-2*j-(c-1)*d<=0&&(d=0);var y=(a-2*j-(c-1)*d)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;u=o.reduce(function(b,N,S){var _=[].concat(WF(b),[{item:N.item,position:{offset:j+(y+d)*S+(y-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(E){_.push({item:E,position:_[_.length-1].position})}),_},f)}return u},o3e=function(t,r,s,a){var i=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),d=bG({children:i,legendWidth:c});if(d){var u=a||{},f=u.width,m=u.height,h=d.align,x=d.verticalAlign,p=d.layout;if((p==="vertical"||p==="horizontal"&&x==="middle")&&h!=="center"&&Xe(t[h]))return Fn(Fn({},t),{},Nh({},h,t[h]+(f||0)));if((p==="horizontal"||p==="vertical"&&h==="center")&&x!=="middle"&&Xe(t[x]))return Fn(Fn({},t),{},Nh({},x,t[x]+(m||0)))}return t},l3e=function(t,r,s){return Ut(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||s==="x"?r==="xAxis":s==="y"?r==="yAxis":!0},wG=function(t,r,s,a,i){var o=r.props.children,l=Ui(o,py).filter(function(d){return l3e(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var f=Gn(u,s);if(Ut(f))return d;var m=Array.isArray(f)?[C2(f),Kd(f)]:[f,f],h=c.reduce(function(x,p){var g=Gn(u,p,0),j=m[0]-Math.abs(Array.isArray(g)?g[0]:g),y=m[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(j,x[0]),Math.max(y,x[1])]},[1/0,-1/0]);return[Math.min(h[0],d[0]),Math.max(h[1],d[1])]},[1/0,-1/0])}return null},c3e=function(t,r,s,a,i){var o=r.map(function(l){return wG(t,l,s,i,a)}).filter(function(l){return!Ut(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},NG=function(t,r,s,a,i){var o=r.map(function(c){var d=c.props.dataKey;return s==="number"&&d&&wG(t,c,d,a)||Tg(t,d,s,i)});if(s==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,f=d.length;u<f;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},_G=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},SG=function(t,r,s,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===s&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(s),l},Rc=function(t,r,s){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||s)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Da(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var m=i?i.indexOf(f):f;return{coordinate:a(m)+d,value:f,offset:d}});return u.filter(function(f){return!nx(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,m){return{coordinate:a(f)+d,value:f,index:m,offset:d}}):a.ticks&&!s?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+d,value:f,offset:d}}):a.domain().map(function(f,m){return{coordinate:a(f)+d,value:i?i[f]:f,index:m,offset:d}})},WS=new WeakMap,Nj=function(t,r){if(typeof r!="function")return t;WS.has(t)||WS.set(t,new WeakMap);var s=WS.get(t);if(s.has(r))return s.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return s.set(r,a),a},CG=function(t,r,s){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:T0(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:V1(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!s)?{scale:kg(),realScaleType:"point"}:i==="category"?{scale:T0(),realScaleType:"band"}:{scale:V1(),realScaleType:"linear"};if(cy(a)){var c="scale".concat(f2(a));return{scale:($F[c]||kg)(),realScaleType:$F[c]?c:"point"}}return It(a)?{scale:a}:{scale:kg(),realScaleType:"point"}},qF=1e-4,EG=function(t){var r=t.domain();if(!(!r||r.length<=2)){var s=r.length,a=t.range(),i=Math.min(a[0],a[1])-qF,o=Math.max(a[0],a[1])+qF,l=t(r[0]),c=t(r[s-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[s-1]])}},d3e=function(t,r){if(!t)return null;for(var s=0,a=t.length;s<a;s++)if(t[s].item===r)return t[s].position;return null},u3e=function(t,r){if(!r||r.length!==2||!Xe(r[0])||!Xe(r[1]))return t;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Xe(t[0])||t[0]<s)&&(i[0]=s),(!Xe(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},f3e=function(t){var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0,l=0;l<r;++l){var c=nx(t[l][s][1])?t[l][s][0]:t[l][s][1];c>=0?(t[l][s][0]=i,t[l][s][1]=i+c,i=t[l][s][1]):(t[l][s][0]=o,t[l][s][1]=o+c,o=t[l][s][1])}},m3e=function(t){var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0;o<r;++o){var l=nx(t[o][s][1])?t[o][s][0]:t[o][s][1];l>=0?(t[o][s][0]=i,t[o][s][1]=i+l,i=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},h3e={sign:f3e,expand:D1e,none:sp,silhouette:I1e,wiggle:R1e,positive:m3e},p3e=function(t,r,s){var a=r.map(function(l){return l.props.dataKey}),i=h3e[s],o=O1e().keys(a).value(function(l,c){return+Gn(l,c,0)}).order($E).offset(i);return o(t)},x3e=function(t,r,s,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(f,m){var h,x=(h=m.type)!==null&&h!==void 0&&h.defaultProps?Fn(Fn({},m.type.defaultProps),m.props):m.props,p=x.stackId,g=x.hide;if(g)return f;var j=x[s],y=f[j]||{hasStack:!1,stackGroups:{}};if(_s(p)){var w=y.stackGroups[p]||{numericAxisId:s,cateAxisId:a,items:[]};w.items.push(m),y.hasStack=!0,y.stackGroups[p]=w}else y.stackGroups[pm("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[m]};return Fn(Fn({},f),{},Nh({},j,y))},c),u={};return Object.keys(d).reduce(function(f,m){var h=d[m];if(h.hasStack){var x={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(p,g){var j=h.stackGroups[g];return Fn(Fn({},p),{},Nh({},g,{numericAxisId:s,cateAxisId:a,items:j.items,stackedData:p3e(t,j.items,i)}))},x)}return Fn(Fn({},f),{},Nh({},m,h))},u)},AG=function(t,r){var s=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=s||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=kOe(d,i,l);return t.domain([C2(u),Kd(u)]),{niceTicks:u}}if(i&&a==="number"){var f=t.domain(),m=TOe(f,i,l);return{niceTicks:m}}return null};function Y1(e){var t=e.axis,r=e.ticks,s=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ut(a[t.dataKey])){var l=b1(r,"value",a[t.dataKey]);if(l)return l.coordinate+s/2}return r[i]?r[i].coordinate+s/2:null}var c=Gn(a,Ut(o)?t.dataKey:o);return Ut(c)?null:t.scale(c)}var GF=function(t){var r=t.axis,s=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return s[l]?s[l].coordinate+a:null;var c=Gn(o,r.dataKey,r.domain[l]);return Ut(c)?null:r.scale(c)-i/2+a},g3e=function(t){var r=t.numericAxis,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},v3e=function(t,r){var s,a=(s=t.type)!==null&&s!==void 0&&s.defaultProps?Fn(Fn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(_s(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},y3e=function(t){return t.reduce(function(r,s){return[C2(s.concat([r[0]]).filter(Xe)),Kd(s.concat([r[1]]).filter(Xe))]},[1/0,-1/0])},PG=function(t,r,s){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(d,u){var f=y3e(u.slice(r,s+1));return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},KF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,YF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hA=function(t,r,s){if(It(t))return t(r,s);if(!Array.isArray(t))return r;var a=[];if(Xe(t[0]))a[0]=s?t[0]:Math.min(t[0],r[0]);else if(KF.test(t[0])){var i=+KF.exec(t[0])[1];a[0]=r[0]-i}else It(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Xe(t[1]))a[1]=s?t[1]:Math.max(t[1],r[1]);else if(YF.test(t[1])){var o=+YF.exec(t[1])[1];a[1]=r[1]+o}else It(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},X1=function(t,r,s){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!s||a>0)return a}if(t&&r&&r.length>=2){for(var i=gO(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},XF=function(t,r,s){return!t||!t.length||Jf(t,Bi(s,"type.defaultProps.domain"))?r:t},kG=function(t,r){var s=t.type.defaultProps?Fn(Fn({},t.type.defaultProps),t.props):t.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,d=s.chartType,u=s.hide;return Fn(Fn({},Nt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:zO(t),value:Gn(r,a),type:c,payload:r,chartType:d,hide:u})};function B0(e){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B0(e)}function QF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function wc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QF(Object(r),!0).forEach(function(s){TG(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function TG(e,t,r){return t=j3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j3e(e){var t=b3e(e,"string");return B0(t)=="symbol"?t:t+""}function b3e(e,t){if(B0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(B0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w3e(e,t){return C3e(e)||S3e(e,t)||_3e(e,t)||N3e()}function N3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _3e(e,t){if(e){if(typeof e=="string")return ZF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZF(e,t)}}function ZF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function S3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function C3e(e){if(Array.isArray(e))return e}var Q1=Math.PI/180,E3e=function(t){return t*180/Math.PI},Xr=function(t,r,s,a){return{x:t+Math.cos(-Q1*a)*s,y:r+Math.sin(-Q1*a)*s}},OG=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(r-(s.top||0)-(s.bottom||0)))/2},A3e=function(t,r,s,a,i){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=Ia(t.cx,o,o/2),f=Ia(t.cy,l,l/2),m=OG(o,l,s),h=Ia(t.innerRadius,m,0),x=Ia(t.outerRadius,m,m*.8),p=Object.keys(r);return p.reduce(function(g,j){var y=r[j],w=y.domain,b=y.reversed,N;if(Ut(y.range))a==="angleAxis"?N=[c,d]:a==="radiusAxis"&&(N=[h,x]),b&&(N=[N[1],N[0]]);else{N=y.range;var S=N,_=w3e(S,2);c=_[0],d=_[1]}var E=CG(y,i),A=E.realScaleType,k=E.scale;k.domain(w).range(N),EG(k);var D=AG(k,wc(wc({},y),{},{realScaleType:A})),I=wc(wc(wc({},y),D),{},{range:N,radius:x,realScaleType:A,scale:k,cx:u,cy:f,innerRadius:h,outerRadius:x,startAngle:c,endAngle:d});return wc(wc({},g),{},TG({},j,I))},{})},P3e=function(t,r){var s=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},k3e=function(t,r){var s=t.x,a=t.y,i=r.cx,o=r.cy,l=P3e({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(s-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:E3e(d),angleInRadian:d}},T3e=function(t){var r=t.startAngle,s=t.endAngle,a=Math.floor(r/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:s-o*360}},O3e=function(t,r){var s=r.startAngle,a=r.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},JF=function(t,r){var s=t.x,a=t.y,i=k3e({x:s,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=T3e(r),f=u.startAngle,m=u.endAngle,h=l,x;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;x=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;x=h>=m&&h<=f}return x?wc(wc({},r),{},{radius:o,angle:O3e(h,r)}):null},DG=function(t){return!v.isValidElement(t)&&!It(t)&&typeof t!="boolean"?t.className:""};function U0(e){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U0(e)}var D3e=["offset"];function I3e(e){return $3e(e)||F3e(e)||M3e(e)||R3e()}function R3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M3e(e,t){if(e){if(typeof e=="string")return pA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pA(e,t)}}function F3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $3e(e){if(Array.isArray(e))return pA(e)}function pA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function L3e(e,t){if(e==null)return{};var r=B3e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function B3e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function e6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function us(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e6(Object(r),!0).forEach(function(s){U3e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function U3e(e,t,r){return t=V3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V3e(e){var t=z3e(e,"string");return U0(t)=="symbol"?t:t+""}function z3e(e,t){if(U0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(U0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},V0.apply(this,arguments)}var W3e=function(t){var r=t.value,s=t.formatter,a=Ut(t.children)?r:t.children;return It(s)?s(a):a},H3e=function(t,r){var s=Da(r-t),a=Math.min(Math.abs(r-t),360);return s*a},q3e=function(t,r,s){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,d=c.cx,u=c.cy,f=c.innerRadius,m=c.outerRadius,h=c.startAngle,x=c.endAngle,p=c.clockWise,g=(f+m)/2,j=H3e(h,x),y=j>=0?1:-1,w,b;a==="insideStart"?(w=h+y*o,b=p):a==="insideEnd"?(w=x-y*o,b=!p):a==="end"&&(w=x+y*o,b=p),b=j<=0?b:!b;var N=Xr(d,u,g,w),S=Xr(d,u,g,w+(b?1:-1)*359),_="M".concat(N.x,",").concat(N.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),E=Ut(t.id)?pm("recharts-radial-line-"):t.id;return z.createElement("text",V0({},s,{dominantBaseline:"central",className:Wt("recharts-radial-bar-label",l)}),z.createElement("defs",null,z.createElement("path",{id:E,d:_})),z.createElement("textPath",{xlinkHref:"#".concat(E)},r))},G3e=function(t){var r=t.viewBox,s=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,f=i.endAngle,m=(u+f)/2;if(a==="outside"){var h=Xr(o,l,d+s,m),x=h.x,p=h.y;return{x,y:p,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+d)/2,j=Xr(o,l,g,m),y=j.x,w=j.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},K3e=function(t){var r=t.viewBox,s=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,f=u>=0?1:-1,m=f*a,h=f>0?"end":"start",x=f>0?"start":"end",p=d>=0?1:-1,g=p*a,j=p>0?"end":"start",y=p>0?"start":"end";if(i==="top"){var w={x:l+d/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return us(us({},w),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var b={x:l+d/2,y:c+u+m,textAnchor:"middle",verticalAnchor:x};return us(us({},b),s?{height:Math.max(s.y+s.height-(c+u),0),width:d}:{})}if(i==="left"){var N={x:l-g,y:c+u/2,textAnchor:j,verticalAnchor:"middle"};return us(us({},N),s?{width:Math.max(N.x-s.x,0),height:u}:{})}if(i==="right"){var S={x:l+d+g,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return us(us({},S),s?{width:Math.max(s.x+s.width-S.x,0),height:u}:{})}var _=s?{width:d,height:u}:{};return i==="insideLeft"?us({x:l+g,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},_):i==="insideRight"?us({x:l+d-g,y:c+u/2,textAnchor:j,verticalAnchor:"middle"},_):i==="insideTop"?us({x:l+d/2,y:c+m,textAnchor:"middle",verticalAnchor:x},_):i==="insideBottom"?us({x:l+d/2,y:c+u-m,textAnchor:"middle",verticalAnchor:h},_):i==="insideTopLeft"?us({x:l+g,y:c+m,textAnchor:y,verticalAnchor:x},_):i==="insideTopRight"?us({x:l+d-g,y:c+m,textAnchor:j,verticalAnchor:x},_):i==="insideBottomLeft"?us({x:l+g,y:c+u-m,textAnchor:y,verticalAnchor:h},_):i==="insideBottomRight"?us({x:l+d-g,y:c+u-m,textAnchor:j,verticalAnchor:h},_):Jp(i)&&(Xe(i.x)||pf(i.x))&&(Xe(i.y)||pf(i.y))?us({x:l+Ia(i.x,d),y:c+Ia(i.y,u),textAnchor:"end",verticalAnchor:"end"},_):us({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},_)},Y3e=function(t){return"cx"in t&&Xe(t.cx)};function ks(e){var t=e.offset,r=t===void 0?5:t,s=L3e(e,D3e),a=us({offset:r},s),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,f=u===void 0?"":u,m=a.textBreakAll;if(!i||Ut(l)&&Ut(c)&&!v.isValidElement(d)&&!It(d))return null;if(v.isValidElement(d))return v.cloneElement(d,a);var h;if(It(d)){if(h=v.createElement(d,a),v.isValidElement(h))return h}else h=W3e(a);var x=Y3e(i),p=Nt(a,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return q3e(a,h,p);var g=x?G3e(a):K3e(a);return z.createElement(Zf,V0({className:Wt("recharts-label",f)},p,g,{breakAll:m}),h)}ks.displayName="Label";var IG=function(t){var r=t.cx,s=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,f=t.x,m=t.y,h=t.top,x=t.left,p=t.width,g=t.height,j=t.clockWise,y=t.labelViewBox;if(y)return y;if(Xe(p)&&Xe(g)){if(Xe(f)&&Xe(m))return{x:f,y:m,width:p,height:g};if(Xe(h)&&Xe(x))return{x:h,y:x,width:p,height:g}}return Xe(f)&&Xe(m)?{x:f,y:m,width:0,height:0}:Xe(r)&&Xe(s)?{cx:r,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:j}:t.viewBox?t.viewBox:{}},X3e=function(t,r){return t?t===!0?z.createElement(ks,{key:"label-implicit",viewBox:r}):_s(t)?z.createElement(ks,{key:"label-implicit",viewBox:r,value:t}):v.isValidElement(t)?t.type===ks?v.cloneElement(t,{key:"label-implicit",viewBox:r}):z.createElement(ks,{key:"label-implicit",content:t,viewBox:r}):It(t)?z.createElement(ks,{key:"label-implicit",content:t,viewBox:r}):Jp(t)?z.createElement(ks,V0({viewBox:r},t,{key:"label-implicit"})):null:null},Q3e=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var a=t.children,i=IG(t),o=Ui(a,ks).map(function(c,d){return v.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!s)return o;var l=X3e(t.label,r||i);return[l].concat(I3e(o))};ks.parseViewBox=IG;ks.renderCallByParent=Q3e;function Z3e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var J3e=Z3e;const eDe=Ar(J3e);function z0(e){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z0(e)}var tDe=["valueAccessor"],rDe=["data","dataKey","clockWise","id","textBreakAll"];function nDe(e){return oDe(e)||iDe(e)||aDe(e)||sDe()}function sDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aDe(e,t){if(e){if(typeof e=="string")return xA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xA(e,t)}}function iDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oDe(e){if(Array.isArray(e))return xA(e)}function xA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Z1(){return Z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Z1.apply(this,arguments)}function t6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function r6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t6(Object(r),!0).forEach(function(s){lDe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function lDe(e,t,r){return t=cDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cDe(e){var t=dDe(e,"string");return z0(t)=="symbol"?t:t+""}function dDe(e,t){if(z0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(z0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n6(e,t){if(e==null)return{};var r=uDe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function uDe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var fDe=function(t){return Array.isArray(t.value)?eDe(t.value):t.value};function Ql(e){var t=e.valueAccessor,r=t===void 0?fDe:t,s=n6(e,tDe),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,d=n6(s,rDe);return!a||!a.length?null:z.createElement(nr,{className:"recharts-label-list"},a.map(function(u,f){var m=Ut(i)?r(u,f):Gn(u&&u.payload,i),h=Ut(l)?{}:{id:"".concat(l,"-").concat(f)};return z.createElement(ks,Z1({},Nt(u,!0),d,h,{parentViewBox:u.parentViewBox,value:m,textBreakAll:c,viewBox:ks.parseViewBox(Ut(o)?u:r6(r6({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Ql.displayName="LabelList";function mDe(e,t){return e?e===!0?z.createElement(Ql,{key:"labelList-implicit",data:t}):z.isValidElement(e)||It(e)?z.createElement(Ql,{key:"labelList-implicit",data:t,content:e}):Jp(e)?z.createElement(Ql,Z1({data:t},e,{key:"labelList-implicit"})):null:null}function hDe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var s=e.children,a=Ui(s,Ql).map(function(o,l){return v.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=mDe(e.label,t);return[i].concat(nDe(a))}Ql.renderCallByParent=hDe;function W0(e){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W0(e)}function gA(){return gA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},gA.apply(this,arguments)}function s6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function a6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s6(Object(r),!0).forEach(function(s){pDe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function pDe(e,t,r){return t=xDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xDe(e){var t=gDe(e,"string");return W0(t)=="symbol"?t:t+""}function gDe(e,t){if(W0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(W0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vDe=function(t,r){var s=Da(r-t),a=Math.min(Math.abs(r-t),359.999);return s*a},_j=function(t){var r=t.cx,s=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+a,f=Math.asin(c/u)/Q1,m=d?i:i+o*f,h=Xr(r,s,u,m),x=Xr(r,s,a,m),p=d?i-o*f:i,g=Xr(r,s,u*Math.cos(f*Q1),p);return{center:h,circleTangency:x,lineTangency:g,theta:f}},RG=function(t){var r=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=vDe(o,l),d=o+c,u=Xr(r,s,i,o),f=Xr(r,s,i,d),m="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=Xr(r,s,a,o),x=Xr(r,s,a,d);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(r,",").concat(s," Z");return m},yDe=function(t){var r=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,f=Da(u-d),m=_j({cx:r,cy:s,radius:i,angle:d,sign:f,cornerRadius:o,cornerIsExternal:c}),h=m.circleTangency,x=m.lineTangency,p=m.theta,g=_j({cx:r,cy:s,radius:i,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:c}),j=g.circleTangency,y=g.lineTangency,w=g.theta,b=c?Math.abs(d-u):Math.abs(d-u)-p-w;if(b<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):RG({cx:r,cy:s,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var N="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var S=_j({cx:r,cy:s,radius:a,angle:d,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=S.circleTangency,E=S.lineTangency,A=S.theta,k=_j({cx:r,cy:s,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),D=k.circleTangency,I=k.lineTangency,W=k.theta,H=c?Math.abs(d-u):Math.abs(d-u)-A-W;if(H<0&&o===0)return"".concat(N,"L").concat(r,",").concat(s,"Z");N+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(H>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else N+="L".concat(r,",").concat(s,"Z");return N},jDe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},MG=function(t){var r=a6(a6({},jDe),t),s=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,m=r.className;if(o<i||u===f)return null;var h=Wt("recharts-sector",m),x=o-i,p=Ia(l,x,0,!0),g;return p>0&&Math.abs(u-f)<360?g=yDe({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:f}):g=RG({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:f}),z.createElement("path",gA({},Nt(r,!0),{className:h,d:g,role:"img"}))};function H0(e){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H0(e)}function vA(){return vA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},vA.apply(this,arguments)}function i6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function o6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i6(Object(r),!0).forEach(function(s){bDe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function bDe(e,t,r){return t=wDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wDe(e){var t=NDe(e,"string");return H0(t)=="symbol"?t:t+""}function NDe(e,t){if(H0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(H0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l6={curveBasisClosed:b1e,curveBasisOpen:w1e,curveBasis:j1e,curveBumpX:i1e,curveBumpY:o1e,curveLinearClosed:N1e,curveLinear:h2,curveMonotoneX:_1e,curveMonotoneY:S1e,curveNatural:C1e,curveStep:E1e,curveStepAfter:P1e,curveStepBefore:A1e},Sj=function(t){return t.x===+t.x&&t.y===+t.y},Kx=function(t){return t.x},Yx=function(t){return t.y},_De=function(t,r){if(It(t))return t;var s="curve".concat(f2(t));return(s==="curveMonotone"||s==="curveBump")&&r?l6["".concat(s).concat(r==="vertical"?"Y":"X")]:l6[s]||h2},SDe=function(t){var r=t.type,s=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=_De(s,l),f=d?i.filter(function(p){return Sj(p)}):i,m;if(Array.isArray(o)){var h=d?o.filter(function(p){return Sj(p)}):o,x=f.map(function(p,g){return o6(o6({},p),{},{base:h[g]})});return l==="vertical"?m=pj().y(Yx).x1(Kx).x0(function(p){return p.base.x}):m=pj().x(Kx).y1(Yx).y0(function(p){return p.base.y}),m.defined(Sj).curve(u),m(x)}return l==="vertical"&&Xe(o)?m=pj().y(Yx).x1(Kx).x0(o):Xe(o)?m=pj().x(Kx).y1(Yx).y0(o):m=kH().x(Kx).y(Yx),m.defined(Sj).curve(u),m(f)},Df=function(t){var r=t.className,s=t.points,a=t.path,i=t.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?SDe(t):a;return z.createElement("path",vA({},Nt(t,!1),w1(t),{className:Wt("recharts-curve",r),d:o,ref:i}))},FG={exports:{}},CDe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",EDe=CDe,ADe=EDe;function $G(){}function LG(){}LG.resetWarningCache=$G;var PDe=function(){function e(s,a,i,o,l,c){if(c!==ADe){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:LG,resetWarningCache:$G};return r.PropTypes=r,r};FG.exports=PDe();var kDe=FG.exports;const Yt=Ar(kDe);var TDe=Object.getOwnPropertyNames,ODe=Object.getOwnPropertySymbols,DDe=Object.prototype.hasOwnProperty;function c6(e,t){return function(s,a,i){return e(s,a,i)&&t(s,a,i)}}function Cj(e){return function(r,s,a){if(!r||!s||typeof r!="object"||typeof s!="object")return e(r,s,a);var i=a.cache,o=i.get(r),l=i.get(s);if(o&&l)return o===s&&l===r;i.set(r,s),i.set(s,r);var c=e(r,s,a);return i.delete(r),i.delete(s),c}}function d6(e){return TDe(e).concat(ODe(e))}var BG=Object.hasOwn||function(e,t){return DDe.call(e,t)};function dx(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var UG="_owner",u6=Object.getOwnPropertyDescriptor,f6=Object.keys;function IDe(e,t,r){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!r.equals(e[s],t[s],s,s,e,t,r))return!1;return!0}function RDe(e,t){return dx(e.getTime(),t.getTime())}function m6(e,t,r){if(e.size!==t.size)return!1;for(var s={},a=e.entries(),i=0,o,l;(o=a.next())&&!o.done;){for(var c=t.entries(),d=!1,u=0;(l=c.next())&&!l.done;){var f=o.value,m=f[0],h=f[1],x=l.value,p=x[0],g=x[1];!d&&!s[u]&&(d=r.equals(m,p,i,u,e,t,r)&&r.equals(h,g,m,p,e,t,r))&&(s[u]=!0),u++}if(!d)return!1;i++}return!0}function MDe(e,t,r){var s=f6(e),a=s.length;if(f6(t).length!==a)return!1;for(var i;a-- >0;)if(i=s[a],i===UG&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!BG(t,i)||!r.equals(e[i],t[i],i,i,e,t,r))return!1;return!0}function Xx(e,t,r){var s=d6(e),a=s.length;if(d6(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=s[a],i===UG&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!BG(t,i)||!r.equals(e[i],t[i],i,i,e,t,r)||(o=u6(e,i),l=u6(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function FDe(e,t){return dx(e.valueOf(),t.valueOf())}function $De(e,t){return e.source===t.source&&e.flags===t.flags}function h6(e,t,r){if(e.size!==t.size)return!1;for(var s={},a=e.values(),i,o;(i=a.next())&&!i.done;){for(var l=t.values(),c=!1,d=0;(o=l.next())&&!o.done;)!c&&!s[d]&&(c=r.equals(i.value,o.value,i.value,o.value,e,t,r))&&(s[d]=!0),d++;if(!c)return!1}return!0}function LDe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var BDe="[object Arguments]",UDe="[object Boolean]",VDe="[object Date]",zDe="[object Map]",WDe="[object Number]",HDe="[object Object]",qDe="[object RegExp]",GDe="[object Set]",KDe="[object String]",YDe=Array.isArray,p6=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,x6=Object.assign,XDe=Object.prototype.toString.call.bind(Object.prototype.toString);function QDe(e){var t=e.areArraysEqual,r=e.areDatesEqual,s=e.areMapsEqual,a=e.areObjectsEqual,i=e.arePrimitiveWrappersEqual,o=e.areRegExpsEqual,l=e.areSetsEqual,c=e.areTypedArraysEqual;return function(u,f,m){if(u===f)return!0;if(u==null||f==null||typeof u!="object"||typeof f!="object")return u!==u&&f!==f;var h=u.constructor;if(h!==f.constructor)return!1;if(h===Object)return a(u,f,m);if(YDe(u))return t(u,f,m);if(p6!=null&&p6(u))return c(u,f,m);if(h===Date)return r(u,f,m);if(h===RegExp)return o(u,f,m);if(h===Map)return s(u,f,m);if(h===Set)return l(u,f,m);var x=XDe(u);return x===VDe?r(u,f,m):x===qDe?o(u,f,m):x===zDe?s(u,f,m):x===GDe?l(u,f,m):x===HDe?typeof u.then!="function"&&typeof f.then!="function"&&a(u,f,m):x===BDe?a(u,f,m):x===UDe||x===WDe||x===KDe?i(u,f,m):!1}}function ZDe(e){var t=e.circular,r=e.createCustomConfig,s=e.strict,a={areArraysEqual:s?Xx:IDe,areDatesEqual:RDe,areMapsEqual:s?c6(m6,Xx):m6,areObjectsEqual:s?Xx:MDe,arePrimitiveWrappersEqual:FDe,areRegExpsEqual:$De,areSetsEqual:s?c6(h6,Xx):h6,areTypedArraysEqual:s?Xx:LDe};if(r&&(a=x6({},a,r(a))),t){var i=Cj(a.areArraysEqual),o=Cj(a.areMapsEqual),l=Cj(a.areObjectsEqual),c=Cj(a.areSetsEqual);a=x6({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function JDe(e){return function(t,r,s,a,i,o,l){return e(t,r,l)}}function e5e(e){var t=e.circular,r=e.comparator,s=e.createState,a=e.equals,i=e.strict;if(s)return function(c,d){var u=s(),f=u.cache,m=f===void 0?t?new WeakMap:void 0:f,h=u.meta;return r(c,d,{cache:m,equals:a,meta:h,strict:i})};if(t)return function(c,d){return r(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var t5e=Lu();Lu({strict:!0});Lu({circular:!0});Lu({circular:!0,strict:!0});Lu({createInternalComparator:function(){return dx}});Lu({strict:!0,createInternalComparator:function(){return dx}});Lu({circular:!0,createInternalComparator:function(){return dx}});Lu({circular:!0,createInternalComparator:function(){return dx},strict:!0});function Lu(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,s=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=ZDe(e),c=QDe(l),d=s?s(c):JDe(c);return e5e({circular:r,comparator:c,createState:a,equals:d,strict:o})}function r5e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function g6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,s=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):r5e(a)};requestAnimationFrame(s)}function yA(e){"@babel/helpers - typeof";return yA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yA(e)}function n5e(e){return o5e(e)||i5e(e)||a5e(e)||s5e()}function s5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a5e(e,t){if(e){if(typeof e=="string")return v6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v6(e,t)}}function v6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function i5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function o5e(e){if(Array.isArray(e))return e}function l5e(){var e={},t=function(){return null},r=!1,s=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=n5e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){g6(a.bind(null,d),c);return}a(c),g6(a.bind(null,d));return}yA(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,s(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function q0(e){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q0(e)}function y6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function j6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y6(Object(r),!0).forEach(function(s){VG(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function VG(e,t,r){return t=c5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c5e(e){var t=d5e(e,"string");return q0(t)==="symbol"?t:String(t)}function d5e(e,t){if(q0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(q0(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u5e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},f5e=function(t){return t},m5e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Og=function(t,r){return Object.keys(r).reduce(function(s,a){return j6(j6({},s),{},VG({},a,t(a,r[a])))},{})},b6=function(t,r,s){return t.map(function(a){return"".concat(m5e(a)," ").concat(r,"ms ").concat(s)}).join(",")};function h5e(e,t){return g5e(e)||x5e(e,t)||zG(e,t)||p5e()}function p5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function g5e(e){if(Array.isArray(e))return e}function v5e(e){return b5e(e)||j5e(e)||zG(e)||y5e()}function y5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zG(e,t){if(e){if(typeof e=="string")return jA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jA(e,t)}}function j5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function b5e(e){if(Array.isArray(e))return jA(e)}function jA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var J1=1e-4,WG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},HG=function(t,r){return t.map(function(s,a){return s*Math.pow(r,a)}).reduce(function(s,a){return s+a})},w6=function(t,r){return function(s){var a=WG(t,r);return HG(a,s)}},w5e=function(t,r){return function(s){var a=WG(t,r),i=[].concat(v5e(a.map(function(o,l){return o*l}).slice(1)),[0]);return HG(i,s)}},N6=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=h5e(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var f=w6(a,o),m=w6(i,l),h=w5e(a,o),x=function(j){return j>1?1:j<0?0:j},p=function(j){for(var y=j>1?1:j,w=y,b=0;b<8;++b){var N=f(w)-y,S=h(w);if(Math.abs(N-y)<J1||S<J1)return m(w);w=x(w-N/S)}return m(w)};return p.isStepper=!1,p},N5e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,s=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(u,f,m){var h=-(u-f)*s,x=m*i,p=m+(h-x)*l/1e3,g=m*l/1e3+u;return Math.abs(g-f)<J1&&Math.abs(p)<J1?[f,0]:[g,p]};return c.isStepper=!0,c.dt=l,c},_5e=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return N6(a);case"spring":return N5e();default:if(a.split("(")[0]==="cubic-bezier")return N6(a)}return typeof a=="function"?a:null};function G0(e){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G0(e)}function _6(e){return E5e(e)||C5e(e)||qG(e)||S5e()}function S5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function E5e(e){if(Array.isArray(e))return wA(e)}function S6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S6(Object(r),!0).forEach(function(s){bA(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function bA(e,t,r){return t=A5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A5e(e){var t=P5e(e,"string");return G0(t)==="symbol"?t:String(t)}function P5e(e,t){if(G0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(G0(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k5e(e,t){return D5e(e)||O5e(e,t)||qG(e,t)||T5e()}function T5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qG(e,t){if(e){if(typeof e=="string")return wA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wA(e,t)}}function wA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function O5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function D5e(e){if(Array.isArray(e))return e}var ew=function(t,r,s){return t+(r-t)*s},NA=function(t){var r=t.from,s=t.to;return r!==s},I5e=function e(t,r,s){var a=Og(function(i,o){if(NA(o)){var l=t(o.from,o.to,o.velocity),c=k5e(l,2),d=c[0],u=c[1];return zs(zs({},o),{},{from:d,velocity:u})}return o},r);return s<1?Og(function(i,o){return NA(o)?zs(zs({},o),{},{velocity:ew(o.velocity,a[i].velocity,s),from:ew(o.from,a[i].from,s)}):o},r):e(t,a,s-1)};const R5e=function(e,t,r,s,a){var i=u5e(e,t),o=i.reduce(function(g,j){return zs(zs({},g),{},bA({},j,[e[j],t[j]]))},{}),l=i.reduce(function(g,j){return zs(zs({},g),{},bA({},j,{from:e[j],velocity:0,to:t[j]}))},{}),c=-1,d,u,f=function(){return null},m=function(){return Og(function(j,y){return y.from},l)},h=function(){return!Object.values(l).filter(NA).length},x=function(j){d||(d=j);var y=j-d,w=y/r.dt;l=I5e(r,l,w),a(zs(zs(zs({},e),t),m())),d=j,h()||(c=requestAnimationFrame(f))},p=function(j){u||(u=j);var y=(j-u)/s,w=Og(function(N,S){return ew.apply(void 0,_6(S).concat([r(y)]))},o);if(a(zs(zs(zs({},e),t),w)),y<1)c=requestAnimationFrame(f);else{var b=Og(function(N,S){return ew.apply(void 0,_6(S).concat([r(1)]))},o);a(zs(zs(zs({},e),t),b))}};return f=r.isStepper?x:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}var M5e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function F5e(e,t){if(e==null)return{};var r=$5e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function $5e(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function HS(e){return V5e(e)||U5e(e)||B5e(e)||L5e()}function L5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B5e(e,t){if(e){if(typeof e=="string")return _A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _A(e,t)}}function U5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function V5e(e){if(Array.isArray(e))return _A(e)}function _A(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function C6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C6(Object(r),!0).forEach(function(s){ug(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ug(e,t,r){return t=GG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W5e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,GG(s.key),s)}}function H5e(e,t,r){return t&&W5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GG(e){var t=q5e(e,"string");return mp(t)==="symbol"?t:String(t)}function q5e(e,t){if(mp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(mp(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SA(e,t)}function SA(e,t){return SA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},SA(e,t)}function K5e(e){var t=Y5e();return function(){var s=tw(e),a;if(t){var i=tw(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return CA(this,a)}}function CA(e,t){if(t&&(mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EA(e)}function EA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y5e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tw(e){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tw(e)}var ml=function(e){G5e(r,e);var t=K5e(r);function r(s,a){var i;z5e(this,r),i=t.call(this,s,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,f=o.steps,m=o.children,h=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(EA(i)),i.changeStyle=i.changeStyle.bind(EA(i)),!l||h<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:u}),CA(i);if(f&&f.length)i.state={style:f[0].style};else if(d){if(typeof m=="function")return i.state={style:d},CA(i);i.state={style:c?ug({},c,d):d}}else i.state={style:{}};return i}return H5e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,f=i.from,m=this.state.style;if(l){if(!o){var h={style:c?ug({},c,u):u};this.state&&m&&(c&&m[c]!==u||!c&&m!==u)&&this.setState(h);return}if(!(t5e(a.to,u)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=x||d?f:a.to;if(this.state&&m){var g={style:c?ug({},c,p):p};(c&&m[c]!==p||!c&&m!==p)&&this.setState(g)}this.runAnimation(Bo(Bo({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,h=R5e(o,l,_5e(d),c,this.changeStyle),x=function(){i.stopJSAnimation=h()};this.manager.start([m,u,x,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,f=d.duration,m=f===void 0?0:f,h=function(p,g,j){if(j===0)return p;var y=g.duration,w=g.easing,b=w===void 0?"ease":w,N=g.style,S=g.properties,_=g.onAnimationEnd,E=j>0?o[j-1]:g,A=S||Object.keys(N);if(typeof b=="function"||b==="spring")return[].concat(HS(p),[i.runJSAnimation.bind(i,{from:E.style,to:N,duration:y,easing:b}),y]);var k=b6(A,y,b),D=Bo(Bo(Bo({},E.style),N),{},{transition:k});return[].concat(HS(p),[D,y,_]).filter(f5e)};return this.manager.start([c].concat(HS(o.reduce(h,[u,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=l5e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,h=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof d=="function"||typeof h=="function"||d==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var p=l?ug({},l,c):c,g=b6(Object.keys(p),o,d);x.start([u,i,Bo(Bo({},p),{},{transition:g}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=F5e(a,M5e),d=v.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var f=function(h){var x=h.props,p=x.style,g=p===void 0?{}:p,j=x.className,y=v.cloneElement(h,Bo(Bo({},c),{},{style:Bo(Bo({},g),u),className:j}));return y};return d===1?f(v.Children.only(i)):z.createElement("div",null,v.Children.map(i,function(m){return f(m)}))}}]),r}(v.PureComponent);ml.displayName="Animate";ml.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ml.propTypes={from:Yt.oneOfType([Yt.object,Yt.string]),to:Yt.oneOfType([Yt.object,Yt.string]),attributeName:Yt.string,duration:Yt.number,begin:Yt.number,easing:Yt.oneOfType([Yt.string,Yt.func]),steps:Yt.arrayOf(Yt.shape({duration:Yt.number.isRequired,style:Yt.object.isRequired,easing:Yt.oneOfType([Yt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Yt.func]),properties:Yt.arrayOf("string"),onAnimationEnd:Yt.func})),children:Yt.oneOfType([Yt.node,Yt.func]),isActive:Yt.bool,canBegin:Yt.bool,onAnimationEnd:Yt.func,shouldReAnimate:Yt.bool,onAnimationStart:Yt.func,onAnimationReStart:Yt.func};Yt.object,Yt.object,Yt.object,Yt.element;Yt.object,Yt.object,Yt.object,Yt.oneOfType([Yt.array,Yt.element]),Yt.any;function K0(e){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K0(e)}function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},rw.apply(this,arguments)}function X5e(e,t){return eIe(e)||J5e(e,t)||Z5e(e,t)||Q5e()}function Q5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z5e(e,t){if(e){if(typeof e=="string")return E6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E6(e,t)}}function E6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function J5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function eIe(e){if(Array.isArray(e))return e}function A6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function P6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A6(Object(r),!0).forEach(function(s){tIe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function tIe(e,t,r){return t=rIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rIe(e){var t=nIe(e,"string");return K0(t)=="symbol"?t:t+""}function nIe(e,t){if(K0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(K0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k6=function(t,r,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,u;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],m=0,h=4;m<h;m++)f[m]=i[m]>o?o:i[m];u="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(d,",").concat(t+c*f[0],",").concat(r)),u+="L ".concat(t+s-c*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(d,`,
        `).concat(t+s,",").concat(r+l*f[1])),u+="L ".concat(t+s,",").concat(r+a-l*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(d,`,
        `).concat(t+s-c*f[2],",").concat(r+a)),u+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+a-l*f[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);u="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+s-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+s,",").concat(r+l*x,`
            L `).concat(t+s,",").concat(r+a-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+s-c*x,",").concat(r+a,`
            L `).concat(t+c*x,",").concat(r+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t,",").concat(r+a-l*x," Z")}else u="M ".concat(t,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return u},sIe=function(t,r){if(!t||!r)return!1;var s=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return s>=d&&s<=u&&a>=f&&a<=m}return!1},aIe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WO=function(t){var r=P6(P6({},aIe),t),s=v.useRef(),a=v.useState(-1),i=X5e(a,2),o=i[0],l=i[1];v.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var b=s.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,d=r.y,u=r.width,f=r.height,m=r.radius,h=r.className,x=r.animationEasing,p=r.animationDuration,g=r.animationBegin,j=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||u===0||f===0)return null;var w=Wt("recharts-rectangle",h);return y?z.createElement(ml,{canBegin:o>0,from:{width:u,height:f,x:c,y:d},to:{width:u,height:f,x:c,y:d},duration:p,animationEasing:x,isActive:y},function(b){var N=b.width,S=b.height,_=b.x,E=b.y;return z.createElement(ml,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,isActive:j,easing:x},z.createElement("path",rw({},Nt(r,!0),{className:w,d:k6(_,E,N,S,m),ref:s})))}):z.createElement("path",rw({},Nt(r,!0),{className:w,d:k6(c,d,u,f,m)}))},iIe=["points","className","baseLinePoints","connectNulls"];function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},nh.apply(this,arguments)}function oIe(e,t){if(e==null)return{};var r=lIe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function lIe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function T6(e){return fIe(e)||uIe(e)||dIe(e)||cIe()}function cIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dIe(e,t){if(e){if(typeof e=="string")return AA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AA(e,t)}}function uIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fIe(e){if(Array.isArray(e))return AA(e)}function AA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var O6=function(t){return t&&t.x===+t.x&&t.y===+t.y},mIe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(s){O6(s)?r[r.length-1].push(s):r[r.length-1].length>0&&r.push([])}),O6(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Dg=function(t,r){var s=mIe(t);r&&(s=[s.reduce(function(i,o){return[].concat(T6(i),T6(o))},[])]);var a=s.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(a,"Z"):a},hIe=function(t,r,s){var a=Dg(t,s);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Dg(r.reverse(),s).slice(1))},pIe=function(t){var r=t.points,s=t.className,a=t.baseLinePoints,i=t.connectNulls,o=oIe(t,iIe);if(!r||!r.length)return null;var l=Wt("recharts-polygon",s);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=hIe(r,a,i);return z.createElement("g",{className:l},z.createElement("path",nh({},Nt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?z.createElement("path",nh({},Nt(o,!0),{fill:"none",d:Dg(r,i)})):null,c?z.createElement("path",nh({},Nt(o,!0),{fill:"none",d:Dg(a,i)})):null)}var u=Dg(r,i);return z.createElement("path",nh({},Nt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function PA(){return PA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},PA.apply(this,arguments)}var xy=function(t){var r=t.cx,s=t.cy,a=t.r,i=t.className,o=Wt("recharts-dot",i);return r===+r&&s===+s&&a===+a?z.createElement("circle",PA({},Nt(t,!1),w1(t),{className:o,cx:r,cy:s,r:a})):null};function Y0(e){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y0(e)}var xIe=["x","y","top","left","width","height","className"];function kA(){return kA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},kA.apply(this,arguments)}function D6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function gIe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D6(Object(r),!0).forEach(function(s){vIe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function vIe(e,t,r){return t=yIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yIe(e){var t=jIe(e,"string");return Y0(t)=="symbol"?t:t+""}function jIe(e,t){if(Y0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Y0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bIe(e,t){if(e==null)return{};var r=wIe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function wIe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var NIe=function(t,r,s,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(s)},_Ie=function(t){var r=t.x,s=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,f=u===void 0?0:u,m=t.height,h=m===void 0?0:m,x=t.className,p=bIe(t,xIe),g=gIe({x:s,y:i,top:l,left:d,width:f,height:h},p);return!Xe(s)||!Xe(i)||!Xe(f)||!Xe(h)||!Xe(l)||!Xe(d)?null:z.createElement("path",kA({},Nt(g,!0),{className:Wt("recharts-cross",x),d:NIe(s,i,f,h,l,d)}))},SIe=S2,CIe=sG,EIe=dc;function AIe(e,t){return e&&e.length?SIe(e,EIe(t),CIe):void 0}var PIe=AIe;const kIe=Ar(PIe);var TIe=S2,OIe=dc,DIe=aG;function IIe(e,t){return e&&e.length?TIe(e,OIe(t),DIe):void 0}var RIe=IIe;const MIe=Ar(RIe);var FIe=["cx","cy","angle","ticks","axisLine"],$Ie=["ticks","tick","angle","tickFormatter","stroke"];function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ig.apply(this,arguments)}function I6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function qu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I6(Object(r),!0).forEach(function(s){P2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function R6(e,t){if(e==null)return{};var r=LIe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function LIe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function BIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,YG(s.key),s)}}function UIe(e,t,r){return t&&M6(e.prototype,t),r&&M6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VIe(e,t,r){return t=nw(t),zIe(e,KG()?Reflect.construct(t,r||[],nw(e).constructor):t.apply(e,r))}function zIe(e,t){if(t&&(hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WIe(e)}function WIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KG=function(){return!!e})()}function nw(e){return nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nw(e)}function HIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TA(e,t)}function TA(e,t){return TA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},TA(e,t)}function P2(e,t,r){return t=YG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YG(e){var t=qIe(e,"string");return hp(t)=="symbol"?t:t+""}function qIe(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(hp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k2=function(e){function t(){return BIe(this,t),VIe(this,t,arguments)}return HIe(t,e),UIe(t,[{key:"getTickValueCoord",value:function(s){var a=s.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Xr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,a;switch(s){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=kIe(l,function(u){return u.coordinate||0}),d=MIe(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,d=R6(s,FIe),u=l.reduce(function(x,p){return[Math.min(x[0],p.coordinate),Math.max(x[1],p.coordinate)]},[1/0,-1/0]),f=Xr(a,i,u[0],o),m=Xr(a,i,u[1],o),h=qu(qu(qu({},Nt(d,!1)),{},{fill:"none"},Nt(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return z.createElement("line",Ig({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=R6(a,$Ie),f=this.getTickTextAnchor(),m=Nt(u,!1),h=Nt(o,!1),x=i.map(function(p,g){var j=s.getTickValueCoord(p),y=qu(qu(qu(qu({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(j.x,", ").concat(j.y,")")},m),{},{stroke:"none",fill:d},h),{},{index:g},j),{},{payload:p});return z.createElement(nr,Ig({className:Wt("recharts-polar-radius-axis-tick",DG(o)),key:"tick-".concat(p.coordinate)},Qf(s.props,p,g)),t.renderTickItem(o,y,c?c(p.value,g):p.value))});return z.createElement(nr,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.axisLine,o=s.tick;return!a||!a.length?null:z.createElement(nr,{className:Wt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),ks.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return z.isValidElement(s)?o=z.cloneElement(s,a):It(s)?o=s(a):o=z.createElement(Zf,Ig({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(v.PureComponent);P2(k2,"displayName","PolarRadiusAxis");P2(k2,"axisType","radiusAxis");P2(k2,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function sf(){return sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},sf.apply(this,arguments)}function F6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Gu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F6(Object(r),!0).forEach(function(s){T2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function GIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,QG(s.key),s)}}function KIe(e,t,r){return t&&$6(e.prototype,t),r&&$6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function YIe(e,t,r){return t=sw(t),XIe(e,XG()?Reflect.construct(t,r||[],sw(e).constructor):t.apply(e,r))}function XIe(e,t){if(t&&(pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QIe(e)}function QIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XG=function(){return!!e})()}function sw(e){return sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sw(e)}function ZIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OA(e,t)}function OA(e,t){return OA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},OA(e,t)}function T2(e,t,r){return t=QG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QG(e){var t=JIe(e,"string");return pp(t)=="symbol"?t:t+""}function JIe(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(pp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eRe=Math.PI/180,L6=1e-5,O2=function(e){function t(){return GIe(this,t),YIe(this,t,arguments)}return ZIe(t,e),KIe(t,[{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,f=Xr(i,o,l,s.coordinate),m=Xr(i,o,l+(c==="inner"?-1:1)*u,s.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(s){var a=this.props.orientation,i=Math.cos(-s.coordinate*eRe),o;return i>L6?o=a==="outer"?"start":"end":i<-L6?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,d=Gu(Gu({},Nt(this.props,!1)),{},{fill:"none"},Nt(l,!1));if(c==="circle")return z.createElement(xy,sf({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,f=u.map(function(m){return Xr(a,i,o,m.coordinate)});return z.createElement(pIe,sf({className:"recharts-polar-angle-axis-line"},d,{points:f}))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=Nt(this.props,!1),f=Nt(o,!1),m=Gu(Gu({},u),{},{fill:"none"},Nt(l,!1)),h=i.map(function(x,p){var g=s.getTickLineCoord(x),j=s.getTickTextAnchor(x),y=Gu(Gu(Gu({textAnchor:j},u),{},{stroke:"none",fill:d},f),{},{index:p,payload:x,x:g.x2,y:g.y2});return z.createElement(nr,sf({className:Wt("recharts-polar-angle-axis-tick",DG(o)),key:"tick-".concat(x.coordinate)},Qf(s.props,x,p)),l&&z.createElement("line",sf({className:"recharts-polar-angle-axis-tick-line"},m,g)),o&&t.renderTickItem(o,y,c?c(x.value,p):x.value))});return z.createElement(nr,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.radius,o=s.axisLine;return i<=0||!a||!a.length?null:z.createElement(nr,{className:Wt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,a,i){var o;return z.isValidElement(s)?o=z.cloneElement(s,a):It(s)?o=s(a):o=z.createElement(Zf,sf({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(v.PureComponent);T2(O2,"displayName","PolarAngleAxis");T2(O2,"axisType","angleAxis");T2(O2,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var tRe=eq,rRe=tRe(Object.getPrototypeOf,Object),nRe=rRe,sRe=fd,aRe=nRe,iRe=md,oRe="[object Object]",lRe=Function.prototype,cRe=Object.prototype,ZG=lRe.toString,dRe=cRe.hasOwnProperty,uRe=ZG.call(Object);function fRe(e){if(!iRe(e)||sRe(e)!=oRe)return!1;var t=aRe(e);if(t===null)return!0;var r=dRe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&ZG.call(r)==uRe}var mRe=fRe;const hRe=Ar(mRe);var pRe=fd,xRe=md,gRe="[object Boolean]";function vRe(e){return e===!0||e===!1||xRe(e)&&pRe(e)==gRe}var yRe=vRe;const jRe=Ar(yRe);function X0(e){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X0(e)}function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},aw.apply(this,arguments)}function bRe(e,t){return SRe(e)||_Re(e,t)||NRe(e,t)||wRe()}function wRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NRe(e,t){if(e){if(typeof e=="string")return B6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B6(e,t)}}function B6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function _Re(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function SRe(e){if(Array.isArray(e))return e}function U6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function V6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U6(Object(r),!0).forEach(function(s){CRe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function CRe(e,t,r){return t=ERe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ERe(e){var t=ARe(e,"string");return X0(t)=="symbol"?t:t+""}function ARe(e,t){if(X0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(X0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z6=function(t,r,s,a,i){var o=s-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+s,",").concat(r),l+="L ".concat(t+s-o/2,",").concat(r+i),l+="L ".concat(t+s-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},PRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kRe=function(t){var r=V6(V6({},PRe),t),s=v.useRef(),a=v.useState(-1),i=bRe(a,2),o=i[0],l=i[1];v.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var w=s.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,f=r.lowerWidth,m=r.height,h=r.className,x=r.animationEasing,p=r.animationDuration,g=r.animationBegin,j=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||m!==+m||u===0&&f===0||m===0)return null;var y=Wt("recharts-trapezoid",h);return j?z.createElement(ml,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:d},to:{upperWidth:u,lowerWidth:f,height:m,x:c,y:d},duration:p,animationEasing:x,isActive:j},function(w){var b=w.upperWidth,N=w.lowerWidth,S=w.height,_=w.x,E=w.y;return z.createElement(ml,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,easing:x},z.createElement("path",aw({},Nt(r,!0),{className:y,d:z6(_,E,b,N,S),ref:s})))}):z.createElement("g",null,z.createElement("path",aw({},Nt(r,!0),{className:y,d:z6(c,d,u,f,m)})))},TRe=["option","shapeType","propTransformer","activeClassName","isActive"];function Q0(e){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q0(e)}function ORe(e,t){if(e==null)return{};var r=DRe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function DRe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function W6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function iw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W6(Object(r),!0).forEach(function(s){IRe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function IRe(e,t,r){return t=RRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RRe(e){var t=MRe(e,"string");return Q0(t)=="symbol"?t:t+""}function MRe(e,t){if(Q0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Q0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FRe(e,t){return iw(iw({},t),e)}function $Re(e,t){return e==="symbols"}function H6(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return z.createElement(WO,r);case"trapezoid":return z.createElement(kRe,r);case"sector":return z.createElement(MG,r);case"symbols":if($Re(t))return z.createElement(cO,r);break;default:return null}}function LRe(e){return v.isValidElement(e)?e.props:e}function JG(e){var t=e.option,r=e.shapeType,s=e.propTransformer,a=s===void 0?FRe:s,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=ORe(e,TRe),d;if(v.isValidElement(t))d=v.cloneElement(t,iw(iw({},c),LRe(t)));else if(It(t))d=t(c);else if(hRe(t)&&!jRe(t)){var u=a(t,c);d=z.createElement(H6,{shapeType:r,elementProps:u})}else{var f=c;d=z.createElement(H6,{shapeType:r,elementProps:f})}return l?z.createElement(nr,{className:o},d):d}function D2(e,t){return t!=null&&"trapezoids"in e.props}function I2(e,t){return t!=null&&"sectors"in e.props}function Z0(e,t){return t!=null&&"points"in e.props}function BRe(e,t){var r,s,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return a&&i}function URe(e,t){var r=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return r&&s}function VRe(e,t){var r=e.x===t.x,s=e.y===t.y,a=e.z===t.z;return r&&s&&a}function zRe(e,t){var r;return D2(e,t)?r=BRe:I2(e,t)?r=URe:Z0(e,t)&&(r=VRe),r}function WRe(e,t){var r;return D2(e,t)?r="trapezoids":I2(e,t)?r="sectors":Z0(e,t)&&(r="points"),r}function HRe(e,t){if(D2(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(I2(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return Z0(e,t)?t.payload:{}}function qRe(e){var t=e.activeTooltipItem,r=e.graphicalItem,s=e.itemData,a=WRe(r,t),i=HRe(r,t),o=s.filter(function(c,d){var u=Jf(i,c),f=r.props[a].filter(function(x){var p=zRe(r,t);return p(x,t)}),m=r.props[a].indexOf(f[f.length-1]),h=d===m;return u&&h}),l=s.indexOf(o[o.length-1]);return l}var fb;function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function sh(){return sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},sh.apply(this,arguments)}function q6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q6(Object(r),!0).forEach(function(s){go(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function GRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,tK(s.key),s)}}function KRe(e,t,r){return t&&G6(e.prototype,t),r&&G6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function YRe(e,t,r){return t=ow(t),XRe(e,eK()?Reflect.construct(t,r||[],ow(e).constructor):t.apply(e,r))}function XRe(e,t){if(t&&(xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QRe(e)}function QRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eK=function(){return!!e})()}function ow(e){return ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ow(e)}function ZRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DA(e,t)}function DA(e,t){return DA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},DA(e,t)}function go(e,t,r){return t=tK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tK(e){var t=JRe(e,"string");return xp(t)=="symbol"?t:t+""}function JRe(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(xp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vi=function(e){function t(r){var s;return GRe(this,t),s=YRe(this,t,[r]),go(s,"pieRef",null),go(s,"sectorRefs",[]),go(s,"id",pm("recharts-pie-")),go(s,"handleAnimationEnd",function(){var a=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),It(a)&&a()}),go(s,"handleAnimationStart",function(){var a=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),It(a)&&a()}),s.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},s}return ZRe(t,e),KRe(t,[{key:"isActiveIndex",value:function(s){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(s)!==-1:s===a}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=Nt(this.props,!1),f=Nt(o,!1),m=Nt(l,!1),h=o&&o.offsetRadius||20,x=s.map(function(p,g){var j=(p.startAngle+p.endAngle)/2,y=Xr(p.cx,p.cy,p.outerRadius+h,j),w=Gr(Gr(Gr(Gr({},u),p),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(y.x,p.cx)},y),b=Gr(Gr(Gr(Gr({},u),p),{},{fill:"none",stroke:p.fill},m),{},{index:g,points:[Xr(p.cx,p.cy,p.outerRadius,j),y]}),N=c;return Ut(c)&&Ut(d)?N="value":Ut(c)&&(N=d),z.createElement(nr,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(g)},l&&t.renderLabelLineItem(l,b,"line"),t.renderLabelItem(o,w,Gn(p,N)))});return z.createElement(nr,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(s){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return s.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&s.length!==1)return null;var f=a.isActiveIndex(u),m=c&&a.hasActiveIndex()?c:null,h=f?o:m,x=Gr(Gr({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return z.createElement(nr,sh({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Qf(a.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),z.createElement(JG,sh({option:h,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,f=this.state,m=f.prevSectors,h=f.prevIsAnimationActive;return z.createElement(ml,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var p=x.t,g=[],j=i&&i[0],y=j.startAngle;return i.forEach(function(w,b){var N=m&&m[b],S=b>0?Bi(w,"paddingAngle",0):0;if(N){var _=vs(N.endAngle-N.startAngle,w.endAngle-w.startAngle),E=Gr(Gr({},w),{},{startAngle:y+S,endAngle:y+_(p)+S});g.push(E),y=E.endAngle}else{var A=w.endAngle,k=w.startAngle,D=vs(0,A-k),I=D(p),W=Gr(Gr({},w),{},{startAngle:y+S,endAngle:y+I+S});g.push(W),y=W.endAngle}}),z.createElement(nr,null,s.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(s){var a=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,a=s.sectors,i=s.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Jf(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,f=a.innerRadius,m=a.outerRadius,h=a.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!Xe(d)||!Xe(u)||!Xe(f)||!Xe(m))return null;var p=Wt("recharts-pie",l);return z.createElement(nr,{tabIndex:this.props.rootTabIndex,className:p,ref:function(j){s.pieRef=j}},this.renderSectors(),c&&this.renderLabels(o),ks.renderCallByParent(this.props,null,!1),(!h||x)&&Ql.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return a.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:s.sectors!==a.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,a){return s>a?"start":s<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,a,i){if(z.isValidElement(s))return z.cloneElement(s,a);if(It(s))return s(a);var o=Wt("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return z.createElement(Df,sh({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,a,i){if(z.isValidElement(s))return z.cloneElement(s,a);var o=i;if(It(s)&&(o=s(a),z.isValidElement(o)))return o;var l=Wt("recharts-pie-label-text",typeof s!="boolean"&&!It(s)?s.className:"");return z.createElement(Zf,sh({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(v.PureComponent);fb=Vi;go(Vi,"displayName","Pie");go(Vi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ll.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});go(Vi,"parseDeltaAngle",function(e,t){var r=Da(t-e),s=Math.min(Math.abs(t-e),360);return r*s});go(Vi,"getRealPieData",function(e){var t=e.data,r=e.children,s=Nt(e,!1),a=Ui(r,Ca);return t&&t.length?t.map(function(i,o){return Gr(Gr(Gr({payload:i},s),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Gr(Gr({},s),i.props)}):[]});go(Vi,"parseCoordinateOfPie",function(e,t){var r=t.top,s=t.left,a=t.width,i=t.height,o=OG(a,i),l=s+Ia(e.cx,a,a/2),c=r+Ia(e.cy,i,i/2),d=Ia(e.innerRadius,o,0),u=Ia(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:f}});go(Vi,"getComposedData",function(e){var t=e.item,r=e.offset,s=t.type.defaultProps!==void 0?Gr(Gr({},t.type.defaultProps),t.props):t.props,a=fb.getRealPieData(s);if(!a||!a.length)return null;var i=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,d=s.dataKey,u=s.nameKey,f=s.valueKey,m=s.tooltipType,h=Math.abs(s.minAngle),x=fb.parseCoordinateOfPie(s,r),p=fb.parseDeltaAngle(o,l),g=Math.abs(p),j=d;Ut(d)&&Ut(f)?(il(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):Ut(d)&&(il(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=f);var y=a.filter(function(E){return Gn(E,j,0)!==0}).length,w=(g>=360?y:y-1)*c,b=g-y*h-w,N=a.reduce(function(E,A){var k=Gn(A,j,0);return E+(Xe(k)?k:0)},0),S;if(N>0){var _;S=a.map(function(E,A){var k=Gn(E,j,0),D=Gn(E,u,A),I=(Xe(k)?k:0)/N,W;A?W=_.endAngle+Da(p)*c*(k!==0?1:0):W=o;var H=W+Da(p)*((k!==0?h:0)+I*b),F=(W+H)/2,T=(x.innerRadius+x.outerRadius)/2,P=[{name:D,value:k,payload:E,dataKey:j,type:m}],M=Xr(x.cx,x.cy,T,F);return _=Gr(Gr(Gr({percent:I,cornerRadius:i,name:D,tooltipPayload:P,midAngle:F,middleRadius:T,tooltipPosition:M},E),x),{},{value:Gn(E,j),startAngle:W,endAngle:H,payload:E,paddingAngle:Da(p)*c}),_})}return Gr(Gr({},x),{},{sectors:S,data:a})});var eMe=Math.ceil,tMe=Math.max;function rMe(e,t,r,s){for(var a=-1,i=tMe(eMe((t-e)/(r||1)),0),o=Array(i);i--;)o[s?i:++a]=e,e+=r;return o}var nMe=rMe,sMe=yq,K6=1/0,aMe=17976931348623157e292;function iMe(e){if(!e)return e===0?e:0;if(e=sMe(e),e===K6||e===-K6){var t=e<0?-1:1;return t*aMe}return e===e?e:0}var rK=iMe,oMe=nMe,lMe=v2,qS=rK;function cMe(e){return function(t,r,s){return s&&typeof s!="number"&&lMe(t,r,s)&&(r=s=void 0),t=qS(t),r===void 0?(r=t,t=0):r=qS(r),s=s===void 0?t<r?1:-1:qS(s),oMe(t,r,s,e)}}var dMe=cMe,uMe=dMe,fMe=uMe(),mMe=fMe;const lw=Ar(mMe);function J0(e){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J0(e)}function Y6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function X6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y6(Object(r),!0).forEach(function(s){nK(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function nK(e,t,r){return t=hMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hMe(e){var t=pMe(e,"string");return J0(t)=="symbol"?t:t+""}function pMe(e,t){if(J0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(J0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xMe=["Webkit","Moz","O","ms"],gMe=function(t,r){var s=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=xMe.reduce(function(i,o){return X6(X6({},i),{},nK({},o+s,r))},{});return a[t]=r,a};function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},cw.apply(this,arguments)}function Q6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function GS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q6(Object(r),!0).forEach(function(s){Si(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function vMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,aK(s.key),s)}}function yMe(e,t,r){return t&&Z6(e.prototype,t),r&&Z6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jMe(e,t,r){return t=dw(t),bMe(e,sK()?Reflect.construct(t,r||[],dw(e).constructor):t.apply(e,r))}function bMe(e,t){if(t&&(gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wMe(e)}function wMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sK=function(){return!!e})()}function dw(e){return dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dw(e)}function NMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IA(e,t)}function IA(e,t){return IA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},IA(e,t)}function Si(e,t,r){return t=aK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aK(e){var t=_Me(e,"string");return gp(t)=="symbol"?t:t+""}function _Me(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(gp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SMe=function(t){var r=t.data,s=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=kg().domain(lw(0,c)).range([i,i+o-l]),u=d.domain().map(function(f){return d(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(s),endX:d(a),scale:d,scaleValues:u}},J6=function(t){return t.changedTouches&&!!t.changedTouches.length},vp=function(e){function t(r){var s;return vMe(this,t),s=jMe(this,t,[r]),Si(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),Si(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),Si(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),Si(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),Si(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),Si(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),Si(s,"handleSlideDragStart",function(a){var i=J6(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return NMe(t,e),yMe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,f=Math.min(a,i),m=Math.max(a,i),h=t.getIndexInRange(o,f),x=t.getIndexInRange(o,m);return{startIndex:h-h%c,endIndex:x===u?u:x-x%c}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Gn(i[s],l,s);return It(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,f=c.travellerWidth,m=c.startIndex,h=c.endIndex,x=c.onChange,p=s.pageX-i;p>0?p=Math.min(p,d+u-f-l,d+u-f-o):p<0&&(p=Math.max(p,d-o,d-l));var g=this.getIndex({startX:o+p,endX:l+p});(g.startIndex!==m||g.endIndex!==h)&&x&&x(g),this.setState({startX:o+p,endX:l+p,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=J6(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,f=u.x,m=u.width,h=u.travellerWidth,x=u.onChange,p=u.gap,g=u.data,j={startX:this.state.startX,endX:this.state.endX},y=s.pageX-i;y>0?y=Math.min(y,f+m-h-d):y<0&&(y=Math.max(y,f-d)),j[o]=d+y;var w=this.getIndex(j),b=w.startIndex,N=w.endIndex,S=function(){var E=g.length-1;return o==="startX"&&(l>c?b%p===0:N%p===0)||l<c&&N===E||o==="endX"&&(l>c?N%p===0:b%p===0)||l>c&&N===E};this.setState(Si(Si({},o,d+y),"brushMoveStartX",s.pageX),function(){x&&S()&&x(w)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],f=l.indexOf(u);if(f!==-1){var m=f+s;if(!(m===-1||m>=l.length)){var h=l[m];a==="startX"&&h>=d||a==="endX"&&h<=c||this.setState(Si({},a,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.fill,d=s.stroke;return z.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.data,d=s.children,u=s.padding,f=v.Children.only(d);return f?z.cloneElement(f,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,f=c.height,m=c.traveller,h=c.ariaLabel,x=c.data,p=c.startIndex,g=c.endIndex,j=Math.max(s,this.props.x),y=GS(GS({},Nt(this.props,!1)),{},{x:j,y:d,width:u,height:f}),w=h||"Min value: ".concat((i=x[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[g])===null||o===void 0?void 0:o.name);return z.createElement(nr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,y))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(s,a)+d,f=Math.max(Math.abs(a-s)-d,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:f,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,d=s.stroke,u=this.state,f=u.startX,m=u.endX,h=5,x={pointerEvents:"none",fill:d};return z.createElement(nr,{className:"recharts-brush-texts"},z.createElement(Zf,cw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-h,y:o+l/2},x),this.getTextOfTick(a)),z.createElement(Zf,cw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+h,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,c=s.y,d=s.width,u=s.height,f=s.alwaysShowText,m=this.state,h=m.startX,x=m.endX,p=m.isTextActive,g=m.isSlideMoving,j=m.isTravellerMoving,y=m.isTravellerFocused;if(!a||!a.length||!Xe(l)||!Xe(c)||!Xe(d)||!Xe(u)||d<=0||u<=0)return null;var w=Wt("recharts-brush",i),b=z.Children.count(o)===1,N=gMe("userSelect","none");return z.createElement(nr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),b&&this.renderPanorama(),this.renderSlide(h,x),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(x,"endX"),(p||g||j||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.stroke,d=Math.floor(i+l/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),z.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return z.isValidElement(s)?i=z.cloneElement(s,a):It(s)?i=s(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,c=s.travellerWidth,d=s.updateId,u=s.startIndex,f=s.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return GS({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?SMe({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var m=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>a?l=c:o=c}return a>=s[l]?l:o}}])}(v.PureComponent);Si(vp,"displayName","Brush");Si(vp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var CMe=xO;function EMe(e,t){var r;return CMe(e,function(s,a,i){return r=t(s,a,i),!r}),!!r}var AMe=EMe,PMe=qH,kMe=dc,TMe=AMe,OMe=yi,DMe=v2;function IMe(e,t,r){var s=OMe(e)?PMe:TMe;return r&&DMe(e,t,r)&&(t=void 0),s(e,kMe(t))}var RMe=IMe;const MMe=Ar(RMe);var Zl=function(t,r){var s=t.alwaysShow,a=t.ifOverflow;return s&&(a="extendDomain"),a===r},e$=hq;function FMe(e,t,r){t=="__proto__"&&e$?e$(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var $Me=FMe,LMe=$Me,BMe=fq,UMe=dc;function VMe(e,t){var r={};return t=UMe(t),BMe(e,function(s,a,i){LMe(r,a,t(s,a,i))}),r}var zMe=VMe;const WMe=Ar(zMe);function HMe(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(!t(e[r],r,e))return!1;return!0}var qMe=HMe,GMe=xO;function KMe(e,t){var r=!0;return GMe(e,function(s,a,i){return r=!!t(s,a,i),r}),r}var YMe=KMe,XMe=qMe,QMe=YMe,ZMe=dc,JMe=yi,eFe=v2;function tFe(e,t,r){var s=JMe(e)?XMe:QMe;return r&&eFe(e,t,r)&&(t=void 0),s(e,ZMe(t))}var rFe=tFe;const iK=Ar(rFe);var nFe=["x","y"];function ev(e){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev(e)}function RA(){return RA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},RA.apply(this,arguments)}function t$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Qx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t$(Object(r),!0).forEach(function(s){sFe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function sFe(e,t,r){return t=aFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aFe(e){var t=iFe(e,"string");return ev(t)=="symbol"?t:t+""}function iFe(e,t){if(ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ev(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oFe(e,t){if(e==null)return{};var r=lFe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function lFe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function cFe(e,t){var r=e.x,s=e.y,a=oFe(e,nFe),i="".concat(r),o=parseInt(i,10),l="".concat(s),c=parseInt(l,10),d="".concat(t.height||a.height),u=parseInt(d,10),f="".concat(t.width||a.width),m=parseInt(f,10);return Qx(Qx(Qx(Qx(Qx({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:m,name:t.name,radius:t.radius})}function r$(e){return z.createElement(JG,RA({shapeType:"rectangle",propTransformer:cFe,activeClassName:"recharts-active-bar"},e))}var dFe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof t=="number")return t;var i=typeof s=="number";return i?t(s,a):(i||_u(),r)}},uFe=["value","background"],oK;function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function fFe(e,t){if(e==null)return{};var r=mFe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function mFe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},uw.apply(this,arguments)}function n$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n$(Object(r),!0).forEach(function(s){Yd(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function hFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,cK(s.key),s)}}function pFe(e,t,r){return t&&s$(e.prototype,t),r&&s$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xFe(e,t,r){return t=fw(t),gFe(e,lK()?Reflect.construct(t,r||[],fw(e).constructor):t.apply(e,r))}function gFe(e,t){if(t&&(yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vFe(e)}function vFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lK=function(){return!!e})()}function fw(e){return fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fw(e)}function yFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MA(e,t)}function MA(e,t){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},MA(e,t)}function Yd(e,t,r){return t=cK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cK(e){var t=jFe(e,"string");return yp(t)=="symbol"?t:t+""}function jFe(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(yp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sn=function(e){function t(){var r;hFe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=xFe(this,t,[].concat(a)),Yd(r,"state",{isAnimationFinished:!1}),Yd(r,"id",pm("recharts-bar-")),Yd(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Yd(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return yFe(t,e),pFe(t,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=Nt(this.props,!1);return s&&s.map(function(f,m){var h=m===c,x=h?d:o,p=rs(rs(rs({},u),f),{},{isActive:h,option:x,index:m,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return z.createElement(nr,uw({className:"recharts-bar-rectangle"},Qf(a.props,f,m),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),z.createElement(r$,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,f=a.animationId,m=this.state.prevData;return z.createElement(ml,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var x=h.t,p=i.map(function(g,j){var y=m&&m[j];if(y){var w=vs(y.x,g.x),b=vs(y.y,g.y),N=vs(y.width,g.width),S=vs(y.height,g.height);return rs(rs({},g),{},{x:w(x),y:b(x),width:N(x),height:S(x)})}if(o==="horizontal"){var _=vs(0,g.height),E=_(x);return rs(rs({},g),{},{y:g.y+g.height-E,height:E})}var A=vs(0,g.width),k=A(x);return rs(rs({},g),{},{width:k})});return z.createElement(nr,null,s.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Jf(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Nt(this.props.background,!1);return i.map(function(d,u){d.value;var f=d.background,m=fFe(d,uFe);if(!f)return null;var h=rs(rs(rs(rs(rs({},m),{},{fill:"#eee"},f),c),Qf(s.props,d,u)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return z.createElement(r$,uw({key:"background-bar-".concat(u),option:s.props.background,isActive:u===l},h))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,f=Ui(u,py);if(!f)return null;var m=d==="vertical"?o[0].height/2:o[0].width/2,h=function(g,j){var y=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:y,errorVal:Gn(g,j)}},x={clipPath:s?"url(#clipPath-".concat(a,")"):null};return z.createElement(nr,x,f.map(function(p){return z.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:m,dataPointFormatter:h})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,c=s.yAxis,d=s.left,u=s.top,f=s.width,m=s.height,h=s.isAnimationActive,x=s.background,p=s.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,j=Wt("recharts-bar",o),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,b=y||w,N=Ut(p)?this.id:p;return z.createElement(nr,{className:j},y||w?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(N)},z.createElement("rect",{x:y?d:d-f/2,y:w?u:u-m/2,width:y?f:f*2,height:w?m:m*2}))):null,z.createElement(nr,{className:"recharts-bar-rectangles",clipPath:b?"url(#clipPath-".concat(N,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(b,N),(!h||g)&&Ql.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])}(v.PureComponent);oK=Sn;Yd(Sn,"displayName","Bar");Yd(Sn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ll.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Yd(Sn,"getComposedData",function(e){var t=e.props,r=e.item,s=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,m=e.offset,h=d3e(s,r);if(!h)return null;var x=t.layout,p=r.type.defaultProps,g=p!==void 0?rs(rs({},p),r.props):r.props,j=g.dataKey,y=g.children,w=g.minPointSize,b=x==="horizontal"?o:i,N=d?b.scale.domain():null,S=g3e({numericAxis:b}),_=Ui(y,Ca),E=f.map(function(A,k){var D,I,W,H,F,T;d?D=u3e(d[u+k],N):(D=Gn(A,j),Array.isArray(D)||(D=[S,D]));var P=dFe(w,oK.defaultProps.minPointSize)(D[1],k);if(x==="horizontal"){var M,O=[o.scale(D[0]),o.scale(D[1])],K=O[0],ne=O[1];I=GF({axis:i,ticks:l,bandSize:a,offset:h.offset,entry:A,index:k}),W=(M=ne??K)!==null&&M!==void 0?M:void 0,H=h.size;var R=K-ne;if(F=Number.isNaN(R)?0:R,T={x:I,y:o.y,width:H,height:o.height},Math.abs(P)>0&&Math.abs(F)<Math.abs(P)){var V=Da(F||P)*(Math.abs(P)-Math.abs(F));W-=V,F+=V}}else{var L=[i.scale(D[0]),i.scale(D[1])],G=L[0],le=L[1];if(I=G,W=GF({axis:o,ticks:c,bandSize:a,offset:h.offset,entry:A,index:k}),H=le-G,F=h.size,T={x:i.x,y:W,width:i.width,height:F},Math.abs(P)>0&&Math.abs(H)<Math.abs(P)){var fe=Da(H||P)*(Math.abs(P)-Math.abs(H));H+=fe}}return rs(rs(rs({},A),{},{x:I,y:W,width:H,height:F,value:d?D:D[1],payload:A,background:T},_&&_[k]&&_[k].props),{},{tooltipPayload:[kG(r,A)],tooltipPosition:{x:I+H/2,y:W+F/2}})});return rs({data:E,layout:x},m)});function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}function bFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,dK(s.key),s)}}function wFe(e,t,r){return t&&a$(e.prototype,t),r&&a$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Go(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i$(Object(r),!0).forEach(function(s){R2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function R2(e,t,r){return t=dK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dK(e){var t=NFe(e,"string");return tv(t)=="symbol"?t:t+""}function NFe(e,t){if(tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(tv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HO=function(t,r,s,a,i){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(r),f={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},m=!!ki(d,Sn);return u.reduce(function(h,x){var p=r[x],g=p.orientation,j=p.domain,y=p.padding,w=y===void 0?{}:y,b=p.mirror,N=p.reversed,S="".concat(g).concat(b?"Mirror":""),_,E,A,k,D;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var I=j[1]-j[0],W=1/0,H=p.categoricalDomain.sort();if(H.forEach(function(L,G){G>0&&(W=Math.min((L||0)-(H[G-1]||0),W))}),Number.isFinite(W)){var F=W/I,T=p.layout==="vertical"?s.height:s.width;if(p.padding==="gap"&&(_=F*T/2),p.padding==="no-gap"){var P=Ia(t.barCategoryGap,F*T),M=F*T/2;_=M-P-(M-P)/T*P}}}a==="xAxis"?E=[s.left+(w.left||0)+(_||0),s.left+s.width-(w.right||0)-(_||0)]:a==="yAxis"?E=c==="horizontal"?[s.top+s.height-(w.bottom||0),s.top+(w.top||0)]:[s.top+(w.top||0)+(_||0),s.top+s.height-(w.bottom||0)-(_||0)]:E=p.range,N&&(E=[E[1],E[0]]);var O=CG(p,i,m),K=O.scale,ne=O.realScaleType;K.domain(j).range(E),EG(K);var R=AG(K,Go(Go({},p),{},{realScaleType:ne}));a==="xAxis"?(D=g==="top"&&!b||g==="bottom"&&b,A=s.left,k=f[S]-D*p.height):a==="yAxis"&&(D=g==="left"&&!b||g==="right"&&b,A=f[S]-D*p.width,k=s.top);var V=Go(Go(Go({},p),R),{},{realScaleType:ne,x:A,y:k,scale:K,width:a==="xAxis"?s.width:p.width,height:a==="yAxis"?s.height:p.height});return V.bandSize=X1(V,R),!p.hide&&a==="xAxis"?f[S]+=(D?-1:1)*V.height:p.hide||(f[S]+=(D?-1:1)*V.width),Go(Go({},h),{},R2({},x,V))},{})},uK=function(t,r){var s=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},_Fe=function(t){var r=t.x1,s=t.y1,a=t.x2,i=t.y2;return uK({x:r,y:s},{x:a,y:i})},fK=function(){function e(t){bFe(this,e),this.scale=t}return wFe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();R2(fK,"EPS",1e-4);var qO=function(t){var r=Object.keys(t).reduce(function(s,a){return Go(Go({},s),{},R2({},a,fK.create(t[a])))},{});return Go(Go({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return WMe(a,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return iK(a,function(i,o){return r[o].isInRange(i)})}})};function SFe(e){return(e%180+180)%180}var CFe=function(t){var r=t.width,s=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=SFe(a),o=i*Math.PI/180,l=Math.atan(s/r),c=o>l&&o<Math.PI-l?s/Math.sin(o):r/Math.cos(o);return Math.abs(c)},EFe=dc,AFe=dy,PFe=x2;function kFe(e){return function(t,r,s){var a=Object(t);if(!AFe(t)){var i=EFe(r);t=PFe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,s);return o>-1?a[i?t[o]:o]:void 0}}var TFe=kFe,OFe=rK;function DFe(e){var t=OFe(e),r=t%1;return t===t?r?t-r:t:0}var IFe=DFe,RFe=iq,MFe=dc,FFe=IFe,$Fe=Math.max;function LFe(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var a=r==null?0:FFe(r);return a<0&&(a=$Fe(s+a,0)),RFe(e,MFe(t),a)}var BFe=LFe,UFe=TFe,VFe=BFe,zFe=UFe(VFe),WFe=zFe;const HFe=Ar(WFe);var qFe=Jye(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),GO=v.createContext(void 0),KO=v.createContext(void 0),mK=v.createContext(void 0),hK=v.createContext({}),pK=v.createContext(void 0),xK=v.createContext(0),gK=v.createContext(0),o$=function(t){var r=t.state,s=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=qFe(i);return z.createElement(GO.Provider,{value:s},z.createElement(KO.Provider,{value:a},z.createElement(hK.Provider,{value:i},z.createElement(mK.Provider,{value:u},z.createElement(pK.Provider,{value:o},z.createElement(xK.Provider,{value:d},z.createElement(gK.Provider,{value:c},l)))))))},GFe=function(){return v.useContext(pK)},vK=function(t){var r=v.useContext(GO);r==null&&_u();var s=r[t];return s==null&&_u(),s},KFe=function(){var t=v.useContext(GO);return Rd(t)},YFe=function(){var t=v.useContext(KO),r=HFe(t,function(s){return iK(s.domain,Number.isFinite)});return r||Rd(t)},yK=function(t){var r=v.useContext(KO);r==null&&_u();var s=r[t];return s==null&&_u(),s},XFe=function(){var t=v.useContext(mK);return t},QFe=function(){return v.useContext(hK)},YO=function(){return v.useContext(gK)},XO=function(){return v.useContext(xK)};function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function ZFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JFe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,bK(s.key),s)}}function e6e(e,t,r){return t&&JFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t6e(e,t,r){return t=mw(t),r6e(e,jK()?Reflect.construct(t,r||[],mw(e).constructor):t.apply(e,r))}function r6e(e,t){if(t&&(jp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n6e(e)}function n6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jK=function(){return!!e})()}function mw(e){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(e)}function s6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FA(e,t)}function FA(e,t){return FA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},FA(e,t)}function l$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function c$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l$(Object(r),!0).forEach(function(s){QO(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function QO(e,t,r){return t=bK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bK(e){var t=a6e(e,"string");return jp(t)=="symbol"?t:t+""}function a6e(e,t){if(jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(jp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i6e(e,t){return d6e(e)||c6e(e,t)||l6e(e,t)||o6e()}function o6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l6e(e,t){if(e){if(typeof e=="string")return d$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d$(e,t)}}function d$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function c6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function d6e(e){if(Array.isArray(e))return e}function $A(){return $A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},$A.apply(this,arguments)}var u6e=function(t,r){var s;return z.isValidElement(t)?s=z.cloneElement(t,r):It(t)?s=t(r):s=z.createElement("line",$A({},r,{className:"recharts-reference-line-line"})),s},f6e=function(t,r,s,a,i,o,l,c,d){var u=i.x,f=i.y,m=i.width,h=i.height;if(s){var x=d.y,p=t.y.apply(x,{position:o});if(Zl(d,"discard")&&!t.y.isInRange(p))return null;var g=[{x:u+m,y:p},{x:u,y:p}];return c==="left"?g.reverse():g}if(r){var j=d.x,y=t.x.apply(j,{position:o});if(Zl(d,"discard")&&!t.x.isInRange(y))return null;var w=[{x:y,y:f+h},{x:y,y:f}];return l==="top"?w.reverse():w}if(a){var b=d.segment,N=b.map(function(S){return t.apply(S,{position:o})});return Zl(d,"discard")&&MMe(N,function(S){return!t.isInRange(S)})?null:N}return null};function m6e(e){var t=e.x,r=e.y,s=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=GFe(),u=vK(a),f=yK(i),m=XFe();if(!d||!m)return null;il(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=qO({x:u.scale,y:f.scale}),x=_s(t),p=_s(r),g=s&&s.length===2,j=f6e(h,x,p,g,m,e.position,u.orientation,f.orientation,e);if(!j)return null;var y=i6e(j,2),w=y[0],b=w.x,N=w.y,S=y[1],_=S.x,E=S.y,A=Zl(e,"hidden")?"url(#".concat(d,")"):void 0,k=c$(c$({clipPath:A},Nt(e,!0)),{},{x1:b,y1:N,x2:_,y2:E});return z.createElement(nr,{className:Wt("recharts-reference-line",l)},u6e(o,k),ks.renderCallByParent(e,_Fe({x1:b,y1:N,x2:_,y2:E})))}var ZO=function(e){function t(){return ZFe(this,t),t6e(this,t,arguments)}return s6e(t,e),e6e(t,[{key:"render",value:function(){return z.createElement(m6e,this.props)}}])}(z.Component);QO(ZO,"displayName","ReferenceLine");QO(ZO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function LA(){return LA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},LA.apply(this,arguments)}function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function u$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function f$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u$(Object(r),!0).forEach(function(s){M2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function h6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p6e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,NK(s.key),s)}}function x6e(e,t,r){return t&&p6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g6e(e,t,r){return t=hw(t),v6e(e,wK()?Reflect.construct(t,r||[],hw(e).constructor):t.apply(e,r))}function v6e(e,t){if(t&&(bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y6e(e)}function y6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wK=function(){return!!e})()}function hw(e){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hw(e)}function j6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BA(e,t)}function BA(e,t){return BA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},BA(e,t)}function M2(e,t,r){return t=NK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NK(e){var t=b6e(e,"string");return bp(t)=="symbol"?t:t+""}function b6e(e,t){if(bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(bp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w6e=function(t){var r=t.x,s=t.y,a=t.xAxis,i=t.yAxis,o=qO({x:a.scale,y:i.scale}),l=o.apply({x:r,y:s},{bandAware:!0});return Zl(t,"discard")&&!o.isInRange(l)?null:l},F2=function(e){function t(){return h6e(this,t),g6e(this,t,arguments)}return j6e(t,e),x6e(t,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,d=_s(a),u=_s(i);if(il(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var f=w6e(this.props);if(!f)return null;var m=f.x,h=f.y,x=this.props,p=x.shape,g=x.className,j=Zl(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=f$(f$({clipPath:j},Nt(this.props,!0)),{},{cx:m,cy:h});return z.createElement(nr,{className:Wt("recharts-reference-dot",g)},t.renderDot(p,y),ks.renderCallByParent(this.props,{x:m-o,y:h-o,width:2*o,height:2*o}))}}])}(z.Component);M2(F2,"displayName","ReferenceDot");M2(F2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});M2(F2,"renderDot",function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):It(e)?r=e(t):r=z.createElement(xy,LA({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function UA(){return UA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},UA.apply(this,arguments)}function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function m$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function h$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m$(Object(r),!0).forEach(function(s){$2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function N6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _6e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,SK(s.key),s)}}function S6e(e,t,r){return t&&_6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function C6e(e,t,r){return t=pw(t),E6e(e,_K()?Reflect.construct(t,r||[],pw(e).constructor):t.apply(e,r))}function E6e(e,t){if(t&&(wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A6e(e)}function A6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _K(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_K=function(){return!!e})()}function pw(e){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pw(e)}function P6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VA(e,t)}function VA(e,t){return VA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},VA(e,t)}function $2(e,t,r){return t=SK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SK(e){var t=k6e(e,"string");return wp(t)=="symbol"?t:t+""}function k6e(e,t){if(wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(wp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T6e=function(t,r,s,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var m=qO({x:u.scale,y:f.scale}),h={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:s?m.y.apply(c,{position:"start"}):m.y.rangeMin},x={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(d,{position:"end"}):m.y.rangeMax};return Zl(i,"discard")&&(!m.isInRange(h)||!m.isInRange(x))?null:uK(h,x)},L2=function(e){function t(){return N6e(this,t),C6e(this,t,arguments)}return P6e(t,e),S6e(t,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,c=s.className,d=s.alwaysShow,u=s.clipPathId;il(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=_s(a),m=_s(i),h=_s(o),x=_s(l),p=this.props.shape;if(!f&&!m&&!h&&!x&&!p)return null;var g=T6e(f,m,h,x,this.props);if(!g&&!p)return null;var j=Zl(this.props,"hidden")?"url(#".concat(u,")"):void 0;return z.createElement(nr,{className:Wt("recharts-reference-area",c)},t.renderRect(p,h$(h$({clipPath:j},Nt(this.props,!0)),g)),ks.renderCallByParent(this.props,g))}}])}(z.Component);$2(L2,"displayName","ReferenceArea");$2(L2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});$2(L2,"renderRect",function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):It(e)?r=e(t):r=z.createElement(WO,UA({},t,{className:"recharts-reference-area-rect"})),r});function CK(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var s=[],a=0;a<e.length;a+=t)s.push(e[a]);return s}function O6e(e,t,r){var s={width:e.width+t.width,height:e.height+t.height};return CFe(s,r)}function D6e(e,t,r){var s=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function xw(e,t,r,s,a){if(e*t<e*s||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-s)>=0&&e*(t+e*i/2-a)<=0}function I6e(e,t){return CK(e,t+1)}function R6e(e,t,r,s,a){for(var i=(s||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,f=function(){var x=s==null?void 0:s[c];if(x===void 0)return{v:CK(s,d)};var p=c,g,j=function(){return g===void 0&&(g=r(x,p)),g},y=x.coordinate,w=c===0||xw(e,y,j,u,l);w||(c=0,u=o,d+=1),w&&(u=y+e*(j()/2+a),c+=d)},m;d<=i.length;)if(m=f(),m)return m.v;return[]}function rv(e){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rv(e)}function p$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function la(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p$(Object(r),!0).forEach(function(s){M6e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function M6e(e,t,r){return t=F6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F6e(e){var t=$6e(e,"string");return rv(t)=="symbol"?t:t+""}function $6e(e,t){if(rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(rv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L6e(e,t,r,s,a){for(var i=(s||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(m){var h=i[m],x,p=function(){return x===void 0&&(x=r(h,m)),x};if(m===o-1){var g=e*(h.coordinate+e*p()/2-c);i[m]=h=la(la({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate})}else i[m]=h=la(la({},h),{},{tickCoord:h.coordinate});var j=xw(e,h.tickCoord,p,l,c);j&&(c=h.tickCoord-e*(p()/2+a),i[m]=la(la({},h),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function B6e(e,t,r,s,a,i){var o=(s||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var u=s[l-1],f=r(u,l-1),m=e*(u.coordinate+e*f/2-d);o[l-1]=u=la(la({},u),{},{tickCoord:m>0?u.coordinate-m*e:u.coordinate});var h=xw(e,u.tickCoord,function(){return f},c,d);h&&(d=u.tickCoord-e*(f/2+a),o[l-1]=la(la({},u),{},{isShow:!0}))}for(var x=i?l-1:l,p=function(y){var w=o[y],b,N=function(){return b===void 0&&(b=r(w,y)),b};if(y===0){var S=e*(w.coordinate-e*N()/2-c);o[y]=w=la(la({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[y]=w=la(la({},w),{},{tickCoord:w.coordinate});var _=xw(e,w.tickCoord,N,c,d);_&&(c=w.tickCoord+e*(N()/2+a),o[y]=la(la({},w),{},{isShow:!0}))},g=0;g<x;g++)p(g);return o}function JO(e,t,r){var s=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!s)return[];if(Xe(c)||ll.isSsr)return I6e(a,typeof c=="number"&&Xe(c)?c:0);var m=[],h=l==="top"||l==="bottom"?"width":"height",x=u&&h==="width"?Pg(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,b){var N=It(d)?d(w.value,b):w.value;return h==="width"?O6e(Pg(N,{fontSize:t,letterSpacing:r}),x,f):Pg(N,{fontSize:t,letterSpacing:r})[h]},g=a.length>=2?Da(a[1].coordinate-a[0].coordinate):1,j=D6e(i,g,h);return c==="equidistantPreserveStart"?R6e(g,j,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=B6e(g,j,p,a,o,c==="preserveStartEnd"):m=L6e(g,j,p,a,o),m.filter(function(y){return y.isShow}))}var U6e=["viewBox"],V6e=["viewBox"],z6e=["ticks"];function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ah.apply(this,arguments)}function x$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x$(Object(r),!0).forEach(function(s){e3(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function KS(e,t){if(e==null)return{};var r=W6e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function W6e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function H6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,AK(s.key),s)}}function q6e(e,t,r){return t&&g$(e.prototype,t),r&&g$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function G6e(e,t,r){return t=gw(t),K6e(e,EK()?Reflect.construct(t,r||[],gw(e).constructor):t.apply(e,r))}function K6e(e,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y6e(e)}function Y6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EK=function(){return!!e})()}function gw(e){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gw(e)}function X6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zA(e,t)}function zA(e,t){return zA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},zA(e,t)}function e3(e,t,r){return t=AK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AK(e){var t=Q6e(e,"string");return Np(t)=="symbol"?t:t+""}function Q6e(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Np(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ux=function(e){function t(r){var s;return H6e(this,t),s=G6e(this,t,[r]),s.state={fontSize:"",letterSpacing:""},s}return X6e(t,e),q6e(t,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=KS(s,U6e),l=this.props,c=l.viewBox,d=KS(l,V6e);return!bh(i,c)||!bh(o,d)||!bh(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,f=a.mirror,m=a.tickMargin,h,x,p,g,j,y,w=f?-1:1,b=s.tickSize||u,N=Xe(s.tickCoord)?s.tickCoord:s.coordinate;switch(d){case"top":h=x=s.coordinate,g=o+ +!f*c,p=g-w*b,y=p-w*m,j=N;break;case"left":p=g=s.coordinate,x=i+ +!f*l,h=x-w*b,j=h-w*m,y=N;break;case"right":p=g=s.coordinate,x=i+ +f*l,h=x+w*b,j=h+w*m,y=N;break;default:h=x=s.coordinate,g=o+ +f*c,p=g+w*b,y=p+w*m,j=N;break}return{line:{x1:h,y1:p,x2:x,y2:g},tick:{x:j,y}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.orientation,d=s.mirror,u=s.axisLine,f=ja(ja(ja({},Nt(this.props,!1)),Nt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!d||c==="bottom"&&d);f=ja(ja({},f),{},{x1:a,y1:i+m*l,x2:a+o,y2:i+m*l})}else{var h=+(c==="left"&&!d||c==="right"&&d);f=ja(ja({},f),{},{x1:a+h*o,y1:i,x2:a+h*o,y2:i+l})}return z.createElement("line",ah({},f,{className:Wt("recharts-cartesian-axis-line",Bi(u,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,f=l.tickFormatter,m=l.unit,h=JO(ja(ja({},this.props),{},{ticks:s}),a,i),x=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),g=Nt(this.props,!1),j=Nt(u,!1),y=ja(ja({},g),{},{fill:"none"},Nt(c,!1)),w=h.map(function(b,N){var S=o.getTickLineCoord(b),_=S.line,E=S.tick,A=ja(ja(ja(ja({textAnchor:x,verticalAnchor:p},g),{},{stroke:"none",fill:d},j),E),{},{index:N,payload:b,visibleTicksCount:h.length,tickFormatter:f});return z.createElement(nr,ah({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},Qf(o.props,b,N)),c&&z.createElement("line",ah({},y,_,{className:Wt("recharts-cartesian-axis-tick-line",Bi(c,"className"))})),u&&t.renderTickItem(u,A,"".concat(It(f)?f(b.value,N):b.value).concat(m||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var f=this.props,m=f.ticks,h=KS(f,z6e),x=m;return It(c)&&(x=m&&m.length>0?c(this.props):c(h)),o<=0||l<=0||!x||!x.length?null:z.createElement(nr,{className:Wt("recharts-cartesian-axis",d),ref:function(g){s.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),ks.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return z.isValidElement(s)?o=z.cloneElement(s,a):It(s)?o=s(a):o=z.createElement(Zf,ah({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(v.Component);e3(ux,"displayName","CartesianAxis");e3(ux,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Z6e=["x1","y1","x2","y2","key"],J6e=["offset"];function tm(e){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(e)}function v$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v$(Object(r),!0).forEach(function(s){e$e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function e$e(e,t,r){return t=t$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t$e(e){var t=r$e(e,"string");return tm(t)=="symbol"?t:t+""}function r$e(e,t){if(tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(tm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},vf.apply(this,arguments)}function y$(e,t){if(e==null)return{};var r=n$e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function n$e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var s$e=function(t){var r=t.fill;if(!r||r==="none")return null;var s=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return z.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function PK(e,t){var r;if(z.isValidElement(e))r=z.cloneElement(e,t);else if(It(e))r=e(t);else{var s=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=y$(t,Z6e),d=Nt(c,!1);d.offset;var u=y$(d,J6e);r=z.createElement("line",vf({},u,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function a$e(e){var t=e.x,r=e.width,s=e.horizontal,a=s===void 0?!0:s,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=da(da({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return PK(a,d)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function i$e(e){var t=e.y,r=e.height,s=e.vertical,a=s===void 0?!0:s,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=da(da({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return PK(a,d)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function o$e(e){var t=e.horizontalFill,r=e.fillOpacity,s=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(m){return Math.round(m+a-a)}).sort(function(m,h){return m-h});a!==u[0]&&u.unshift(0);var f=u.map(function(m,h){var x=!u[h+1],p=x?a+o-m:u[h+1]-m;if(p<=0)return null;var g=h%t.length;return z.createElement("rect",{key:"react-".concat(h),y:m,x:s,height:p,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function l$e(e){var t=e.vertical,r=t===void 0?!0:t,s=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!s||!s.length)return null;var u=d.map(function(m){return Math.round(m+i-i)}).sort(function(m,h){return m-h});i!==u[0]&&u.unshift(0);var f=u.map(function(m,h){var x=!u[h+1],p=x?i+l-m:u[h+1]-m;if(p<=0)return null;var g=h%s.length;return z.createElement("rect",{key:"react-".concat(h),x:m,y:o,width:p,height:c,stroke:"none",fill:s[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var c$e=function(t,r){var s=t.xAxis,a=t.width,i=t.height,o=t.offset;return SG(JO(da(da(da({},ux.defaultProps),s),{},{ticks:Rc(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},d$e=function(t,r){var s=t.yAxis,a=t.width,i=t.height,o=t.offset;return SG(JO(da(da(da({},ux.defaultProps),s),{},{ticks:Rc(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Rm={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function zn(e){var t,r,s,a,i,o,l=YO(),c=XO(),d=QFe(),u=da(da({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Rm.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Rm.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:Rm.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Rm.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Rm.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Rm.verticalFill,x:Xe(e.x)?e.x:d.left,y:Xe(e.y)?e.y:d.top,width:Xe(e.width)?e.width:d.width,height:Xe(e.height)?e.height:d.height}),f=u.x,m=u.y,h=u.width,x=u.height,p=u.syncWithTicks,g=u.horizontalValues,j=u.verticalValues,y=KFe(),w=YFe();if(!Xe(h)||h<=0||!Xe(x)||x<=0||!Xe(f)||f!==+f||!Xe(m)||m!==+m)return null;var b=u.verticalCoordinatesGenerator||c$e,N=u.horizontalCoordinatesGenerator||d$e,S=u.horizontalPoints,_=u.verticalPoints;if((!S||!S.length)&&It(N)){var E=g&&g.length,A=N({yAxis:w?da(da({},w),{},{ticks:E?g:w.ticks}):void 0,width:l,height:c,offset:d},E?!0:p);il(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(tm(A),"]")),Array.isArray(A)&&(S=A)}if((!_||!_.length)&&It(b)){var k=j&&j.length,D=b({xAxis:y?da(da({},y),{},{ticks:k?j:y.ticks}):void 0,width:l,height:c,offset:d},k?!0:p);il(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(tm(D),"]")),Array.isArray(D)&&(_=D)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(s$e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),z.createElement(a$e,vf({},u,{offset:d,horizontalPoints:S,xAxis:y,yAxis:w})),z.createElement(i$e,vf({},u,{offset:d,verticalPoints:_,xAxis:y,yAxis:w})),z.createElement(o$e,vf({},u,{horizontalPoints:S})),z.createElement(l$e,vf({},u,{verticalPoints:_})))}zn.displayName="CartesianGrid";var u$e=["type","layout","connectNulls","ref"],f$e=["key"];function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function j$(e,t){if(e==null)return{};var r=m$e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function m$e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Rg.apply(this,arguments)}function b$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b$(Object(r),!0).forEach(function(s){Ko(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Mm(e){return g$e(e)||x$e(e)||p$e(e)||h$e()}function h$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p$e(e,t){if(e){if(typeof e=="string")return WA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WA(e,t)}}function x$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function g$e(e){if(Array.isArray(e))return WA(e)}function WA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function v$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,TK(s.key),s)}}function y$e(e,t,r){return t&&w$(e.prototype,t),r&&w$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function j$e(e,t,r){return t=vw(t),b$e(e,kK()?Reflect.construct(t,r||[],vw(e).constructor):t.apply(e,r))}function b$e(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w$e(e)}function w$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kK=function(){return!!e})()}function vw(e){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vw(e)}function N$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HA(e,t)}function HA(e,t){return HA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},HA(e,t)}function Ko(e,t,r){return t=TK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TK(e){var t=_$e(e,"string");return _p(t)=="symbol"?t:t+""}function _$e(e,t){if(_p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(_p(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sc=function(e){function t(){var r;v$e(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=j$e(this,t,[].concat(a)),Ko(r,"state",{isAnimationFinished:!0,totalLength:0}),Ko(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Ko(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(j,y){return j+y});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),f=o%d,m=l-o,h=[],x=0,p=0;x<c.length;p+=c[x],++x)if(p+c[x]>f){h=[].concat(Mm(c.slice(0,x)),[f-p]);break}var g=h.length%2===0?[0,m]:[m];return[].concat(Mm(t.repeat(c,u)),Mm(h),g).map(function(j){return"".concat(j,"px")}).join(", ")}),Ko(r,"id",pm("recharts-line-")),Ko(r,"pathRef",function(o){r.mainCurve=o}),Ko(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ko(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return N$e(t,e),y$e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,f=Ui(u,py);if(!f)return null;var m=function(p,g){return{x:p.x,y:p.y,value:p.value,errorVal:Gn(p.payload,g)}},h={clipPath:s?"url(#clipPath-".concat(a,")"):null};return z.createElement(nr,h,f.map(function(x){return z.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:m})}))}},{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,f=Nt(this.props,!1),m=Nt(c,!0),h=d.map(function(p,g){var j=wi(wi(wi({key:"dot-".concat(g),r:3},f),m),{},{value:p.value,dataKey:u,cx:p.x,cy:p.y,index:g,payload:p.payload});return t.renderDotItem(c,j)}),x={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return z.createElement(nr,Rg({className:"recharts-line-dots",key:"dots"},x),h)}},{key:"renderCurveStatically",value:function(s,a,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var f=j$(l,u$e),m=wi(wi(wi({},Nt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:s},o),{},{type:c,layout:d,connectNulls:u});return z.createElement(Df,Rg({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,m=o.animationEasing,h=o.animationId,x=o.animateNewValues,p=o.width,g=o.height,j=this.state,y=j.prevPoints,w=j.totalLength;return z.createElement(ml,{begin:u,duration:f,isActive:d,easing:m,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var N=b.t;if(y){var S=y.length/l.length,_=l.map(function(I,W){var H=Math.floor(W*S);if(y[H]){var F=y[H],T=vs(F.x,I.x),P=vs(F.y,I.y);return wi(wi({},I),{},{x:T(N),y:P(N)})}if(x){var M=vs(p*2,I.x),O=vs(g/2,I.y);return wi(wi({},I),{},{x:M(N),y:O(N)})}return wi(wi({},I),{},{x:I.x,y:I.y})});return i.renderCurveStatically(_,s,a)}var E=vs(0,w),A=E(N),k;if(c){var D="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});k=i.getStrokeDasharray(A,w,D)}else k=i.generateSimpleStrokeDasharray(w,A);return i.renderCurveStatically(l,s,a,{strokeDasharray:k})})}},{key:"renderCurve",value:function(s,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!Jf(d,o))?this.renderCurveWithAnimation(s,a):this.renderCurveStatically(o,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.xAxis,u=a.yAxis,f=a.top,m=a.left,h=a.width,x=a.height,p=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var j=this.state.isAnimationFinished,y=l.length===1,w=Wt("recharts-line",c),b=d&&d.allowDataOverflow,N=u&&u.allowDataOverflow,S=b||N,_=Ut(g)?this.id:g,E=(s=Nt(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},A=E.r,k=A===void 0?3:A,D=E.strokeWidth,I=D===void 0?2:D,W=gH(o)?o:{},H=W.clipDot,F=H===void 0?!0:H,T=k*2+I;return z.createElement(nr,{className:w},b||N?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(_)},z.createElement("rect",{x:b?m:m-h/2,y:N?f:f-x/2,width:b?h:h*2,height:N?x:x*2})),!F&&z.createElement("clipPath",{id:"clipPath-dots-".concat(_)},z.createElement("rect",{x:m-T/2,y:f-T/2,width:h+T,height:x+T}))):null,!y&&this.renderCurve(S,_),this.renderErrorBar(S,_),(y||o)&&this.renderDots(S,F,_),(!p||j)&&Ql.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,a){for(var i=s.length%2!==0?[].concat(Mm(s),[0]):s,o=[],l=0;l<a;++l)o=[].concat(Mm(o),Mm(i));return o}},{key:"renderDotItem",value:function(s,a){var i;if(z.isValidElement(s))i=z.cloneElement(s,a);else if(It(s))i=s(a);else{var o=a.key,l=j$(a,f$e),c=Wt("recharts-line-dot",typeof s!="boolean"?s.className:"");i=z.createElement(xy,Rg({key:o},l,{className:c}))}return i}}])}(v.PureComponent);Ko(sc,"displayName","Line");Ko(sc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ll.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ko(sc,"getComposedData",function(e){var t=e.props,r=e.xAxis,s=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,f=c.map(function(m,h){var x=Gn(m,o);return u==="horizontal"?{x:Y1({axis:r,ticks:a,bandSize:l,entry:m,index:h}),y:Ut(x)?null:s.scale(x),value:x,payload:m}:{x:Ut(x)?null:r.scale(x),y:Y1({axis:s,ticks:i,bandSize:l,entry:m,index:h}),value:x,payload:m}});return wi({points:f,layout:u},d)});var S$e=["layout","type","stroke","connectNulls","isRange","ref"],C$e=["key"],OK;function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function DK(e,t){if(e==null)return{};var r=E$e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function E$e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},yf.apply(this,arguments)}function N$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ad(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N$(Object(r),!0).forEach(function(s){ql(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function A$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,RK(s.key),s)}}function P$e(e,t,r){return t&&_$(e.prototype,t),r&&_$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function k$e(e,t,r){return t=yw(t),T$e(e,IK()?Reflect.construct(t,r||[],yw(e).constructor):t.apply(e,r))}function T$e(e,t){if(t&&(Sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O$e(e)}function O$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IK=function(){return!!e})()}function yw(e){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(e)}function D$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qA(e,t)}function qA(e,t){return qA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},qA(e,t)}function ql(e,t,r){return t=RK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RK(e){var t=I$e(e,"string");return Sp(t)=="symbol"?t:t+""}function I$e(e,t){if(Sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Sp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ad=function(e){function t(){var r;A$e(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=k$e(this,t,[].concat(a)),ql(r,"state",{isAnimationFinished:!0}),ql(r,"id",pm("recharts-area-")),ql(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),It(o)&&o()}),ql(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),It(o)&&o()}),r}return D$e(t,e),P$e(t,[{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,f=c.dataKey,m=Nt(this.props,!1),h=Nt(d,!0),x=u.map(function(g,j){var y=Ad(Ad(Ad({key:"dot-".concat(j),r:3},m),h),{},{index:j,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:u});return t.renderDotItem(d,y)}),p={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return z.createElement(nr,yf({className:"recharts-area-dots"},p),x)}},{key:"renderHorizontalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=s*Math.abs(c-d),f=Kd(o.map(function(m){return m.y||0}));return Xe(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Kd(i.map(function(m){return m.y||0})),f)),Xe(f)?z.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=s*Math.abs(c-d),f=Kd(o.map(function(m){return m.x||0}));return Xe(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Kd(i.map(function(m){return m.x||0})),f)),Xe(f)?z.createElement("rect",{x:0,y:c<d?c:c-u,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(s){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,a,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,f=l.connectNulls,m=l.isRange;l.ref;var h=DK(l,S$e);return z.createElement(nr,{clipPath:i?"url(#clipPath-".concat(o,")"):null},z.createElement(Df,yf({},Nt(h,!0),{points:s,connectNulls:f,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&z.createElement(Df,yf({},Nt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:s})),u!=="none"&&m&&z.createElement(Df,yf({},Nt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,m=o.animationEasing,h=o.animationId,x=this.state,p=x.prevPoints,g=x.prevBaseLine;return z.createElement(ml,{begin:u,duration:f,isActive:d,easing:m,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var y=j.t;if(p){var w=p.length/l.length,b=l.map(function(E,A){var k=Math.floor(A*w);if(p[k]){var D=p[k],I=vs(D.x,E.x),W=vs(D.y,E.y);return Ad(Ad({},E),{},{x:I(y),y:W(y)})}return E}),N;if(Xe(c)&&typeof c=="number"){var S=vs(g,c);N=S(y)}else if(Ut(c)||nx(c)){var _=vs(g,0);N=_(y)}else N=c.map(function(E,A){var k=Math.floor(A*w);if(g[k]){var D=g[k],I=vs(D.x,E.x),W=vs(D.y,E.y);return Ad(Ad({},E),{},{x:I(y),y:W(y)})}return E});return i.renderAreaStatically(b,N,s,a)}return z.createElement(nr,null,z.createElement("defs",null,z.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(y))),z.createElement(nr,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,s,a)))})}},{key:"renderArea",value:function(s,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,f=d.prevBaseLine,m=d.totalLength;return c&&o&&o.length&&(!u&&m>0||!Jf(u,o)||!Jf(f,l))?this.renderAreaWithAnimation(s,a):this.renderAreaStatically(o,l,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.top,u=a.left,f=a.xAxis,m=a.yAxis,h=a.width,x=a.height,p=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var j=this.state.isAnimationFinished,y=l.length===1,w=Wt("recharts-area",c),b=f&&f.allowDataOverflow,N=m&&m.allowDataOverflow,S=b||N,_=Ut(g)?this.id:g,E=(s=Nt(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},A=E.r,k=A===void 0?3:A,D=E.strokeWidth,I=D===void 0?2:D,W=gH(o)?o:{},H=W.clipDot,F=H===void 0?!0:H,T=k*2+I;return z.createElement(nr,{className:w},b||N?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(_)},z.createElement("rect",{x:b?u:u-h/2,y:N?d:d-x/2,width:b?h:h*2,height:N?x:x*2})),!F&&z.createElement("clipPath",{id:"clipPath-dots-".concat(_)},z.createElement("rect",{x:u-T/2,y:d-T/2,width:h+T,height:x+T}))):null,y?null:this.renderArea(S,_),(o||y)&&this.renderDots(S,F,_),(!p||j)&&Ql.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:s.points!==a.curPoints||s.baseLine!==a.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(v.PureComponent);OK=ad;ql(ad,"displayName","Area");ql(ad,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ll.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ql(ad,"getBaseValue",function(e,t,r,s){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(Xe(l)&&typeof l=="number")return l;var c=a==="horizontal"?s:r,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),f=Math.min(d[0],d[1]);return l==="dataMin"?f:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});ql(ad,"getComposedData",function(e){var t=e.props,r=e.item,s=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,m=e.offset,h=t.layout,x=d&&d.length,p=OK.getBaseValue(t,r,s,a),g=h==="horizontal",j=!1,y=f.map(function(b,N){var S;x?S=d[u+N]:(S=Gn(b,c),Array.isArray(S)?j=!0:S=[p,S]);var _=S[1]==null||x&&Gn(b,c)==null;return g?{x:Y1({axis:s,ticks:i,bandSize:l,entry:b,index:N}),y:_?null:a.scale(S[1]),value:S,payload:b}:{x:_?null:s.scale(S[1]),y:Y1({axis:a,ticks:o,bandSize:l,entry:b,index:N}),value:S,payload:b}}),w;return x||j?w=y.map(function(b){var N=Array.isArray(b.value)?b.value[0]:null;return g?{x:b.x,y:N!=null&&b.y!=null?a.scale(N):null}:{x:N!=null?s.scale(N):null,y:b.y}}):w=g?a.scale(p):s.scale(p),Ad({points:y,baseLine:w,layout:h,isRange:j},m)});ql(ad,"renderDotItem",function(e,t){var r;if(z.isValidElement(e))r=z.cloneElement(e,t);else if(It(e))r=e(t);else{var s=Wt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=DK(t,C$e);r=z.createElement(xy,yf({},i,{key:a,className:s}))}return r});function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function R$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M$e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,$K(s.key),s)}}function F$e(e,t,r){return t&&M$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $$e(e,t,r){return t=jw(t),L$e(e,MK()?Reflect.construct(t,r||[],jw(e).constructor):t.apply(e,r))}function L$e(e,t){if(t&&(Cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B$e(e)}function B$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MK=function(){return!!e})()}function jw(e){return jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jw(e)}function U$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GA(e,t)}function GA(e,t){return GA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},GA(e,t)}function FK(e,t,r){return t=$K(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $K(e){var t=V$e(e,"string");return Cp(t)=="symbol"?t:t+""}function V$e(e,t){if(Cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Cp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KA(){return KA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},KA.apply(this,arguments)}function z$e(e){var t=e.xAxisId,r=YO(),s=XO(),a=vK(t);return a==null?null:z.createElement(ux,KA({},a,{className:Wt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(o){return Rc(o,!0)}}))}var rn=function(e){function t(){return R$e(this,t),$$e(this,t,arguments)}return U$e(t,e),F$e(t,[{key:"render",value:function(){return z.createElement(z$e,this.props)}}])}(z.Component);FK(rn,"displayName","XAxis");FK(rn,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function W$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H$e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,UK(s.key),s)}}function q$e(e,t,r){return t&&H$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function G$e(e,t,r){return t=bw(t),K$e(e,LK()?Reflect.construct(t,r||[],bw(e).constructor):t.apply(e,r))}function K$e(e,t){if(t&&(Ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y$e(e)}function Y$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LK=function(){return!!e})()}function bw(e){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(e)}function X$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YA(e,t)}function YA(e,t){return YA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},YA(e,t)}function BK(e,t,r){return t=UK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UK(e){var t=Q$e(e,"string");return Ep(t)=="symbol"?t:t+""}function Q$e(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Ep(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XA(){return XA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},XA.apply(this,arguments)}var Z$e=function(t){var r=t.yAxisId,s=YO(),a=XO(),i=yK(r);return i==null?null:z.createElement(ux,XA({},i,{className:Wt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return Rc(l,!0)}}))},nn=function(e){function t(){return W$e(this,t),G$e(this,t,arguments)}return X$e(t,e),q$e(t,[{key:"render",value:function(){return z.createElement(Z$e,this.props)}}])}(z.Component);BK(nn,"displayName","YAxis");BK(nn,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function S$(e){return rLe(e)||tLe(e)||eLe(e)||J$e()}function J$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eLe(e,t){if(e){if(typeof e=="string")return QA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QA(e,t)}}function tLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rLe(e){if(Array.isArray(e))return QA(e)}function QA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var ZA=function(t,r,s,a,i){var o=Ui(t,ZO),l=Ui(t,F2),c=[].concat(S$(o),S$(l)),d=Ui(t,L2),u="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(p,g){if(g.props[u]===s&&Zl(g.props,"extendDomain")&&Xe(g.props[f])){var j=g.props[f];return[Math.min(p[0],j),Math.max(p[1],j)]}return p},m)),d.length){var h="".concat(f,"1"),x="".concat(f,"2");m=d.reduce(function(p,g){if(g.props[u]===s&&Zl(g.props,"extendDomain")&&Xe(g.props[h])&&Xe(g.props[x])){var j=g.props[h],y=g.props[x];return[Math.min(p[0],j,y),Math.max(p[1],j,y)]}return p},m)}return i&&i.length&&(m=i.reduce(function(p,g){return Xe(g)?[Math.min(p[0],g),Math.max(p[1],g)]:p},m)),m},VK={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,f,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new a(u,f||c,m),x=r?r+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],h]:c._events[x].push(h):(c._events[x]=h,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,x=new Array(h);m<h;m++)x[m]=f[m].fn;return x},l.prototype.listenerCount=function(d){var u=r?r+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,m,h,x){var p=r?r+d:d;if(!this._events[p])return!1;var g=this._events[p],j=arguments.length,y,w;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),j){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,m),!0;case 5:return g.fn.call(g.context,u,f,m,h),!0;case 6:return g.fn.call(g.context,u,f,m,h,x),!0}for(w=1,y=new Array(j-1);w<j;w++)y[w-1]=arguments[w];g.fn.apply(g.context,y)}else{var b=g.length,N;for(w=0;w<b;w++)switch(g[w].once&&this.removeListener(d,g[w].fn,void 0,!0),j){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,u);break;case 3:g[w].fn.call(g[w].context,u,f);break;case 4:g[w].fn.call(g[w].context,u,f,m);break;default:if(!y)for(N=1,y=new Array(j-1);N<j;N++)y[N-1]=arguments[N];g[w].fn.apply(g[w].context,y)}}return!0},l.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,m){var h=r?r+d:d;if(!this._events[h])return this;if(!u)return o(this,h),this;var x=this._events[h];if(x.fn)x.fn===u&&(!m||x.once)&&(!f||x.context===f)&&o(this,h);else{for(var p=0,g=[],j=x.length;p<j;p++)(x[p].fn!==u||m&&!x[p].once||f&&x[p].context!==f)&&g.push(x[p]);g.length?this._events[h]=g.length===1?g[0]:g:o(this,h)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(VK);var nLe=VK.exports;const sLe=Ar(nLe);var YS=new sLe,XS="recharts.syncMouseEvents";function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}function aLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iLe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,zK(s.key),s)}}function oLe(e,t,r){return t&&iLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QS(e,t,r){return t=zK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zK(e){var t=lLe(e,"string");return nv(t)=="symbol"?t:t+""}function lLe(e,t){if(nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(nv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cLe=function(){function e(){aLe(this,e),QS(this,"activeIndex",0),QS(this,"coordinateList",[]),QS(this,"layout","horizontal")}return oLe(e,[{key:"setDetails",value:function(r){var s,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,f=u===void 0?null:u,m=r.mouseHandlerCallback,h=m===void 0?null:m;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((s=window)===null||s===void 0?void 0:s.scrollY)||0,f=i+c+d,m=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function dLe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var s=e==null?void 0:e[0],a=e==null?void 0:e[1];if(s&&a&&Xe(s)&&Xe(a))return!0}return!1}function uLe(e,t,r,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?s:r.width-1,height:e==="horizontal"?r.height-1:s}}function WK(e){var t=e.cx,r=e.cy,s=e.radius,a=e.startAngle,i=e.endAngle,o=Xr(t,r,s,a),l=Xr(t,r,s,i);return{points:[o,l],cx:t,cy:r,radius:s,startAngle:a,endAngle:i}}function fLe(e,t,r){var s,a,i,o;if(e==="horizontal")s=t.x,i=s,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,s=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,f=t.angle,m=Xr(l,c,d,f),h=Xr(l,c,u,f);s=m.x,a=m.y,i=h.x,o=h.y}else return WK(t);return[{x:s,y:a},{x:i,y:o}]}function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function C$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ej(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C$(Object(r),!0).forEach(function(s){mLe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function mLe(e,t,r){return t=hLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hLe(e){var t=pLe(e,"string");return sv(t)=="symbol"?t:t+""}function pLe(e,t){if(sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(sv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xLe(e){var t,r,s=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,h=(t=s.props.cursor)!==null&&t!==void 0?t:(r=s.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!s||!h||!i||!o||m!=="ScatterChart"&&a!=="axis")return null;var x,p=Df;if(m==="ScatterChart")x=o,p=_Ie;else if(m==="BarChart")x=uLe(f,o,c,u),p=WO;else if(f==="radial"){var g=WK(o),j=g.cx,y=g.cy,w=g.radius,b=g.startAngle,N=g.endAngle;x={cx:j,cy:y,startAngle:b,endAngle:N,innerRadius:w,outerRadius:w},p=MG}else x={points:fLe(f,o,c)},p=Df;var S=Ej(Ej(Ej(Ej({stroke:"#ccc",pointerEvents:"none"},c),x),Nt(h,!1)),{},{payload:l,payloadIndex:d,className:Wt("recharts-tooltip-cursor",h.className)});return v.isValidElement(h)?v.cloneElement(h,S):v.createElement(p,S)}var gLe=["item"],vLe=["children","className","width","height","style","compact","title","desc"];function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Mg.apply(this,arguments)}function E$(e,t){return bLe(e)||jLe(e,t)||qK(e,t)||yLe()}function yLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function bLe(e){if(Array.isArray(e))return e}function A$(e,t){if(e==null)return{};var r=wLe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function wLe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function NLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Le(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,GK(s.key),s)}}function SLe(e,t,r){return t&&_Le(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CLe(e,t,r){return t=ww(t),ELe(e,HK()?Reflect.construct(t,r||[],ww(e).constructor):t.apply(e,r))}function ELe(e,t){if(t&&(Ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ALe(e)}function ALe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HK=function(){return!!e})()}function ww(e){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ww(e)}function PLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JA(e,t)}function JA(e,t){return JA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},JA(e,t)}function Pp(e){return OLe(e)||TLe(e)||qK(e)||kLe()}function kLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qK(e,t){if(e){if(typeof e=="string")return eP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eP(e,t)}}function TLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OLe(e){if(Array.isArray(e))return eP(e)}function eP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function P$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P$(Object(r),!0).forEach(function(s){Ot(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Ot(e,t,r){return t=GK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GK(e){var t=DLe(e,"string");return Ap(t)=="symbol"?t:t+""}function DLe(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Ap(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ILe={xAxis:["bottom","top"],yAxis:["left","right"]},RLe={width:"100%",height:"100%"},KK={x:0,y:0};function Aj(e){return e}var MLe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},FLe=function(t,r,s,a){var i=r.find(function(u){return u&&u.index===s});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return Le(Le(Le({},a),Xr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return Le(Le(Le({},a),Xr(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return KK},B2=function(t,r){var s=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(s??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Pp(l),Pp(d)):l},[]);return o.length>0?o:t&&t.length&&Xe(a)&&Xe(i)?t.slice(a,i+1):[]};function YK(e){return e==="number"?[0,"auto"]:void 0}var tP=function(t,r,s,a){var i=t.graphicalItems,o=t.tooltipAxis,l=B2(r,t);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(c,d){var u,f=(u=d.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?l:f;m=b1(h,o.dataKey,a)}else m=f&&f[s]||l[s];return m?[].concat(Pp(c),[kG(d,m)]):c},[])},k$=function(t,r,s,a){var i=a||{x:t.chartX,y:t.chartY},o=MLe(i,s),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=s3e(o,l,d,c);if(u>=0&&d){var f=d[u]&&d[u].value,m=tP(t,r,u,f),h=FLe(s,l,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:m,activeCoordinate:h}}return null},$Le=function(t,r){var s=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,m=t.stackOffset,h=_G(u,i);return s.reduce(function(x,p){var g,j=p.type.defaultProps!==void 0?Le(Le({},p.type.defaultProps),p.props):p.props,y=j.type,w=j.dataKey,b=j.allowDataOverflow,N=j.allowDuplicatedCategory,S=j.scale,_=j.ticks,E=j.includeHidden,A=j[o];if(x[A])return x;var k=B2(t.data,{graphicalItems:a.filter(function(R){var V,L=o in R.props?R.props[o]:(V=R.type.defaultProps)===null||V===void 0?void 0:V[o];return L===A}),dataStartIndex:c,dataEndIndex:d}),D=k.length,I,W,H;dLe(j.domain,b,y)&&(I=hA(j.domain,null,b),h&&(y==="number"||S!=="auto")&&(H=Tg(k,w,"category")));var F=YK(y);if(!I||I.length===0){var T,P=(T=j.domain)!==null&&T!==void 0?T:F;if(w){if(I=Tg(k,w,y),y==="category"&&h){var M=Yje(I);N&&M?(W=I,I=lw(0,D)):N||(I=XF(P,I,p).reduce(function(R,V){return R.indexOf(V)>=0?R:[].concat(Pp(R),[V])},[]))}else if(y==="category")N?I=I.filter(function(R){return R!==""&&!Ut(R)}):I=XF(P,I,p).reduce(function(R,V){return R.indexOf(V)>=0||V===""||Ut(V)?R:[].concat(Pp(R),[V])},[]);else if(y==="number"){var O=c3e(k,a.filter(function(R){var V,L,G=o in R.props?R.props[o]:(V=R.type.defaultProps)===null||V===void 0?void 0:V[o],le="hide"in R.props?R.props.hide:(L=R.type.defaultProps)===null||L===void 0?void 0:L.hide;return G===A&&(E||!le)}),w,i,u);O&&(I=O)}h&&(y==="number"||S!=="auto")&&(H=Tg(k,w,"category"))}else h?I=lw(0,D):l&&l[A]&&l[A].hasStack&&y==="number"?I=m==="expand"?[0,1]:PG(l[A].stackGroups,c,d):I=NG(k,a.filter(function(R){var V=o in R.props?R.props[o]:R.type.defaultProps[o],L="hide"in R.props?R.props.hide:R.type.defaultProps.hide;return V===A&&(E||!L)}),y,u,!0);if(y==="number")I=ZA(f,I,A,i,_),P&&(I=hA(P,I,b));else if(y==="category"&&P){var K=P,ne=I.every(function(R){return K.indexOf(R)>=0});ne&&(I=K)}}return Le(Le({},x),{},Ot({},A,Le(Le({},j),{},{axisType:i,domain:I,categoricalDomain:H,duplicateDomain:W,originalDomain:(g=j.domain)!==null&&g!==void 0?g:F,isCategorical:h,layout:u})))},{})},LLe=function(t,r){var s=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,m=B2(t.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:d}),h=m.length,x=_G(u,i),p=-1;return s.reduce(function(g,j){var y=j.type.defaultProps!==void 0?Le(Le({},j.type.defaultProps),j.props):j.props,w=y[o],b=YK("number");if(!g[w]){p++;var N;return x?N=lw(0,h):l&&l[w]&&l[w].hasStack?(N=PG(l[w].stackGroups,c,d),N=ZA(f,N,w,i)):(N=hA(b,NG(m,s.filter(function(S){var _,E,A=o in S.props?S.props[o]:(_=S.type.defaultProps)===null||_===void 0?void 0:_[o],k="hide"in S.props?S.props.hide:(E=S.type.defaultProps)===null||E===void 0?void 0:E.hide;return A===w&&!k}),"number",u),a.defaultProps.allowDataOverflow),N=ZA(f,N,w,i)),Le(Le({},g),{},Ot({},w,Le(Le({axisType:i},a.defaultProps),{},{hide:!0,orientation:Bi(ILe,"".concat(i,".").concat(p%2),null),domain:N,originalDomain:b,isCategorical:x,layout:u})))}return g},{})},BLe=function(t,r){var s=r.axisType,a=s===void 0?"xAxis":s,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),m=Ui(u,i),h={};return m&&m.length?h=$Le(t,{axes:m,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(h=LLe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),h},ULe=function(t){var r=Rd(t),s=Rc(r,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:gO(s,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:X1(r,s)}},T$=function(t){var r=t.children,s=t.defaultShowTooltip,a=ki(r,vp),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},VLe=function(t){return!t||!t.length?!1:t.some(function(r){var s=Lc(r&&r.type);return s&&s.indexOf("Bar")>=0})},O$=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},zLe=function(t,r){var s=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,d=s.width,u=s.height,f=s.children,m=s.margin||{},h=ki(f,vp),x=ki(f,ol),p=Object.keys(c).reduce(function(N,S){var _=c[S],E=_.orientation;return!_.mirror&&!_.hide?Le(Le({},N),{},Ot({},E,N[E]+_.width)):N},{left:m.left||0,right:m.right||0}),g=Object.keys(o).reduce(function(N,S){var _=o[S],E=_.orientation;return!_.mirror&&!_.hide?Le(Le({},N),{},Ot({},E,Bi(N,"".concat(E))+_.height)):N},{top:m.top||0,bottom:m.bottom||0}),j=Le(Le({},g),p),y=j.bottom;h&&(j.bottom+=h.props.height||vp.defaultProps.height),x&&r&&(j=o3e(j,a,s,r));var w=d-j.left-j.right,b=u-j.top-j.bottom;return Le(Le({brushBottom:y},j),{},{width:Math.max(w,0),height:Math.max(b,0)})},WLe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},U2=function(t){var r=t.chartName,s=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,m=function(g,j){var y=j.graphicalItems,w=j.stackGroups,b=j.offset,N=j.updateId,S=j.dataStartIndex,_=j.dataEndIndex,E=g.barSize,A=g.layout,k=g.barGap,D=g.barCategoryGap,I=g.maxBarSize,W=O$(A),H=W.numericAxisName,F=W.cateAxisName,T=VLe(y),P=[];return y.forEach(function(M,O){var K=B2(g.data,{graphicalItems:[M],dataStartIndex:S,dataEndIndex:_}),ne=M.type.defaultProps!==void 0?Le(Le({},M.type.defaultProps),M.props):M.props,R=ne.dataKey,V=ne.maxBarSize,L=ne["".concat(H,"Id")],G=ne["".concat(F,"Id")],le={},fe=c.reduce(function(ce,je){var $e=j["".concat(je.axisType,"Map")],De=ne["".concat(je.axisType,"Id")];$e&&$e[De]||je.axisType==="zAxis"||_u();var de=$e[De];return Le(Le({},ce),{},Ot(Ot({},je.axisType,de),"".concat(je.axisType,"Ticks"),Rc(de)))},le),B=fe[F],Y=fe["".concat(F,"Ticks")],ie=w&&w[L]&&w[L].hasStack&&v3e(M,w[L].stackGroups),we=Lc(M.type).indexOf("Bar")>=0,ue=X1(B,Y),ge=[],xe=T&&a3e({barSize:E,stackGroups:w,totalSize:WLe(fe,F)});if(we){var Se,Me,ke=Ut(V)?I:V,se=(Se=(Me=X1(B,Y,!0))!==null&&Me!==void 0?Me:ke)!==null&&Se!==void 0?Se:0;ge=i3e({barGap:k,barCategoryGap:D,bandSize:se!==ue?se:ue,sizeList:xe[G],maxBarSize:ke}),se!==ue&&(ge=ge.map(function(ce){return Le(Le({},ce),{},{position:Le(Le({},ce.position),{},{offset:ce.position.offset-se/2})})}))}var he=M&&M.type&&M.type.getComposedData;he&&P.push({props:Le(Le({},he(Le(Le({},fe),{},{displayedData:K,props:g,dataKey:R,item:M,bandSize:ue,barPosition:ge,offset:b,stackedData:ie,layout:A,dataStartIndex:S,dataEndIndex:_}))),{},Ot(Ot(Ot({key:M.key||"item-".concat(O)},H,fe[H]),F,fe[F]),"animationId",N)),childIndex:ibe(M,g.children),item:M})}),P},h=function(g,j){var y=g.props,w=g.dataStartIndex,b=g.dataEndIndex,N=g.updateId;if(!WR({props:y}))return null;var S=y.children,_=y.layout,E=y.stackOffset,A=y.data,k=y.reverseStackOrder,D=O$(_),I=D.numericAxisName,W=D.cateAxisName,H=Ui(S,s),F=x3e(A,H,"".concat(I,"Id"),"".concat(W,"Id"),E,k),T=c.reduce(function(ne,R){var V="".concat(R.axisType,"Map");return Le(Le({},ne),{},Ot({},V,BLe(y,Le(Le({},R),{},{graphicalItems:H,stackGroups:R.axisType===I&&F,dataStartIndex:w,dataEndIndex:b}))))},{}),P=zLe(Le(Le({},T),{},{props:y,graphicalItems:H}),j==null?void 0:j.legendBBox);Object.keys(T).forEach(function(ne){T[ne]=u(y,T[ne],P,ne.replace("Map",""),r)});var M=T["".concat(W,"Map")],O=ULe(M),K=m(y,Le(Le({},T),{},{dataStartIndex:w,dataEndIndex:b,updateId:N,graphicalItems:H,stackGroups:F,offset:P}));return Le(Le({formattedGraphicalItems:K,graphicalItems:H,offset:P,stackGroups:F},O),T)},x=function(p){function g(j){var y,w,b;return NLe(this,g),b=CLe(this,g,[j]),Ot(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ot(b,"accessibilityManager",new cLe),Ot(b,"handleLegendBBoxUpdate",function(N){if(N){var S=b.state,_=S.dataStartIndex,E=S.dataEndIndex,A=S.updateId;b.setState(Le({legendBBox:N},h({props:b.props,dataStartIndex:_,dataEndIndex:E,updateId:A},Le(Le({},b.state),{},{legendBBox:N}))))}}),Ot(b,"handleReceiveSyncEvent",function(N,S,_){if(b.props.syncId===N){if(_===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(S)}}),Ot(b,"handleBrushChange",function(N){var S=N.startIndex,_=N.endIndex;if(S!==b.state.dataStartIndex||_!==b.state.dataEndIndex){var E=b.state.updateId;b.setState(function(){return Le({dataStartIndex:S,dataEndIndex:_},h({props:b.props,dataStartIndex:S,dataEndIndex:_,updateId:E},b.state))}),b.triggerSyncEvent({dataStartIndex:S,dataEndIndex:_})}}),Ot(b,"handleMouseEnter",function(N){var S=b.getMouseInfo(N);if(S){var _=Le(Le({},S),{},{isTooltipActive:!0});b.setState(_),b.triggerSyncEvent(_);var E=b.props.onMouseEnter;It(E)&&E(_,N)}}),Ot(b,"triggeredAfterMouseMove",function(N){var S=b.getMouseInfo(N),_=S?Le(Le({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(_),b.triggerSyncEvent(_);var E=b.props.onMouseMove;It(E)&&E(_,N)}),Ot(b,"handleItemMouseEnter",function(N){b.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Ot(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),Ot(b,"handleMouseMove",function(N){N.persist(),b.throttleTriggeredAfterMouseMove(N)}),Ot(b,"handleMouseLeave",function(N){b.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};b.setState(S),b.triggerSyncEvent(S);var _=b.props.onMouseLeave;It(_)&&_(S,N)}),Ot(b,"handleOuterEvent",function(N){var S=abe(N),_=Bi(b.props,"".concat(S));if(S&&It(_)){var E,A;/.*touch.*/i.test(S)?A=b.getMouseInfo(N.changedTouches[0]):A=b.getMouseInfo(N),_((E=A)!==null&&E!==void 0?E:{},N)}}),Ot(b,"handleClick",function(N){var S=b.getMouseInfo(N);if(S){var _=Le(Le({},S),{},{isTooltipActive:!0});b.setState(_),b.triggerSyncEvent(_);var E=b.props.onClick;It(E)&&E(_,N)}}),Ot(b,"handleMouseDown",function(N){var S=b.props.onMouseDown;if(It(S)){var _=b.getMouseInfo(N);S(_,N)}}),Ot(b,"handleMouseUp",function(N){var S=b.props.onMouseUp;if(It(S)){var _=b.getMouseInfo(N);S(_,N)}}),Ot(b,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Ot(b,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.handleMouseDown(N.changedTouches[0])}),Ot(b,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.handleMouseUp(N.changedTouches[0])}),Ot(b,"triggerSyncEvent",function(N){b.props.syncId!==void 0&&YS.emit(XS,b.props.syncId,N,b.eventEmitterSymbol)}),Ot(b,"applySyncEvent",function(N){var S=b.props,_=S.layout,E=S.syncMethod,A=b.state.updateId,k=N.dataStartIndex,D=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)b.setState(Le({dataStartIndex:k,dataEndIndex:D},h({props:b.props,dataStartIndex:k,dataEndIndex:D,updateId:A},b.state)));else if(N.activeTooltipIndex!==void 0){var I=N.chartX,W=N.chartY,H=N.activeTooltipIndex,F=b.state,T=F.offset,P=F.tooltipTicks;if(!T)return;if(typeof E=="function")H=E(P,N);else if(E==="value"){H=-1;for(var M=0;M<P.length;M++)if(P[M].value===N.activeLabel){H=M;break}}var O=Le(Le({},T),{},{x:T.left,y:T.top}),K=Math.min(I,O.x+O.width),ne=Math.min(W,O.y+O.height),R=P[H]&&P[H].value,V=tP(b.state,b.props.data,H),L=P[H]?{x:_==="horizontal"?P[H].coordinate:K,y:_==="horizontal"?ne:P[H].coordinate}:KK;b.setState(Le(Le({},N),{},{activeLabel:R,activeCoordinate:L,activePayload:V,activeTooltipIndex:H}))}else b.setState(N)}),Ot(b,"renderCursor",function(N){var S,_=b.state,E=_.isTooltipActive,A=_.activeCoordinate,k=_.activePayload,D=_.offset,I=_.activeTooltipIndex,W=_.tooltipAxisBandSize,H=b.getTooltipEventType(),F=(S=N.props.active)!==null&&S!==void 0?S:E,T=b.props.layout,P=N.key||"_recharts-cursor";return z.createElement(xLe,{key:P,activeCoordinate:A,activePayload:k,activeTooltipIndex:I,chartName:r,element:N,isActive:F,layout:T,offset:D,tooltipAxisBandSize:W,tooltipEventType:H})}),Ot(b,"renderPolarAxis",function(N,S,_){var E=Bi(N,"type.axisType"),A=Bi(b.state,"".concat(E,"Map")),k=N.type.defaultProps,D=k!==void 0?Le(Le({},k),N.props):N.props,I=A&&A[D["".concat(E,"Id")]];return v.cloneElement(N,Le(Le({},I),{},{className:Wt(E,I.className),key:N.key||"".concat(S,"-").concat(_),ticks:Rc(I,!0)}))}),Ot(b,"renderPolarGrid",function(N){var S=N.props,_=S.radialLines,E=S.polarAngles,A=S.polarRadius,k=b.state,D=k.radiusAxisMap,I=k.angleAxisMap,W=Rd(D),H=Rd(I),F=H.cx,T=H.cy,P=H.innerRadius,M=H.outerRadius;return v.cloneElement(N,{polarAngles:Array.isArray(E)?E:Rc(H,!0).map(function(O){return O.coordinate}),polarRadius:Array.isArray(A)?A:Rc(W,!0).map(function(O){return O.coordinate}),cx:F,cy:T,innerRadius:P,outerRadius:M,key:N.key||"polar-grid",radialLines:_})}),Ot(b,"renderLegend",function(){var N=b.state.formattedGraphicalItems,S=b.props,_=S.children,E=S.width,A=S.height,k=b.props.margin||{},D=E-(k.left||0)-(k.right||0),I=bG({children:_,formattedGraphicalItems:N,legendWidth:D,legendContent:d});if(!I)return null;var W=I.item,H=A$(I,gLe);return v.cloneElement(W,Le(Le({},H),{},{chartWidth:E,chartHeight:A,margin:k,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),Ot(b,"renderTooltip",function(){var N,S=b.props,_=S.children,E=S.accessibilityLayer,A=ki(_,hr);if(!A)return null;var k=b.state,D=k.isTooltipActive,I=k.activeCoordinate,W=k.activePayload,H=k.activeLabel,F=k.offset,T=(N=A.props.active)!==null&&N!==void 0?N:D;return v.cloneElement(A,{viewBox:Le(Le({},F),{},{x:F.left,y:F.top}),active:T,label:H,payload:T?W:[],coordinate:I,accessibilityLayer:E})}),Ot(b,"renderBrush",function(N){var S=b.props,_=S.margin,E=S.data,A=b.state,k=A.offset,D=A.dataStartIndex,I=A.dataEndIndex,W=A.updateId;return v.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Nj(b.handleBrushChange,N.props.onChange),data:E,x:Xe(N.props.x)?N.props.x:k.left,y:Xe(N.props.y)?N.props.y:k.top+k.height+k.brushBottom-(_.bottom||0),width:Xe(N.props.width)?N.props.width:k.width,startIndex:D,endIndex:I,updateId:"brush-".concat(W)})}),Ot(b,"renderReferenceElement",function(N,S,_){if(!N)return null;var E=b,A=E.clipPathId,k=b.state,D=k.xAxisMap,I=k.yAxisMap,W=k.offset,H=N.type.defaultProps||{},F=N.props,T=F.xAxisId,P=T===void 0?H.xAxisId:T,M=F.yAxisId,O=M===void 0?H.yAxisId:M;return v.cloneElement(N,{key:N.key||"".concat(S,"-").concat(_),xAxis:D[P],yAxis:I[O],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:A})}),Ot(b,"renderActivePoints",function(N){var S=N.item,_=N.activePoint,E=N.basePoint,A=N.childIndex,k=N.isRange,D=[],I=S.props.key,W=S.item.type.defaultProps!==void 0?Le(Le({},S.item.type.defaultProps),S.item.props):S.item.props,H=W.activeDot,F=W.dataKey,T=Le(Le({index:A,dataKey:F,cx:_.x,cy:_.y,r:4,fill:zO(S.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Nt(H,!1)),w1(H));return D.push(g.renderActiveDot(H,T,"".concat(I,"-activePoint-").concat(A))),E?D.push(g.renderActiveDot(H,Le(Le({},T),{},{cx:E.x,cy:E.y}),"".concat(I,"-basePoint-").concat(A))):k&&D.push(null),D}),Ot(b,"renderGraphicChild",function(N,S,_){var E=b.filterFormatItem(N,S,_);if(!E)return null;var A=b.getTooltipEventType(),k=b.state,D=k.isTooltipActive,I=k.tooltipAxis,W=k.activeTooltipIndex,H=k.activeLabel,F=b.props.children,T=ki(F,hr),P=E.props,M=P.points,O=P.isRange,K=P.baseLine,ne=E.item.type.defaultProps!==void 0?Le(Le({},E.item.type.defaultProps),E.item.props):E.item.props,R=ne.activeDot,V=ne.hide,L=ne.activeBar,G=ne.activeShape,le=!!(!V&&D&&T&&(R||L||G)),fe={};A!=="axis"&&T&&T.props.trigger==="click"?fe={onClick:Nj(b.handleItemMouseEnter,N.props.onClick)}:A!=="axis"&&(fe={onMouseLeave:Nj(b.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Nj(b.handleItemMouseEnter,N.props.onMouseEnter)});var B=v.cloneElement(N,Le(Le({},E.props),fe));function Y(je){return typeof I.dataKey=="function"?I.dataKey(je.payload):null}if(le)if(W>=0){var ie,we;if(I.dataKey&&!I.allowDuplicatedCategory){var ue=typeof I.dataKey=="function"?Y:"payload.".concat(I.dataKey.toString());ie=b1(M,ue,H),we=O&&K&&b1(K,ue,H)}else ie=M==null?void 0:M[W],we=O&&K&&K[W];if(G||L){var ge=N.props.activeIndex!==void 0?N.props.activeIndex:W;return[v.cloneElement(N,Le(Le(Le({},E.props),fe),{},{activeIndex:ge})),null,null]}if(!Ut(ie))return[B].concat(Pp(b.renderActivePoints({item:E,activePoint:ie,basePoint:we,childIndex:W,isRange:O})))}else{var xe,Se=(xe=b.getItemByXY(b.state.activeCoordinate))!==null&&xe!==void 0?xe:{graphicalItem:B},Me=Se.graphicalItem,ke=Me.item,se=ke===void 0?N:ke,he=Me.childIndex,ce=Le(Le(Le({},E.props),fe),{},{activeIndex:he});return[v.cloneElement(se,ce),null,null]}return O?[B,null,null]:[B,null]}),Ot(b,"renderCustomized",function(N,S,_){return v.cloneElement(N,Le(Le({key:"recharts-customized-".concat(_)},b.props),b.state))}),Ot(b,"renderMap",{CartesianGrid:{handler:Aj,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:Aj},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:Aj},YAxis:{handler:Aj},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((y=j.id)!==null&&y!==void 0?y:pm("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=jq(b.triggeredAfterMouseMove,(w=j.throttleDelay)!==null&&w!==void 0?w:1e3/60),b.state={},b}return PLe(g,p),SLe(g,[{key:"componentDidMount",value:function(){var y,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,w=y.children,b=y.data,N=y.height,S=y.layout,_=ki(w,hr);if(_){var E=_.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,k=tP(this.state,b,E,A),D=this.state.tooltipTicks[E].coordinate,I=(this.state.offset.top+N)/2,W=S==="horizontal",H=W?{x:D,y:I}:{y:D,x:I},F=this.state.formattedGraphicalItems.find(function(P){var M=P.item;return M.type.name==="Scatter"});F&&(H=Le(Le({},H),F.props.points[E].tooltipPosition),k=F.props.points[E].tooltipPayload);var T={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:A,activePayload:k,activeCoordinate:H};this.setState(T),this.renderCursor(_),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var b,N;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(y){PE([ki(y.children,hr)],[ki(this.props.children,hr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=ki(this.props.children,hr);if(y&&typeof y.props.shared=="boolean"){var w=y.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var w=this.container,b=w.getBoundingClientRect(),N=OAe(b),S={chartX:Math.round(y.pageX-N.left),chartY:Math.round(y.pageY-N.top)},_=b.width/w.offsetWidth||1,E=this.inRange(S.chartX,S.chartY,_);if(!E)return null;var A=this.state,k=A.xAxisMap,D=A.yAxisMap,I=this.getTooltipEventType();if(I!=="axis"&&k&&D){var W=Rd(k).scale,H=Rd(D).scale,F=W&&W.invert?W.invert(S.chartX):null,T=H&&H.invert?H.invert(S.chartY):null;return Le(Le({},S),{},{xValue:F,yValue:T})}var P=k$(this.state,this.props.data,this.props.layout,E);return P?Le(Le({},S),P):null}},{key:"inRange",value:function(y,w){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=y/b,_=w/b;if(N==="horizontal"||N==="vertical"){var E=this.state.offset,A=S>=E.left&&S<=E.left+E.width&&_>=E.top&&_<=E.top+E.height;return A?{x:S,y:_}:null}var k=this.state,D=k.angleAxisMap,I=k.radiusAxisMap;if(D&&I){var W=Rd(D);return JF({x:S,y:_},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,w=this.getTooltipEventType(),b=ki(y,hr),N={};b&&w==="axis"&&(b.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var S=w1(this.props,this.handleOuterEvent);return Le(Le({},S),N)}},{key:"addListener",value:function(){YS.on(XS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){YS.removeListener(XS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,w,b){for(var N=this.state.formattedGraphicalItems,S=0,_=N.length;S<_;S++){var E=N[S];if(E.item===y||E.props.key===y.key||w===Lc(E.item.type)&&b===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,w=this.state.offset,b=w.left,N=w.top,S=w.height,_=w.width;return z.createElement("defs",null,z.createElement("clipPath",{id:y},z.createElement("rect",{x:b,y:N,height:S,width:_})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(w,b){var N=E$(b,2),S=N[0],_=N[1];return Le(Le({},w),{},Ot({},S,_.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(w,b){var N=E$(b,2),S=N[0],_=N[1];return Le(Le({},w),{},Ot({},S,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(y){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(y){var w=this.state,b=w.formattedGraphicalItems,N=w.activeItem;if(b&&b.length)for(var S=0,_=b.length;S<_;S++){var E=b[S],A=E.props,k=E.item,D=k.type.defaultProps!==void 0?Le(Le({},k.type.defaultProps),k.props):k.props,I=Lc(k.type);if(I==="Bar"){var W=(A.data||[]).find(function(P){return sIe(y,P)});if(W)return{graphicalItem:E,payload:W}}else if(I==="RadialBar"){var H=(A.data||[]).find(function(P){return JF(y,P)});if(H)return{graphicalItem:E,payload:H}}else if(D2(E,N)||I2(E,N)||Z0(E,N)){var F=qRe({graphicalItem:E,activeTooltipItem:N,itemData:D.data}),T=D.activeIndex===void 0?F:D.activeIndex;return{graphicalItem:Le(Le({},E),{},{childIndex:T}),payload:Z0(E,N)?D.data[F]:E.props.data[F]}}}return null}},{key:"render",value:function(){var y=this;if(!WR(this))return null;var w=this.props,b=w.children,N=w.className,S=w.width,_=w.height,E=w.style,A=w.compact,k=w.title,D=w.desc,I=A$(w,vLe),W=Nt(I,!1);if(A)return z.createElement(o$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(TE,Mg({},W,{width:S,height:_,title:k,desc:D}),this.renderClipPath(),qR(b,this.renderMap)));if(this.props.accessibilityLayer){var H,F;W.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,W.role=(F=this.props.role)!==null&&F!==void 0?F:"application",W.onKeyDown=function(P){y.accessibilityManager.keyboardEvent(P)},W.onFocus=function(){y.accessibilityManager.focus()}}var T=this.parseEventsOfWrapper();return z.createElement(o$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",Mg({className:Wt("recharts-wrapper",N),style:Le({position:"relative",cursor:"default",width:S,height:_},E)},T,{ref:function(M){y.container=M}}),z.createElement(TE,Mg({},W,{width:S,height:_,title:k,desc:D,style:RLe}),this.renderClipPath(),qR(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);return Ot(x,"displayName",r),Ot(x,"defaultProps",Le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ot(x,"getDerivedStateFromProps",function(p,g){var j=p.dataKey,y=p.data,w=p.children,b=p.width,N=p.height,S=p.layout,_=p.stackOffset,E=p.margin,A=g.dataStartIndex,k=g.dataEndIndex;if(g.updateId===void 0){var D=T$(p);return Le(Le(Le({},D),{},{updateId:0},h(Le(Le({props:p},D),{},{updateId:0}),g)),{},{prevDataKey:j,prevData:y,prevWidth:b,prevHeight:N,prevLayout:S,prevStackOffset:_,prevMargin:E,prevChildren:w})}if(j!==g.prevDataKey||y!==g.prevData||b!==g.prevWidth||N!==g.prevHeight||S!==g.prevLayout||_!==g.prevStackOffset||!bh(E,g.prevMargin)){var I=T$(p),W={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},H=Le(Le({},k$(g,y,S)),{},{updateId:g.updateId+1}),F=Le(Le(Le({},I),W),H);return Le(Le(Le({},F),h(Le({props:p},F),g)),{},{prevDataKey:j,prevData:y,prevWidth:b,prevHeight:N,prevLayout:S,prevStackOffset:_,prevMargin:E,prevChildren:w})}if(!PE(w,g.prevChildren)){var T,P,M,O,K=ki(w,vp),ne=K&&(T=(P=K.props)===null||P===void 0?void 0:P.startIndex)!==null&&T!==void 0?T:A,R=K&&(M=(O=K.props)===null||O===void 0?void 0:O.endIndex)!==null&&M!==void 0?M:k,V=ne!==A||R!==k,L=!Ut(y),G=L&&!V?g.updateId:g.updateId+1;return Le(Le({updateId:G},h(Le(Le({props:p},g),{},{updateId:G,dataStartIndex:ne,dataEndIndex:R}),g)),{},{prevChildren:w,dataStartIndex:ne,dataEndIndex:R})}return null}),Ot(x,"renderActiveDot",function(p,g,j){var y;return v.isValidElement(p)?y=v.cloneElement(p,g):It(p)?y=p(g):y=z.createElement(xy,g),z.createElement(nr,{className:"recharts-active-dot",key:j},y)}),function(g){return z.createElement(x,g)}},V2=U2({chartName:"LineChart",GraphicalChild:sc,axisComponents:[{axisType:"xAxis",AxisComp:rn},{axisType:"yAxis",AxisComp:nn}],formatAxisMap:HO}),Sa=U2({chartName:"BarChart",GraphicalChild:Sn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:rn},{axisType:"yAxis",AxisComp:nn}],formatAxisMap:HO}),Fg=U2({chartName:"PieChart",GraphicalChild:Vi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:O2},{axisType:"radiusAxis",AxisComp:k2}],formatAxisMap:A3e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),HLe=U2({chartName:"AreaChart",GraphicalChild:ad,axisComponents:[{axisType:"xAxis",AxisComp:rn},{axisType:"yAxis",AxisComp:nn}],formatAxisMap:HO});const qLe={light:"",dark:".dark"},XK=v.createContext(null);function QK(){const e=v.useContext(XK);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const av=v.forwardRef(({id:e,className:t,children:r,config:s,...a},i)=>{const o=v.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return n.jsx(XK.Provider,{value:{config:s},children:n.jsxs("div",{"data-chart":l,ref:i,className:ve("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[n.jsx(GLe,{id:l,config:s}),n.jsx(dn,{children:r})]})})});av.displayName="Chart";const GLe=({id:e,config:t})=>{const r=Object.entries(t).filter(([s,a])=>a.theme||a.color);return r.length?n.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(qLe).map(([s,a])=>`
${a} [data-chart=${e}] {
${r.map(([i,o])=>{var c;const l=((c=o.theme)==null?void 0:c[s])||o.color;return l?`  --color-${i}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},D$=hr,iv=v.forwardRef(({active:e,payload:t,className:r,indicator:s="dot",hideLabel:a=!1,hideIndicator:i=!1,label:o,labelFormatter:l,labelClassName:c,formatter:d,color:u,nameKey:f,labelKey:m},h)=>{const{config:x}=QK(),p=v.useMemo(()=>{var N;if(a||!(t!=null&&t.length))return null;const[j]=t,y=`${m||j.dataKey||j.name||"value"}`,w=rP(x,j,y),b=!m&&typeof o=="string"?((N=x[o])==null?void 0:N.label)||o:w==null?void 0:w.label;return l?n.jsx("div",{className:ve("font-medium",c),children:l(b,t)}):b?n.jsx("div",{className:ve("font-medium",c),children:b}):null},[o,l,t,a,c,x,m]);if(!e||!(t!=null&&t.length))return null;const g=t.length===1&&s!=="dot";return n.jsxs("div",{ref:h,className:ve("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[g?null:p,n.jsx("div",{className:"grid gap-1.5",children:t.map((j,y)=>{const w=`${f||j.name||j.dataKey||"value"}`,b=rP(x,j,w),N=u||j.payload.fill||j.color;return n.jsx("div",{className:ve("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",s==="dot"&&"items-center"),children:d&&(j==null?void 0:j.value)!==void 0&&j.name?d(j.value,j.name,j,y,j.payload):n.jsxs(n.Fragment,{children:[b!=null&&b.icon?n.jsx(b.icon,{}):!i&&n.jsx("div",{className:ve("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":s==="dot","w-1":s==="line","w-0 border-[1.5px] border-dashed bg-transparent":s==="dashed","my-0.5":g&&s==="dashed"}),style:{"--color-bg":N,"--color-border":N}}),n.jsxs("div",{className:ve("flex flex-1 justify-between leading-none",g?"items-end":"items-center"),children:[n.jsxs("div",{className:"grid gap-1.5",children:[g?p:null,n.jsx("span",{className:"text-muted-foreground",children:(b==null?void 0:b.label)||j.name})]}),j.value&&n.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:j.value.toLocaleString()})]})]})},j.dataKey)})})]})});iv.displayName="ChartTooltip";const KLe=v.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:s="bottom",nameKey:a},i)=>{const{config:o}=QK();return r!=null&&r.length?n.jsx("div",{ref:i,className:ve("flex items-center justify-center gap-4",s==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,d=rP(o,l,c);return n.jsxs("div",{className:ve("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[d!=null&&d.icon&&!t?n.jsx(d.icon,{}):n.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),d==null?void 0:d.label]},l.value)})}):null});KLe.displayName="ChartLegend";function rP(e,t,r){if(typeof t!="object"||t===null)return;const s="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:s&&r in s&&typeof s[r]=="string"&&(a=s[r]),a in e?e[a]:e[r]}const YLe=[{month:"Jun",ordered:0,delivered:0},{month:"Jul",ordered:0,delivered:0},{month:"Aug",ordered:0,delivered:0},{month:"Sep",ordered:0,delivered:0},{month:"Oct",ordered:0,delivered:0},{month:"Nov",ordered:0,delivered:0}],XLe=[{month:"Jun",amount:0},{month:"Jul",amount:0},{month:"Aug",amount:0},{month:"Sep",amount:0},{month:"Oct",amount:0},{month:"Nov",amount:0}],QLe=()=>{var j,y,w,b,N,S,_,E,A,k,D,I,W,H,F;const{data:e,isLoading:t,refetch:r}=Kpe(),{data:s}=qW(),[a,i]=v.useState(null),[o,l]=v.useState(null),[c,d]=v.useState(null),[u,f]=v.useState(null),m=e==null?void 0:e.kpi,h=(e==null?void 0:e.orders_chart)||YLe,x=(e==null?void 0:e.spending_chart)||XLe,p=(s==null?void 0:s.recent_orders)||[];s!=null&&s.recent_issues;const g=(s==null?void 0:s.recent_payments)||[];return console.log("Recent Data:",s),console.log("Recent Orders:",p),t?n.jsx(ct,{title:"Dashboard Overview",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[1,2,3,4,5].map(T=>n.jsx(X,{children:n.jsxs(Q,{className:"p-6",children:[n.jsx(C,{className:"h-4 w-24 mb-2"}),n.jsx(C,{className:"h-8 w-16 mb-2"}),n.jsx(C,{className:"h-3 w-20"})]})},T))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsx(C,{className:"h-[300px] w-full"})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsx(C,{className:"h-[300px] w-full"})})})]})]})}):n.jsx(ct,{title:"Dashboard Overview",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsx(Lx,{title:"Active Apartments",value:((j=m==null?void 0:m.active_apartments)==null?void 0:j.value)??0,icon:fr,trend:{value:((y=m==null?void 0:m.active_apartments)==null?void 0:y.trend)??0,label:((w=m==null?void 0:m.active_apartments)==null?void 0:w.trend_label)??"vs last month"}}),n.jsx(Lx,{title:"Pending Orders",value:((b=m==null?void 0:m.pending_orders)==null?void 0:b.value)??0,icon:ot,trend:{value:((N=m==null?void 0:m.pending_orders)==null?void 0:N.trend)??0,label:((S=m==null?void 0:m.pending_orders)==null?void 0:S.trend_label)??"vs last week"}}),n.jsx(Lx,{title:"Open Issues",value:((_=m==null?void 0:m.open_issues)==null?void 0:_.value)??0,icon:At,trend:{value:((E=m==null?void 0:m.open_issues)==null?void 0:E.trend)??0,label:((A=m==null?void 0:m.open_issues)==null?void 0:A.trend_label)??"no change"}}),n.jsx(Lx,{title:"Deliveries This Week",value:((k=m==null?void 0:m.deliveries_this_week)==null?void 0:k.value)??0,icon:_r,trend:{value:((D=m==null?void 0:m.deliveries_this_week)==null?void 0:D.trend)??0,label:((I=m==null?void 0:m.deliveries_this_week)==null?void 0:I.trend_label)??"vs last week"}}),n.jsx(Lx,{title:"Overdue Payments",value:((W=m==null?void 0:m.overdue_payments)==null?void 0:W.value)??0,icon:ws,trend:{value:((H=m==null?void 0:m.overdue_payments)==null?void 0:H.trend)??0,label:((F=m==null?void 0:m.overdue_payments)==null?void 0:F.trend_label)??"vs last month"}})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs(X,{className:"overflow-hidden",children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ve,{className:"flex items-center gap-2 text-base sm:text-lg",children:[n.jsx(ot,{className:"h-4 w-4 sm:h-5 sm:w-5"}),n.jsx("span",{className:"text-sm sm:text-base",children:"Orders Placed vs Delivered"})]})}),n.jsx(Q,{className:"p-2 sm:p-6",children:n.jsx(av,{config:{ordered:{label:"ordered",color:"hsl(var(--primary))"},delivered:{label:"delivered",color:"hsl(var(--success))"}},className:"h-[280px] sm:h-[320px] w-full",children:n.jsx(dn,{width:"100%",height:"100%",children:n.jsxs(Sa,{data:h,margin:{top:10,right:5,left:-20,bottom:5},children:[n.jsx(zn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(rn,{dataKey:"month",tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),n.jsx(nn,{tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),n.jsx(D$,{content:n.jsx(iv,{})}),n.jsx(ol,{wrapperStyle:{fontSize:"11px",paddingTop:"10px"},iconSize:10}),n.jsx(Sn,{dataKey:"ordered",fill:"hsl(var(--primary))",radius:[6,6,0,0]}),n.jsx(Sn,{dataKey:"delivered",fill:"hsl(var(--success))",radius:[6,6,0,0]})]})})})})]}),n.jsxs(X,{className:"overflow-hidden",children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ve,{className:"flex items-center gap-2 text-base sm:text-lg",children:[n.jsx(li,{className:"h-4 w-4 sm:h-5 sm:w-5"}),n.jsx("span",{className:"text-sm sm:text-base",children:"Total Spending Trend"})]})}),n.jsx(Q,{className:"p-2 sm:p-6",children:n.jsx(av,{config:{amount:{label:"Amount ()",color:"hsl(var(--primary))"}},className:"h-[280px] sm:h-[320px] w-full",children:n.jsx(dn,{width:"100%",height:"100%",children:n.jsxs(V2,{data:x,margin:{top:10,right:5,left:-20,bottom:5},children:[n.jsx(zn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(rn,{dataKey:"month",tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),n.jsx(nn,{tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),n.jsx(D$,{content:n.jsx(iv,{})}),n.jsx(sc,{type:"monotone",dataKey:"amount",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",r:3}})]})})})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(X,{className:"overflow-hidden",children:[n.jsx(be,{className:"border-b bg-gradient-to-r from-background to-muted/20",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(ot,{className:"h-5 w-5 text-primary"})}),n.jsx("span",{children:"Recent Orders"})]}),n.jsxs(_e,{variant:"secondary",className:"font-semibold",children:[p.length," orders"]})]})}),n.jsx(Q,{className:"p-4",children:n.jsx("div",{className:"space-y-3",children:p.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-muted/50 mb-3",children:n.jsx(ot,{className:"h-8 w-8 text-muted-foreground"})}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No recent orders"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Orders will appear here once placed"})]}):p.slice(0,5).map(T=>{var K,ne;const P=o===T.id,M=a===T.id,O=P||M;return n.jsxs("div",{className:`
                          group relative rounded-xl border-2
                          transition-all duration-500 ease-out cursor-pointer
                          ${O?"bg-gradient-to-br from-primary/5 via-primary/3 to-background shadow-xl border-primary/30":"bg-card/50 hover:bg-card border-border/50 hover:border-border hover:shadow-md"}
                        `,onMouseEnter:()=>!P&&i(T.id),onMouseLeave:()=>!P&&i(null),onClick:()=>l(P?null:T.id),children:[n.jsx("div",{className:`
                          absolute inset-0 bg-gradient-to-r from-primary/5 to-transparent opacity-0 transition-opacity duration-500 pointer-events-none rounded-xl
                          ${O?"opacity-100":""}
                        `}),n.jsx("div",{className:"relative p-4",children:n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:[n.jsx("div",{className:`
                                p-2 rounded-lg transition-all duration-300
                                ${O?"bg-primary/15":"bg-muted/60"}
                              `,children:n.jsx(hh,{className:`h-4 w-4 transition-colors ${O?"text-primary":"text-muted-foreground"}`})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(_e,{variant:"outline",className:`text-xs font-bold transition-all ${O?"border-primary/50 bg-primary/5":""}`,children:T.po_number}),n.jsx(_e,{variant:T.status==="delivered"?"default":T.status==="sent"?"secondary":T.status==="cancelled"?"destructive":"outline",className:"text-xs capitalize",children:T.status})]}),n.jsx("p",{className:"text-sm font-semibold text-foreground truncate",children:T.apartment})]})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsxs("p",{className:`text-base font-bold transition-colors ${O?"text-primary":"text-foreground"}`,children:[T.total.toLocaleString()," Ft"]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[((K=T.items)==null?void 0:K.length)||0," ",((ne=T.items)==null?void 0:ne.length)===1?"item":"items"]})]})]})}),n.jsx("div",{className:`
                          transition-all duration-500 ease-out overflow-hidden
                          ${O?"max-h-[600px]":"max-h-0"}
                        `,children:n.jsx("div",{className:"overflow-visible",children:n.jsxs("div",{className:"px-4 pb-4 pt-2 border-t border-border/50 bg-gradient-to-b from-muted/20 via-muted/5 to-transparent",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4 mt-3",children:[n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(hh,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Order ID"})]}),n.jsxs("p",{className:"text-xs font-mono font-medium text-foreground truncate",title:T.id,children:[T.id.substring(0,8),"..."]})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(va,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Apartment"})]}),n.jsx("p",{className:"text-xs font-medium text-foreground truncate",title:T.apartment,children:T.apartment})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(La,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Vendor"})]}),n.jsx("p",{className:"text-xs font-medium text-foreground truncate",title:T.vendor,children:T.vendor})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-background/40 border border-border/30",children:[n.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:n.jsx(Qr,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Placed On"}),n.jsx("p",{className:"text-xs font-semibold text-foreground",children:T.placed_on?Xt(new Date(T.placed_on),"MMM dd, yyyy"):"N/A"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-background/40 border border-border/30",children:[n.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:n.jsx(Nr,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-xs font-bold text-primary",children:[T.total.toLocaleString()," Ft"]})]})]})]}),T.items&&T.items.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 px-1",children:[n.jsx("div",{className:"p-1 rounded bg-primary/10",children:n.jsx(ot,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("p",{className:"text-xs font-bold text-foreground uppercase tracking-wide",children:["Products (",T.items.length,")"]})]}),n.jsx("div",{className:"space-y-2 max-h-[240px] overflow-y-auto pr-2",style:{scrollbarWidth:"thin",scrollbarColor:"hsl(var(--primary) / 0.3) transparent"},children:T.items.map((R,V)=>n.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-lg bg-background/80 border border-border/40 hover:bg-background hover:border-primary/30 hover:shadow-sm transition-all duration-200",children:[R.product_image?n.jsx("img",{src:R.product_image,alt:R.product_name,className:"w-10 h-10 rounded-md object-cover flex-shrink-0 border-2 border-border/50"}):n.jsx("div",{className:"w-10 h-10 rounded-md bg-muted/60 flex items-center justify-center flex-shrink-0 border-2 border-border/50",children:n.jsx(ot,{className:"w-5 h-5 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-semibold text-foreground truncate leading-tight mb-1",title:R.product_name,children:R.product_name}),n.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-muted-foreground",children:[n.jsxs("span",{className:"font-medium",children:["Qty: ",n.jsx("span",{className:"text-foreground font-semibold",children:R.quantity})]}),n.jsx("span",{children:""}),n.jsxs("span",{className:"font-medium",children:[R.unit_price.toLocaleString()," Ft/unit"]})]})]}),n.jsx("div",{className:"text-right flex-shrink-0",children:n.jsxs("p",{className:"text-xs font-bold text-foreground",children:[(R.quantity*R.unit_price).toLocaleString()," Ft"]})})]},R.id))})]})]})})})]},T.id)})})})]}),n.jsxs(X,{className:"overflow-hidden",children:[n.jsx(be,{className:"border-b bg-gradient-to-r from-background to-muted/20",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(ws,{className:"h-5 w-5 text-primary"})}),n.jsx("span",{children:"Recent Payments"})]}),n.jsxs(_e,{variant:"secondary",className:"font-semibold",children:[g.length," payments"]})]})}),n.jsx(Q,{className:"p-4",children:n.jsx("div",{className:"space-y-3",children:g.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-muted/50 mb-3",children:n.jsx(ws,{className:"h-8 w-8 text-muted-foreground"})}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No recent payments"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Payments will appear here once made"})]}):g.slice(0,5).map(T=>{const P=u===T.id,M=c===T.id,O=P||M;return n.jsxs("div",{className:`
                          group relative rounded-xl border-2
                          transition-all duration-500 ease-out cursor-pointer
                          ${O?"bg-gradient-to-br from-primary/5 via-primary/3 to-background shadow-xl border-primary/30":"bg-card/50 hover:bg-card border-border/50 hover:border-border hover:shadow-md"}
                        `,onMouseEnter:()=>!P&&d(T.id),onMouseLeave:()=>!P&&d(null),onClick:()=>f(P?null:T.id),children:[n.jsx("div",{className:`
                          absolute inset-0 bg-gradient-to-r from-primary/5 to-transparent opacity-0 transition-opacity duration-500 pointer-events-none rounded-xl
                          ${O?"opacity-100":""}
                        `}),n.jsx("div",{className:"relative p-4",children:n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:[n.jsx("div",{className:`
                                p-2 rounded-lg transition-all duration-300
                                ${O?"bg-primary/15":"bg-muted/60"}
                              `,children:n.jsx(ws,{className:`h-4 w-4 transition-colors ${O?"text-primary":"text-muted-foreground"}`})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(_e,{variant:"outline",className:`text-xs font-bold transition-all ${O?"border-primary/50 bg-primary/5":""}`,children:T.order_reference}),n.jsx(_e,{variant:T.status==="Paid"?"default":T.status==="Partial"?"secondary":"destructive",className:"text-xs capitalize",children:T.status})]}),n.jsx("p",{className:"text-sm font-semibold text-foreground truncate",children:T.vendor||"Unknown vendor"})]})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsxs("p",{className:`text-base font-bold transition-colors ${O?"text-primary":"text-foreground"}`,children:[T.amount_paid.toLocaleString()," Ft"]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["of ",T.total_amount.toLocaleString()," Ft"]})]})]})}),n.jsx("div",{className:`
                          transition-all duration-500 ease-out overflow-hidden
                          ${O?"max-h-[600px]":"max-h-0"}
                        `,children:n.jsx("div",{className:"overflow-visible",children:n.jsxs("div",{className:"px-4 pb-4 pt-2 border-t border-border/50 bg-gradient-to-b from-muted/20 via-muted/5 to-transparent",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4 mt-3",children:[n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(hh,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Payment ID"})]}),n.jsxs("p",{className:"text-xs font-mono font-medium text-foreground truncate",title:T.id,children:[T.id.substring(0,8),"..."]})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(ot,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Order Ref"})]}),n.jsx("p",{className:"text-xs font-medium text-foreground truncate",title:T.order_reference,children:T.order_reference})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(La,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Vendor"})]}),n.jsx("p",{className:"text-xs font-medium text-foreground truncate",title:T.vendor,children:T.vendor||"Unknown"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-background/40 border border-border/30",children:[n.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:n.jsx(Nr,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Amount Paid"}),n.jsxs("p",{className:"text-xs font-bold text-primary",children:[T.amount_paid.toLocaleString()," Ft"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-background/40 border border-border/30",children:[n.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:n.jsx(Nr,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-xs font-semibold text-foreground",children:[T.total_amount.toLocaleString()," Ft"]})]})]})]}),n.jsxs("div",{className:"space-y-2 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-xs font-semibold text-foreground",children:"Payment Progress"}),n.jsxs("p",{className:"text-xs font-bold text-primary",children:[Math.round(T.amount_paid/T.total_amount*100),"%"]})]}),n.jsx("div",{className:"w-full bg-muted/50 rounded-full h-2 overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-primary/70 rounded-full transition-all duration-500",style:{width:`${T.amount_paid/T.total_amount*100}%`}})}),n.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground",children:[n.jsxs("span",{children:["Paid: ",T.amount_paid.toLocaleString()," Ft"]}),n.jsxs("span",{children:["Remaining: ",(T.total_amount-T.amount_paid).toLocaleString()," Ft"]})]})]})]})})})]},T.id)})})})]})]}),n.jsx(x0e,{})]})})},ZLe=()=>{const e=oc();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),n.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),n.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},ZK=cr.create({baseURL:to.replace("/api",""),headers:{"Content-Type":"application/json"}});ZK.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const JLe=()=>{const[e,t]=v.useState(!1);return{enhanceText:async(s,a="improve")=>{var i,o;if(!s||!s.trim())return Ue.error("Please enter some text first"),null;t(!0);try{const l=await ZK.post("/api/utils/enhance-text/",{text:s,type:a});return Ue.success("Text enhanced successfully"),l.data.enhanced}catch(l){console.error("Failed to enhance text:",l);const c=((o=(i=l.response)==null?void 0:i.data)==null?void 0:o.error)||"Failed to enhance text";return Ue.error(c),null}finally{t(!1)}},isEnhancing:e}},t3=({text:e,onTextEnhanced:t,className:r="",variant:s="outline",size:a="sm"})=>{const{enhanceText:i,isEnhancing:o}=JLe(),[l,c]=v.useState(!1),d=async u=>{c(!1);const f=await i(e,u);f&&t(f)};return n.jsxs(ey,{open:l,onOpenChange:c,children:[n.jsx(ty,{asChild:!0,children:n.jsx(ee,{type:"button",variant:s,size:a,className:r,disabled:o||!(e!=null&&e.trim()),children:o?n.jsx(n.Fragment,{children:n.jsx(Bt,{className:"h-4 w-4  animate-spin"})}):n.jsx(n.Fragment,{children:n.jsx(Cc,{className:"h-4 w-4 "})})})}),n.jsxs(Qp,{align:"end",children:[n.jsxs(Mn,{onClick:()=>d("improve"),children:[n.jsx(Cc,{className:"h-4 w-4 mr-2"}),"Improve & Fix"]}),n.jsxs(Mn,{onClick:()=>d("shorten"),children:[n.jsx(Cc,{className:"h-4 w-4 mr-2"}),"Make Shorter"]}),n.jsxs(Mn,{onClick:()=>d("professional"),children:[n.jsx(Cc,{className:"h-4 w-4 mr-2"}),"Professional Tone"]}),n.jsxs(Mn,{onClick:()=>d("friendly"),children:[n.jsx(Cc,{className:"h-4 w-4 mr-2"}),"Friendly Tone"]}),n.jsxs(Mn,{onClick:()=>d("translate"),children:[n.jsx(Cc,{className:"h-4 w-4 mr-2"}),"Translate to English"]})]})]})},ha=v.forwardRef(({className:e,value:t,onChange:r,...s},a)=>{const[i,o]=v.useState(t||"");v.useEffect(()=>{o(t||"")},[t]);const l=d=>{o(d.target.value),r==null||r(d)},c=d=>{const u={target:{value:d}};o(d),r==null||r(u)};return n.jsxs("div",{className:"relative",children:[n.jsx("textarea",{className:ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 pr-24 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,value:i,onChange:l,...s}),n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(t3,{text:i.toString(),onTextEnhanced:c,variant:"ghost",size:"sm"})})]})});ha.displayName="EnhancedTextarea";const Ms=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:ve("w-full caption-bottom text-sm",e),...t})}));Ms.displayName="Table";const Fs=v.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:ve("[&_tr]:border-b",e),...t}));Fs.displayName="TableHeader";const $s=v.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:ve("[&_tr:last-child]:border-0",e),...t}));$s.displayName="TableBody";const e8e=v.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:ve("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));e8e.displayName="TableFooter";const Vt=v.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:ve("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Vt.displayName="TableRow";const Pe=v.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:ve("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Pe.displayName="TableHead";const Ne=v.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:ve("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ne.displayName="TableCell";const t8e=v.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:ve("mt-4 text-sm text-muted-foreground",e),...t}));t8e.displayName="TableCaption";function z2(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var r8e=[" ","Enter","ArrowUp","ArrowDown"],n8e=[" ","Enter"],gy="Select",[W2,H2,s8e]=Dv(gy),[fx,Bnt]=ra(gy,[s8e,Du]),q2=Du(),[a8e,Bu]=fx(gy),[i8e,o8e]=fx(gy),JK=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:m,required:h,form:x}=e,p=q2(t),[g,j]=v.useState(null),[y,w]=v.useState(null),[b,N]=v.useState(!1),S=dm(d),[_=!1,E]=$a({prop:s,defaultProp:a,onChange:i}),[A,k]=$a({prop:o,defaultProp:l,onChange:c}),D=v.useRef(null),I=g?x||!!g.closest("form"):!0,[W,H]=v.useState(new Set),F=Array.from(W).map(T=>T.props.value).join(";");return n.jsx(wN,{...p,children:n.jsxs(a8e,{required:h,scope:t,trigger:g,onTriggerChange:j,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:N,contentId:di(),value:A,onValueChange:k,open:_,onOpenChange:E,dir:S,triggerPointerDownPosRef:D,disabled:m,children:[n.jsx(W2.Provider,{scope:t,children:n.jsx(i8e,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(T=>{H(P=>new Set(P).add(T))},[]),onNativeOptionRemove:v.useCallback(T=>{H(P=>{const M=new Set(P);return M.delete(T),M})},[]),children:r})}),I?n.jsxs(_Y,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:f,value:A,onChange:T=>k(T.target.value),disabled:m,form:x,children:[A===void 0?n.jsx("option",{value:""}):null,Array.from(W)]},F):null]})})};JK.displayName=gy;var eY="SelectTrigger",tY=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,i=q2(r),o=Bu(eY,r),l=o.disabled||s,c=Ft(t,o.onTriggerChange),d=H2(r),u=v.useRef("touch"),[f,m,h]=SY(p=>{const g=d().filter(w=>!w.disabled),j=g.find(w=>w.value===o.value),y=CY(g,p,j);y!==void 0&&o.onValueChange(y.value)}),x=p=>{l||(o.onOpenChange(!0),h()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return n.jsx(Uv,{asChild:!0,...i,children:n.jsx(ft.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":NY(o.value)?"":void 0,...a,ref:c,onClick:He(a.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&x(p)}),onPointerDown:He(a.onPointerDown,p=>{u.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(x(p),p.preventDefault())}),onKeyDown:He(a.onKeyDown,p=>{const g=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&m(p.key),!(g&&p.key===" ")&&r8e.includes(p.key)&&(x(),p.preventDefault())})})})});tY.displayName=eY;var rY="SelectValue",nY=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...l}=e,c=Bu(rY,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=Ft(t,c.onValueNodeChange);return is(()=>{d(u)},[d,u]),n.jsx(ft.span,{...l,ref:f,style:{pointerEvents:"none"},children:NY(c.value)?n.jsx(n.Fragment,{children:o}):i})});nY.displayName=rY;var l8e="SelectIcon",sY=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(ft.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});sY.displayName=l8e;var c8e="SelectPortal",aY=e=>n.jsx(Lp,{asChild:!0,...e});aY.displayName=c8e;var rm="SelectContent",iY=v.forwardRef((e,t)=>{const r=Bu(rm,e.__scopeSelect),[s,a]=v.useState();if(is(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?pl.createPortal(n.jsx(oY,{scope:e.__scopeSelect,children:n.jsx(W2.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(lY,{...e,ref:t})});iY.displayName=rm;var zo=10,[oY,Uu]=fx(rm),d8e="SelectContentImpl",lY=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:x,hideWhenDetached:p,avoidCollisions:g,...j}=e,y=Bu(rm,r),[w,b]=v.useState(null),[N,S]=v.useState(null),_=Ft(t,fe=>b(fe)),[E,A]=v.useState(null),[k,D]=v.useState(null),I=H2(r),[W,H]=v.useState(!1),F=v.useRef(!1);v.useEffect(()=>{if(w)return Xv(w)},[w]),$N();const T=v.useCallback(fe=>{const[B,...Y]=I().map(ue=>ue.ref.current),[ie]=Y.slice(-1),we=document.activeElement;for(const ue of fe)if(ue===we||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===B&&N&&(N.scrollTop=0),ue===ie&&N&&(N.scrollTop=N.scrollHeight),ue==null||ue.focus(),document.activeElement!==we))return},[I,N]),P=v.useCallback(()=>T([E,w]),[T,E,w]);v.useEffect(()=>{W&&P()},[W,P]);const{onOpenChange:M,triggerPointerDownPosRef:O}=y;v.useEffect(()=>{if(w){let fe={x:0,y:0};const B=ie=>{var we,ue;fe={x:Math.abs(Math.round(ie.pageX)-(((we=O.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((ue=O.current)==null?void 0:ue.y)??0))}},Y=ie=>{fe.x<=10&&fe.y<=10?ie.preventDefault():w.contains(ie.target)||M(!1),document.removeEventListener("pointermove",B),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",B),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",Y,{capture:!0})}}},[w,M,O]),v.useEffect(()=>{const fe=()=>M(!1);return window.addEventListener("blur",fe),window.addEventListener("resize",fe),()=>{window.removeEventListener("blur",fe),window.removeEventListener("resize",fe)}},[M]);const[K,ne]=SY(fe=>{const B=I().filter(we=>!we.disabled),Y=B.find(we=>we.ref.current===document.activeElement),ie=CY(B,fe,Y);ie&&setTimeout(()=>ie.ref.current.focus())}),R=v.useCallback((fe,B,Y)=>{const ie=!F.current&&!Y;(y.value!==void 0&&y.value===B||ie)&&(A(fe),ie&&(F.current=!0))},[y.value]),V=v.useCallback(()=>w==null?void 0:w.focus(),[w]),L=v.useCallback((fe,B,Y)=>{const ie=!F.current&&!Y;(y.value!==void 0&&y.value===B||ie)&&D(fe)},[y.value]),G=s==="popper"?nP:cY,le=G===nP?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:x,hideWhenDetached:p,avoidCollisions:g}:{};return n.jsx(oY,{scope:r,content:w,viewport:N,onViewportChange:S,itemRefCallback:R,selectedItem:E,onItemLeave:V,itemTextRefCallback:L,focusSelectedItem:P,selectedItemText:k,position:s,isPositioned:W,searchRef:K,children:n.jsx(Qv,{as:Jl,allowPinchZoom:!0,children:n.jsx(Yv,{asChild:!0,trapped:y.open,onMountAutoFocus:fe=>{fe.preventDefault()},onUnmountAutoFocus:He(a,fe=>{var B;(B=y.trigger)==null||B.focus({preventScroll:!0}),fe.preventDefault()}),children:n.jsx(cm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:fe=>fe.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:n.jsx(G,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:fe=>fe.preventDefault(),...j,...le,onPlaced:()=>H(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:He(j.onKeyDown,fe=>{const B=fe.ctrlKey||fe.altKey||fe.metaKey;if(fe.key==="Tab"&&fe.preventDefault(),!B&&fe.key.length===1&&ne(fe.key),["ArrowUp","ArrowDown","Home","End"].includes(fe.key)){let ie=I().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(fe.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(fe.key)){const we=fe.target,ue=ie.indexOf(we);ie=ie.slice(ue+1)}setTimeout(()=>T(ie)),fe.preventDefault()}})})})})})})});lY.displayName=d8e;var u8e="SelectItemAlignedPosition",cY=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,i=Bu(rm,r),o=Uu(rm,r),[l,c]=v.useState(null),[d,u]=v.useState(null),f=Ft(t,_=>u(_)),m=H2(r),h=v.useRef(!1),x=v.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:j,focusSelectedItem:y}=o,w=v.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&p&&g&&j){const _=i.trigger.getBoundingClientRect(),E=d.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),k=j.getBoundingClientRect();if(i.dir!=="rtl"){const we=k.left-E.left,ue=A.left-we,ge=_.left-ue,xe=_.width+ge,Se=Math.max(xe,E.width),Me=window.innerWidth-zo,ke=pE(ue,[zo,Math.max(zo,Me-Se)]);l.style.minWidth=xe+"px",l.style.left=ke+"px"}else{const we=E.right-k.right,ue=window.innerWidth-A.right-we,ge=window.innerWidth-_.right-ue,xe=_.width+ge,Se=Math.max(xe,E.width),Me=window.innerWidth-zo,ke=pE(ue,[zo,Math.max(zo,Me-Se)]);l.style.minWidth=xe+"px",l.style.right=ke+"px"}const D=m(),I=window.innerHeight-zo*2,W=p.scrollHeight,H=window.getComputedStyle(d),F=parseInt(H.borderTopWidth,10),T=parseInt(H.paddingTop,10),P=parseInt(H.borderBottomWidth,10),M=parseInt(H.paddingBottom,10),O=F+T+W+M+P,K=Math.min(g.offsetHeight*5,O),ne=window.getComputedStyle(p),R=parseInt(ne.paddingTop,10),V=parseInt(ne.paddingBottom,10),L=_.top+_.height/2-zo,G=I-L,le=g.offsetHeight/2,fe=g.offsetTop+le,B=F+T+fe,Y=O-B;if(B<=L){const we=D.length>0&&g===D[D.length-1].ref.current;l.style.bottom="0px";const ue=d.clientHeight-p.offsetTop-p.offsetHeight,ge=Math.max(G,le+(we?V:0)+ue+P),xe=B+ge;l.style.height=xe+"px"}else{const we=D.length>0&&g===D[0].ref.current;l.style.top="0px";const ge=Math.max(L,F+p.offsetTop+(we?R:0)+le)+Y;l.style.height=ge+"px",p.scrollTop=B-L+p.offsetTop}l.style.margin=`${zo}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=I+"px",s==null||s(),requestAnimationFrame(()=>h.current=!0)}},[m,i.trigger,i.valueNode,l,d,p,g,j,i.dir,s]);is(()=>w(),[w]);const[b,N]=v.useState();is(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const S=v.useCallback(_=>{_&&x.current===!0&&(w(),y==null||y(),x.current=!1)},[w,y]);return n.jsx(m8e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:S,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:n.jsx(ft.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});cY.displayName=u8e;var f8e="SelectPopperPosition",nP=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=zo,...i}=e,o=q2(r);return n.jsx(NN,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});nP.displayName=f8e;var[m8e,r3]=fx(rm,{}),sP="SelectViewport",dY=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,i=Uu(sP,r),o=r3(sP,r),l=Ft(t,i.onViewportChange),c=v.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(W2.Slot,{scope:r,children:n.jsx(ft.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:He(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const h=Math.abs(c.current-u.scrollTop);if(h>0){const x=window.innerHeight-zo*2,p=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),j=Math.max(p,g);if(j<x){const y=j+h,w=Math.min(x,y),b=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(u.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});dY.displayName=sP;var uY="SelectGroup",[h8e,p8e]=fx(uY),x8e=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=di();return n.jsx(h8e,{scope:r,id:a,children:n.jsx(ft.div,{role:"group","aria-labelledby":a,...s,ref:t})})});x8e.displayName=uY;var fY="SelectLabel",mY=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=p8e(fY,r);return n.jsx(ft.div,{id:a.id,...s,ref:t})});mY.displayName=fY;var Nw="SelectItem",[g8e,hY]=fx(Nw),pY=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=e,l=Bu(Nw,r),c=Uu(Nw,r),d=l.value===s,[u,f]=v.useState(i??""),[m,h]=v.useState(!1),x=Ft(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,s,a)}),p=di(),g=v.useRef("touch"),j=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(g8e,{scope:r,value:s,disabled:a,textId:p,isSelected:d,onItemTextChange:v.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:n.jsx(W2.ItemSlot,{scope:r,value:s,disabled:a,textValue:u,children:n.jsx(ft.div,{role:"option","aria-labelledby":p,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:He(o.onFocus,()=>h(!0)),onBlur:He(o.onBlur,()=>h(!1)),onClick:He(o.onClick,()=>{g.current!=="mouse"&&j()}),onPointerUp:He(o.onPointerUp,()=>{g.current==="mouse"&&j()}),onPointerDown:He(o.onPointerDown,y=>{g.current=y.pointerType}),onPointerMove:He(o.onPointerMove,y=>{var w;g.current=y.pointerType,a?(w=c.onItemLeave)==null||w.call(c):g.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:He(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:He(o.onKeyDown,y=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&y.key===" "||(n8e.includes(y.key)&&j(),y.key===" "&&y.preventDefault())})})})})});pY.displayName=Nw;var fg="SelectItemText",xY=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...i}=e,o=Bu(fg,r),l=Uu(fg,r),c=hY(fg,r),d=o8e(fg,r),[u,f]=v.useState(null),m=Ft(t,j=>f(j),c.onItemTextChange,j=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,j,c.value,c.disabled)}),h=u==null?void 0:u.textContent,x=v.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=d;return is(()=>(p(x),()=>g(x)),[p,g,x]),n.jsxs(n.Fragment,{children:[n.jsx(ft.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?pl.createPortal(i.children,o.valueNode):null]})});xY.displayName=fg;var gY="SelectItemIndicator",vY=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return hY(gY,r).isSelected?n.jsx(ft.span,{"aria-hidden":!0,...s,ref:t}):null});vY.displayName=gY;var aP="SelectScrollUpButton",yY=v.forwardRef((e,t)=>{const r=Uu(aP,e.__scopeSelect),s=r3(aP,e.__scopeSelect),[a,i]=v.useState(!1),o=Ft(t,s.onScrollButtonChange);return is(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(bY,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});yY.displayName=aP;var iP="SelectScrollDownButton",jY=v.forwardRef((e,t)=>{const r=Uu(iP,e.__scopeSelect),s=r3(iP,e.__scopeSelect),[a,i]=v.useState(!1),o=Ft(t,s.onScrollButtonChange);return is(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(bY,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});jY.displayName=iP;var bY=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,i=Uu("SelectScrollButton",r),o=v.useRef(null),l=H2(r),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),is(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(ft.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:He(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:He(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:He(a.onPointerLeave,()=>{c()})})}),v8e="SelectSeparator",wY=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(ft.div,{"aria-hidden":!0,...s,ref:t})});wY.displayName=v8e;var oP="SelectArrow",y8e=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=q2(r),i=Bu(oP,r),o=Uu(oP,r);return i.open&&o.position==="popper"?n.jsx(_N,{...a,...s,ref:t}):null});y8e.displayName=oP;function NY(e){return e===""||e===void 0}var _Y=v.forwardRef((e,t)=>{const{value:r,...s}=e,a=v.useRef(null),i=Ft(t,a),o=z2(r);return v.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&u){const f=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(f)}},[o,r]),n.jsx(Iv,{asChild:!0,children:n.jsx("select",{...s,ref:i,defaultValue:r})})});_Y.displayName="BubbleSelect";function SY(e){const t=mn(e),r=v.useRef(""),s=v.useRef(0),a=v.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=v.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function CY(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=j8e(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function j8e(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var b8e=JK,EY=tY,w8e=nY,N8e=sY,_8e=aY,AY=iY,S8e=dY,PY=mY,kY=pY,C8e=xY,E8e=vY,TY=yY,OY=jY,DY=wY;const tt=b8e,rt=w8e,Je=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(EY,{ref:s,className:ve("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(N8e,{asChild:!0,children:n.jsx(Ou,{className:"h-4 w-4 opacity-50"})})]}));Je.displayName=EY.displayName;const IY=v.forwardRef(({className:e,...t},r)=>n.jsx(TY,{ref:r,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(gN,{className:"h-4 w-4"})}));IY.displayName=TY.displayName;const RY=v.forwardRef(({className:e,...t},r)=>n.jsx(OY,{ref:r,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Ou,{className:"h-4 w-4"})}));RY.displayName=OY.displayName;const et=v.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx(_8e,{children:n.jsxs(AY,{ref:a,className:ve("relative z-[9999] max-h-96 overflow-hidden rounded-lg border border-border/50 bg-popover backdrop-blur-xl text-popover-foreground shadow-2xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,sideOffset:4,...s,children:[n.jsx(IY,{}),n.jsx(S8e,{className:ve("p-2 min-w-[12rem]",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full"),children:t}),n.jsx(RY,{})]})}));et.displayName=AY.displayName;const A8e=v.forwardRef(({className:e,...t},r)=>n.jsx(PY,{ref:r,className:ve("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));A8e.displayName=PY.displayName;const J=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(kY,{ref:s,className:ve("relative flex w-full cursor-pointer select-none items-center rounded-md py-2.5 px-3 text-sm font-medium outline-none","hover:bg-accent/80 hover:text-accent-foreground focus:bg-accent/80 focus:text-accent-foreground","data-[disabled]:pointer-events-none data-[disabled]:opacity-50","transition-colors duration-150",e),...r,children:[n.jsx("span",{className:"absolute left-3 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(E8e,{children:n.jsx(yo,{className:"h-4 w-4 text-primary"})})}),n.jsx(C8e,{className:"pl-6",children:t})]}));J.displayName=kY.displayName;const P8e=v.forwardRef(({className:e,...t},r)=>n.jsx(DY,{ref:r,className:ve("my-1.5 h-px bg-border/50",e),...t}));P8e.displayName=DY.displayName;var MY="AlertDialog",[k8e,Unt]=ra(MY,[Uz]),pd=Uz(),FY=e=>{const{__scopeAlertDialog:t,...r}=e,s=pd(t);return n.jsx(_T,{...s,...r,modal:!0})};FY.displayName=MY;var T8e="AlertDialogTrigger",$Y=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=pd(r);return n.jsx(nW,{...a,...s,ref:t})});$Y.displayName=T8e;var O8e="AlertDialogPortal",LY=e=>{const{__scopeAlertDialog:t,...r}=e,s=pd(t);return n.jsx(ST,{...s,...r})};LY.displayName=O8e;var D8e="AlertDialogOverlay",BY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=pd(r);return n.jsx(ry,{...a,...s,ref:t})});BY.displayName=D8e;var _h="AlertDialogContent",[I8e,R8e]=k8e(_h),UY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...a}=e,i=pd(r),o=v.useRef(null),l=Ft(t,o),c=v.useRef(null);return n.jsx(Hme,{contentName:_h,titleName:VY,docsSlug:"alert-dialog",children:n.jsx(I8e,{scope:r,cancelRef:c,children:n.jsxs(ny,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:He(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[n.jsx(yk,{children:s}),n.jsx(F8e,{contentRef:o})]})})})});UY.displayName=_h;var VY="AlertDialogTitle",zY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=pd(r);return n.jsx(sy,{...a,...s,ref:t})});zY.displayName=VY;var WY="AlertDialogDescription",HY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=pd(r);return n.jsx(ay,{...a,...s,ref:t})});HY.displayName=WY;var M8e="AlertDialogAction",qY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=pd(r);return n.jsx(zN,{...a,...s,ref:t})});qY.displayName=M8e;var GY="AlertDialogCancel",KY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=R8e(GY,r),i=pd(r),o=Ft(t,a);return n.jsx(zN,{...i,...s,ref:o})});KY.displayName=GY;var F8e=({contentRef:e})=>{const t=`\`${_h}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${_h}\` by passing a \`${WY}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${_h}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},$8e=FY,L8e=$Y,B8e=LY,YY=BY,XY=UY,QY=qY,ZY=KY,JY=zY,eX=HY;const uc=$8e,tX=L8e,U8e=B8e,rX=v.forwardRef(({className:e,...t},r)=>n.jsx(YY,{className:ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));rX.displayName=YY.displayName;const yl=v.forwardRef(({className:e,...t},r)=>n.jsxs(U8e,{children:[n.jsx(rX,{}),n.jsx(XY,{ref:r,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));yl.displayName=XY.displayName;const jl=({className:e,...t})=>n.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",e),...t});jl.displayName="AlertDialogHeader";const bl=({className:e,...t})=>n.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});bl.displayName="AlertDialogFooter";const wl=v.forwardRef(({className:e,...t},r)=>n.jsx(JY,{ref:r,className:ve("text-lg font-semibold",e),...t}));wl.displayName=JY.displayName;const Nl=v.forwardRef(({className:e,...t},r)=>n.jsx(eX,{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));Nl.displayName=eX.displayName;const _l=v.forwardRef(({className:e,...t},r)=>n.jsx(QY,{ref:r,className:ve(y0(),e),...t}));_l.displayName=QY.displayName;const Sl=v.forwardRef(({className:e,...t},r)=>n.jsx(ZY,{ref:r,className:ve(y0({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Sl.displayName=ZY.displayName;const Ea=cr.create({baseURL:to,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1,validateStatus:e=>e<500});Ea.interceptors.request.use(e=>(e.metadata={startTime:Date.now()},e),e=>Promise.reject(e));Ea.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));let Pj=!1,lP=[];const ZS=(e,t=null)=>{lP.forEach(r=>{e?r.reject(e):r.resolve(t)}),lP=[]};Ea.interceptors.response.use(e=>e,async e=>{var r,s;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if(Pj)return new Promise((i,o)=>{lP.push({resolve:i,reject:o})}).then(i=>(t.headers&&(t.headers.Authorization=`Bearer ${i}`),Ea(t))).catch(i=>Promise.reject(i));t._retry=!0,Pj=!0;const a=localStorage.getItem("refresh_token");if(!a)return Pj=!1,ZS(e,null),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),Promise.reject(e);try{const i=await cr.post(`${qv}/refresh/`,{refresh:a},{timeout:1e4}),{access:o}=i.data;return localStorage.setItem("access_token",o),t.headers&&(t.headers.Authorization=`Bearer ${o}`),ZS(null,o),Ea(t)}catch(i){return ZS(i,null),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),Promise.reject(i)}finally{Pj=!1}}if((s=e.response)!=null&&s.data){const a=e.response.data,i=a.error||a.detail||a.message||"An error occurred";return Promise.reject(new Error(i))}return Promise.reject(e)});const vy={async getClients(e){return(await Ea.get("/clients/",{params:e,signal:new AbortController().signal})).data},async getClient(e){return(await Ea.get(`/clients/${e}/`,{headers:{"Cache-Control":"max-age=300"}})).data},async createClient(e){return(await Ea.post("/clients/",e)).data},async updateClient(e,t){return(await Ea.patch(`/clients/${e}/`,t)).data},async deleteClient(e){await Ea.delete(`/clients/${e}/`)},async replaceClient(e,t){return(await Ea.put(`/clients/${e}/`,t)).data},async batchGetClients(e){const t=e.map(r=>this.getClient(r));return Promise.all(t)},async checkEmailExists(e){try{return(await Ea.get("/clients/",{params:{search:e}})).data.results.some(r=>r.email===e)}catch{return!1}},async getClientApartments(e){return(await Ea.get(`/clients/${e}/apartments/`)).data},async getClientProducts(e){return(await Ea.get(`/clients/${e}/products/`)).data},async getClientDetails(e){return(await Ea.get(`/clients/${e}/details/`)).data}},Jo={all:["clients"],lists:()=>[...Jo.all,"list"],list:e=>[...Jo.lists(),e],details:()=>[...Jo.all,"detail"],detail:e=>[...Jo.details(),e]};function V8e(e,t){const[r,s]=v.useState(e);return v.useEffect(()=>{const a=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function G2(e,t){const r=V8e(e==null?void 0:e.search,300),s={...e,search:r};return Ss({queryKey:Jo.list(s),queryFn:()=>vy.getClients(s),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:a=>a,...t})}function z8e(){const e=Hr(),{toast:t}=gr();return cn({mutationFn:r=>vy.createClient(r),onMutate:async r=>{await e.cancelQueries({queryKey:Jo.all});const s=e.getQueryData(Jo.all),a={id:`temp-${Date.now()}`,...r,apartments_count:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return e.setQueriesData({queryKey:Jo.lists()},i=>i&&{...i,results:[a,...i.results||[]],count:(i.count||0)+1}),{previousClients:s,optimisticClient:a}},onError:(r,s,a)=>{a!=null&&a.previousClients&&e.setQueryData(Jo.all,a.previousClients),t({title:"Error creating client",description:r.message||"Something went wrong",variant:"destructive"})},onSuccess:r=>{t({title:"Client created",description:`${r.name} has been created successfully.`})},onSettled:()=>{e.invalidateQueries({queryKey:Jo.all})}})}function nX(){const e=Hr(),{toast:t}=gr();return cn({mutationFn:({id:r,data:s})=>vy.updateClient(r,s),onSuccess:r=>{e.invalidateQueries({queryKey:Jo.detail(r.id)}),e.invalidateQueries({queryKey:["clients"]}),t({title:"Client updated",description:`${r.name} has been updated successfully.`})},onError:r=>{t({title:"Error updating client",description:r.message||"Something went wrong",variant:"destructive"})}})}function W8e(){const e=Hr(),{toast:t}=gr();return cn({mutationFn:({id:r,name:s})=>vy.deleteClient(r).then(()=>({id:r,name:s})),onSuccess:r=>{e.invalidateQueries({queryKey:["clients"]}),t({title:"Client deleted",description:`${r.name} has been deleted successfully.`})},onError:r=>{t({title:"Error deleting client",description:r.message||"Something went wrong",variant:"destructive"})}})}const H8e=()=>{const e=mr(),{toast:t}=gr(),[r,s]=v.useState(""),[a,i]=v.useState("all"),[o,l]=v.useState("all"),[c,d]=v.useState(!1),[u,f]=v.useState(null),[m,h]=v.useState(!1),[x,p]=v.useState(null),{data:g,isLoading:j,error:y,refetch:w}=G2({search:r||void 0,account_status:a!=="all"?a:void 0,type:o!=="all"?o:void 0}),b=z8e(),N=nX(),S=W8e(),_=v.useMemo(()=>(g==null?void 0:g.results)||[],[g==null?void 0:g.results]),[E,A]=v.useState({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""}),k=_,D=v.useMemo(()=>{const O=(g==null?void 0:g.results)||[],K=O.length,ne=O.filter(fe=>fe.account_status==="Active").length,R=O.filter(fe=>fe.account_status==="Inactive").length,V=O.filter(fe=>fe.type==="Investor").length,L=O.filter(fe=>fe.type==="Buy2Rent Internal").length,G=O.reduce((fe,B)=>fe+(B.apartments_count||0),0),le=K>0?(G/K).toFixed(1):"0";return{totalClients:K,activeClients:ne,inactiveClients:R,investorClients:V,internalClients:L,totalApartments:G,avgApartmentsPerClient:le}},[g==null?void 0:g.results]),I=v.useCallback(O=>{s(O.target.value)},[]),W=O=>{if(O){const K=_.find(ne=>ne.id===O);K&&(f(O),A({name:K.name,email:K.email,phone:K.phone||"",account_status:K.account_status,type:K.type,notes:K.notes||""}))}else f(null),A({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""});d(!0)},H=async O=>{if(O.preventDefault(),console.log("Form submitted with data:",E),!E.name.trim()||!E.email.trim()){t({title:"Validation Error",description:"Name and email are required.",variant:"destructive"});return}try{u?(console.log("Updating client:",u),await N.mutateAsync({id:u,data:E}),t({title:"Success",description:"Client updated successfully"})):(console.log("Creating new client:",E),await b.mutateAsync(E),t({title:"Success",description:"Client created successfully"})),d(!1),f(null),A({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""})}catch(K){console.error("Error submitting form:",K)}},F=(O,K)=>{const ne=_.find(V=>V.id===O),R=(ne==null?void 0:ne.apartments_count)??0;if(R>0){t({title:"Cannot delete client",description:`${K} has ${R} apartment(s) associated. Please reassign or delete the apartments first.`,variant:"destructive"});return}p({id:O,name:K}),h(!0)},T=async()=>{if(x)try{await S.mutateAsync({id:x.id,name:x.name}),t({title:"Success",description:`Client "${x.name}" deleted successfully`})}catch{}finally{h(!1),p(null)}},P=O=>{e(`/clients/${O}`)},M=O=>O==="Active"?"bg-success/10 text-success border-success/20":"bg-muted text-muted-foreground border-border/50";return j?n.jsx(ct,{title:"Clients",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(C,{className:"h-10 w-64"}),n.jsx(C,{className:"h-10 w-32"})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(C,{className:"h-6 w-48"})}),n.jsx(Q,{children:n.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(O=>n.jsx(C,{className:"h-16 w-full"},O))})})]})]})}):y?n.jsx(ct,{title:"Clients",children:n.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[n.jsxs("p",{className:"text-destructive mb-4",children:["Failed to load clients: ",y.message]}),n.jsxs(ee,{onClick:()=>w(),variant:"outline",children:[n.jsx(Pf,{className:"mr-2 h-4 w-4"}),"Retry"]})]})}):n.jsx(ct,{title:"Clients",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-muted/20",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Total Clients"}),n.jsx("p",{className:"text-2xl font-bold mt-1",children:D.totalClients})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx(Xc,{className:"h-5 w-5 text-primary"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-green-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Active"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-green-600",children:D.activeClients})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-green-500/10 flex items-center justify-center",children:n.jsx(b7,{className:"h-5 w-5 text-green-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-red-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Inactive"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-red-500",children:D.inactiveClients})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-red-500/10 flex items-center justify-center",children:n.jsx(w7,{className:"h-5 w-5 text-red-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-violet-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Investors"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-violet-600",children:D.investorClients})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-violet-500/10 flex items-center justify-center",children:n.jsx(c7,{className:"h-5 w-5 text-violet-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-emerald-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Apartments"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-emerald-600",children:D.totalApartments})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-500/10 flex items-center justify-center",children:n.jsx(p7,{className:"h-5 w-5 text-emerald-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-amber-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Avg/Client"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-amber-600",children:D.avgApartmentsPerClient})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-amber-500/10 flex items-center justify-center",children:n.jsx(li,{className:"h-5 w-5 text-amber-500"})})]})})})]}),n.jsx("div",{className:"flex flex-col gap-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-stretch sm:items-center",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(ma,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/70 pointer-events-none z-10"}),n.jsx(me,{placeholder:"Search by name or email...",value:r,onChange:I,className:"pl-10 h-11 bg-muted/30 border-border/50 focus:bg-background transition-colors",autoComplete:"off"},"client-search-input")]}),n.jsxs("div",{className:"flex gap-2 flex-wrap sm:flex-nowrap",children:[n.jsxs(tt,{value:a,onValueChange:i,children:[n.jsx(Je,{className:"w-full sm:w-[140px] h-11 bg-muted/30 border-border/50",children:n.jsx(rt,{placeholder:"Status"})}),n.jsxs(et,{children:[n.jsx(J,{value:"all",children:"All Status"}),n.jsx(J,{value:"Active",children:"Active"}),n.jsx(J,{value:"Inactive",children:"Inactive"})]})]}),n.jsxs(tt,{value:o,onValueChange:l,children:[n.jsx(Je,{className:"w-full sm:w-[160px] h-11 bg-muted/30 border-border/50",children:n.jsx(rt,{placeholder:"Type"})}),n.jsxs(et,{children:[n.jsx(J,{value:"all",children:"All Types"}),n.jsx(J,{value:"Individual",children:"Individual"}),n.jsx(J,{value:"Company",children:"Company"})]})]}),n.jsxs(vn,{open:c,onOpenChange:d,children:[n.jsx($pe,{asChild:!0,children:n.jsxs(ee,{onClick:()=>W(),className:"h-11 w-full sm:w-auto",children:[n.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Add Client"]})}),n.jsx(on,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:n.jsxs("form",{onSubmit:H,children:[n.jsx(yn,{className:"pb-4 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsxs("div",{children:[n.jsx(jn,{className:"text-xl",children:u?"Edit Client":"Add New Client"}),n.jsx(Cs,{className:"text-sm",children:u?"Update client information":"Create a new client profile"})]})]})}),n.jsxs("div",{className:"grid gap-6 py-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx("div",{className:"w-1 h-5 bg-primary rounded-full"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Basic Information"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"name",className:"text-sm font-medium",children:"Full Name *"}),n.jsx(me,{id:"name",value:E.name,onChange:O=>A({...E,name:O.target.value}),placeholder:"John Doe",className:"h-11"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx("div",{className:"w-1 h-5 bg-primary rounded-full"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Contact Information"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"email",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Email *"]}),n.jsx(me,{id:"email",type:"email",value:E.email,onChange:O=>A({...E,email:O.target.value}),placeholder:"john@example.com",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"phone",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Phone"]}),n.jsx(me,{id:"phone",value:E.phone,onChange:O=>A({...E,phone:O.target.value}),placeholder:"+36 20 123 4567",className:"h-11"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx("div",{className:"w-1 h-5 bg-primary rounded-full"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Account Settings"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"type",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Client Type"]}),n.jsxs(tt,{value:E.type,onValueChange:O=>A({...E,type:O}),children:[n.jsx(Je,{id:"type",className:"h-11",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"Investor",children:"Investor"}),n.jsx(J,{value:"Buy2Rent Internal",children:"Buy2Rent Internal"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"status",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Account Status"]}),n.jsxs(tt,{value:E.account_status,onValueChange:O=>A({...E,account_status:O}),children:[n.jsx(Je,{id:"status",className:"h-11",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"Active",children:"Active"}),n.jsx(J,{value:"Inactive",children:"Inactive"}),n.jsx(J,{value:"Suspended",children:"Suspended"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx("div",{className:"w-1 h-5 bg-primary rounded-full"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Additional Information"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"notes",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Notes"]}),n.jsx(ha,{id:"notes",value:E.notes,onChange:O=>A({...E,notes:O.target.value}),placeholder:"Add any additional notes or comments about this client...",rows:4,className:"resize-none"})]})]})]}),n.jsxs(qa,{className:"pt-6 border-t border-border/50 gap-3",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>d(!1),className:"flex-1 h-11",children:"Cancel"}),n.jsxs(ee,{type:"submit",className:"flex-1 h-11 bg-primary hover:bg-primary/90",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),u?"Save Changes":"Create Client"]})]})]})})]})]})]})}),n.jsxs(X,{className:"border-border/50",children:[n.jsx(be,{className:"border-b border-border/50 bg-muted/20",children:n.jsxs(Ve,{className:"text-lg font-semibold",children:["All Clients (",k.length,")"]})}),n.jsx(Q,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Vt,{className:"hover:bg-transparent border-b border-border/50",children:[n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Name"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Type"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Email"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Phone"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Status"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Apartments"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Notes"}),n.jsx(Pe,{className:"text-right font-semibold text-foreground/90",children:"Actions"})]})}),n.jsx($s,{children:k.length===0?n.jsx(Vt,{className:"hover:bg-transparent",children:n.jsx(Ne,{colSpan:8,className:"text-center py-12 text-muted-foreground",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(ma,{className:"h-8 w-8 text-muted-foreground/50"}),n.jsx("p",{className:"font-medium",children:"No clients found"}),n.jsx("p",{className:"text-sm",children:"Try adjusting your filters or add a new client."})]})})}):k.map(O=>{const K=O.apartments_count??0;return n.jsxs(Vt,{className:"hover:bg-muted/30 transition-colors border-b border-border/30 last:border-0",children:[n.jsx(Ne,{className:"font-medium text-foreground py-4",children:O.name}),n.jsx(Ne,{className:"py-4",children:n.jsx(_e,{variant:"outline",className:"capitalize border-border/50 bg-muted/40",children:O.type})}),n.jsx(Ne,{className:"text-muted-foreground py-4",children:O.email}),n.jsx(Ne,{className:"text-muted-foreground py-4",children:O.phone}),n.jsx(Ne,{className:"py-4",children:n.jsx(_e,{className:M(O.account_status),children:O.account_status})}),n.jsx(Ne,{className:"py-4",children:n.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[n.jsx(fr,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:K})]})}),n.jsx(Ne,{className:"max-w-[200px] truncate text-muted-foreground py-4",children:O.notes||"-"}),n.jsx(Ne,{className:"text-right py-4",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>P(O.id),className:"hover:bg-primary/10 hover:text-primary",title:"View Details",children:n.jsx(oi,{className:"h-4 w-4"})}),n.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>W(O.id),className:"hover:bg-muted/50 hover:text-foreground",title:"Edit Client",children:n.jsx(Qs,{className:"h-4 w-4"})}),n.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>F(O.id,O.name),className:"hover:bg-destructive/10 hover:text-destructive",title:"Delete Client",children:n.jsx(hn,{className:"h-4 w-4"})})]})})]},O.id)})})]})})})]}),n.jsx(uc,{open:m,onOpenChange:h,children:n.jsxs(yl,{children:[n.jsx(jl,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(ci,{className:"h-6 w-6 text-destructive"})}),n.jsxs("div",{children:[n.jsx(wl,{className:"text-xl",children:"Delete Client"}),n.jsx(Nl,{className:"mt-1",children:"This action cannot be undone."})]})]})}),n.jsx("div",{className:"py-4",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to delete"," ",n.jsxs("span",{className:"font-semibold text-foreground",children:['"',x==null?void 0:x.name,'"']}),"? This will permanently remove the client from the system."]})}),n.jsxs(bl,{children:[n.jsx(Sl,{autoFocus:!1,children:"Cancel"}),n.jsx(_l,{onClick:T,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",autoFocus:!0,children:"Delete Client"})]})]})})]})})};var n3="Tabs",[q8e,Vnt]=ra(n3,[Xp]),sX=Xp(),[G8e,s3]=q8e(n3),aX=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=dm(l),[f,m]=$a({prop:s,onChange:a,defaultProp:i});return n.jsx(G8e,{scope:r,baseId:di(),value:f,onValueChange:m,orientation:o,dir:u,activationMode:c,children:n.jsx(ft.div,{dir:u,"data-orientation":o,...d,ref:t})})});aX.displayName=n3;var iX="TabsList",oX=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...a}=e,i=s3(iX,r),o=sX(r);return n.jsx(lT,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:n.jsx(ft.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});oX.displayName=iX;var lX="TabsTrigger",cX=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...i}=e,o=s3(lX,r),l=sX(r),c=fX(o.baseId,s),d=mX(o.baseId,s),u=s===o.value;return n.jsx(cT,{asChild:!0,...l,focusable:!a,active:u,children:n.jsx(ft.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:He(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:He(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:He(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(s)})})})});cX.displayName=lX;var dX="TabsContent",uX=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:a,children:i,...o}=e,l=s3(dX,r),c=fX(l.baseId,s),d=mX(l.baseId,s),u=s===l.value,f=v.useRef(u);return v.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),n.jsx(ls,{present:a||u,children:({present:m})=>n.jsx(ft.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});uX.displayName=dX;function fX(e,t){return`${e}-trigger-${t}`}function mX(e,t){return`${e}-content-${t}`}var K8e=aX,hX=oX,pX=cX,xX=uX;const Mo=K8e,ro=v.forwardRef(({className:e,...t},r)=>n.jsx(hX,{ref:r,className:ve("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ro.displayName=hX.displayName;const zt=v.forwardRef(({className:e,...t},r)=>n.jsx(pX,{ref:r,className:ve("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));zt.displayName=pX.displayName;const Qt=v.forwardRef(({className:e,...t},r)=>n.jsx(xX,{ref:r,className:ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Qt.displayName=xX.displayName;function Y8e(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,X8e(a,...t)]}function X8e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var a3="Progress",i3=100,[Q8e,znt]=Y8e(a3),[Z8e,J8e]=Q8e(a3),gX=v.forwardRef((e,t)=>{const{__scopeProgress:r,value:s=null,max:a,getValueLabel:i=eBe,...o}=e;(a||a===0)&&!I$(a)&&console.error(tBe(`${a}`,"Progress"));const l=I$(a)?a:i3;s!==null&&!R$(s,l)&&console.error(rBe(`${s}`,"Progress"));const c=R$(s,l)?s:null,d=_w(c)?i(c,l):void 0;return n.jsx(Z8e,{scope:r,value:c,max:l,children:n.jsx(ft.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":_w(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":jX(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});gX.displayName=a3;var vX="ProgressIndicator",yX=v.forwardRef((e,t)=>{const{__scopeProgress:r,...s}=e,a=J8e(vX,r);return n.jsx(ft.div,{"data-state":jX(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});yX.displayName=vX;function eBe(e,t){return`${Math.round(e/t*100)}%`}function jX(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function _w(e){return typeof e=="number"}function I$(e){return _w(e)&&!isNaN(e)&&e>0}function R$(e,t){return _w(e)&&!isNaN(e)&&e<=t&&e>=0}function tBe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${i3}\`.`}function rBe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${i3} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var bX=gX,nBe=yX;const K2=v.forwardRef(({className:e,value:t,...r},s)=>n.jsx(bX,{ref:s,className:ve("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:n.jsx(nBe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));K2.displayName=bX.displayName;const pn=v.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));pn.displayName="Textarea";const Ua=v.forwardRef(({...e},t)=>n.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));Ua.displayName="Breadcrumb";const Va=v.forwardRef(({className:e,...t},r)=>n.jsx("ol",{ref:r,className:ve("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));Va.displayName="BreadcrumbList";const rr=v.forwardRef(({className:e,...t},r)=>n.jsx("li",{ref:r,className:ve("inline-flex items-center gap-1.5",e),...t}));rr.displayName="BreadcrumbItem";const es=v.forwardRef(({asChild:e,className:t,...r},s)=>{const a=e?Jl:"a";return n.jsx(a,{ref:s,className:ve("transition-colors hover:text-foreground",t),...r})});es.displayName="BreadcrumbLink";const ji=v.forwardRef(({className:e,...t},r)=>n.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:ve("font-normal text-foreground",e),...t}));ji.displayName="BreadcrumbPage";const An=({children:e,className:t,...r})=>n.jsx("li",{role:"presentation","aria-hidden":"true",className:ve("[&>svg]:size-3.5",t),...r,children:e??n.jsx(xu,{})});An.displayName="BreadcrumbSeparator";const sBe=()=>n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-4 w-2"}),n.jsx(C,{className:"h-4 w-32"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-9 w-20 rounded-md"}),n.jsx(C,{className:"h-9 w-24 rounded-md"})]})]}),n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/5 via-primary/3 to-background border border-border/50",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-white/5 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.5))]"}),n.jsxs("div",{className:"relative p-8",children:[n.jsx(C,{className:"h-9 w-24 rounded-md absolute top-4 left-4"}),n.jsxs("div",{className:"flex items-start gap-6 mt-8",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-primary/20 to-primary/10 animate-pulse"}),n.jsx(C,{className:"absolute -bottom-2 -right-2 w-8 h-8 rounded-full border-4 border-background"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(C,{className:"h-9 w-48"}),n.jsx(C,{className:"h-6 w-20 rounded-full"}),n.jsx(C,{className:"h-6 w-24 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-3 gap-6 mt-4",children:[1,2,3].map(e=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C,{className:"w-10 h-10 rounded-lg"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-3 w-12"}),n.jsx(C,{className:"h-4 w-32"})]})]},e))}),n.jsx("div",{className:"mt-4 p-3 rounded-lg bg-background/60 border border-border/50",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(C,{className:"h-4 w-4 mt-0.5"}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsx(C,{className:"h-3 w-full"}),n.jsx(C,{className:"h-3 w-3/4"})]})]})})]})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{gradient:"from-blue-500/5 to-blue-500/0",iconBg:"bg-blue-500/10",accentBg:"bg-blue-500/5"},{gradient:"from-amber-500/5 to-amber-500/0",iconBg:"bg-amber-500/10",accentBg:"bg-amber-500/5"},{gradient:"from-green-500/5 to-green-500/0",iconBg:"bg-green-500/10",accentBg:"bg-green-500/5"},{gradient:"from-orange-500/5 to-orange-500/0",iconBg:"bg-orange-500/10",accentBg:"bg-orange-500/5"}].map((e,t)=>n.jsx(X,{className:`border-border/50 bg-gradient-to-br ${e.gradient} hover:shadow-xl transition-all duration-300 group`,children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:`w-14 h-14 rounded-2xl ${e.iconBg} flex items-center justify-center group-hover:scale-110 transition-transform`,children:n.jsx(C,{className:"w-7 h-7 rounded"})}),n.jsx("div",{className:`w-10 h-10 rounded-xl ${e.accentBg} flex items-center justify-center`,children:n.jsx(C,{className:"w-5 h-5 rounded"})})]}),n.jsxs("div",{children:[n.jsx(C,{className:"h-8 w-24 mb-1"}),n.jsx(C,{className:"h-4 w-32 mb-3"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"w-2 h-2 rounded-full animate-pulse"}),n.jsx(C,{className:"h-3 w-28"})]})})]})]})},t))}),n.jsxs(X,{className:"border-border/50 bg-gradient-to-br from-card to-card/50",children:[n.jsx(be,{className:"pb-3 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(C,{className:"h-6 w-6"}),n.jsx(C,{className:"h-6 w-48"})]}),n.jsx(C,{className:"h-4 w-64 mt-1"})]}),n.jsx(C,{className:"h-6 w-20 rounded-full"})]})}),n.jsxs(Q,{className:"p-0",children:[n.jsx("div",{className:"px-6 pt-4",children:n.jsx("div",{className:"grid w-full grid-cols-3 bg-muted/50 rounded-lg p-1",children:[1,2,3].map(e=>n.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[n.jsx(C,{className:"h-4 w-4"}),n.jsx(C,{className:"h-4 w-16"})]},e))})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{gradient:"from-blue-500/10 to-blue-500/5",border:"border-blue-500/20"},{gradient:"from-green-500/10 to-green-500/5",border:"border-green-500/20"},{gradient:"from-orange-500/10 to-orange-500/5",border:"border-orange-500/20"},{gradient:"from-purple-500/10 to-purple-500/5",border:"border-purple-500/20"}].map((e,t)=>n.jsxs("div",{className:`p-4 rounded-xl bg-gradient-to-br ${e.gradient} border ${e.border}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(C,{className:"w-8 h-8 rounded-lg"}),n.jsx(C,{className:"h-3 w-20"})]}),n.jsx(C,{className:"h-7 w-16"})]},t))}),n.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-4 w-24"})]}),n.jsx(C,{className:"h-3 w-full rounded-full"}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx(C,{className:"h-3 w-20"}),n.jsx(C,{className:"h-3 w-20"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-8 w-20"}),n.jsx(C,{className:"h-8 w-20"}),n.jsx(C,{className:"h-8 w-20"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx(C,{className:"h-4 w-48 mb-3"}),n.jsx("div",{className:"h-[220px] flex items-center justify-center",children:n.jsxs("div",{className:"relative",children:[n.jsx(C,{className:"h-40 w-40 rounded-full"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"h-20 w-20 rounded-full bg-background"})})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx(C,{className:"h-4 w-40 mb-3"}),n.jsx("div",{className:"h-[220px] space-y-3 flex flex-col justify-end",children:[70,90,50,85,60].map((e,t)=>n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsx(C,{className:"h-3 w-16"}),n.jsx(C,{className:"h-4 flex-1",style:{height:`${e}%`}})]},t))})]})]}),n.jsxs("div",{children:[n.jsx(C,{className:"h-5 w-32 mb-4"}),n.jsx("div",{className:"space-y-3",children:[1,2,3].map(e=>n.jsxs("div",{className:"p-5 rounded-xl bg-gradient-to-br from-card to-muted/20 border border-border/50 hover:shadow-md transition-all",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center",children:n.jsx(C,{className:"w-6 h-6 rounded"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-5 w-40"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-3 w-3 rounded"}),n.jsx(C,{className:"h-3 w-56"})]})]})]}),n.jsx(C,{className:"h-6 w-28 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-4 gap-2 pt-3 border-t border-border/30",children:[1,2,3,4].map(t=>n.jsxs("div",{className:"p-2 rounded-lg bg-gradient-to-br from-muted/60 to-muted/30",children:[n.jsx(C,{className:"h-2 w-16 mb-1"}),n.jsx(C,{className:"h-4 w-20"})]},t))})]},e))})]})]})]})]})]})}),aBe=()=>{var ne,R,V,L,G,le,fe,B,Y,ie,we,ue;const{id:e}=eo(),t=mr(),{toast:r}=gr();v.useState("portfolio");const[s,a]=v.useState("overview"),[i,o]=v.useState("financial"),[l,c]=v.useState("status"),[d,u]=v.useState("status"),[f,m]=v.useState(!1),[h,x]=v.useState({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""}),{data:p,isLoading:g,error:j,refetch:y}=Ss({queryKey:["clientDetails",e],queryFn:()=>vy.getClientDetails(e),enabled:!!e}),w=nX(),b=p,N=p==null?void 0:p.apartments,S=(N==null?void 0:N.data)||[];N!=null&&N.count;const _=p==null?void 0:p.products,E=(_==null?void 0:_.data)||[];_!=null&&_.count;const A=(p==null?void 0:p.statistics)||{},k=(A==null?void 0:A.apartments)||{},D=(A==null?void 0:A.products)||{},I=(A==null?void 0:A.financial)||{},W=ge=>ge==="Active"?"bg-success/10 text-success border-success/20":"bg-muted text-muted-foreground border-border/50",H=ge=>({"Design Approved":"bg-primary/10 text-primary border-primary/20",Ordering:"bg-warning/10 text-warning border-warning/20",Renovating:"bg-accent/10 text-accent border-accent/20",Completed:"bg-success/10 text-success border-success/20"})[ge]||"bg-muted text-muted-foreground border-border/50",F=()=>{b&&(x({name:b.name,email:b.email,phone:b.phone||"",account_status:b.account_status,type:b.type,notes:b.notes||""}),m(!0))},T=async ge=>{if(ge.preventDefault(),!h.name.trim()||!h.email.trim()){r({title:"Validation Error",description:"Name and email are required.",variant:"destructive"});return}try{await w.mutateAsync({id:e,data:h}),r({title:"Success",description:"Client updated successfully"}),m(!1),y()}catch(xe){console.error("Error updating client:",xe)}},P=k.by_status?Object.entries(k.by_status).map(([ge,xe])=>({name:ge,value:xe,fill:ge==="Completed"?"#10b981":ge==="Renovating"?"#8b5cf6":ge==="Ordering"?"#f59e0b":"#3b82f6"})):[],M=D.by_status?Object.entries(D.by_status).map(([ge,xe])=>({name:ge,value:xe})):[],O=[{name:"Paid",value:I.total_paid||0,fill:"#10b981"},{name:"Outstanding",value:I.outstanding||0,fill:"#f59e0b"}],K=["#3b82f6","#8b5cf6","#f59e0b","#10b981","#ef4444","#06b6d4"];return g?n.jsx(sBe,{}):j||!b?n.jsx(ct,{title:"Client Not Found",children:n.jsx(X,{children:n.jsxs(Q,{className:"p-12 text-center",children:[n.jsx(At,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Client Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:j instanceof Error?j.message:"The client you're looking for doesn't exist."}),n.jsx(ee,{onClick:()=>t("/clients"),children:"Back to Clients"})]})})}):n.jsxs(ct,{title:b.name,children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsx(Ua,{children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(es,{asChild:!0,children:n.jsx(Ki,{to:"/clients",children:"Clients"})})}),n.jsx(An,{}),n.jsx(rr,{children:n.jsx(ji,{children:b.name})})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ee,{variant:"outline",size:"sm",onClick:F,children:[n.jsx(Qs,{className:"mr-2 h-4 w-4"}),"Edit"]}),n.jsxs(ee,{variant:"destructive",size:"sm",onClick:()=>{window.confirm(`Are you sure you want to delete "${b.name}"?`)&&t("/clients")},children:[n.jsx(hn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/5 via-primary/3 to-background border border-border/50",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-white/5 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.5))]"}),n.jsxs("div",{className:"relative p-8",children:[n.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>t("/clients"),className:"absolute top-4 left-4 flex items-center gap-1",children:n.jsx(sr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex items-start gap-6 mt-8",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center text-white shadow-xl",children:n.jsx(w4,{className:"h-14 w-14"})}),n.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 rounded-full bg-success border-4 border-background flex items-center justify-center",children:n.jsx(or,{className:"h-4 w-4 text-white"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h2",{className:"text-3xl font-bold text-foreground",children:b.name}),n.jsx(_e,{className:W(b.account_status),children:b.account_status}),n.jsxs(_e,{variant:"secondary",children:[n.jsx(use,{className:"h-3.5 w-3.5 mr-1"}),b.type]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-6 mt-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:n.jsx(gn,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Email"}),n.jsx("p",{className:"text-sm font-semibold",children:b.email})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-success/10 flex items-center justify-center",children:n.jsx(To,{className:"h-5 w-5 text-success"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone"}),n.jsx("p",{className:"text-sm font-semibold",children:b.phone})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-500/10 flex items-center justify-center",children:n.jsx(Qr,{className:"h-5 w-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Member Since"}),n.jsx("p",{className:"text-sm font-semibold",children:Xt(new Date(b.created_at),"MMM dd, yyyy")})]})]})]}),b.notes&&n.jsx("div",{className:"mt-4 p-3 rounded-lg bg-background/60 border border-border/50",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(kn,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b.notes})]})})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-blue-500/5 to-blue-500/0 hover:shadow-xl transition-all duration-300 group",children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-500/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:n.jsx(fr,{className:"h-7 w-7 text-blue-600"})}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/5 flex items-center justify-center",children:n.jsx(li,{className:"h-5 w-5 text-blue-600/60"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-3xl font-bold text-foreground mb-1",children:k.total}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Total Apartments"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-success",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-success animate-pulse"}),n.jsx("span",{className:"font-medium",children:"Active Properties"})]})})]})]})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-amber-500/5 to-amber-500/0 hover:shadow-xl transition-all duration-300 group",children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-amber-500/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:n.jsx(ot,{className:"h-7 w-7 text-amber-600"})}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500/5 flex items-center justify-center",children:n.jsx(_g,{className:"h-5 w-5 text-amber-600/60"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-3xl font-bold text-foreground mb-1",children:D.total}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Total Products"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600",children:[n.jsx(Ub,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium",children:"Across All Properties"})]})})]})]})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-green-500/5 to-green-500/0 hover:shadow-xl transition-all duration-300 group",children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-green-500/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:n.jsx(Nr,{className:"h-7 w-7 text-green-600"})}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-500/5 flex items-center justify-center",children:n.jsx(N7,{className:"h-5 w-5 text-green-600/60"})})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold text-foreground mb-1",children:[new Intl.NumberFormat("hu-HU").format(D.total_value||0)," Ft"]}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Total Investment"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600",children:[n.jsx(li,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium",children:"Portfolio Value"})]})})]})]})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-orange-500/5 to-orange-500/0 hover:shadow-xl transition-all duration-300 group",children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-orange-500/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:n.jsx(At,{className:"h-7 w-7 text-orange-600"})}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-500/5 flex items-center justify-center",children:n.jsx(wr,{className:"h-5 w-5 text-orange-600/60"})})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold text-foreground mb-1",children:[I.outstanding<0?"-":"",new Intl.NumberFormat("hu-HU").format(Math.abs(I.outstanding||0))," Ft"]}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Outstanding Amount"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-orange-600",children:[n.jsx(Bf,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium",children:"Pending Payments"})]})})]})]})})]}),n.jsxs(X,{className:"border-border/50 bg-gradient-to-br from-card to-card/50",children:[n.jsx(be,{className:"pb-3 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Ve,{className:"text-xl flex items-center gap-2",children:[n.jsx(d7,{className:"h-6 w-6 text-primary"}),"Analytics Dashboard"]}),n.jsx(Dr,{className:"mt-1",children:"Comprehensive insights and analytics"})]}),n.jsxs(_e,{variant:"outline",className:"text-xs",children:[n.jsx(Bf,{className:"h-3 w-3 mr-1"}),"Live Data"]})]})}),n.jsx(Q,{className:"p-0",children:n.jsxs(Mo,{value:s,onValueChange:a,className:"w-full",children:[n.jsx("div",{className:"px-6 pt-4",children:n.jsxs(ro,{className:"grid w-full grid-cols-3 bg-muted/50",children:[n.jsxs(zt,{value:"overview",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[n.jsx(U5,{className:"h-4 w-4 mr-2"}),"Overview"]}),n.jsxs(zt,{value:"apartments",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[n.jsx(fr,{className:"h-4 w-4 mr-2"}),"Apartments"]}),n.jsxs(zt,{value:"products",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[n.jsx(ot,{className:"h-4 w-4 mr-2"}),"Products"]})]})}),n.jsxs(Qt,{value:"overview",className:"p-6 space-y-6 mt-0",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center",children:n.jsx(_g,{className:"h-4 w-4 text-blue-600"})}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Total Orders"})]}),n.jsx("p",{className:"text-xl font-bold text-foreground",children:((ne=p==null?void 0:p.orders)==null?void 0:ne.count)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-green-500/10 to-green-500/5 border border-green-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-500/20 flex items-center justify-center",children:n.jsx(ot,{className:"h-4 w-4 text-green-600"})}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Deliveries"})]}),n.jsx("p",{className:"text-xl font-bold text-green-600",children:((R=p==null?void 0:p.deliveries)==null?void 0:R.count)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-orange-500/10 to-orange-500/5 border border-orange-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-500/20 flex items-center justify-center",children:n.jsx(At,{className:"h-4 w-4 text-orange-600"})}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Open Issues"})]}),n.jsx("p",{className:"text-xl font-bold text-orange-600",children:((V=p==null?void 0:p.issues)==null?void 0:V.open_count)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-500/10 to-purple-500/5 border border-purple-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center",children:n.jsx(w4,{className:"h-4 w-4 text-purple-600"})}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Vendors"})]}),n.jsx("p",{className:"text-xl font-bold text-purple-600",children:((L=p==null?void 0:p.vendors)==null?void 0:L.count)||new Set(E.map(ge=>ge.vendor_id).filter(Boolean)).size})]})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Payment Progress"}),n.jsxs("span",{className:"text-sm font-bold text-primary",children:[Math.round((I.total_paid||0)/(I.total_spent||1)*100),"% Complete"]})]}),n.jsx(K2,{value:Math.min((I.total_paid||0)/(I.total_spent||1)*100,100),className:"h-3"}),n.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-muted-foreground",children:[n.jsxs("span",{children:[new Intl.NumberFormat("hu-HU").format(I.total_paid||0)," Ft paid"]}),n.jsxs("span",{children:[new Intl.NumberFormat("hu-HU").format(I.outstanding||0)," Ft remaining"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Financial Analytics"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ee,{size:"sm",variant:i==="financial"?"default":"outline",onClick:()=>o("financial"),className:"h-8 text-xs",children:[n.jsx(U5,{className:"h-3 w-3 mr-1"}),"Financial"]}),n.jsxs(ee,{size:"sm",variant:i==="apartments"?"default":"outline",onClick:()=>o("apartments"),className:"h-8 text-xs",children:[n.jsx(fr,{className:"h-3 w-3 mr-1"}),"Properties"]}),n.jsxs(ee,{size:"sm",variant:i==="products"?"default":"outline",onClick:()=>o("products"),className:"h-8 text-xs",children:[n.jsx(ot,{className:"h-3 w-3 mr-1"}),"Products"]})]})]}),i==="financial"&&O.some(ge=>ge.value>0)&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Payment Distribution"}),n.jsx(dn,{width:"100%",height:200,children:n.jsxs(Fg,{children:[n.jsx(Vi,{data:O,cx:"50%",cy:"50%",labelLine:!1,label:({name:ge,percent:xe})=>`${ge}: ${(xe*100).toFixed(0)}%`,outerRadius:70,fill:"#8884d8",dataKey:"value",children:O.map((ge,xe)=>n.jsx(Ca,{fill:ge.fill},`cell-${xe}`))}),n.jsx(hr,{formatter:ge=>`${new Intl.NumberFormat("hu-HU").format(ge)} Ft`})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Payment Breakdown"}),n.jsx(dn,{width:"100%",height:200,children:n.jsxs(Sa,{data:O,layout:"vertical",children:[n.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(rn,{type:"number",tick:{fontSize:11}}),n.jsx(nn,{dataKey:"name",type:"category",tick:{fontSize:11},width:90}),n.jsx(hr,{formatter:ge=>`${new Intl.NumberFormat("hu-HU").format(ge)} Ft`}),n.jsx(Sn,{dataKey:"value",radius:[0,6,6,0],children:O.map((ge,xe)=>n.jsx(Ca,{fill:ge.fill},`cell-${xe}`))})]})})]})]}),i==="apartments"&&P.length>0&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Apartment Status Distribution"}),n.jsx(dn,{width:"100%",height:200,children:n.jsxs(Fg,{children:[n.jsx(Vi,{data:P,cx:"50%",cy:"50%",labelLine:!1,label:({name:ge,percent:xe})=>`${(xe*100).toFixed(0)}%`,outerRadius:70,fill:"#8884d8",dataKey:"value",children:P.map((ge,xe)=>n.jsx(Ca,{fill:ge.fill},`cell-${xe}`))}),n.jsx(hr,{})]})}),n.jsx("div",{className:"grid grid-cols-2 gap-2 mt-3",children:P.map((ge,xe)=>n.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/30",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ge.fill}}),n.jsx("span",{className:"text-xs font-medium truncate",children:ge.name}),n.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:ge.value})]},xe))})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Breakdown"}),n.jsx(dn,{width:"100%",height:200,children:n.jsxs(Sa,{data:P,children:[n.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(rn,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:70}),n.jsx(nn,{tick:{fontSize:11}}),n.jsx(hr,{}),n.jsx(Sn,{dataKey:"value",radius:[6,6,0,0],children:P.map((ge,xe)=>n.jsx(Ca,{fill:ge.fill},`cell-${xe}`))})]})})]})]}),i==="products"&&M.length>0&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Product Status Distribution"}),n.jsx(dn,{width:"100%",height:200,children:n.jsxs(Sa,{data:M,children:[n.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(rn,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:70}),n.jsx(nn,{tick:{fontSize:11}}),n.jsx(hr,{}),n.jsx(Sn,{dataKey:"value",fill:"#8b5cf6",radius:[6,6,0,0],children:M.map((ge,xe)=>n.jsx(Ca,{fill:K[xe%K.length]},`cell-${xe}`))})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Breakdown"}),n.jsx(dn,{width:"100%",height:200,children:n.jsxs(Sa,{data:M,layout:"vertical",children:[n.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(rn,{type:"number",tick:{fontSize:11}}),n.jsx(nn,{dataKey:"name",type:"category",tick:{fontSize:10},width:110}),n.jsx(hr,{}),n.jsx(Sn,{dataKey:"value",radius:[0,6,6,0],children:M.map((ge,xe)=>n.jsx(Ca,{fill:K[xe%K.length]},`cell-${xe}`))})]})}),n.jsx("div",{className:"grid grid-cols-2 gap-2 mt-3",children:M.slice(0,6).map((ge,xe)=>n.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/30",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:K[xe%K.length]}}),n.jsx("span",{className:"text-xs font-medium truncate",children:ge.name}),n.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:ge.value})]},xe))})]})]})]}),n.jsxs(Qt,{value:"apartments",className:"p-6 space-y-6 mt-0",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(or,{className:"h-5 w-5 text-blue-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Completed"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((G=k.by_status)==null?void 0:G.Completed)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-amber-500/10 to-amber-500/5 border border-amber-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(wr,{className:"h-5 w-5 text-amber-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"In Progress"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((le=k.by_status)==null?void 0:le.Renovating)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-500/10 to-purple-500/5 border border-purple-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Ub,{className:"h-5 w-5 text-purple-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Planning"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((fe=k.by_status)==null?void 0:fe.Planning)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-green-500/10 to-green-500/5 border border-green-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(li,{className:"h-5 w-5 text-green-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Avg Progress"})]}),n.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[Math.round(S.reduce((ge,xe)=>ge+(xe.progress||0),0)/(S.length||1)),"%"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Apartment Analytics"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ee,{size:"sm",variant:l==="status"?"default":"outline",onClick:()=>c("status"),className:"h-8 text-xs",children:"Status"}),n.jsx(ee,{size:"sm",variant:l==="value"?"default":"outline",onClick:()=>c("value"),className:"h-8 text-xs",children:"Value"}),n.jsx(ee,{size:"sm",variant:l==="products"?"default":"outline",onClick:()=>c("products"),className:"h-8 text-xs",children:"Products"})]})]}),l==="status"&&P.length>0&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Distribution"}),n.jsx(dn,{width:"100%",height:220,children:n.jsxs(Fg,{children:[n.jsx(Vi,{data:P,cx:"50%",cy:"50%",labelLine:!1,label:({name:ge,percent:xe})=>`${ge}: ${(xe*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:P.map((ge,xe)=>n.jsx(Ca,{fill:ge.fill},`cell-${xe}`))}),n.jsx(hr,{})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Comparison"}),n.jsx(dn,{width:"100%",height:220,children:n.jsxs(Sa,{data:P,children:[n.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(rn,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(nn,{tick:{fontSize:11}}),n.jsx(hr,{}),n.jsx(Sn,{dataKey:"value",radius:[8,8,0,0],children:P.map((ge,xe)=>n.jsx(Ca,{fill:ge.fill},`cell-${xe}`))})]})})]})]}),l==="value"&&n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Apartment Value Distribution"}),n.jsx(dn,{width:"100%",height:250,children:n.jsxs(Sa,{data:S.map(ge=>{const xe=E.filter(Me=>Me.apartment_id===ge.id),Se=xe.reduce((Me,ke)=>Me+parseFloat(ke.unit_price||0)*ke.qty,0);return{name:ge.name,value:Se,products:xe.length}}),children:[n.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(rn,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(nn,{tick:{fontSize:11}}),n.jsx(hr,{formatter:ge=>`${new Intl.NumberFormat("hu-HU").format(ge)} Ft`}),n.jsx(Sn,{dataKey:"value",fill:"#10b981",radius:[8,8,0,0]})]})})]}),l==="products"&&n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Products per Apartment"}),n.jsx(dn,{width:"100%",height:250,children:n.jsxs(Sa,{data:S.map(ge=>({name:ge.name,products:E.filter(xe=>xe.apartment_id===ge.id).length})),children:[n.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(rn,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(nn,{tick:{fontSize:11}}),n.jsx(hr,{}),n.jsx(Sn,{dataKey:"products",fill:"#f59e0b",radius:[8,8,0,0]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"All Apartments"}),n.jsx("div",{className:"space-y-3",children:S.slice(0,5).map(ge=>{const xe=E.filter(Me=>Me.apartment_id===ge.id),Se=xe.reduce((Me,ke)=>Me+parseFloat(ke.unit_price||0)*ke.qty,0);return n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-card to-muted/20 border border-border/50 hover:border-primary/30 transition-all",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:n.jsx(fr,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-foreground",children:ge.name}),n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(va,{className:"h-3 w-3"}),ge.address]})]})]}),n.jsx(_e,{variant:"outline",className:H(ge.status),children:ge.status})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[n.jsxs("div",{className:"p-2 rounded-lg bg-muted/40",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-semibold",children:"Type"}),n.jsx("p",{className:"text-xs font-bold",children:ge.type||"N/A"})]}),n.jsxs("div",{className:"p-2 rounded-lg bg-amber-500/10",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-semibold",children:"Products"}),n.jsx("p",{className:"text-xs font-bold",children:xe.length})]}),n.jsxs("div",{className:"p-2 rounded-lg bg-green-500/10",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-semibold",children:"Value"}),n.jsxs("p",{className:"text-xs font-bold",children:[new Intl.NumberFormat("hu-HU",{notation:"compact"}).format(Se)," Ft"]})]}),n.jsxs("div",{className:"p-2 rounded-lg bg-primary/10",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-semibold",children:"Due Date"}),n.jsx("p",{className:"text-xs font-bold",children:ge.due_date?Xt(new Date(ge.due_date),"MMM dd"):"N/A"})]})]})]},ge.id)})})]})]}),n.jsxs(Qt,{value:"products",className:"p-6 space-y-6 mt-0",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-500/10 to-purple-500/5 border border-purple-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(_g,{className:"h-5 w-5 text-purple-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Ordered"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((B=D.by_status)==null?void 0:B.Ordered)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ot,{className:"h-5 w-5 text-blue-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Delivered"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((Y=D.by_status)==null?void 0:Y.Delivered)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-amber-500/10 to-amber-500/5 border border-amber-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(wr,{className:"h-5 w-5 text-amber-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Pending"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((ie=D.by_status)==null?void 0:ie.Pending)||((we=D.by_status)==null?void 0:we["Not Ordered"])||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-green-500/10 to-green-500/5 border border-green-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(or,{className:"h-5 w-5 text-green-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Installed"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((ue=D.by_status)==null?void 0:ue.Installed)||0})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Product Analytics"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ee,{size:"sm",variant:d==="status"?"default":"outline",onClick:()=>u("status"),className:"h-8 text-xs",children:"Status"}),n.jsx(ee,{size:"sm",variant:d==="category"?"default":"outline",onClick:()=>u("category"),className:"h-8 text-xs",children:"Category"}),n.jsx(ee,{size:"sm",variant:d==="vendor"?"default":"outline",onClick:()=>u("vendor"),className:"h-8 text-xs",children:"Vendors"})]})]}),d==="status"&&M.length>0&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Distribution"}),n.jsx(dn,{width:"100%",height:220,children:n.jsxs(Sa,{data:M,children:[n.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(rn,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(nn,{tick:{fontSize:11}}),n.jsx(hr,{}),n.jsx(Sn,{dataKey:"value",radius:[8,8,0,0],children:M.map((ge,xe)=>n.jsx(Ca,{fill:K[xe%K.length]},`cell-${xe}`))})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Breakdown"}),n.jsx(dn,{width:"100%",height:220,children:n.jsxs(Sa,{data:M,layout:"vertical",children:[n.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(rn,{type:"number",tick:{fontSize:11}}),n.jsx(nn,{dataKey:"name",type:"category",tick:{fontSize:10},width:110}),n.jsx(hr,{}),n.jsx(Sn,{dataKey:"value",radius:[0,8,8,0],children:M.map((ge,xe)=>n.jsx(Ca,{fill:K[xe%K.length]},`cell-${xe}`))})]})})]})]}),d==="category"&&n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Products by Category"}),n.jsx(dn,{width:"100%",height:250,children:n.jsxs(Sa,{data:Object.entries(E.reduce((ge,xe)=>{var Me;const Se=xe.category_name||((Me=xe.category_details)==null?void 0:Me.name)||"Uncategorized";return ge[Se]=(ge[Se]||0)+1,ge},{})).map(([ge,xe])=>({name:ge,value:xe})).slice(0,10),children:[n.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(rn,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(nn,{tick:{fontSize:11}}),n.jsx(hr,{}),n.jsx(Sn,{dataKey:"value",fill:"#8b5cf6",radius:[8,8,0,0]})]})})]}),d==="vendor"&&n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Products by Vendor"}),n.jsx(dn,{width:"100%",height:250,children:n.jsxs(Sa,{data:Object.entries(E.reduce((ge,xe)=>{const Se=xe.vendor_name||"Unknown";return ge[Se]=(ge[Se]||0)+1,ge},{})).map(([ge,xe])=>({name:ge,value:xe})).slice(0,10),children:[n.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(rn,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(nn,{tick:{fontSize:11}}),n.jsx(hr,{}),n.jsx(Sn,{dataKey:"value",fill:"#10b981",radius:[8,8,0,0]})]})})]}),M.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Legend"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:M.map((ge,xe)=>n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/30 border border-border/50",children:[n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:K[xe%K.length]}}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium truncate",children:ge.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[ge.value," products"]})]})]},xe))})]})]})]})})]})]}),n.jsx(vn,{open:f,onOpenChange:m,children:n.jsx(on,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:n.jsxs("form",{onSubmit:T,children:[n.jsx(yn,{className:"pb-4 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsxs("div",{children:[n.jsx(jn,{className:"text-xl",children:"Edit Client"}),n.jsx(Cs,{className:"text-sm",children:"Update client information"})]})]})}),n.jsxs("div",{className:"grid gap-6 py-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border/30",children:[n.jsx(os,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Basic Information"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"name",className:"text-sm font-medium",children:["Full Name ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(me,{id:"name",value:h.name,onChange:ge=>x({...h,name:ge.target.value}),placeholder:"John Doe",className:"h-11",required:!0})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border/30",children:[n.jsx(gn,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Contact Information"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"email",className:"text-sm font-medium",children:["Email ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(me,{id:"email",type:"email",value:h.email,onChange:ge=>x({...h,email:ge.target.value}),placeholder:"john@example.com",className:"h-11",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"phone",className:"text-sm font-medium",children:"Phone"}),n.jsx(me,{id:"phone",type:"tel",value:h.phone,onChange:ge=>x({...h,phone:ge.target.value}),placeholder:"+36 20 123 4567",className:"h-11"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border/30",children:[n.jsx(c7,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Account Settings"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"type",className:"text-sm font-medium",children:"Client Type"}),n.jsxs(tt,{value:h.type,onValueChange:ge=>x({...h,type:ge}),children:[n.jsx(Je,{id:"type",className:"h-11",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"Investor",children:"Investor"}),n.jsx(J,{value:"Buy2Rent Internal",children:"Buy2Rent Internal"}),n.jsx(J,{value:"Company",children:"Company"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",className:"text-sm font-medium",children:"Account Status"}),n.jsxs(tt,{value:h.account_status,onValueChange:ge=>x({...h,account_status:ge}),children:[n.jsx(Je,{id:"status",className:"h-11",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"Active",children:"Active"}),n.jsx(J,{value:"Inactive",children:"Inactive"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border/30",children:[n.jsx(kn,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Additional Information"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",className:"text-sm font-medium",children:"Notes"}),n.jsx(pn,{id:"notes",value:h.notes,onChange:ge=>x({...h,notes:ge.target.value}),placeholder:"Add any additional notes or comments about this client...",className:"min-h-[100px] resize-none"})]})]})]}),n.jsxs(qa,{className:"pt-6 border-t border-border/50 gap-3",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>m(!1),className:"flex-1 h-11",children:"Cancel"}),n.jsx(ee,{type:"submit",className:"flex-1 h-11 bg-primary hover:bg-primary/90",disabled:w.isPending,children:w.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save Changes"]})})]})]})})})]})},Ol=cr.create({baseURL:to,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});Ol.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Ol.interceptors.response.use(e=>e,async e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const fc={getApartments:async e=>(await Ol.get("/apartments/",{params:e})).data,getApartment:async e=>(await Ol.get(`/apartments/${e}/`)).data,createApartment:async e=>(await Ol.post("/apartments/",e)).data,updateApartment:async(e,t)=>(await Ol.put(`/apartments/${e}/`,t)).data,patchApartment:async(e,t)=>(await Ol.patch(`/apartments/${e}/`,t)).data,deleteApartment:async e=>{await Ol.delete(`/apartments/${e}/`)},getApartmentStatistics:async e=>(await Ol.get(`/apartments/${e}/statistics/`)).data,getApartmentActivities:async e=>(await Ol.get(`/apartments/${e}/activities/`)).data},Ja={all:["apartments"],lists:()=>[...Ja.all,"list"],list:e=>[...Ja.lists(),e],details:()=>[...Ja.all,"detail"],detail:e=>[...Ja.details(),e],statistics:e=>[...Ja.all,"statistics",e],activities:e=>[...Ja.all,"activities",e]};function iBe(e,t){const[r,s]=v.useState(e);return v.useEffect(()=>{const a=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function o3(e){const t=iBe(e==null?void 0:e.search,300),r={...e,search:t};return Ss({queryKey:Ja.list(r),queryFn:()=>fc.getApartments(r),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:s=>s})}function l3(e){return Ss({queryKey:Ja.detail(e),queryFn:()=>fc.getApartment(e),enabled:!!e,staleTime:5*60*1e3})}function oBe(){const e=Hr(),{toast:t}=gr();return cn({mutationFn:r=>fc.createApartment(r),onSuccess:r=>{e.invalidateQueries({queryKey:Ja.lists()}),t({title:"Success",description:`Apartment "${r.name}" created successfully`})},onError:r=>{t({title:"Error creating apartment",description:r.message||"Something went wrong",variant:"destructive"})}})}function lBe(){const e=Hr(),{toast:t}=gr();return cn({mutationFn:({id:r,data:s})=>fc.updateApartment(r,s),onSuccess:r=>{e.invalidateQueries({queryKey:Ja.lists()}),e.invalidateQueries({queryKey:Ja.detail(r.id)}),t({title:"Success",description:`Apartment "${r.name}" updated successfully`})},onError:r=>{t({title:"Error updating apartment",description:r.message||"Something went wrong",variant:"destructive"})}})}function cBe(){const e=Hr(),{toast:t}=gr();return cn({mutationFn:({id:r})=>fc.deleteApartment(r),onSuccess:(r,s)=>{e.invalidateQueries({queryKey:Ja.lists()}),t({title:"Success",description:`Apartment "${s.name}" deleted successfully`})},onError:r=>{t({title:"Error deleting apartment",description:r.message||"Something went wrong",variant:"destructive"})}})}function dBe(e){return Ss({queryKey:Ja.statistics(e),queryFn:()=>fc.getApartmentStatistics(e),enabled:!!e,staleTime:2*60*1e3,refetchOnWindowFocus:!1})}function uBe(e){return Ss({queryKey:Ja.activities(e),queryFn:()=>fc.getApartmentActivities(e),enabled:!!e,staleTime:1*60*1e3,refetchOnWindowFocus:!1})}const Nc=cr.create({baseURL:to,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});Nc.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Nc.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});const Fo={getVendors:async e=>{const t=e?{search:e}:{};return(await Nc.get("/vendors/",{params:t})).data},getVendor:async e=>(await Nc.get(`/vendors/${e}/`)).data,createVendor:async e=>(await Nc.post("/vendors/",e)).data,updateVendor:async(e,t)=>(await Nc.patch(`/vendors/${e}/`,t)).data,deleteVendor:async e=>{await Nc.delete(`/vendors/${e}/`)},getVendorProducts:async e=>(await Nc.get(`/vendors/${e}/products/`)).data,removeVendorProduct:async(e,t)=>{await Nc.delete(`/vendors/${e}/products/${t}/`)}},id={vendors:["vendors"],vendor:e=>["vendors",e],vendorProducts:e=>["vendors",e,"products"]};function vm(e){return Ss({queryKey:id.vendors,queryFn:()=>Fo.getVendors(e),staleTime:10*60*1e3,retry:1,refetchOnWindowFocus:!1})}function wX(e){return Ss({queryKey:id.vendor(e),queryFn:()=>Fo.getVendor(e),enabled:!!e,staleTime:10*60*1e3,retry:1,refetchOnWindowFocus:!1})}function fBe(){const e=Hr();return cn({mutationFn:t=>Fo.createVendor(t),onSuccess:()=>{e.invalidateQueries({queryKey:id.vendors}),Ue.success("Vendor created successfully")},onError:t=>{var s,a;const r=((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||t.message||"Failed to create vendor";Ue.error(r),console.error("Create vendor error:",t)}})}function mBe(){const e=Hr();return cn({mutationFn:({id:t,data:r})=>Fo.updateVendor(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:id.vendors}),e.invalidateQueries({queryKey:id.vendor(r.id)}),Ue.success("Vendor updated successfully")},onError:t=>{var s,a;const r=((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||t.message||"Failed to update vendor";Ue.error(r),console.error("Update vendor error:",t)}})}function NX(){const e=Hr();return cn({mutationFn:t=>Fo.deleteVendor(t),onSuccess:()=>{e.invalidateQueries({queryKey:id.vendors}),Ue.success("Vendor deleted successfully")},onError:t=>{var s,a;const r=((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||t.message||"Failed to delete vendor";Ue.error(r),console.error("Delete vendor error:",t)}})}function hBe(e){return Ss({queryKey:id.vendorProducts(e),queryFn:()=>Fo.getVendorProducts(e),enabled:!!e,staleTime:5*60*1e3,retry:1,refetchOnWindowFocus:!1})}function pBe(e){const t=Hr();return cn({mutationFn:r=>Fo.removeVendorProduct(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:id.vendorProducts(e)}),t.invalidateQueries({queryKey:id.vendor(e)}),Ue.success("Product removed from vendor successfully")},onError:r=>{var a,i;const s=((i=(a=r.response)==null?void 0:a.data)==null?void 0:i.message)||r.message||"Failed to remove product";Ue.error(s),console.error("Remove product error:",r)}})}const Us=cr.create({baseURL:to,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});Us.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Us.interceptors.response.use(e=>e,async e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const Xi={getProducts:async e=>(await Us.get("/products/",{params:e})).data,getProductsByApartment:async(e,t)=>(await Us.get("/products/by_apartment/",{params:{apartment_id:e,...t}})).data,getProductsByCategory:async e=>(await Us.get("/products/by_category/",{params:e})).data,getProduct:async e=>(await Us.get(`/products/${e}/`)).data,createProduct:async e=>{const t=e instanceof FormData?{headers:{"Content-Type":void 0}}:{};return(await Us.post("/products/",e,t)).data},updateProduct:async(e,t)=>{const r=t instanceof FormData?{headers:{"Content-Type":void 0}}:{};return(await Us.patch(`/products/${e}/`,t,r)).data},deleteProduct:async e=>{await Us.delete(`/products/${e}/`)},getProductCategories:async e=>(await Us.get("/products/categories/",{params:{apartment_id:e}})).data,createCategory:async e=>(await Us.post("/products/create_category/",{...e,sheet_name:e.sheet_name||e.name})).data,importProducts:async(e,t,r)=>{console.log(" DEBUG productApi: Received parameters:",{file:e.name,apartmentId:t,vendorId:r});const s=new FormData;s.append("file",e),s.append("apartment_id",t),s.append("vendor_id",r),console.log(" DEBUG productApi: FormData contents:");for(let[i,o]of s.entries())console.log(`  ${i}:`,o);return(await Us.post("/products/import_excel/",s,{headers:{"Content-Type":"multipart/form-data"}})).data},getImportSessions:async e=>(await Us.get("/products/import_sessions/",{params:{apartment:e}})).data,deleteImportSession:async e=>{await Us.delete(`/products/delete_import_session/${e}/`)},downloadImportTemplate:async()=>(await Us.get("/products/import_template/",{responseType:"blob"})).data,getProductStatistics:async e=>(await Us.get("/products/statistics/",{params:e?{apartment:e}:void 0})).data,createApartmentAndImport:async e=>{const t=new FormData;return t.append("file",e.file),t.append("apartment_name",e.apartment_name),e.apartment_type&&t.append("apartment_type",e.apartment_type),e.owner&&t.append("owner",e.owner),e.status&&t.append("status",e.status),e.designer&&t.append("designer",e.designer),e.start_date&&t.append("start_date",e.start_date),e.due_date&&t.append("due_date",e.due_date),e.address&&t.append("address",e.address),e.vendor_id&&t.append("vendor_id",e.vendor_id),(await Us.post("/products/create_apartment_and_import/",t,{headers:{"Content-Type":"multipart/form-data"}})).data}},xBe=()=>{const e=mr(),[t,r]=kN(),{toast:s}=gr(),[a,i]=v.useState(""),[o,l]=v.useState("all"),[c,d]=v.useState(!1),[u,f]=v.useState([]),[m,h]=v.useState(!1),[x,p]=v.useState(!1),[g,j]=v.useState({}),[y,w]=v.useState({open:!1,id:"",name:""}),[b,N]=v.useState({name:"",type:"furnishing",client:"",address:"",status:"Planning",designer:"",start_date:"",due_date:"",vendor:""}),S=t.get("type")||"furnishing",_=B=>{B&&r({type:B})},{data:E,isLoading:A,error:k,refetch:D}=o3({search:a||void 0,type:S!=="all"?S:void 0,status:o!=="all"?o:void 0}),I=cBe(),{data:W,isLoading:H}=G2({page_size:100,ordering:"name"}),{data:F,isLoading:T}=vm(),P=(F==null?void 0:F.results)||[],M=v.useMemo(()=>(E==null?void 0:E.results)||[],[E==null?void 0:E.results]),O=v.useMemo(()=>{const B=(E==null?void 0:E.results)||[],Y=B.length,ie=B.filter(ke=>ke.type==="furnishing").length,we=B.filter(ke=>ke.type==="renovating").length,ue=B.filter(ke=>ke.status==="Planning").length,ge=B.filter(ke=>ke.status==="Ordering").length,xe=B.filter(ke=>ke.status==="Delivery").length,Se=B.filter(ke=>ke.status==="Completed").length,Me=Y-Se;return{totalApartments:Y,furnishingCount:ie,renovatingCount:we,planningCount:ue,orderingCount:ge,deliveryCount:xe,completeCount:Se,inProgressCount:Me}},[E==null?void 0:E.results]),K=()=>{const B={};if(b.name.trim()?b.name.trim().length<3&&(B.name="Apartment name must be at least 3 characters"):B.name="Apartment name is required",b.client||(B.client="Client selection is required"),b.address.trim()?b.address.trim().length<10&&(B.address="Please provide a complete address (minimum 10 characters)"):B.address="Address is required",b.start_date||(B.start_date="Start date is required"),b.due_date||(B.due_date="Due date is required"),b.start_date&&b.due_date){const Y=new Date(b.start_date);new Date(b.due_date)<=Y&&(B.due_date="Due date must be after start date")}return j(B),Object.keys(B).length===0},ne=B=>{var ue;const Y=(ue=B.name.split(".").pop())==null?void 0:ue.toLowerCase(),ie=["xlsx","xls","csv"],we=50*1024*1024;return ie.includes(Y||"")?B.size>we?{valid:!1,error:`File too large: ${B.name}. Maximum size is 50MB.`}:B.size===0?{valid:!1,error:`Empty file: ${B.name}. Please select a valid file.`}:{valid:!0}:{valid:!1,error:`Invalid file type: ${B.name}. Only Excel (.xlsx, .xls) and CSV (.csv) files are allowed.`}},R=async()=>{var B,Y;if(j({}),!K()){s({title:"Validation Error",description:"Please fix the errors in the form before submitting.",variant:"destructive"});return}if(u.length>0)for(const ie of u){const we=ne(ie);if(!we.valid){s({title:"File Validation Error",description:we.error,variant:"destructive"});return}}p(!0);try{if(u.length===0){s({title:"File Required",description:"Please upload an Excel or CSV file to import products.",variant:"destructive"}),p(!1);return}const ie=await Xi.createApartmentAndImport({file:u[0],apartment_name:b.name,apartment_type:b.type,owner:b.client,status:b.status,designer:b.designer,start_date:b.start_date,due_date:b.due_date,address:b.address,vendor_id:b.vendor||void 0});if(ie.success)s({title:"Success!",description:n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-semibold",children:ie.message}),n.jsxs("p",{className:"text-sm",children:["Apartment: ",ie.data.apartment_name]}),n.jsxs("p",{className:"text-sm",children:["Products imported: ",ie.data.successful_imports," / ",ie.data.total_products]}),ie.data.failed_imports>0&&n.jsxs("p",{className:"text-sm text-yellow-600",children:["Failed: ",ie.data.failed_imports]}),ie.data.errors.length>0&&n.jsxs("p",{className:"text-sm text-red-600",children:["Errors: ",ie.data.errors.join(", ")]})]})}),V(),d(!1),D(),setTimeout(()=>{e(`/apartments/${ie.data.apartment_id}`)},1e3);else throw new Error(ie.message||"Import failed")}catch(ie){console.error("Import error:",ie),s({title:"Error",description:((Y=(B=ie.response)==null?void 0:B.data)==null?void 0:Y.message)||ie.message||"Failed to create apartment and import products. Please try again.",variant:"destructive"})}finally{p(!1)}},V=()=>{N({name:"",type:"furnishing",client:"",address:"",status:"Planning",designer:"",start_date:"",due_date:"",vendor:""}),f([]),j({})},L=B=>{const Y=Array.from(B),ie=[];for(const we of Y){const ue=ne(we);ue.valid?ie.push(we):s({title:"File Validation Error",description:ue.error,variant:"destructive"})}ie.length>0&&f(we=>[...we,...ie])},G=(B,Y)=>{w({open:!0,id:B,name:Y})},le=async()=>{try{await I.mutateAsync({id:y.id,name:y.name}),w({open:!1,id:"",name:""})}catch(B){console.error("Delete failed:",B)}},fe=B=>({Planning:"bg-blue-500/10 text-blue-500",Ordering:"bg-yellow-500/10 text-yellow-500",Delivery:"bg-purple-500/10 text-purple-500",Complete:"bg-green-500/10 text-green-500"})[B]||"bg-gray-500/10 text-gray-500";return n.jsx(ct,{title:"Apartments",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-muted/20",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Total"}),n.jsx("p",{className:"text-2xl font-bold mt-1",children:O.totalApartments})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx(fr,{className:"h-5 w-5 text-primary"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-yellow-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Furnishing"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-yellow-600",children:O.furnishingCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-yellow-500/10 flex items-center justify-center",children:n.jsx(Ose,{className:"h-5 w-5 text-yellow-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-orange-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Renovating"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-orange-600",children:O.renovatingCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-orange-500/10 flex items-center justify-center",children:n.jsx(vse,{className:"h-5 w-5 text-orange-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-blue-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"In Progress"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-blue-600",children:O.inProgressCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-blue-500/10 flex items-center justify-center",children:n.jsx(wr,{className:"h-5 w-5 text-blue-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-green-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Completed"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-green-600",children:O.completeCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-green-500/10 flex items-center justify-center",children:n.jsx(Ur,{className:"h-5 w-5 text-green-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-purple-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Delivery"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-purple-600",children:O.deliveryCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-purple-500/10 flex items-center justify-center",children:n.jsx(ot,{className:"h-5 w-5 text-purple-500"})})]})})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[n.jsxs("div",{className:"flex gap-2 flex-1 max-w-md",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search apartments...",value:a,onChange:B=>i(B.target.value),className:"pl-9"})]}),n.jsxs(tt,{value:o,onValueChange:l,children:[n.jsx(Je,{className:"w-[140px]",children:n.jsx(rt,{placeholder:"Status"})}),n.jsxs(et,{children:[n.jsx(J,{value:"all",children:"All Status"}),n.jsx(J,{value:"Planning",children:"Planning"}),n.jsx(J,{value:"Ordering",children:"Ordering"}),n.jsx(J,{value:"Delivery",children:"Delivery"}),n.jsx(J,{value:"Complete",children:"Complete"}),n.jsx(J,{value:"Design Approved",children:"Design Approved"}),n.jsx(J,{value:"Renovating",children:"Renovating"})]})]})]}),n.jsxs("div",{className:"flex gap-3 items-center",children:[n.jsx(ee,{variant:S==="furnishing"?"default":"outline",onClick:()=>_("furnishing"),className:S==="furnishing"?"bg-yellow-500 hover:bg-yellow-600 text-white":"",children:"Furnishing"}),n.jsx(ee,{variant:S==="renovating"?"default":"outline",onClick:()=>_("renovating"),children:"Renovating"}),n.jsxs(ee,{variant:"outline",onClick:()=>d(!0),children:[n.jsx(Gi,{className:"h-4 w-4 mr-2"}),"Import Data"]}),n.jsxs(ee,{onClick:()=>e("/apartments/new"),className:"bg-cyan-500 hover:bg-cyan-600",children:[n.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Add Apartment"]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ve,{children:["All Apartments (",(E==null?void 0:E.count)||0,")"]}),n.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>D(),disabled:A,children:n.jsx(Pf,{className:`h-4 w-4 ${A?"animate-spin":""}`})})]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Vt,{children:[n.jsx(Pe,{children:"Apartment Name"}),n.jsx(Pe,{children:"Type"}),n.jsx(Pe,{children:"Clients"}),n.jsx(Pe,{children:"Address"}),n.jsx(Pe,{children:"Status"}),n.jsx(Pe,{children:"Designer"}),n.jsx(Pe,{children:"Start Date"}),n.jsx(Pe,{children:"Due Date"}),n.jsx(Pe,{className:"text-right",children:"Actions"})]})}),n.jsx($s,{children:A?Array.from({length:3}).map((B,Y)=>n.jsxs(Vt,{children:[n.jsx(Ne,{children:n.jsx(C,{className:"h-4 w-32"})}),n.jsx(Ne,{children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx(Ne,{children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx(Ne,{children:n.jsx(C,{className:"h-4 w-40"})}),n.jsx(Ne,{children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx(Ne,{children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx(Ne,{children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx(Ne,{children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx(Ne,{children:n.jsx(C,{className:"h-4 w-16"})}),n.jsx(Ne,{children:n.jsx(C,{className:"h-4 w-20"})})]},Y)):k?n.jsx(Vt,{children:n.jsx(Ne,{colSpan:10,className:"text-center py-8 text-destructive",children:"Error loading apartments. Please try again."})}):M.length===0?n.jsx(Vt,{children:n.jsx(Ne,{colSpan:10,className:"text-center py-8 text-muted-foreground",children:"No apartments found. Try adjusting your filters or add a new apartment."})}):M.map(B=>{var Y;return n.jsxs(Vt,{children:[n.jsx(Ne,{className:"font-medium",children:B.name}),n.jsx(Ne,{children:n.jsx(_e,{variant:"outline",className:"capitalize",children:B.type})}),n.jsx(Ne,{children:((Y=B.client_details)==null?void 0:Y.name)||"N/A"}),n.jsx(Ne,{className:"max-w-[200px] truncate",children:B.address}),n.jsx(Ne,{children:n.jsx(_e,{className:fe(B.status),children:B.status})}),n.jsx(Ne,{children:B.designer}),n.jsx(Ne,{children:B.start_date}),n.jsx(Ne,{children:B.due_date}),n.jsx(Ne,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>e(`/apartments/${B.id}`),children:n.jsx(oi,{className:"h-4 w-4"})}),n.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>e(`/apartments/${B.id}/edit`),children:n.jsx(Qs,{className:"h-4 w-4"})}),n.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>G(B.id,B.name),children:n.jsx(hn,{className:"h-4 w-4"})})]})})]},B.id)})})]})})})]}),n.jsx(vn,{open:c,onOpenChange:d,children:n.jsxs(on,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(yn,{children:[n.jsx(jn,{className:"text-xl",children:"Create Apartment & Import Data"}),n.jsx(Cs,{children:"Fill in the apartment details and upload Excel (.xlsx, .xls) or CSV (.csv) files to import product data."})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Apartment Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apt-name",children:["Apartment Name ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(me,{id:"apt-name",placeholder:"Enter apartment name",value:b.name,onChange:B=>{N({...b,name:B.target.value}),g.name&&j({...g,name:""})},className:g.name?"border-destructive":""}),g.name&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apt-type",children:["Type ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(tt,{value:b.type,onValueChange:B=>N({...b,type:B}),children:[n.jsx(Je,{id:"apt-type",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"furnishing",children:"Furnishing"}),n.jsx(J,{value:"renovating",children:"Renovating"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apt-owner",children:["Clients ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(tt,{value:b.client,onValueChange:B=>{N({...b,client:B}),g.client&&j({...g,client:""})},disabled:H,children:[n.jsx(Je,{id:"apt-client",className:g.client?"border-destructive":"",children:n.jsx(rt,{placeholder:H?"Loading clients...":"Select client"})}),n.jsx(et,{children:W!=null&&W.results&&W.results.length>0?W.results.map(B=>n.jsx(J,{value:B.id,children:B.name},B.id)):n.jsx(J,{value:"no-clients",disabled:!0,children:"No clients available"})})]}),g.client&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.client})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apt-status",children:["Status ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(tt,{value:b.status,onValueChange:B=>N({...b,status:B}),children:[n.jsx(Je,{id:"apt-status",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"Planning",children:"Planning"}),n.jsx(J,{value:"Design Approved",children:"Design Approved"}),n.jsx(J,{value:"Ordering",children:"Ordering"}),n.jsx(J,{value:"Delivery",children:"Delivery"}),n.jsx(J,{value:"Installation",children:"Installation"}),n.jsx(J,{value:"Completed",children:"Completed"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"apt-designer",children:"Designer"}),n.jsx(me,{id:"apt-designer",placeholder:"Enter designer name",value:b.designer,onChange:B=>N({...b,designer:B.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apt-start",children:["Start Date ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(me,{id:"apt-start",type:"date",value:b.start_date,onChange:B=>{N({...b,start_date:B.target.value}),g.start_date&&j({...g,start_date:""})},className:g.start_date?"border-destructive":""}),g.start_date&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.start_date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apt-due",children:["Due Date ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(me,{id:"apt-due",type:"date",value:b.due_date,onChange:B=>{N({...b,due_date:B.target.value}),g.due_date&&j({...g,due_date:""})},className:g.due_date?"border-destructive":""}),g.due_date&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.due_date})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apt-address",children:["Address ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(pn,{id:"apt-address",placeholder:"Enter complete address",value:b.address,onChange:B=>{N({...b,address:B.target.value}),g.address&&j({...g,address:""})},rows:3,className:g.address?"border-destructive":""}),g.address&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.address})]})]}),n.jsxs("div",{className:"space-y-4 bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Import Product Data"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Upload Excel or CSV files containing product information for this apartment."})]}),n.jsxs(ee,{variant:"outline",size:"sm",className:"gap-2",onClick:async()=>{try{const B=await Xi.downloadImportTemplate(),Y=window.URL.createObjectURL(B),ie=document.createElement("a");ie.href=Y,ie.download="apartment-template.xlsx",document.body.appendChild(ie),ie.click(),window.URL.revokeObjectURL(Y),document.body.removeChild(ie),s({title:"Success",description:"Template downloaded successfully"})}catch{s({title:"Error",description:"Failed to download template",variant:"destructive"})}},children:[n.jsx(Rv,{className:"h-4 w-4"}),"Download Template"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"apt-vendor",children:"Vendor (Optional)"}),n.jsxs(tt,{value:b.vendor,onValueChange:B=>N({...b,vendor:B}),disabled:T,children:[n.jsx(Je,{id:"apt-vendor",children:n.jsx(rt,{placeholder:T?"Loading vendors...":"Select a vendor (optional)"})}),n.jsx(et,{children:P.length>0?P.map(B=>n.jsx(J,{value:B.id,children:B.name},B.id)):n.jsx(J,{value:"no-vendors",disabled:!0,children:"No vendors available"})})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Optionally assign a vendor to all imported products"})]}),n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${m?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onDragEnter:B=>{B.preventDefault(),B.stopPropagation(),h(!0)},onDragLeave:B=>{B.preventDefault(),B.stopPropagation(),h(!1)},onDragOver:B=>{B.preventDefault(),B.stopPropagation()},onDrop:B=>{B.preventDefault(),B.stopPropagation(),h(!1),B.dataTransfer.files&&L(B.dataTransfer.files)},children:[n.jsx(hse,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("p",{className:"text-base font-medium mb-1",children:"Drag & drop files here"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"or click to browse"}),n.jsxs("label",{htmlFor:"file-upload",children:[n.jsx(ee,{variant:"outline",size:"sm",className:"gap-2",asChild:!0,children:n.jsxs("span",{children:[n.jsx(Gi,{className:"h-4 w-4"}),"Choose Files"]})}),n.jsx("input",{id:"file-upload",type:"file",className:"hidden",accept:".xlsx,.xls,.csv",multiple:!0,onChange:B=>{B.target.files&&L(B.target.files)}})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum file size: 50MB. Supported formats: Excel (.xlsx, .xls) and CSV (.csv)"}),u.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm font-medium",children:["Uploaded Files (",u.length,")"]}),u.map((B,Y)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ur,{className:"h-5 w-5 text-green-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:B.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[(B.size/1024).toFixed(2)," KB"]})]})]}),n.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>{f(u.filter((ie,we)=>we!==Y))},children:n.jsx(ps,{className:"h-4 w-4"})})]},Y))]})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ee,{variant:"outline",onClick:()=>{d(!1),V()},disabled:x,children:"Cancel"}),n.jsx(ee,{variant:"outline",onClick:V,disabled:x,children:"Reset Form"})]}),n.jsx(ee,{className:"bg-blue-600 hover:bg-blue-700 gap-2",onClick:R,disabled:x,children:x?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Qn,{className:"h-4 w-4"}),"Create Apartment & Import Data"]})})]})]})}),n.jsx(uc,{open:y.open,onOpenChange:B=>!B&&w({open:!1,id:"",name:""}),children:n.jsxs(yl,{children:[n.jsx(jl,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(ci,{className:"h-6 w-6 text-destructive"})}),n.jsxs("div",{children:[n.jsx(wl,{className:"text-xl",children:"Delete Apartment"}),n.jsx(Nl,{className:"mt-1",children:"This action cannot be undone."})]})]})}),n.jsx("div",{className:"py-4",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to delete"," ",n.jsxs("span",{className:"font-semibold text-foreground",children:['"',y.name,'"']}),"? This will permanently remove the apartment and all associated products from the system."]})}),n.jsxs(bl,{children:[n.jsx(Sl,{autoFocus:!1,children:"Cancel"}),n.jsx(_l,{onClick:le,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",autoFocus:!0,children:"Delete Apartment"})]})]})})]})})};var c3="Radio",[gBe,_X]=ra(c3),[vBe,yBe]=gBe(c3),SX=v.forwardRef((e,t)=>{const{__scopeRadio:r,name:s,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[f,m]=v.useState(null),h=Ft(t,g=>m(g)),x=v.useRef(!1),p=f?d||!!f.closest("form"):!0;return n.jsxs(vBe,{scope:r,checked:a,disabled:o,children:[n.jsx(ft.button,{type:"button",role:"radio","aria-checked":a,"data-state":AX(a),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:h,onClick:He(e.onClick,g=>{a||c==null||c(),p&&(x.current=g.isPropagationStopped(),x.current||g.stopPropagation())})}),p&&n.jsx(jBe,{control:f,bubbles:!x.current,name:s,value:l,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});SX.displayName=c3;var CX="RadioIndicator",EX=v.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:s,...a}=e,i=yBe(CX,r);return n.jsx(ls,{present:s||i.checked,children:n.jsx(ft.span,{"data-state":AX(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});EX.displayName=CX;var jBe=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,i=v.useRef(null),o=z2(r),l=bN(t);return v.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&f){const m=new Event("click",{bubbles:s});f.call(c,r),c.dispatchEvent(m)}},[o,r,s]),n.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function AX(e){return e?"checked":"unchecked"}var bBe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],d3="RadioGroup",[wBe,Wnt]=ra(d3,[Xp,_X]),PX=Xp(),kX=_X(),[NBe,_Be]=wBe(d3),TX=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:s,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:f,...m}=e,h=PX(r),x=dm(d),[p,g]=$a({prop:i,defaultProp:a,onChange:f});return n.jsx(NBe,{scope:r,name:s,required:o,disabled:l,value:p,onValueChange:g,children:n.jsx(lT,{asChild:!0,...h,orientation:c,dir:x,loop:u,children:n.jsx(ft.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...m,ref:t})})})});TX.displayName=d3;var OX="RadioGroupItem",DX=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:s,...a}=e,i=_Be(OX,r),o=i.disabled||s,l=PX(r),c=kX(r),d=v.useRef(null),u=Ft(t,d),f=i.value===a.value,m=v.useRef(!1);return v.useEffect(()=>{const h=p=>{bBe.includes(p.key)&&(m.current=!0)},x=()=>m.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",x)}},[]),n.jsx(cT,{asChild:!0,...l,focusable:!o,active:f,children:n.jsx(SX,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:He(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:He(a.onFocus,()=>{var h;m.current&&((h=d.current)==null||h.click())})})})});DX.displayName=OX;var SBe="RadioGroupIndicator",IX=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...s}=e,a=kX(r);return n.jsx(EX,{...a,...s,ref:t})});IX.displayName=SBe;var RX=TX,MX=DX,CBe=IX;const u3=v.forwardRef(({className:e,...t},r)=>n.jsx(RX,{className:ve("grid gap-2",e),...t,ref:r}));u3.displayName=RX.displayName;const ov=v.forwardRef(({className:e,...t},r)=>n.jsx(MX,{ref:r,className:ve("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(CBe,{className:"flex items-center justify-center",children:n.jsx(f7,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ov.displayName=MX.displayName;const EBe=()=>{const e=mr(),{toast:t}=gr(),{data:r,isLoading:s}=G2({}),a=(r==null?void 0:r.results)||[],i=oBe(),[o,l]=v.useState({name:"",type:"furnishing",client:"",address:"",designer:"",status:"Planning",start_date:"",due_date:"",progress:0,notes:""}),[c,d]=v.useState({}),u=()=>{const m={};return o.name.trim()||(m.name="Apartment name is required"),o.client||(m.client="Client selection is required"),o.address.trim()||(m.address="Address is required"),o.designer.trim()||(m.designer="Designer is required"),o.start_date||(m.start_date="Start date is required"),o.due_date||(m.due_date="Due date is required"),o.start_date&&o.due_date&&new Date(o.due_date)<new Date(o.start_date)&&(m.due_date="Due date must be after start date"),d(m),Object.keys(m).length===0},f=async m=>{var h,x;if(m.preventDefault(),!u()){t({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{await i.mutateAsync(o),t({title:"Success",description:`${o.name} has been created successfully.`}),e("/apartments?type="+o.type)}catch(p){t({title:"Error",description:((x=(h=p.response)==null?void 0:h.data)==null?void 0:x.message)||"Failed to create apartment. Please try again.",variant:"destructive"})}};return n.jsx(ct,{title:"New Apartment",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ua,{children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(es,{href:"/apartments",children:"Apartments"})}),n.jsx(An,{}),n.jsx(rr,{children:n.jsx(ji,{children:"New Apartment"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>e("/apartments"),children:n.jsx(sr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"New Apartment"})]}),n.jsx("form",{onSubmit:f,children:n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{children:"Apartment Details"})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"name",children:"Apartment Name *"}),n.jsx(me,{id:"name",value:o.name,onChange:m=>l({...o,name:m.target.value}),placeholder:"Izabella utca 3  A/12"}),c.name&&n.jsx("p",{className:"text-sm text-destructive",children:c.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Type *"}),n.jsx(u3,{value:o.type,onValueChange:m=>l({...o,type:m}),children:n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ov,{value:"furnishing",id:"furnishing"}),n.jsx(q,{htmlFor:"furnishing",className:"font-normal cursor-pointer",children:"Furnishing"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ov,{value:"renovating",id:"renovating"}),n.jsx(q,{htmlFor:"renovating",className:"font-normal cursor-pointer",children:"Renovating"})]})]})})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"client",children:"Client/Owner *"}),n.jsxs(tt,{value:o.client,onValueChange:m=>l({...o,client:m}),disabled:s,children:[n.jsx(Je,{id:"client",children:n.jsx(rt,{placeholder:s?"Loading clients...":"Select client"})}),n.jsx(et,{children:a.map(m=>n.jsxs(J,{value:m.id,children:[m.name," - ",m.type]},m.id))})]}),c.client&&n.jsx("p",{className:"text-sm text-destructive",children:c.client})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"designer",children:"Assigned Designer *"}),n.jsx(me,{id:"designer",value:o.designer,onChange:m=>l({...o,designer:m.target.value}),placeholder:"Enter designer name"}),c.designer&&n.jsx("p",{className:"text-sm text-destructive",children:c.designer})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"address",children:"Address *"}),n.jsx(me,{id:"address",value:o.address,onChange:m=>l({...o,address:m.target.value}),placeholder:"Izabella u. 3, Budapest"}),c.address&&n.jsx("p",{className:"text-sm text-destructive",children:c.address})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",children:"Status"}),n.jsxs(tt,{value:o.status,onValueChange:m=>l({...o,status:m}),children:[n.jsx(Je,{id:"status",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"Planning",children:"Planning"}),n.jsx(J,{value:"Design Approved",children:"Design Approved"}),n.jsx(J,{value:"Ordering",children:"Ordering"}),n.jsx(J,{value:"Delivery",children:"Delivery"}),n.jsx(J,{value:"Renovating",children:"Renovating"}),n.jsx(J,{value:"Complete",children:"Complete"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"start_date",children:"Start Date *"}),n.jsx(me,{id:"start_date",type:"date",value:o.start_date,onChange:m=>l({...o,start_date:m.target.value})}),c.start_date&&n.jsx("p",{className:"text-sm text-destructive",children:c.start_date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"due_date",children:"Due Date *"}),n.jsx(me,{id:"due_date",type:"date",value:o.due_date,onChange:m=>l({...o,due_date:m.target.value})}),c.due_date&&n.jsx("p",{className:"text-sm text-destructive",children:c.due_date})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Notes"}),n.jsx(ha,{id:"notes",value:o.notes,onChange:m=>l({...o,notes:m.target.value}),placeholder:"Additional notes about this apartment...",rows:4})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>e("/apartments"),children:"Cancel"}),n.jsx(ee,{type:"submit",disabled:i.isPending,children:i.isPending?"Creating...":"Create Apartment"})]})]})]})})]})})},Hn={all:["products"],lists:()=>[...Hn.all,"list"],list:e=>[...Hn.lists(),e],details:()=>[...Hn.all,"detail"],detail:e=>[...Hn.details(),e],byApartment:e=>[...Hn.all,"apartment",e],byCategory:()=>[...Hn.all,"category"],categories:e=>[...Hn.all,"categories",e],statistics:e=>[...Hn.all,"statistics",e],importSessions:e=>[...Hn.all,"importSessions",e]};function FX(e,t){const[r,s]=v.useState(e);return v.useEffect(()=>{const a=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function $X(e){const t=FX(e==null?void 0:e.search,300),r={...e,search:t};return Ss({queryKey:Hn.list(r),queryFn:()=>Xi.getProducts(r),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:s=>s})}function ABe(e,t){const r=FX(t==null?void 0:t.search,300),s={...t,search:r};return Ss({queryKey:[...Hn.byApartment(e),s],queryFn:async()=>{const a=await Xi.getProductsByApartment(e,s);return Array.isArray(a)?a:[]},enabled:!!e,staleTime:5*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:a=>a})}function LX(e){return Ss({queryKey:Hn.detail(e),queryFn:()=>Xi.getProduct(e),enabled:!!e,staleTime:5*60*1e3})}function PBe(){const e=Hr(),{toast:t}=gr();return cn({mutationFn:r=>Xi.createProduct(r),onSuccess:r=>{e.invalidateQueries({queryKey:Hn.lists()}),e.invalidateQueries({queryKey:Hn.byApartment(r.apartment)}),t({title:"Success",description:`Product "${r.product}" created successfully`})},onError:r=>{t({title:"Error creating product",description:r.message||"Something went wrong",variant:"destructive"})}})}function BX(){const e=Hr(),{toast:t}=gr();return cn({mutationFn:({id:r,data:s})=>Xi.updateProduct(r,s),onSuccess:r=>{e.invalidateQueries({queryKey:Hn.lists()}),e.invalidateQueries({queryKey:Hn.detail(r.id)}),e.invalidateQueries({queryKey:Hn.byApartment(r.apartment)}),t({title:"Success",description:`Product "${r.product}" updated successfully`})},onError:r=>{t({title:"Error updating product",description:r.message||"Something went wrong",variant:"destructive"})}})}function kBe(){const e=Hr(),{toast:t}=gr();return cn({mutationFn:({id:r})=>Xi.deleteProduct(r),onSuccess:(r,s)=>{e.invalidateQueries({queryKey:Hn.lists()}),e.invalidateQueries({queryKey:Hn.byApartment(s.apartmentId)}),t({title:"Success",description:`Product "${s.name}" deleted successfully`})},onError:r=>{t({title:"Error deleting product",description:r.message||"Something went wrong",variant:"destructive"})}})}function UX(e){return Ss({queryKey:Hn.categories(e),queryFn:()=>Xi.getProductCategories(e),enabled:!!e,staleTime:0,gcTime:0,retry:1,refetchOnWindowFocus:!1})}function VX(){const e=Hr(),{toast:t}=gr();return cn({mutationFn:r=>Xi.createCategory(r),onSuccess:(r,s)=>{e.invalidateQueries({queryKey:Hn.categories(s.apartment)}),t({title:"Success",description:`Category "${r.name}" created successfully`})},onError:r=>{t({title:"Error creating category",description:r.message||"Something went wrong",variant:"destructive"})}})}const Ka=cr.create({baseURL:to,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});Ka.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Ka.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});const ys={getOrders:async e=>(await Ka.get("/orders/",{params:e})).data,getOrder:async e=>(await Ka.get(`/orders/${e}/`)).data,createOrder:async e=>(await Ka.post("/orders/",e)).data,updateOrder:async(e,t)=>(await Ka.patch(`/orders/${e}/`,t)).data,deleteOrder:async e=>{await Ka.delete(`/orders/${e}/`)},getStatistics:async()=>(await Ka.get("/orders/statistics/")).data,updateStatus:async(e,t)=>(await Ka.patch(`/orders/${e}/update_status/`,{status:t})).data,markDelivered:async(e,t)=>(await Ka.patch(`/orders/${e}/`,{status:"delivered",actual_delivery:t||new Date().toISOString().split("T")[0],is_delivered:!0})).data,getVendorOrders:async e=>(await Ka.get("/orders/",{params:{vendor:e}})).data,getApartmentOrders:async e=>(await Ka.get("/orders/",{params:{apartment:e}})).data,getDashboardCharts:async()=>(await Ka.get("/dashboard/charts/")).data,importOrder:async e=>{const t=new FormData;return t.append("file",e.file),t.append("apartment_id",e.apartment_id),t.append("vendor_id",e.vendor_id),t.append("po_number",e.po_number),e.status&&t.append("status",e.status),e.confirmation_code&&t.append("confirmation_code",e.confirmation_code),e.tracking_number&&t.append("tracking_number",e.tracking_number),e.expected_delivery&&t.append("expected_delivery",e.expected_delivery),e.shipping_address&&t.append("shipping_address",e.shipping_address),e.notes&&t.append("notes",e.notes),(await Ka.post("/orders/import_order/",t,{headers:{"Content-Type":"multipart/form-data"}})).data}},TBe=Object.freeze(Object.defineProperty({__proto__:null,orderApi:ys},Symbol.toStringTag,{value:"Module"})),uo=cr.create({baseURL:to,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});uo.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));uo.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const xd={getPayments:async e=>(await uo.get("/payments/",{params:e})).data,getPayment:async e=>(await uo.get(`/payments/${e}/`)).data,createPayment:async e=>(await uo.post("/payments/",e)).data,createPaymentFromOrder:async e=>(await uo.post("/payments/from-order/",e)).data,updatePayment:async(e,t)=>(await uo.put(`/payments/${e}/`,t)).data,patchPayment:async(e,t)=>(await uo.patch(`/payments/${e}/`,t)).data,deletePayment:async e=>{await uo.delete(`/payments/${e}/`)},getPaymentHistory:async e=>{const t=e?{payment:e}:{},r=await uo.get("/payment-history/",{params:t});return r.data.results||r.data},createPaymentHistory:async e=>(await uo.post("/payment-history/",e)).data,deletePaymentHistory:async e=>{await uo.delete(`/payment-history/${e}/`)}},js={all:["payments"],lists:()=>[...js.all,"list"],list:e=>[...js.lists(),e],details:()=>[...js.all,"detail"],detail:e=>[...js.details(),e],history:e=>[...js.all,"history",e]},f3=e=>Ss({queryKey:js.list(e),queryFn:()=>xd.getPayments(e)}),zX=e=>Ss({queryKey:js.detail(e),queryFn:()=>xd.getPayment(e),enabled:!!e}),OBe=()=>{const e=Hr();return cn({mutationFn:t=>xd.createPaymentFromOrder(t),onSuccess:()=>{e.invalidateQueries({queryKey:js.lists()})}})},WX=()=>{const e=Hr();return cn({mutationFn:({id:t,data:r})=>xd.updatePayment(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:js.lists()}),e.invalidateQueries({queryKey:js.detail(t.id)})}})},DBe=()=>{const e=Hr();return cn({mutationFn:({id:t,data:r})=>xd.patchPayment(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:js.lists()}),e.invalidateQueries({queryKey:js.detail(t.id)})}})},IBe=()=>{const e=Hr();return cn({mutationFn:t=>xd.deletePayment(t),onSuccess:()=>{e.invalidateQueries({queryKey:js.lists()})}})},m3=()=>{const e=Hr();return cn({mutationFn:t=>xd.createPaymentHistory(t),onSuccess:t=>{e.invalidateQueries({queryKey:js.history(t.payment)}),e.invalidateQueries({queryKey:js.lists()}),e.invalidateQueries({queryKey:js.details()})}})},RBe=()=>{const e=Hr();return cn({mutationFn:t=>xd.deletePaymentHistory(t),onSuccess:()=>{e.invalidateQueries({queryKey:js.history()}),e.invalidateQueries({queryKey:js.lists()}),e.invalidateQueries({queryKey:js.details()})}})},h3=({payment:e,open:t,onOpenChange:r,onSave:s})=>{var w;const[a,i]=v.useState(0),[o,l]=v.useState("Bank Transfer"),[c,d]=v.useState(""),[u,f]=v.useState(""),m=(e==null?void 0:e.total_amount)??(e==null?void 0:e.totalAmount)??0,h=(e==null?void 0:e.amount_paid)??(e==null?void 0:e.amountPaid)??0,x=(e==null?void 0:e.vendor_name)??((w=e==null?void 0:e.vendor_details)==null?void 0:w.name)??(e==null?void 0:e.vendor)??"Unknown",p=(e==null?void 0:e.order_reference)??(e==null?void 0:e.orderReference)??"";if(v.useEffect(()=>{if(t&&e){const b=(e==null?void 0:e.total_amount)??(e==null?void 0:e.totalAmount)??0,N=(e==null?void 0:e.amount_paid)??(e==null?void 0:e.amountPaid)??0,S=b-N;i(S>0?S:0),l("Bank Transfer"),d(""),f("")}},[t,e==null?void 0:e.id]),!e)return n.jsx(vn,{open:t,onOpenChange:r,children:n.jsx(on,{className:"max-w-2xl",children:n.jsx(yn,{children:n.jsx(jn,{children:"Loading..."})})})});const g=m-h,j=g-a,y=()=>{if(!(a<=0)){if(a>g){alert("Payment amount cannot exceed remaining balance");return}s(a,o,c,u)}};return n.jsx(vn,{open:t,onOpenChange:r,children:n.jsxs(on,{className:"max-w-2xl",children:[n.jsxs(yn,{children:[n.jsxs(jn,{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(Nr,{className:"h-5 w-5 text-primary"})}),"Record Payment"]}),n.jsxs(Cs,{children:["Record a new payment for ",n.jsx("span",{className:"font-semibold",children:x})," - ",p]})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-muted/30 rounded-lg border",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-lg font-bold",children:[m.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Already Paid"}),n.jsxs("p",{className:"text-lg font-bold text-success",children:[h.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Remaining"}),n.jsxs("p",{className:"text-lg font-bold text-warning",children:[g.toLocaleString()," HUF"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"amount",className:"text-sm font-semibold",children:"Payment Amount *"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"amount",type:"number",value:a,onChange:b=>i(Number(b.target.value)),placeholder:"Enter amount",className:"text-lg font-semibold pr-16",min:0,max:g}),n.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground font-medium",children:"HUF"})]}),a>0&&n.jsxs("div",{className:"flex items-center justify-between text-sm px-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"New balance after payment:"}),n.jsxs("span",{className:`font-semibold ${j===0?"text-success":"text-warning"}`,children:[j.toLocaleString()," HUF"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paymentMethod",className:"text-sm font-semibold",children:"Payment Method *"}),n.jsxs(tt,{value:o,onValueChange:l,children:[n.jsx(Je,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ws,{className:"h-4 w-4"}),n.jsx(rt,{})]})}),n.jsxs(et,{children:[n.jsx(J,{value:"Bank Transfer",children:"Bank Transfer"}),n.jsx(J,{value:"Credit Card",children:"Credit Card"}),n.jsx(J,{value:"Cash",children:"Cash"}),n.jsx(J,{value:"Check",children:"Check"}),n.jsx(J,{value:"Wire Transfer",children:"Wire Transfer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"referenceNo",className:"text-sm font-semibold",children:"Reference Number"}),n.jsx(me,{id:"referenceNo",value:c,onChange:b=>d(b.target.value),placeholder:"Optional",className:"font-mono"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"note",className:"text-sm font-semibold",children:"Notes"}),n.jsx(pn,{id:"note",value:u,onChange:b=>f(b.target.value),placeholder:"Add any additional notes about this payment...",rows:3,className:"resize-none"})]})]}),n.jsxs(qa,{className:"gap-2",children:[n.jsx(ee,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsxs(ee,{onClick:y,disabled:a<=0||a>g,className:"min-w-[120px]",children:[n.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]})]})})};function MBe({open:e,onOpenChange:t,payment:r,onUpdate:s}){const[a,i]=v.useState(""),[o,l]=v.useState(!1);v.useEffect(()=>{r!=null&&r.due_date&&i(r.due_date)},[r]);const c=async()=>{if(!(!(r!=null&&r.id)||!a)){l(!0);try{await s(r.id,a),t(!1)}catch(d){console.error("Failed to update payment due date:",d)}finally{l(!1)}}};return r?n.jsx(vn,{open:e,onOpenChange:t,children:n.jsxs(on,{className:"sm:max-w-[425px]",children:[n.jsxs(yn,{children:[n.jsx(jn,{children:"Update Payment Due Date"}),n.jsxs(Cs,{children:["Update the payment due date for order ",r.order_reference||"N/A"]})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(q,{htmlFor:"due-date",children:"Due Date"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"due-date",type:"date",value:a,onChange:d=>i(d.target.value),className:"pl-10"}),n.jsx(Qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-muted-foreground",children:"Total Amount"}),n.jsxs("div",{className:"font-medium",children:[((r.total_amount||0)+(r.shipping_cost||0)-(r.discount||0)).toLocaleString()," HUF"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-muted-foreground",children:"Status"}),n.jsx("div",{className:"font-medium",children:r.status||"Unpaid"})]})]})]}),n.jsxs(qa,{children:[n.jsx(ee,{variant:"outline",onClick:()=>t(!1),disabled:o,children:"Cancel"}),n.jsx(ee,{onClick:c,disabled:o||!a,children:o?"Updating...":"Update Due Date"})]})]})}):null}const FBe="modulepreload",$Be=function(e){return"/"+e},M$={},F$=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=$Be(c),c in M$)return;M$[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":FBe,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function HX({options:e,value:t=[],onChange:r,placeholder:s="Add status...",className:a,allowCustom:i=!1,customPlaceholder:o="Enter custom value..."}){const[l,c]=v.useState(!1),[d,u]=v.useState(""),[f,m]=v.useState(!1),h=g=>{if(g==="Other (Custom)"&&i){m(!0);return}t.includes(g)?r(t.filter(j=>j!==g)):r([...t,g])},x=()=>{d.trim()&&(r([...t,d.trim()]),u(""),m(!1),c(!1))},p=(g,j)=>{j.stopPropagation(),r(t.filter(y=>y!==g))};return n.jsxs("div",{className:ve("flex flex-col gap-2",a),children:[n.jsx("div",{className:"flex flex-wrap gap-1 min-h-[32px]",children:t.map(g=>n.jsxs(_e,{variant:"secondary",className:"pl-2 pr-1 py-1 text-xs flex items-center gap-1",children:[g,n.jsx("button",{type:"button",className:"h-4 w-4 p-0 hover:bg-transparent inline-flex items-center justify-center rounded-sm hover:opacity-70",onClick:j=>p(g,j),children:n.jsx(ps,{className:"h-3 w-3"})})]},g))}),n.jsxs(ey,{open:l,onOpenChange:c,children:[n.jsx(ty,{asChild:!0,children:n.jsxs(ee,{variant:"outline",size:"sm",className:"w-full justify-start text-left font-normal",type:"button",children:[n.jsx(Qn,{className:"mr-2 h-3 w-3"}),s]})}),n.jsx(Qp,{className:"w-[250px] p-0 max-h-[300px] overflow-hidden",align:"start",side:"bottom",children:f?n.jsxs("div",{className:"p-3 space-y-2",children:[n.jsx("input",{type:"text",value:d,onChange:g=>u(g.target.value),onKeyDown:g=>{g.key==="Enter"?x():g.key==="Escape"&&(m(!1),u(""))},placeholder:o,className:"w-full px-3 py-2 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",autoFocus:!0}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ee,{type:"button",size:"sm",onClick:x,className:"flex-1",children:"Add"}),n.jsx(ee,{type:"button",size:"sm",variant:"outline",onClick:()=>{m(!1),u("")},children:"Cancel"})]})]}):n.jsx(ud,{className:"h-full max-h-[300px]",children:n.jsx("div",{className:"p-1",children:e.map(g=>n.jsxs(Lz,{checked:t.includes(g),onCheckedChange:()=>h(g),onSelect:j=>j.preventDefault(),className:"cursor-pointer",children:[n.jsx("span",{className:"flex-1",children:g}),t.includes(g)&&n.jsx(yo,{className:"h-4 w-4 ml-2"})]},g))})})})]})]})}var p3="Checkbox",[LBe,Hnt]=ra(p3),[BBe,UBe]=LBe(p3),qX=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[m,h]=v.useState(null),x=Ft(t,b=>h(b)),p=v.useRef(!1),g=m?u||!!m.closest("form"):!0,[j=!1,y]=$a({prop:a,defaultProp:i,onChange:d}),w=v.useRef(j);return v.useEffect(()=>{const b=m==null?void 0:m.form;if(b){const N=()=>y(w.current);return b.addEventListener("reset",N),()=>b.removeEventListener("reset",N)}},[m,y]),n.jsxs(BBe,{scope:r,state:j,disabled:l,children:[n.jsx(ft.button,{type:"button",role:"checkbox","aria-checked":uu(j)?"mixed":j,"aria-required":o,"data-state":YX(j),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onKeyDown:He(e.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:He(e.onClick,b=>{y(N=>uu(N)?!0:!N),g&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),g&&n.jsx(VBe,{control:m,bubbles:!p.current,name:s,value:c,checked:j,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:uu(i)?!1:i})]})});qX.displayName=p3;var GX="CheckboxIndicator",KX=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...a}=e,i=UBe(GX,r);return n.jsx(ls,{present:s||uu(i.state)||i.state===!0,children:n.jsx(ft.span,{"data-state":YX(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});KX.displayName=GX;var VBe=e=>{const{control:t,checked:r,bubbles:s=!0,defaultChecked:a,...i}=e,o=v.useRef(null),l=z2(r),c=bN(t);v.useEffect(()=>{const u=o.current,f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&h){const x=new Event("click",{bubbles:s});u.indeterminate=uu(r),h.call(u,uu(r)?!1:r),u.dispatchEvent(x)}},[l,r,s]);const d=v.useRef(uu(r)?!1:r);return n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function uu(e){return e==="indeterminate"}function YX(e){return uu(e)?"indeterminate":e?"checked":"unchecked"}var XX=qX,zBe=KX;const So=v.forwardRef(({className:e,...t},r)=>n.jsx(XX,{ref:r,className:ve("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(zBe,{className:ve("flex items-center justify-center text-current"),children:n.jsx(yo,{className:"h-4 w-4"})})}));So.displayName=XX.displayName;const WBe=["Other (Custom)","Broken/Damaged","Wrong Item/Color","Missing Parts","Incorrect Quantity","Poor Quality","Late Delivery","Installation Issue","Warranty Claim","Defective Product","Packaging Damage","Wrong Size/Dimensions","Expired Product","Missing Documentation","Safety Hazard"],HBe=[{value:"Critical",label:"Critical",color:"bg-red-500/10 text-red-600 border-red-200"},{value:"High",label:"High",color:"bg-orange-500/10 text-orange-600 border-orange-200"},{value:"Medium",label:"Medium",color:"bg-yellow-500/10 text-yellow-600 border-yellow-200"},{value:"Low",label:"Low",color:"bg-green-500/10 text-green-600 border-green-200"}],qBe=["Blocking Progress","Delaying Project","Partial Impact","Minor Inconvenience","No Impact"],GBe=["Full Replacement","Partial Replacement","Repair","Refund","Credit Note","Exchange","Other"];function KBe({open:e,onOpenChange:t,product:r,apartmentId:s,existingIssueId:a,onSubmit:i}){const[o,l]=v.useState(1),[c,d]=v.useState({}),[u,f]=v.useState(!1),[m,h]=v.useState(!1),[x,p]=v.useState(null),g=v.useRef(!1),[j,y]=v.useState({totalQuantity:0,issueTypes:[],description:"",priority:"",impact:"",expectedResolution:"",replacementEta:"",resolutionType:"",resolutionNotes:"",aiActivated:!1,autoNotifyVendor:!0});v.useEffect(()=>{a&&e&&(async()=>{var D,I;if(a&&e&&(r!=null&&r.order_status_info)){h(!0);try{const{issueApi:W}=await F$(async()=>{const{issueApi:P}=await Promise.resolve().then(()=>YBe);return{issueApi:P}},void 0),H=await W.getIssue(a);p(H);const F=H.type?H.type.split(", ").filter(Boolean):[];y({totalQuantity:((D=H.items)==null?void 0:D.reduce((P,M)=>P+(M.quantity_affected||0),0))||0,issueTypes:F,description:((I=H.description)==null?void 0:I.split(`

Issue Description:
`)[1])||H.description||"",priority:H.priority||"",impact:H.impact||"",expectedResolution:H.expected_resolution||"",replacementEta:H.replacement_eta||"",resolutionType:H.resolution_type||"",resolutionNotes:H.resolution_notes||"",aiActivated:H.ai_activated||!1,autoNotifyVendor:H.auto_notify_vendor!==!1});const T={};r.order_status_info.forEach(P=>{T[P.order_id]={selected:!1,quantity:P.quantity}}),r.order_status_info.forEach(P=>{H.items.some(O=>{var K;return O.description&&P.po_number?O.description.includes(P.po_number):(K=O.order_item)!=null&&K.order?O.order_item.order===P.order_id:!1})&&(T[P.order_id].selected=!0)}),d(T),g.current=!0}catch(W){console.error("Failed to fetch existing issue:",W),Ue.error("Failed to load issue data")}finally{h(!1)}}})()},[a,e]),v.useEffect(()=>{if(r!=null&&r.order_status_info&&!a&&!g.current&&e){const k={};r.order_status_info.forEach(D=>{k[D.order_id]={selected:!1,quantity:D.quantity}}),d(k),g.current=!0}},[r,a,e]),v.useEffect(()=>{e||(l(1),d({}),p(null),g.current=!1,y({totalQuantity:0,issueTypes:[],description:"",priority:"",impact:"",expectedResolution:"",replacementEta:"",resolutionType:"",resolutionNotes:"",aiActivated:!1,autoNotifyVendor:!0}))},[e]);const w=k=>{d(D=>{var I;return{...D,[k]:{...D[k],selected:!((I=D[k])!=null&&I.selected)}}})},N=Object.entries(c).filter(([k,D])=>D.selected).map(([k,D])=>{var W;const I=(W=r==null?void 0:r.order_status_info)==null?void 0:W.find(H=>H.order_id===k);return{orderId:k,orderInfo:I,quantity:D.quantity}}),S=N.reduce((k,D)=>k+D.quantity,0),_=N.length>0;v.useEffect(()=>{o===2&&y(k=>({...k,totalQuantity:S}))},[N.length,o,S]);const E=async()=>{var k,D;if(!j.priority||!j.issueTypes.length||!j.description.trim()){Ue.error("Please complete all required fields (Priority, Issue Types, Description)");return}f(!0);try{const I=N[0],{orderApi:W}=await F$(async()=>{const{orderApi:O}=await Promise.resolve().then(()=>TBe);return{orderApi:O}},void 0),H=await W.getOrder(I.orderId),F=N.map(O=>{var K,ne;return{order_item:null,product:(r==null?void 0:r.id)||null,product_name:(r==null?void 0:r.product)||"",quantity_affected:O.quantity,issue_types:j.issueTypes.join(", "),description:`Order: ${((K=O.orderInfo)==null?void 0:K.po_number)||"N/A"} | Ordered: ${(ne=O.orderInfo)!=null&&ne.expected_delivery?new Date(O.orderInfo.expected_delivery).toLocaleDateString():"N/A"} | Qty: ${O.quantity}`}}),T=N.map(O=>{var K,ne;return` Order ${((K=O.orderInfo)==null?void 0:K.po_number)||"N/A"} (${O.quantity} units) - Expected: ${(ne=O.orderInfo)!=null&&ne.expected_delivery?new Date(O.orderInfo.expected_delivery).toLocaleDateString():"N/A"}`}).join(`
`),P=`Product: ${r==null?void 0:r.product}${r!=null&&r.sku?` (SKU: ${r.sku})`:""}

Affected Orders (${N.length}):
${T}

Total Quantity Affected: ${j.totalQuantity}

Issue Description:
${j.description}`,M={apartment:s,vendor:H.vendor,order:I.orderId,product:(r==null?void 0:r.id)||null,product_name:(r==null?void 0:r.product)||"",type:j.issueTypes.join(", "),description:P,priority:j.priority,expected_resolution:j.expectedResolution||void 0,impact:j.impact||void 0,replacement_eta:j.replacementEta||void 0,ai_activated:j.aiActivated,resolution_status:"Open",resolution_type:j.resolutionType||void 0,resolution_notes:j.resolutionNotes||void 0,auto_notify_vendor:j.autoNotifyVendor,items_data:F};await i(M,a),Ue.success(a?"Issue updated successfully":`Issue reported for ${N.length} order(s)`),t(!1)}catch(I){Ue.error(((D=(k=I.response)==null?void 0:k.data)==null?void 0:D.message)||"Failed to report issue")}finally{f(!1)}};if(!r)return null;const A=r.order_status_info||[];return n.jsx(vn,{open:e,onOpenChange:t,children:n.jsxs(on,{className:"max-w-3xl max-h-[90vh]",children:[n.jsxs(yn,{children:[n.jsxs(jn,{children:[a?"Edit Issue":"Report Issue"," - ",r.product]}),n.jsx(Cs,{children:m?"Loading issue data...":o===1?`Step 1: Select which orders have this issue (${A.length} order(s) available)`:"Step 2: Describe the issue and set priority"})]}),n.jsx(ud,{className:"max-h-[60vh] pr-4",children:m?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(Bt,{className:"h-6 w-6 animate-spin text-primary"}),n.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading issue data..."})]}):n.jsxs(n.Fragment,{children:[o===1&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[r.product_image?n.jsx("img",{src:r.product_image,alt:r.product,className:"w-16 h-16 rounded object-cover border"}):n.jsx("div",{className:"w-16 h-16 rounded flex items-center justify-center border bg-muted",children:n.jsx(ot,{className:"h-8 w-8 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold",children:r.product}),n.jsx("p",{className:"text-sm text-muted-foreground",children:r.sku||"N/A"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium",children:"Select orders with issues:"}),N.length>0&&n.jsxs(_e,{variant:"secondary",className:"text-xs",children:[N.length," selected  ",S," units total"]})]}),n.jsx("div",{className:"space-y-2",children:A.map(k=>{const D=c[k.order_id];return n.jsx("div",{className:ve("border rounded-lg p-3 transition-all cursor-pointer hover:bg-muted/50",(D==null?void 0:D.selected)&&"ring-2 ring-primary border-primary bg-primary/5"),onClick:()=>w(k.order_id),children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(So,{checked:(D==null?void 0:D.selected)||!1,onCheckedChange:()=>w(k.order_id),onClick:I=>I.stopPropagation()}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("h4",{className:"font-semibold text-sm",children:k.po_number}),n.jsx(_e,{variant:"outline",className:"text-xs",children:k.status}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[" ",k.quantity," units"]}),k.expected_delivery&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:[" Expected: ",new Date(k.expected_delivery).toLocaleDateString()]})]}),k.shipping_address&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:k.shipping_address})]})]})},k.order_id)})}),N.length===0&&n.jsxs("div",{className:"p-4 text-center text-sm text-muted-foreground bg-muted/30 rounded-lg",children:[n.jsx(At,{className:"h-5 w-5 mx-auto mb-2 opacity-50"}),"Select at least one order to continue"]})]})]}),o===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[n.jsxs("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[n.jsx(ot,{className:"h-4 w-4"}),"Selected Orders Summary"]}),n.jsxs("div",{className:"space-y-1 text-xs",children:[N.map(k=>{var D,I;return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-muted-foreground",children:[(D=k.orderInfo)==null?void 0:D.po_number,"  ",(I=k.orderInfo)!=null&&I.expected_delivery?new Date(k.orderInfo.expected_delivery).toLocaleDateString():"N/A"]}),n.jsxs(_e,{variant:"outline",className:"text-xs",children:[k.quantity," units"]})]},k.orderId)}),n.jsxs("div",{className:"pt-2 mt-2 border-t flex items-center justify-between font-semibold",children:[n.jsx("span",{children:"Total Affected Quantity:"}),n.jsxs("span",{className:"text-primary",children:[S," units"]})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(ci,{className:"h-4 w-4"}),"Issue Details"]}),n.jsxs("div",{className:"grid gap-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{className:"flex items-center gap-1.5",children:[n.jsx(ci,{className:"h-3.5 w-3.5 text-orange-500"}),"Issue Type(s) *"]}),n.jsx(HX,{options:WBe,value:j.issueTypes,onChange:k=>y(D=>({...D,issueTypes:k})),placeholder:"Select issue types (e.g., Broken/Damaged, Wrong Item)",allowCustom:!0,customPlaceholder:"Custom issue type..."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{className:"flex items-center gap-1.5",children:[n.jsx(kn,{className:"h-3.5 w-3.5 text-primary"}),"Issue Description *"]}),n.jsxs("div",{className:"relative",children:[n.jsx(pn,{value:j.description,onChange:k=>y(D=>({...D,description:k.target.value})),placeholder:"Describe the issue in detail... (This will be sent to the vendor with order context)",rows:4,className:"pr-10"}),n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(t3,{text:j.description,onTextEnhanced:k=>y(D=>({...D,description:k})),variant:"ghost",size:"sm"})})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Order details (PO numbers, dates, quantities) will be automatically included for the vendor"})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(ci,{className:"h-4 w-4"}),"Priority & Impact"]}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Priority *"}),n.jsxs(tt,{value:j.priority,onValueChange:k=>y(D=>({...D,priority:k})),children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select priority"})}),n.jsx(et,{children:HBe.map(k=>n.jsx(J,{value:k.value,children:n.jsx(_e,{className:k.color,children:k.label})},k.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Impact"}),n.jsxs(tt,{value:j.impact,onValueChange:k=>y(D=>({...D,impact:k})),children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select impact"})}),n.jsx(et,{children:qBe.map(k=>n.jsx(J,{value:k,children:k},k))})]})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(Qr,{className:"h-4 w-4"}),"Timeline"]}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Expected Resolution"}),n.jsx(me,{type:"date",value:j.expectedResolution,onChange:k=>y(D=>({...D,expectedResolution:k.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Replacement ETA"}),n.jsx(me,{type:"date",value:j.replacementEta,onChange:k=>y(D=>({...D,replacementEta:k.target.value}))})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(or,{className:"h-4 w-4"}),"Resolution"]}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Resolution Type"}),n.jsxs(tt,{value:j.resolutionType,onValueChange:k=>y(D=>({...D,resolutionType:k})),children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select type"})}),n.jsx(et,{children:GBe.map(k=>n.jsx(J,{value:k,children:k},k))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Notes"}),n.jsx(me,{value:j.resolutionNotes,onChange:k=>y(D=>({...D,resolutionNotes:k.target.value})),placeholder:"Resolution notes..."})]})]})]}),n.jsxs("div",{className:"space-y-3 pt-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(So,{id:"ai",checked:j.aiActivated,onCheckedChange:k=>y(D=>({...D,aiActivated:k}))}),n.jsx(q,{htmlFor:"ai",className:"text-sm",children:"Enable AI-assisted communication"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(So,{id:"notify",checked:j.autoNotifyVendor,onCheckedChange:k=>y(D=>({...D,autoNotifyVendor:k}))}),n.jsx(q,{htmlFor:"notify",className:"text-sm",children:"Auto-notify vendor"})]})]}),n.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Report Summary:"}),n.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[n.jsxs("li",{children:[" Product: ",r.product]}),n.jsxs("li",{children:[" Affected Orders: ",N.length]}),n.jsxs("li",{children:[" Total Quantity: ",S," units"]}),n.jsxs("li",{children:[" Issue Types: ",j.issueTypes.length>0?j.issueTypes.join(", "):"Not set"]}),n.jsxs("li",{children:[" Priority: ",j.priority||"Not set"]})]})]})]})]})}),n.jsx(qa,{className:"flex justify-between sm:justify-between",children:o===1?n.jsxs(n.Fragment,{children:[n.jsx(ee,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsxs(ee,{onClick:()=>l(2),disabled:!_,children:["Next: Describe Issue (",N.length," order",N.length!==1?"s":"",")"]})]}):n.jsxs(n.Fragment,{children:[n.jsx(ee,{variant:"outline",onClick:()=>l(1),children:"Back to Orders"}),n.jsx(ee,{onClick:E,disabled:u||!j.priority||!j.issueTypes.length||!j.description.trim(),children:u?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):a?`Update Issue for ${N.length} Order${N.length!==1?"s":""}`:`Report Issue for ${N.length} Order${N.length!==1?"s":""}`})]})})]})})}const hs=cr.create({baseURL:to,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});let kj=!1,cP=[];const $$=(e=null)=>{cP.forEach(t=>{e?t.reject(e):t.resolve()}),cP=[]};hs.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));hs.interceptors.response.use(e=>e,async e=>{var r,s;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!(t!=null&&t._retry)){if((s=t==null?void 0:t.url)!=null&&s.includes("/refresh/"))return localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(e);if(kj)return new Promise((i,o)=>{cP.push({resolve:i,reject:o})}).then(()=>hs(t));t._retry=!0,kj=!0;const a=localStorage.getItem("refresh_token");if(!a)return kj=!1,localStorage.removeItem("access_token"),window.location.href="/login",Promise.reject(e);try{const i=await cr.post(`${qv}/refresh/`,{refresh:a}),{access:o}=i.data;return localStorage.setItem("access_token",o),t.headers&&(t.headers.Authorization=`Bearer ${o}`),$$(),hs(t)}catch(i){return $$(i),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(i)}finally{kj=!1}}return Promise.reject(e)});const Kn={getIssues:async(e={})=>{const t=new URLSearchParams;return e.search&&t.append("search",e.search),e.status&&t.append("status",e.status),e.priority&&t.append("priority",e.priority),e.apartment&&t.append("apartment",e.apartment),e.vendor&&t.append("vendor",e.vendor),e.product&&t.append("product",e.product),e.page&&t.append("page",e.page.toString()),e.page_size&&t.append("page_size",e.page_size.toString()),(await hs.get(`/issues/?${t.toString()}`)).data},getIssue:async e=>(await hs.get(`/issues/${e}/`)).data,createIssue:async e=>(await hs.post("/issues/",e)).data,updateIssue:async(e,t)=>(await hs.patch(`/issues/${e}/`,t)).data,deleteIssue:async e=>{await hs.delete(`/issues/${e}/`)},uploadPhoto:async(e,t)=>(await hs.post(`/issues/${e}/photos/`,{url:t})).data,activateAIEmail:async e=>await hs.post(`/issues/${e}/activate_ai_email/`),getEmailThread:async e=>await hs.get(`/issues/${e}/email_thread/`),generateAIReply:async(e,t)=>await hs.post(`/issues/${e}/generate_ai_reply/`,{vendor_message:t}),addVendorResponse:async(e,t)=>await hs.post(`/issues/${e}/add_vendor_response/`,t),analyzeVendorResponse:async(e,t)=>await hs.post(`/issues/${e}/analyze_vendor_response/`,{message:t}),getConversation:async e=>(await hs.get(`/issues/${e}/conversation/`)).data,getSummary:async e=>(await hs.get(`/issues/${e}/summary/`)).data,sendManualMessage:async(e,t)=>(await hs.post(`/issues/${e}/send_manual_message/`,t)).data,sendBulkEmail:async e=>(await hs.post("/issues/bulk-email/",e)).data},YBe=Object.freeze(Object.defineProperty({__proto__:null,issueApi:Kn},Symbol.toStringTag,{value:"Module"})),_c=cr.create({baseURL:to,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});_c.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));_c.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});const Uc={getDeliveries:async(e={})=>{const t=new URLSearchParams;return e.search&&t.append("search",e.search),e.status&&t.append("status",e.status),e.priority&&t.append("priority",e.priority),e.apartment&&t.append("apartment",e.apartment),e.vendor&&t.append("vendor",e.vendor),e.page&&t.append("page",e.page.toString()),e.page_size&&t.append("page_size",e.page_size.toString()),(await _c.get(`/deliveries/?${t.toString()}`)).data},getDelivery:async e=>(await _c.get(`/deliveries/${e}/`)).data,createDelivery:async e=>(await _c.post("/deliveries/",e)).data,updateDelivery:async(e,t)=>(await _c.patch(`/deliveries/${e}/`,t)).data,deleteDelivery:async e=>{await _c.delete(`/deliveries/${e}/`)},updateStatus:async(e,t,r)=>(await _c.patch(`/deliveries/${e}/update_status/`,{status:t,...r})).data,updateDeliveryField:async(e,t,r)=>(await _c.patch(`/deliveries/${e}/`,{[t]:r})).data};var Dt=function(){return Dt=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Dt.apply(this,arguments)};function XBe(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function QX(e,t,r){for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function yy(e){return e.mode==="multiple"}function jy(e){return e.mode==="range"}function Y2(e){return e.mode==="single"}var QBe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function ZBe(e,t){return Xt(e,"LLLL y",t)}function JBe(e,t){return Xt(e,"d",t)}function e9e(e,t){return Xt(e,"LLLL",t)}function t9e(e){return"".concat(e)}function r9e(e,t){return Xt(e,"cccccc",t)}function n9e(e,t){return Xt(e,"yyyy",t)}var s9e=Object.freeze({__proto__:null,formatCaption:ZBe,formatDay:JBe,formatMonthCaption:e9e,formatWeekNumber:t9e,formatWeekdayName:r9e,formatYearCaption:n9e}),a9e=function(e,t,r){return Xt(e,"do MMMM (EEEE)",r)},i9e=function(){return"Month: "},o9e=function(){return"Go to next month"},l9e=function(){return"Go to previous month"},c9e=function(e,t){return Xt(e,"cccc",t)},d9e=function(e){return"Week n. ".concat(e)},u9e=function(){return"Year: "},f9e=Object.freeze({__proto__:null,labelDay:a9e,labelMonthDropdown:i9e,labelNext:o9e,labelPrevious:l9e,labelWeekNumber:d9e,labelWeekday:c9e,labelYearDropdown:u9e});function m9e(){var e="buttons",t=QBe,r=XN,s={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:s9e,labels:f9e,locale:r,modifiersClassNames:s,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function h9e(e){var t=e.fromYear,r=e.toYear,s=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return s?i=mi(s):t&&(i=new Date(t,0,1)),a?o=YN(a):r&&(o=new Date(r,11,31)),{fromDate:i?rp(i):void 0,toDate:o?rp(o):void 0}}var ZX=v.createContext(void 0);function p9e(e){var t,r=e.initialProps,s=m9e(),a=h9e(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:s.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(Y2(r)||yy(r)||jy(r))&&(c=r.onSelect);var d=Dt(Dt(Dt({},s),r),{captionLayout:l,classNames:Dt(Dt({},s.classNames),r.classNames),components:Dt({},r.components),formatters:Dt(Dt({},s.formatters),r.formatters),fromDate:i,labels:Dt(Dt({},s.labels),r.labels),mode:r.mode||s.mode,modifiers:Dt(Dt({},s.modifiers),r.modifiers),modifiersClassNames:Dt(Dt({},s.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Dt(Dt({},s.styles),r.styles),toDate:o});return n.jsx(ZX.Provider,{value:d,children:e.children})}function Zr(){var e=v.useContext(ZX);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function JX(e){var t=Zr(),r=t.locale,s=t.classNames,a=t.styles,i=t.formatters.formatCaption;return n.jsx("div",{className:s.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function x9e(e){return n.jsx("svg",Dt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function eQ(e){var t,r,s=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=Zr(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:x9e;return n.jsxs("div",{className:l,style:c,children:[n.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:s,children:i}),n.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,n.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function g9e(e){var t,r=Zr(),s=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!s)return n.jsx(n.Fragment,{});if(!a)return n.jsx(n.Fragment,{});var f=[];if(u0e(s,a))for(var m=mi(s),h=s.getMonth();h<=a.getMonth();h++)f.push(NS(m,h));else for(var m=mi(new Date),h=0;h<=11;h++)f.push(NS(m,h));var x=function(g){var j=Number(g.target.value),y=NS(mi(e.displayMonth),j);e.onChange(y)},p=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:eQ;return n.jsx(p,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(g){return n.jsx("option",{value:g.getMonth(),children:l(g,{locale:o})},g.getMonth())})})}function v9e(e){var t,r=e.displayMonth,s=Zr(),a=s.fromDate,i=s.toDate,o=s.locale,l=s.styles,c=s.classNames,d=s.components,u=s.formatters.formatYearCaption,f=s.labels.labelYearDropdown,m=[];if(!a)return n.jsx(n.Fragment,{});if(!i)return n.jsx(n.Fragment,{});for(var h=a.getFullYear(),x=i.getFullYear(),p=h;p<=x;p++)m.push(PR(KW(new Date),p));var g=function(y){var w=PR(mi(r),Number(y.target.value));e.onChange(w)},j=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:eQ;return n.jsx(j,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:g,value:r.getFullYear(),caption:u(r,{locale:o}),children:m.map(function(y){return n.jsx("option",{value:y.getFullYear(),children:u(y,{locale:o})},y.getFullYear())})})}function y9e(e,t){var r=v.useState(e),s=r[0],a=r[1],i=t===void 0?s:t;return[i,a]}function j9e(e){var t=e.month,r=e.defaultMonth,s=e.today,a=t||r||s||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&np(i,a)<0){var d=-1*(c-1);a=Po(i,d)}return o&&np(a,o)<0&&(a=o),mi(a)}function b9e(){var e=Zr(),t=j9e(e),r=y9e(t,e.month),s=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=mi(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[s,i]}function w9e(e,t){for(var r=t.reverseMonths,s=t.numberOfMonths,a=mi(e),i=mi(Po(a,s)),o=np(i,a),l=[],c=0;c<o;c++){var d=Po(a,c);l.push(d)}return r&&(l=l.reverse()),l}function N9e(e,t){if(!t.disableNavigation){var r=t.toDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=mi(e);if(!r)return Po(l,o);var c=np(r,e);if(!(c<i))return Po(l,o)}}function _9e(e,t){if(!t.disableNavigation){var r=t.fromDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=mi(e);if(!r)return Po(l,-o);var c=np(l,r);if(!(c<=0))return Po(l,-o)}}var tQ=v.createContext(void 0);function S9e(e){var t=Zr(),r=b9e(),s=r[0],a=r[1],i=w9e(s,t),o=N9e(s,t),l=_9e(s,t),c=function(f){return i.some(function(m){return GT(f,m)})},d=function(f,m){c(f)||(m&&JW(f,m)?a(Po(f,1+t.numberOfMonths*-1)):a(f))},u={currentMonth:s,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return n.jsx(tQ.Provider,{value:u,children:e.children})}function by(){var e=v.useContext(tQ);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function L$(e){var t,r=Zr(),s=r.classNames,a=r.styles,i=r.components,o=by().goToMonth,l=function(u){o(Po(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:JX,d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:s.caption_dropdowns,style:a.caption_dropdowns,children:[n.jsx("div",{className:s.vhidden,children:d}),n.jsx(g9e,{onChange:l,displayMonth:e.displayMonth}),n.jsx(v9e,{onChange:l,displayMonth:e.displayMonth})]})}function C9e(e){return n.jsx("svg",Dt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function E9e(e){return n.jsx("svg",Dt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Sw=v.forwardRef(function(e,t){var r=Zr(),s=r.classNames,a=r.styles,i=[s.button_reset,s.button];e.className&&i.push(e.className);var o=i.join(" "),l=Dt(Dt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),n.jsx("button",Dt({},e,{ref:t,type:"button",className:o,style:l}))});function A9e(e){var t,r,s=Zr(),a=s.dir,i=s.locale,o=s.classNames,l=s.styles,c=s.labels,d=c.labelPrevious,u=c.labelNext,f=s.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var m=d(e.previousMonth,{locale:i}),h=[o.nav_button,o.nav_button_previous].join(" "),x=u(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),g=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:E9e,j=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:C9e;return n.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&n.jsx(Sw,{name:"previous-month","aria-label":m,className:h,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?n.jsx(g,{className:o.nav_icon,style:l.nav_icon}):n.jsx(j,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&n.jsx(Sw,{name:"next-month","aria-label":x,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?n.jsx(j,{className:o.nav_icon,style:l.nav_icon}):n.jsx(g,{className:o.nav_icon,style:l.nav_icon})})]})}function B$(e){var t=Zr().numberOfMonths,r=by(),s=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(x){return GT(e.displayMonth,x)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),f=t>1&&(d||!c),m=function(){s&&i(s)},h=function(){a&&i(a)};return n.jsx(A9e,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:a,previousMonth:s,onPreviousClick:m,onNextClick:h})}function P9e(e){var t,r=Zr(),s=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:JX,d;return a?d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=n.jsx(L$,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=n.jsxs(n.Fragment,{children:[n.jsx(L$,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx(B$,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=n.jsxs(n.Fragment,{children:[n.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(B$,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:s.caption,style:i.caption,children:d})}function k9e(e){var t=Zr(),r=t.footer,s=t.styles,a=t.classNames.tfoot;return r?n.jsx("tfoot",{className:a,style:s.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:r})})}):n.jsx(n.Fragment,{})}function T9e(e,t,r){for(var s=r?td(new Date):Yi(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=qs(s,i);a.push(o)}return a}function O9e(){var e=Zr(),t=e.classNames,r=e.styles,s=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=T9e(a,i,o);return n.jsxs("tr",{style:r.head_row,className:t.head_row,children:[s&&n.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,f){return n.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},f)})]})}function D9e(){var e,t=Zr(),r=t.classNames,s=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:O9e;return n.jsx("thead",{style:s.head,className:r.head,children:n.jsx(i,{})})}function I9e(e){var t=Zr(),r=t.locale,s=t.formatters.formatDay;return n.jsx(n.Fragment,{children:s(e.date,{locale:r})})}var x3=v.createContext(void 0);function R9e(e){if(!yy(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return n.jsx(x3.Provider,{value:t,children:e.children})}return n.jsx(M9e,{initialProps:e.initialProps,children:e.children})}function M9e(e){var t=e.initialProps,r=e.children,s=t.selected,a=t.min,i=t.max,o=function(d,u,f){var m,h;(m=t.onDayClick)===null||m===void 0||m.call(t,d,u,f);var x=!!(u.selected&&a&&(s==null?void 0:s.length)===a);if(!x){var p=!!(!u.selected&&i&&(s==null?void 0:s.length)===i);if(!p){var g=s?QX([],s):[];if(u.selected){var j=g.findIndex(function(y){return ri(d,y)});g.splice(j,1)}else g.push(d);(h=t.onSelect)===null||h===void 0||h.call(t,g,d,u,f)}}},l={disabled:[]};s&&l.disabled.push(function(d){var u=i&&s.length>i-1,f=s.some(function(m){return ri(m,d)});return!!(u&&!f)});var c={selected:s,onDayClick:o,modifiers:l};return n.jsx(x3.Provider,{value:c,children:r})}function g3(){var e=v.useContext(x3);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function F9e(e,t){var r=t||{},s=r.from,a=r.to;return s&&a?ri(a,e)&&ri(s,e)?void 0:ri(a,e)?{from:a,to:void 0}:ri(s,e)?void 0:CE(s,e)?{from:e,to:a}:{from:s,to:e}:a?CE(e,a)?{from:a,to:e}:{from:e,to:a}:s?JW(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var v3=v.createContext(void 0);function $9e(e){if(!jy(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(v3.Provider,{value:t,children:e.children})}return n.jsx(L9e,{initialProps:e.initialProps,children:e.children})}function L9e(e){var t=e.initialProps,r=e.children,s=t.selected,a=s||{},i=a.from,o=a.to,l=t.min,c=t.max,d=function(h,x,p){var g,j;(g=t.onDayClick)===null||g===void 0||g.call(t,h,x,p);var y=F9e(h,s);(j=t.onSelect)===null||j===void 0||j.call(t,y,h,x,p)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],ri(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:Ac(i,l-1),before:qs(i,l-1)}),i&&o&&u.disabled.push({after:i,before:qs(i,l-1)}),!i&&o&&u.disabled.push({after:Ac(o,l-1),before:qs(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:qs(i,-c+1)}),u.disabled.push({after:qs(i,c-1)})),i&&o){var f=tl(o,i)+1,m=c-f;u.disabled.push({before:Ac(i,m)}),u.disabled.push({after:qs(o,m)})}!i&&o&&(u.disabled.push({before:qs(o,-c+1)}),u.disabled.push({after:qs(o,c-1)}))}return n.jsx(v3.Provider,{value:{selected:s,onDayClick:d,modifiers:u},children:r})}function y3(){var e=v.useContext(v3);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function mb(e){return Array.isArray(e)?QX([],e):e!==void 0?[e]:[]}function B9e(e){var t={};return Object.entries(e).forEach(function(r){var s=r[0],a=r[1];t[s]=mb(a)}),t}var hl;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(hl||(hl={}));var U9e=hl.Selected,gc=hl.Disabled,V9e=hl.Hidden,z9e=hl.Today,JS=hl.RangeEnd,eC=hl.RangeMiddle,tC=hl.RangeStart,W9e=hl.Outside;function H9e(e,t,r){var s,a=(s={},s[U9e]=mb(e.selected),s[gc]=mb(e.disabled),s[V9e]=mb(e.hidden),s[z9e]=[e.today],s[JS]=[],s[eC]=[],s[tC]=[],s[W9e]=[],s);return e.fromDate&&a[gc].push({before:e.fromDate}),e.toDate&&a[gc].push({after:e.toDate}),yy(e)?a[gc]=a[gc].concat(t.modifiers[gc]):jy(e)&&(a[gc]=a[gc].concat(r.modifiers[gc]),a[tC]=r.modifiers[tC],a[eC]=r.modifiers[eC],a[JS]=r.modifiers[JS]),a}var rQ=v.createContext(void 0);function q9e(e){var t=Zr(),r=g3(),s=y3(),a=H9e(t,r,s),i=B9e(t.modifiers),o=Dt(Dt({},a),i);return n.jsx(rQ.Provider,{value:o,children:e.children})}function nQ(){var e=v.useContext(rQ);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function G9e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function K9e(e){return!!(e&&typeof e=="object"&&"from"in e)}function Y9e(e){return!!(e&&typeof e=="object"&&"after"in e)}function X9e(e){return!!(e&&typeof e=="object"&&"before"in e)}function Q9e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Z9e(e,t){var r,s=t.from,a=t.to;if(s&&a){var i=tl(a,s)<0;i&&(r=[a,s],s=r[0],a=r[1]);var o=tl(e,s)>=0&&tl(a,e)>=0;return o}return a?ri(a,e):s?ri(s,e):!1}function J9e(e){return BT(e)}function e7e(e){return Array.isArray(e)&&e.every(BT)}function t7e(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(J9e(r))return ri(e,r);if(e7e(r))return r.includes(e);if(K9e(r))return Z9e(e,r);if(Q9e(r))return r.dayOfWeek.includes(e.getDay());if(G9e(r)){var s=tl(r.before,e),a=tl(r.after,e),i=s>0,o=a<0,l=CE(r.before,r.after);return l?o&&i:i||o}return Y9e(r)?tl(e,r.after)>0:X9e(r)?tl(r.before,e)>0:typeof r=="function"?r(e):!1})}function j3(e,t,r){var s=Object.keys(t).reduce(function(i,o){var l=t[o];return t7e(e,l)&&i.push(o),i},[]),a={};return s.forEach(function(i){return a[i]=!0}),r&&!GT(e,r)&&(a.outside=!0),a}function r7e(e,t){for(var r=mi(e[0]),s=YN(e[e.length-1]),a,i,o=r;o<=s;){var l=j3(o,t),c=!l.disabled&&!l.hidden;if(!c){o=qs(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=qs(o,1)}return i||a}var n7e=365;function sQ(e,t){var r=t.moveBy,s=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,f=a.locale,m={day:qs,week:NE,month:Po,year:axe,startOfWeek:function(g){return a.ISOWeek?td(g):Yi(g,{locale:f,weekStartsOn:c})},endOfWeek:function(g){return a.ISOWeek?YW(g):UT(g,{locale:f,weekStartsOn:c})}},h=m[r](e,s==="after"?1:-1);s==="before"&&d?h=ixe([d,h]):s==="after"&&u&&(h=oxe([u,h]));var x=!0;if(i){var p=j3(h,i);x=!p.disabled&&!p.hidden}return x?h:l.count>n7e?l.lastFocused:sQ(h,{moveBy:r,direction:s,context:a,modifiers:i,retry:Dt(Dt({},l),{count:l.count+1})})}var aQ=v.createContext(void 0);function s7e(e){var t=by(),r=nQ(),s=v.useState(),a=s[0],i=s[1],o=v.useState(),l=o[0],c=o[1],d=r7e(t.displayMonths,r),u=a??(l&&t.isDateDisplayed(l))?l:d,f=function(){c(a),i(void 0)},m=function(g){i(g)},h=Zr(),x=function(g,j){if(a){var y=sQ(a,{moveBy:g,direction:j,context:h,modifiers:r});ri(a,y)||(t.goToDate(y,a),m(y))}},p={focusedDay:a,focusTarget:u,blur:f,focus:m,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return n.jsx(aQ.Provider,{value:p,children:e.children})}function b3(){var e=v.useContext(aQ);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function a7e(e,t){var r=nQ(),s=j3(e,r,t);return s}var w3=v.createContext(void 0);function i7e(e){if(!Y2(e.initialProps)){var t={selected:void 0};return n.jsx(w3.Provider,{value:t,children:e.children})}return n.jsx(o7e,{initialProps:e.initialProps,children:e.children})}function o7e(e){var t=e.initialProps,r=e.children,s=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:s};return n.jsx(w3.Provider,{value:a,children:r})}function iQ(){var e=v.useContext(w3);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function l7e(e,t){var r=Zr(),s=iQ(),a=g3(),i=y3(),o=b3(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,f=o.blur,m=o.focus,h=o.focusMonthBefore,x=o.focusMonthAfter,p=o.focusYearBefore,g=o.focusYearAfter,j=o.focusStartOfWeek,y=o.focusEndOfWeek,w=function(P){var M,O,K,ne;Y2(r)?(M=s.onDayClick)===null||M===void 0||M.call(s,e,t,P):yy(r)?(O=a.onDayClick)===null||O===void 0||O.call(a,e,t,P):jy(r)?(K=i.onDayClick)===null||K===void 0||K.call(i,e,t,P):(ne=r.onDayClick)===null||ne===void 0||ne.call(r,e,t,P)},b=function(P){var M;m(e),(M=r.onDayFocus)===null||M===void 0||M.call(r,e,t,P)},N=function(P){var M;f(),(M=r.onDayBlur)===null||M===void 0||M.call(r,e,t,P)},S=function(P){var M;(M=r.onDayMouseEnter)===null||M===void 0||M.call(r,e,t,P)},_=function(P){var M;(M=r.onDayMouseLeave)===null||M===void 0||M.call(r,e,t,P)},E=function(P){var M;(M=r.onDayPointerEnter)===null||M===void 0||M.call(r,e,t,P)},A=function(P){var M;(M=r.onDayPointerLeave)===null||M===void 0||M.call(r,e,t,P)},k=function(P){var M;(M=r.onDayTouchCancel)===null||M===void 0||M.call(r,e,t,P)},D=function(P){var M;(M=r.onDayTouchEnd)===null||M===void 0||M.call(r,e,t,P)},I=function(P){var M;(M=r.onDayTouchMove)===null||M===void 0||M.call(r,e,t,P)},W=function(P){var M;(M=r.onDayTouchStart)===null||M===void 0||M.call(r,e,t,P)},H=function(P){var M;(M=r.onDayKeyUp)===null||M===void 0||M.call(r,e,t,P)},F=function(P){var M;switch(P.key){case"ArrowLeft":P.preventDefault(),P.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":P.preventDefault(),P.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":P.preventDefault(),P.stopPropagation(),d();break;case"ArrowUp":P.preventDefault(),P.stopPropagation(),u();break;case"PageUp":P.preventDefault(),P.stopPropagation(),P.shiftKey?p():h();break;case"PageDown":P.preventDefault(),P.stopPropagation(),P.shiftKey?g():x();break;case"Home":P.preventDefault(),P.stopPropagation(),j();break;case"End":P.preventDefault(),P.stopPropagation(),y();break}(M=r.onDayKeyDown)===null||M===void 0||M.call(r,e,t,P)},T={onClick:w,onFocus:b,onBlur:N,onKeyDown:F,onKeyUp:H,onMouseEnter:S,onMouseLeave:_,onPointerEnter:E,onPointerLeave:A,onTouchCancel:k,onTouchEnd:D,onTouchMove:I,onTouchStart:W};return T}function c7e(){var e=Zr(),t=iQ(),r=g3(),s=y3(),a=Y2(e)?t.selected:yy(e)?r.selected:jy(e)?s.selected:void 0;return a}function d7e(e){return Object.values(hl).includes(e)}function u7e(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(s){var a=e.modifiersClassNames[s];if(a)r.push(a);else if(d7e(s)){var i=e.classNames["day_".concat(s)];i&&r.push(i)}}),r}function f7e(e,t){var r=Dt({},e.styles.day);return Object.keys(t).forEach(function(s){var a;r=Dt(Dt({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[s])}),r}function m7e(e,t,r){var s,a,i,o=Zr(),l=b3(),c=a7e(e,t),d=l7e(e,c),u=c7e(),f=!!(o.onDayClick||o.mode!=="default");v.useEffect(function(){var S;c.outside||l.focusedDay&&f&&ri(l.focusedDay,e)&&((S=r.current)===null||S===void 0||S.focus())},[l.focusedDay,e,r,f,c.outside]);var m=u7e(o,c).join(" "),h=f7e(o,c),x=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:I9e,g=n.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),j={style:h,className:m,children:g,role:"gridcell"},y=l.focusTarget&&ri(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&ri(l.focusedDay,e),b=Dt(Dt(Dt({},j),(s={disabled:c.disabled,role:"gridcell"},s["aria-selected"]=c.selected,s.tabIndex=w||y?0:-1,s)),d),N={isButton:f,isHidden:x,activeModifiers:c,selectedDays:u,buttonProps:b,divProps:j};return N}function h7e(e){var t=v.useRef(null),r=m7e(e.date,e.displayMonth,t);return r.isHidden?n.jsx("div",{role:"gridcell"}):r.isButton?n.jsx(Sw,Dt({name:"day",ref:t},r.buttonProps)):n.jsx("div",Dt({},r.divProps))}function p7e(e){var t=e.number,r=e.dates,s=Zr(),a=s.onWeekNumberClick,i=s.styles,o=s.classNames,l=s.locale,c=s.labels.labelWeekNumber,d=s.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return n.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var f=c(Number(t),{locale:l}),m=function(h){a(t,r,h)};return n.jsx(Sw,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:m,children:u})}function x7e(e){var t,r,s=Zr(),a=s.styles,i=s.classNames,o=s.showWeekNumber,l=s.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:h7e,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:p7e,u;return o&&(u=n.jsx("td",{className:i.cell,style:a.cell,children:n.jsx(d,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:i.row,style:a.row,children:[u,e.dates.map(function(f){return n.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:n.jsx(c,{displayMonth:e.displayMonth,date:f})},mge(f))})]})}function U$(e,t,r){for(var s=r!=null&&r.ISOWeek?YW(t):UT(t,r),a=r!=null&&r.ISOWeek?td(e):Yi(e,r),i=tl(s,a),o=[],l=0;l<=i;l++)o.push(qs(a,l));var c=o.reduce(function(d,u){var f=r!=null&&r.ISOWeek?VT(u):WT(u,r),m=d.find(function(h){return h.weekNumber===f});return m?(m.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return c}function g7e(e,t){var r=U$(mi(e),YN(e),t);if(t!=null&&t.useFixedWeeks){var s=pge(e,t);if(s<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=NE(i,6-s),l=U$(NE(i,1),o,t);r.push.apply(r,l)}}return r}function v7e(e){var t,r,s,a=Zr(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,f=a.weekStartsOn,m=a.firstWeekContainsDate,h=a.ISOWeek,x=g7e(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:h,locale:i,weekStartsOn:f,firstWeekContainsDate:m}),p=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:D9e,g=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:x7e,j=(s=u==null?void 0:u.Footer)!==null&&s!==void 0?s:k9e;return n.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&n.jsx(p,{}),n.jsx("tbody",{className:o.tbody,style:l.tbody,children:x.map(function(y){return n.jsx(g,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),n.jsx(j,{displayMonth:e.displayMonth})]})}function y7e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var j7e=y7e()?v.useLayoutEffect:v.useEffect,rC=!1,b7e=0;function V$(){return"react-day-picker-".concat(++b7e)}function w7e(e){var t,r=e??(rC?V$():null),s=v.useState(r),a=s[0],i=s[1];return j7e(function(){a===null&&i(V$())},[]),v.useEffect(function(){rC===!1&&(rC=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function N7e(e){var t,r,s=Zr(),a=s.dir,i=s.classNames,o=s.styles,l=s.components,c=by().displayMonths,d=w7e(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),u=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],m=o.month,h=e.displayIndex===0,x=e.displayIndex===c.length-1,p=!h&&!x;a==="rtl"&&(t=[h,x],x=t[0],h=t[1]),h&&(f.push(i.caption_start),m=Dt(Dt({},m),o.caption_start)),x&&(f.push(i.caption_end),m=Dt(Dt({},m),o.caption_end)),p&&(f.push(i.caption_between),m=Dt(Dt({},m),o.caption_between));var g=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:P9e;return n.jsxs("div",{className:f.join(" "),style:m,children:[n.jsx(g,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(v7e,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function _7e(e){var t=Zr(),r=t.classNames,s=t.styles;return n.jsx("div",{className:r.months,style:s.months,children:e.children})}function S7e(e){var t,r,s=e.initialProps,a=Zr(),i=b3(),o=by(),l=v.useState(!1),c=l[0],d=l[1];v.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var f=Dt(Dt({},a.styles.root),a.style),m=Object.keys(s).filter(function(x){return x.startsWith("data-")}).reduce(function(x,p){var g;return Dt(Dt({},x),(g={},g[p]=s[p],g))},{}),h=(r=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:_7e;return n.jsx("div",Dt({className:u.join(" "),style:f,dir:a.dir,id:a.id,nonce:s.nonce,title:s.title,lang:s.lang},m,{children:n.jsx(h,{children:o.displayMonths.map(function(x,p){return n.jsx(N7e,{displayIndex:p,displayMonth:x},p)})})}))}function C7e(e){var t=e.children,r=XBe(e,["children"]);return n.jsx(p9e,{initialProps:r,children:n.jsx(S9e,{children:n.jsx(i7e,{initialProps:r,children:n.jsx(R9e,{initialProps:r,children:n.jsx($9e,{initialProps:r,children:n.jsx(q9e,{children:n.jsx(s7e,{children:t})})})})})})})}function E7e(e){return n.jsx(C7e,Dt({},e,{children:n.jsx(S7e,{initialProps:e})}))}function Cw({className:e,classNames:t,showOutsideDays:r=!0,...s}){return n.jsx(E7e,{showOutsideDays:r,className:ve("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ve(y0({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ve(y0({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>n.jsx(Sk,{className:"h-4 w-4"}),IconRight:({...a})=>n.jsx(xu,{className:"h-4 w-4"})},...s})}Cw.displayName="Calendar";var N3="Popover",[oQ,qnt]=ra(N3,[Du]),wy=Du(),[A7e,Vu]=oQ(N3),lQ=e=>{const{__scopePopover:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=wy(t),c=v.useRef(null),[d,u]=v.useState(!1),[f=!1,m]=$a({prop:s,defaultProp:a,onChange:i});return n.jsx(wN,{...l,children:n.jsx(A7e,{scope:t,contentId:di(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(h=>!h),[m]),hasCustomAnchor:d,onCustomAnchorAdd:v.useCallback(()=>u(!0),[]),onCustomAnchorRemove:v.useCallback(()=>u(!1),[]),modal:o,children:r})})};lQ.displayName=N3;var cQ="PopoverAnchor",P7e=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Vu(cQ,r),i=wy(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return v.useEffect(()=>(o(),()=>l()),[o,l]),n.jsx(Uv,{...i,...s,ref:t})});P7e.displayName=cQ;var dQ="PopoverTrigger",uQ=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Vu(dQ,r),i=wy(r),o=Ft(t,a.triggerRef),l=n.jsx(ft.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":xQ(a.open),...s,ref:o,onClick:He(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:n.jsx(Uv,{asChild:!0,...i,children:l})});uQ.displayName=dQ;var _3="PopoverPortal",[k7e,T7e]=oQ(_3,{forceMount:void 0}),fQ=e=>{const{__scopePopover:t,forceMount:r,children:s,container:a}=e,i=Vu(_3,t);return n.jsx(k7e,{scope:t,forceMount:r,children:n.jsx(ls,{present:r||i.open,children:n.jsx(Lp,{asChild:!0,container:a,children:s})})})};fQ.displayName=_3;var kp="PopoverContent",mQ=v.forwardRef((e,t)=>{const r=T7e(kp,e.__scopePopover),{forceMount:s=r.forceMount,...a}=e,i=Vu(kp,e.__scopePopover);return n.jsx(ls,{present:s||i.open,children:i.modal?n.jsx(O7e,{...a,ref:t}):n.jsx(D7e,{...a,ref:t})})});mQ.displayName=kp;var O7e=v.forwardRef((e,t)=>{const r=Vu(kp,e.__scopePopover),s=v.useRef(null),a=Ft(t,s),i=v.useRef(!1);return v.useEffect(()=>{const o=s.current;if(o)return Xv(o)},[]),n.jsx(Qv,{as:Jl,allowPinchZoom:!0,children:n.jsx(hQ,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:He(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),D7e=v.forwardRef((e,t)=>{const r=Vu(kp,e.__scopePopover),s=v.useRef(!1),a=v.useRef(!1);return n.jsx(hQ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),hQ=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,m=Vu(kp,r),h=wy(r);return $N(),n.jsx(Yv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(cm,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:n.jsx(NN,{"data-state":xQ(m.open),role:"dialog",id:m.contentId,...h,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),pQ="PopoverClose",I7e=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Vu(pQ,r);return n.jsx(ft.button,{type:"button",...s,ref:t,onClick:He(e.onClick,()=>a.onOpenChange(!1))})});I7e.displayName=pQ;var R7e="PopoverArrow",M7e=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=wy(r);return n.jsx(_N,{...a,...s,ref:t})});M7e.displayName=R7e;function xQ(e){return e?"open":"closed"}var F7e=lQ,$7e=uQ,L7e=fQ,gQ=mQ;const lv=F7e,cv=$7e,Tp=v.forwardRef(({className:e,align:t="center",sideOffset:r=4,...s},a)=>n.jsx(L7e,{children:n.jsx(gQ,{ref:a,align:t,sideOffset:r,className:ve("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));Tp.displayName=gQ.displayName;const B7e=({open:e,onOpenChange:t,vendorName:r,productId:s,onVendorUpdated:a,openInEditMode:i=!1})=>{const[o,l]=v.useState(!1),[c,d]=v.useState([]),[u,f]=v.useState(null),[m,h]=v.useState(!1),[x,p]=v.useState("");v.useEffect(()=>{e?(g(),h(i)):(f(null),p(""),h(!1))},[e,i]);const g=async()=>{l(!0);try{const y=await Fo.getVendors();d(y.results);const w=y.results.find(b=>b.name.toLowerCase()===r.toLowerCase());w?(f(w),p(w.id)):(f(null),p(""))}catch(y){console.error("Error fetching vendors:",y),Ue.error("Failed to load vendors")}finally{l(!1)}},j=async()=>{if(!x){Ue.error("Please select a vendor");return}const y=c.find(w=>w.id===x);y&&(a==null||a(y.id,y.name),Ue.success(`Vendor changed to ${y.name}`),t(!1))};return n.jsx(vn,{open:e,onOpenChange:t,children:n.jsxs(on,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(yn,{children:[n.jsxs(jn,{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-5 w-5"}),"Vendor Details"]}),n.jsx(Cs,{children:"View vendor information and change vendor assignment"})]}),o?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Bt,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsx("div",{className:"space-y-6 py-4",children:u?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Current Vendor"}),n.jsx(ee,{variant:"outline",size:"sm",onClick:()=>h(!m),children:m?"Cancel":"Change Vendor"})]}),m?n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[n.jsx(q,{children:"Select New Vendor"}),n.jsxs(tt,{value:x,onValueChange:p,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Choose a vendor"})}),n.jsx(et,{children:c.map(y=>n.jsx(J,{value:y.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4"}),n.jsx("span",{children:y.name}),y.company_name&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",y.company_name,")"]})]})},y.id))})]})]}):n.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 border rounded-lg bg-muted/50",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Vendor Name"}),n.jsx("p",{className:"font-semibold",children:u.name})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Company Name"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4 text-muted-foreground"}),u.company_name||"N/A"]})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Contact Person"}),n.jsx("p",{children:u.contact_person||"N/A"})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Category"}),n.jsx("p",{children:u.category||"N/A"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Email"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(gn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:`mailto:${u.email}`,className:"text-primary hover:underline",children:u.email})]})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Phone"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(To,{className:"h-4 w-4 text-muted-foreground"}),u.phone||"N/A"]})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Website"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(ec,{className:"h-4 w-4 text-muted-foreground"}),u.website?n.jsx("a",{href:u.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:u.website}):"N/A"]})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Address"}),n.jsxs("p",{className:"flex items-start gap-2",children:[n.jsx(va,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsxs("span",{className:"text-sm",children:[u.address||"N/A",u.city&&`, ${u.city}`,u.country&&`, ${u.country}`]})]})]})]}),n.jsxs("div",{className:"col-span-2 grid grid-cols-3 gap-4 pt-4 border-t",children:[n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Lead Time"}),n.jsx("p",{className:"font-semibold",children:u.lead_time||"N/A"})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Reliability"}),n.jsx("p",{className:"font-semibold",children:u.reliability||"N/A"})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Total Orders"}),n.jsx("p",{className:"font-semibold",children:u.orders_count||0})]})]})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"No vendor assigned or vendor not found in the system."}),n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[n.jsx(q,{children:"Assign Vendor"}),n.jsxs(tt,{value:x,onValueChange:p,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Choose a vendor"})}),n.jsx(et,{children:c.map(y=>n.jsx(J,{value:y.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4"}),n.jsx("span",{children:y.name}),y.company_name&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",y.company_name,")"]})]})},y.id))})]})]})]})}),n.jsxs(qa,{children:[n.jsx(ee,{variant:"outline",onClick:()=>t(!1),children:"Close"}),(m||!u)&&n.jsx(ee,{onClick:j,disabled:!x,children:u?"Change Vendor":"Assign Vendor"})]})]})})};var S3="Switch",[U7e,Gnt]=ra(S3),[V7e,z7e]=U7e(S3),vQ=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[m,h]=v.useState(null),x=Ft(t,w=>h(w)),p=v.useRef(!1),g=m?u||!!m.closest("form"):!0,[j=!1,y]=$a({prop:a,defaultProp:i,onChange:d});return n.jsxs(V7e,{scope:r,checked:j,disabled:l,children:[n.jsx(ft.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":bQ(j),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:He(e.onClick,w=>{y(b=>!b),g&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),g&&n.jsx(W7e,{control:m,bubbles:!p.current,name:s,value:c,checked:j,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});vQ.displayName=S3;var yQ="SwitchThumb",jQ=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,a=z7e(yQ,r);return n.jsx(ft.span,{"data-state":bQ(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});jQ.displayName=yQ;var W7e=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,i=v.useRef(null),o=z2(r),l=bN(t);return v.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&f){const m=new Event("click",{bubbles:s});f.call(c,r),c.dispatchEvent(m)}},[o,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function bQ(e){return e?"checked":"unchecked"}var wQ=vQ,H7e=jQ;const Vn=v.forwardRef(({className:e,...t},r)=>n.jsx(wQ,{className:ve("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(H7e,{className:ve("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Vn.displayName=wQ.displayName;var q7e="Separator",z$="horizontal",G7e=["horizontal","vertical"],NQ=v.forwardRef((e,t)=>{const{decorative:r,orientation:s=z$,...a}=e,i=K7e(s)?s:z$,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(ft.div,{"data-orientation":i,...l,...a,ref:t})});NQ.displayName=q7e;function K7e(e){return G7e.includes(e)}var _Q=NQ;const Lt=v.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...s},a)=>n.jsx(_Q,{ref:a,decorative:r,orientation:t,className:ve("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Lt.displayName=_Q.displayName;const W$=e=>{let t;const r=new Set,s=(d,u)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const m=t;t=u??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(h=>h(t,m))}},a=()=>t,l={setState:s,getState:a,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d))},c=t=e(s,a,l);return l},Y7e=e=>e?W$(e):W$,X7e=e=>e;function Q7e(e,t=X7e){const r=z.useSyncExternalStore(e.subscribe,z.useCallback(()=>t(e.getState()),[e,t]),z.useCallback(()=>t(e.getInitialState()),[e,t]));return z.useDebugValue(r),r}const Z7e=e=>{const t=Y7e(e),r=s=>Q7e(t,s);return Object.assign(r,t),r},J7e=e=>Z7e;function eUe(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=r.getItem(a))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const dP=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(s){return dP(s)(r)},catch(s){return this}}}catch(r){return{then(s){return this},catch(s){return dP(s)(r)}}}},tUe=(e,t)=>(r,s,a)=>{let i={storage:eUe(()=>localStorage),partialize:p=>p,version:0,merge:(p,g)=>({...g,...p}),...t},o=!1;const l=new Set,c=new Set;let d=i.storage;if(!d)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...p)},s,a);const u=()=>{const p=i.partialize({...s()});return d.setItem(i.name,{state:p,version:i.version})},f=a.setState;a.setState=(p,g)=>(f(p,g),u());const m=e((...p)=>(r(...p),u()),s,a);a.getInitialState=()=>m;let h;const x=()=>{var p,g;if(!d)return;o=!1,l.forEach(y=>{var w;return y((w=s())!=null?w:m)});const j=((g=i.onRehydrateStorage)==null?void 0:g.call(i,(p=s())!=null?p:m))||void 0;return dP(d.getItem.bind(d))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate){const w=i.migrate(y.state,y.version);return w instanceof Promise?w.then(b=>[!0,b]):[!0,w]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var w;const[b,N]=y;if(h=i.merge(N,(w=s())!=null?w:m),r(h,!0),b)return u()}).then(()=>{j==null||j(h,void 0),h=s(),o=!0,c.forEach(y=>y(h))}).catch(y=>{j==null||j(void 0,y)})};return a.persist={setOptions:p=>{i={...i,...p},p.storage&&(d=p.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},i.skipHydration||x(),h||m},rUe=tUe,nUe=()=>({vendors:[{id:"vendor-001",name:"IKEA",companyName:"IKEA Hungary Kft.",contactPerson:"Sales Department",email:"sales@ikea.hu",phone:"+36 1 123 4567",website:"https://www.ikea.com/hu/hu/",notes:"Main furniture supplier"},{id:"vendor-002",name:"Royalty Line",companyName:"Royalty Line Europe",contactPerson:"Customer Service",email:"support@royaltyline.eu",phone:"+36 30 234 5678",website:"https://royaltyline.eu/",notes:"Kitchen and cookware specialist"},{id:"vendor-003",name:"JYSK",companyName:"JYSK Hungary",contactPerson:"B2B Sales",email:"b2b@jysk.hu",phone:"+36 1 345 6789",website:"https://jysk.hu/",notes:"Bedroom furniture and textiles"}],clients:[{id:"client-001",name:"John Doe",email:"john.doe@example.com",phone:"+36 20 123 4567",accountStatus:"Active",type:"Investor",notes:"Long-term investor with multiple properties"},{id:"client-002",name:"Anna Nagy",email:"anna.nagy@example.com",phone:"+36 30 987 6543",accountStatus:"Active",type:"Investor",notes:""},{id:"client-003",name:"Mikls Szab",email:"miklos.szabo@example.com",phone:"+36 70 555 1234",accountStatus:"Active",type:"Investor",notes:""},{id:"client-internal",name:"Buy2Rent Internal",email:"info@buy2rent.com",phone:"+36 1 234 5678",accountStatus:"Active",type:"Buy2Rent Internal",notes:"Internal company projects"}],apartments:[{id:"apt-001",name:"Izabella utca 3  A/12",type:"furnishing",clientId:"client-001",owner:"John Doe",address:"Izabella u. 3, Budapest",status:"Ordering",designer:"Barbara Kovcs",startDate:"2025-10-15",dueDate:"2025-12-05",progress:68,notes:""},{id:"apt-002",name:"Vci t 41  3.em 7",type:"renovating",clientId:"client-002",owner:"Anna Nagy",address:"Vci t 41, Budapest",status:"Renovating",designer:"Barbara Kovcs",startDate:"2025-09-10",dueDate:"2025-11-28",progress:52,notes:""},{id:"apt-003",name:"Andrssy t 25  B/5",type:"furnishing",clientId:"client-003",owner:"Mikls Szab",address:"Andrssy t 25, Budapest",status:"Design Approved",designer:"Barbara Kovcs",startDate:"2025-10-01",dueDate:"2025-12-01",progress:74,notes:""}],products:[{id:"p-1001",apartmentId:"apt-001",product:"Kanap  3 szemlyes",vendor:"IKEA",vendorLink:"https://www.ikea.com/hu/hu/",sku:"IK-SOFA-3",unitPrice:159999,qty:1,availability:"In Stock",status:"Ordered",statusTags:["Ordered"],deliveryStatusTags:["Scheduled"],eta:"2025-11-14",category:"Living Room",room:"Nappali",imageUrl:"",orderedOn:"2025-11-01",expectedDeliveryDate:"2025-11-14",paymentStatus:"Partially Paid",paymentDueDate:"2025-11-12",paymentAmount:159999,paidAmount:63999,issueState:"AI Resolving",issueId:"issue-002",vendorId:"vendor-001"},{id:"p-1002",apartmentId:"apt-001",product:"tkezasztal  Tlgy",vendor:"IKEA",vendorLink:"https://www.ikea.com/hu/hu/",sku:"IK-DINE-OAK",unitPrice:89999,qty:1,availability:"Backorder",status:"Waiting For Stock",statusTags:["Ordered","Waiting For Stock"],deliveryStatusTags:["Scheduled"],eta:"2025-11-25",category:"Dining",room:"tkez",imageUrl:"",orderedOn:"2025-11-02",expectedDeliveryDate:"2025-11-25",paymentStatus:"Partially Paid",paymentDueDate:"2025-11-12",paymentAmount:89999,paidAmount:36001,issueState:"No Issue",vendorId:"vendor-001"},{id:"p-1003",apartmentId:"apt-001",product:"Marble Cookware Set",vendor:"Royalty Line",vendorLink:"https://royaltyline.eu/",sku:"RL-COOK-SET",unitPrice:12999,qty:2,availability:"In Stock",status:"Damaged",statusTags:["Delivered","Damaged"],deliveryStatusTags:["Delivered","Issue Reported"],eta:"2025-11-12",category:"Kitchen",room:"Konyha",imageUrl:"",orderedOn:"2025-10-28",actualDeliveryDate:"2025-11-04",expectedDeliveryDate:"2025-11-04",paymentStatus:"Paid",paymentDueDate:"2025-11-03",paymentAmount:25998,paidAmount:25998,issueState:"AI Resolving",issueId:"issue-001",vendorId:"vendor-002"},{id:"p-1004",apartmentId:"apt-003",product:"King Size gy - Fekete",vendor:"JYSK",vendorLink:"https://jysk.hu/",sku:"JY-BED-KING-BLK",unitPrice:129e3,qty:1,availability:"In Stock",status:"Delivered",statusTags:["Delivered"],deliveryStatusTags:["Delivered"],category:"Bedroom",room:"Hlszoba",imageUrl:"",orderedOn:"2025-10-20",actualDeliveryDate:"2025-11-03",expectedDeliveryDate:"2025-11-03",paymentStatus:"Paid",paymentDueDate:"2025-10-25",paymentAmount:129e3,paidAmount:129e3,issueState:"No Issue",vendorId:"vendor-003"}],deliveries:[{id:"del-001",apartmentId:"apt-001",vendor:"IKEA",orderReference:"IK-ORD-001",expectedDate:"2025-11-14",status:"Scheduled",notes:"Delivery window: 9:00-12:00"},{id:"del-002",apartmentId:"apt-001",vendor:"Royalty Line",orderReference:"RL-ORD-002",expectedDate:"2025-11-04",actualDate:"2025-11-04",receivedBy:"John Doe",status:"Issue Reported",notes:"Items damaged during shipping",proofPhotos:[]}],payments:[{id:"pay-001",apartmentId:"apt-001",vendor:"IKEA",orderReference:"IK-ORD-001",totalAmount:249998,amountPaid:1e5,dueDate:"2025-11-12",status:"Partial",lastPaymentDate:"2025-11-01",paymentHistory:[{date:"2025-11-01",amount:1e5,method:"Bank Transfer",referenceNo:"TRF-20251101-001",note:"Initial payment"}]},{id:"pay-002",apartmentId:"apt-001",vendor:"Royalty Line",orderReference:"RL-ORD-002",totalAmount:25998,amountPaid:25998,dueDate:"2025-11-03",status:"Paid",lastPaymentDate:"2025-10-30",paymentHistory:[{date:"2025-10-30",amount:25998,method:"Credit Card",referenceNo:"CC-20251030-002"}]}],issues:[{id:"issue-001",apartmentId:"apt-001",productId:"p-1003",productName:"Marble Cookware Set",vendor:"Royalty Line",type:"Broken/Damaged",description:"Two pans arrived with cracked marble coating. Product unusable.",reportedOn:"2025-11-04",status:"Pending Vendor Response",photos:[],aiActivated:!0,aiCommunicationLog:[{timestamp:"2025-11-04T16:12:00",sender:"AI",message:`Dear Royalty Line Team,

We received order RL-ORD-002 (Marble Cookware Set, SKU: RL-COOK-SET) on November 4th, 2025. Unfortunately, two pans arrived with cracked marble coating, rendering them unusable.

Kindly confirm the replacement or refund procedure at your earliest convenience.

Best regards,
Buy2Rent FPMS`},{timestamp:"2025-11-04T18:45:00",sender:"Vendor",message:`Hello,

Thank you for contacting us. We apologize for the damaged items. We will arrange a replacement shipment immediately.

Please return the damaged items to our warehouse. RMA #RL-2025-1104.

Expected replacement delivery: November 10th, 2025.

Best regards,
Royalty Line Customer Service`},{timestamp:"2025-11-04T18:46:00",sender:"System",message:" HUMAN ACTION REQUIRED: Vendor requires damaged item to be shipped back. Please arrange pickup or return shipping for damaged cookware set by November 8th, 2025. RMA Number: RL-2025-1104."},{timestamp:"2025-11-04T19:00:00",sender:"AI",message:`Thank you for your prompt response. We acknowledge the replacement shipment scheduled for November 10th. Return shipment will be arranged as per RMA #RL-2025-1104.

Best regards,
Buy2Rent FPMS`}],resolutionStatus:"Resolution Agreed"},{id:"issue-002",apartmentId:"apt-001",productId:"p-1001",productName:"Kanap  3 szemlyes",vendor:"IKEA",type:"Wrong Item/Color",description:"Sofa delivered in wrong color - ordered grey (kivitelben szrke), received beige.",reportedOn:"2025-11-05",status:"Pending Vendor Response",photos:[],aiActivated:!0,aiCommunicationLog:[{timestamp:"2025-11-05T09:15:00",sender:"AI",message:`Dear IKEA Customer Service,

We have an issue with order IK-ORD-001 for the 3-seater sofa (SKU: IK-SOFA-3).

Ordered: Grey color (kivitelben szrke)
Received: Beige color

Could you please advise on the exchange process? We need the correct grey sofa as per our original order.

Best regards,
Buy2Rent Procurement Team`},{timestamp:"2025-11-05T11:30:00",sender:"Vendor",message:`Hello,

Thank you for reporting this issue. We sincerely apologize for the color mix-up.

We have checked our inventory and the grey 3-seater sofa is currently in stock. We can arrange:

1. Pickup of the beige sofa: November 8th, 2025
2. Delivery of the correct grey sofa: November 12th, 2025

No additional charges will apply. We will send you a return label via email within 2 hours.

Reference Number: IKEA-EXCH-20251105-001

Best regards,
IKEA Hungary Customer Service`},{timestamp:"2025-11-05T11:45:00",sender:"AI",message:`Thank you for your prompt response and the proposed solution.

We confirm:
- Pickup of beige sofa: November 8th, 2025 
- Delivery of grey sofa: November 12th, 2025 
- Reference: IKEA-EXCH-20251105-001 

We will ensure the beige sofa is ready for pickup on the 8th. Please send the return label to our registered email address.

Thank you for your cooperation.

Best regards,
Buy2Rent Procurement Team`},{timestamp:"2025-11-05T14:20:00",sender:"Vendor",message:`Perfect! Return label has been sent to your email (info@buy2rent.com).

Pickup scheduled for November 8th between 10:00-14:00.
Delivery scheduled for November 12th between 9:00-13:00.

We have also applied a 10% courtesy discount on your next purchase as an apology for the inconvenience.

Thank you for your understanding!

IKEA Hungary`},{timestamp:"2025-11-05T14:25:00",sender:"AI",message:`Excellent! We have received the return label.

We appreciate the courtesy discount and your professional handling of this matter. Looking forward to receiving the correct grey sofa on November 12th.

Best regards,
Buy2Rent Procurement Team`}],resolutionStatus:"Resolution Agreed"}],activities:[{id:"act-001",apartmentId:"apt-001",timestamp:"2025-11-04T09:15:00",actor:"Admin",icon:"ShoppingCart",summary:'Product "Kanap  3 szemlyes" marked as Ordered',type:"product"},{id:"act-002",apartmentId:"apt-001",timestamp:"2025-11-04T14:30:00",actor:"Admin",icon:"CreditCard",summary:"Partial payment of 100,000 HUF logged for IKEA order (Outstanding: 149,998 HUF)",type:"payment"},{id:"act-003",apartmentId:"apt-001",timestamp:"2025-11-04T16:12:00",actor:"AI Assistant",icon:"Mail",summary:"AI emailed vendor Royalty Line about broken cookware set",type:"ai"},{id:"act-004",apartmentId:"apt-001",timestamp:"2025-11-04T11:45:00",actor:"John Doe",icon:"PackageCheck",summary:"Delivery received from Royalty Line - issue reported",type:"delivery"}],aiNotes:[{id:"ai-001",apartmentId:"apt-001",timestamp:"2025-11-04T16:12:00",sender:"AI",content:`Dear Royalty Line Team,

We received order RL-ORD-002 (Marble Cookware Set, SKU: RL-COOK-SET) on November 4th, 2025. Unfortunately, two pans arrived with cracked marble coating, rendering them unusable.

Kindly confirm the replacement or refund procedure at your earliest convenience.

Best regards,
Buy2Rent FPMS`,emailSubject:"Issue Report: Damaged Items - Order RL-ORD-002",relatedTo:"issue-001"}],manualNotes:{}}),Al=nUe(),Ll=J7e()(rUe((e,t)=>({clients:Al.clients,apartments:Al.apartments,vendors:Al.vendors,products:Al.products,deliveries:Al.deliveries,payments:Al.payments,issues:Al.issues,activities:Al.activities,aiNotes:Al.aiNotes,manualNotes:Al.manualNotes,addClient:r=>e(s=>({clients:[...s.clients,{...r,id:`client-${Date.now()}`}]})),updateClient:(r,s)=>e(a=>({clients:a.clients.map(i=>i.id===r?{...i,...s}:i)})),deleteClient:r=>e(s=>({clients:s.clients.filter(a=>a.id!==r)})),getClient:r=>t().clients.find(s=>s.id===r),addVendor:r=>e(s=>({vendors:[...s.vendors,{...r,id:`vendor-${Date.now()}`}]})),updateVendor:(r,s)=>e(a=>({vendors:a.vendors.map(i=>i.id===r?{...i,...s}:i)})),deleteVendor:r=>e(s=>({vendors:s.vendors.filter(a=>a.id!==r)})),getVendor:r=>t().vendors.find(s=>s.id===r),getVendorByName:r=>t().vendors.find(s=>s.name.toLowerCase()===r.toLowerCase()),addApartment:r=>e(s=>({apartments:[...s.apartments,{...r,id:`apt-${Date.now()}`}]})),updateApartment:(r,s)=>e(a=>({apartments:a.apartments.map(i=>i.id===r?{...i,...s}:i)})),deleteApartment:r=>e(s=>({apartments:s.apartments.filter(a=>a.id!==r)})),getApartment:r=>t().apartments.find(s=>s.id===r),getApartmentsByType:r=>t().apartments.filter(s=>s.type===r),getApartmentsByClient:r=>t().apartments.filter(s=>s.clientId===r),addProduct:r=>e(s=>({products:[...s.products,{...r,id:`p-${Date.now()}`}]})),addProducts:r=>e(s=>({products:[...s.products,...r.map((a,i)=>({...a,id:`p-${Date.now()}-${i}`}))]})),updateProduct:(r,s)=>e(a=>({products:a.products.map(i=>i.id===r?{...i,...s}:i)})),deleteProduct:r=>e(s=>({products:s.products.filter(a=>a.id!==r)})),getProduct:r=>t().products.find(s=>s.id===r),getProductsByApartment:r=>t().products.filter(s=>s.apartmentId===r),addDelivery:r=>e(s=>({deliveries:[...s.deliveries,{...r,id:`del-${Date.now()}`}]})),updateDelivery:(r,s)=>e(a=>({deliveries:a.deliveries.map(i=>i.id===r?{...i,...s}:i)})),getDeliveriesByApartment:r=>t().deliveries.filter(s=>s.apartmentId===r),addPayment:r=>e(s=>({payments:[...s.payments,{...r,id:`pay-${Date.now()}`}]})),updatePayment:(r,s)=>e(a=>({payments:a.payments.map(i=>i.id===r?{...i,...s}:i)})),addPaymentToHistory:(r,s)=>e(a=>({payments:a.payments.map(i=>i.id===r?{...i,paymentHistory:[...i.paymentHistory,s],amountPaid:i.amountPaid+s.amount,lastPaymentDate:s.date,status:i.amountPaid+s.amount>=i.totalAmount?"Paid":"Partial"}:i)})),getPaymentsByApartment:r=>t().payments.filter(s=>s.apartmentId===r),addIssue:r=>e(s=>({issues:[...s.issues,{...r,id:`issue-${Date.now()}`}]})),updateIssue:(r,s)=>e(a=>({issues:a.issues.map(i=>i.id===r?{...i,...s}:i)})),getIssuesByApartment:r=>t().issues.filter(s=>s.apartmentId===r),addActivity:r=>e(s=>({activities:[...s.activities,{...r,id:`act-${Date.now()}`,timestamp:new Date().toISOString()}]})),getActivitiesByApartment:r=>t().activities.filter(s=>s.apartmentId===r).sort((s,a)=>new Date(a.timestamp).getTime()-new Date(s.timestamp).getTime()),addAINote:r=>e(s=>({aiNotes:[...s.aiNotes,{...r,id:`ai-${Date.now()}`,timestamp:new Date().toISOString()}]})),getAINotesByApartment:r=>t().aiNotes.filter(s=>s.apartmentId===r).sort((s,a)=>new Date(a.timestamp).getTime()-new Date(s.timestamp).getTime()),setManualNote:(r,s)=>e(a=>({manualNotes:{...a.manualNotes,[r]:s}})),getManualNote:r=>t().manualNotes[r]||""}),{name:"fpms-data-storage"})),SQ=({open:e,onOpenChange:t,product:r,onIssueUpdated:s})=>{const a=Ll(_=>_.getIssuesByApartment),i=Ll(_=>_.addIssue),o=Ll(_=>_.updateIssue),l=Ll(_=>_.updateProduct),c=Ll(_=>_.addActivity),d=Ll(_=>_.addAINote),f=a(r.apartmentId).find(_=>_.id===r.issueId||_.productId===r.id),[m,h]=v.useState(""),[x,p]=v.useState("Broken/Damaged"),[g,j]=v.useState(!1),[y,w]=v.useState("Open");v.useEffect(()=>{f?(h(f.description),p(f.type),j(f.aiActivated||!1),w(f.resolutionStatus||"Open")):(h(""),p("Broken/Damaged"),j(!1),w("Open"))},[f,e]);const b=()=>{if(!m.trim()){Ue.error("Please provide a description of the issue");return}if(f){o(f.id,{description:m,type:x,aiActivated:g,resolutionStatus:y});const _=g?"AI Resolving":y==="Closed"?"Resolved":"Issue Reported";l(r.id,{issueState:_}),Ue.success("Issue updated")}else{const _={apartmentId:r.apartmentId,productId:r.id,productName:r.product,vendor:r.vendor,type:x,description:m,reportedOn:new Date().toISOString(),status:"Open",aiActivated:g,aiCommunicationLog:[],resolutionStatus:"Open"};i(_);const E=g?"AI Resolving":"Issue Reported";l(r.id,{issueState:E}),c({apartmentId:r.apartmentId,actor:"Admin",icon:"AlertCircle",summary:`Issue reported for "${r.product}": ${x}`,type:"issue"}),g&&setTimeout(()=>{d({apartmentId:r.apartmentId,sender:"AI",content:`Automatically analyzing issue with ${r.product}. Preparing vendor communication for ${r.vendor}...`})},500),Ue.success("Issue created"+(g?" - AI activated":""))}s==null||s(),t(!1)},N=()=>{const _=!g;j(_),f&&_&&Ue.info("AI Chatbot activated for this issue")},S=_=>{switch(_){case"Closed":return n.jsx(Ur,{className:"h-4 w-4 text-success"});case"Resolution Agreed":return n.jsx(Ur,{className:"h-4 w-4 text-primary"});case"Pending Vendor Response":return n.jsx(wr,{className:"h-4 w-4 text-warning"});default:return n.jsx(At,{className:"h-4 w-4 text-danger"})}};return n.jsx(vn,{open:e,onOpenChange:t,children:n.jsxs(on,{className:"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs(yn,{children:[n.jsxs(jn,{children:["Issue Management - ",r.product]}),n.jsx(Cs,{children:"Report and track issues, activate AI assistance for automated vendor communication"})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto space-y-6 py-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"issueType",children:"Issue Type"}),n.jsxs(tt,{value:x,onValueChange:_=>p(_),children:[n.jsx(Je,{children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"Broken/Damaged",children:"Broken/Damaged"}),n.jsx(J,{value:"Wrong Item/Color",children:"Wrong Item/Color"}),n.jsx(J,{value:"Missing Parts",children:"Missing Parts"}),n.jsx(J,{value:"Incorrect Quantity",children:"Incorrect Quantity"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"description",children:"Detailed Description"}),n.jsx(ha,{id:"description",value:m,onChange:_=>h(_.target.value),placeholder:"Describe the issue in detail...",rows:4})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"resolutionStatus",children:"Resolution Status"}),n.jsxs(tt,{value:y,onValueChange:_=>w(_),children:[n.jsx(Je,{children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"Open",children:"Open"}),n.jsx(J,{value:"Pending Vendor Response",children:"Pending Vendor Response"}),n.jsx(J,{value:"Resolution Agreed",children:"Resolution Agreed"}),n.jsx(J,{value:"Closed",children:"Closed"})]})]})]})]}),n.jsx(Lt,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/30",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Oa,{className:"h-5 w-5 text-primary"}),n.jsx(q,{htmlFor:"aiActivated",className:"text-base font-semibold cursor-pointer",children:"Activate AI Chatbot for Resolution"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"AI will automatically communicate with vendor to resolve this issue"})]}),n.jsx(Vn,{id:"aiActivated",checked:g,onCheckedChange:N})]}),g&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[n.jsx(v7,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:"AI Chatbot is active"}),n.jsxs(ee,{size:"sm",variant:"outline",className:"ml-auto",onClick:()=>Ue.info("AI chatbot paused for this issue"),children:[n.jsx(Ase,{className:"h-3 w-3 mr-1"}),"Pause AI"]})]})]}),f&&f.aiCommunicationLog&&f.aiCommunicationLog.length>0&&n.jsxs(n.Fragment,{children:[n.jsx(Lt,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(q,{className:"text-base font-semibold",children:"AI Communication Log"}),n.jsxs(_e,{variant:"outline",children:[f.aiCommunicationLog.length," messages"]})]}),n.jsx(ud,{className:"h-64 border rounded-lg p-4",children:n.jsx("div",{className:"space-y-4",children:f.aiCommunicationLog.map((_,E)=>{const A=_.message.toLowerCase().includes("please arrange")||_.message.toLowerCase().includes("action required")||_.message.toLowerCase().includes("human action");return n.jsxs("div",{className:ve("flex gap-3 p-3 rounded-lg",_.sender==="AI"?"bg-primary/5":"bg-muted",A&&"border-2 border-warning shadow-sm"),children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:_.sender==="AI"?n.jsx(Oa,{className:"h-4 w-4 text-primary"}):_.sender==="Vendor"?n.jsx(os,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(At,{className:"h-4 w-4 text-warning"})}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_e,{variant:_.sender==="AI"?"default":"outline",className:ve("text-xs",A&&"bg-warning text-warning-foreground"),children:_.sender}),A&&n.jsxs(_e,{variant:"outline",className:"text-xs bg-warning/10 text-warning border-warning/50",children:[n.jsx(At,{className:"h-3 w-3 mr-1"}),"Action Required"]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(_.timestamp).toLocaleString()})]}),n.jsx("p",{className:ve("text-sm whitespace-pre-wrap",A&&"font-medium"),children:_.message})]})]},E)})})}),f.aiCommunicationLog.some(_=>_.message.toLowerCase().includes("please arrange")||_.message.toLowerCase().includes("action required"))&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-warning/10 border border-warning/30 rounded-lg",children:[n.jsx(At,{className:"h-5 w-5 text-warning"}),n.jsx("span",{className:"text-sm font-medium text-warning-foreground",children:"Human action required - please review the communication log above"})]})]})]}),f&&n.jsxs(n.Fragment,{children:[n.jsx(Lt,{}),n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[S(f.resolutionStatus),n.jsx("span",{className:"font-medium",children:"Current Status:"}),n.jsx(_e,{children:f.resolutionStatus||"Open"})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Reported: ",new Date(f.reportedOn).toLocaleDateString()]})]})]})]}),n.jsxs(qa,{children:[n.jsx(ee,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsxs(ee,{onClick:b,children:[f?"Update":"Create"," Issue"]})]})]})})},sUe=({open:e,onOpenChange:t,product:r})=>{if(!r)return null;const s=a=>a!=null&&a.includes("DPD")?"bg-blue-500 text-white":a!=null&&a.includes("GLS")?"bg-yellow-500 text-black":a!=null&&a.includes("Sameday")?"bg-green-500 text-white":"bg-muted text-muted-foreground";return n.jsx(vn,{open:e,onOpenChange:t,children:n.jsxs(on,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(yn,{children:[n.jsxs(jn,{className:"flex items-center gap-2",children:[n.jsx(_r,{className:"h-5 w-5 text-primary"}),"Delivery Location Details"]}),n.jsxs(Cs,{children:["Complete delivery information for ",r.product]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start gap-4 p-4 bg-muted/50 rounded-lg",children:[r.product_image?n.jsx("img",{src:r.product_image,alt:r.product,className:"h-16 w-16 rounded object-cover"}):n.jsx("div",{className:"h-16 w-16 rounded bg-muted flex items-center justify-center",children:n.jsx(ot,{className:"h-8 w-8 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-lg",children:r.product}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["SKU: ",r.sku]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Vendor: ",r.vendor]})]})]}),n.jsx(Lt,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(_r,{className:"h-4 w-4 text-primary"}),n.jsx("h4",{className:"font-semibold",children:"Delivery Service"})]}),n.jsx(_e,{className:s(r.deliveryType),variant:"secondary",children:r.deliveryType||"Not specified"}),r.trackingNumber&&n.jsxs("div",{className:"mt-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Tracking Number:"}),n.jsx("span",{className:"ml-2 font-mono font-medium",children:r.trackingNumber})]})]}),n.jsx(Lt,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(va,{className:"h-4 w-4 text-primary"}),n.jsx("h4",{className:"font-semibold",children:"Delivery Address"})]}),n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg space-y-2",children:[n.jsx("p",{className:"font-medium",children:r.deliveryAddress||"Not specified"}),r.deliveryCity&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.deliveryCity,", ",r.deliveryPostalCode||""]}),r.deliveryCountry&&n.jsx("p",{className:"text-sm text-muted-foreground",children:r.deliveryCountry})]})]}),n.jsx(Lt,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(ot,{className:"h-4 w-4 text-primary"}),n.jsx("h4",{className:"font-semibold",children:"How to Receive"})]}),n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg space-y-3",children:[r.deliveryInstructions?n.jsx("p",{className:"text-sm leading-relaxed",children:r.deliveryInstructions}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No special instructions"}),r.deliveryContactPerson&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(os,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),n.jsx("span",{className:"font-medium",children:r.deliveryContactPerson})]}),r.deliveryContactPhone&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(To,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:r.deliveryContactPhone})]}),r.deliveryContactEmail&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(gn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:r.deliveryContactEmail})]})]})]}),n.jsx(Lt,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(wr,{className:"h-4 w-4 text-primary"}),n.jsx("h4",{className:"font-semibold",children:"Delivery Schedule"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground mb-1",children:"Expected Delivery"}),n.jsx("p",{className:"font-medium",children:r.expectedDeliveryDate?new Date(r.expectedDeliveryDate).toLocaleDateString():"Not set"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground mb-1",children:"Actual Delivery"}),n.jsx("p",{className:"font-medium",children:r.actualDeliveryDate?new Date(r.actualDeliveryDate).toLocaleDateString():"Pending"})]}),r.deliveryTimeWindow&&n.jsxs("div",{className:"col-span-2",children:[n.jsx("p",{className:"text-muted-foreground mb-1",children:"Time Window"}),n.jsx("p",{className:"font-medium",children:r.deliveryTimeWindow})]})]})]}),r.deliveryNotes&&n.jsxs(n.Fragment,{children:[n.jsx(Lt,{}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Additional Notes"}),n.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed p-3 bg-muted/30 rounded",children:r.deliveryNotes})]})]})]})]})})},aUe=({open:e,onOpenChange:t,currentSku:r,productId:s,productName:a,onSkuUpdated:i})=>{const[o,l]=v.useState(r||""),[c,d]=v.useState(!1);v.useEffect(()=>{e&&l(r||"")},[e,r]);const u=async()=>{if(!o.trim()){Ue.error("SKU cannot be empty");return}d(!0);try{i==null||i(o.trim()),t(!1)}catch(m){console.error("Error updating SKU:",m),Ue.error("Failed to update SKU")}finally{d(!1)}},f=m=>{m.key==="Enter"&&!c&&u()};return n.jsx(vn,{open:e,onOpenChange:t,children:n.jsxs(on,{className:"max-w-md",children:[n.jsxs(yn,{children:[n.jsxs(jn,{className:"flex items-center gap-2",children:[n.jsx(ot,{className:"h-5 w-5"}),"Edit SKU"]}),n.jsxs(Cs,{children:['Update the SKU for "',a,'"']})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"sku",children:"SKU (Stock Keeping Unit)"}),n.jsx(me,{id:"sku",value:o,onChange:m=>l(m.target.value),onKeyPress:f,placeholder:"Enter SKU code",className:"font-mono",autoFocus:!0,disabled:c}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter a unique identifier for this product"})]})}),n.jsxs(qa,{children:[n.jsx(ee,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),n.jsxs(ee,{onClick:u,disabled:c||!o.trim(),children:[c&&n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Save SKU"]})]})]})})},iUe=({open:e,onOpenChange:t,currentPrice:r,productId:s,productName:a,onPriceUpdated:i})=>{const[o,l]=v.useState((r==null?void 0:r.toString())||""),[c,d]=v.useState(!1);v.useEffect(()=>{if(e){const h=r?Math.round(parseFloat(r.toString())):0;l(h.toString())}},[e,r]);const u=async()=>{const h=parseInt(o);if(!o.trim()||isNaN(h)){Ue.error("Please enter a valid price");return}if(h<0){Ue.error("Price cannot be negative");return}d(!0);try{i==null||i(h.toString()),t(!1)}catch(x){console.error("Error updating unit price:",x),Ue.error("Failed to update unit price")}finally{d(!1)}},f=h=>{h.key==="Enter"&&!c&&u()},m=h=>{const x=h.target.value;(x===""||/^\d+$/.test(x))&&l(x)};return n.jsx(vn,{open:e,onOpenChange:t,children:n.jsxs(on,{className:"max-w-md",children:[n.jsxs(yn,{children:[n.jsxs(jn,{className:"flex items-center gap-2",children:[n.jsx(Nr,{className:"h-5 w-5"}),"Edit Unit Price"]}),n.jsxs(Cs,{children:['Update the unit price for "',a,'"']})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"price",children:"Unit Price (HUF)"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"price",value:o,onChange:m,onKeyPress:f,placeholder:"Enter unit price",className:"pr-12",autoFocus:!0,disabled:c,type:"text",inputMode:"numeric"}),n.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground",children:"HUF"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the price per unit in Hungarian Forint (whole numbers only)"})]})}),n.jsxs(qa,{children:[n.jsx(ee,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),n.jsxs(ee,{onClick:u,disabled:c||!o.trim()||isNaN(parseInt(o)),children:[c&&n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Price"]})]})]})})},oUe=({open:e,onOpenChange:t,currentQuantity:r,productId:s,productName:a,onQuantityUpdated:i})=>{const[o,l]=v.useState((r==null?void 0:r.toString())||"1"),[c,d]=v.useState(!1);v.useEffect(()=>{e&&l((r==null?void 0:r.toString())||"1")},[e,r]);const u=async()=>{const p=parseInt(o);if(!o.trim()||isNaN(p)){Ue.error("Please enter a valid quantity");return}if(p<=0){Ue.error("Quantity must be greater than 0");return}d(!0);try{i==null||i(o.trim()),t(!1)}catch(g){console.error("Error updating quantity:",g),Ue.error("Failed to update quantity")}finally{d(!1)}},f=p=>{p.key==="Enter"&&!c&&u()},m=p=>{const g=p.target.value;(g===""||/^\d+$/.test(g))&&l(g)},h=()=>{const p=parseInt(o)||0;l((p+1).toString())},x=()=>{const p=parseInt(o)||0;p>1&&l((p-1).toString())};return n.jsx(vn,{open:e,onOpenChange:t,children:n.jsxs(on,{className:"max-w-md",children:[n.jsxs(yn,{children:[n.jsxs(jn,{className:"flex items-center gap-2",children:[n.jsx(hh,{className:"h-5 w-5"}),"Edit Quantity"]}),n.jsxs(Cs,{children:['Update the quantity for "',a,'"']})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"quantity",children:"Quantity"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ee,{type:"button",variant:"outline",size:"icon",onClick:x,disabled:c||parseInt(o)<=1,children:"-"}),n.jsx(me,{id:"quantity",value:o,onChange:m,onKeyPress:f,placeholder:"Enter quantity",className:"text-center",autoFocus:!0,disabled:c,type:"text",inputMode:"numeric"}),n.jsx(ee,{type:"button",variant:"outline",size:"icon",onClick:h,disabled:c,children:"+"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the number of units to order"})]})}),n.jsxs(qa,{children:[n.jsx(ee,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),n.jsxs(ee,{onClick:u,disabled:c||!o.trim()||parseInt(o)<=0,children:[c&&n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Quantity"]})]})]})})},lUe=[{value:"Confirmed",label:"Confirmed",icon:Ur,color:"text-yellow-500"},{value:"In Transit",label:"In Transit",icon:_r,color:"text-blue-500"},{value:"Delayed",label:"Delayed",icon:wr,color:"text-orange-500"},{value:"Received",label:"Received",icon:ot,color:"text-green-500"},{value:"Cancelled",label:"Cancelled",icon:Ul,color:"text-red-500"},{value:"Returned",label:"Returned",icon:kse,color:"text-purple-500"}];function CQ({open:e,onOpenChange:t,deliveryId:r,currentStatus:s,orderReference:a,onStatusUpdated:i}){const{toast:o}=gr(),[l,c]=v.useState(s),[d,u]=v.useState(!1),[f,m]=v.useState(!1),[h,x]=v.useState(null),[p,g]=v.useState(""),[j,y]=v.useState(""),[w,b]=v.useState(void 0),[N,S]=v.useState(""),[_,E]=v.useState(""),[A,k]=v.useState(""),[D,I]=v.useState(""),[W,H]=v.useState(""),[F,T]=v.useState("");v.useEffect(()=>{e&&r?(g(""),y(""),b(void 0),S(""),E(""),k(""),I(""),H(""),T(""),x(null),m(!0),Uc.getDelivery(r).then(O=>{if(x(O),c(O.status),O.received_by&&y(O.received_by),O.actual_date)try{const K=c0e(O.actual_date,"yyyy-MM-dd",new Date);b(K)}catch(K){console.error("Error parsing date:",K)}if(O.status_history&&O.status_history.length>0){const K=O.status_history[0];O.status==="Received"&&K.received_by&&y(K.received_by),O.status==="In Transit"&&K.location&&S(K.location),O.status==="Delayed"&&K.delay_reason&&E(K.delay_reason),O.status==="Returned"&&K.notes&&k(K.notes),O.status==="Cancelled"&&K.notes&&I(K.notes),O.status==="Confirmed"&&(K.received_by&&H(K.received_by),K.notes&&T(K.notes))}O.notes&&g(O.notes)}).catch(O=>{console.error("Error fetching delivery details:",O),o({title:"Error",description:"Failed to load delivery details",variant:"destructive"})}).finally(()=>{m(!1)})):e||(g(""),y(""),b(void 0),S(""),E(""),k(""),I(""),H(""),T(""),x(null))},[e,r,o]);const P=async()=>{var O,K;if(!l){o({title:"Error",description:"Please select a status",variant:"destructive"});return}if(l==="Received"&&!j){o({title:"Error",description:"Please enter who received the delivery",variant:"destructive"});return}if(l==="Delayed"&&!_){o({title:"Error",description:"Please enter the delay reason",variant:"destructive"});return}if(l==="Returned"&&!A){o({title:"Error",description:"Please enter the return reason",variant:"destructive"});return}if(l==="Cancelled"&&!D){o({title:"Error",description:"Please enter the cancellation reason",variant:"destructive"});return}try{u(!0);const ne={status_notes:p};l==="Received"&&(ne.received_by=j,w&&(ne.actual_date=Xt(w,"yyyy-MM-dd"))),l==="In Transit"&&(ne.location=N),l==="Delayed"&&(ne.delay_reason=_),l==="Returned"&&(ne.status_notes=A+(p?`

Additional Notes: ${p}`:"")),l==="Cancelled"&&(ne.status_notes=D+(p?`

Additional Notes: ${p}`:"")),l==="Confirmed"&&(ne.received_by=W,ne.status_notes=F||p),await Uc.updateStatus(r,l,ne),o({title:"Success",description:`Delivery status updated to ${l}`}),t(!1),i&&i()}catch(ne){o({title:"Error",description:((K=(O=ne.response)==null?void 0:O.data)==null?void 0:K.error)||"Failed to update delivery status",variant:"destructive"})}finally{u(!1)}},M=()=>{switch(l){case"Received":return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"receivedBy",children:["Received By ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(me,{id:"receivedBy",placeholder:"Enter recipient name",value:j,onChange:O=>y(O.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Delivery Date"}),n.jsxs(lv,{children:[n.jsx(cv,{asChild:!0,children:n.jsxs(ee,{variant:"outline",className:ve("w-full justify-start text-left font-normal",!w&&"text-muted-foreground"),children:[n.jsx(Qr,{className:"mr-2 h-4 w-4"}),w?Xt(w,"PPP"):"Pick a date"]})}),n.jsx(Tp,{className:"w-auto p-0",align:"start",children:n.jsx(Cw,{mode:"single",selected:w,onSelect:b,initialFocus:!0})})]})]})]});case"In Transit":return n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"location",children:"Current Location"}),n.jsx(me,{id:"location",placeholder:"Enter current location",value:N,onChange:O=>S(O.target.value)})]});case"Delayed":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"delayReason",children:["Delay Reason ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(pn,{id:"delayReason",placeholder:"Explain the reason for delay",value:_,onChange:O=>E(O.target.value),rows:3})]});case"Returned":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"returnReason",children:["Return Reason ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(pn,{id:"returnReason",placeholder:"Explain why the delivery was returned",value:A,onChange:O=>k(O.target.value),rows:3})]});case"Cancelled":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"cancellationReason",children:["Cancellation Reason ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(pn,{id:"cancellationReason",placeholder:"Explain why the delivery was cancelled",value:D,onChange:O=>I(O.target.value),rows:3})]});case"Confirmed":return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"confirmedBy",children:"Confirmed By"}),n.jsx(me,{id:"confirmedBy",placeholder:"Enter name of person who confirmed",value:W,onChange:O=>H(O.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"confirmationNotes",children:"Confirmation Notes"}),n.jsx(pn,{id:"confirmationNotes",placeholder:"Add any confirmation details",value:F,onChange:O=>T(O.target.value),rows:2})]})]});default:return null}};return n.jsx(vn,{open:e,onOpenChange:t,children:n.jsxs(on,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(yn,{children:[n.jsx(jn,{children:"Update Delivery Status"}),n.jsxs(Cs,{children:[a,"  ",s]})]}),f?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Bt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(q,{children:"Select Status"}),n.jsx("div",{className:"grid grid-cols-3 gap-3",children:lUe.map(O=>{const K=O.icon;return n.jsxs("button",{onClick:()=>c(O.value),className:ve("flex flex-col items-center justify-center gap-2 p-4 rounded-lg border-2 transition-all",l===O.value?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:[n.jsx(K,{className:ve("h-6 w-6",O.color)}),n.jsx("span",{className:"text-sm font-medium",children:O.label})]},O.value)})})]}),M(),l!=="Returned"&&l!=="Cancelled"&&l!=="Confirmed"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(pn,{id:"notes",placeholder:"Add any additional notes",value:p,onChange:O=>g(O.target.value),rows:3})]})]}),!f&&n.jsxs(qa,{children:[n.jsx(ee,{variant:"outline",onClick:()=>t(!1),disabled:d,children:"Cancel"}),n.jsx(ee,{onClick:P,disabled:d,children:d?"Updating...":"Update Status"})]})]})})}function cUe(){return n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4 mb-4",children:[n.jsx(C,{className:"h-9 w-24 rounded-md"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(C,{className:"h-9 w-64 mb-3"}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[n.jsx(C,{className:"h-6 w-24 rounded-full"}),n.jsx(C,{className:"h-6 w-20 rounded-full"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(C,{className:"h-9 w-20 rounded-md"}),n.jsx(C,{className:"h-9 w-24 rounded-md"})]})]})})}function dUe(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-24"})]})}),n.jsxs(Q,{children:[n.jsx(C,{className:"h-8 w-32 mb-2"}),n.jsx(C,{className:"h-3 w-40"})]})]},t))})}function uUe(){return n.jsxs(X,{className:"lg:col-span-2",children:[n.jsx(be,{children:n.jsx(C,{className:"h-6 w-40"})}),n.jsx(Q,{className:"space-y-3",children:n.jsx("div",{className:"grid grid-cols-2 gap-4",children:[...Array(6)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-20"}),n.jsx(C,{className:"h-4 w-32"})]},t))})})]})}function fUe(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(C,{className:"h-6 w-32"})}),n.jsx(Q,{children:n.jsx("div",{className:"space-y-3",children:[...Array(5)].map((e,t)=>n.jsxs("div",{className:"flex gap-3",children:[n.jsx(C,{className:"h-4 w-4 rounded-full flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(C,{className:"h-3 w-32"}),n.jsx(C,{className:"h-4 w-full"})]})]},t))})})]})}function mUe(){return n.jsx(X,{children:n.jsx(Q,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-muted/50 border-b",children:n.jsx("tr",{children:[...Array(8)].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(5)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C,{className:"h-12 w-12 rounded-lg flex-shrink-0"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-40"}),n.jsx(C,{className:"h-3 w-24"})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-16"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-24 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"})]})})]},t))})]})})})})}function hUe(){return n.jsx("div",{className:"space-y-6",children:n.jsx("div",{className:"overflow-x-auto -mx-4 px-4 sm:mx-0 sm:px-0",children:n.jsx("div",{className:"grid w-full grid-cols-4 min-w-[600px] sm:min-w-0 lg:w-auto lg:inline-grid bg-muted rounded-lg p-1",children:[...Array(4)].map((e,t)=>n.jsx("div",{className:"flex items-center justify-center py-2 px-4",children:n.jsx(C,{className:"h-4 w-20"})},t))})})})}function pUe(){return n.jsxs(ct,{title:"Loading...",children:[n.jsx("div",{className:"mb-6 flex items-center gap-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-2"}),n.jsx(C,{className:"h-4 w-32"})]})}),n.jsx(cUe,{}),n.jsx(hUe,{}),n.jsxs("div",{className:"space-y-6 mt-6",children:[n.jsx(dUe,{}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx(uUe,{}),n.jsx(fUe,{})]})]})]})}function xUe(){return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[n.jsx(C,{className:"h-7 w-64"}),n.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[n.jsx(C,{className:"h-9 w-32 rounded-md"}),n.jsx(C,{className:"h-9 w-28 rounded-md"})]})]}),n.jsx(mUe,{})]})}const gUe=()=>{var Oy;const{id:e}=eo(),t=mr(),{toast:r}=gr(),{data:s,isLoading:a,error:i}=l3(e||null),{data:o,isLoading:l,error:c,refetch:d}=ABe(e||null),u=o||[],{data:f,isLoading:m}=dBe(e||null),{data:h=[],isLoading:x}=uBe(e||null),p=kBe(),g=BX(),[j,y]=v.useState({open:!1,id:"",name:"",apartmentId:""}),w=Re=>{const Mt=Re.getFullYear(),ya=String(Re.getMonth()+1).padStart(2,"0"),bt=String(Re.getDate()).padStart(2,"0");return`${Mt}-${ya}-${bt}`},b=[],N="";v.useState("");const[S,_]=v.useState(N),[E,A]=v.useState(!1),[k,D]=v.useState(!1),[I,W]=v.useState(""),[H,F]=v.useState(""),[T,P]=v.useState(!1),[M,O]=v.useState(null),[K,ne]=v.useState(!1),[R,V]=v.useState(null),[L,G]=v.useState(!1),[le,fe]=v.useState(null),[B,Y]=v.useState(!1),[ie,we]=v.useState(null),[ue,ge]=v.useState(!1),[xe,Se]=v.useState(null),[Me,ke]=v.useState(!1),[se,he]=v.useState(null),[ce,je]=v.useState(!1),[$e,De]=v.useState(null),[de,Ie]=v.useState(!1),[it,wt]=v.useState(null),[Qe,ye]=v.useState(!1),[qe,Pt]=v.useState(null),{data:Ct}=f3({apartment:e}),vr=m3(),qr=DBe(),On=(Re,Mt)=>{y({open:!0,id:Re,name:Mt,apartmentId:e||""})},Vr=async()=>{try{await p.mutateAsync({id:j.id,name:j.name,apartmentId:j.apartmentId}),y({open:!1,id:"",name:"",apartmentId:""})}catch{y({open:!1,id:"",name:"",apartmentId:""})}};if(a)return n.jsx(pUe,{});if(i)return n.jsx(ct,{title:"Error",children:n.jsx("div",{className:"container mx-auto py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(At,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),n.jsx("h2",{className:"text-2xl font-semibold text-destructive mb-2",children:"Error loading apartment"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Unable to fetch apartment details. Please try again."}),n.jsxs(ee,{onClick:()=>t("/apartments"),className:"mt-4",children:[n.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back to Apartments"]})]})})});if(!s)return n.jsx(ct,{title:"Not Found",children:n.jsx("div",{className:"container mx-auto py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground",children:"Apartment not found"}),n.jsxs(ee,{onClick:()=>t("/apartments"),className:"mt-4",children:[n.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back to Apartments"]})]})})});const Pr=()=>{window.confirm(`Are you sure you want to delete "${s.name}"?`)&&(r({title:"Success",description:"Apartment deleted successfully"}),t("/apartments"))},jt=()=>{r({title:"Success",description:"Note saved"})},Tt=async(Re,Mt)=>{try{await g.mutateAsync({id:Re,data:Mt}),d()}catch{r({title:"Error",description:"Failed to update product",variant:"destructive"})}},tr=(f==null?void 0:f.total_items)||0,Un=(f==null?void 0:f.ordered_items)||0,ds=(f==null?void 0:f.delivered_items)||0,Ga=(f==null?void 0:f.open_issues)||0,yd=(f==null?void 0:f.total_value)||0,no=(f==null?void 0:f.total_paid)||0,_m=(f==null?void 0:f.outstanding_balance)||0,m_=(f==null?void 0:f.overdue_payments)||0,h_=Re=>{const Mt=Re.toLowerCase();return Mt.includes("delivered")||Mt.includes("closed")||Mt.includes("paid")||Mt.includes("completed")?"bg-green-500/10 text-green-500":Mt.includes("issue")||Mt.includes("damaged")||Mt.includes("wrong")||Mt.includes("missing")||Mt.includes("overdue")?"bg-red-500/10 text-red-500":Mt.includes("waiting")||Mt.includes("pending")||Mt.includes("partial")?"bg-yellow-500/10 text-yellow-500":Mt.includes("ordered")||Mt.includes("shipped")||Mt.includes("transit")||Mt.includes("ordering")?"bg-blue-500/10 text-blue-500":Mt.includes("planning")?"bg-purple-500/10 text-purple-500":"bg-gray-500/10 text-gray-500"};return n.jsxs(ct,{title:s.name,children:[n.jsx("div",{className:"mb-6 flex items-center gap-3",children:n.jsx(Ua,{children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(es,{asChild:!0,children:n.jsx(Ki,{to:"/apartments",children:"Apartments"})})}),n.jsx(An,{}),n.jsx(rr,{children:n.jsx(ji,{children:s.name})})]})})}),n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4 mb-4",children:[n.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>t("/apartments"),className:"flex items-center gap-1",children:n.jsx(sr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-3",children:s.name}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[n.jsx(_e,{className:s.type==="furnishing"?"bg-primary":"bg-accent",children:s.type==="furnishing"?"Furnishing":"Renovating"}),n.jsx(_e,{className:h_(s.status),children:s.status})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>t(`/apartments/${s.id}/edit`),children:[n.jsx(Qs,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),n.jsxs(ee,{variant:"destructive",size:"sm",onClick:Pr,children:[n.jsx(hn,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]})}),n.jsxs(Mo,{defaultValue:"overview",className:"space-y-6",children:[n.jsx("div",{className:"overflow-x-auto -mx-4 px-4 sm:mx-0 sm:px-0",children:n.jsxs(ro,{className:"grid w-full grid-cols-4 min-w-[600px] sm:min-w-0 lg:w-auto lg:inline-grid",children:[n.jsx(zt,{value:"overview",className:"text-xs sm:text-sm",children:"Overview"}),n.jsx(zt,{value:"products",className:"text-xs sm:text-sm",children:"Products & Procurement logs"}),n.jsx(zt,{value:"notes",className:"text-xs sm:text-sm",children:"Notes (AI)"}),n.jsx(zt,{value:"activity",className:"text-xs sm:text-sm",children:"Activity"})]})}),n.jsxs(Qt,{value:"overview",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ve,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(ot,{className:"h-4 w-4 text-primary"}),"Total Items"]})}),n.jsx(Q,{children:m?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-8 w-20 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded mt-2"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold",children:tr}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Un," ordered, ",ds," delivered"]})]})})]}),n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ve,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(li,{className:"h-4 w-4 text-success"}),"Total Order Value"]})}),n.jsx(Q,{children:m?n.jsx("div",{className:"h-8 w-32 bg-muted animate-pulse rounded"}):n.jsxs("div",{className:"text-2xl font-bold",children:[yd.toLocaleString()," HUF"]})})]}),n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ve,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Nr,{className:"h-4 w-4 text-warning"}),"Outstanding Balance"]})}),n.jsx(Q,{children:m?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-8 w-32 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-3 w-28 bg-muted animate-pulse rounded mt-2"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[_m.toLocaleString()," HUF"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Paid: ",no.toLocaleString()," HUF"]})]})})]}),n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ve,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(At,{className:"h-4 w-4 text-red-500"}),"Open Issues"]})}),n.jsx(Q,{children:m?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-8 w-16 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded mt-2"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold",children:Ga}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[m_," overdue payments"]})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(X,{className:"lg:col-span-2",children:[n.jsx(be,{children:n.jsx(Ve,{children:"Apartment Details"})}),n.jsx(Q,{className:"space-y-3",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Client"}),n.jsx("p",{className:"font-medium",children:((Oy=s.client_details)==null?void 0:Oy.name)||s.owner||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Designer"}),n.jsx("p",{className:"font-medium",children:s.designer||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Address"}),n.jsx("p",{className:"font-medium",children:s.address})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Status"}),n.jsx("p",{className:"font-medium",children:s.status})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Start Date"}),n.jsx("p",{className:"font-medium",children:s.start_date?new Date(s.start_date).toLocaleDateString():"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Due Date"}),n.jsx("p",{className:"font-medium",children:s.due_date?new Date(s.due_date).toLocaleDateString():"N/A"})]})]})})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{children:"Recent Activity"})}),n.jsx(Q,{children:x?n.jsx("div",{className:"space-y-3",children:[...Array(5)].map((Re,Mt)=>n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"h-4 w-4 rounded-full bg-muted animate-pulse flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"})]})]},Mt))}):n.jsxs("div",{className:"space-y-3",children:[h.slice(0,5).map(Re=>n.jsxs("div",{className:"flex gap-3 text-sm",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx(Ur,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(Re.timestamp).toLocaleString()}),n.jsx("p",{className:"leading-tight",children:Re.summary})]})]},Re.id)),h.length===0&&n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No activity yet"})]})})]})]})]}),n.jsxs(Qt,{value:"products",className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[n.jsxs("h2",{className:"text-lg sm:text-xl font-semibold",children:["Product & Procurement Log (",u.length,")"]}),n.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[n.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",onClick:()=>t(`/products/import?apartmentId=${e}`),children:[n.jsx(Gi,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Import Excel/CSV"}),n.jsx("span",{className:"sm:hidden",children:"Import"})]}),n.jsxs(ee,{size:"sm",className:"flex-1 sm:flex-none",onClick:()=>t(`/products/new?apartmentId=${e}`),children:[n.jsx(Qn,{className:"mr-2 h-4 w-4"}),"Add Product"]})]})]}),l?n.jsx(xUe,{}):u.length===0?n.jsx(X,{children:n.jsxs(Q,{className:"py-12 text-center",children:[n.jsx(ot,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No products yet"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your first furniture item to get started"}),n.jsxs(ee,{onClick:()=>t(`/products/new?apartmentId=${e}`),children:[n.jsx(Qn,{className:"mr-2 h-4 w-4"}),"Add Product"]})]})}):n.jsx(X,{children:n.jsx(Q,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Vt,{children:[n.jsx(Pe,{className:"w-16",children:"Image"}),n.jsx(Pe,{children:"Product Name"}),n.jsx(Pe,{children:"Vendor"}),n.jsx(Pe,{children:"SKU"}),n.jsx(Pe,{className:"text-right",children:"Unit Price"}),n.jsx(Pe,{className:"text-center",children:"Qty"}),n.jsx(Pe,{className:"text-right",children:"Total"}),n.jsx(Pe,{children:"Product Status"}),n.jsx(Pe,{children:"Delivery Status"}),n.jsx(Pe,{className:"min-w-[140px]",children:"Expected Delivery"}),n.jsx(Pe,{className:"min-w-[200px]",children:"Delivery Location"}),n.jsx(Pe,{className:"min-w-[140px]",children:"Actual Delivery"}),n.jsx(Pe,{children:"Payment Status"}),n.jsx(Pe,{children:"Payment Due"}),n.jsx(Pe,{children:"Issue State"}),n.jsx(Pe,{children:"Actions / Chatbot"}),n.jsx(Pe,{children:"Ordered On"}),n.jsx(Pe,{className:"text-right",children:"Actions"})]})}),n.jsx($s,{children:u.map(Re=>{const Mt=Array.isArray(Re.status)?Re.status:[],ya=Mt.includes("Delivered")||Mt.includes("Closed")?"bg-green-500/5":Mt.includes("Damaged")||Mt.includes("Wrong Item")||Mt.includes("Missing")?"bg-red-500/5":Mt.includes("Shipped")||Mt.includes("Ordered")?"bg-blue-500/5":Mt.includes("Waiting For Stock")?"bg-yellow-500/5":"";return parseFloat(Re.payment_amount||"0")-parseFloat(Re.paid_amount||"0"),n.jsxs(Vt,{className:ya,children:[n.jsx(Ne,{children:Re.product_image?n.jsx("img",{src:Re.product_image,alt:Re.product,className:"h-10 w-10 rounded object-cover"}):n.jsx("div",{className:"h-10 w-10 rounded bg-muted flex items-center justify-center",children:n.jsx(qi,{className:"h-5 w-5 text-muted-foreground"})})}),n.jsx(Ne,{children:Re.link?n.jsxs("a",{href:Re.link,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-primary hover:underline flex items-center gap-1 cursor-pointer",title:"Click to view product page",children:[Re.product,n.jsx(Ck,{className:"h-3 w-3 flex-shrink-0"})]}):n.jsx("span",{className:"font-medium text-muted-foreground",children:Re.product})}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ee,{variant:"link",className:"p-0 h-auto text-primary hover:underline",onClick:()=>{W(Re.vendor_name||"Not Assigned"),F(Re.id),D(!1),A(!0)},children:Re.vendor_name||n.jsx("span",{className:"text-muted-foreground italic",children:"Not Assigned"})}),n.jsx(ee,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{W(Re.vendor_name||"Not Assigned"),F(Re.id),D(!0),A(!0)},children:n.jsx($v,{className:"h-3 w-3"})})]})}),n.jsx(Ne,{children:n.jsx(ee,{variant:"link",className:"p-0 h-auto font-mono text-xs text-primary hover:underline",onClick:()=>{fe(Re),G(!0)},children:Re.sku||n.jsx("span",{className:"text-muted-foreground italic",children:"Add SKU"})})}),n.jsx(Ne,{className:"text-right",children:n.jsxs(ee,{variant:"link",className:"p-0 h-auto text-primary hover:underline",onClick:()=>{we(Re),Y(!0)},children:[parseFloat(Re.unit_price).toLocaleString()," HUF"]})}),n.jsx(Ne,{className:"text-center",children:(()=>{const bt=Re.order_status_info&&Re.order_status_info.length>0?Re.order_status_info.reduce((bn,wn)=>bn+(wn.quantity||0),0):0;return bt>0?n.jsxs("div",{className:"flex flex-col items-center gap-1",children:[n.jsx("span",{className:"font-semibold",children:bt}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"(ordered)"})]}):n.jsx(ee,{variant:"link",className:"p-0 h-auto text-primary hover:underline",onClick:()=>{Se(Re),ge(!0)},children:Re.qty})})()}),n.jsx(Ne,{className:"text-right font-semibold",children:(()=>{const bt=Re.order_status_info&&Re.order_status_info.length>0?Re.order_status_info.reduce((U,re)=>U+(re.quantity||0),0):0,bn=bt>0?bt:Re.qty;return`${(parseFloat(Re.unit_price)*bn).toLocaleString()} HUF`})()}),n.jsx(Ne,{children:n.jsx("div",{className:"space-y-1 min-w-[200px]",children:Re.order_status_info&&Re.order_status_info.length>0?Re.order_status_info.map((bt,bn)=>n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(tt,{value:bt.status,onValueChange:async wn=>{try{await ys.updateStatus(bt.order_id,wn),r({title:"Success",description:`Order status updated to ${wn}`}),d()}catch{r({title:"Error",description:"Failed to update order status",variant:"destructive"})}},children:[n.jsx(Je,{className:"h-7 w-[100px] text-xs",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"draft",children:"Draft"}),n.jsx(J,{value:"sent",children:"Sent"}),n.jsx(J,{value:"cancelled",children:"Cancelled"})]})]}),n.jsx("a",{href:`/orders/${bt.order_id}`,className:"text-xs text-primary hover:underline",title:`View order ${bt.po_number}`,children:bt.po_number}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(Qty: ",bt.quantity,")"]})]},bn)):n.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Not ordered yet"})})}),n.jsx(Ne,{children:n.jsx("div",{className:"space-y-1 min-w-[200px]",children:Re.delivery_status_info&&Re.delivery_status_info.length>0?Re.delivery_status_info.map((bt,bn)=>n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(ee,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>{he(bt),ke(!0)},children:n.jsx(_e,{variant:bt.status==="Received"?"default":bt.status==="Returned"?"destructive":bt.status==="In Transit"||bt.status==="Delayed"?"secondary":"outline",className:ve("text-xs",bt.status==="Received"&&"bg-green-500/10 text-green-500",bt.status==="In Transit"&&"bg-blue-500/10 text-blue-500",bt.status==="Confirmed"&&"bg-yellow-500/10 text-yellow-500",bt.status==="Delayed"&&"bg-orange-500/10 text-orange-500",bt.status==="Returned"&&"bg-red-500/10 text-red-500"),children:bt.status})}),n.jsx("a",{href:"/deliveries",className:"text-xs text-primary hover:underline",title:`View delivery ${bt.order_reference}`,children:bt.order_reference}),bt.tracking_number&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(Track: ",bt.tracking_number,")"]}),bt.expected_date&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["ETA: ",new Date(bt.expected_date).toLocaleDateString()]})]},bn)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})})}),n.jsx(Ne,{children:n.jsx("div",{className:"space-y-1",children:Re.delivery_status_info&&Re.delivery_status_info.length>0?Re.delivery_status_info.map((bt,bn)=>n.jsxs(lv,{children:[n.jsx(cv,{asChild:!0,children:n.jsxs(ee,{variant:"ghost",size:"sm",className:"h-auto p-1 hover:bg-muted flex items-center gap-2",children:[n.jsx(Qr,{className:"h-3 w-3 text-muted-foreground"}),n.jsx("span",{className:"text-xs",children:bt.expected_date?Xt(new Date(bt.expected_date),"PP"):"Set date"})]})}),n.jsx(Tp,{className:"w-auto p-0",align:"start",children:n.jsx(Cw,{mode:"single",selected:bt.expected_date?new Date(bt.expected_date):void 0,onSelect:async wn=>{if(wn)try{await Uc.updateDeliveryField(bt.delivery_id,"expected_date",w(wn)),r({title:"Success",description:"Expected delivery date updated"}),d()}catch{r({title:"Error",description:"Failed to update expected delivery date",variant:"destructive"})}},initialFocus:!0})})]},bn)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"No delivery"})})}),n.jsx(Ne,{children:n.jsx("div",{className:"space-y-1",children:Re.order_status_info&&Re.order_status_info.length>0?Re.order_status_info.map((bt,bn)=>n.jsxs("div",{className:"flex items-center gap-2 w-full",children:[n.jsx(va,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),n.jsx(me,{className:"h-7 text-xs flex-1",placeholder:"Enter delivery address",defaultValue:bt.shipping_address||"",onBlur:async wn=>{const U=wn.target.value;if(U!==bt.shipping_address)try{await ys.updateOrder(bt.order_id,{shipping_address:U}),r({title:"Success",description:"Delivery location updated"}),d()}catch{r({title:"Error",description:"Failed to update delivery location",variant:"destructive"})}},onKeyDown:wn=>{wn.key==="Enter"&&wn.currentTarget.blur()}})]},bn)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"No order"})})}),n.jsx(Ne,{children:n.jsx("div",{className:"space-y-1",children:Re.delivery_status_info&&Re.delivery_status_info.length>0?Re.delivery_status_info.map((bt,bn)=>n.jsxs(lv,{children:[n.jsx(cv,{asChild:!0,children:n.jsxs(ee,{variant:"ghost",size:"sm",className:"h-auto p-1 hover:bg-muted flex items-center gap-2",children:[n.jsx(Qr,{className:"h-3 w-3 text-muted-foreground"}),n.jsx("span",{className:"text-xs",children:bt.actual_date?Xt(new Date(bt.actual_date),"PP"):"Set date"})]})}),n.jsx(Tp,{className:"w-auto p-0",align:"start",children:n.jsx(Cw,{mode:"single",selected:bt.actual_date?new Date(bt.actual_date):void 0,onSelect:async wn=>{if(wn)try{await Uc.updateDeliveryField(bt.delivery_id,"actual_date",w(wn)),r({title:"Success",description:"Actual delivery date updated"}),d()}catch{r({title:"Error",description:"Failed to update actual delivery date",variant:"destructive"})}},initialFocus:!0})})]},bn)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"No delivery"})})}),n.jsx(Ne,{children:n.jsx("div",{className:"space-y-1",children:Re.order_status_info&&Re.order_status_info.length>0?Re.order_status_info.map((bt,bn)=>{var Z;const wn=bt.order_id,U=(Z=Ct==null?void 0:Ct.results)==null?void 0:Z.find(te=>te.order===wn),re=(U==null?void 0:U.status)||"Unpaid";return n.jsxs("div",{className:"flex flex-col gap-0.5",children:[n.jsx(_e,{variant:re==="Paid"?"default":re==="Partially Paid"?"secondary":"outline",className:ve("cursor-pointer hover:opacity-80 transition-opacity text-[10px] w-fit",re==="Paid"?"bg-green-500/10 text-green-500":re==="Partially Paid"?"bg-yellow-500/10 text-yellow-500":"bg-red-500/10 text-red-500"),onClick:()=>{re==="Unpaid"?t(`/payments/new?order=${wn}&product=${Re.id}`):U&&(De(U),je(!0))},children:re}),n.jsx("span",{className:"text-[10px] text-muted-foreground ml-0.5",children:bt.po_number||"N/A"})]},bn)}):n.jsx(_e,{variant:"outline",className:"bg-gray-500/10 text-gray-500 text-[10px]",children:"No Order"})})}),n.jsx(Ne,{children:n.jsx("div",{className:"space-y-1",children:Re.order_status_info&&Re.order_status_info.length>0?Re.order_status_info.map((bt,bn)=>{var re;const wn=bt.order_id,U=(re=Ct==null?void 0:Ct.results)==null?void 0:re.find(Z=>Z.order===wn);return n.jsx("div",{className:"flex flex-col gap-0.5",children:U!=null&&U.due_date?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-[10px] font-medium cursor-pointer hover:text-primary hover:underline",onClick:()=>{wt(U),Ie(!0)},children:new Date(U.due_date).toLocaleDateString()}),U.status!=="Paid"&&n.jsx("div",{className:"text-[10px] text-muted-foreground",children:bt.po_number||"N/A"})]}):n.jsx("div",{className:"text-[10px] text-muted-foreground",children:"No payment"})},bn)}):n.jsx("span",{className:"text-[10px] text-muted-foreground",children:"-"})})}),n.jsx(Ne,{children:Re.issue_status_info&&Re.issue_status_info.status!=="No Issue"?n.jsx("div",{className:"text-xs text-gray-700 cursor-pointer hover:text-primary hover:underline transition-colors",onClick:()=>{var bt;O(Re),Pt(((bt=Re.issue_status_info)==null?void 0:bt.issue_id)||null),ye(!0)},children:Re.issue_status_info.type||"Issue reported"}):n.jsx(_e,{variant:"outline",className:"bg-green-500/10 text-green-500 text-xs cursor-pointer hover:bg-green-500/20 transition-colors",onClick:()=>{O(Re),Pt(null),ye(!0)},children:"No Issue"})}),n.jsx(Ne,{children:n.jsxs(ee,{size:"sm",variant:Re.issue_state&&Re.issue_state!=="No Issue"?"default":"outline",onClick:()=>{O(Re),P(!0)},className:ve(Re.issue_state==="AI Resolving"&&"animate-pulse"),children:[n.jsx(Oa,{className:ve("mr-1 h-3 w-3",Re.issue_state==="AI Resolving"&&"animate-spin")}),Re.issue_state==="AI Resolving"?"AI Active":Re.issue_state&&Re.issue_state!=="No Issue"?"Manage Issue":"AI Chatbot"]})}),n.jsx(Ne,{children:Re.ordered_on?new Date(Re.ordered_on).toLocaleDateString():"-"}),n.jsx(Ne,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>t(`/products/${Re.id}`),children:n.jsx(oi,{className:"h-4 w-4"})}),n.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>t(`/products/${Re.id}/edit`),children:n.jsx(Qs,{className:" h-4 w-4"})}),n.jsx(ee,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive",onClick:()=>On(Re.id,Re.product),children:n.jsx(hn,{className:"h-4 w-4"})})]})})]},Re.id)})})]})})})})]}),n.jsx(Qt,{value:"notes",className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Manual Notes"}),n.jsx(Dr,{children:"Add observations or notes about this apartment"})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsx(ha,{value:S,onChange:Re=>_(Re.target.value),rows:10,placeholder:"Enter your notes here..."}),n.jsx(ee,{onClick:jt,children:"Save Note"})]})]}),n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"AI & Vendor Communication"}),n.jsx(Dr,{children:"AI-generated emails and vendor correspondence"})]}),n.jsx(Q,{children:n.jsxs("div",{className:"space-y-4",children:[b.map(Re=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_e,{variant:Re.sender==="AI"?"default":"outline",children:Re.sender}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(Re.timestamp).toLocaleString()})]})}),Re.emailSubject&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Subject:"}),n.jsx("p",{className:"font-medium text-sm",children:Re.emailSubject})]}),n.jsx("div",{className:"text-sm whitespace-pre-wrap bg-muted/30 p-3 rounded",children:Re.content})]},Re.id)),b.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No AI communications yet"})]})})]})]})}),n.jsxs(Qt,{value:"activity",className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Activity Timeline"}),n.jsx(X,{children:n.jsx(Q,{className:"pt-6",children:n.jsxs("div",{className:"space-y-4",children:[h.map(Re=>n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsxs("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:[Re.icon==="ShoppingCart"&&n.jsx(ot,{className:"h-5 w-5 text-primary"}),Re.icon==="CreditCard"&&n.jsx(Nr,{className:"h-5 w-5 text-primary"}),Re.icon==="Mail"&&n.jsx(gn,{className:"h-5 w-5 text-primary"}),Re.icon==="PackageCheck"&&n.jsx(Ur,{className:"h-5 w-5 text-primary"}),Re.icon==="Package"&&n.jsx(ot,{className:"h-5 w-5 text-primary"})]})}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"font-medium text-sm",children:Re.summary}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(Re.timestamp).toLocaleString()})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["by ",Re.actor]})]})]},Re.id)),h.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No activity recorded yet"})]})})})]})]}),n.jsx(B7e,{open:E,onOpenChange:A,vendorName:I,productId:H,openInEditMode:k,onVendorUpdated:(Re,Mt)=>{Tt(H,{vendor:Re,vendor_name:Mt}),r({title:"Vendor Updated",description:`Product vendor changed to ${Mt}`}),d()}}),M&&n.jsx(SQ,{open:T,onOpenChange:P,product:M,onIssueUpdated:()=>{}}),n.jsx(sUe,{open:K,onOpenChange:ne,product:R}),le&&n.jsx(aUe,{open:L,onOpenChange:G,currentSku:le.sku||"",productId:le.id,productName:le.product,onSkuUpdated:Re=>{Tt(le.id,{sku:Re}),r({title:"Success",description:"SKU updated successfully"}),d()}}),ie&&n.jsx(iUe,{open:B,onOpenChange:Y,currentPrice:ie.unit_price||"0",productId:ie.id,productName:ie.product,onPriceUpdated:Re=>{Tt(ie.id,{unit_price:Re}),r({title:"Success",description:"Unit price updated successfully"}),d()}}),xe&&n.jsx(oUe,{open:ue,onOpenChange:ge,currentQuantity:xe.qty||"1",productId:xe.id,productName:xe.product,onQuantityUpdated:Re=>{Tt(xe.id,{qty:Re}),r({title:"Success",description:"Quantity updated successfully"}),d()}}),se&&n.jsx(CQ,{open:Me,onOpenChange:ke,deliveryId:se.delivery_id,currentStatus:se.status,orderReference:se.order_reference,onStatusUpdated:()=>{d()}}),n.jsx(h3,{payment:$e,open:ce,onOpenChange:je,onSave:async(Re,Mt,ya,bt)=>{try{await vr.mutateAsync({payment:$e.id,date:new Date().toISOString().split("T")[0],amount:Re,method:Mt,reference_no:ya,note:bt}),r({title:"Success",description:"Payment recorded successfully"}),je(!1),d()}catch{r({title:"Error",description:"Failed to record payment",variant:"destructive"})}}}),n.jsx(MBe,{payment:it,open:de,onOpenChange:Ie,onUpdate:async(Re,Mt)=>{try{await qr.mutateAsync({id:Re,data:{due_date:Mt}}),r({title:"Success",description:"Payment due date updated successfully"}),d()}catch(ya){throw r({title:"Error",description:"Failed to update payment due date",variant:"destructive"}),ya}}}),n.jsx(KBe,{product:M,apartmentId:e||"",existingIssueId:qe,open:Qe,onOpenChange:Re=>{ye(Re),Re||Pt(null)},onSubmit:async(Re,Mt)=>{var ya,bt;try{Mt?(await Kn.updateIssue(Mt,Re),r({title:"Success",description:"Issue updated successfully"})):(await Kn.createIssue(Re),r({title:"Success",description:"Issue reported successfully"})),d()}catch(bn){throw r({title:"Error",description:((bt=(ya=bn.response)==null?void 0:ya.data)==null?void 0:bt.message)||`Failed to ${Mt?"update":"report"} issue`,variant:"destructive"}),bn}}}),n.jsx(uc,{open:j.open,onOpenChange:Re=>!Re&&y({open:!1,id:"",name:"",apartmentId:""}),children:n.jsxs(yl,{children:[n.jsx(jl,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(hn,{className:"h-5 w-5 text-destructive"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(wl,{children:"Delete Product"}),n.jsxs(Nl,{children:['Are you sure you want to delete "',j.name,'"? This action cannot be undone.']})]})]})}),n.jsxs(bl,{children:[n.jsx(Sl,{onClick:()=>y({open:!1,id:"",name:"",apartmentId:""}),children:"Cancel"}),n.jsx(_l,{onClick:Vr,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",autoFocus:!0,children:"Delete"})]})]})})]})};function vUe(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-12"})]})}function yUe(){return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-10 w-10 rounded-md"}),n.jsx(C,{className:"h-9 w-48"})]})}function jUe(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(C,{className:"h-6 w-40"})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(C,{className:"h-5 w-24 rounded-full"}),n.jsx(C,{className:"h-5 w-24 rounded-full"})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-36"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-24 w-full rounded-md"})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})]})]})}function bUe(){return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(vUe,{}),n.jsx(yUe,{}),n.jsx(jUe,{})]})})}const wUe=()=>{const{id:e}=eo(),t=mr(),{toast:r}=gr(),{data:s,isLoading:a,error:i}=l3(e||null),{data:o,isLoading:l}=G2({}),c=(o==null?void 0:o.results)||[],d=lBe(),[u,f]=v.useState({name:"",type:"furnishing",client:"",address:"",designer:"",status:"Planning",start_date:"",due_date:"",notes:"",progress:0}),[m,h]=v.useState({});if(v.useEffect(()=>{s&&f({name:s.name,type:s.type,client:s.client||s.client_id||"",address:s.address,designer:s.designer,status:s.status,start_date:s.start_date,due_date:s.due_date,notes:s.notes||"",progress:s.progress})},[s]),a)return n.jsx(bUe,{});if(i||!s)return n.jsx(ct,{title:"Apartment Not Found",children:n.jsx(X,{children:n.jsxs(Q,{className:"py-8",children:[n.jsx("p",{className:"text-center text-muted-foreground",children:"Apartment not found"}),n.jsx("div",{className:"flex justify-center mt-4",children:n.jsx(ee,{onClick:()=>t("/apartments"),children:"Back to Apartments"})})]})})});const x=()=>{const g={};return u.name.trim()||(g.name="Apartment name is required"),u.client||(g.client="Client selection is required"),u.address.trim()||(g.address="Address is required"),u.designer.trim()||(g.designer="Designer is required"),u.start_date||(g.start_date="Start date is required"),u.due_date||(g.due_date="Due date is required"),u.start_date&&u.due_date&&new Date(u.due_date)<new Date(u.start_date)&&(g.due_date="Due date must be after start date"),h(g),Object.keys(g).length===0},p=async g=>{var j,y;if(g.preventDefault(),!x()){r({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{await d.mutateAsync({id:s.id,data:u}),t("/apartments")}catch(w){r({title:"Error",description:((y=(j=w.response)==null?void 0:j.data)==null?void 0:y.message)||"Failed to update apartment. Please try again.",variant:"destructive"})}};return n.jsx(ct,{title:"Edit Apartment",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ua,{children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(es,{href:"/apartments",children:"Apartments"})}),n.jsx(An,{}),n.jsx(rr,{children:n.jsx(es,{href:`/apartments/${s.id}`,children:s.name})}),n.jsx(An,{}),n.jsx(rr,{children:n.jsx(ji,{children:"Edit"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>t(`/apartments/${s.id}`),children:n.jsx(sr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"Edit Apartment"})]}),n.jsx("form",{onSubmit:p,children:n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{children:"Apartment Details"})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"name",children:"Apartment Name *"}),n.jsx(me,{id:"name",value:u.name,onChange:g=>f({...u,name:g.target.value}),placeholder:"Izabella utca 3  A/12"}),m.name&&n.jsx("p",{className:"text-sm text-destructive",children:m.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Type *"}),n.jsx(u3,{value:u.type,onValueChange:g=>f({...u,type:g}),children:n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ov,{value:"furnishing",id:"furnishing"}),n.jsx(q,{htmlFor:"furnishing",className:"font-normal cursor-pointer",children:"Furnishing"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ov,{value:"renovating",id:"renovating"}),n.jsx(q,{htmlFor:"renovating",className:"font-normal cursor-pointer",children:"Renovating"})]})]})})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"client",children:"Client/Owner *"}),n.jsxs(tt,{value:u.client,onValueChange:g=>f({...u,client:g}),disabled:l,children:[n.jsx(Je,{id:"client",children:n.jsx(rt,{placeholder:l?"Loading clients...":"Select client"})}),n.jsx(et,{children:c.map(g=>n.jsxs(J,{value:g.id,children:[g.name," - ",g.type]},g.id))})]}),m.client&&n.jsx("p",{className:"text-sm text-destructive",children:m.client})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"designer",children:"Assigned Designer *"}),n.jsx(me,{id:"designer",value:u.designer,onChange:g=>f({...u,designer:g.target.value}),placeholder:"Enter designer name"}),m.designer&&n.jsx("p",{className:"text-sm text-destructive",children:m.designer})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"address",children:"Address *"}),n.jsx(me,{id:"address",value:u.address,onChange:g=>f({...u,address:g.target.value}),placeholder:"Izabella u. 3, Budapest"}),m.address&&n.jsx("p",{className:"text-sm text-destructive",children:m.address})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",children:"Status"}),n.jsxs(tt,{value:u.status,onValueChange:g=>f({...u,status:g}),children:[n.jsx(Je,{id:"status",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"Planning",children:"Planning"}),n.jsx(J,{value:"Design Approved",children:"Design Approved"}),n.jsx(J,{value:"Ordering",children:"Ordering"}),n.jsx(J,{value:"Delivery",children:"Delivery"}),n.jsx(J,{value:"Renovating",children:"Renovating"}),n.jsx(J,{value:"Complete",children:"Complete"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"start_date",children:"Start Date *"}),n.jsx(me,{id:"start_date",type:"date",value:u.start_date,onChange:g=>f({...u,start_date:g.target.value})}),m.start_date&&n.jsx("p",{className:"text-sm text-destructive",children:m.start_date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"due_date",children:"Due Date *"}),n.jsx(me,{id:"due_date",type:"date",value:u.due_date,onChange:g=>f({...u,due_date:g.target.value})}),m.due_date&&n.jsx("p",{className:"text-sm text-destructive",children:m.due_date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"progress",children:"Progress (%)"}),n.jsx(me,{id:"progress",type:"number",min:"0",max:"100",value:u.progress,onChange:g=>f({...u,progress:Number(g.target.value)})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Notes"}),n.jsx(ha,{id:"notes",value:u.notes,onChange:g=>f({...u,notes:g.target.value}),placeholder:"Additional notes about this apartment...",rows:4})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>t(`/apartments/${s.id}`),children:"Cancel"}),n.jsx(ee,{type:"submit",disabled:d.isPending,children:d.isPending?"Saving...":"Save Changes"})]})]})]})})]})})},NUe=()=>{const[e,t]=v.useState("all"),[r,s]=v.useState(""),a=[{id:1,image:"",name:"Modern Sectional Sofa",sku:"SOF-2024-001",vendor:"IKEA",price:1299.99,qty:1,availability:"In Stock",orderStatus:"Ordered",expectedDelivery:"2024-01-20",paymentStatus:"Paid"},{id:2,image:"",name:"Queen Size Bed Frame",sku:"BED-2024-012",vendor:"Wayfair",price:899,qty:1,availability:"Low Stock",orderStatus:"Pending",expectedDelivery:"",paymentStatus:"Due"},{id:3,image:"",name:"Dining Chair Set (4pc)",sku:"CHR-2024-045",vendor:"West Elm",price:599.99,qty:4,availability:"In Stock",orderStatus:"Delivered",expectedDelivery:"2024-01-15",paymentStatus:"Paid"},{id:4,image:"",name:"Floor Lamp Modern",sku:"LMP-2024-078",vendor:"CB2",price:189.99,qty:2,availability:"Out of Stock",orderStatus:"Pending",expectedDelivery:"",paymentStatus:"Partial"},{id:5,image:"",name:"Wall Art Canvas Set",sku:"ART-2024-023",vendor:"Etsy",price:129.99,qty:3,availability:"In Stock",orderStatus:"Ordered",expectedDelivery:"2024-01-18",paymentStatus:"Due"}],i=o=>({Ordered:"bg-primary/10 text-primary",Pending:"bg-warning/10 text-warning",Delivered:"bg-success/10 text-success","In Stock":"bg-success/10 text-success","Low Stock":"bg-warning/10 text-warning","Out of Stock":"bg-danger/10 text-danger",Paid:"bg-success/10 text-success",Partial:"bg-warning/10 text-warning",Due:"bg-danger/10 text-danger"})[o]||"bg-muted";return n.jsx(ct,{title:"Products",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search by name, SKU, or vendor...",className:"pl-10",value:r,onChange:o=>s(o.target.value)})]}),n.jsxs(tt,{value:e,onValueChange:t,children:[n.jsx(Je,{className:"w-full md:w-[200px]",children:n.jsx(rt,{placeholder:"Filter by status"})}),n.jsxs(et,{sideOffset:5,children:[n.jsx(J,{value:"all",children:"All Status"}),n.jsx(J,{value:"ordered",children:"Ordered"}),n.jsx(J,{value:"pending",children:"Pending"}),n.jsx(J,{value:"delivered",children:"Delivered"})]})]}),n.jsxs(ee,{variant:"outline",onClick:()=>console.log("More filters clicked"),children:[n.jsx(Mv,{className:"h-4 w-4 mr-2"}),"More Filters"]})]})})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"}),n.jsx("p",{className:"text-2xl font-bold",children:"247"})]}),n.jsx(ot,{className:"h-8 w-8 text-primary"})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Ordered"}),n.jsx("p",{className:"text-2xl font-bold",children:"168"})]}),n.jsx(Ur,{className:"h-8 w-8 text-success"})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Delivered"}),n.jsx("p",{className:"text-2xl font-bold",children:"112"})]}),n.jsx(Qr,{className:"h-8 w-8 text-warning"})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Issues"}),n.jsx("p",{className:"text-2xl font-bold",children:"12"})]}),n.jsx(At,{className:"h-8 w-8 text-danger"})]})})})]}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Vt,{children:[n.jsx(Pe,{children:"Image"}),n.jsx(Pe,{children:"Name / SKU"}),n.jsx(Pe,{children:"Vendor"}),n.jsx(Pe,{children:"Price"}),n.jsx(Pe,{children:"Qty"}),n.jsx(Pe,{children:"Availability"}),n.jsx(Pe,{children:"Order Status"}),n.jsx(Pe,{children:"Expected Delivery"}),n.jsx(Pe,{children:"Payment"}),n.jsx(Pe,{children:"Actions"})]})}),n.jsx($s,{children:a.map(o=>n.jsxs(Vt,{children:[n.jsx(Ne,{children:n.jsx("div",{className:"text-3xl",children:o.image})}),n.jsx(Ne,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:o.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:o.sku})]})}),n.jsx(Ne,{children:n.jsx(ee,{variant:"link",className:"p-0 h-auto",children:o.vendor})}),n.jsxs(Ne,{children:["$",o.price.toFixed(2)]}),n.jsx(Ne,{children:o.qty}),n.jsx(Ne,{children:n.jsx(_e,{className:i(o.availability),children:o.availability})}),n.jsx(Ne,{children:n.jsx(_e,{className:i(o.orderStatus),children:o.orderStatus})}),n.jsx(Ne,{children:o.expectedDelivery||n.jsx(ee,{variant:"outline",size:"sm",children:"Set Date"})}),n.jsx(Ne,{children:n.jsx(_e,{className:i(o.paymentStatus),children:o.paymentStatus})}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ee,{variant:"outline",size:"sm",children:"View"}),n.jsx(ee,{variant:"outline",size:"sm",children:"Edit"})]})})]},o.id))})]})})})})]})})};function Ew({options:e,value:t,onValueChange:r,onCreate:s,onNavigateToCreate:a,placeholder:i="Select option...",searchPlaceholder:o="Search...",emptyText:l="No results found.",createText:c="Create new",isLoading:d=!1,disabled:u=!1,className:f}){const[m,h]=v.useState(!1),[x,p]=v.useState(!1),[g,j]=v.useState(""),[y,w]=v.useState(!1),[b,N]=v.useState(""),S=e.find(A=>A.value===t),_=async()=>{if(g.trim()){w(!0);try{if(s){const A=await s(g.trim());r(A.id),p(!1),j(""),h(!1)}}catch(A){console.error("Error creating item:",A)}finally{w(!1)}}},E=()=>{a?(a(),h(!1)):(p(!0),j(b))};return n.jsxs(n.Fragment,{children:[n.jsxs(lv,{open:m,onOpenChange:h,children:[n.jsx(cv,{asChild:!0,children:n.jsxs(ee,{variant:"outline",role:"combobox","aria-expanded":m,className:ve("w-full justify-between",f),disabled:u||d,children:[d?"Loading...":S?S.label:n.jsx("span",{className:"text-muted-foreground",children:i}),n.jsx(fse,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),n.jsx(Tp,{className:"w-full p-0",align:"start",children:n.jsxs(DT,{children:[n.jsx(IT,{placeholder:o,value:b,onValueChange:N}),n.jsxs(RT,{children:[n.jsx(WW,{children:n.jsx("div",{className:"text-sm text-muted-foreground py-2",children:l})}),n.jsx(Il,{children:e.map(A=>n.jsxs(_i,{value:A.value,onSelect:k=>{r(k===t?"":k),h(!1)},children:[n.jsx(yo,{className:ve("mr-2 h-4 w-4",t===A.value?"opacity-100":"opacity-0")}),A.label]},A.value))}),n.jsx(Il,{children:n.jsxs(_i,{onSelect:E,className:"text-primary",children:[n.jsx(Qn,{className:"mr-2 h-4 w-4"}),c,b&&!a&&` "${b}"`]})})]})]})})]}),n.jsx(vn,{open:x,onOpenChange:p,children:n.jsxs(on,{children:[n.jsxs(yn,{children:[n.jsx(jn,{children:c}),n.jsx(Cs,{children:"Enter a name for the new item. Click create when you're done."})]}),n.jsx("div",{className:"grid gap-4 py-4",children:n.jsxs("div",{className:"grid gap-2",children:[n.jsx(q,{htmlFor:"name",children:"Name"}),n.jsx(me,{id:"name",value:g,onChange:A=>j(A.target.value),placeholder:"Enter name...",onKeyDown:A=>{A.key==="Enter"&&(A.preventDefault(),_())}})]})}),n.jsxs(qa,{children:[n.jsx(ee,{variant:"outline",onClick:()=>{p(!1),j("")},disabled:y,children:"Cancel"}),n.jsx(ee,{onClick:_,disabled:y||!g.trim(),children:y?"Creating...":"Create"})]})]})})]})}const _Ue=()=>{const[e]=kN(),t=e.get("apartmentId"),r=mr(),{toast:s}=gr(),[a,i]=v.useState({product:"",description:"",category:"",vendor:"",vendor_link:"",sku:"",dimensions:"",weight:"",material:"",color:"",model_number:"",brand:"",country_of_origin:"",sn:"",unit_price:"",qty:1,cost:"",total_cost:"",shipping_cost:"0",discount:"0",currency:"HUF",availability:"In Stock",status:"Design Approved",room:"",link:"",size:"",nm:"",plusz_nm:"",price_per_nm:"",price_per_package:"",nm_per_package:"",all_package:"",package_need_to_order:"",all_price:"",eta:"",ordered_on:"",payment_status:"Unpaid",payment_due_date:"",payment_amount:"",paid_amount:"0",delivery_type:"",delivery_status_tags:"",delivery_address:"",delivery_city:"",delivery_postal_code:"",delivery_country:"",delivery_time_window:"",delivery_instructions:"",delivery_contact_person:"",delivery_contact_phone:"",delivery_contact_email:"",delivery_notes:"",tracking_number:"",condition_on_arrival:"",sender:"",sender_address:"",sender_phone:"",recipient:"",recipient_address:"",recipient_phone:"",recipient_email:"",locker_provider:"",locker_id:"",pickup_provider:"",pickup_location:"",customs_description:"",item_value:"",hs_category:"",insurance:"no",cod:"",pickup_time:"",delivery_deadline:"",special_instructions:"",issue_state:"No Issue",issue_type:"",issue_description:"",replacement_requested:!1,replacement_approved:!1,replacement_eta:"",replacement_of:"",gallery_images:"",attachments:"",notes:"",manual_notes:"",ai_summary_notes:""}),[o,l]=v.useState({}),[c,d]=v.useState(null),[u,f]=v.useState(""),[m,h]=v.useState("basic"),{data:x,isLoading:p}=l3(t),{data:g,isLoading:j,error:y}=UX(t),w=Array.isArray(g)?g:[],{data:b,isLoading:N,error:S}=vm(),_=(b==null?void 0:b.results)||[],E=PBe(),A=VX();if(v.useEffect(()=>{t||(s({title:"Error",description:"Apartment ID is required",variant:"destructive"}),r("/apartments"))},[t,r,s]),v.useEffect(()=>{y&&!j&&s({title:"Warning",description:"Failed to load categories. You can still add a product by entering the category ID manually.",variant:"destructive"})},[y,j,s]),v.useEffect(()=>{S&&!N&&s({title:"Warning",description:"Failed to load vendors. You can still add a product by entering the vendor ID manually.",variant:"destructive"})},[S,N,s]),p)return n.jsx(ct,{title:"Loading...",children:n.jsx("div",{className:"container mx-auto py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Bt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground",children:"Loading apartment details..."})]})})});const k=T=>{var M;const P=(M=T.target.files)==null?void 0:M[0];if(P){d(P);const O=new FileReader;O.onloadend=()=>{f(O.result)},O.readAsDataURL(P)}},D=()=>{d(null),f("")},I=()=>{const T={};return a.product.trim()||(T.product="Product name is required"),a.category||(T.category="Category is required"),a.vendor||(T.vendor="Vendor is required"),(!a.unit_price||parseFloat(a.unit_price)<=0)&&(T.unit_price="Valid unit price is required"),(!a.qty||a.qty<=0)&&(T.qty="Valid quantity is required"),l(T),Object.keys(T).length===0},W=async T=>{if(T.preventDefault(),!I()){s({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{if(c){const P=new FormData;P.append("apartment",t),P.append("category",a.category),P.append("product",a.product),P.append("vendor",a.vendor),P.append("unit_price",a.unit_price),P.append("qty",a.qty.toString()),P.append("availability",a.availability),P.append("status",a.status),P.append("payment_status",a.payment_status),P.append("paid_amount",a.paid_amount),P.append("currency",a.currency),P.append("issue_state",a.issue_state),P.append("image_file",c),console.log(" Sending FormData with image:"),console.log("  - Image file:",c),console.log("  - File name:",c.name),console.log("  - File size:",c.size),console.log("  - File type:",c.type);for(let M of P.entries())console.log(`  - ${M[0]}:`,M[1]);a.description&&P.append("description",a.description),a.vendor_link&&P.append("vendor_link",a.vendor_link),a.sku&&P.append("sku",a.sku),a.dimensions&&P.append("dimensions",a.dimensions),a.weight&&P.append("weight",a.weight),a.material&&P.append("material",a.material),a.color&&P.append("color",a.color),a.model_number&&P.append("model_number",a.model_number),a.brand&&P.append("brand",a.brand),a.country_of_origin&&P.append("country_of_origin",a.country_of_origin),a.sn&&P.append("sn",a.sn),a.cost&&P.append("cost",a.cost),a.total_cost&&P.append("total_cost",a.total_cost),a.shipping_cost&&P.append("shipping_cost",a.shipping_cost),a.discount&&P.append("discount",a.discount),a.room&&P.append("room",a.room),a.link&&P.append("link",a.link),a.size&&P.append("size",a.size),a.nm&&P.append("nm",a.nm),a.plusz_nm&&P.append("plusz_nm",a.plusz_nm),a.price_per_nm&&P.append("price_per_nm",a.price_per_nm),a.price_per_package&&P.append("price_per_package",a.price_per_package),a.nm_per_package&&P.append("nm_per_package",a.nm_per_package),a.all_package&&P.append("all_package",a.all_package),a.package_need_to_order&&P.append("package_need_to_order",a.package_need_to_order),a.all_price&&P.append("all_price",a.all_price),a.eta&&P.append("eta",a.eta),a.ordered_on&&P.append("ordered_on",a.ordered_on),a.payment_due_date&&P.append("payment_due_date",a.payment_due_date),a.payment_amount&&P.append("payment_amount",a.payment_amount),a.delivery_type&&P.append("delivery_type",a.delivery_type),a.delivery_status_tags&&P.append("delivery_status_tags",a.delivery_status_tags),a.delivery_address&&P.append("delivery_address",a.delivery_address),a.delivery_city&&P.append("delivery_city",a.delivery_city),a.delivery_postal_code&&P.append("delivery_postal_code",a.delivery_postal_code),a.delivery_country&&P.append("delivery_country",a.delivery_country),a.delivery_time_window&&P.append("delivery_time_window",a.delivery_time_window),a.delivery_instructions&&P.append("delivery_instructions",a.delivery_instructions),a.delivery_contact_person&&P.append("delivery_contact_person",a.delivery_contact_person),a.delivery_contact_phone&&P.append("delivery_contact_phone",a.delivery_contact_phone),a.delivery_contact_email&&P.append("delivery_contact_email",a.delivery_contact_email),a.delivery_notes&&P.append("delivery_notes",a.delivery_notes),a.tracking_number&&P.append("tracking_number",a.tracking_number),a.condition_on_arrival&&P.append("condition_on_arrival",a.condition_on_arrival),a.sender&&P.append("sender",a.sender),a.sender_address&&P.append("sender_address",a.sender_address),a.sender_phone&&P.append("sender_phone",a.sender_phone),a.recipient&&P.append("recipient",a.recipient),a.recipient_address&&P.append("recipient_address",a.recipient_address),a.recipient_phone&&P.append("recipient_phone",a.recipient_phone),a.recipient_email&&P.append("recipient_email",a.recipient_email),a.locker_provider&&P.append("locker_provider",a.locker_provider),a.locker_id&&P.append("locker_id",a.locker_id),a.pickup_provider&&P.append("pickup_provider",a.pickup_provider),a.pickup_location&&P.append("pickup_location",a.pickup_location),a.customs_description&&P.append("customs_description",a.customs_description),a.item_value&&P.append("item_value",a.item_value),a.hs_category&&P.append("hs_category",a.hs_category),a.insurance&&P.append("insurance",a.insurance),a.cod&&P.append("cod",a.cod),a.pickup_time&&P.append("pickup_time",a.pickup_time),a.delivery_deadline&&P.append("delivery_deadline",a.delivery_deadline),a.special_instructions&&P.append("special_instructions",a.special_instructions),a.issue_type&&P.append("issue_type",a.issue_type),a.issue_description&&P.append("issue_description",a.issue_description),P.append("replacement_requested",a.replacement_requested.toString()),P.append("replacement_approved",a.replacement_approved.toString()),a.replacement_eta&&P.append("replacement_eta",a.replacement_eta),a.replacement_of&&P.append("replacement_of",a.replacement_of),a.gallery_images&&P.append("gallery_images",a.gallery_images),a.attachments&&P.append("attachments",a.attachments),a.notes&&P.append("notes",a.notes),a.manual_notes&&P.append("manual_notes",a.manual_notes),a.ai_summary_notes&&P.append("ai_summary_notes",a.ai_summary_notes),await E.mutateAsync(P)}else{const P={apartment:t,category:a.category,product:a.product,description:a.description||void 0,vendor:a.vendor,vendor_link:a.vendor_link||void 0,sku:a.sku||void 0,dimensions:a.dimensions||void 0,weight:a.weight||void 0,material:a.material||void 0,color:a.color||void 0,model_number:a.model_number||void 0,brand:a.brand||void 0,country_of_origin:a.country_of_origin||void 0,sn:a.sn||void 0,unit_price:a.unit_price,qty:a.qty,cost:a.cost||void 0,total_cost:a.total_cost||void 0,shipping_cost:a.shipping_cost||void 0,discount:a.discount||void 0,currency:a.currency,availability:a.availability,status:a.status,room:a.room||void 0,link:a.link||void 0,size:a.size||void 0,nm:a.nm||void 0,plusz_nm:a.plusz_nm||void 0,price_per_nm:a.price_per_nm||void 0,price_per_package:a.price_per_package||void 0,nm_per_package:a.nm_per_package||void 0,all_package:a.all_package||void 0,package_need_to_order:a.package_need_to_order||void 0,all_price:a.all_price||void 0,eta:a.eta||null,ordered_on:a.ordered_on||null,payment_status:a.payment_status,payment_due_date:a.payment_due_date||null,payment_amount:a.payment_amount||null,paid_amount:a.paid_amount,delivery_type:a.delivery_type||void 0,delivery_status_tags:a.delivery_status_tags||void 0,delivery_address:a.delivery_address||void 0,delivery_city:a.delivery_city||void 0,delivery_postal_code:a.delivery_postal_code||void 0,delivery_country:a.delivery_country||void 0,delivery_time_window:a.delivery_time_window||void 0,delivery_instructions:a.delivery_instructions||void 0,delivery_contact_person:a.delivery_contact_person||void 0,delivery_contact_phone:a.delivery_contact_phone||void 0,delivery_contact_email:a.delivery_contact_email||void 0,delivery_notes:a.delivery_notes||void 0,tracking_number:a.tracking_number||void 0,condition_on_arrival:a.condition_on_arrival||void 0,sender:a.sender||void 0,sender_address:a.sender_address||void 0,sender_phone:a.sender_phone||void 0,recipient:a.recipient||void 0,recipient_address:a.recipient_address||void 0,recipient_phone:a.recipient_phone||void 0,recipient_email:a.recipient_email||void 0,locker_provider:a.locker_provider||void 0,locker_id:a.locker_id||void 0,pickup_provider:a.pickup_provider||void 0,pickup_location:a.pickup_location||void 0,customs_description:a.customs_description||void 0,item_value:a.item_value||void 0,hs_category:a.hs_category||void 0,insurance:a.insurance||void 0,cod:a.cod||void 0,pickup_time:a.pickup_time||void 0,delivery_deadline:a.delivery_deadline||void 0,special_instructions:a.special_instructions||void 0,issue_state:a.issue_state,issue_type:a.issue_type||void 0,issue_description:a.issue_description||void 0,replacement_requested:a.replacement_requested,replacement_approved:a.replacement_approved,replacement_eta:a.replacement_eta||null,replacement_of:a.replacement_of||void 0,gallery_images:a.gallery_images||void 0,attachments:a.attachments||void 0,notes:a.notes||void 0,manual_notes:a.manual_notes||void 0,ai_summary_notes:a.ai_summary_notes||void 0};await E.mutateAsync(P)}r(`/apartments/${t}`)}catch{}};if(!x)return n.jsx(ct,{title:"Apartment Not Found",children:n.jsx(X,{children:n.jsxs(Q,{className:"py-8",children:[n.jsx("p",{className:"text-center text-muted-foreground",children:"Apartment not found"}),n.jsx("div",{className:"flex justify-center mt-4",children:n.jsx(ee,{onClick:()=>r("/apartments"),children:"Back to Apartments"})})]})})});const H=a.unit_price&&a.qty?parseFloat(a.unit_price)*a.qty+(parseFloat(a.shipping_cost)||0)-(parseFloat(a.discount)||0):0,F=H-(parseFloat(a.paid_amount)||0);return n.jsx(ct,{title:"Add Product",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ua,{children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(es,{href:"/apartments",children:"Apartments"})}),n.jsx(An,{}),n.jsx(rr,{children:n.jsx(es,{href:`/apartments/${t}`,children:x.name})}),n.jsx(An,{}),n.jsx(rr,{children:n.jsx(ji,{children:"Add Product"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>r(`/apartments/${t}`),children:n.jsx(sr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"Add Product"})]}),n.jsx("form",{onSubmit:W,children:n.jsx(X,{children:n.jsxs(Q,{children:[n.jsxs(Mo,{value:m,onValueChange:h,children:[n.jsxs(ro,{className:"grid w-full grid-cols-4 mt-6",children:[n.jsx(zt,{value:"basic",children:"Basic Info"}),n.jsx(zt,{value:"measurements",children:"Measurements"}),n.jsx(zt,{value:"pricing",children:"Pricing"}),n.jsx(zt,{value:"additional",children:"Additional"})]}),n.jsxs(Qt,{value:"basic",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Basic Product Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"product",children:"Product Name *"}),n.jsx(me,{id:"product",value:a.product,onChange:T=>i({...a,product:T.target.value}),placeholder:"Modern Sofa"}),o.product&&n.jsx("p",{className:"text-sm text-destructive",children:o.product})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"category",children:"Category *"}),n.jsx(Ew,{options:w.map(T=>({value:T.id,label:T.name})),value:a.category,onValueChange:T=>i({...a,category:T}),onCreate:async T=>{const P=await A.mutateAsync({name:T,apartment:t,sheet_name:T});return{id:P.id,name:P.name}},placeholder:"Select category",searchPlaceholder:"Search categories...",emptyText:"No categories found.",createText:"Create new category",isLoading:j}),o.category&&n.jsx("p",{className:"text-sm text-destructive",children:o.category})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"vendor",children:"Vendor *"}),n.jsx(Ew,{options:_.map(T=>({value:T.id,label:T.company_name||T.name})),value:a.vendor,onValueChange:T=>i({...a,vendor:T}),onNavigateToCreate:()=>{r("/vendors/new")},placeholder:"Select vendor",searchPlaceholder:"Search vendors...",emptyText:"No vendors found.",createText:"Create new vendor",isLoading:N}),o.vendor&&n.jsx("p",{className:"text-sm text-destructive",children:o.vendor})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"link",children:"Product Link (Optional)"}),n.jsx(me,{id:"link",type:"url",value:a.link,onChange:T=>i({...a,link:T.target.value}),placeholder:"https://example.com/product"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"sku",children:"SKU *"}),n.jsx(me,{id:"sku",value:a.sku,onChange:T=>i({...a,sku:T.target.value}),placeholder:"SOFA-001"}),o.sku&&n.jsx("p",{className:"text-sm text-destructive",children:o.sku})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"room",children:"Room (Optional)"}),n.jsx(me,{id:"room",value:a.room,onChange:T=>i({...a,room:T.target.value}),placeholder:"Living Room, Bedroom, etc."})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"imageFile",children:"Product Image"}),u?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"relative w-full h-48 border rounded-md overflow-hidden bg-muted",children:[n.jsx("img",{src:u,alt:"Product preview",className:"w-full h-full object-contain"}),n.jsx(ee,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:D,children:"Remove"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:c==null?void 0:c.name})]}):n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(me,{id:"imageFile",type:"file",accept:"image/*",onChange:k,className:"cursor-pointer"})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload a product image (JPG, PNG, GIF, etc.)"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"unitPrice",children:"Unit Price (HUF) *"}),n.jsx(me,{id:"unitPrice",type:"number",min:"0",step:"0.01",value:a.unit_price,onChange:T=>i({...a,unit_price:T.target.value}),placeholder:"150000"}),o.unitPrice&&n.jsx("p",{className:"text-sm text-destructive",children:o.unitPrice})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"qty",children:"Quantity *"}),n.jsx(me,{id:"qty",type:"number",min:"1",value:a.qty,onChange:T=>i({...a,qty:parseInt(T.target.value)||1}),placeholder:"1"}),o.qty&&n.jsx("p",{className:"text-sm text-destructive",children:o.qty})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"availability",children:"Availability *"}),n.jsxs(tt,{value:a.availability,onValueChange:T=>i({...a,availability:T}),children:[n.jsx(Je,{id:"availability",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"In Stock",children:"In Stock"}),n.jsx(J,{value:"Backorder",children:"Backorder"}),n.jsx(J,{value:"Out of Stock",children:"Out of Stock"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",children:"Product Status *"}),n.jsxs(tt,{value:a.status,onValueChange:T=>i({...a,status:T}),children:[n.jsx(Je,{id:"status",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"Design Approved",children:"Design Approved"}),n.jsx(J,{value:"Ready To Order",children:"Ready To Order"}),n.jsx(J,{value:"Ordered",children:"Ordered"}),n.jsx(J,{value:"Shipped",children:"Shipped"}),n.jsx(J,{value:"Delivered",children:"Delivered"}),n.jsx(J,{value:"Damaged",children:"Damaged"}),n.jsx(J,{value:"Wrong Item",children:"Wrong Item"}),n.jsx(J,{value:"Missing",children:"Missing"})]})]})]})]})]}),n.jsxs(Qt,{value:"measurements",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Product Specifications"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"dimensions",children:"Dimensions"}),n.jsx(me,{id:"dimensions",value:a.dimensions,onChange:T=>i({...a,dimensions:T.target.value}),placeholder:"120x80x45 cm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"weight",children:"Weight"}),n.jsx(me,{id:"weight",value:a.weight,onChange:T=>i({...a,weight:T.target.value}),placeholder:"25 kg"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"material",children:"Material"}),n.jsx(me,{id:"material",value:a.material,onChange:T=>i({...a,material:T.target.value}),placeholder:"Oak Wood"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"color",children:"Color"}),n.jsx(me,{id:"color",value:a.color,onChange:T=>i({...a,color:T.target.value}),placeholder:"Natural Oak"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"size",children:"Size"}),n.jsx(me,{id:"size",value:a.size,onChange:T=>i({...a,size:T.target.value}),placeholder:"Large"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"NM Measurements (for Flooring/Tiles)"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"nm",children:"NM"}),n.jsx(me,{id:"nm",type:"number",step:"0.01",value:a.nm,onChange:T=>i({...a,nm:T.target.value}),placeholder:"10.5"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"plusz_nm",children:"Plus NM"}),n.jsx(me,{id:"plusz_nm",type:"number",step:"0.01",value:a.plusz_nm,onChange:T=>i({...a,plusz_nm:T.target.value}),placeholder:"1.5"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"price_per_nm",children:"Price per NM"}),n.jsx(me,{id:"price_per_nm",type:"number",step:"0.01",value:a.price_per_nm,onChange:T=>i({...a,price_per_nm:T.target.value}),placeholder:"5000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"price_per_package",children:"Price per Package"}),n.jsx(me,{id:"price_per_package",type:"number",step:"0.01",value:a.price_per_package,onChange:T=>i({...a,price_per_package:T.target.value}),placeholder:"15000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"nm_per_package",children:"NM per Package"}),n.jsx(me,{id:"nm_per_package",type:"number",step:"0.01",value:a.nm_per_package,onChange:T=>i({...a,nm_per_package:T.target.value}),placeholder:"3"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"package_need_to_order",children:"Package Need to Order"}),n.jsx(me,{id:"package_need_to_order",type:"number",value:a.package_need_to_order,onChange:T=>i({...a,package_need_to_order:T.target.value}),placeholder:"8"})]})]})]})]}),n.jsxs(Qt,{value:"pricing",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Payment Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"total_amount",children:"Total Amount (HUF)"}),n.jsx("div",{className:"h-10 px-3 py-2 rounded-md border border-input bg-muted flex items-center",children:n.jsx("span",{className:"font-semibold text-lg",children:H.toLocaleString()})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: (Unit Price  Qty) + Shipping - Discount"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"shipping_cost",children:"Shipping Cost (Optional)"}),n.jsx(me,{id:"shipping_cost",type:"number",min:"0",step:"0.01",value:a.shipping_cost,onChange:T=>i({...a,shipping_cost:T.target.value}),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"discount",children:"Discount (Optional)"}),n.jsx(me,{id:"discount",type:"number",min:"0",step:"0.01",value:a.discount,onChange:T=>i({...a,discount:T.target.value}),placeholder:"0"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paid_amount",children:"Paid Amount"}),n.jsx(me,{id:"paid_amount",type:"number",min:"0",step:"0.01",value:a.paid_amount,onChange:T=>i({...a,paid_amount:T.target.value}),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Outstanding Balance"}),n.jsx("div",{className:`h-10 px-3 py-2 rounded-md border flex items-center ${F>0?"bg-red-50 border-red-200 text-red-700":"bg-green-50 border-green-200 text-green-700"}`,children:n.jsxs("span",{className:"font-semibold text-lg",children:[F.toLocaleString()," HUF"]})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: Total Amount - Paid Amount"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paymentStatus",children:"Payment Status *"}),n.jsxs(tt,{value:a.payment_status,onValueChange:T=>i({...a,payment_status:T}),children:[n.jsx(Je,{id:"paymentStatus",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"Unpaid",children:"Unpaid"}),n.jsx(J,{value:"Partially Paid",children:"Partially Paid"}),n.jsx(J,{value:"Paid",children:"Paid"}),n.jsx(J,{value:"Overdue",children:"Overdue"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"currency",children:"Currency"}),n.jsxs(tt,{value:a.currency,onValueChange:T=>i({...a,currency:T}),children:[n.jsx(Je,{id:"currency",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"HUF",children:"HUF (Hungarian Forint)"}),n.jsx(J,{value:"EUR",children:"EUR (Euro)"}),n.jsx(J,{value:"USD",children:"USD (US Dollar)"})]})]})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paymentDueDate",children:"Payment Due Date *"}),n.jsx(me,{id:"paymentDueDate",type:"date",value:a.payment_due_date,onChange:T=>i({...a,payment_due_date:T.target.value})})]})})]}),n.jsxs(Qt,{value:"additional",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Additional Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"brand",children:"Brand"}),n.jsx(me,{id:"brand",value:a.brand,onChange:T=>i({...a,brand:T.target.value}),placeholder:"e.g., IKEA, Samsung, etc."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"country_of_origin",children:"Country of Origin"}),n.jsx(me,{id:"country_of_origin",value:a.country_of_origin,onChange:T=>i({...a,country_of_origin:T.target.value}),placeholder:"e.g., Hungary, China, Germany"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"condition_on_arrival",children:"Condition on Arrival"}),n.jsx(me,{id:"condition_on_arrival",value:a.condition_on_arrival,onChange:T=>i({...a,condition_on_arrival:T.target.value}),placeholder:"Good, Damaged, Needs Inspection, etc."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-semibold",children:"Notes & Documentation"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"General Notes"}),n.jsx(ha,{id:"notes",value:a.notes,onChange:T=>i({...a,notes:T.target.value}),placeholder:"General notes about this product...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"manual_notes",children:"Manual Notes"}),n.jsx(ha,{id:"manual_notes",value:a.manual_notes,onChange:T=>i({...a,manual_notes:T.target.value}),placeholder:"Manual notes added by staff...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"ai_summary_notes",children:"AI Summary Notes"}),n.jsx(ha,{id:"ai_summary_notes",value:a.ai_summary_notes,onChange:T=>i({...a,ai_summary_notes:T.target.value}),placeholder:"AI-generated summary and insights...",rows:3}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"AI-generated summaries and recommendations"})]})]})]})]}),n.jsxs("div",{className:"flex gap-4 justify-between mt-6 border-t pt-6",children:[n.jsx("div",{children:m!=="basic"&&n.jsx(ee,{type:"button",variant:"outline",onClick:T=>{T.preventDefault(),T.stopPropagation();const P=["basic","measurements","pricing","additional"],M=P.indexOf(m);M>0&&h(P[M-1])},children:" Previous"})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:T=>{T.preventDefault(),T.stopPropagation(),r(`/apartments/${t}`)},children:"Cancel"}),m!=="additional"?n.jsx(ee,{type:"button",onClick:T=>{T.preventDefault(),T.stopPropagation();const P=["basic","measurements","pricing","additional"],M=P.indexOf(m);M<P.length-1&&h(P[M+1])},children:"Next "}):n.jsxs(ee,{type:"submit",disabled:E.isPending,children:[E.isPending&&n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),E.isPending?"Adding...":"Add Product"]})]})]})]})})})]})})},SUe=()=>{var w;const{id:e}=eo(),t=mr(),[r,s]=v.useState(!1),[a,i]=v.useState(!1),[o,l]=v.useState({x:0,y:0}),[c,d]=v.useState(!1),{data:u,isLoading:f,error:m}=LX(e||null),h=u==null?void 0:u.apartment_details,x=null,p=[],g=b=>{const N=b.currentTarget.getBoundingClientRect(),S=(b.clientX-N.left)/N.width*100,_=(b.clientY-N.top)/N.height*100;l({x:S,y:_})};if(v.useEffect(()=>{const b=N=>{N.key==="Escape"&&c&&d(!1)};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[c]),f)return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"container mx-auto py-8",children:[n.jsx(Ua,{className:"mb-6",children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx(An,{}),n.jsx(rr,{children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx(An,{}),n.jsx(rr,{children:n.jsx(C,{className:"h-4 w-32"})})]})}),n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-8 w-64"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-6 w-20"}),n.jsx(C,{className:"h-6 w-24"}),n.jsx(C,{className:"h-6 w-20"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-9 w-20"}),n.jsx(C,{className:"h-9 w-24"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-primary/5 to-transparent",children:n.jsx(C,{className:"h-6 w-48"})}),n.jsxs(Q,{className:"space-y-4 pt-6",children:[n.jsx(C,{className:"h-20 w-full"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((b,N)=>n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx(C,{className:"h-4 w-16 mb-2"}),n.jsx(C,{className:"h-5 w-24"})]},N))})]})]}),n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-blue-500/5 to-transparent",children:n.jsx(C,{className:"h-6 w-40"})}),n.jsx(Q,{className:"pt-6",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(5)].map((b,N)=>n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx(C,{className:"h-4 w-20 mb-2"}),n.jsx(C,{className:"h-5 w-28"})]},N))})})]}),n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-green-500/5 to-transparent",children:n.jsx(C,{className:"h-6 w-44"})}),n.jsx(Q,{className:"space-y-6 pt-6",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[...Array(3)].map((b,N)=>n.jsxs("div",{className:"p-4 bg-gradient-to-br from-primary/10 to-primary/5 rounded-lg border-2",children:[n.jsx(C,{className:"h-4 w-16 mb-2"}),n.jsx(C,{className:"h-8 w-32"})]},N))})})]}),n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-orange-500/5 to-transparent",children:n.jsx(C,{className:"h-6 w-48"})}),n.jsxs(Q,{className:"space-y-4 pt-6",children:[n.jsx(C,{className:"h-32 w-full"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[...Array(4)].map((b,N)=>n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx(C,{className:"h-4 w-24 mb-2"}),n.jsx(C,{className:"h-5 w-32"})]},N))})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-slate-500/5 to-transparent",children:n.jsx(C,{className:"h-6 w-32"})}),n.jsx(Q,{className:"p-0",children:n.jsx(C,{className:"w-full aspect-square"})})]}),n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-cyan-500/5 to-transparent",children:n.jsx(C,{className:"h-6 w-28"})}),n.jsx(Q,{className:"space-y-3 pt-6",children:[...Array(5)].map((b,N)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-5 w-20"})]},N))})]})]})]})]})});if(m||!u)return n.jsx(ct,{title:"Product Not Found",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground mb-4",children:"Product not found"}),n.jsxs(ee,{onClick:()=>t("/apartments"),children:[n.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back to Apartments"]})]})});const j=()=>{window.confirm(`Are you sure you want to delete "${u.product}"?`)&&(Ue.success("Product deleted successfully"),t(`/apartments/${u.apartment}`))},y=b=>{const N=b.toLowerCase();return N.includes("delivered")||N.includes("closed")||N.includes("paid")?"bg-success text-success-foreground":N.includes("issue")||N.includes("damaged")||N.includes("wrong")||N.includes("missing")?"bg-danger text-danger-foreground":N.includes("waiting")||N.includes("pending")||N.includes("partial")?"bg-warning text-warning-foreground":N.includes("ordered")||N.includes("shipped")||N.includes("transit")?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"};return n.jsxs(ct,{title:u.product,children:[n.jsx(Ua,{className:"mb-6",children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(es,{asChild:!0,children:n.jsx(Ki,{to:"/apartments",children:"Apartments"})})}),n.jsx(An,{}),n.jsx(rr,{children:n.jsx(es,{asChild:!0,children:n.jsx(Ki,{to:`/apartments/${u.apartment}`,children:(h==null?void 0:h.name)||"Apartment"})})}),n.jsx(An,{}),n.jsx(rr,{children:n.jsx(ji,{children:u.product})})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-start space-x-2  mb-3",children:[n.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>t(`/apartments/${u.apartment}`),className:"shrink-0",children:n.jsx(sr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold truncate",children:u.product})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[(w=u.status_tags)==null?void 0:w.map(b=>n.jsx(_e,{className:y(b),children:b},b)),(u.delivery_status_tags||[]).map(b=>n.jsx(_e,{variant:"outline",className:y(b),children:b},b))]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 sm:flex-nowrap",children:[p.length>0&&n.jsxs(lv,{open:r,onOpenChange:s,children:[n.jsx(cv,{asChild:!0,children:n.jsxs(ee,{variant:"outline",size:"icon",className:"relative shrink-0",children:[n.jsx(uf,{className:"h-4 w-4"}),p.length>0&&n.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-danger text-danger-foreground text-xs flex items-center justify-center",children:p.length})]})}),n.jsx(Tp,{className:"w-80",align:"end",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Notifications"}),n.jsx(ud,{className:"h-[300px]",children:n.jsx("div",{className:"space-y-3",children:p.map(b=>n.jsxs("div",{className:"p-3 rounded-lg border border-border bg-muted/30 space-y-1",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("p",{className:"font-medium text-sm",children:b.title}),n.jsx(_e,{variant:"outline",className:b.type==="success"?"bg-success/10 text-success border-success/20":b.type==="warning"?"bg-warning/10 text-warning border-warning/20":"bg-primary/10 text-primary border-primary/20",children:b.type})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b.message}),n.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(b.timestamp).toLocaleString()})]},b.id))})})]})})]}),n.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>t(`/products/${u.id}/edit`),className:"shrink-0",children:[n.jsx(Qs,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),n.jsxs(ee,{variant:"destructive",size:"sm",onClick:j,className:"shrink-0",children:[n.jsx(hn,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-primary/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ot,{className:"h-5 w-5 text-primary"}),"Product Information"]})}),n.jsxs(Q,{className:"space-y-6 pt-6",children:[u.description&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Description"}),n.jsx("p",{className:"text-sm leading-relaxed",children:u.description})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(fr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Vendor"})]}),n.jsx("p",{className:"font-semibold",children:u.vendor_name||"-"}),u.vendor_link&&n.jsxs("a",{href:u.vendor_link,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline flex items-center gap-1 mt-1",children:["Visit Website",n.jsx(Ck,{className:"h-3 w-3"})]})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(L5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"SKU"})]}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:u.sku||"-"})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(W5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Category"})]}),n.jsx("p",{className:"font-semibold",children:u.category_name||"-"})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(B5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Room"})]}),n.jsx("p",{className:"font-semibold",children:u.room||"-"})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(or,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Availability"})]}),n.jsx(_e,{variant:u.availability==="In Stock"?"default":"secondary",children:u.availability})]}),u.brand&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(W5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Brand"})]}),n.jsx("p",{className:"font-semibold",children:u.brand})]}),u.model_number&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(kn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Model Number"})]}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:u.model_number})]}),u.sn&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(L5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Serial Number"})]}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:u.sn})]}),u.country_of_origin&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(ec,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Country of Origin"})]}),n.jsx("p",{className:"font-semibold",children:u.country_of_origin})]})]})]})]}),(u.dimensions||u.weight||u.material||u.color||u.size)&&n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-blue-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(q_,{className:"h-5 w-5 text-blue-600"}),"Specifications"]})}),n.jsx(Q,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.dimensions&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(q_,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Dimensions"})]}),n.jsx("p",{className:"font-semibold",children:u.dimensions})]}),u.weight&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(_7,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Weight"})]}),n.jsx("p",{className:"font-semibold",children:u.weight})]}),u.material&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(B5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Material"})]}),n.jsx("p",{className:"font-semibold",children:u.material})]}),u.color&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Ese,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Color"})]}),n.jsx("p",{className:"font-semibold",children:u.color})]}),u.size&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(q_,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Size"})]}),n.jsx("p",{className:"font-semibold",children:u.size})]})]})})]}),n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-green-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Nr,{className:"h-5 w-5 text-green-600"}),"Pricing & Payment"]})}),n.jsxs(Q,{className:"space-y-6 pt-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-4 bg-gradient-to-br from-primary/10 to-primary/5 rounded-lg border-2 border-primary/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Unit Price"}),n.jsxs("p",{className:"text-2xl font-bold text-primary",children:[parseFloat(u.unit_price).toLocaleString()," ",u.currency]})]}),n.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-500/10 to-blue-500/5 rounded-lg border-2 border-blue-500/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Quantity"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:u.qty})]}),n.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-500/10 to-green-500/5 rounded-lg border-2 border-green-500/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[parseFloat(u.total_amount).toLocaleString()," ",u.currency]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[u.shipping_cost&&parseFloat(u.shipping_cost)>0&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Shipping Cost"}),n.jsxs("p",{className:"font-semibold",children:[parseFloat(u.shipping_cost).toLocaleString()," ",u.currency]})]}),u.discount&&parseFloat(u.discount)>0&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Discount"}),n.jsxs("p",{className:"font-semibold text-green-600",children:["-",parseFloat(u.discount).toLocaleString()," ",u.currency]})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Payment Status"}),n.jsx(_e,{className:y(u.payment_status),children:u.payment_status})]}),u.payment_status_from_orders&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Order Payment Status"}),n.jsx(_e,{className:y(u.payment_status_from_orders),children:u.payment_status_from_orders})]})]}),(u.payment_amount||u.paid_amount)&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-3",children:[n.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[n.jsx(ws,{className:"h-4 w-4"}),"Payment Details"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.payment_amount&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Payment Amount"}),n.jsxs("p",{className:"font-semibold",children:[parseFloat(u.payment_amount).toLocaleString()," ",u.currency]})]}),u.paid_amount!==void 0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Paid Amount"}),n.jsxs("p",{className:"font-semibold text-green-600",children:[parseFloat(u.paid_amount).toLocaleString()," ",u.currency]})]}),u.outstanding_balance!==void 0&&n.jsxs("div",{className:"col-span-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Outstanding Balance"}),n.jsxs("p",{className:`text-lg font-bold ${parseFloat(u.outstanding_balance)>0?"text-danger":"text-success"}`,children:[parseFloat(u.outstanding_balance).toLocaleString()," ",u.currency]})]})]})]})]})]}),u.order_status_info&&u.order_status_info.length>0&&n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-purple-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Ns,{className:"h-5 w-5 text-purple-600"}),"Order Tracking"]})}),n.jsx(Q,{className:"pt-6",children:n.jsx("div",{className:"space-y-4",children:u.order_status_info.map((b,N)=>n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_e,{className:y(b.status),children:b.status}),b.po_number&&n.jsxs("span",{className:"text-sm font-mono text-muted-foreground",children:["PO: ",b.po_number]})]}),b.quantity&&n.jsxs("span",{className:"text-sm font-semibold",children:["Qty: ",b.quantity]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[b.placed_on&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Placed On"}),n.jsx("p",{className:"font-medium",children:new Date(b.placed_on).toLocaleDateString()})]}),b.expected_delivery&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected Delivery"}),n.jsx("p",{className:"font-medium",children:new Date(b.expected_delivery).toLocaleDateString()})]})]}),b.shipping_address&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Shipping Address"}),n.jsx("p",{className:"text-sm",children:b.shipping_address})]})]},N))})})]}),u.delivery_status_info&&u.delivery_status_info.length>0||u.delivery_address||u.tracking_number?n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-orange-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(_r,{className:"h-5 w-5 text-orange-600"}),"Delivery Information"]})}),n.jsxs(Q,{className:"space-y-6 pt-6",children:[u.delivery_status_info&&u.delivery_status_info.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Delivery Tracking"}),u.delivery_status_info.map((b,N)=>n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(_e,{className:y(b.status),children:b.status}),b.priority&&n.jsx(_e,{variant:"outline",children:b.priority})]}),b.tracking_number&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Tracking Number"}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:b.tracking_number})]}),b.location&&n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(va,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Current Location"}),n.jsx("p",{className:"text-sm font-medium",children:b.location})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[b.expected_date&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected Date"}),n.jsx("p",{className:"font-medium",children:new Date(b.expected_date).toLocaleDateString()})]}),b.actual_date&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Actual Date"}),n.jsx("p",{className:"font-medium",children:new Date(b.actual_date).toLocaleDateString()})]})]})]},N))]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.delivery_type&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Delivery Type"}),n.jsx("p",{className:"font-semibold capitalize",children:u.delivery_type.replace("_"," ")})]}),u.tracking_number&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Tracking Number"}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:u.tracking_number})]}),u.ordered_on&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(wr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Ordered On"})]}),n.jsx("p",{className:"font-semibold",children:new Date(u.ordered_on).toLocaleDateString()})]}),u.expected_delivery_date&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Qr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected Delivery"})]}),n.jsx("p",{className:"font-semibold",children:new Date(u.expected_delivery_date).toLocaleDateString()})]}),u.actual_delivery_date&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(or,{className:"h-4 w-4 text-green-600"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Actual Delivery"})]}),n.jsx("p",{className:"font-semibold text-green-600",children:new Date(u.actual_delivery_date).toLocaleDateString()})]}),u.eta&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(wr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"ETA"})]}),n.jsx("p",{className:"font-semibold",children:new Date(u.eta).toLocaleDateString()})]}),u.condition_on_arrival&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Condition on Arrival"}),n.jsx("p",{className:"font-semibold",children:u.condition_on_arrival})]})]}),u.delivery_address&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[n.jsx(va,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsx("h4",{className:"font-semibold text-sm",children:"Delivery Address"})]}),n.jsx("p",{className:"text-sm mb-1",children:u.delivery_address}),(u.delivery_city||u.delivery_postal_code||u.delivery_country)&&n.jsx("p",{className:"text-sm text-muted-foreground",children:[u.delivery_city,u.delivery_postal_code,u.delivery_country].filter(Boolean).join(", ")})]}),(u.delivery_contact_person||u.delivery_contact_phone||u.delivery_contact_email)&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Delivery Contact"}),u.delivery_contact_person&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(os,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:u.delivery_contact_person})]}),u.delivery_contact_phone&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(To,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:`tel:${u.delivery_contact_phone}`,className:"text-sm text-primary hover:underline",children:u.delivery_contact_phone})]}),u.delivery_contact_email&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:`mailto:${u.delivery_contact_email}`,className:"text-sm text-primary hover:underline",children:u.delivery_contact_email})]})]}),(u.delivery_instructions||u.delivery_notes||u.special_instructions)&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Instructions & Notes"}),u.delivery_instructions&&n.jsxs("div",{className:"mb-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery Instructions"}),n.jsx("p",{className:"text-sm",children:u.delivery_instructions})]}),u.delivery_notes&&n.jsxs("div",{className:"mb-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery Notes"}),n.jsx("p",{className:"text-sm",children:u.delivery_notes})]}),u.special_instructions&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Special Instructions"}),n.jsx("p",{className:"text-sm",children:u.special_instructions})]})]})]})]}):null,(u.notes||u.manual_notes||u.ai_summary_notes)&&n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-indigo-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(kn,{className:"h-5 w-5 text-indigo-600"}),"Notes & Additional Information"]})}),n.jsxs(Q,{className:"space-y-4 pt-6",children:[u.notes&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2 font-semibold",children:"General Notes"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:u.notes})]}),u.manual_notes&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2 font-semibold",children:"Manual Notes"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:u.manual_notes})]}),u.ai_summary_notes&&n.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Oa,{className:"h-4 w-4 text-primary"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"AI Summary"})]}),n.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:u.ai_summary_notes})]})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[u.product_image?n.jsxs(X,{className:"border-2 overflow-hidden",children:[n.jsx(be,{className:"bg-gradient-to-r from-slate-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(qi,{className:"h-5 w-5"}),"Product Image"]})}),n.jsx(Q,{className:"p-0",children:n.jsxs("div",{className:"relative group cursor-pointer overflow-hidden",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onMouseMove:g,onClick:()=>d(!0),children:[n.jsx("img",{src:u.product_image,alt:u.product,className:"w-full object-cover aspect-square transition-transform duration-200",style:{transform:a?"scale(1.5)":"scale(1)",transformOrigin:`${o.x}% ${o.y}%`}}),n.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors duration-200 pointer-events-none"}),n.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/70 text-white text-xs px-3 py-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none flex items-center gap-1.5",children:[n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"})}),"Hover to zoom  Click for fullscreen"]})]})})]}):n.jsx(X,{className:"border-2",children:n.jsxs(Q,{className:"py-24 text-center",children:[n.jsx("div",{className:"mx-auto h-24 w-24 rounded-full bg-muted flex items-center justify-center mb-4",children:n.jsx(qi,{className:"h-12 w-12 text-muted-foreground"})}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"No image available"})]})}),n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-cyan-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(x7,{className:"h-5 w-5 text-cyan-600"}),"Quick Stats"]})}),n.jsxs(Q,{className:"space-y-3 pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Ordered"}),u.is_ordered?n.jsx(or,{className:"h-5 w-5 text-green-600"}):n.jsx(Ul,{className:"h-5 w-5 text-muted-foreground"})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Active Order"}),u.has_active_order?n.jsx(or,{className:"h-5 w-5 text-green-600"}):n.jsx(Ul,{className:"h-5 w-5 text-muted-foreground"})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Created"}),n.jsx("span",{className:"text-sm font-medium",children:new Date(u.created_at).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Last Updated"}),n.jsx("span",{className:"text-sm font-medium",children:new Date(u.updated_at).toLocaleDateString()})]}),u.created_by&&n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Created By"}),n.jsx("span",{className:"text-sm font-medium",children:u.created_by})]})]})]}),u.issue_state&&u.issue_state!=="No Issue"&&n.jsxs(X,{className:"border-2 border-danger/50 bg-danger/5",children:[n.jsx(be,{className:"bg-gradient-to-r from-danger/10 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2 text-danger",children:[n.jsx(At,{className:"h-5 w-5"}),"Issue Status"]})}),n.jsxs(Q,{className:"space-y-4 pt-6",children:[n.jsxs("div",{className:"p-3 bg-background rounded-lg border border-danger/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Current Status"}),n.jsx(_e,{className:y(u.issue_state),children:u.issue_state})]}),u.issue_status_info&&u.issue_status_info.status!=="No Issue"&&n.jsxs("div",{className:"space-y-3",children:[u.issue_status_info.type&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Issue Type"}),n.jsx("p",{className:"font-semibold",children:u.issue_status_info.type})]}),u.issue_status_info.priority&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Priority"}),n.jsx(_e,{variant:"outline",children:u.issue_status_info.priority})]}),u.issue_status_info.created_at&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Reported On"}),n.jsx("p",{className:"font-medium",children:new Date(u.issue_status_info.created_at).toLocaleDateString()})]})]}),u.issue_description&&n.jsxs("div",{className:"p-4 bg-background rounded-lg border border-danger/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Description"}),n.jsx("p",{className:"text-sm leading-relaxed",children:u.issue_description})]}),(u.replacement_requested||u.replacement_approved)&&n.jsxs("div",{className:"p-4 bg-warning/10 rounded-lg border border-warning/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2 font-semibold",children:"Replacement Status"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[u.replacement_requested?n.jsx(or,{className:"h-4 w-4 text-warning"}):n.jsx(Ul,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:"Replacement Requested"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[u.replacement_approved?n.jsx(or,{className:"h-4 w-4 text-success"}):n.jsx(Ul,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:"Replacement Approved"})]}),u.replacement_eta&&n.jsxs("div",{className:"mt-2 pt-2 border-t",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Replacement ETA"}),n.jsx("p",{className:"text-sm font-medium",children:new Date(u.replacement_eta).toLocaleDateString()})]})]})]})]})]})]})]}),c&&u.product_image&&n.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:()=>d(!1),children:[n.jsx("button",{onClick:()=>d(!1),className:"absolute top-4 right-4 z-10 h-10 w-10 rounded-full bg-white/10 hover:bg-white/20 backdrop-blur-sm flex items-center justify-center transition-colors duration-200 group","aria-label":"Close fullscreen",children:n.jsx(Ul,{className:"h-6 w-6 text-white group-hover:scale-110 transition-transform"})}),n.jsxs("div",{className:"absolute top-4 left-4 bg-black/50 backdrop-blur-sm text-white px-4 py-2 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium",children:u.product}),n.jsx("p",{className:"text-xs text-white/70 mt-0.5",children:"Press ESC or click outside to close"})]}),n.jsx("img",{src:u.product_image,alt:u.product,className:"max-h-[90vh] max-w-[90vw] object-contain rounded-lg shadow-2xl",onClick:b=>b.stopPropagation()})]}),n.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-3 mt-6 gap-6",children:n.jsx("div",{className:"xl:col-span-2 space-y-6",children:x})})]})};function CUe(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-12"})]})}function EUe(){return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-10 w-10 rounded-md"}),n.jsx(C,{className:"h-9 w-32"})]})}function AUe(){return n.jsx(X,{children:n.jsxs(Q,{children:[n.jsxs("div",{className:"grid w-full grid-cols-4 gap-1 bg-muted p-1 rounded-lg mt-6",children:[n.jsx(C,{className:"h-10 rounded-md"}),n.jsx(C,{className:"h-10 rounded-md"}),n.jsx(C,{className:"h-10 rounded-md"}),n.jsx(C,{className:"h-10 rounded-md"})]}),n.jsxs("div",{className:"space-y-6 mt-6",children:[n.jsx(C,{className:"h-6 w-48"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-36"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-48 w-full rounded-md"}),n.jsx(C,{className:"h-3 w-40"})]})}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"flex gap-4 justify-between mt-6 border-t pt-6",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})]})]})})}function PUe(){return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(CUe,{}),n.jsx(EUe,{}),n.jsx(AUe,{})]})})}const kUe=()=>{const{id:e}=eo(),t=mr(),{toast:r}=gr(),{data:s,isLoading:a}=LX(e),i=s==null?void 0:s.apartment,[o,l]=v.useState({product:"",description:"",category:"",vendor:"",vendor_link:"",sku:"",dimensions:"",weight:"",material:"",color:"",model_number:"",brand:"",country_of_origin:"",sn:"",unit_price:"",qty:1,cost:"",total_cost:"",shipping_cost:"0",discount:"0",currency:"HUF",availability:"In Stock",status:"Design Approved",room:"",link:"",size:"",nm:"",plusz_nm:"",price_per_nm:"",price_per_package:"",nm_per_package:"",all_package:"",package_need_to_order:"",all_price:"",eta:"",ordered_on:"",payment_status:"Unpaid",payment_due_date:"",payment_amount:"",paid_amount:"0",delivery_type:"",delivery_status_tags:"",delivery_address:"",delivery_city:"",delivery_postal_code:"",delivery_country:"",delivery_time_window:"",delivery_instructions:"",delivery_contact_person:"",delivery_contact_phone:"",delivery_contact_email:"",delivery_notes:"",tracking_number:"",condition_on_arrival:"",sender:"",sender_address:"",sender_phone:"",recipient:"",recipient_address:"",recipient_phone:"",recipient_email:"",locker_provider:"",locker_id:"",pickup_provider:"",pickup_location:"",customs_description:"",item_value:"",hs_category:"",insurance:"no",cod:"",pickup_time:"",delivery_deadline:"",special_instructions:"",issue_state:"No Issue",issue_type:"",issue_description:"",replacement_requested:!1,replacement_approved:!1,replacement_eta:"",replacement_of:"",gallery_images:"",attachments:"",notes:"",manual_notes:"",ai_summary_notes:""}),[c,d]=v.useState({}),[u,f]=v.useState(null),[m,h]=v.useState(""),[x,p]=v.useState("basic"),{data:g,isLoading:j,error:y}=UX(i),w=Array.isArray(g)?g:[],{data:b,isLoading:N,error:S}=vm(),_=(b==null?void 0:b.results)||[],E=BX(),A=VX();if(v.useEffect(()=>{var T;if(s){const P=s;console.log(" Product data loaded:",s),console.log(" Category ID:",s.category),console.log(" Vendor ID:",s.vendor),l({product:P.product||"",description:P.description||"",category:P.category?String(P.category):"",vendor:P.vendor?String(P.vendor):"",vendor_link:P.vendor_link||"",sku:P.sku||"",dimensions:P.dimensions||"",weight:P.weight||"",material:P.material||"",color:P.color||"",model_number:P.model_number||"",brand:P.brand||"",country_of_origin:P.country_of_origin||"",sn:P.sn||"",unit_price:((T=P.unit_price)==null?void 0:T.toString())||"",qty:P.qty||1,cost:P.cost||"",total_cost:P.total_cost||"",shipping_cost:P.shipping_cost||"0",discount:P.discount||"0",currency:P.currency||"HUF",availability:P.availability||"In Stock",status:Array.isArray(P.status)?P.status[0]||"Design Approved":P.status||"Design Approved",room:P.room||"",link:P.link||"",size:P.size||"",nm:P.nm||"",plusz_nm:P.plusz_nm||"",price_per_nm:P.price_per_nm||"",price_per_package:P.price_per_package||"",nm_per_package:P.nm_per_package||"",all_package:P.all_package||"",package_need_to_order:P.package_need_to_order||"",all_price:P.all_price||"",eta:P.eta||"",ordered_on:P.ordered_on||"",payment_status:P.payment_status||"Unpaid",payment_due_date:P.payment_due_date||"",payment_amount:P.payment_amount||"",paid_amount:P.paid_amount||"0",delivery_type:P.delivery_type||"",delivery_status_tags:P.delivery_status_tags||"",delivery_address:P.delivery_address||"",delivery_city:P.delivery_city||"",delivery_postal_code:P.delivery_postal_code||"",delivery_country:P.delivery_country||"",delivery_time_window:P.delivery_time_window||"",delivery_instructions:P.delivery_instructions||"",delivery_contact_person:P.delivery_contact_person||"",delivery_contact_phone:P.delivery_contact_phone||"",delivery_contact_email:P.delivery_contact_email||"",delivery_notes:P.delivery_notes||"",tracking_number:P.tracking_number||"",condition_on_arrival:P.condition_on_arrival||"",sender:P.sender||"",sender_address:P.sender_address||"",sender_phone:P.sender_phone||"",recipient:P.recipient||"",recipient_address:P.recipient_address||"",recipient_phone:P.recipient_phone||"",recipient_email:P.recipient_email||"",locker_provider:P.locker_provider||"",locker_id:P.locker_id||"",pickup_provider:P.pickup_provider||"",pickup_location:P.pickup_location||"",customs_description:P.customs_description||"",item_value:P.item_value||"",hs_category:P.hs_category||"",insurance:P.insurance||"no",cod:P.cod||"",pickup_time:P.pickup_time||"",delivery_deadline:P.delivery_deadline||"",special_instructions:P.special_instructions||"",issue_state:P.issue_state||"No Issue",issue_type:P.issue_type||"",issue_description:P.issue_description||"",replacement_requested:P.replacement_requested||!1,replacement_approved:P.replacement_approved||!1,replacement_eta:P.replacement_eta||"",replacement_of:P.replacement_of||"",gallery_images:P.gallery_images||"",attachments:P.attachments||"",notes:P.notes||"",manual_notes:P.manual_notes||"",ai_summary_notes:P.ai_summary_notes||""}),s.product_image&&h(s.product_image)}},[s]),v.useEffect(()=>{y&&!j&&r({title:"Warning",description:"Failed to load categories. You can still add a product by entering the category ID manually.",variant:"destructive"})},[y,j,r]),v.useEffect(()=>{S&&!N&&r({title:"Warning",description:"Failed to load vendors. You can still add a product by entering the vendor ID manually.",variant:"destructive"})},[S,N,r]),a)return n.jsx(PUe,{});if(!s)return n.jsx(ct,{title:"Product Not Found",children:n.jsx(X,{children:n.jsxs(Q,{className:"py-8",children:[n.jsx("p",{className:"text-center text-muted-foreground",children:"Product not found"}),n.jsx("div",{className:"flex justify-center mt-4",children:n.jsx(ee,{onClick:()=>t("/apartments"),children:"Back to Apartments"})})]})})});const k=T=>{var M;const P=(M=T.target.files)==null?void 0:M[0];if(P){f(P);const O=new FileReader;O.onloadend=()=>{h(O.result)},O.readAsDataURL(P)}},D=()=>{f(null),h("")},I=()=>{const T={};return o.product.trim()||(T.product="Product name is required"),o.category||(T.category="Category is required"),o.vendor||(T.vendor="Vendor is required"),(!o.unit_price||parseFloat(o.unit_price)<=0)&&(T.unit_price="Valid unit price is required"),(!o.qty||o.qty<=0)&&(T.qty="Valid quantity is required"),d(T),Object.keys(T).length===0},W=async T=>{if(T.preventDefault(),!I()){r({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{if(u){const P=new FormData;P.append("category",o.category),P.append("product",o.product),P.append("vendor",o.vendor),P.append("unit_price",o.unit_price),P.append("qty",o.qty.toString()),P.append("availability",o.availability),P.append("status",o.status),P.append("payment_status",o.payment_status),P.append("paid_amount",o.paid_amount),P.append("currency",o.currency),P.append("issue_state",o.issue_state),P.append("image_file",u),console.log(" Sending FormData with image:"),console.log("  - Image file:",u),console.log("  - File name:",u.name),console.log("  - File size:",u.size),console.log("  - File type:",u.type);for(let M of P.entries())console.log(`  - ${M[0]}:`,M[1]);o.description&&P.append("description",o.description),o.vendor_link&&P.append("vendor_link",o.vendor_link),o.sku&&P.append("sku",o.sku),o.dimensions&&P.append("dimensions",o.dimensions),o.weight&&P.append("weight",o.weight),o.material&&P.append("material",o.material),o.color&&P.append("color",o.color),o.model_number&&P.append("model_number",o.model_number),o.brand&&P.append("brand",o.brand),o.country_of_origin&&P.append("country_of_origin",o.country_of_origin),o.sn&&P.append("sn",o.sn),o.cost&&P.append("cost",o.cost),o.total_cost&&P.append("total_cost",o.total_cost),o.shipping_cost&&P.append("shipping_cost",o.shipping_cost),o.discount&&P.append("discount",o.discount),o.room&&P.append("room",o.room),o.link&&P.append("link",o.link),o.size&&P.append("size",o.size),o.nm&&P.append("nm",o.nm),o.plusz_nm&&P.append("plusz_nm",o.plusz_nm),o.price_per_nm&&P.append("price_per_nm",o.price_per_nm),o.price_per_package&&P.append("price_per_package",o.price_per_package),o.nm_per_package&&P.append("nm_per_package",o.nm_per_package),o.all_package&&P.append("all_package",o.all_package),o.package_need_to_order&&P.append("package_need_to_order",o.package_need_to_order),o.all_price&&P.append("all_price",o.all_price),o.eta&&P.append("eta",o.eta),o.ordered_on&&P.append("ordered_on",o.ordered_on),o.payment_due_date&&P.append("payment_due_date",o.payment_due_date),o.payment_amount&&P.append("payment_amount",o.payment_amount),o.delivery_type&&P.append("delivery_type",o.delivery_type),o.delivery_status_tags&&P.append("delivery_status_tags",o.delivery_status_tags),o.delivery_address&&P.append("delivery_address",o.delivery_address),o.delivery_city&&P.append("delivery_city",o.delivery_city),o.delivery_postal_code&&P.append("delivery_postal_code",o.delivery_postal_code),o.delivery_country&&P.append("delivery_country",o.delivery_country),o.delivery_time_window&&P.append("delivery_time_window",o.delivery_time_window),o.delivery_instructions&&P.append("delivery_instructions",o.delivery_instructions),o.delivery_contact_person&&P.append("delivery_contact_person",o.delivery_contact_person),o.delivery_contact_phone&&P.append("delivery_contact_phone",o.delivery_contact_phone),o.delivery_contact_email&&P.append("delivery_contact_email",o.delivery_contact_email),o.delivery_notes&&P.append("delivery_notes",o.delivery_notes),o.tracking_number&&P.append("tracking_number",o.tracking_number),o.condition_on_arrival&&P.append("condition_on_arrival",o.condition_on_arrival),o.sender&&P.append("sender",o.sender),o.sender_address&&P.append("sender_address",o.sender_address),o.sender_phone&&P.append("sender_phone",o.sender_phone),o.recipient&&P.append("recipient",o.recipient),o.recipient_address&&P.append("recipient_address",o.recipient_address),o.recipient_phone&&P.append("recipient_phone",o.recipient_phone),o.recipient_email&&P.append("recipient_email",o.recipient_email),o.locker_provider&&P.append("locker_provider",o.locker_provider),o.locker_id&&P.append("locker_id",o.locker_id),o.pickup_provider&&P.append("pickup_provider",o.pickup_provider),o.pickup_location&&P.append("pickup_location",o.pickup_location),o.customs_description&&P.append("customs_description",o.customs_description),o.item_value&&P.append("item_value",o.item_value),o.hs_category&&P.append("hs_category",o.hs_category),o.insurance&&P.append("insurance",o.insurance),o.cod&&P.append("cod",o.cod),o.pickup_time&&P.append("pickup_time",o.pickup_time),o.delivery_deadline&&P.append("delivery_deadline",o.delivery_deadline),o.special_instructions&&P.append("special_instructions",o.special_instructions),o.issue_type&&P.append("issue_type",o.issue_type),o.issue_description&&P.append("issue_description",o.issue_description),P.append("replacement_requested",o.replacement_requested.toString()),P.append("replacement_approved",o.replacement_approved.toString()),o.replacement_eta&&P.append("replacement_eta",o.replacement_eta),o.replacement_of&&P.append("replacement_of",o.replacement_of),o.notes&&P.append("notes",o.notes),o.manual_notes&&P.append("manual_notes",o.manual_notes),o.ai_summary_notes&&P.append("ai_summary_notes",o.ai_summary_notes),await E.mutateAsync({id:e,data:P})}else{const P={category:o.category,product:o.product,description:o.description||void 0,vendor:o.vendor,vendor_link:o.vendor_link||void 0,sku:o.sku||void 0,dimensions:o.dimensions||void 0,weight:o.weight||void 0,material:o.material||void 0,color:o.color||void 0,model_number:o.model_number||void 0,brand:o.brand||void 0,country_of_origin:o.country_of_origin||void 0,sn:o.sn||void 0,unit_price:o.unit_price,qty:o.qty,shipping_cost:o.shipping_cost||void 0,discount:o.discount||void 0,currency:o.currency,availability:o.availability,status:o.status,room:o.room||void 0,link:o.link||void 0,size:o.size||void 0,nm:o.nm||void 0,price_per_nm:o.price_per_nm||void 0,price_per_package:o.price_per_package||void 0,nm_per_package:o.nm_per_package||void 0,eta:o.eta||null,ordered_on:o.ordered_on||null,payment_status:o.payment_status,payment_due_date:o.payment_due_date||null,payment_amount:o.payment_amount||null,paid_amount:o.paid_amount,delivery_type:o.delivery_type||void 0,delivery_status_tags:o.delivery_status_tags||void 0,delivery_address:o.delivery_address||void 0,delivery_city:o.delivery_city||void 0,delivery_postal_code:o.delivery_postal_code||void 0,delivery_country:o.delivery_country||void 0,delivery_time_window:o.delivery_time_window||void 0,delivery_instructions:o.delivery_instructions||void 0,delivery_contact_person:o.delivery_contact_person||void 0,delivery_contact_phone:o.delivery_contact_phone||void 0,delivery_contact_email:o.delivery_contact_email||void 0,delivery_notes:o.delivery_notes||void 0,tracking_number:o.tracking_number||void 0,condition_on_arrival:o.condition_on_arrival||void 0,delivery_deadline:o.delivery_deadline||void 0,special_instructions:o.special_instructions||void 0,replacement_of:o.replacement_of||void 0,notes:o.notes||void 0,manual_notes:o.manual_notes||void 0,ai_summary_notes:o.ai_summary_notes||void 0};await E.mutateAsync({id:e,data:P})}r({title:"Product Updated",description:"Product has been updated successfully."}),t(`/products/${e}`)}catch{}},H=o.unit_price&&o.qty?parseFloat(o.unit_price)*o.qty+(parseFloat(o.shipping_cost)||0)-(parseFloat(o.discount)||0):0,F=H-(parseFloat(o.paid_amount)||0);return n.jsx(ct,{title:"Edit Product",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ua,{children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(es,{href:"/apartments",children:"Apartments"})}),n.jsx(An,{}),n.jsx(rr,{children:n.jsx(es,{href:`/apartments/${i}`,children:"Apartment"})}),n.jsx(An,{}),n.jsx(rr,{children:n.jsx(es,{href:`/products/${e}`,children:s.product})}),n.jsx(An,{}),n.jsx(rr,{children:n.jsx(ji,{children:"Edit"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>t(`/products/${e}`),children:n.jsx(sr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"Edit Product"})]}),n.jsx("form",{onSubmit:W,children:n.jsx(X,{children:n.jsxs(Q,{children:[n.jsxs(Mo,{value:x,onValueChange:p,children:[n.jsxs(ro,{className:"grid w-full grid-cols-4 mt-6",children:[n.jsx(zt,{value:"basic",children:"Basic Info"}),n.jsx(zt,{value:"measurements",children:"Measurements"}),n.jsx(zt,{value:"pricing",children:"Pricing"}),n.jsx(zt,{value:"additional",children:"Additional"})]}),n.jsxs(Qt,{value:"basic",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Basic Product Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"product",children:"Product Name *"}),n.jsx(me,{id:"product",value:o.product,onChange:T=>l({...o,product:T.target.value}),placeholder:"Modern Sofa"}),c.product&&n.jsx("p",{className:"text-sm text-destructive",children:c.product})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"category",children:"Category *"}),n.jsx(Ew,{options:w.map(T=>({value:T.id,label:T.name})),value:o.category,onValueChange:T=>l({...o,category:T}),onCreate:async T=>{const P=await A.mutateAsync({name:T,apartment:i,sheet_name:T});return{id:P.id,name:P.name}},placeholder:"Select category",searchPlaceholder:"Search categories...",emptyText:"No categories found.",createText:"Create new category",isLoading:j}),c.category&&n.jsx("p",{className:"text-sm text-destructive",children:c.category})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"vendor",children:"Vendor *"}),n.jsx(Ew,{options:_.map(T=>({value:T.id,label:T.company_name||T.name})),value:o.vendor,onValueChange:T=>l({...o,vendor:T}),onNavigateToCreate:()=>{t("/vendors/new")},placeholder:"Select vendor",searchPlaceholder:"Search vendors...",emptyText:"No vendors found.",createText:"Create new vendor",isLoading:N}),c.vendor&&n.jsx("p",{className:"text-sm text-destructive",children:c.vendor})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"link",children:"Product Link (Optional)"}),n.jsx(me,{id:"link",type:"url",value:o.link,onChange:T=>l({...o,link:T.target.value}),placeholder:"https://example.com/product"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"sku",children:"SKU *"}),n.jsx(me,{id:"sku",value:o.sku,onChange:T=>l({...o,sku:T.target.value}),placeholder:"SOFA-001"}),c.sku&&n.jsx("p",{className:"text-sm text-destructive",children:c.sku})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"room",children:"Room (Optional)"}),n.jsx(me,{id:"room",value:o.room,onChange:T=>l({...o,room:T.target.value}),placeholder:"Living Room, Bedroom, etc."})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"imageFile",children:"Product Image"}),m?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"relative w-full h-48 border rounded-md overflow-hidden bg-muted",children:[n.jsx("img",{src:m,alt:"Product preview",className:"w-full h-full object-contain"}),n.jsx(ee,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:D,children:"Remove"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:u==null?void 0:u.name})]}):n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(me,{id:"imageFile",type:"file",accept:"image/*",onChange:k,className:"cursor-pointer"})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload a product image (JPG, PNG, GIF, etc.)"})]})}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"unitPrice",children:"Unit Price (HUF) *"}),n.jsx(me,{id:"unitPrice",type:"number",min:"0",step:"0.01",value:o.unit_price,onChange:T=>l({...o,unit_price:T.target.value}),placeholder:"150000"}),c.unitPrice&&n.jsx("p",{className:"text-sm text-destructive",children:c.unitPrice})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"qty",children:"Quantity *"}),n.jsx(me,{id:"qty",type:"number",min:"1",value:o.qty,onChange:T=>l({...o,qty:parseInt(T.target.value)||1}),placeholder:"1"}),c.qty&&n.jsx("p",{className:"text-sm text-destructive",children:c.qty})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"availability",children:"Availability *"}),n.jsxs(tt,{value:o.availability,onValueChange:T=>l({...o,availability:T}),children:[n.jsx(Je,{id:"availability",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"In Stock",children:"In Stock"}),n.jsx(J,{value:"Backorder",children:"Backorder"}),n.jsx(J,{value:"Out of Stock",children:"Out of Stock"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",children:"Product Status *"}),n.jsxs(tt,{value:o.status,onValueChange:T=>l({...o,status:T}),children:[n.jsx(Je,{id:"status",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"Design Approved",children:"Design Approved"}),n.jsx(J,{value:"Ready To Order",children:"Ready To Order"}),n.jsx(J,{value:"Ordered",children:"Ordered"}),n.jsx(J,{value:"Shipped",children:"Shipped"}),n.jsx(J,{value:"Delivered",children:"Delivered"}),n.jsx(J,{value:"Damaged",children:"Damaged"}),n.jsx(J,{value:"Wrong Item",children:"Wrong Item"}),n.jsx(J,{value:"Missing",children:"Missing"})]})]})]})]})]}),n.jsxs(Qt,{value:"measurements",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Product Specifications"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"dimensions",children:"Dimensions"}),n.jsx(me,{id:"dimensions",value:o.dimensions,onChange:T=>l({...o,dimensions:T.target.value}),placeholder:"120x80x45 cm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"weight",children:"Weight"}),n.jsx(me,{id:"weight",value:o.weight,onChange:T=>l({...o,weight:T.target.value}),placeholder:"25 kg"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"material",children:"Material"}),n.jsx(me,{id:"material",value:o.material,onChange:T=>l({...o,material:T.target.value}),placeholder:"Oak Wood"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"color",children:"Color"}),n.jsx(me,{id:"color",value:o.color,onChange:T=>l({...o,color:T.target.value}),placeholder:"Natural Oak"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"size",children:"Size"}),n.jsx(me,{id:"size",value:o.size,onChange:T=>l({...o,size:T.target.value}),placeholder:"Large"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"NM Measurements (for Flooring/Tiles)"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"nm",children:"NM"}),n.jsx(me,{id:"nm",type:"number",step:"0.01",value:o.nm,onChange:T=>l({...o,nm:T.target.value}),placeholder:"10.5"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"plusz_nm",children:"Plus NM"}),n.jsx(me,{id:"plusz_nm",type:"number",step:"0.01",value:o.plusz_nm,onChange:T=>l({...o,plusz_nm:T.target.value}),placeholder:"1.5"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"price_per_nm",children:"Price per NM"}),n.jsx(me,{id:"price_per_nm",type:"number",step:"0.01",value:o.price_per_nm,onChange:T=>l({...o,price_per_nm:T.target.value}),placeholder:"5000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"price_per_package",children:"Price per Package"}),n.jsx(me,{id:"price_per_package",type:"number",step:"0.01",value:o.price_per_package,onChange:T=>l({...o,price_per_package:T.target.value}),placeholder:"15000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"nm_per_package",children:"NM per Package"}),n.jsx(me,{id:"nm_per_package",type:"number",step:"0.01",value:o.nm_per_package,onChange:T=>l({...o,nm_per_package:T.target.value}),placeholder:"3"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"package_need_to_order",children:"Package Need to Order"}),n.jsx(me,{id:"package_need_to_order",type:"number",value:o.package_need_to_order,onChange:T=>l({...o,package_need_to_order:T.target.value}),placeholder:"8"})]})]})]})]}),n.jsxs(Qt,{value:"pricing",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Payment Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"total_amount",children:"Total Amount (HUF)"}),n.jsx("div",{className:"h-10 px-3 py-2 rounded-md border border-input bg-muted flex items-center",children:n.jsx("span",{className:"font-semibold text-lg",children:H.toLocaleString()})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: (Unit Price  Qty) + Shipping - Discount"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"shipping_cost",children:"Shipping Cost (Optional)"}),n.jsx(me,{id:"shipping_cost",type:"number",min:"0",step:"0.01",value:o.shipping_cost,onChange:T=>l({...o,shipping_cost:T.target.value}),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"discount",children:"Discount (Optional)"}),n.jsx(me,{id:"discount",type:"number",min:"0",step:"0.01",value:o.discount,onChange:T=>l({...o,discount:T.target.value}),placeholder:"0"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paid_amount",children:"Paid Amount"}),n.jsx(me,{id:"paid_amount",type:"number",min:"0",step:"0.01",value:o.paid_amount,onChange:T=>l({...o,paid_amount:T.target.value}),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Outstanding Balance"}),n.jsx("div",{className:`h-10 px-3 py-2 rounded-md border flex items-center ${F>0?"bg-red-50 border-red-200 text-red-700":"bg-green-50 border-green-200 text-green-700"}`,children:n.jsxs("span",{className:"font-semibold text-lg",children:[F.toLocaleString()," HUF"]})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: Total Amount - Paid Amount"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paymentStatus",children:"Payment Status *"}),n.jsxs(tt,{value:o.payment_status,onValueChange:T=>l({...o,payment_status:T}),children:[n.jsx(Je,{id:"paymentStatus",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"Unpaid",children:"Unpaid"}),n.jsx(J,{value:"Partially Paid",children:"Partially Paid"}),n.jsx(J,{value:"Paid",children:"Paid"}),n.jsx(J,{value:"Overdue",children:"Overdue"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"currency",children:"Currency"}),n.jsxs(tt,{value:o.currency,onValueChange:T=>l({...o,currency:T}),children:[n.jsx(Je,{id:"currency",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"HUF",children:"HUF (Hungarian Forint)"}),n.jsx(J,{value:"EUR",children:"EUR (Euro)"}),n.jsx(J,{value:"USD",children:"USD (US Dollar)"})]})]})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paymentDueDate",children:"Payment Due Date *"}),n.jsx(me,{id:"paymentDueDate",type:"date",value:o.payment_due_date,onChange:T=>l({...o,payment_due_date:T.target.value})})]})})]}),n.jsxs(Qt,{value:"additional",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Additional Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"brand",children:"Brand"}),n.jsx(me,{id:"brand",value:o.brand,onChange:T=>l({...o,brand:T.target.value}),placeholder:"e.g., IKEA, Samsung, etc."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"country_of_origin",children:"Country of Origin"}),n.jsx(me,{id:"country_of_origin",value:o.country_of_origin,onChange:T=>l({...o,country_of_origin:T.target.value}),placeholder:"e.g., Hungary, China, Germany"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"condition_on_arrival",children:"Condition on Arrival"}),n.jsx(me,{id:"condition_on_arrival",value:o.condition_on_arrival,onChange:T=>l({...o,condition_on_arrival:T.target.value}),placeholder:"Good, Damaged, Needs Inspection, etc."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-semibold",children:"Notes & Documentation"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"General Notes"}),n.jsx(ha,{id:"notes",value:o.notes,onChange:T=>l({...o,notes:T.target.value}),placeholder:"General notes about this product...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"manual_notes",children:"Manual Notes"}),n.jsx(ha,{id:"manual_notes",value:o.manual_notes,onChange:T=>l({...o,manual_notes:T.target.value}),placeholder:"Manual notes added by staff...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"ai_summary_notes",children:"AI Summary Notes"}),n.jsx(ha,{id:"ai_summary_notes",value:o.ai_summary_notes,onChange:T=>l({...o,ai_summary_notes:T.target.value}),placeholder:"AI-generated summary and insights...",rows:3}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"AI-generated summaries and recommendations"})]})]})]})]}),n.jsxs("div",{className:"flex gap-4 justify-between mt-6 border-t pt-6",children:[n.jsx("div",{children:x!=="basic"&&n.jsx(ee,{type:"button",variant:"outline",onClick:T=>{T.preventDefault(),T.stopPropagation();const P=["basic","measurements","pricing","additional"],M=P.indexOf(x);M>0&&p(P[M-1])},children:" Previous"})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:T=>{T.preventDefault(),T.stopPropagation(),t(`/products/${e}`)},children:"Cancel"}),x!=="additional"?n.jsx(ee,{type:"button",onClick:T=>{T.preventDefault(),T.stopPropagation();const P=["basic","measurements","pricing","additional"],M=P.indexOf(x);M<P.length-1&&p(P[M+1])},children:"Next "}):n.jsxs(ee,{type:"submit",disabled:E.isPending,children:[E.isPending&&n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),E.isPending?"Saving...":"Save Changes"]})]})]})]})})})]})})},TUe=Bp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Xd=v.forwardRef(({className:e,variant:t,...r},s)=>n.jsx("div",{ref:s,role:"alert",className:ve(TUe({variant:t}),e),...r}));Xd.displayName="Alert";const OUe=v.forwardRef(({className:e,...t},r)=>n.jsx("h5",{ref:r,className:ve("mb-1 font-medium leading-none tracking-tight",e),...t}));OUe.displayName="AlertTitle";const Qd=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ve("text-sm [&_p]:leading-relaxed",e),...t}));Qd.displayName="AlertDescription";const DUe=()=>{const e=mr(),[t]=kN(),r=t.get("apartmentId"),{toast:s}=gr(),[a,i]=v.useState(null),[o,l]=v.useState(!1),[c,d]=v.useState(0),[u,f]=v.useState(null),[m,h]=v.useState(""),[x,p]=v.useState(""),{data:g,isLoading:j}=vm(),y=(g==null?void 0:g.results)||[],w=_=>_<1024?_+" B":_<1024*1024?(_/1024).toFixed(2)+" KB":(_/(1024*1024)).toFixed(2)+" MB",b=_=>{var A;const E=(A=_.target.files)==null?void 0:A[0];if(E){if(!E.name.match(/\.(xlsx|xls|csv)$/i)){Ue.error("Please select a valid Excel or CSV file");return}if(E.size>50*1024*1024){Ue.error("File too large. Maximum size is 50MB");return}i(E),h(w(E.size)),f(null)}},N=async()=>{var _,E;if(!a||!r){Ue.error("Please select a file");return}l(!0),d(0);try{const A=setInterval(()=>{d(D=>D>=90?(clearInterval(A),90):D+10)},200);console.log(" DEBUG: Sending import request with:",{file:a.name,apartmentId:r,selectedVendorId:x||"none"});const k=await Xi.importProducts(a,r,x||"");clearInterval(A),d(100),f(k),s({title:"Import Successful!",description:n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-semibold",children:k.message}),n.jsxs("p",{className:"text-sm",children:["Total products: ",k.total_products]}),n.jsxs("p",{className:"text-sm",children:["Successfully imported: ",k.successful_imports]}),k.failed_imports>0&&n.jsxs("p",{className:"text-sm text-yellow-600",children:["Failed: ",k.failed_imports]})]})}),setTimeout(()=>{e(`/apartments/${r}`)},2e3)}catch(A){console.error("Import error:",A),s({title:"Import Failed",description:((E=(_=A.response)==null?void 0:_.data)==null?void 0:E.message)||A.message||"Failed to import products. Please try again.",variant:"destructive"}),d(0)}finally{l(!1)}},S=async()=>{try{const _=await Xi.downloadImportTemplate(),E=window.URL.createObjectURL(_),A=document.createElement("a");A.href=E,A.download="apartment-template.xlsx",document.body.appendChild(A),A.click(),window.URL.revokeObjectURL(E),document.body.removeChild(A),Ue.success("Template downloaded successfully")}catch{Ue.error("Failed to download template")}};return n.jsx(ct,{title:"Import Products",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ee,{variant:"ghost",onClick:()=>e(-1),disabled:o,children:[n.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back"]}),n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{className:"text-xl",children:"Select Vendor (Optional)"}),n.jsx(Dr,{className:"mt-1",children:"Optionally choose a vendor to assign to all imported products"})]}),n.jsx(Q,{children:n.jsxs(tt,{value:x,onValueChange:p,disabled:o,children:[n.jsx(Je,{className:"w-full",children:n.jsx(rt,{placeholder:"Select a vendor"})}),n.jsx(et,{children:j?n.jsx(J,{value:"loading",disabled:!0,children:"Loading vendors..."}):y.length===0?n.jsx(J,{value:"no-vendors",disabled:!0,children:"No vendors available"}):y.map(_=>n.jsx(J,{value:_.id,children:_.name},_.id))})]})})]}),n.jsxs(X,{className:"border-2 border-dashed",children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Upload File"}),n.jsx(Dr,{className:"mt-1",children:"Select an Excel (.xlsx, .xls) or CSV file (max 50MB)"})]}),a&&m&&n.jsx(_e,{variant:"secondary",className:"text-sm",children:m})]})}),n.jsx(Q,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:b,className:"hidden",disabled:o}),n.jsx(ee,{variant:"outline",asChild:!0,disabled:o,className:"relative overflow-hidden",children:n.jsx("span",{children:o?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Gi,{className:"mr-2 h-4 w-4"}),"Choose File"]})})})]}),a&&!o&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ek,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium",children:a.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:m})]})]})]}),o&&c>0&&n.jsxs("div",{className:"space-y-2 p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"font-medium",children:"Uploading and processing..."}),n.jsxs("span",{className:"text-muted-foreground",children:[c.toFixed(0),"%"]})]}),n.jsx(K2,{value:c,className:"h-2"})]}),n.jsx("div",{className:"flex justify-start",children:n.jsxs(ee,{variant:"outline",size:"sm",onClick:S,disabled:o,children:[n.jsx(Rv,{className:"mr-2 h-4 w-4"}),"Download Template"]})})]})})]}),u&&n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Import Results"}),n.jsx(Dr,{children:"Summary of the import operation"})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs(Xd,{children:[n.jsx(Ur,{className:"h-4 w-4 text-success"}),n.jsxs(Qd,{children:[n.jsx("div",{className:"font-semibold",children:"Total Products"}),n.jsx("div",{className:"text-2xl",children:u.total_products})]})]}),n.jsxs(Xd,{children:[n.jsx(Ur,{className:"h-4 w-4 text-success"}),n.jsxs(Qd,{children:[n.jsx("div",{className:"font-semibold",children:"Successfully Imported"}),n.jsx("div",{className:"text-2xl text-green-600",children:u.successful_imports})]})]}),u.failed_imports>0&&n.jsxs(Xd,{variant:"destructive",children:[n.jsx(At,{className:"h-4 w-4"}),n.jsxs(Qd,{children:[n.jsx("div",{className:"font-semibold",children:"Failed"}),n.jsx("div",{className:"text-2xl",children:u.failed_imports})]})]})]}),u.errors&&u.errors.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Errors:"}),n.jsx("div",{className:"space-y-1",children:u.errors.map((_,E)=>n.jsx("div",{className:"text-sm text-destructive bg-destructive/10 p-2 rounded",children:_},E))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(ee,{onClick:()=>e(`/apartments/${r}`),children:[n.jsx(Ur,{className:"mr-2 h-4 w-4"}),"View Products"]})})]})]}),a&&!u&&n.jsx(X,{children:n.jsx(Q,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(ee,{variant:"outline",onClick:()=>{i(null),h("")},disabled:o,children:"Clear"}),n.jsx(ee,{onClick:N,disabled:!a||o,className:"min-w-[200px]",children:o?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Gi,{className:"mr-2 h-4 w-4"}),"Import Products"]})})]})})})]})})},IUe=({open:e,onOpenChange:t,order:r})=>{const{toast:s}=gr(),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),m=x=>{if(x.preventDefault(),!a){s({title:"Validation Error",description:"Please enter a tracking number",variant:"destructive"});return}s({title:"Tracking Updated",description:`Delivery tracking updated for ${r==null?void 0:r.po_number}`}),t(!1)};if(!r)return null;const h=[{date:"2025-11-06 16:45",status:"Out for Delivery",location:"Local Hub - Budapest",description:"Package is out for delivery and will arrive today",active:!0},{date:"2025-11-06 09:15",status:"In Transit",location:"Distribution Center",description:"Package is on the way to delivery location",active:!1},{date:"2025-11-05 14:30",status:"Package Dispatched",location:"Warehouse - Budapest",description:"Package has been dispatched from warehouse",active:!1}];return n.jsx(vn,{open:e,onOpenChange:t,children:n.jsxs(on,{className:"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsx(yn,{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg",children:n.jsx(_r,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsx(jn,{className:"text-lg font-bold",children:"Delivery Tracking"}),n.jsxs(Cs,{className:"text-sm",children:["Track delivery for ",r.po_number]})]})]})}),n.jsx(Lt,{}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:n.jsxs("div",{className:"space-y-4 p-1",children:[n.jsx(X,{className:"border bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-950/20 dark:to-cyan-950/20",children:n.jsxs(Q,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-blue-600/10 rounded",children:n.jsx(ot,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Status"}),n.jsx("p",{className:"text-sm font-bold",children:r.status})]})]}),n.jsx(_e,{className:"bg-blue-600 text-white text-xs px-2 py-1",children:r.tracking||"No Tracking"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-blue-200 dark:border-blue-800",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(va,{className:"h-3.5 w-3.5 text-blue-600 dark:text-blue-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"To"}),n.jsx("p",{className:"text-sm font-medium",children:r.apartment})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Cse,{className:"h-3.5 w-3.5 text-blue-600 dark:text-blue-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"From"}),n.jsx("p",{className:"text-sm font-medium",children:r.vendor})]})]})]})]})}),r.tracking&&n.jsx(X,{className:"border",children:n.jsxs(Q,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 mb-3 border-b",children:[n.jsx("div",{className:"p-1 bg-primary/10 rounded",children:n.jsx(wr,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Tracking History"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery updates"})]})]}),n.jsx("div",{className:"space-y-4",children:h.map((x,p)=>n.jsxs("div",{className:"flex gap-3 relative",children:[p!==h.length-1&&n.jsx("div",{className:"absolute left-3.5 top-8 bottom-0 w-0.5 bg-gradient-to-b from-primary to-muted"}),n.jsx("div",{className:"relative flex-shrink-0",children:n.jsx("div",{className:`w-7 h-7 rounded-full border-2 border-background flex items-center justify-center ${x.active?"bg-primary shadow-md":"bg-muted"}`,children:x.active?n.jsx(_r,{className:"h-3.5 w-3.5 text-primary-foreground"}):n.jsx(or,{className:"h-3.5 w-3.5 text-muted-foreground"})})}),n.jsxs("div",{className:`flex-1 pb-2 ${x.active?"pt-0.5":""}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsx("p",{className:`font-semibold text-sm ${x.active?"text-primary":""}`,children:x.status}),n.jsx(_e,{variant:"outline",className:"text-xs",children:x.date})]}),n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(va,{className:"h-3 w-3"}),x.location]})]})]},p))})]})}),n.jsx(X,{className:"border",children:n.jsxs(Q,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 mb-3 border-b",children:[n.jsx("div",{className:"p-1 bg-primary/10 rounded",children:n.jsx(ot,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Update Tracking"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Modify delivery details"})]})]}),n.jsxs("form",{onSubmit:m,className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(q,{htmlFor:"tracking",className:"flex items-center gap-1.5 text-xs font-medium",children:[n.jsx(ot,{className:"h-3 w-3 text-primary"}),"Tracking Number *"]}),n.jsx(me,{id:"tracking",placeholder:"TRK-99234",value:a,onChange:x=>i(x.target.value),defaultValue:r.tracking,className:"h-9 text-sm"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(q,{htmlFor:"estimated",className:"flex items-center gap-1.5 text-xs font-medium",children:[n.jsx(Qr,{className:"h-3 w-3 text-primary"}),"Delivery Date"]}),n.jsx(me,{id:"estimated",type:"date",value:o,onChange:x=>l(x.target.value),className:"h-9 text-sm"})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(q,{htmlFor:"person",className:"flex items-center gap-1.5 text-xs font-medium",children:[n.jsx(os,{className:"h-3 w-3 text-primary"}),"Courier / Person"]}),n.jsx(me,{id:"person",placeholder:"Delivery person or courier service",value:c,onChange:x=>d(x.target.value),className:"h-9 text-sm"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(q,{htmlFor:"notes",className:"text-xs font-medium",children:"Notes"}),n.jsx(pn,{id:"notes",placeholder:"Special instructions or notes...",value:u,onChange:x=>f(x.target.value),rows:3,className:"resize-none text-sm"})]}),n.jsx(Lt,{className:"my-3"}),n.jsxs(qa,{className:"gap-2",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>t(!1),size:"sm",children:"Cancel"}),n.jsxs(ee,{type:"submit",className:"gap-1.5",size:"sm",children:[n.jsx(or,{className:"h-3.5 w-3.5"}),"Update"]})]})]})]})})]})})]})})},H$={draft:"sent",sent:"sent",Draft:"sent",Sent:"sent"},q$={draft:"Draft",sent:"Sent"},RUe=({open:e,onOpenChange:t,order:r,onStatusUpdate:s})=>{const{toast:a}=gr(),[i,o]=v.useState("");if(!r)return null;const l=r.status.toLowerCase(),c=H$[r.status]||H$[l],d=l==="sent",u=q$[l]||r.status,f=q$[c]||c,m=x=>{if(x.preventDefault(),d){a({title:"Already Sent",description:"This order has already been sent to vendor. Track fulfillment in Deliveries page.",variant:"default"});return}s(r.id,c),a({title:"Status Updated",description:`Order ${r.po_number} status changed to ${f}`}),o(""),t(!1)},h=x=>{const p=x.toLowerCase();return{draft:"bg-gray-500/10 text-gray-500",sent:"bg-blue-500/10 text-blue-500"}[p]||"bg-gray-500/10 text-gray-500"};return n.jsx(vn,{open:e,onOpenChange:t,children:n.jsxs(on,{className:"max-w-md",children:[n.jsxs(yn,{children:[n.jsxs(jn,{className:"flex items-center gap-2",children:[n.jsx(or,{className:"h-5 w-5"}),"Update Order Status"]}),n.jsxs(Cs,{children:["Change the status of order ",r.po_number]})]}),n.jsxs("form",{onSubmit:m,className:"space-y-4",children:[n.jsx("div",{className:"bg-muted p-4 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-center gap-4",children:[n.jsx(_e,{className:h(r.status),children:u}),n.jsx(Lb,{className:"h-5 w-5 text-muted-foreground"}),n.jsx(_e,{className:h(c),children:f})]})}),d?n.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4 text-center",children:[n.jsx(or,{className:"h-12 w-12 text-blue-500 mx-auto mb-2"}),n.jsx("p",{className:"text-sm font-medium",children:"Order Already Sent"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Track fulfillment in the Deliveries page"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsx("p",{className:"font-medium",children:"What happens next?"}),n.jsx("ul",{className:"space-y-1 text-muted-foreground ml-4 list-disc text-xs",children:c==="sent"&&n.jsxs(n.Fragment,{children:[n.jsx("li",{children:"Order will be marked as sent to vendor"}),n.jsx("li",{children:"Create a delivery record to track fulfillment"}),n.jsx("li",{children:"Vendor will confirm and ship items"})]})})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(q,{htmlFor:"notes",className:"text-sm",children:"Notes (Optional)"}),n.jsx(pn,{id:"notes",placeholder:"Add any notes about this status change...",value:i,onChange:x=>o(x.target.value),rows:3,className:"text-sm"})]})]}),n.jsxs(qa,{children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>t(!1),size:"sm",children:"Cancel"}),!d&&n.jsxs(ee,{type:"submit",size:"sm",children:["Update to ",f]})]})]})]})})},EQ=e=>{const[t,r]=v.useState([]),[s,a]=v.useState(!0),[i,o]=v.useState(null),[l,c]=v.useState(0),[d,u]=v.useState(null),[f,m]=v.useState(null),h=v.useCallback(async()=>{try{a(!0),o(null);const w=await ys.getOrders(e);r(w.results),c(w.count),u(w.next),m(w.previous)}catch(w){o(w.message||"Failed to fetch orders"),Ue.error("Failed to fetch orders")}finally{a(!1)}},[e==null?void 0:e.search,e==null?void 0:e.status,e==null?void 0:e.vendor,e==null?void 0:e.apartment,e==null?void 0:e.ordering,e==null?void 0:e.page]);return v.useEffect(()=>{h()},[h]),{orders:t,loading:s,error:i,totalCount:l,nextPage:d,previousPage:f,refetch:h,createOrder:async w=>{var b,N;try{const S=await ys.createOrder(w);return r(_=>[S,..._]),Ue.success("Order created successfully"),S}catch(S){throw Ue.error(((N=(b=S.response)==null?void 0:b.data)==null?void 0:N.message)||"Failed to create order"),S}},updateOrder:async(w,b)=>{var N,S;try{const _=await ys.updateOrder(w,b);return r(E=>E.map(A=>A.id===w?_:A)),Ue.success("Order updated successfully"),_}catch(_){throw Ue.error(((S=(N=_.response)==null?void 0:N.data)==null?void 0:S.message)||"Failed to update order"),_}},deleteOrder:async w=>{var b,N;try{await ys.deleteOrder(w),r(S=>S.filter(_=>_.id!==w)),Ue.success("Order deleted successfully")}catch(S){throw Ue.error(((N=(b=S.response)==null?void 0:b.data)==null?void 0:N.message)||"Failed to delete order"),S}},updateStatus:async(w,b)=>{var N,S;try{const _=await ys.updateStatus(w,b);return r(E=>E.map(A=>A.id===w?_:A)),Ue.success(`Order status updated to ${b}`),_}catch(_){throw Ue.error(((S=(N=_.response)==null?void 0:N.data)==null?void 0:S.message)||"Failed to update order status"),_}},markDelivered:async(w,b)=>{var N,S;try{const _=await ys.markDelivered(w,b);return r(E=>E.map(A=>A.id===w?_:A)),Ue.success("Order marked as delivered"),_}catch(_){throw Ue.error(((S=(N=_.response)==null?void 0:N.data)==null?void 0:S.message)||"Failed to mark order as delivered"),_}}}},AQ=e=>{const[t,r]=v.useState(null),[s,a]=v.useState(!0),[i,o]=v.useState(null);return v.useEffect(()=>{e&&(async()=>{try{a(!0),o(null);const d=await ys.getOrder(e);r(d)}catch(d){o(d.message||"Failed to fetch order"),Ue.error("Failed to fetch order details")}finally{a(!1)}})()},[e]),{order:t,loading:s,error:i,updateOrder:async c=>{var d,u;try{const f=await ys.updateOrder(e,c);return r(f),Ue.success("Order updated successfully"),f}catch(f){throw Ue.error(((u=(d=f.response)==null?void 0:d.data)==null?void 0:u.message)||"Failed to update order"),f}}}},MUe=()=>{const[e,t]=v.useState(null),[r,s]=v.useState(!0),[a,i]=v.useState(null);return v.useEffect(()=>{(async()=>{try{s(!0),i(null);const l=await ys.getStatistics();t(l)}catch(l){i(l.message||"Failed to fetch statistics"),console.error("Failed to fetch order statistics:",l)}finally{s(!1)}})()},[]),{statistics:e,loading:r,error:a}},FUe=()=>{const[e,t]=v.useState(null),[r,s]=v.useState(!0),[a,i]=v.useState(null);return v.useEffect(()=>{(async()=>{try{s(!0),i(null);const l=await ys.getDashboardCharts();t(l)}catch(l){i(l.message||"Failed to fetch chart data"),console.error("Failed to fetch order chart data:",l)}finally{s(!1)}})()},[]),{chartData:e,loading:r,error:a}};function $Ue(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{iconBg:"bg-primary/10"},{iconBg:"bg-primary/10"},{iconBg:"bg-primary/10"},{iconBg:"bg-primary/10"}].map((e,t)=>n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-8 w-16"}),n.jsx(C,{className:"h-3 w-20"})]}),n.jsx("div",{className:`h-12 w-12 rounded-full ${e.iconBg} flex items-center justify-center`,children:n.jsx(C,{className:"h-6 w-6 rounded"})})]})})},t))})}function LUe(){return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(C,{className:"h-6 w-40"})}),n.jsx(Q,{children:n.jsx("div",{className:"h-[280px] p-4",children:n.jsx("div",{className:"flex items-end justify-between h-full gap-2",children:[...Array(6)].map((e,t)=>n.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center gap-2",children:[n.jsx(C,{className:"w-full rounded-t-lg",style:{height:`${Math.random()*60+40}%`}}),n.jsx(C,{className:"h-3 w-12"})]},t))})})})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(C,{className:"h-6 w-48"})}),n.jsx(Q,{children:n.jsx("div",{className:"h-[280px] p-4",children:n.jsx("div",{className:"h-full flex flex-col justify-between",children:[...Array(5)].map((e,t)=>n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-2 w-12"}),n.jsx(C,{className:"h-2 rounded-full",style:{width:`${Math.random()*60+20}%`}})]},t))})})})]})]})}function BUe(){return n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx(C,{className:"h-10 flex-1 rounded-md"}),n.jsx(C,{className:"h-10 w-[180px] rounded-md"}),n.jsx(C,{className:"h-10 w-[180px] rounded-md"}),n.jsx(C,{className:"h-10 w-36 rounded-md"}),n.jsx(C,{className:"h-10 w-36 rounded-md"})]})}function UUe(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-6 w-32"}),n.jsx(C,{className:"h-9 w-20 rounded-md"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["PO Number","Apartment","Vendor","Items","Total","Confirmation","Tracking","Status","Placed On","Actions"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(8)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-16"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx(C,{className:"h-8 w-8 rounded ml-auto"})})]},t))})]})})})]})}function VUe(){return n.jsxs("div",{className:"space-y-6",children:[n.jsx($Ue,{}),n.jsx(LUe,{}),n.jsx(BUe,{}),n.jsx(UUe,{})]})}const zUe=()=>{var R;const e=mr(),{toast:t}=gr(),[r,s]=v.useState(""),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(!1),[u,f]=v.useState(!1),[m,h]=v.useState(!1),[x,p]=v.useState(null),[g,j]=v.useState(!1),{orders:y,loading:w,error:b,totalCount:N,updateStatus:S,markDelivered:_,deleteOrder:E,refetch:A}=EQ({search:r,status:a||void 0,vendor:o||void 0}),{statistics:k,loading:D}=MUe(),{chartData:I,loading:W}=FUe(),H=v.useMemo(()=>{const V=new Set;return y.forEach(L=>{L.vendor_name&&V.add(L.vendor_name)}),Array.from(V)},[y]),F=async(V,L)=>{try{await S(String(V),L),f(!1),p(null)}catch(G){console.error("Failed to update status:",G)}},T=async()=>{if(x)try{j(!0),await E(x.id),h(!1),p(null)}catch(V){console.error("Failed to delete order:",V)}finally{j(!1)}},P=V=>{const L=V.toLowerCase();return{draft:"bg-gray-500/10 text-gray-500",sent:"bg-blue-500/10 text-blue-500"}[L]||"bg-gray-500/10 text-gray-500"},M=(k==null?void 0:k.total_value)||y.reduce((V,L)=>V+Number(L.total),0),O=(k==null?void 0:k.average_order_value)||(y.length>0?M/y.length:0),K=(I==null?void 0:I.vendor_spending)||[],ne=((R=I==null?void 0:I.monthly_orders)==null?void 0:R.map(V=>({month:V.month,orders:V.orders,spending:V.value})))||[];return w?n.jsx(ct,{title:"Orders Management",children:n.jsx(VUe,{})}):n.jsxs(ct,{title:"Orders Management",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),n.jsx("p",{className:"text-2xl font-bold",children:N||y.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]}),n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(ot,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Spending"}),n.jsxs("p",{className:"text-2xl font-bold",children:["",M.toLocaleString()]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg: ",O.toFixed(0)]})]}),n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Nr,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold",children:(k==null?void 0:k.pending_orders)||y.filter(V=>V.status.toLowerCase()==="sent").length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Sent to vendor"})]}),n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(wr,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Received"}),n.jsx("p",{className:"text-2xl font-bold",children:(k==null?void 0:k.delivered_orders)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivered orders"})]}),n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(_r,{className:"h-6 w-6 text-primary"})})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{children:"Spending by Vendor"})}),n.jsx(Q,{children:W?n.jsx("div",{className:"h-[280px] p-4 space-y-4",children:n.jsx("div",{className:"flex items-end justify-between h-full gap-2",children:[...Array(6)].map((V,L)=>n.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center gap-2",children:[n.jsx(C,{className:"w-full rounded-t-lg",style:{height:`${Math.random()*60+40}%`}}),n.jsx(C,{className:"h-3 w-12"})]},L))})}):K.length===0?n.jsxs("div",{className:"h-[280px] flex flex-col items-center justify-center text-center space-y-3",children:[n.jsx(Nr,{className:"h-10 w-10 text-muted-foreground/50"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"No vendor data available"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Create orders to see analytics"})]}),n.jsxs(ee,{onClick:()=>e("/orders/new"),size:"sm",variant:"outline",children:[n.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}):n.jsx(av,{config:{amount:{label:"Amount ()",color:"hsl(var(--primary))"}},className:"h-[280px]",children:n.jsxs(Sa,{data:K,children:[n.jsx(zn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(rn,{dataKey:"vendor",className:"text-xs"}),n.jsx(nn,{className:"text-xs"}),n.jsx(hr,{content:n.jsx(iv,{})}),n.jsx(Sn,{dataKey:"amount",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{children:"Monthly Order Trends"})}),n.jsx(Q,{children:W?n.jsx("div",{className:"h-[280px] p-4",children:n.jsx("div",{className:"h-full flex flex-col justify-between",children:[...Array(5)].map((V,L)=>n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-2 w-12"}),n.jsx(C,{className:"h-2 rounded-full",style:{width:`${Math.random()*60+20}%`}})]},L))})}):ne.length===0?n.jsxs("div",{className:"h-[280px] flex flex-col items-center justify-center text-center space-y-3",children:[n.jsx(li,{className:"h-10 w-10 text-muted-foreground/50"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"No trend data available"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Create orders to see trends"})]}),n.jsxs(ee,{onClick:()=>e("/orders/new"),size:"sm",variant:"outline",children:[n.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}):n.jsx(av,{config:{orders:{label:"Orders",color:"hsl(var(--primary))"},spending:{label:"Spending ()",color:"hsl(var(--chart-2))"}},className:"h-[280px]",children:n.jsxs(V2,{data:ne,children:[n.jsx(zn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(rn,{dataKey:"month",className:"text-xs"}),n.jsx(nn,{className:"text-xs"}),n.jsx(hr,{content:n.jsx(iv,{})}),n.jsx(ol,{}),n.jsx(sc,{type:"monotone",dataKey:"orders",stroke:"hsl(var(--primary))",strokeWidth:2}),n.jsx(sc,{type:"monotone",dataKey:"spending",stroke:"hsl(var(--chart-2))",strokeWidth:2})]})})})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search by PO number, apartment, or vendor...",value:r,onChange:V=>s(V.target.value),className:"pl-9"})]}),n.jsxs(tt,{value:a,onValueChange:i,children:[n.jsx(Je,{className:"w-[180px]",children:n.jsx(rt,{placeholder:"Filter by status"})}),n.jsxs(et,{children:[n.jsx(J,{value:"all",children:"All Statuses"}),n.jsx(J,{value:"draft",children:"Draft"}),n.jsx(J,{value:"sent",children:"Sent"})]})]}),n.jsxs(tt,{value:o,onValueChange:l,children:[n.jsx(Je,{className:"w-[180px]",children:n.jsx(rt,{placeholder:"Filter by vendor"})}),n.jsxs(et,{children:[n.jsx(J,{value:"all",children:"All Vendors"}),H.map(V=>n.jsx(J,{value:V,children:V},V))]})]}),n.jsxs(ee,{onClick:()=>e("/orders/import"),variant:"outline",children:[n.jsx(Gi,{className:"h-4 w-4 mr-2"}),"Import Orders"]}),n.jsxs(ee,{onClick:()=>e("/orders/new"),children:[n.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ve,{children:["All Orders (",y.length,")"]}),n.jsxs(ee,{variant:"outline",size:"sm",children:[n.jsx($5,{className:"h-4 w-4 mr-2"}),"Sort"]})]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Vt,{children:[n.jsx(Pe,{children:"PO Number"}),n.jsx(Pe,{children:"Apartment"}),n.jsx(Pe,{children:"Vendor"}),n.jsx(Pe,{children:"Items"}),n.jsx(Pe,{children:"Total"}),n.jsx(Pe,{children:"Confirmation"}),n.jsx(Pe,{children:"Tracking"}),n.jsx(Pe,{children:"Status"}),n.jsx(Pe,{children:"Placed On"}),n.jsx(Pe,{className:"text-right",children:"Actions"})]})}),n.jsx($s,{children:y.length===0?n.jsx(Vt,{children:n.jsx(Ne,{colSpan:10,className:"text-center py-8 text-muted-foreground",children:"No orders found"})}):y.map(V=>n.jsxs(Vt,{children:[n.jsx(Ne,{className:"font-medium",children:V.po_number}),n.jsx(Ne,{children:V.apartment_name||"N/A"}),n.jsx(Ne,{children:V.vendor_name||"N/A"}),n.jsxs(Ne,{children:[V.items_count," items"]}),n.jsxs(Ne,{children:["",Number(V.total).toLocaleString()]}),n.jsx(Ne,{children:V.confirmation_code?n.jsx("span",{className:"text-xs font-mono",children:V.confirmation_code}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(Ne,{children:V.tracking_number?n.jsx("span",{className:"text-xs font-mono",children:V.tracking_number}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(Ne,{children:n.jsx(_e,{className:P(V.status),children:V.status})}),n.jsx(Ne,{children:Xt(new Date(V.placed_on),"yyyy-MM-dd")}),n.jsx(Ne,{className:"text-right",children:n.jsxs(ey,{children:[n.jsx(ty,{asChild:!0,children:n.jsxs(ee,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-muted",children:[n.jsx("span",{className:"sr-only",children:"Open menu"}),n.jsx(m7,{className:"h-4 w-4"})]})}),n.jsxs(Qp,{align:"end",className:"w-56",children:[n.jsx(hE,{className:"font-semibold text-xs text-muted-foreground uppercase tracking-wide",children:"Order Actions"}),n.jsx($c,{}),n.jsxs(Mn,{onClick:()=>e(`/orders/${V.id}`),className:"cursor-pointer py-2.5",children:[n.jsx(oi,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"View Details"})]}),n.jsxs(Mn,{onClick:()=>e(`/orders/${V.id}/edit`),className:"cursor-pointer py-2.5",children:[n.jsx(Qs,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"Edit Order"})]}),n.jsxs(Mn,{onClick:()=>{navigator.clipboard.writeText(V.po_number),t({title:"Copied to clipboard",description:`PO Number ${V.po_number} has been copied.`})},className:"cursor-pointer py-2.5",children:[n.jsx(pse,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"Copy PO Number"})]}),n.jsx($c,{}),n.jsx(hE,{className:"font-semibold text-xs text-muted-foreground uppercase tracking-wide",children:"Status & Delivery"}),n.jsxs(Mn,{onClick:()=>{p(V),f(!0)},className:"cursor-pointer py-2.5",children:[n.jsx($5,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"Update Status"})]}),n.jsxs(Mn,{onClick:()=>{p(V),d(!0)},className:"cursor-pointer py-2.5",children:[n.jsx(_r,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"Delivery Tracking"})]}),V.status.toLowerCase()==="draft"&&n.jsxs(Mn,{onClick:()=>S(String(V.id),"sent"),className:"cursor-pointer py-2.5",children:[n.jsx(Ur,{className:"mr-3 h-4 w-4 text-blue-500"}),n.jsx("span",{className:"text-blue-600",children:"Mark as Sent"})]}),n.jsx($c,{}),(V.status.toLowerCase()==="draft"||V.status.toLowerCase()==="sent")&&n.jsxs(Mn,{onClick:()=>S(String(V.id),"cancelled"),className:"cursor-pointer py-2.5 text-orange-600 focus:text-orange-600 focus:bg-orange-500/10",children:[n.jsx(Ul,{className:"mr-3 h-4 w-4"}),n.jsx("span",{children:"Cancel Order"})]}),n.jsxs(Mn,{onClick:()=>{p(V),h(!0)},className:"cursor-pointer py-2.5 text-destructive focus:text-destructive focus:bg-destructive/10",children:[n.jsx(hn,{className:"mr-3 h-4 w-4"}),n.jsx("span",{children:"Delete Order"})]})]})]})})]},V.id))})]})})})]})]}),n.jsx(IUe,{open:c,onOpenChange:d,order:x}),n.jsx(RUe,{open:u,onOpenChange:f,order:x,onStatusUpdate:F}),n.jsx(uc,{open:m,onOpenChange:h,children:n.jsxs(yl,{children:[n.jsxs(jl,{children:[n.jsx(wl,{children:"Delete Order"}),n.jsxs(Nl,{children:["Are you sure you want to delete order ",n.jsx("strong",{children:x==null?void 0:x.po_number}),"? This action cannot be undone and will permanently remove the order and all its items."]})]}),n.jsxs(bl,{children:[n.jsx(Sl,{disabled:g,children:"Cancel"}),n.jsx(_l,{onClick:T,disabled:g,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:g?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):"Delete Order"})]})]})})]})},WUe=()=>{const e=mr(),{toast:t}=gr(),[r,s]=v.useState(""),[a,i]=v.useState("all"),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[m,h]=v.useState("draft"),[x,p]=v.useState(""),[g,j]=v.useState(""),[y,w]=v.useState(""),[b,N]=v.useState([]),[S,_]=v.useState(""),[E,A]=v.useState(""),[k,D]=v.useState([]),[I,W]=v.useState([]),[H,F]=v.useState([]),[T,P]=v.useState([]),[M,O]=v.useState(!0),[K,ne]=v.useState(!1),[R,V]=v.useState(!1),L=v.useMemo(()=>r?H.filter(Se=>!a||a==="all"||Se.vendor===a):[],[H,r,a]);v.useEffect(()=>{let Se=!1;return(async()=>{try{O(!0);const[ke,se]=await Promise.all([fc.getApartments({page_size:100}),Fo.getVendors()]);if(Se)return;D(ke.results||[]),W(se.results||[])}catch(ke){console.error("Failed to load apartments/vendors",ke),t({title:"Failed to load data",description:"Could not load apartments or vendors. Please try again.",variant:"destructive"})}finally{Se||O(!1)}})(),()=>{Se=!0}},[t]),v.useEffect(()=>{let Se=!1;return(async()=>{if(!r){F([]),P([]);return}try{ne(!0);const ke=await Xi.getProducts({apartment:r,page_size:1e3});if(Se)return;F(ke.results||[]),P([])}catch(ke){console.error("Failed to load products",ke),t({title:"Failed to load products",description:"Could not load products for this apartment.",variant:"destructive"})}finally{Se||ne(!1)}})(),()=>{Se=!0}},[r,t]);const G=Se=>{const Me=H.find(he=>he.id===Se);if(!Me)return;if(b.find(he=>he.productId===Se)){t({title:"Product already in order",description:`${Me.product} is already in your order.`,variant:"destructive"});return}const se={productId:Me.id,productName:Me.product,sku:Me.sku||"",quantity:1,unitPrice:Math.round(Number(Me.unit_price)||0)};N(he=>[...he,se]),t({title:"Product added",description:`${Me.product} has been added to the order.`})},le=Se=>{N(b.filter((Me,ke)=>ke!==Se))},fe=(Se,Me,ke)=>{const se=[...b];se[Se]={...se[Se],[Me]:ke},N(se)},B=async Se=>{var $e,De;if(Se.preventDefault(),!r||b.length===0){t({title:"Validation Error",description:"Please select an apartment and add at least one item",variant:"destructive"});return}let Me=a;if(!Me||Me==="all"){const de=H.find(Ie=>{var it;return Ie.id===((it=b[0])==null?void 0:it.productId)});if(de!=null&&de.vendor)Me=de.vendor;else{t({title:"Validation Error",description:"Unable to determine vendor for this order. Please select a vendor.",variant:"destructive"});return}}if(!o.trim()){t({title:"Validation Error",description:"PO Number is required.",variant:"destructive"});return}if(b.some(de=>!de.productId||de.quantity<=0||de.unitPrice<0)){t({title:"Validation Error",description:"Each item must have a product, quantity > 0 and price  0.",variant:"destructive"});return}const ke=b.reduce((de,Ie)=>de+Ie.quantity*Ie.unitPrice,0),se=parseInt(S||"0",10)||0,he=parseInt(E||"0",10)||0;let ce=ke+se-he;ce<0&&(ce=0);const je=b.reduce((de,Ie)=>de+Ie.quantity,0);try{V(!0);const de=new Date().toISOString().split("T")[0],Ie={apartment:r,vendor:Me,po_number:o.trim(),confirmation_code:c.trim()||void 0,tracking_number:u.trim()||void 0,status:m,expected_delivery:x||void 0,shipping_address:g.trim()||void 0,notes:y.trim()||void 0,items:b.map(it=>({product:it.productId,product_name:it.productName,sku:it.sku,quantity:it.quantity,unit_price:it.unitPrice})),items_count:je,total:ce,placed_on:de};await ys.createOrder(Ie),t({title:"Order Created",description:`Order created with ${b.length} items. Total: ${ce} HUF`}),e("/orders")}catch(de){console.error("Failed to create order",(($e=de==null?void 0:de.response)==null?void 0:$e.data)||de);let Ie="Please check the form and try again.";const it=(De=de==null?void 0:de.response)==null?void 0:De.data;if(it!=null&&it.details&&typeof it.details=="object"){const wt=[];Object.entries(it.details).forEach(([Qe,ye])=>{Array.isArray(ye)?wt.push(`${Qe}: ${ye.join(", ")}`):typeof ye=="string"&&wt.push(`${Qe}: ${ye}`)}),wt.length&&(Ie=wt.join(" | "))}else it!=null&&it.detail&&(Ie=String(it.detail));t({title:"Failed to create order",description:Ie,variant:"destructive"})}finally{V(!1)}},Y=b.reduce((Se,Me)=>Se+Me.quantity*Me.unitPrice,0),ie=parseInt(S||"0",10)||0,we=parseInt(E||"0",10)||0;let ue=Y+ie-we;ue<0&&(ue=0);const ge=k.find(Se=>Se.id===r),xe=I.find(Se=>Se.id===a);return r&&L.length>0,T.length>0,n.jsx(ct,{title:"New Order",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ua,{children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(es,{href:"/orders",children:"Orders"})}),n.jsx(An,{}),n.jsx(rr,{children:n.jsx(ji,{children:"New Order"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>e("/orders"),children:n.jsx(sr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(Ns,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Create New Purchase Order"}),n.jsx("p",{className:"text-muted-foreground",children:"Fill in the details to create a new order"})]})]})]}),n.jsx("form",{onSubmit:B,children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ot,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(X,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs(q,{htmlFor:"apartment",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(fr,{className:"h-4 w-4 text-primary"}),"Apartment *"]}),n.jsxs(tt,{value:r,onValueChange:s,disabled:M,children:[n.jsx(Je,{className:"h-10",children:n.jsx(rt,{placeholder:M?"Loading apartments...":"Select apartment"})}),n.jsx(et,{children:k.map(Se=>n.jsx(J,{value:Se.id,children:n.jsx("span",{children:Se.name})},Se.id))})]}),ge&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Owner: ",ge.owner]})]})}),n.jsx(X,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs(q,{htmlFor:"vendor",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(La,{className:"h-4 w-4 text-primary"}),"Vendor (Optional Filter)"]}),n.jsxs(tt,{value:a,onValueChange:i,disabled:M||!r,children:[n.jsx(Je,{className:"h-10",children:n.jsx(rt,{placeholder:r?M?"Loading vendors...":"All vendors":"Select apartment first"})}),n.jsxs(et,{children:[n.jsx(J,{value:"all",children:"All Vendors"}),I.map(Se=>n.jsx(J,{value:Se.id,children:n.jsx("span",{children:Se.name})},Se.id))]})]}),xe&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Lead time: ",xe.lead_time]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"po_number",children:"PO Number *"}),n.jsx(me,{id:"po_number",value:o,onChange:Se=>l(Se.target.value),placeholder:"e.g., PO-2025-00001"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"confirmation_code",children:"Confirmation"}),n.jsx(me,{id:"confirmation_code",value:c,onChange:Se=>d(Se.target.value),placeholder:"e.g., CONF-8831"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"tracking_number",children:"Tracking"}),n.jsx(me,{id:"tracking_number",value:u,onChange:Se=>f(Se.target.value),placeholder:"e.g., TRK-93234"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",children:"Status"}),n.jsxs(tt,{value:m,onValueChange:h,children:[n.jsx(Je,{className:"h-10",children:n.jsx(rt,{placeholder:"Select status"})}),n.jsxs(et,{children:[n.jsx(J,{value:"draft",children:"Draft"}),n.jsx(J,{value:"pending",children:"Pending"}),n.jsx(J,{value:"sent",children:"Sent"}),n.jsx(J,{value:"confirmed",children:"Confirmed"}),n.jsx(J,{value:"in_transit",children:"In Transit"}),n.jsx(J,{value:"delivered",children:"Delivered"}),n.jsx(J,{value:"received",children:"Received"}),n.jsx(J,{value:"cancelled",children:"Cancelled"}),n.jsx(J,{value:"returned",children:"Returned"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"expected_delivery",children:"Expected Delivery"}),n.jsx(me,{id:"expected_delivery",type:"date",value:x,onChange:Se=>p(Se.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"shipping_address",children:"Shipping Address"}),n.jsx(me,{id:"shipping_address",value:g,onChange:Se=>j(Se.target.value),placeholder:"Enter shipping address"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Notes"}),n.jsx(ha,{id:"notes",value:y,onChange:Se=>w(Se.target.value),placeholder:"Add any notes about this order",rows:3})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[n.jsxs(X,{className:"lg:col-span-1",children:[n.jsx(be,{className:"py-3 px-4 border-b",children:n.jsxs(Ve,{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(ot,{className:"h-4 w-4 text-primary"}),"Available Products (",L.length,")"]})}),n.jsx(Q,{className:"p-2",children:K?n.jsx("div",{className:"max-h-[450px]",children:n.jsx("div",{children:[...Array(8)].map((Se,Me)=>n.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 ${Me<7?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 rounded overflow-hidden",children:n.jsx(C,{className:"w-full h-full"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1 mb-0.5",children:[n.jsx(C,{className:"h-3 w-32"}),n.jsx(C,{className:"h-2 w-12 opacity-60"})]}),n.jsx(C,{className:"h-2 w-20 opacity-40"})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsx(C,{className:"h-3 w-14 mb-0.5"}),n.jsx(C,{className:"h-2 w-8 ml-auto opacity-40"})]})]},Me))})}):r?L.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(ot,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No products found"}),n.jsx("p",{className:"text-sm",children:a&&a!=="all"?'Try selecting a different vendor or "All Vendors"':"This apartment has no products yet"})]}):n.jsx("div",{className:"max-h-[450px] overflow-y-auto",children:n.jsx("div",{children:L.map((Se,Me)=>{const ke=b.some(se=>se.productId===Se.id);return n.jsxs("div",{onClick:()=>!ke&&G(Se.id),className:`group flex items-center gap-2 px-2 py-1.5 transition-all cursor-pointer ${ke?"opacity-50 cursor-not-allowed bg-muted/30":"hover:bg-accent hover:shadow-sm"} ${Me<L.length-1?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 bg-muted/30 rounded flex items-center justify-center flex-shrink-0",children:Se.product_image?n.jsx("img",{src:Se.product_image,alt:Se.product,className:"w-full h-full object-cover rounded",onError:se=>{se.currentTarget.src="",se.currentTarget.style.display="none"}}):n.jsx(qi,{className:"h-4 w-4 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("p",{className:"font-medium text-xs truncate flex-1",children:Se.product}),Se.sku&&n.jsx("span",{className:"text-[10px] text-muted-foreground",children:Se.sku})]}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:Se.vendor_name||"No vendor"})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsx("p",{className:"font-semibold text-xs",children:Number(Se.unit_price).toLocaleString()}),ke?n.jsx("span",{className:"text-[10px] text-green-600 dark:text-green-500 font-medium",children:"Added"}):n.jsx("span",{className:"text-[10px] text-muted-foreground",children:"HUF"})]})]},Se.id)})})}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(fr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"Please select an apartment first"}),n.jsx("p",{className:"text-sm",children:"Products will appear here after selecting an apartment"})]})})]}),n.jsxs(X,{className:"lg:col-span-1",children:[n.jsx(be,{className:"py-3 px-4 border-b",children:n.jsxs(Ve,{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(Ns,{className:"h-4 w-4 text-primary"}),"Order Items (",b.length,")"]}),b.length>0&&n.jsxs("span",{className:"text-xs font-normal text-muted-foreground",children:["Total: ",b.reduce((Se,Me)=>Se+Me.quantity*Me.unitPrice,0).toLocaleString()," HUF"]})]})}),n.jsx(Q,{className:"p-2",children:K&&b.length===0?n.jsx("div",{className:"max-h-[450px]",children:n.jsx("div",{children:[...Array(3)].map((Se,Me)=>n.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 ${Me<2?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 rounded overflow-hidden",children:n.jsx(C,{className:"w-full h-full"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1 mb-0.5",children:[n.jsx(C,{className:"h-3 w-28"}),n.jsx(C,{className:"h-2 w-10 opacity-60"})]}),n.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[n.jsx(C,{className:"w-5 h-5 rounded"}),n.jsx(C,{className:"w-10 h-5 rounded"}),n.jsx(C,{className:"w-5 h-5 rounded"}),n.jsx(C,{className:"h-2 w-16 ml-1 opacity-40"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"text-right",children:[n.jsx(C,{className:"h-3 w-16 mb-0.5"}),n.jsx(C,{className:"h-2 w-8 ml-auto opacity-40"})]}),n.jsx(C,{className:"w-5 h-5 rounded-full opacity-30"})]})]},Me))})}):b.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(Ns,{className:"h-6 w-6 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-xs font-medium",children:"No items in order"}),n.jsx("p",{className:"text-[10px] mt-1",children:"Click products to add them"})]}):n.jsx("div",{className:"max-h-[450px] overflow-y-auto",children:n.jsx("div",{children:b.map((Se,Me)=>{const ke=H.find(se=>se.id===Se.productId);return n.jsxs("div",{className:`group flex items-center gap-2 px-2 py-1.5 hover:bg-accent transition-all ${Me<b.length-1?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 bg-muted/30 rounded flex items-center justify-center flex-shrink-0",children:ke!=null&&ke.product_image?n.jsx("img",{src:ke.product_image,alt:Se.productName,className:"w-full h-full object-cover rounded",onError:se=>{se.currentTarget.src="",se.currentTarget.style.display="none"}}):n.jsx(qi,{className:"h-4 w-4 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("p",{className:"text-xs font-medium truncate flex-1",children:Se.productName}),Se.sku&&n.jsx("span",{className:"text-[10px] text-muted-foreground",children:Se.sku})]}),n.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[n.jsx("button",{type:"button",onClick:()=>fe(Me,"quantity",Math.max(1,Se.quantity-1)),className:"w-5 h-5 rounded bg-muted/50 hover:bg-muted flex items-center justify-center transition-colors",children:n.jsx(g7,{className:"h-3 w-3"})}),n.jsx("input",{type:"number",min:"1",value:Se.quantity,onChange:se=>fe(Me,"quantity",parseInt(se.target.value)||1),className:"w-10 h-5 text-[11px] text-center border border-input bg-background rounded px-1"}),n.jsx("button",{type:"button",onClick:()=>fe(Me,"quantity",Se.quantity+1),className:"w-5 h-5 rounded bg-muted/50 hover:bg-muted flex items-center justify-center transition-colors",children:n.jsx(Qn,{className:"h-3 w-3"})}),n.jsxs("span",{className:"text-[10px] text-muted-foreground ml-1",children:[" ",Se.unitPrice.toLocaleString()]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs font-semibold",children:(Se.quantity*Se.unitPrice).toLocaleString()}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"HUF"})]}),n.jsx("button",{type:"button",onClick:()=>le(Me),className:"opacity-0 group-hover:opacity-100 w-5 h-5 rounded-full bg-destructive/10 hover:bg-destructive/20 flex items-center justify-center transition-all",children:n.jsx(ps,{className:"h-3 w-3 text-destructive"})})]})]},Me)})})})})]})]}),n.jsxs(X,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2 text-primary",children:[n.jsx(Nr,{className:"h-5 w-5"}),"Order Summary"]})}),n.jsx(Q,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Items"}),n.jsx("p",{className:"text-3xl font-bold",children:b.length})]}),n.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Units"}),n.jsx("p",{className:"text-3xl font-bold",children:b.reduce((Se,Me)=>Se+Me.quantity,0)})]}),n.jsxs("div",{className:"space-y-2 p-4 bg-background/50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsx("span",{children:"Items Total"}),n.jsxs("span",{children:[Y," HUF"]})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Shipping Cost"}),n.jsx(me,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:S,onChange:Se=>_(Se.target.value)})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Discount"}),n.jsx(me,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:E,onChange:Se=>A(Se.target.value)})]}),n.jsx(Lt,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold",children:"Total to Pay"}),n.jsxs("span",{className:"text-2xl font-bold text-primary",children:[ue," HUF"]})]})]})]})})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>e("/orders"),children:"Cancel"}),n.jsx(ee,{type:"submit",className:"gap-2",disabled:R,children:R?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ns,{className:"h-4 w-4"}),"Create Order"]})})]})]})})]})})},HUe=()=>{var L;const e=mr(),{toast:t}=gr(),[r,s]=v.useState(""),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[m,h]=v.useState("draft"),[x,p]=v.useState(""),[g,j]=v.useState(""),[y,w]=v.useState(""),[b,N]=v.useState(null),[S,_]=v.useState(!1),[E,A]=v.useState(0),[k,D]=v.useState(null),[I,W]=v.useState(""),[H,F]=v.useState([]),[T,P]=v.useState([]),[M,O]=v.useState(!1);v.useState(!1),v.useEffect(()=>{(async()=>{try{O(!0);const[le,fe]=await Promise.all([fc.getApartments({page_size:100}),Fo.getVendors()]);F(le.results||[]),P(fe.results||[])}catch(le){console.error("Failed to load data",le),t({title:"Failed to load data",description:"Could not load apartments or vendors. Please try again.",variant:"destructive"})}finally{O(!1)}})()},[t]);const K=G=>G<1024?G+" B":G<1024*1024?(G/1024).toFixed(2)+" KB":(G/(1024*1024)).toFixed(2)+" MB",ne=G=>{var fe;const le=(fe=G.target.files)==null?void 0:fe[0];if(le){if(!le.name.match(/\.(xlsx|xls|csv)$/i)){t({title:"Invalid File Type",description:"Please select a valid Excel or CSV file",variant:"destructive"});return}if(le.size>50*1024*1024){t({title:"File Too Large",description:"Maximum file size is 50MB",variant:"destructive"});return}N(le),W(K(le.size)),D(null)}},R=async()=>{var G,le;if(!r){t({title:"Validation Error",description:"Please select an apartment",variant:"destructive"});return}if(!a){t({title:"Validation Error",description:"Please select a vendor",variant:"destructive"});return}if(!o.trim()){t({title:"Validation Error",description:"PO Number is required",variant:"destructive"});return}if(!b){t({title:"Validation Error",description:"Please select a file to import",variant:"destructive"});return}_(!0),A(0);try{const fe=setInterval(()=>{A(Y=>Y>=90?(clearInterval(fe),90):Y+10)},200),B=await ys.importOrder({file:b,apartment_id:r,vendor_id:a,po_number:o,status:m,confirmation_code:c,tracking_number:u,expected_delivery:x,shipping_address:g,notes:y});clearInterval(fe),A(100),D(B),t({title:"Import Successful!",description:`Order ${B.po_number} created with ${B.total_items} items.`}),setTimeout(()=>{e("/orders")},2e3)}catch(fe){console.error("Import error:",fe),t({title:"Import Failed",description:((le=(G=fe.response)==null?void 0:G.data)==null?void 0:le.error)||fe.message||"Failed to import order. Please try again.",variant:"destructive"}),A(0)}finally{_(!1)}},V=async()=>{try{const G=await fetch("/api/products/import_template/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});if(!G.ok)throw new Error("Failed to download template");const le=await G.blob(),fe=window.URL.createObjectURL(le),B=document.createElement("a");B.href=fe,B.download="order-import-template.xlsx",document.body.appendChild(B),B.click(),window.URL.revokeObjectURL(fe),document.body.removeChild(B),t({title:"Success",description:"Template downloaded successfully"})}catch(G){console.error("Template download error:",G),t({title:"Download Failed",description:"Failed to download template. Please try again.",variant:"destructive"})}};return n.jsx(ct,{title:"Import Orders",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ee,{variant:"ghost",onClick:()=>e("/orders"),disabled:S,children:[n.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back"]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ot,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(X,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs(q,{htmlFor:"apartment",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(fr,{className:"h-4 w-4 text-primary"}),"Apartment *"]}),n.jsxs(tt,{value:r,onValueChange:s,disabled:M||S,children:[n.jsx(Je,{className:"h-10",children:n.jsx(rt,{placeholder:M?"Loading...":"Select apartment"})}),n.jsx(et,{children:H.map(G=>n.jsx(J,{value:G.id,children:G.name},G.id))})]})]})}),n.jsx(X,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs(q,{htmlFor:"vendor",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(La,{className:"h-4 w-4 text-primary"}),"Vendor *"]}),n.jsxs(tt,{value:a,onValueChange:i,disabled:M||S,children:[n.jsx(Je,{className:"h-10",children:n.jsx(rt,{placeholder:M?"Loading...":"Select vendor"})}),n.jsx(et,{children:T.map(G=>n.jsx(J,{value:G.id,children:G.name},G.id))})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"po_number",children:"PO Number *"}),n.jsx(me,{id:"po_number",value:o,onChange:G=>l(G.target.value),placeholder:"e.g., PO-2025-00001",disabled:S})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"confirmation_code",children:"Confirmation"}),n.jsx(me,{id:"confirmation_code",value:c,onChange:G=>d(G.target.value),placeholder:"e.g., CONF-8831",disabled:S})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"tracking_number",children:"Tracking"}),n.jsx(me,{id:"tracking_number",value:u,onChange:G=>f(G.target.value),placeholder:"e.g., TRK-93234",disabled:S})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",children:"Status"}),n.jsxs(tt,{value:m,onValueChange:h,disabled:S,children:[n.jsx(Je,{className:"h-10",children:n.jsx(rt,{placeholder:"Select status"})}),n.jsxs(et,{children:[n.jsx(J,{value:"draft",children:"Draft"}),n.jsx(J,{value:"sent",children:"Sent"}),n.jsx(J,{value:"cancelled",children:"Cancelled"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"expected_delivery",children:"Expected Delivery"}),n.jsx(me,{id:"expected_delivery",type:"date",value:x,onChange:G=>p(G.target.value),disabled:S})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"shipping_address",children:"Shipping Address"}),n.jsx(me,{id:"shipping_address",value:g,onChange:G=>j(G.target.value),placeholder:"Enter shipping address",disabled:S})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Notes"}),n.jsx(ha,{id:"notes",value:y,onChange:G=>w(G.target.value),placeholder:"Add any notes about this order",rows:3,disabled:S})]})]})]}),n.jsxs(X,{className:"border-2 border-dashed",children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Upload File"}),n.jsx(Dr,{className:"mt-1",children:"Select an Excel (.xlsx, .xls) or CSV file (max 50MB)"})]}),b&&I&&n.jsx(_e,{variant:"secondary",className:"text-sm",children:I})]})}),n.jsx(Q,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:ne,className:"hidden",disabled:S}),n.jsx(ee,{variant:"outline",asChild:!0,disabled:S,className:"relative overflow-hidden",children:n.jsx("span",{children:S?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Gi,{className:"mr-2 h-4 w-4"}),"Choose File"]})})})]}),b&&!S&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ek,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium",children:b.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:I})]})]})]}),S&&E>0&&n.jsxs("div",{className:"space-y-2 p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"font-medium",children:"Uploading and processing..."}),n.jsxs("span",{className:"text-muted-foreground",children:[E.toFixed(0),"%"]})]}),n.jsx(K2,{value:E,className:"h-2"})]}),n.jsx("div",{className:"flex justify-start",children:n.jsxs(ee,{variant:"outline",size:"sm",onClick:V,disabled:S,children:[n.jsx(Rv,{className:"mr-2 h-4 w-4"}),"Download Template"]})})]})})]}),k&&n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Import Results"}),n.jsx(Dr,{children:"Summary of the import operation"})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(Xd,{children:[n.jsx(Ur,{className:"h-4 w-4 text-success"}),n.jsxs(Qd,{children:[n.jsx("div",{className:"font-semibold",children:"Order Created"}),n.jsx("div",{className:"text-2xl",children:k.order_created?"Yes":"No"})]})]}),n.jsxs(Xd,{children:[n.jsx(Ur,{className:"h-4 w-4 text-success"}),n.jsxs(Qd,{children:[n.jsx("div",{className:"font-semibold",children:"Total Items"}),n.jsx("div",{className:"text-2xl text-green-600",children:k.total_items})]})]}),n.jsxs(Xd,{children:[n.jsx(Ur,{className:"h-4 w-4 text-success"}),n.jsxs(Qd,{children:[n.jsx("div",{className:"font-semibold",children:"Successfully Imported"}),n.jsx("div",{className:"text-2xl text-green-600",children:k.successful_imports})]})]}),n.jsxs(Xd,{children:[n.jsx(Ur,{className:"h-4 w-4 text-success"}),n.jsxs(Qd,{children:[n.jsx("div",{className:"font-semibold",children:"Total Amount"}),n.jsxs("div",{className:"text-2xl text-green-600",children:["$",((L=k.total_amount)==null?void 0:L.toFixed(2))||"0.00"]})]})]})]}),k.errors&&k.errors.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Errors:"}),n.jsx("div",{className:"space-y-1",children:k.errors.map((G,le)=>n.jsx("div",{className:"text-sm text-destructive bg-destructive/10 p-2 rounded",children:G},le))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(ee,{onClick:()=>e("/orders"),children:[n.jsx(Ur,{className:"mr-2 h-4 w-4"}),"View Orders"]})})]})]}),!k&&n.jsx(X,{children:n.jsx(Q,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(ee,{variant:"outline",onClick:()=>e("/orders"),disabled:S,children:"Cancel"}),n.jsx(ee,{onClick:R,disabled:!r||!a||!o||!b||S,className:"min-w-[200px]",children:S?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Gi,{className:"mr-2 h-4 w-4"}),"Import Order"]})})]})})})]})})};function qUe(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-32"})]})}function GUe(){return n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(C,{className:"h-10 w-10 rounded-md"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(C,{className:"h-6 w-6 rounded"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-9 w-64"}),n.jsx(C,{className:"h-4 w-48"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[n.jsx(C,{className:"h-6 w-24 rounded-full"}),n.jsx(C,{className:"h-6 w-28 rounded-full"})]})]}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})}function KUe(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{iconBg:"bg-blue-500/10"},{iconBg:"bg-green-500/10"},{iconBg:"bg-purple-500/10"},{iconBg:"bg-orange-500/10"}].map((e,t)=>n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${e.iconBg}`,children:n.jsx(C,{className:"h-5 w-5 rounded"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-8 w-16"})]})]})})},t))})}function YUe(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(2)].map((e,t)=>n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((r,s)=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(C,{className:"h-5 w-5 rounded mt-0.5"}),n.jsxs("div",{className:"space-y-2 flex-1",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-5 w-full"})]})]},s))},t))})})]})}function XUe(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-32"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"w-12 px-4 py-3"}),["Product Name","SKU","Quantity","Unit Price","Total"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))]})}),n.jsx("tbody",{children:[...Array(4)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"w-12 px-4 py-4",children:n.jsx(C,{className:"w-10 h-10 rounded"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-40"}),n.jsx(C,{className:"h-3 w-32"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-12 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-28"})})]},t))})]})})})]})}function QUe(){return n.jsxs(X,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-32"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-28"})]}),n.jsx("div",{className:"h-px bg-border"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(C,{className:"h-5 w-24"}),n.jsx(C,{className:"h-8 w-36"})]})]})]})}function ZUe(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-20"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"space-y-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(C,{className:"h-7 w-7 rounded-full"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-3 w-40"})]})]},t))})})]})}function JUe(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-16"})]})}),n.jsxs(Q,{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-full"}),n.jsx(C,{className:"h-4 w-full"}),n.jsx(C,{className:"h-4 w-3/4"})]})]})}function eVe(){return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(qUe,{}),n.jsx(GUe,{}),n.jsx(KUe,{}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(YUe,{}),n.jsx(XUe,{})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(QUe,{}),n.jsx(ZUe,{}),n.jsx(JUe,{})]})]})]})})}const tVe=()=>{var l,c;const{id:e}=eo(),t=mr(),{order:r,loading:s,error:a}=AQ(e||""),i=d=>{const u=d.toLowerCase();return{draft:"bg-gray-500/10 text-gray-500",pending:"bg-yellow-500/10 text-yellow-500",sent:"bg-blue-500/10 text-blue-500",confirmed:"bg-green-500/10 text-green-500",delivered:"bg-purple-500/10 text-purple-500",received:"bg-emerald-500/10 text-emerald-500",cancelled:"bg-red-500/10 text-red-500"}[u]||"bg-gray-500/10 text-gray-500"};if(s)return n.jsx(eVe,{});if(a)return n.jsx(ct,{title:"Error",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(At,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),n.jsx("h2",{className:"text-2xl font-semibold text-destructive mb-2",children:"Error loading order"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:a}),n.jsxs(ee,{onClick:()=>t("/orders"),children:[n.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})});if(!r)return n.jsx(ct,{title:"Not Found",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ot,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Order not found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"The order you're looking for doesn't exist."}),n.jsxs(ee,{onClick:()=>t("/orders"),children:[n.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})});const o=((l=r.items)==null?void 0:l.reduce((d,u)=>d+Number(u.total_price||0),0))||0;return n.jsx(ct,{title:`Order ${r.po_number}`,children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ua,{children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(es,{asChild:!0,children:n.jsx(Ki,{to:"/orders",children:"Orders"})})}),n.jsx(An,{}),n.jsx(rr,{children:n.jsx(ji,{children:r.po_number})})]})}),n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>t("/orders"),children:n.jsx(sr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(Ns,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:r.po_number}),n.jsx("p",{className:"text-muted-foreground",children:"Purchase Order Details"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[n.jsx(_e,{className:i(r.status),children:r.status}),r.is_delivered&&n.jsxs(_e,{className:"bg-emerald-500/10 text-emerald-500",children:[n.jsx(or,{className:"h-3 w-3 mr-1"}),"Delivered"]})]})]}),n.jsxs(ee,{variant:"outline",onClick:()=>t(`/orders/${e}/edit`),children:[n.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Edit Order"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:n.jsx(ot,{className:"h-5 w-5 text-blue-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"}),n.jsx("p",{className:"text-2xl font-bold",children:r.items_count})]})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:n.jsx(Nr,{className:"h-5 w-5 text-green-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold",children:[Number(r.total).toLocaleString()," HUF"]})]})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:n.jsx(Qr,{className:"h-5 w-5 text-purple-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Placed On"}),n.jsx("p",{className:"text-2xl font-bold",children:r.placed_on?Xt(new Date(r.placed_on),"MMM dd"):"-"})]})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg",children:n.jsx(_r,{className:"h-5 w-5 text-orange-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected Delivery"}),n.jsx("p",{className:"text-2xl font-bold",children:r.expected_delivery?Xt(new Date(r.expected_delivery),"MMM dd"):"-"})]})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(kn,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),n.jsx(Q,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(fr,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Apartment"}),n.jsx("p",{className:"font-medium",children:r.apartment_name||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(La,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor"}),n.jsx("p",{className:"font-medium",children:r.vendor_name||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(hh,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"PO Number"}),n.jsx("p",{className:"font-medium font-mono",children:r.po_number})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(mse,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Confirmation Code"}),n.jsx("p",{className:"font-medium font-mono",children:r.confirmation_code||"-"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(_r,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Tracking Number"}),n.jsx("p",{className:"font-medium font-mono",children:r.tracking_number||"-"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(va,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Shipping Address"}),n.jsx("p",{className:"font-medium",children:r.shipping_address||"-"})]})]})]})]})})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ot,{className:"h-5 w-5 text-primary"}),"Order Items (",((c=r.items)==null?void 0:c.length)||0,")"]})}),n.jsx(Q,{children:r.items&&r.items.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Vt,{children:[n.jsx(Pe,{className:"w-12"}),n.jsx(Pe,{children:"Product Name"}),n.jsx(Pe,{children:"SKU"}),n.jsx(Pe,{className:"text-center",children:"Quantity"}),n.jsx(Pe,{className:"text-right",children:"Unit Price"}),n.jsx(Pe,{className:"text-right",children:"Total"})]})}),n.jsx($s,{children:r.items.map((d,u)=>n.jsxs(Vt,{children:[n.jsx(Ne,{className:"w-12",children:n.jsx("div",{className:"w-10 h-10 bg-muted/30 rounded flex items-center justify-center",children:d.product_image?n.jsx("img",{src:d.product_image,alt:d.product_name,className:"w-full h-full object-cover rounded",onError:f=>{var m;f.currentTarget.src="",f.currentTarget.style.display="none",(m=f.currentTarget.parentElement)==null||m.classList.add("bg-muted/30")}}):n.jsx(qi,{className:"h-5 w-5 text-muted-foreground"})})}),n.jsx(Ne,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:d.product_name}),d.description&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.description})]})}),n.jsx(Ne,{children:n.jsx("span",{className:"font-mono text-sm",children:d.sku||"-"})}),n.jsx(Ne,{className:"text-center",children:n.jsx(_e,{variant:"secondary",children:d.quantity})}),n.jsxs(Ne,{className:"text-right",children:[Number(d.unit_price).toLocaleString()," HUF"]}),n.jsxs(Ne,{className:"text-right font-semibold",children:[Number(d.total_price).toLocaleString()," HUF"]})]},d.id||u))})]})}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(ot,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No items in this order"})]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2 text-primary",children:[n.jsx(Nr,{className:"h-5 w-5"}),"Order Summary"]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Items Total"}),n.jsxs("span",{children:[o.toLocaleString()," HUF"]})]}),n.jsx(Lt,{}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold",children:"Grand Total"}),n.jsxs("span",{className:"text-2xl font-bold text-primary",children:[Number(r.total).toLocaleString()," HUF"]})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5 text-primary"}),"Timeline"]})}),n.jsx(Q,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-green-500/10 rounded-full",children:n.jsx(or,{className:"h-4 w-4 text-green-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Order Placed"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.placed_on?Xt(new Date(r.placed_on),"PPP"):"-"})]})]}),r.expected_delivery&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-blue-500/10 rounded-full",children:n.jsx(_r,{className:"h-4 w-4 text-blue-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Expected Delivery"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Xt(new Date(r.expected_delivery),"PPP")})]})]}),r.actual_delivery&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-emerald-500/10 rounded-full",children:n.jsx(or,{className:"h-4 w-4 text-emerald-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Actual Delivery"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Xt(new Date(r.actual_delivery),"PPP")})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-gray-500/10 rounded-full",children:n.jsx(Qr,{className:"h-4 w-4 text-gray-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Created"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.created_at?Xt(new Date(r.created_at),"PPP p"):"-"})]})]}),r.updated_at&&r.updated_at!==r.created_at&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-gray-500/10 rounded-full",children:n.jsx(Pf,{className:"h-4 w-4 text-gray-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Last Updated"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Xt(new Date(r.updated_at),"PPP p")})]})]})]})})]}),r.notes&&n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(kn,{className:"h-5 w-5 text-primary"}),"Notes"]})}),n.jsx(Q,{children:n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:r.notes})})]})]})]})]})})};function rVe(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-12"})]})}function nVe(){return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-10 w-10 rounded-md"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(C,{className:"h-9 w-32 mb-2"}),n.jsx(C,{className:"h-4 w-64"})]})]})}function sVe(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"}),n.jsx(C,{className:"h-3 w-32"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"}),n.jsx(C,{className:"h-3 w-28"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-36"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-20 w-full rounded-md"})]})]})]})}function aVe(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-32"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-9 w-32 rounded-md"}),n.jsx(C,{className:"h-9 w-28 rounded-md"})]})]})}),n.jsx(Q,{children:n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"flex gap-3 p-4 border rounded-lg",children:[n.jsx(C,{className:"h-16 w-16 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-5 w-48"}),n.jsx(C,{className:"h-8 w-8 rounded"})]}),n.jsx(C,{className:"h-4 w-32"}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-3 w-16"}),n.jsx(C,{className:"h-9 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-3 w-20"}),n.jsx(C,{className:"h-9 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-3 w-12"}),n.jsx(C,{className:"h-9 w-full rounded-md"})]})]})]})]},t))})})]})}function iVe(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-32"})]})}),n.jsxs(Q,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-4 w-28"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-4 w-20"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-20"})]}),n.jsx("div",{className:"h-px bg-border"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(C,{className:"h-5 w-24"}),n.jsx(C,{className:"h-7 w-32"})]})]})]})}function oVe(){return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(rVe,{}),n.jsx(nVe,{}),n.jsx(sVe,{}),n.jsx(aVe,{}),n.jsx(iVe,{}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})]})})}const lVe=()=>{const{id:e}=eo(),t=mr(),{toast:r}=gr(),{order:s,loading:a,error:i}=AQ(e||""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[m,h]=v.useState(""),[x,p]=v.useState(""),[g,j]=v.useState("draft"),[y,w]=v.useState([]),[b,N]=v.useState(""),[S,_]=v.useState(""),[E,A]=v.useState(""),[k,D]=v.useState(""),[I,W]=v.useState(""),[H,F]=v.useState([]),[T,P]=v.useState([]),[M,O]=v.useState(!1),[K,ne]=v.useState(!1),[R,V]=v.useState(!1),{data:L,isLoading:G}=$X({apartment:o,page_size:1e3}),le=(L==null?void 0:L.results)||[],fe=v.useMemo(()=>le.filter(ce=>!c||ce.vendor===c),[le,c]);v.useEffect(()=>{let ce=!1;return(async()=>{try{O(!0);const[$e,De]=await Promise.all([fc.getApartments({page_size:100}),Fo.getVendors()]);if(ce)return;F($e.results||[]),P(De.results||[])}catch($e){console.error("Failed to load apartments/vendors",$e),r({title:"Failed to load data",description:"Could not load apartments or vendors. Please try again.",variant:"destructive"})}finally{ce||O(!1)}})(),()=>{ce=!0}},[r]),v.useEffect(()=>{if(s&&!R&&!M&&H.length>0&&T.length>0){const ce=H.some($e=>$e.id===s.apartment);l(ce?s.apartment:"");const je=T.some($e=>$e.id===s.vendor);if(d(je?s.vendor:""),f(s.po_number||""),h(s.confirmation_code||""),p(s.tracking_number||""),j(s.status||"draft"),A(s.notes||""),D(s.shipping_address||""),W(s.expected_delivery||""),s.items&&s.items.length>0){const $e=s.items.map(De=>({id:De.id,productId:De.product||"",productName:De.product_name||"",sku:De.sku||"",quantity:De.quantity||1,unitPrice:Math.round(Number(De.unit_price)||0)}));w($e)}V(!0)}},[s,R,M,H,T]);const B=()=>{const ce=new Set(y.map(De=>De.productId)),je=fe.find(De=>!ce.has(De.id))||fe[0];if(!je)return;const $e=Math.round(Number(je.unit_price)||0);w(De=>[...De,{productId:je.id,productName:je.product,sku:je.sku||"",quantity:1,unitPrice:$e}])},Y=ce=>{w(y.filter((je,$e)=>$e!==ce))},ie=(ce,je,$e)=>{const De=[...y];De[ce]={...De[ce],[je]:$e},w(De)},we=async ce=>{var it,wt;if(ce.preventDefault(),!o||!c||y.length===0){r({title:"Validation Error",description:"Please fill all required fields",variant:"destructive"});return}if(!u.trim()){r({title:"Validation Error",description:"PO Number is required.",variant:"destructive"});return}if(y.some(Qe=>!Qe.productName||Qe.quantity<=0||Qe.unitPrice<0)){r({title:"Validation Error",description:"Each item must have a product, quantity > 0 and price  0.",variant:"destructive"});return}const je=y.reduce((Qe,ye)=>Qe+ye.quantity*ye.unitPrice,0),$e=parseInt(b||"0",10)||0,De=parseInt(S||"0",10)||0;let de=je+$e-De;de<0&&(de=0);const Ie=y.reduce((Qe,ye)=>Qe+ye.quantity,0);try{ne(!0);const Qe={apartment:o,vendor:c,po_number:u.trim(),confirmation_code:m.trim()||void 0,tracking_number:x.trim()||void 0,status:g,notes:E.trim()||void 0,shipping_address:k.trim()||void 0,expected_delivery:I||void 0,items:y.map(ye=>({id:ye.id,product_name:ye.productName,sku:ye.sku,quantity:ye.quantity,unit_price:ye.unitPrice})),items_count:Ie,total:de};await ys.updateOrder(e,Qe),r({title:"Order Updated",description:`Order updated successfully. Total: ${de} HUF`}),t(`/orders/${e}`)}catch(Qe){console.error("Failed to update order",((it=Qe==null?void 0:Qe.response)==null?void 0:it.data)||Qe);let ye="Please check the form and try again.";const qe=(wt=Qe==null?void 0:Qe.response)==null?void 0:wt.data;if(qe!=null&&qe.details&&typeof qe.details=="object"){const Pt=[];Object.entries(qe.details).forEach(([Ct,vr])=>{Array.isArray(vr)?Pt.push(`${Ct}: ${vr.join(", ")}`):typeof vr=="string"&&Pt.push(`${Ct}: ${vr}`)}),Pt.length&&(ye=Pt.join(" | "))}else qe!=null&&qe.detail&&(ye=String(qe.detail));r({title:"Failed to update order",description:ye,variant:"destructive"})}finally{ne(!1)}},ue=y.reduce((ce,je)=>ce+je.quantity*je.unitPrice,0),ge=parseInt(b||"0",10)||0,xe=parseInt(S||"0",10)||0;let Se=ue+ge-xe;Se<0&&(Se=0);const Me=H.find(ce=>ce.id===o),ke=T.find(ce=>ce.id===c);o&&c&&fe.length>0;const se=[{value:"draft",label:"Draft"},{value:"pending",label:"Pending"},{value:"sent",label:"Sent"},{value:"confirmed",label:"Confirmed"},{value:"in_transit",label:"In Transit"},{value:"delivered",label:"Delivered"},{value:"received",label:"Received"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}];return a||M||s&&!R?n.jsx(oVe,{}):i?n.jsx(ct,{title:"Error",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(At,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),n.jsx("h2",{className:"text-2xl font-semibold text-destructive mb-2",children:"Error loading order"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:i}),n.jsxs(ee,{onClick:()=>t("/orders"),children:[n.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})}):s?n.jsx(ct,{title:"Edit Order",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ua,{children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(es,{asChild:!0,children:n.jsx(Ki,{to:"/orders",children:"Orders"})})}),n.jsx(An,{}),n.jsx(rr,{children:n.jsx(es,{asChild:!0,children:n.jsx(Ki,{to:`/orders/${e}`,children:s.po_number})})}),n.jsx(An,{}),n.jsx(rr,{children:n.jsx(ji,{children:"Edit"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>t(`/orders/${e}`),children:n.jsx(sr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(Ns,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Edit Order"}),n.jsxs("p",{className:"text-muted-foreground",children:["Update order details for ",s.po_number]})]})]})]}),n.jsx("form",{onSubmit:we,children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ot,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(X,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs(q,{htmlFor:"apartment",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(fr,{className:"h-4 w-4 text-primary"}),"Apartment *"]}),n.jsxs(tt,{value:o,onValueChange:l,disabled:M,children:[n.jsx(Je,{className:"h-10",children:n.jsx(rt,{placeholder:M?"Loading...":"Select apartment"})}),n.jsx(et,{children:H.map(ce=>n.jsx(J,{value:ce.id,children:n.jsx("span",{children:ce.name})},ce.id))})]}),Me&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Owner: ",Me.owner]})]})}),n.jsx(X,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs(q,{htmlFor:"vendor",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(La,{className:"h-4 w-4 text-primary"}),"Vendor *"]}),n.jsxs(tt,{value:c,onValueChange:d,disabled:M,children:[n.jsx(Je,{className:"h-10",children:n.jsx(rt,{placeholder:M?"Loading...":"Select vendor"})}),n.jsx(et,{children:T.map(ce=>n.jsx(J,{value:ce.id,children:n.jsx("span",{children:ce.name})},ce.id))})]}),ke&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Lead time: ",ke.lead_time]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"po_number",children:"PO Number *"}),n.jsx(me,{id:"po_number",value:u,onChange:ce=>f(ce.target.value),placeholder:"e.g., PO-2025-00001"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"confirmation_code",children:"Confirmation"}),n.jsx(me,{id:"confirmation_code",value:m,onChange:ce=>h(ce.target.value),placeholder:"e.g., CONF-8831"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"tracking_number",children:"Tracking"}),n.jsx(me,{id:"tracking_number",value:x,onChange:ce=>p(ce.target.value),placeholder:"e.g., TRK-93234"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",children:"Status"}),n.jsxs(tt,{value:g,onValueChange:j,children:[n.jsx(Je,{className:"h-10",children:n.jsx(rt,{placeholder:"Select status"})}),n.jsx(et,{children:se.map(ce=>n.jsx(J,{value:ce.value,children:ce.label},ce.value))})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"expected_delivery",children:"Expected Delivery"}),n.jsx(me,{id:"expected_delivery",type:"date",value:I,onChange:ce=>W(ce.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"shipping_address",children:"Shipping Address"}),n.jsx(me,{id:"shipping_address",value:k,onChange:ce=>D(ce.target.value),placeholder:"Enter shipping address"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Notes"}),n.jsx(me,{id:"notes",value:E,onChange:ce=>A(ce.target.value),placeholder:"Add any notes about this order"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[n.jsxs(X,{className:"lg:col-span-1",children:[n.jsx(be,{className:"py-3 px-4 border-b",children:n.jsxs(Ve,{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(ot,{className:"h-4 w-4 text-primary"}),"Available Products (",fe.length,")"]})}),n.jsx(Q,{className:"p-2",children:G?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Bt,{className:"h-8 w-8 mx-auto mb-3 opacity-50 animate-spin"}),n.jsx("p",{className:"text-sm",children:"Loading products..."})]}):!o||!c?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(fr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"Please select apartment and vendor"}),n.jsx("p",{className:"text-sm",children:"Products will appear here"})]}):fe.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(ot,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No products found"}),n.jsx("p",{className:"text-sm",children:"This apartment/vendor has no products"})]}):n.jsx("div",{className:"max-h-[450px] overflow-y-auto",children:n.jsx("div",{children:fe.map((ce,je)=>{const $e=y.some(De=>De.productId===ce.id);return n.jsxs("div",{onClick:()=>!$e&&B(),className:`group flex items-center gap-2 px-2 py-1.5 transition-all cursor-pointer ${$e?"opacity-50 cursor-not-allowed bg-muted/30":"hover:bg-accent hover:shadow-sm"} ${je<fe.length-1?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 bg-muted/30 rounded flex items-center justify-center flex-shrink-0",children:ce.product_image?n.jsx("img",{src:ce.product_image,alt:ce.product,className:"w-full h-full object-cover rounded",onError:De=>{De.currentTarget.src="",De.currentTarget.style.display="none"}}):n.jsx(qi,{className:"h-4 w-4 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("p",{className:"font-medium text-xs truncate flex-1",children:ce.product}),ce.sku&&n.jsx("span",{className:"text-[10px] text-muted-foreground",children:ce.sku})]}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:ce.vendor_name||"No vendor"})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsx("p",{className:"font-semibold text-xs",children:Number(ce.unit_price).toLocaleString()}),$e?n.jsx("span",{className:"text-[10px] text-green-600 dark:text-green-500 font-medium",children:"Added"}):n.jsx("span",{className:"text-[10px] text-muted-foreground",children:"HUF"})]})]},ce.id)})})})})]}),n.jsxs(X,{className:"lg:col-span-1",children:[n.jsx(be,{className:"py-3 px-4 border-b",children:n.jsxs(Ve,{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(Ns,{className:"h-4 w-4 text-primary"}),"Order Items (",y.length,")"]}),y.length>0&&n.jsxs("span",{className:"text-xs font-normal text-muted-foreground",children:["Total: ",y.reduce((ce,je)=>ce+je.quantity*je.unitPrice,0).toLocaleString()," HUF"]})]})}),n.jsx(Q,{className:"p-2",children:y.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(Ns,{className:"h-6 w-6 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-xs font-medium",children:"No items in order"}),n.jsx("p",{className:"text-[10px] mt-1",children:"Click products to add them"})]}):n.jsx("div",{className:"max-h-[450px] overflow-y-auto",children:n.jsx("div",{children:y.map((ce,je)=>{const $e=fe.find(De=>De.id===ce.productId);return n.jsxs("div",{className:`group flex items-center gap-2 px-2 py-1.5 hover:bg-accent transition-all ${je<y.length-1?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 bg-muted/30 rounded flex items-center justify-center flex-shrink-0",children:$e!=null&&$e.product_image?n.jsx("img",{src:$e.product_image,alt:ce.productName,className:"w-full h-full object-cover rounded",onError:De=>{De.currentTarget.src="",De.currentTarget.style.display="none"}}):n.jsx(qi,{className:"h-4 w-4 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("p",{className:"text-xs font-medium truncate flex-1",children:ce.productName}),ce.sku&&n.jsx("span",{className:"text-[10px] text-muted-foreground",children:ce.sku})]}),n.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[n.jsx("button",{type:"button",onClick:()=>ie(je,"quantity",Math.max(1,ce.quantity-1)),className:"w-5 h-5 rounded bg-muted/50 hover:bg-muted flex items-center justify-center transition-colors",children:n.jsx(g7,{className:"h-3 w-3"})}),n.jsx("input",{type:"number",min:"1",value:ce.quantity,onChange:De=>ie(je,"quantity",parseInt(De.target.value)||1),className:"w-10 h-5 text-[11px] text-center border border-input bg-background rounded px-1"}),n.jsx("button",{type:"button",onClick:()=>ie(je,"quantity",ce.quantity+1),className:"w-5 h-5 rounded bg-muted/50 hover:bg-muted flex items-center justify-center transition-colors",children:n.jsx(Qn,{className:"h-3 w-3"})}),n.jsxs("span",{className:"text-[10px] text-muted-foreground ml-1",children:[" ",ce.unitPrice.toLocaleString()]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs font-semibold",children:(ce.quantity*ce.unitPrice).toLocaleString()}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"HUF"})]}),n.jsx("button",{type:"button",onClick:()=>Y(je),className:"opacity-0 group-hover:opacity-100 w-5 h-5 rounded-full bg-destructive/10 hover:bg-destructive/20 flex items-center justify-center transition-all",children:n.jsx(ps,{className:"h-3 w-3 text-destructive"})})]})]},je)})})})})]})]}),n.jsxs(X,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2 text-primary",children:[n.jsx(Nr,{className:"h-5 w-5"}),"Order Summary"]})}),n.jsx(Q,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Items"}),n.jsx("p",{className:"text-3xl font-bold",children:y.length})]}),n.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Units"}),n.jsx("p",{className:"text-3xl font-bold",children:y.reduce((ce,je)=>ce+je.quantity,0)})]}),n.jsxs("div",{className:"space-y-2 p-4 bg-background/50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsx("span",{children:"Items Total"}),n.jsxs("span",{children:[ue," HUF"]})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Shipping Cost"}),n.jsx(me,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:b,onChange:ce=>N(ce.target.value)})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Discount"}),n.jsx(me,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:S,onChange:ce=>_(ce.target.value)})]}),n.jsx(Lt,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold",children:"Total to Pay"}),n.jsxs("span",{className:"text-2xl font-bold text-primary",children:[Se," HUF"]})]})]})]})})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>t(`/orders/${e}`),children:"Cancel"}),n.jsx(ee,{type:"submit",className:"gap-2",disabled:K,children:K?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(gu,{className:"h-4 w-4"}),"Save Changes"]})})]})]})})]})}):n.jsx(ct,{title:"Not Found",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ot,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Order not found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"The order you're looking for doesn't exist."}),n.jsxs(ee,{onClick:()=>t("/orders"),children:[n.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})})},cVe=({open:e,onOpenChange:t,delivery:r})=>{const[s,a]=v.useState(null),[i,o]=v.useState(!1);if(v.useEffect(()=>{e&&(r!=null&&r.id)&&(o(!0),Uc.getDelivery(r.id).then(x=>a(x)).catch(x=>console.error("Failed to fetch delivery details:",x)).finally(()=>o(!1)))},[e,r==null?void 0:r.id]),!r)return null;const l=x=>({Scheduled:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/30","In Transit":"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/30",Delivered:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/30",Delayed:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/30",Cancelled:"bg-gray-500/10 text-gray-600 dark:text-gray-400 border-gray-500/30",Returned:"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/30"})[x]||"bg-muted text-muted-foreground",c=x=>({Urgent:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/30",High:"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/30",Medium:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/30",Low:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/30"})[x]||"bg-muted text-muted-foreground",d=s||r,u=s==null?void 0:s.apartment_details,f=s==null?void 0:s.vendor_details,m=u==null?void 0:u.client_details,h=(s==null?void 0:s.order_items)||[];return n.jsx(vn,{open:e,onOpenChange:t,children:n.jsxs(on,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsx(yn,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(jn,{className:"text-lg font-bold",children:"Delivery Details"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-0.5 font-mono",children:d.order_reference})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_e,{className:l(d.status),variant:"outline",children:d.status}),n.jsxs(_e,{className:c(d.priority),variant:"outline",children:[d.priority," Priority"]})]})]})}),i?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Bt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"my-2"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(X,{className:"border-border/50",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:n.jsx(va,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Delivery Address"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(u==null?void 0:u.name)||d.apartment_name}),(u==null?void 0:u.address)&&n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:u.address})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:n.jsx(os,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Contact Person"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(m==null?void 0:m.name)||(u==null?void 0:u.owner)||"Not specified"})]})]}),(m==null?void 0:m.phone)&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:n.jsx(To,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Contact Phone"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:m.phone})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-orange-500/10",children:n.jsx(_r,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Vendor"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(f==null?void 0:f.name)||d.vendor_name}),(f==null?void 0:f.delivery_terms)&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Carrier: ",f.delivery_terms]})]})]}),(f==null?void 0:f.contact_person)&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-indigo-500/10",children:n.jsx(fr,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Vendor Contact"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:f.contact_person})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/10",children:n.jsx(gn,{className:"h-4 w-4 text-cyan-600 dark:text-cyan-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Vendor Email"}),f!=null&&f.email?n.jsx("a",{href:`mailto:${f.email}`,className:"text-sm font-medium text-primary hover:underline mt-1 block",children:f.email}):n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Not available"})]})]}),(f==null?void 0:f.website)&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-teal-500/10",children:n.jsx(ec,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Website"}),n.jsxs("a",{href:f.website.startsWith("http")?f.website:`https://${f.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-primary hover:underline mt-1 flex items-center gap-1",children:[f.website,n.jsx(Ck,{className:"h-3 w-3"})]})]})]})]})]})})}),n.jsx(X,{className:"border-border/50",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[n.jsx(Qr,{className:"h-4 w-4 text-primary"}),"Delivery Schedule"]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected Delivery"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(s==null?void 0:s.expected_date)||d.expected_date})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Time Slot"}),n.jsxs("p",{className:"text-sm font-semibold mt-1 flex items-center gap-1",children:[n.jsx(wr,{className:"h-3.5 w-3.5 text-muted-foreground"}),(s==null?void 0:s.time_slot)||d.time_slot||"Not specified"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Actual Delivery"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(s==null?void 0:s.actual_date)||n.jsx("span",{className:"text-muted-foreground font-normal",children:"Pending"})})]})]})]})}),n.jsx(X,{className:"border-border/50",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[n.jsx(ot,{className:"h-4 w-4 text-primary"}),"Package Details"]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(hh,{className:"h-3 w-3"}),"Order Number"]}),n.jsx(_e,{variant:"outline",className:"text-xs mt-1.5 font-mono",children:d.order_reference})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(_g,{className:"h-3 w-3"}),"Items Count"]}),n.jsxs("p",{className:"text-sm font-semibold mt-1",children:[(s==null?void 0:s.order_items_count)||h.length||"-"," items"]})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(_7,{className:"h-3 w-3"}),"Weight"]}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:"-"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(Nr,{className:"h-3 w-3"}),"Order Total"]}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:s!=null&&s.order_total?`${Number(s.order_total).toFixed(2)}`:"-"})]})]}),((s==null?void 0:s.tracking_number)||d.tracking_number)&&n.jsxs("div",{className:"mt-3 pt-3 border-t",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Tracking Number"}),n.jsx(_e,{className:"bg-primary/10 text-primary text-xs font-mono mt-1.5",children:(s==null?void 0:s.tracking_number)||d.tracking_number})]})]})}),h.length>0&&n.jsx(X,{className:"border-border/50",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[n.jsx(_g,{className:"h-4 w-4 text-primary"}),"Delivered Products (",h.length,")"]}),n.jsx("div",{className:"rounded-lg border overflow-hidden",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Vt,{className:"bg-muted/50",children:[n.jsx(Pe,{className:"text-xs font-semibold",children:"Product"}),n.jsx(Pe,{className:"text-xs font-semibold",children:"SKU"}),n.jsx(Pe,{className:"text-xs font-semibold text-center",children:"Qty"}),n.jsx(Pe,{className:"text-xs font-semibold text-right",children:"Unit Price"}),n.jsx(Pe,{className:"text-xs font-semibold text-right",children:"Total"})]})}),n.jsx($s,{children:h.map((x,p)=>n.jsxs(Vt,{children:[n.jsx(Ne,{className:"text-sm font-medium",children:x.product_name}),n.jsx(Ne,{className:"text-xs text-muted-foreground font-mono",children:x.sku||"-"}),n.jsx(Ne,{className:"text-sm text-center",children:x.quantity}),n.jsxs(Ne,{className:"text-sm text-right",children:["",Number(x.unit_price).toFixed(2)]}),n.jsxs(Ne,{className:"text-sm font-semibold text-right",children:["",Number(x.total_price).toFixed(2)]})]},x.id||p))})]})})]})}),n.jsx(X,{className:"border-border/50",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[n.jsx(kn,{className:"h-4 w-4 text-primary"}),"Notes & Instructions"]}),(s==null?void 0:s.order_notes)&&n.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-amber-500/5 border border-amber-500/20 mb-4",children:[n.jsx(At,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-amber-700 dark:text-amber-300",children:"Special Instructions"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:s.order_notes})]})]}),s!=null&&s.status_history&&s.status_history.length>0?n.jsxs("div",{className:"space-y-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-3",children:"Status History"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-[11px] top-3 bottom-3 w-0.5 bg-border"}),n.jsx("div",{className:"space-y-3",children:s.status_history.map((x,p)=>{const g=b=>{switch(b){case"Delivered":return{icon:or,color:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/30"};case"In Transit":return{icon:_r,color:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/30"};case"Scheduled":return{icon:Qr,color:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/30"};case"Delayed":return{icon:wr,color:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/30"};case"Cancelled":return{icon:At,color:"bg-gray-500/10 text-gray-600 dark:text-gray-400 border-gray-500/30"};case"Returned":return{icon:ot,color:"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/30"};default:return{icon:kn,color:"bg-muted text-muted-foreground"}}},{icon:j,color:y}=g(x.status),w=p===0;return n.jsxs("div",{className:"relative flex gap-3 pl-0",children:[n.jsx("div",{className:`relative z-10 flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center ${y} ${w?"ring-2 ring-primary/20":""}`,children:n.jsx(j,{className:"h-3 w-3"})}),n.jsxs("div",{className:`flex-1 pb-3 ${w?"":"opacity-80"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(_e,{variant:"outline",className:`text-xs ${y}`,children:x.status}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(x.created_at).toLocaleString()}),x.changed_by&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["by ",x.changed_by]})]}),x.notes&&n.jsx("p",{className:"text-sm mt-1 text-foreground",children:x.notes}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[x.received_by&&n.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(os,{className:"h-3 w-3"}),"Received by: ",x.received_by]}),x.location&&n.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(va,{className:"h-3 w-3"}),x.location]}),x.delay_reason&&n.jsxs("span",{className:"text-xs text-red-600 dark:text-red-400 flex items-center gap-1",children:[n.jsx(At,{className:"h-3 w-3"}),"Reason: ",x.delay_reason]})]})]})]},x.id)})})]})]}):(s==null?void 0:s.notes)&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery Notes"}),n.jsx("p",{className:"text-sm mt-1",children:s.notes})]})]})}),(s==null?void 0:s.received_by)&&n.jsx(X,{className:"border-green-500/30 bg-green-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:n.jsx(or,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Received By"}),n.jsx("p",{className:"text-sm font-semibold",children:s.received_by}),s.actual_date&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["on ",s.actual_date]})]})]})})})]})]})]})})},dVe=({open:e,onOpenChange:t,delivery:r})=>{if(!r)return null;const s=[{date:"2025-11-10 14:30",status:r.status==="Delivered"?"Delivered":r.status==="In Transit"?"Out for Delivery":"Package Ready",location:r.status==="Delivered"?r.apartment_name:"Local Hub",description:r.status==="Delivered"?"Package delivered successfully":r.status==="In Transit"?"Package is out for delivery":"Package is ready for dispatch",active:!0},{date:"2025-11-09 10:15",status:"In Transit",location:"Distribution Center",description:"Package is on the way to delivery location",active:!1},{date:"2025-11-08 16:45",status:"Package Dispatched",location:`${r.vendor_name} Warehouse`,description:"Package has been dispatched from warehouse",active:!1},{date:"2025-11-08 09:00",status:"Order Confirmed",location:r.vendor_name,description:"Order has been confirmed and is being prepared",active:!1}];return n.jsx(vn,{open:e,onOpenChange:t,children:n.jsxs(on,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(yn,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-primary/10 rounded-lg",children:n.jsx(_r,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(jn,{className:"text-base font-bold",children:"Track Delivery"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.order_reference})]})]})}),n.jsx(Lt,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(X,{className:"border bg-gradient-to-br from-primary/5 to-primary/10",children:n.jsxs(Q,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-primary/10 rounded",children:n.jsx(ot,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Tracking Number"}),n.jsx("p",{className:"text-sm font-bold font-mono",children:r.tracking_number})]})]}),n.jsx(_e,{className:"bg-primary text-primary-foreground",children:"Carrier"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 pt-2 border-t border-primary/20",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(va,{className:"h-3.5 w-3.5 text-primary flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Destination"}),n.jsx("p",{className:"text-sm font-medium truncate",children:r.apartment_name})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_r,{className:"h-3.5 w-3.5 text-primary flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"From"}),n.jsx("p",{className:"text-sm font-medium truncate",children:r.vendor_name})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qr,{className:"h-3.5 w-3.5 text-primary flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"ETA"}),n.jsx("p",{className:"text-sm font-medium",children:r.expected_date})]})]})]})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b",children:[n.jsx("div",{className:"p-1 bg-primary/10 rounded",children:n.jsx(wr,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold",children:"Tracking History"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Latest updates"})]})]}),n.jsx("div",{className:"space-y-4",children:s.map((a,i)=>n.jsxs("div",{className:"flex gap-3 relative",children:[i!==s.length-1&&n.jsx("div",{className:"absolute left-3.5 top-8 bottom-0 w-0.5 bg-gradient-to-b from-primary/50 to-border"}),n.jsx("div",{className:"relative flex-shrink-0",children:n.jsx("div",{className:`w-7 h-7 rounded-full border-2 border-background flex items-center justify-center ${a.active?"bg-primary shadow-lg shadow-primary/20":"bg-muted"}`,children:a.active?n.jsx(_r,{className:"h-3.5 w-3.5 text-primary-foreground"}):n.jsx(or,{className:"h-3.5 w-3.5 text-muted-foreground"})})}),n.jsxs("div",{className:"flex-1 pb-2",children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsx("p",{className:`text-sm font-semibold ${a.active?"text-primary":""}`,children:a.status}),n.jsx(_e,{variant:"outline",className:"text-xs",children:a.date})]}),n.jsx("p",{className:"text-xs text-muted-foreground mb-0.5",children:a.description}),n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(va,{className:"h-3 w-3"}),a.location]})]})]},i))})]})})]})]})})};function uVe(e={}){const[t,r]=v.useState([]),[s,a]=v.useState(!0),[i,o]=v.useState(null),[l,c]=v.useState(0),d=v.useCallback(async()=>{try{a(!0),o(null);const m=await Uc.getDeliveries(e);r(m.results||[]),c(m.count||0)}catch(m){console.error("Failed to fetch deliveries:",m),o(m.message||"Failed to fetch deliveries"),r([])}finally{a(!1)}},[e.search,e.status,e.priority,e.apartment,e.vendor,e.page,e.page_size]);return v.useEffect(()=>{d()},[d]),{deliveries:t,loading:s,error:i,totalCount:l,refetch:d,updateStatus:async(m,h,x)=>{await Uc.updateStatus(m,h,x),await d()},deleteDelivery:async m=>{await Uc.deleteDelivery(m),await d()}}}function fVe(){const[e,t]=v.useState({scheduled:0,in_transit:0,delivered:0,delayed:0,total:0}),[r,s]=v.useState(!0);return v.useEffect(()=>{(async()=>{try{s(!0);const o=(await Uc.getDeliveries({page_size:1e3})).results||[];t({scheduled:o.filter(l=>l.status==="Scheduled").length,in_transit:o.filter(l=>l.status==="In Transit").length,delivered:o.filter(l=>l.status==="Delivered").length,delayed:o.filter(l=>l.status==="Delayed").length,total:o.length})}catch(i){console.error("Failed to fetch delivery statistics:",i)}finally{s(!1)}})()},[]),{statistics:e,loading:r}}function mVe(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{iconBg:"bg-blue-500/10"},{iconBg:"bg-yellow-500/10"},{iconBg:"bg-green-500/10"},{iconBg:"bg-orange-500/10"}].map((e,t)=>n.jsx(X,{className:"card-hover-effect",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-8 w-12"}),n.jsx(C,{className:"h-4 w-24"})]}),n.jsx("div",{className:`p-2.5 rounded-xl ${e.iconBg}`,children:n.jsx(C,{className:"h-5 w-5 rounded"})})]})})},t))})}function hVe(){return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"h-[200px] flex items-end justify-between gap-2 px-4",children:[...Array(5)].map((e,t)=>n.jsxs("div",{className:"flex-1 flex flex-col justify-end gap-2",children:[n.jsx(C,{className:"w-full rounded-t",style:{height:`${Math.random()*60+40}%`}}),n.jsx(C,{className:"h-3 w-full"})]},t))})})]}),n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"h-[200px] flex items-end justify-between gap-3 px-4",children:[70,85,75,95,80,60,50].map((e,t)=>n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end gap-2",children:[n.jsx(C,{className:"h-2 w-2 rounded-full"}),n.jsx(C,{className:"w-0.5",style:{height:`${e}%`}}),n.jsx(C,{className:"h-3 w-8"})]},t))})})]})]})}function pVe(){return n.jsxs("div",{className:"flex flex-col gap-3 mb-3",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between",children:[n.jsxs("div",{className:"flex gap-1 bg-muted rounded-lg p-1",children:[n.jsx(C,{className:"h-9 w-24 rounded-md"}),n.jsx(C,{className:"h-9 w-32 rounded-md"})]}),n.jsx(C,{className:"h-11 flex-1 max-w-md rounded-md"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-12"})]}),n.jsx(C,{className:"h-11 w-[140px] rounded-md"}),n.jsx(C,{className:"h-11 w-[140px] rounded-md"})]})]})}function xVe(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsx(C,{className:"h-6 w-40"})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Apartment","Vendor","Order No","Priority","ETA","Status","Tracking","Actions"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(8)].map((e,t)=>n.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-32"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-24 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-24 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-28 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"})]})})]},t))})]})})})]})}function gVe(){return n.jsxs("div",{className:"space-y-4",children:[n.jsx(mVe,{}),n.jsx(hVe,{}),n.jsx(pVe,{}),n.jsx(xVe,{})]})}const vVe=()=>{const[e,t]=v.useState(""),[r,s]=v.useState("all"),[a,i]=v.useState("all"),[o,l]=v.useState(null),[c,d]=v.useState(!1),[u,f]=v.useState(!1),[m,h]=v.useState(!1),{deliveries:x,loading:p,error:g,refetch:j,updateStatus:y}=uVe({search:e||void 0,status:r!=="all"?r:void 0,priority:a!=="all"?a:void 0});fVe();const w=_=>({Confirmed:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400","In Transit":"bg-blue-500/10 text-blue-600 dark:text-blue-400",Delayed:"bg-orange-500/10 text-orange-600 dark:text-orange-400",Received:"bg-green-500/10 text-green-600 dark:text-green-400",Returned:"bg-red-500/10 text-red-600 dark:text-red-400"})[_]||"bg-muted text-muted-foreground",b=_=>({High:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",Medium:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/20",Low:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20"})[_]||"bg-muted text-muted-foreground",N=Object.entries(x.reduce((_,E)=>{const A=E.vendor_name||"Unknown";return _[A]=(_[A]||0)+1,_},{})).map(([_,E])=>({vendor:_.split(" ")[0],deliveries:E})),S=[{day:"Mon",deliveries:8},{day:"Tue",deliveries:12},{day:"Wed",deliveries:10},{day:"Thu",deliveries:15},{day:"Fri",deliveries:11},{day:"Sat",deliveries:5},{day:"Sun",deliveries:3}];return p?n.jsx(ct,{title:"Deliveries",children:n.jsx(gVe,{})}):n.jsx(ct,{title:"Deliveries",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(X,{className:"card-hover-effect",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Confirmed"}),n.jsx("p",{className:"text-2xl font-bold",children:x.filter(_=>_.status==="Confirmed").length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor accepted"})]}),n.jsx("div",{className:"p-2.5 rounded-xl bg-blue-500/10",children:n.jsx(wr,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),n.jsx(X,{className:"card-hover-effect",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"In Transit"}),n.jsx("p",{className:"text-2xl font-bold",children:x.filter(_=>_.status==="In Transit").length}),n.jsxs("p",{className:"text-sm text-success flex items-center gap-1",children:[n.jsx(li,{className:"h-4 w-4"}),"Active"]})]}),n.jsx("div",{className:"p-2.5 rounded-xl bg-yellow-500/10",children:n.jsx(_r,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})})]})})}),n.jsx(X,{className:"card-hover-effect",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Received"}),n.jsx("p",{className:"text-2xl font-bold",children:x.filter(_=>_.status==="Received").length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"})]}),n.jsx("div",{className:"p-2.5 rounded-xl bg-green-500/10",children:n.jsx(or,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})})}),n.jsx(X,{className:"card-hover-effect",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Issues"}),n.jsx("p",{className:"text-2xl font-bold",children:x.filter(_=>_.status==="Delayed"||_.status==="Returned").length}),n.jsxs("p",{className:"text-sm text-orange-600 dark:text-orange-400 flex items-center gap-1",children:[n.jsx(ci,{className:"h-4 w-4"}),"Delayed/Returned"]})]}),n.jsx("div",{className:"p-2.5 rounded-xl bg-orange-500/10",children:n.jsx(ci,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ve,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(ot,{className:"h-5 w-5 text-primary"}),"Deliveries by Vendor"]})}),n.jsx(Q,{children:n.jsx(dn,{width:"100%",height:200,children:n.jsxs(Sa,{data:N,children:[n.jsx(zn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(rn,{dataKey:"vendor",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(nn,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(hr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"}}),n.jsx(Sn,{dataKey:"deliveries",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})})]}),n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ve,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(li,{className:"h-5 w-5 text-primary"}),"Weekly Delivery Trend"]})}),n.jsx(Q,{children:n.jsx(dn,{width:"100%",height:200,children:n.jsxs(V2,{data:S,children:[n.jsx(zn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(rn,{dataKey:"day",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(nn,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(hr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"}}),n.jsx(sc,{type:"monotone",dataKey:"deliveries",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",r:4}})]})})})]})]}),n.jsxs(Mo,{defaultValue:"list",className:"w-full",children:[n.jsxs("div",{className:"flex flex-col gap-3 mb-3",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between",children:[n.jsxs(ro,{children:[n.jsx(zt,{value:"list",children:"List View"}),n.jsx(zt,{value:"calendar",children:"Calendar View"})]}),n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(ma,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/70"}),n.jsx(me,{placeholder:"Search by apartment, vendor, order...",value:e,onChange:_=>t(_.target.value),className:"pl-10 h-11 bg-muted/30 border-border/50 focus:bg-background transition-colors"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Mv,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Filters:"})]}),n.jsxs(tt,{value:r,onValueChange:s,children:[n.jsx(Je,{className:"w-[140px] h-11 bg-muted/30 border-border/50",children:n.jsx(rt,{placeholder:"Status"})}),n.jsxs(et,{children:[n.jsx(J,{value:"all",children:"All Status"}),n.jsx(J,{value:"Confirmed",children:"Confirmed"}),n.jsx(J,{value:"In Transit",children:"In Transit"}),n.jsx(J,{value:"Delayed",children:"Delayed"}),n.jsx(J,{value:"Received",children:"Received"}),n.jsx(J,{value:"Returned",children:"Returned"})]})]}),n.jsxs(tt,{value:a,onValueChange:i,children:[n.jsx(Je,{className:"w-[140px] h-11 bg-muted/30 border-border/50",children:n.jsx(rt,{placeholder:"Priority"})}),n.jsxs(et,{children:[n.jsx(J,{value:"all",children:"All Priority"}),n.jsx(J,{value:"High",children:"High"}),n.jsx(J,{value:"Medium",children:"Medium"}),n.jsx(J,{value:"Low",children:"Low"})]})]}),(r!=="all"||a!=="all")&&n.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>{s("all"),i("all")},className:"h-11",children:"Clear Filters"})]})]}),n.jsx(Qt,{value:"list",className:"mt-0",children:n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ve,{className:"text-lg font-semibold",children:["All Deliveries (",x.length,")"]})}),n.jsx(Q,{children:g?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-destructive",children:g}),n.jsx(ee,{variant:"outline",className:"mt-4",onClick:j,children:"Try Again"})]}):n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Vt,{children:[n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Apartment"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Vendor"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Order No"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Priority"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"ETA"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Status"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Tracking"}),n.jsx(Pe,{className:"text-right font-semibold text-foreground/90",children:"Actions"})]})}),n.jsx($s,{children:x.length===0?n.jsx(Vt,{children:n.jsx(Ne,{colSpan:9,className:"text-center py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"No deliveries found"})})}):x.map(_=>n.jsxs(Vt,{className:"hover:bg-muted/50",children:[n.jsx(Ne,{className:"font-medium",children:_.apartment_name}),n.jsx(Ne,{className:"text-muted-foreground",children:_.vendor_name}),n.jsx(Ne,{children:n.jsx(_e,{variant:"outline",className:"font-mono",children:_.order_reference})}),n.jsx(Ne,{children:n.jsx(_e,{variant:"outline",className:b(_.priority),children:_.priority})}),n.jsx(Ne,{className:"text-muted-foreground",children:_.expected_date}),n.jsx(Ne,{children:n.jsx(_e,{variant:"outline",className:w(_.status),children:_.status})}),n.jsx(Ne,{children:_.tracking_number?n.jsx(_e,{variant:"outline",className:"font-mono",children:_.tracking_number}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(Ne,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(ee,{size:"sm",variant:"ghost",title:"View Details",onClick:()=>{l(_),d(!0)},children:n.jsx(oi,{className:"h-4 w-4"})}),n.jsx(ee,{size:"sm",variant:"ghost",title:"Track Delivery",onClick:()=>{l(_),h(!0)},children:n.jsx(Nse,{className:"h-4 w-4"})}),n.jsx(ee,{size:"sm",variant:"ghost",title:"Update Status",onClick:()=>{l(_),f(!0)},children:n.jsx(or,{className:"h-4 w-4"})})]})})]},_.id))})]})})})]})}),n.jsx(Qt,{value:"calendar",className:"mt-0",children:n.jsx(X,{children:n.jsxs(Q,{className:"p-6",children:[n.jsx("div",{className:"grid grid-cols-7 gap-3 mb-3",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(_=>n.jsx("div",{className:"text-center text-sm font-semibold text-muted-foreground py-2",children:_},_))}),n.jsx("div",{className:"grid grid-cols-7 gap-3",children:Array.from({length:35},(_,E)=>{const A=new Date,D=new Date(A.getFullYear(),A.getMonth(),1).getDay(),I=E-D+1,H=new Date(A.getFullYear(),A.getMonth(),I).toISOString().split("T")[0],F=x.filter(T=>T.expected_date===H);return E<D||I>new Date(A.getFullYear(),A.getMonth()+1,0).getDate()?n.jsx("div",{className:"aspect-square"},E):n.jsxs("div",{className:`aspect-square border rounded-lg p-2 hover:border-primary transition-colors ${F.length>0?"bg-primary/5 border-primary/20":"bg-muted/30"}`,children:[n.jsx("div",{className:"text-sm font-medium mb-1",children:I}),F.length>0&&n.jsxs("div",{className:"space-y-1",children:[F.slice(0,2).map(T=>{var P;return n.jsx("div",{className:`text-[10px] px-1 py-0.5 rounded truncate ${w(T.status)}`,children:(P=T.apartment_name)==null?void 0:P.split(" ")[0]},T.id)}),F.length>2&&n.jsxs("div",{className:"text-[10px] text-muted-foreground",children:["+",F.length-2]})]})]},E)})})]})})})]}),n.jsx(cVe,{open:c,onOpenChange:d,delivery:o}),o&&n.jsx(CQ,{open:u,onOpenChange:f,deliveryId:o.id,currentStatus:o.status,orderReference:o.order_reference,onStatusUpdated:()=>{j()}}),n.jsx(dVe,{open:m,onOpenChange:h,delivery:o})]})})};function wa(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var yVe=typeof Symbol=="function"&&Symbol.observable||"@@observable",G$=yVe,nC=()=>Math.random().toString(36).substring(7).split("").join("."),jVe={INIT:`@@redux/INIT${nC()}`,REPLACE:`@@redux/REPLACE${nC()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nC()}`},K$=jVe;function bVe(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function PQ(e,t,r){if(typeof e!="function")throw new Error(wa(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(wa(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(wa(1));return r(PQ)(e,t)}let s=e,a=t,i=new Map,o=i,l=0,c=!1;function d(){o===i&&(o=new Map,i.forEach((g,j)=>{o.set(j,g)}))}function u(){if(c)throw new Error(wa(3));return a}function f(g){if(typeof g!="function")throw new Error(wa(4));if(c)throw new Error(wa(5));let j=!0;d();const y=l++;return o.set(y,g),function(){if(j){if(c)throw new Error(wa(6));j=!1,d(),o.delete(y),i=null}}}function m(g){if(!bVe(g))throw new Error(wa(7));if(typeof g.type>"u")throw new Error(wa(8));if(typeof g.type!="string")throw new Error(wa(17));if(c)throw new Error(wa(9));try{c=!0,a=s(a,g)}finally{c=!1}return(i=o).forEach(y=>{y()}),g}function h(g){if(typeof g!="function")throw new Error(wa(10));s=g,m({type:K$.REPLACE})}function x(){const g=f;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(wa(11));function y(){const b=j;b.next&&b.next(u())}return y(),{unsubscribe:g(y)}},[G$](){return this}}}return m({type:K$.INIT}),{dispatch:m,subscribe:f,getState:u,replaceReducer:h,[G$]:x}}function Y$(e,t){return function(...r){return t(e.apply(this,r))}}function X$(e,t){if(typeof e=="function")return Y$(e,t);if(typeof e!="object"||e===null)throw new Error(wa(16));const r={};for(const s in e){const a=e[s];typeof a=="function"&&(r[s]=Y$(a,t))}return r}function kQ(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...s)=>t(r(...s)))}function wVe(...e){return t=>(r,s)=>{const a=t(r,s);let i=()=>{throw new Error(wa(15))};const o={getState:a.getState,dispatch:(c,...d)=>i(c,...d)},l=e.map(c=>c(o));return i=kQ(...l)(a.dispatch),{...a,dispatch:i}}}var NVe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny=v;function _Ve(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var SVe=typeof Object.is=="function"?Object.is:_Ve,CVe=Ny.useSyncExternalStore,EVe=Ny.useRef,AVe=Ny.useEffect,PVe=Ny.useMemo,kVe=Ny.useDebugValue;NVe.useSyncExternalStoreWithSelector=function(e,t,r,s,a){var i=EVe(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=PVe(function(){function c(h){if(!d){if(d=!0,u=h,h=s(h),a!==void 0&&o.hasValue){var x=o.value;if(a(x,h))return f=x}return f=h}if(x=f,SVe(u,h))return x;var p=s(h);return a!==void 0&&a(x,p)?(u=h,x):(u=h,f=p)}var d=!1,u,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,s,a]);var l=CVe(e,i[0],i[1]);return AVe(function(){o.hasValue=!0,o.value=l},[l]),kVe(l),l};var TVe=v.version.startsWith("19"),OVe=Symbol.for(TVe?"react.transitional.element":"react.element"),DVe=Symbol.for("react.portal"),IVe=Symbol.for("react.fragment"),RVe=Symbol.for("react.strict_mode"),MVe=Symbol.for("react.profiler"),FVe=Symbol.for("react.consumer"),$Ve=Symbol.for("react.context"),TQ=Symbol.for("react.forward_ref"),LVe=Symbol.for("react.suspense"),BVe=Symbol.for("react.suspense_list"),C3=Symbol.for("react.memo"),UVe=Symbol.for("react.lazy"),VVe=TQ,zVe=C3;function WVe(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case OVe:switch(e=e.type,e){case IVe:case MVe:case RVe:case LVe:case BVe:return e;default:switch(e=e&&e.$$typeof,e){case $Ve:case TQ:case UVe:case C3:return e;case FVe:return e;default:return t}}case DVe:return t}}}function HVe(e){return WVe(e)===C3}function qVe(e,t,r,s,{areStatesEqual:a,areOwnPropsEqual:i,areStatePropsEqual:o}){let l=!1,c,d,u,f,m;function h(y,w){return c=y,d=w,u=e(c,d),f=t(s,d),m=r(u,f,d),l=!0,m}function x(){return u=e(c,d),t.dependsOnOwnProps&&(f=t(s,d)),m=r(u,f,d),m}function p(){return e.dependsOnOwnProps&&(u=e(c,d)),t.dependsOnOwnProps&&(f=t(s,d)),m=r(u,f,d),m}function g(){const y=e(c,d),w=!o(y,u);return u=y,w&&(m=r(u,f,d)),m}function j(y,w){const b=!i(w,d),N=!a(y,c,w,d);return c=y,d=w,b&&N?x():b?p():N?g():m}return function(w,b){return l?j(w,b):h(w,b)}}function GVe(e,{initMapStateToProps:t,initMapDispatchToProps:r,initMergeProps:s,...a}){const i=t(e,a),o=r(e,a),l=s(e,a);return qVe(i,o,l,e,a)}function KVe(e,t){const r={};for(const s in e){const a=e[s];typeof a=="function"&&(r[s]=(...i)=>t(a(...i)))}return r}function uP(e){return function(r){const s=e(r);function a(){return s}return a.dependsOnOwnProps=!1,a}}function Q$(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function OQ(e,t){return function(s,{displayName:a}){const i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=Q$(e);let d=i(l,c);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=Q$(d),d=i(l,c)),d},i}}function E3(e,t){return(r,s)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${s.wrappedComponentName}.`)}}function YVe(e){return e&&typeof e=="object"?uP(t=>KVe(e,t)):e?typeof e=="function"?OQ(e):E3(e,"mapDispatchToProps"):uP(t=>({dispatch:t}))}function XVe(e){return e?typeof e=="function"?OQ(e):E3(e,"mapStateToProps"):uP(()=>({}))}function QVe(e,t,r){return{...r,...e,...t}}function ZVe(e){return function(r,{displayName:s,areMergedPropsEqual:a}){let i=!1,o;return function(c,d,u){const f=e(c,d,u);return i?a(f,o)||(o=f):(i=!0,o=f),o}}}function JVe(e){return e?typeof e=="function"?ZVe(e):E3(e,"mergeProps"):()=>QVe}function eze(e){e()}function tze(){let e=null,t=null;return{clear(){e=null,t=null},notify(){eze(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!s||e===null||(s=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var Z$={notify(){},get:()=>[]};function DQ(e,t){let r,s=Z$,a=0,i=!1;function o(p){u();const g=s.subscribe(p);let j=!1;return()=>{j||(j=!0,g(),f())}}function l(){s.notify()}function c(){x.onStateChange&&x.onStateChange()}function d(){return i}function u(){a++,r||(r=t?t.addNestedSub(c):e.subscribe(c),s=tze())}function f(){a--,r&&a===0&&(r(),r=void 0,s.clear(),s=Z$)}function m(){i||(i=!0,u())}function h(){i&&(i=!1,f())}const x={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>s};return x}var rze=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nze=rze(),sze=()=>typeof navigator<"u"&&navigator.product==="ReactNative",aze=sze(),ize=()=>nze||aze?v.useLayoutEffect:v.useEffect,Aw=ize();function J$(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function sC(e,t){if(J$(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!J$(e[r[a]],t[r[a]]))return!1;return!0}var oze={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},lze={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},cze={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},IQ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},dze={[VVe]:cze,[zVe]:IQ};function eL(e){return HVe(e)?IQ:dze[e.$$typeof]||oze}var uze=Object.defineProperty,fze=Object.getOwnPropertyNames,tL=Object.getOwnPropertySymbols,mze=Object.getOwnPropertyDescriptor,hze=Object.getPrototypeOf,rL=Object.prototype;function fP(e,t){if(typeof t!="string"){if(rL){const i=hze(t);i&&i!==rL&&fP(e,i)}let r=fze(t);tL&&(r=r.concat(tL(t)));const s=eL(e),a=eL(t);for(let i=0;i<r.length;++i){const o=r[i];if(!lze[o]&&!(a&&a[o])&&!(s&&s[o])){const l=mze(t,o);try{uze(e,o,l)}catch{}}}}return e}var aC=Symbol.for("react-redux-context"),iC=typeof globalThis<"u"?globalThis:{};function pze(){if(!v.createContext)return{};const e=iC[aC]??(iC[aC]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var RQ=pze(),xze=[null,null];function gze(e,t,r){Aw(()=>e(...t),r)}function vze(e,t,r,s,a,i){e.current=s,r.current=!1,a.current&&(a.current=null,i())}function yze(e,t,r,s,a,i,o,l,c,d,u){if(!e)return()=>{};let f=!1,m=null;const h=()=>{if(f||!l.current)return;const p=t.getState();let g,j;try{g=s(p,a.current)}catch(y){j=y,m=y}j||(m=null),g===i.current?o.current||d():(i.current=g,c.current=g,o.current=!0,u())};return r.onStateChange=h,r.trySubscribe(),h(),()=>{if(f=!0,r.tryUnsubscribe(),r.onStateChange=null,m)throw m}}function jze(e,t){return e===t}function bze(e,t,r,{pure:s,areStatesEqual:a=jze,areOwnPropsEqual:i=sC,areStatePropsEqual:o=sC,areMergedPropsEqual:l=sC,forwardRef:c=!1,context:d=RQ}={}){const u=d,f=XVe(e),m=YVe(t),h=JVe(r),x=!!e;return g=>{const j=g.displayName||g.name||"Component",y=`Connect(${j})`,w={shouldHandleStateChanges:x,displayName:y,wrappedComponentName:j,WrappedComponent:g,initMapStateToProps:f,initMapDispatchToProps:m,initMergeProps:h,areStatesEqual:a,areStatePropsEqual:o,areOwnPropsEqual:i,areMergedPropsEqual:l};function b(_){const[E,A,k]=v.useMemo(()=>{const{reactReduxForwardedRef:ue,...ge}=_;return[_.context,ue,ge]},[_]),D=v.useMemo(()=>{let ue=u;return E!=null&&E.Consumer,ue},[E,u]),I=v.useContext(D),W=!!_.store&&!!_.store.getState&&!!_.store.dispatch,H=!!I&&!!I.store,F=W?_.store:I.store,T=H?I.getServerState:F.getState,P=v.useMemo(()=>GVe(F.dispatch,w),[F]),[M,O]=v.useMemo(()=>{if(!x)return xze;const ue=DQ(F,W?void 0:I.subscription),ge=ue.notifyNestedSubs.bind(ue);return[ue,ge]},[F,W,I]),K=v.useMemo(()=>W?I:{...I,subscription:M},[W,I,M]),ne=v.useRef(void 0),R=v.useRef(k),V=v.useRef(void 0),L=v.useRef(!1),G=v.useRef(!1),le=v.useRef(void 0);Aw(()=>(G.current=!0,()=>{G.current=!1}),[]);const fe=v.useMemo(()=>()=>V.current&&k===R.current?V.current:P(F.getState(),k),[F,k]),B=v.useMemo(()=>ge=>M?yze(x,F,M,P,R,ne,L,G,V,O,ge):()=>{},[M]);gze(vze,[R,ne,L,k,V,O]);let Y;try{Y=v.useSyncExternalStore(B,fe,T?()=>P(T(),k):fe)}catch(ue){throw le.current&&(ue.message+=`
The error may be correlated with this previous error:
${le.current.stack}

`),ue}Aw(()=>{le.current=void 0,V.current=void 0,ne.current=Y});const ie=v.useMemo(()=>v.createElement(g,{...Y,ref:A}),[A,g,Y]);return v.useMemo(()=>x?v.createElement(D.Provider,{value:K},ie):ie,[D,ie,K])}const S=v.memo(b);if(S.WrappedComponent=g,S.displayName=b.displayName=y,c){const E=v.forwardRef(function(k,D){return v.createElement(S,{...k,reactReduxForwardedRef:D})});return E.displayName=y,E.WrappedComponent=g,fP(E,g)}return fP(S,g)}}var MQ=bze;function wze(e){const{children:t,context:r,serverState:s,store:a}=e,i=v.useMemo(()=>{const c=DQ(a);return{store:a,subscription:c,getServerState:s?()=>s:void 0}},[a,s]),o=v.useMemo(()=>a.getState(),[a]);Aw(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||RQ;return v.createElement(l.Provider,{value:i},t)}var Nze=wze,rl=function(t){var r=t.top,s=t.right,a=t.bottom,i=t.left,o=s-i,l=a-r,c={top:r,right:s,bottom:a,left:i,width:o,height:l,x:i,y:r,center:{x:(s+i)/2,y:(a+r)/2}};return c},A3=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},nL=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},_ze=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},oC={top:0,right:0,bottom:0,left:0},P3=function(t){var r=t.borderBox,s=t.margin,a=s===void 0?oC:s,i=t.border,o=i===void 0?oC:i,l=t.padding,c=l===void 0?oC:l,d=rl(A3(r,a)),u=rl(nL(r,o)),f=rl(nL(u,c));return{marginBox:d,borderBox:rl(r),paddingBox:u,contentBox:f,margin:a,border:o,padding:c}},oo=function(t){var r=t.slice(0,-2),s=t.slice(-2);if(s!=="px")return 0;var a=Number(r);return isNaN(a)&&_u(),a},Sze=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Pw=function(t,r){var s=t.borderBox,a=t.border,i=t.margin,o=t.padding,l=_ze(s,r);return P3({borderBox:l,border:a,margin:i,padding:o})},kw=function(t,r){return r===void 0&&(r=Sze()),Pw(t,r)},FQ=function(t,r){var s={top:oo(r.marginTop),right:oo(r.marginRight),bottom:oo(r.marginBottom),left:oo(r.marginLeft)},a={top:oo(r.paddingTop),right:oo(r.paddingRight),bottom:oo(r.paddingBottom),left:oo(r.paddingLeft)},i={top:oo(r.borderTopWidth),right:oo(r.borderRightWidth),bottom:oo(r.borderBottomWidth),left:oo(r.borderLeftWidth)};return P3({borderBox:t,margin:s,padding:a,border:i})},$Q=function(t){var r=t.getBoundingClientRect(),s=window.getComputedStyle(t);return FQ(r,s)},dv=function(t){var r=[],s=null,a=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];r=l,!s&&(s=requestAnimationFrame(function(){s=null,t.apply(void 0,r)}))};return a.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},a};function LQ(e,t){}LQ.bind(null,"warn");LQ.bind(null,"error");function fu(){}function Cze(e,t){return{...e,...t}}function bo(e,t,r){const s=t.map(a=>{const i=Cze(r,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){s.forEach(i=>{i()})}}const Eze="Invariant failed";class Tw extends Error{}Tw.prototype.toString=function(){return this.message};function at(e,t){throw new Tw(Eze)}class Aze extends z.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=fu,this.onWindowError=r=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),r.error instanceof Tw&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=bo(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Tw){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Pze=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Ow=e=>e+1,kze=e=>`
  You have lifted an item in position ${Ow(e.source.index)}
`,BQ=(e,t)=>{const r=e.droppableId===t.droppableId,s=Ow(e.index),a=Ow(t.index);return r?`
      You have moved the item from position ${s}
      to position ${a}
    `:`
    You have moved the item from position ${s}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${a}
  `},UQ=(e,t,r)=>t.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,Tze=e=>{const t=e.destination;if(t)return BQ(e.source,t);const r=e.combine;return r?UQ(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},sL=e=>`
  The item has returned to its starting position
  of ${Ow(e.index)}
`,Oze=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${sL(e.source)}
    `;const t=e.destination,r=e.combine;return t?`
      You have dropped the item.
      ${BQ(e.source,t)}
    `:r?`
      You have dropped the item.
      ${UQ(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${sL(e.source)}
  `},hb={dragHandleUsageInstructions:Pze,onDragStart:kze,onDragUpdate:Tze,onDragEnd:Oze};function Dze(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function VQ(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Dze(e[r],t[r]))return!1;return!0}function ur(e,t){const r=v.useState(()=>({inputs:t,result:e()}))[0],s=v.useRef(!0),a=v.useRef(r),o=s.current||!!(t&&a.current.inputs&&VQ(t,a.current.inputs))?a.current:{inputs:t,result:e()};return v.useEffect(()=>{s.current=!1,a.current=o},[o]),o.result}function St(e,t){return ur(()=>e,t)}const Ls={x:0,y:0},Ys=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Fi=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),mu=(e,t)=>e.x===t.x&&e.y===t.y,mx=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),nm=(e,t,r=0)=>e==="x"?{x:t,y:r}:{x:r,y:t},uv=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),aL=(e,t)=>Math.min(...t.map(r=>uv(e,r))),zQ=e=>t=>({x:e(t.x),y:e(t.y)});var Ize=(e,t)=>{const r=rl({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r};const _y=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),iL=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Rze={top:0,right:0,bottom:0,left:0},Mze=(e,t)=>t?_y(e,t.scroll.diff.displacement):e,Fze=(e,t,r)=>r&&r.increasedBy?{...e,[t.end]:e[t.end]+r.increasedBy[t.line]}:e,$ze=(e,t)=>t&&t.shouldClipSubject?Ize(t.pageMarginBox,e):rl(e);var Op=({page:e,withPlaceholder:t,axis:r,frame:s})=>{const a=Mze(e.marginBox,s),i=Fze(a,r,t),o=$ze(i,s);return{page:e,withPlaceholder:t,active:o}},k3=(e,t)=>{e.frame||at();const r=e.frame,s=Fi(t,r.scroll.initial),a=mx(s),i={...r,scroll:{initial:r.scroll.initial,current:t,diff:{value:s,displacement:a},max:r.scroll.max}},o=Op({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:o}};function Rs(e,t=VQ){let r=null;function s(...a){if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;const i=e.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return s.clear=function(){r=null},s}const WQ=Rs(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),HQ=Rs(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),X2=Rs(e=>Object.values(e)),Lze=Rs(e=>Object.values(e));var hx=Rs((e,t)=>Lze(t).filter(s=>e===s.descriptor.droppableId).sort((s,a)=>s.descriptor.index-a.descriptor.index));function T3(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Q2(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Z2=Rs((e,t)=>t.filter(r=>r.descriptor.id!==e.descriptor.id)),Bze=({isMovingForward:e,draggable:t,destination:r,insideDestination:s,previousImpact:a})=>{if(!r.isCombineEnabled||!T3(a))return null;function o(h){const x={type:"COMBINE",combine:{draggableId:h,droppableId:r.descriptor.id}};return{...a,at:x}}const l=a.displaced.all,c=l.length?l[0]:null;if(e)return c?o(c):null;const d=Z2(t,s);if(!c){if(!d.length)return null;const h=d[d.length-1];return o(h.descriptor.id)}const u=d.findIndex(h=>h.descriptor.id===c);u===-1&&at();const f=u-1;if(f<0)return null;const m=d[f];return o(m.descriptor.id)},px=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const qQ={point:Ls,value:0},fv={invisible:{},visible:{},all:[]},Uze={displaced:fv,displacedBy:qQ,at:null};var Co=(e,t)=>r=>e<=r&&r<=t,GQ=e=>{const t=Co(e.top,e.bottom),r=Co(e.left,e.right);return s=>{if(t(s.top)&&t(s.bottom)&&r(s.left)&&r(s.right))return!0;const i=t(s.top)||t(s.bottom),o=r(s.left)||r(s.right);if(i&&o)return!0;const c=s.top<e.top&&s.bottom>e.bottom,d=s.left<e.left&&s.right>e.right;return c&&d?!0:c&&o||d&&i}},Vze=e=>{const t=Co(e.top,e.bottom),r=Co(e.left,e.right);return s=>t(s.top)&&t(s.bottom)&&r(s.left)&&r(s.right)};const O3={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},KQ={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var zze=e=>t=>{const r=Co(t.top,t.bottom),s=Co(t.left,t.right);return a=>e===O3?r(a.top)&&r(a.bottom):s(a.left)&&s(a.right)};const Wze=(e,t)=>{const r=t.frame?t.frame.scroll.diff.displacement:Ls;return _y(e,r)},Hze=(e,t,r)=>t.subject.active?r(t.subject.active)(e):!1,qze=(e,t,r)=>r(t)(e),D3=({target:e,destination:t,viewport:r,withDroppableDisplacement:s,isVisibleThroughFrameFn:a})=>{const i=s?Wze(e,t):e;return Hze(i,t,a)&&qze(i,r,a)},Gze=e=>D3({...e,isVisibleThroughFrameFn:GQ}),YQ=e=>D3({...e,isVisibleThroughFrameFn:Vze}),Kze=e=>D3({...e,isVisibleThroughFrameFn:zze(e.destination.axis)}),Yze=(e,t,r)=>{if(typeof r=="boolean")return r;if(!t)return!0;const{invisible:s,visible:a}=t;if(s[e])return!1;const i=a[e];return i?i.shouldAnimate:!0};function Xze(e,t){const r=e.page.marginBox,s={top:t.point.y,right:0,bottom:0,left:t.point.x};return rl(A3(r,s))}function mv({afterDragging:e,destination:t,displacedBy:r,viewport:s,forceShouldAnimate:a,last:i}){return e.reduce(function(l,c){const d=Xze(c,r),u=c.descriptor.id;if(l.all.push(u),!Gze({target:d,destination:t,viewport:s,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const m=Yze(u,i,a),h={draggableId:u,shouldAnimate:m};return l.visible[u]=h,l},{all:[],visible:{},invisible:{}})}function Qze(e,t){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function oL({insideDestination:e,inHomeList:t,displacedBy:r,destination:s}){const a=Qze(e,{inHomeList:t});return{displaced:fv,displacedBy:r,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:a}}}}function Dw({draggable:e,insideDestination:t,destination:r,viewport:s,displacedBy:a,last:i,index:o,forceShouldAnimate:l}){const c=px(e,r);if(o==null)return oL({insideDestination:t,inHomeList:c,displacedBy:a,destination:r});const d=t.find(x=>x.descriptor.index===o);if(!d)return oL({insideDestination:t,inHomeList:c,displacedBy:a,destination:r});const u=Z2(e,t),f=t.indexOf(d),m=u.slice(f);return{displaced:mv({afterDragging:m,destination:r,displacedBy:a,last:i,viewport:s.frame,forceShouldAnimate:l}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function Su(e,t){return!!t.effected[e]}var Zze=({isMovingForward:e,destination:t,draggables:r,combine:s,afterCritical:a})=>{if(!t.isCombineEnabled)return null;const i=s.draggableId,l=r[i].descriptor.index;return Su(i,a)?e?l:l-1:e?l+1:l},Jze=({isMovingForward:e,isInHomeList:t,insideDestination:r,location:s})=>{if(!r.length)return null;const a=s.index,i=e?a+1:a-1,o=r[0].descriptor.index,l=r[r.length-1].descriptor.index,c=t?l:l+1;return i<o||i>c?null:i},eWe=({isMovingForward:e,isInHomeList:t,draggable:r,draggables:s,destination:a,insideDestination:i,previousImpact:o,viewport:l,afterCritical:c})=>{const d=o.at;if(d||at(),d.type==="REORDER"){const f=Jze({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:i});return f==null?null:Dw({draggable:r,insideDestination:i,destination:a,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:f})}const u=Zze({isMovingForward:e,destination:a,displaced:o.displaced,draggables:s,combine:d.combine,afterCritical:c});return u==null?null:Dw({draggable:r,insideDestination:i,destination:a,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:u})},tWe=({displaced:e,afterCritical:t,combineWith:r,displacedBy:s})=>{const a=!!(e.visible[r]||e.invisible[r]);return Su(r,t)?a?Ls:mx(s.point):a?s.point:Ls},rWe=({afterCritical:e,impact:t,draggables:r})=>{const s=Q2(t);s||at();const a=s.draggableId,i=r[a].page.borderBox.center,o=tWe({displaced:t.displaced,afterCritical:e,combineWith:a,displacedBy:t.displacedBy});return Ys(i,o)};const XQ=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,nWe=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,I3=(e,t,r)=>t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,lL=({axis:e,moveRelativeTo:t,isMoving:r})=>nm(e.line,t.marginBox[e.end]+XQ(e,r),I3(e,t.marginBox,r)),cL=({axis:e,moveRelativeTo:t,isMoving:r})=>nm(e.line,t.marginBox[e.start]-nWe(e,r),I3(e,t.marginBox,r)),sWe=({axis:e,moveInto:t,isMoving:r})=>nm(e.line,t.contentBox[e.start]+XQ(e,r),I3(e,t.contentBox,r));var aWe=({impact:e,draggable:t,draggables:r,droppable:s,afterCritical:a})=>{const i=hx(s.descriptor.id,r),o=t.page,l=s.axis;if(!i.length)return sWe({axis:l,moveInto:s.page,isMoving:o});const{displaced:c,displacedBy:d}=e,u=c.all[0];if(u){const m=r[u];if(Su(u,a))return cL({axis:l,moveRelativeTo:m.page,isMoving:o});const h=Pw(m.page,d.point);return cL({axis:l,moveRelativeTo:h,isMoving:o})}const f=i[i.length-1];if(f.descriptor.id===t.descriptor.id)return o.borderBox.center;if(Su(f.descriptor.id,a)){const m=Pw(f.page,mx(a.displacedBy.point));return lL({axis:l,moveRelativeTo:m,isMoving:o})}return lL({axis:l,moveRelativeTo:f.page,isMoving:o})},mP=(e,t)=>{const r=e.frame;return r?Ys(t,r.scroll.diff.displacement):t};const iWe=({impact:e,draggable:t,droppable:r,draggables:s,afterCritical:a})=>{const i=t.page.borderBox.center,o=e.at;return!r||!o?i:o.type==="REORDER"?aWe({impact:e,draggable:t,draggables:s,droppable:r,afterCritical:a}):rWe({impact:e,draggables:s,afterCritical:a})};var J2=e=>{const t=iWe(e),r=e.droppable;return r?mP(r,t):t},QQ=(e,t)=>{const r=Fi(t,e.scroll.initial),s=mx(r);return{frame:rl({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:s}}}};function dL(e,t){return e.map(r=>t[r])}function oWe(e,t){for(let r=0;r<t.length;r++){const s=t[r].visible[e];if(s)return s}return null}var lWe=({impact:e,viewport:t,destination:r,draggables:s,maxScrollChange:a})=>{const i=QQ(t,Ys(t.scroll.current,a)),o=r.frame?k3(r,Ys(r.frame.scroll.current,a)):r,l=e.displaced,c=mv({afterDragging:dL(l.all,s),destination:r,displacedBy:e.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),d=mv({afterDragging:dL(l.all,s),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),u={},f={},m=[l,c,d];return l.all.forEach(x=>{const p=oWe(x,m);if(p){f[x]=p;return}u[x]=!0}),{...e,displaced:{all:l.all,invisible:u,visible:f}}},cWe=(e,t)=>Ys(e.scroll.diff.displacement,t),R3=({pageBorderBoxCenter:e,draggable:t,viewport:r})=>{const s=cWe(r,e),a=Fi(s,t.page.borderBox.center);return Ys(t.client.borderBox.center,a)},ZQ=({draggable:e,destination:t,newPageBorderBoxCenter:r,viewport:s,withDroppableDisplacement:a,onlyOnMainAxis:i=!1})=>{const o=Fi(r,e.page.borderBox.center),c={target:_y(e.page.borderBox,o),destination:t,withDroppableDisplacement:a,viewport:s};return i?Kze(c):YQ(c)},dWe=({isMovingForward:e,draggable:t,destination:r,draggables:s,previousImpact:a,viewport:i,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:c})=>{if(!r.isEnabled)return null;const d=hx(r.descriptor.id,s),u=px(t,r),f=Bze({isMovingForward:e,draggable:t,destination:r,insideDestination:d,previousImpact:a})||eWe({isMovingForward:e,isInHomeList:u,draggable:t,draggables:s,destination:r,insideDestination:d,previousImpact:a,viewport:i,afterCritical:c});if(!f)return null;const m=J2({impact:f,draggable:t,droppable:r,draggables:s,afterCritical:c});if(ZQ({draggable:t,destination:r,newPageBorderBoxCenter:m,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:R3({pageBorderBoxCenter:m,draggable:t,viewport:i}),impact:f,scrollJumpRequest:null};const x=Fi(m,o),p=lWe({impact:f,viewport:i,destination:r,draggables:s,maxScrollChange:x});return{clientSelection:l,impact:p,scrollJumpRequest:x}};const ba=e=>{const t=e.subject.active;return t||at(),t};var uWe=({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:s,viewport:a})=>{const i=r.subject.active;if(!i)return null;const o=r.axis,l=Co(i[o.start],i[o.end]),c=X2(s).filter(u=>u!==r).filter(u=>u.isEnabled).filter(u=>!!u.subject.active).filter(u=>GQ(a.frame)(ba(u))).filter(u=>{const f=ba(u);return e?i[o.crossAxisEnd]<f[o.crossAxisEnd]:f[o.crossAxisStart]<i[o.crossAxisStart]}).filter(u=>{const f=ba(u),m=Co(f[o.start],f[o.end]);return l(f[o.start])||l(f[o.end])||m(i[o.start])||m(i[o.end])}).sort((u,f)=>{const m=ba(u)[o.crossAxisStart],h=ba(f)[o.crossAxisStart];return e?m-h:h-m}).filter((u,f,m)=>ba(u)[o.crossAxisStart]===ba(m[0])[o.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(u=>Co(ba(u)[o.start],ba(u)[o.end])(t[o.line]));return d.length===1?d[0]:d.length>1?d.sort((u,f)=>ba(u)[o.start]-ba(f)[o.start])[0]:c.sort((u,f)=>{const m=aL(t,iL(ba(u))),h=aL(t,iL(ba(f)));return m!==h?m-h:ba(u)[o.start]-ba(f)[o.start]})[0]};const uL=(e,t)=>{const r=e.page.borderBox.center;return Su(e.descriptor.id,t)?Fi(r,t.displacedBy.point):r},fWe=(e,t)=>{const r=e.page.borderBox;return Su(e.descriptor.id,t)?_y(r,mx(t.displacedBy.point)):r};var mWe=({pageBorderBoxCenter:e,viewport:t,destination:r,insideDestination:s,afterCritical:a})=>s.filter(o=>YQ({target:fWe(o,a),destination:r,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const c=uv(e,mP(r,uL(o,a))),d=uv(e,mP(r,uL(l,a)));return c<d?-1:d<c?1:o.descriptor.index-l.descriptor.index})[0]||null,Sy=Rs(function(t,r){const s=r[t.line];return{value:s,point:nm(t.line,s)}});const hWe=(e,t,r)=>{const s=e.axis;if(e.descriptor.mode==="virtual")return nm(s.line,t[s.line]);const a=e.subject.page.contentBox[s.size],c=hx(e.descriptor.id,r).reduce((d,u)=>d+u.client.marginBox[s.size],0)+t[s.line]-a;return c<=0?null:nm(s.line,c)},JQ=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),eZ=(e,t,r)=>{const s=e.frame;px(t,e)&&at(),e.subject.withPlaceholder&&at();const a=Sy(e.axis,t.displaceBy).point,i=hWe(e,a,r),o={placeholderSize:a,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!s){const u=Op({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:u}}const l=i?Ys(s.scroll.max,i):s.scroll.max,c=JQ(s,l),d=Op({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:c});return{...e,subject:d,frame:c}},pWe=e=>{const t=e.subject.withPlaceholder;t||at();const r=e.frame;if(!r){const o=Op({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const s=t.oldFrameMaxScroll;s||at();const a=JQ(r,s),i=Op({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return{...e,subject:i,frame:a}};var xWe=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:r,draggable:s,draggables:a,destination:i,viewport:o,afterCritical:l})=>{if(!t){if(r.length)return null;const f={displaced:fv,displacedBy:qQ,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},m=J2({impact:f,draggable:s,droppable:i,draggables:a,afterCritical:l}),h=px(s,i)?i:eZ(i,s,a);return ZQ({draggable:s,destination:h,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const c=e[i.axis.line]<=t.page.borderBox.center[i.axis.line],d=(()=>{const f=t.descriptor.index;return t.descriptor.id===s.descriptor.id||c?f:f+1})(),u=Sy(i.axis,s.displaceBy);return Dw({draggable:s,insideDestination:r,destination:i,viewport:o,displacedBy:u,last:fv,index:d})},gWe=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:r,isOver:s,draggables:a,droppables:i,viewport:o,afterCritical:l})=>{const c=uWe({isMovingForward:e,pageBorderBoxCenter:t,source:s,droppables:i,viewport:o});if(!c)return null;const d=hx(c.descriptor.id,a),u=mWe({pageBorderBoxCenter:t,viewport:o,destination:c,insideDestination:d,afterCritical:l}),f=xWe({previousPageBorderBoxCenter:t,destination:c,draggable:r,draggables:a,moveRelativeTo:u,insideDestination:d,viewport:o,afterCritical:l});if(!f)return null;const m=J2({impact:f,draggable:r,droppable:c,draggables:a,afterCritical:l});return{clientSelection:R3({pageBorderBoxCenter:m,draggable:r,viewport:o}),impact:f,scrollJumpRequest:null}},zi=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const vWe=(e,t)=>{const r=zi(e);return r?t[r]:null};var yWe=({state:e,type:t})=>{const r=vWe(e.impact,e.dimensions.droppables),s=!!r,a=e.dimensions.droppables[e.critical.droppable.id],i=r||a,o=i.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!s)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],u=e.current.page.borderBoxCenter,{draggables:f,droppables:m}=e.dimensions;return l?dWe({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,destination:i,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):gWe({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,isOver:i,draggables:f,droppables:m,viewport:e.viewport,afterCritical:e.afterCritical})};function tf(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function tZ(e){const t=Co(e.top,e.bottom),r=Co(e.left,e.right);return function(a){return t(a.y)&&r(a.x)}}function jWe(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function bWe({pageBorderBox:e,draggable:t,candidates:r}){const s=t.page.borderBox.center,a=r.map(i=>{const o=i.axis,l=nm(i.axis.line,e.center[o.line],i.page.borderBox.center[o.crossAxisLine]);return{id:i.descriptor.id,distance:uv(s,l)}}).sort((i,o)=>o.distance-i.distance);return a[0]?a[0].id:null}function wWe({pageBorderBox:e,draggable:t,droppables:r}){const s=X2(r).filter(a=>{if(!a.isEnabled)return!1;const i=a.subject.active;if(!i||!jWe(e,i))return!1;if(tZ(i)(e.center))return!0;const o=a.axis,l=i.center[o.crossAxisLine],c=e[o.crossAxisStart],d=e[o.crossAxisEnd],u=Co(i[o.crossAxisStart],i[o.crossAxisEnd]),f=u(c),m=u(d);return!f&&!m?!0:f?c<l:d>l});return s.length?s.length===1?s[0].descriptor.id:bWe({pageBorderBox:e,draggable:t,candidates:s}):null}const rZ=(e,t)=>rl(_y(e,t));var NWe=(e,t)=>{const r=e.frame;return r?rZ(t,r.scroll.diff.value):t};function nZ({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function _We({draggable:e,closest:t,inHomeList:r}){return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var SWe=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:r,insideDestination:s,last:a,viewport:i,afterCritical:o})=>{const l=r.axis,c=Sy(r.axis,t.displaceBy),d=c.value,u=e[l.start],f=e[l.end],h=Z2(t,s).find(p=>{const g=p.descriptor.id,j=p.page.borderBox.center[l.line],y=Su(g,o),w=nZ({displaced:a,id:g});return y?w?f<=j:u<j-d:w?f<=j+d:u<j})||null,x=_We({draggable:t,closest:h,inHomeList:px(t,r)});return Dw({draggable:t,insideDestination:s,destination:r,viewport:i,last:a,displacedBy:c,index:x})};const CWe=4;var EWe=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:r,destination:s,insideDestination:a,afterCritical:i})=>{if(!s.isCombineEnabled)return null;const o=s.axis,l=Sy(s.axis,e.displaceBy),c=l.value,d=t[o.start],u=t[o.end],m=Z2(e,a).find(x=>{const p=x.descriptor.id,g=x.page.borderBox,y=g[o.size]/CWe,w=Su(p,i),b=nZ({displaced:r.displaced,id:p});return w?b?u>g[o.start]+y&&u<g[o.end]-y:d>g[o.start]-c+y&&d<g[o.end]-c-y:b?u>g[o.start]+c+y&&u<g[o.end]+c-y:d>g[o.start]+y&&d<g[o.end]-y});return m?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:s.descriptor.id}}}:null},sZ=({pageOffset:e,draggable:t,draggables:r,droppables:s,previousImpact:a,viewport:i,afterCritical:o})=>{const l=rZ(t.page.borderBox,e),c=wWe({pageBorderBox:l,draggable:t,droppables:s});if(!c)return Uze;const d=s[c],u=hx(d.descriptor.id,r),f=NWe(d,l);return EWe({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:a,destination:d,insideDestination:u,afterCritical:o})||SWe({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:d,insideDestination:u,last:a.displaced,viewport:i,afterCritical:o})},M3=(e,t)=>({...e,[t.descriptor.id]:t});const AWe=({previousImpact:e,impact:t,droppables:r})=>{const s=zi(e),a=zi(t);if(!s||s===a)return r;const i=r[s];if(!i.subject.withPlaceholder)return r;const o=pWe(i);return M3(r,o)};var PWe=({draggable:e,draggables:t,droppables:r,previousImpact:s,impact:a})=>{const i=AWe({previousImpact:s,impact:a,droppables:r}),o=zi(a);if(!o)return i;const l=r[o];if(px(e,l)||l.subject.withPlaceholder)return i;const c=eZ(l,e,t);return M3(i,c)},$g=({state:e,clientSelection:t,dimensions:r,viewport:s,impact:a,scrollJumpRequest:i})=>{const o=s||e.viewport,l=r||e.dimensions,c=t||e.current.client.selection,d=Fi(c,e.initial.client.selection),u={offset:d,selection:c,borderBoxCenter:Ys(e.initial.client.borderBoxCenter,d)},f={selection:Ys(u.selection,o.scroll.current),borderBoxCenter:Ys(u.borderBoxCenter,o.scroll.current),offset:Ys(u.offset,o.scroll.diff.value)},m={client:u,page:f};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:m};const h=l.draggables[e.critical.draggable.id],x=a||sZ({pageOffset:f.offset,draggable:h,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),p=PWe({draggable:h,impact:x,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:m,dimensions:{draggables:l.draggables,droppables:p},impact:x,viewport:o,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function kWe(e,t){return e.map(r=>t[r])}var aZ=({impact:e,viewport:t,draggables:r,destination:s,forceShouldAnimate:a})=>{const i=e.displaced,o=kWe(i.all,r),l=mv({afterDragging:o,destination:s,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:a,last:i});return{...e,displaced:l}},iZ=({impact:e,draggable:t,droppable:r,draggables:s,viewport:a,afterCritical:i})=>{const o=J2({impact:e,draggable:t,draggables:s,droppable:r,afterCritical:i});return R3({pageBorderBoxCenter:o,draggable:t,viewport:a})},oZ=({state:e,dimensions:t,viewport:r})=>{e.movementMode!=="SNAP"&&at();const s=e.impact,a=r||e.viewport,i=t||e.dimensions,{draggables:o,droppables:l}=i,c=o[e.critical.draggable.id],d=zi(s);d||at();const u=l[d],f=aZ({impact:s,viewport:a,destination:u,draggables:o}),m=iZ({impact:f,draggable:c,droppable:u,draggables:o,viewport:a,afterCritical:e.afterCritical});return $g({impact:f,clientSelection:m,state:e,dimensions:i,viewport:a})},TWe=e=>({index:e.index,droppableId:e.droppableId}),lZ=({draggable:e,home:t,draggables:r,viewport:s})=>{const a=Sy(t.axis,e.displaceBy),i=hx(t.descriptor.id,r),o=i.indexOf(e);o===-1&&at();const l=i.slice(o+1),c=l.reduce((m,h)=>(m[h.descriptor.id]=!0,m),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:a,effected:c};return{impact:{displaced:mv({afterDragging:l,destination:t,displacedBy:a,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:TWe(e.descriptor)}},afterCritical:d}},OWe=(e,t)=>({draggables:e.draggables,droppables:M3(e.droppables,t)}),DWe=({draggable:e,offset:t,initialWindowScroll:r})=>{const s=Pw(e.client,t),a=kw(s,r);return{...e,placeholder:{...e.placeholder,client:s},client:s,page:a}},IWe=e=>{const t=e.frame;return t||at(),t},RWe=({additions:e,updatedDroppables:t,viewport:r})=>{const s=r.scroll.diff.value;return e.map(a=>{const i=a.descriptor.droppableId,o=t[i],c=IWe(o).scroll.diff.value,d=Ys(s,c);return DWe({draggable:a,offset:d,initialWindowScroll:r.scroll.initial})})},MWe=({state:e,published:t})=>{const r=t.modified.map(j=>{const y=e.dimensions.droppables[j.droppableId];return k3(y,j.scroll)}),s={...e.dimensions.droppables,...WQ(r)},a=HQ(RWe({additions:t.additions,updatedDroppables:s,viewport:e.viewport})),i={...e.dimensions.draggables,...a};t.removals.forEach(j=>{delete i[j]});const o={droppables:s,draggables:i},l=zi(e.impact),c=l?o.droppables[l]:null,d=o.draggables[e.critical.draggable.id],u=o.droppables[e.critical.droppable.id],{impact:f,afterCritical:m}=lZ({draggable:d,home:u,draggables:i,viewport:e.viewport}),h=c&&c.isCombineEnabled?e.impact:f,x=sZ({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:h,viewport:e.viewport,afterCritical:m}),p={...e,phase:"DRAGGING",impact:x,onLiftImpact:f,dimensions:o,afterCritical:m,forceShouldAnimate:!1};return e.phase==="COLLECTING"?p:{...p,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const hP=e=>e.movementMode==="SNAP",lC=(e,t,r)=>{const s=OWe(e.dimensions,t);return!hP(e)||r?$g({state:e,dimensions:s}):oZ({state:e,dimensions:s})};function cC(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const fL={phase:"IDLE",completed:null,shouldFlush:!1};var FWe=(e=fL,t)=>{if(t.type==="FLUSH")return{...fL,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&at();const{critical:r,clientSelection:s,viewport:a,dimensions:i,movementMode:o}=t.payload,l=i.draggables[r.draggable.id],c=i.droppables[r.droppable.id],d={selection:s,borderBoxCenter:l.client.borderBox.center,offset:Ls},u={client:d,page:{selection:Ys(d.selection,a.scroll.initial),borderBoxCenter:Ys(d.selection,a.scroll.initial),offset:Ys(d.selection,a.scroll.diff.value)}},f=X2(i.droppables).every(p=>!p.isFixedOnPage),{impact:m,afterCritical:h}=lZ({draggable:l,home:c,draggables:i.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:o,dimensions:i,initial:u,current:u,isWindowScrollAllowed:f,impact:m,afterCritical:h,onLiftImpact:m,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&at(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||at(),MWe({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;tf(e)||at();const{client:r}=t.payload;return mu(r,e.current.client.selection)?e:$g({state:e,clientSelection:r,impact:hP(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return cC(e);tf(e)||at();const{id:r,newScroll:s}=t.payload,a=e.dimensions.droppables[r];if(!a)return e;const i=k3(a,s);return lC(e,i,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;tf(e)||at();const{id:r,isEnabled:s}=t.payload,a=e.dimensions.droppables[r];a||at(),a.isEnabled===s&&at();const i={...a,isEnabled:s};return lC(e,i,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;tf(e)||at();const{id:r,isCombineEnabled:s}=t.payload,a=e.dimensions.droppables[r];a||at(),a.isCombineEnabled===s&&at();const i={...a,isCombineEnabled:s};return lC(e,i,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;tf(e)||at(),e.isWindowScrollAllowed||at();const r=t.payload.newScroll;if(mu(e.viewport.scroll.current,r))return cC(e);const s=QQ(e.viewport,r);return hP(e)?oZ({state:e,viewport:s}):$g({state:e,viewport:s})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!tf(e))return e;const r=t.payload.maxScroll;if(mu(r,e.viewport.scroll.max))return e;const s={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:s}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&at();const r=yWe({state:e,type:t.type});return r?$g({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const r=t.payload.reason;return e.phase!=="COLLECTING"&&at(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(t.type==="DROP_ANIMATE"){const{completed:r,dropDuration:s,newHomeClientOffset:a}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||at(),{phase:"DROP_ANIMATING",completed:r,dropDuration:s,newHomeClientOffset:a,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:r}=t.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};function Cr(e,t){return e instanceof Object&&"type"in e&&e.type===t}const $We=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),LWe=e=>({type:"LIFT",payload:e}),BWe=e=>({type:"INITIAL_PUBLISH",payload:e}),UWe=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),VWe=()=>({type:"COLLECTION_STARTING",payload:null}),zWe=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),WWe=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),HWe=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),cZ=e=>({type:"MOVE",payload:e}),qWe=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),GWe=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),KWe=()=>({type:"MOVE_UP",payload:null}),YWe=()=>({type:"MOVE_DOWN",payload:null}),XWe=()=>({type:"MOVE_RIGHT",payload:null}),QWe=()=>({type:"MOVE_LEFT",payload:null}),F3=()=>({type:"FLUSH",payload:null}),ZWe=e=>({type:"DROP_ANIMATE",payload:e}),$3=e=>({type:"DROP_COMPLETE",payload:e}),dZ=e=>({type:"DROP",payload:e}),JWe=e=>({type:"DROP_PENDING",payload:e}),uZ=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var eHe=e=>({getState:t,dispatch:r})=>s=>a=>{if(!Cr(a,"LIFT")){s(a);return}const{id:i,clientSelection:o,movementMode:l}=a.payload,c=t();c.phase==="DROP_ANIMATING"&&r($3({completed:c.completed})),t().phase!=="IDLE"&&at(),r(F3()),r($We({draggableId:i,movementMode:l}));const u={draggableId:i,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:f,dimensions:m,viewport:h}=e.startPublishing(u);r(BWe({critical:f,dimensions:m,clientSelection:o,movementMode:l,viewport:h}))},tHe=e=>()=>t=>r=>{Cr(r,"INITIAL_PUBLISH")&&e.dragging(),Cr(r,"DROP_ANIMATE")&&e.dropping(r.payload.completed.result.reason),(Cr(r,"FLUSH")||Cr(r,"DROP_COMPLETE"))&&e.resting(),t(r)};const L3={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},hv={opacity:{drop:0,combining:.7},scale:{drop:.75}},fZ={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ku=`${fZ.outOfTheWay}s ${L3.outOfTheWay}`,Lg={fluid:`opacity ${Ku}`,snap:`transform ${Ku}, opacity ${Ku}`,drop:e=>{const t=`${e}s ${L3.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Ku}`,placeholder:`height ${Ku}, width ${Ku}, margin ${Ku}`},mL=e=>mu(e,Ls)?void 0:`translate(${e.x}px, ${e.y}px)`,pP={moveTo:mL,drop:(e,t)=>{const r=mL(e);if(r)return t?`${r} scale(${hv.scale.drop})`:r}},{minDropTime:xP,maxDropTime:mZ}=fZ,rHe=mZ-xP,hL=1500,nHe=.6;var sHe=({current:e,destination:t,reason:r})=>{const s=uv(e,t);if(s<=0)return xP;if(s>=hL)return mZ;const a=s/hL,i=xP+rHe*a,o=r==="CANCEL"?i*nHe:i;return Number(o.toFixed(2))},aHe=({impact:e,draggable:t,dimensions:r,viewport:s,afterCritical:a})=>{const{draggables:i,droppables:o}=r,l=zi(e),c=l?o[l]:null,d=o[t.descriptor.droppableId],u=iZ({impact:e,draggable:t,draggables:i,afterCritical:a,droppable:c||d,viewport:s});return Fi(u,t.client.borderBox.center)},iHe=({draggables:e,reason:t,lastImpact:r,home:s,viewport:a,onLiftImpact:i})=>!r.at||t!=="DROP"?{impact:aZ({draggables:e,impact:i,destination:s,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:fv},didDropInsideDroppable:!0};const oHe=({getState:e,dispatch:t})=>r=>s=>{if(!Cr(s,"DROP")){r(s);return}const a=e(),i=s.payload.reason;if(a.phase==="COLLECTING"){t(JWe({reason:i}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&at(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||at();const l=a.critical,c=a.dimensions,d=c.draggables[a.critical.draggable.id],{impact:u,didDropInsideDroppable:f}=iHe({reason:i,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),m=f?T3(u):null,h=f?Q2(u):null,x={index:l.draggable.index,droppableId:l.droppable.id},p={draggableId:d.descriptor.id,type:d.descriptor.type,source:x,reason:i,mode:a.movementMode,destination:m,combine:h},g=aHe({impact:u,draggable:d,dimensions:c,viewport:a.viewport,afterCritical:a.afterCritical}),j={critical:a.critical,afterCritical:a.afterCritical,result:p,impact:u};if(!(!mu(a.current.client.offset,g)||!!p.combine)){t($3({completed:j}));return}const w=sHe({current:a.current.client.offset,destination:g,reason:i});t(ZWe({newHomeClientOffset:g,dropDuration:w,completed:j}))};var hZ=()=>({x:window.pageXOffset,y:window.pageYOffset});function lHe(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function cHe({onWindowScroll:e}){function t(){e(hZ())}const r=dv(t),s=lHe(r);let a=fu;function i(){return a!==fu}function o(){i()&&at(),a=bo(window,[s])}function l(){i()||at(),r.cancel(),a(),a=fu}return{start:o,stop:l,isActive:i}}const dHe=e=>Cr(e,"DROP_COMPLETE")||Cr(e,"DROP_ANIMATE")||Cr(e,"FLUSH"),uHe=e=>{const t=cHe({onWindowScroll:r=>{e.dispatch(qWe({newScroll:r}))}});return r=>s=>{!t.isActive()&&Cr(s,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&dHe(s)&&t.stop(),r(s)}};var fHe=e=>{let t=!1,r=!1;const s=setTimeout(()=>{r=!0}),a=i=>{t||r||(t=!0,e(i),clearTimeout(s))};return a.wasCalled=()=>t,a},mHe=()=>{const e=[],t=a=>{const i=e.findIndex(l=>l.timerId===a);i===-1&&at();const[o]=e.splice(i,1);o.callback()};return{add:a=>{const i=setTimeout(()=>t(i)),o={timerId:i,callback:a};e.push(o)},flush:()=>{if(!e.length)return;const a=[...e];e.length=0,a.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const hHe=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,pHe=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,xHe=(e,t)=>{if(e===t)return!0;const r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,s=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&s},Zx=(e,t)=>{t()},Tj=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function dC(e,t,r,s){if(!e){r(s(t));return}const a=fHe(r);e(t,{announce:a}),a.wasCalled()||r(s(t))}var gHe=(e,t)=>{const r=mHe();let s=null;const a=(f,m)=>{s&&at(),Zx("onBeforeCapture",()=>{const h=e().onBeforeCapture;h&&h({draggableId:f,mode:m})})},i=(f,m)=>{s&&at(),Zx("onBeforeDragStart",()=>{const h=e().onBeforeDragStart;h&&h(Tj(f,m))})},o=(f,m)=>{s&&at();const h=Tj(f,m);s={mode:m,lastCritical:f,lastLocation:h.source,lastCombine:null},r.add(()=>{Zx("onDragStart",()=>dC(e().onDragStart,h,t,hb.onDragStart))})},l=(f,m)=>{const h=T3(m),x=Q2(m);s||at();const p=!xHe(f,s.lastCritical);p&&(s.lastCritical=f);const g=!hHe(s.lastLocation,h);g&&(s.lastLocation=h);const j=!pHe(s.lastCombine,x);if(j&&(s.lastCombine=x),!p&&!g&&!j)return;const y={...Tj(f,s.mode),combine:x,destination:h};r.add(()=>{Zx("onDragUpdate",()=>dC(e().onDragUpdate,y,t,hb.onDragUpdate))})},c=()=>{s||at(),r.flush()},d=f=>{s||at(),s=null,Zx("onDragEnd",()=>dC(e().onDragEnd,f,t,hb.onDragEnd))};return{beforeCapture:a,beforeStart:i,start:o,update:l,flush:c,drop:d,abort:()=>{if(!s)return;const f={...Tj(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};d(f)}}},vHe=(e,t)=>{const r=gHe(e,t);return s=>a=>i=>{if(Cr(i,"BEFORE_INITIAL_CAPTURE")){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(Cr(i,"INITIAL_PUBLISH")){const l=i.payload.critical;r.beforeStart(l,i.payload.movementMode),a(i),r.start(l,i.payload.movementMode);return}if(Cr(i,"DROP_COMPLETE")){const l=i.payload.completed.result;r.flush(),a(i),r.drop(l);return}if(a(i),Cr(i,"FLUSH")){r.abort();return}const o=s.getState();o.phase==="DRAGGING"&&r.update(o.critical,o.impact)}};const yHe=e=>t=>r=>{if(!Cr(r,"DROP_ANIMATION_FINISHED")){t(r);return}const s=e.getState();s.phase!=="DROP_ANIMATING"&&at(),e.dispatch($3({completed:s.completed}))},jHe=e=>{let t=null,r=null;function s(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return a=>i=>{if((Cr(i,"FLUSH")||Cr(i,"DROP_COMPLETE")||Cr(i,"DROP_ANIMATION_FINISHED"))&&s(),a(i),!Cr(i,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(uZ())}};r=requestAnimationFrame(()=>{r=null,t=bo(window,[o])})}};var bHe=e=>()=>t=>r=>{(Cr(r,"DROP_COMPLETE")||Cr(r,"FLUSH")||Cr(r,"DROP_ANIMATE"))&&e.stopPublishing(),t(r)},wHe=e=>{let t=!1;return()=>r=>s=>{if(Cr(s,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(s.payload.critical.draggable.id),r(s),e.tryRestoreFocusRecorded();return}if(r(s),!!t){if(Cr(s,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Cr(s,"DROP_COMPLETE")){t=!1;const a=s.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const NHe=e=>Cr(e,"DROP_COMPLETE")||Cr(e,"DROP_ANIMATE")||Cr(e,"FLUSH");var _He=e=>t=>r=>s=>{if(NHe(s)){e.stop(),r(s);return}if(Cr(s,"INITIAL_PUBLISH")){r(s);const a=t.getState();a.phase!=="DRAGGING"&&at(),e.start(a);return}r(s),e.scroll(t.getState())};const SHe=e=>t=>r=>{if(t(r),!Cr(r,"PUBLISH_WHILE_DRAGGING"))return;const s=e.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||e.dispatch(dZ({reason:s.reason})))},CHe=kQ;var EHe=({dimensionMarshal:e,focusMarshal:t,styleMarshal:r,getResponders:s,announce:a,autoScroller:i})=>PQ(FWe,CHe(wVe(tHe(r),bHe(e),eHe(e),oHe,yHe,jHe,SHe,_He(i),uHe,wHe(t),vHe(s,a))));const uC=()=>({additions:{},removals:{},modified:{}});function AHe({registry:e,callbacks:t}){let r=uC(),s=null;const a=()=>{s||(t.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:c,removals:d,modified:u}=r,f=Object.keys(c).map(x=>e.draggable.getById(x).getDimension(Ls)).sort((x,p)=>x.descriptor.index-p.descriptor.index),m=Object.keys(u).map(x=>{const g=e.droppable.getById(x).callbacks.getScrollWhileDragging();return{droppableId:x,scroll:g}}),h={additions:f,removals:Object.keys(d),modified:m};r=uC(),t.publish(h)}))};return{add:c=>{const d=c.descriptor.id;r.additions[d]=c,r.modified[c.descriptor.droppableId]=!0,r.removals[d]&&delete r.removals[d],a()},remove:c=>{const d=c.descriptor;r.removals[d.id]=!0,r.modified[d.droppableId]=!0,r.additions[d.id]&&delete r.additions[d.id],a()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,r=uC())}}}var pZ=({scrollHeight:e,scrollWidth:t,height:r,width:s})=>{const a=Fi({x:t,y:e},{x:s,y:r});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},xZ=()=>{const e=document.documentElement;return e||at(),e},gZ=()=>{const e=xZ();return pZ({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},PHe=()=>{const e=hZ(),t=gZ(),r=e.y,s=e.x,a=xZ(),i=a.clientWidth,o=a.clientHeight,l=s+i,c=r+o;return{frame:rl({top:r,left:s,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:Ls,displacement:Ls}}}},kHe=({critical:e,scrollOptions:t,registry:r})=>{const s=PHe(),a=s.scroll.current,i=e.droppable,o=r.droppable.getAllByType(i.type).map(u=>u.callbacks.getDimensionAndWatchScroll(a,t)),l=r.draggable.getAllByType(e.draggable.type).map(u=>u.getDimension(a));return{dimensions:{draggables:HQ(l),droppables:WQ(o)},critical:e,viewport:s}};function pL(e,t,r){return!(r.descriptor.id===t.id||r.descriptor.type!==t.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var THe=(e,t)=>{let r=null;const s=AHe({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=(m,h)=>{e.droppable.exists(m)||at(),r&&t.updateDroppableIsEnabled({id:m,isEnabled:h})},i=(m,h)=>{r&&(e.droppable.exists(m)||at(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:h}))},o=(m,h)=>{r&&(e.droppable.exists(m)||at(),t.updateDroppableScroll({id:m,newScroll:h}))},l=(m,h)=>{r&&e.droppable.getById(m).callbacks.scroll(h)},c=()=>{if(!r)return;s.stop();const m=r.critical.droppable;e.droppable.getAllByType(m.type).forEach(h=>h.callbacks.dragStopped()),r.unsubscribe(),r=null},d=m=>{r||at();const h=r.critical.draggable;m.type==="ADDITION"&&pL(e,h,m.value)&&s.add(m.value),m.type==="REMOVAL"&&pL(e,h,m.value)&&s.remove(m.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:m=>{r&&at();const h=e.draggable.getById(m.draggableId),x=e.droppable.getById(h.descriptor.droppableId),p={draggable:h.descriptor,droppable:x.descriptor},g=e.subscribe(d);return r={critical:p,unsubscribe:g},kHe({critical:p,registry:e,scrollOptions:m.scrollOptions})},stopPublishing:c}},vZ=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",OHe=e=>{window.scrollBy(e.x,e.y)};const DHe=Rs(e=>X2(e).filter(t=>!(!t.isEnabled||!t.frame))),IHe=(e,t)=>DHe(t).find(s=>(s.frame||at(),tZ(s.frame.pageMarginBox)(e)))||null;var RHe=({center:e,destination:t,droppables:r})=>{if(t){const a=r[t];return a.frame?a:null}return IHe(e,r)};const pv={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var MHe=(e,t,r=()=>pv)=>{const s=r(),a=e[t.size]*s.startFromPercentage,i=e[t.size]*s.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:i}},yZ=({startOfRange:e,endOfRange:t,current:r})=>{const s=t-e;return s===0?0:(r-e)/s},B3=1,FHe=(e,t,r=()=>pv)=>{const s=r();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return s.maxPixelScroll;if(e===t.startScrollingFrom)return B3;const i=1-yZ({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=s.maxPixelScroll*s.ease(i);return Math.ceil(o)},$He=(e,t,r)=>{const s=r(),a=s.durationDampening.accelerateAt,i=s.durationDampening.stopDampeningAt,o=t,l=i,d=Date.now()-o;if(d>=i)return e;if(d<a)return B3;const u=yZ({startOfRange:a,endOfRange:l,current:d}),f=e*s.ease(u);return Math.ceil(f)},xL=({distanceToEdge:e,thresholds:t,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:a})=>{const i=FHe(e,t,a);return i===0?0:s?Math.max($He(i,r,a),B3):i},gL=({container:e,distanceToEdges:t,dragStartTime:r,axis:s,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o=MHe(e,s,i);return t[s.end]<t[s.start]?xL({distanceToEdge:t[s.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i}):-1*xL({distanceToEdge:t[s.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i})},LHe=({container:e,subject:t,proposedScroll:r})=>{const s=t.height>e.height,a=t.width>e.width;return!a&&!s?r:a&&s?null:{x:a?0:r.x,y:s?0:r.y}};const BHe=zQ(e=>e===0?0:e);var jZ=({dragStartTime:e,container:t,subject:r,center:s,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o={top:s.y-t.top,right:t.right-s.x,bottom:t.bottom-s.y,left:s.x-t.left},l=gL({container:t,distanceToEdges:o,dragStartTime:e,axis:O3,shouldUseTimeDampening:a,getAutoScrollerOptions:i}),c=gL({container:t,distanceToEdges:o,dragStartTime:e,axis:KQ,shouldUseTimeDampening:a,getAutoScrollerOptions:i}),d=BHe({x:c,y:l});if(mu(d,Ls))return null;const u=LHe({container:t,subject:r,proposedScroll:d});return u?mu(u,Ls)?null:u:null};const UHe=zQ(e=>e===0?0:e>0?1:-1),U3=(()=>{const e=(t,r)=>t<0?t:t>r?t-r:0;return({current:t,max:r,change:s})=>{const a=Ys(t,s),i={x:e(a.x,r.x),y:e(a.y,r.y)};return mu(i,Ls)?null:i}})(),bZ=({max:e,current:t,change:r})=>{const s={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},a=UHe(r),i=U3({max:s,current:t,change:a});return!i||a.x!==0&&i.x===0||a.y!==0&&i.y===0},V3=(e,t)=>bZ({current:e.scroll.current,max:e.scroll.max,change:t}),VHe=(e,t)=>{if(!V3(e,t))return null;const r=e.scroll.max,s=e.scroll.current;return U3({current:s,max:r,change:t})},z3=(e,t)=>{const r=e.frame;return r?bZ({current:r.scroll.current,max:r.scroll.max,change:t}):!1},zHe=(e,t)=>{const r=e.frame;return!r||!z3(e,t)?null:U3({current:r.scroll.current,max:r.scroll.max,change:t})};var WHe=({viewport:e,subject:t,center:r,dragStartTime:s,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o=jZ({dragStartTime:s,container:e.frame,subject:t,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i});return o&&V3(e,o)?o:null},HHe=({droppable:e,subject:t,center:r,dragStartTime:s,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o=e.frame;if(!o)return null;const l=jZ({dragStartTime:s,container:o.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i});return l&&z3(e,l)?l:null},vL=({state:e,dragStartTime:t,shouldUseTimeDampening:r,scrollWindow:s,scrollDroppable:a,getAutoScrollerOptions:i})=>{const o=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const f=e.viewport,m=WHe({dragStartTime:t,viewport:f,subject:c,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:i});if(m){s(m);return}}const d=RHe({center:o,destination:zi(e.impact),droppables:e.dimensions.droppables});if(!d)return;const u=HHe({dragStartTime:t,droppable:d,subject:c,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:i});u&&a(d.descriptor.id,u)},qHe=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r=()=>pv})=>{const s=dv(e),a=dv(t);let i=null;const o=d=>{i||at();const{shouldUseTimeDampening:u,dragStartTime:f}=i;vL({state:d,scrollWindow:s,scrollDroppable:a,dragStartTime:f,shouldUseTimeDampening:u,getAutoScrollerOptions:r})};return{start:d=>{i&&at();const u=Date.now();let f=!1;const m=()=>{f=!0};vL({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m,getAutoScrollerOptions:r}),i={dragStartTime:u,shouldUseTimeDampening:f},f&&o(d)},stop:()=>{i&&(s.cancel(),a.cancel(),i=null)},scroll:o}},GHe=({move:e,scrollDroppable:t,scrollWindow:r})=>{const s=(l,c)=>{const d=Ys(l.current.client.selection,c);e({client:d})},a=(l,c)=>{if(!z3(l,c))return c;const d=zHe(l,c);if(!d)return t(l.descriptor.id,c),null;const u=Fi(c,d);return t(l.descriptor.id,u),Fi(c,u)},i=(l,c,d)=>{if(!l||!V3(c,d))return d;const u=VHe(c,d);if(!u)return r(d),null;const f=Fi(d,u);return r(f),Fi(d,f)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const d=zi(l.impact);d||at();const u=a(l.dimensions.droppables[d],c);if(!u)return;const f=l.viewport,m=i(l.isWindowScrollAllowed,f,u);m&&s(l,m)}},KHe=({scrollDroppable:e,scrollWindow:t,move:r,getAutoScrollerOptions:s})=>{const a=qHe({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:s}),i=GHe({move:r,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(s().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){a.scroll(c);return}c.scrollJumpRequest&&i(c)}},start:a.start,stop:a.stop}};const Dp="data-rfd",Ip=(()=>{const e=`${Dp}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),gP=(()=>{const e=`${Dp}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),YHe=(()=>{const e=`${Dp}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),yL={contextId:`${Dp}-scroll-container-context-id`},XHe=e=>t=>`[${t}="${e}"]`,Jx=(e,t)=>e.map(r=>{const s=r.styles[t];return s?`${r.selector} { ${s} }`:""}).join(" "),QHe="pointer-events: none;";var ZHe=e=>{const t=XHe(e),r=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Ip.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:QHe,dropAnimating:l}}})(),s=(()=>{const l=`
      transition: ${Lg.outOfTheWay};
    `;return{selector:t(gP.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),a={selector:t(YHe.contextId),styles:{always:"overflow-anchor: none;"}},o=[s,r,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Jx(o,"always"),resting:Jx(o,"resting"),dragging:Jx(o,"dragging"),dropAnimating:Jx(o,"dropAnimating"),userCancel:Jx(o,"userCancel")}};const Wi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect,fC=()=>{const e=document.querySelector("head");return e||at(),e},jL=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function JHe(e,t){const r=ur(()=>ZHe(e),[e]),s=v.useRef(null),a=v.useRef(null),i=St(Rs(f=>{const m=a.current;m||at(),m.textContent=f}),[]),o=St(f=>{const m=s.current;m||at(),m.textContent=f},[]);Wi(()=>{!s.current&&!a.current||at();const f=jL(t),m=jL(t);return s.current=f,a.current=m,f.setAttribute(`${Dp}-always`,e),m.setAttribute(`${Dp}-dynamic`,e),fC().appendChild(f),fC().appendChild(m),o(r.always),i(r.resting),()=>{const h=x=>{const p=x.current;p||at(),fC().removeChild(p),x.current=null};h(s),h(a)}},[t,o,i,r.always,r.resting,e]);const l=St(()=>i(r.dragging),[i,r.dragging]),c=St(f=>{if(f==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),d=St(()=>{a.current&&i(r.resting)},[i,r.resting]);return ur(()=>({dragging:l,dropping:c,resting:d}),[l,c,d])}function wZ(e,t){return Array.from(e.querySelectorAll(t))}var NZ=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function e_(e){return e instanceof NZ(e).HTMLElement}function eqe(e,t){const r=`[${Ip.contextId}="${e}"]`,s=wZ(document,r);if(!s.length)return null;const a=s.find(i=>i.getAttribute(Ip.draggableId)===t);return!a||!e_(a)?null:a}function tqe(e){const t=v.useRef({}),r=v.useRef(null),s=v.useRef(null),a=v.useRef(!1),i=St(function(m,h){const x={id:m,focus:h};return t.current[m]=x,function(){const g=t.current;g[m]!==x&&delete g[m]}},[]),o=St(function(m){const h=eqe(e,m);h&&h!==document.activeElement&&h.focus()},[e]),l=St(function(m,h){r.current===m&&(r.current=h)},[]),c=St(function(){s.current||a.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const m=r.current;m&&o(m)}))},[o]),d=St(function(m){r.current=null;const h=document.activeElement;h&&h.getAttribute(Ip.draggableId)===m&&(r.current=m)},[]);return Wi(()=>(a.current=!0,function(){a.current=!1;const m=s.current;m&&cancelAnimationFrame(m)}),[]),ur(()=>({register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[i,d,c,l])}function rqe(){const e={draggables:{},droppables:{}},t=[];function r(f){return t.push(f),function(){const h=t.indexOf(f);h!==-1&&t.splice(h,1)}}function s(f){t.length&&t.forEach(m=>m(f))}function a(f){return e.draggables[f]||null}function i(f){const m=a(f);return m||at(),m}const o={register:f=>{e.draggables[f.descriptor.id]=f,s({type:"ADDITION",value:f})},update:(f,m)=>{const h=e.draggables[m.descriptor.id];h&&h.uniqueId===f.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:f=>{const m=f.descriptor.id,h=a(m);h&&f.uniqueId===h.uniqueId&&(delete e.draggables[m],e.droppables[f.descriptor.droppableId]&&s({type:"REMOVAL",value:f}))},getById:i,findById:a,exists:f=>!!a(f),getAllByType:f=>Object.values(e.draggables).filter(m=>m.descriptor.type===f)};function l(f){return e.droppables[f]||null}function c(f){const m=l(f);return m||at(),m}const d={register:f=>{e.droppables[f.descriptor.id]=f},unregister:f=>{const m=l(f.descriptor.id);m&&f.uniqueId===m.uniqueId&&delete e.droppables[f.descriptor.id]},getById:c,findById:l,exists:f=>!!l(f),getAllByType:f=>Object.values(e.droppables).filter(m=>m.descriptor.type===f)};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:r,clean:u}}function nqe(){const e=ur(rqe,[]);return v.useEffect(()=>function(){e.clean()},[e]),e}var W3=z.createContext(null),Iw=()=>{const e=document.body;return e||at(),e};const sqe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},aqe=e=>`rfd-announcement-${e}`;function iqe(e){const t=ur(()=>aqe(e),[e]),r=v.useRef(null);return v.useEffect(function(){const i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),ea(i.style,sqe),Iw().appendChild(i),function(){setTimeout(function(){const c=Iw();c.contains(i)&&c.removeChild(i),i===r.current&&(r.current=null)})}},[t]),St(a=>{const i=r.current;if(i){i.textContent=a;return}},[])}const oqe={separator:"::"};function H3(e,t=oqe){const r=z.useId();return ur(()=>`${e}${t.separator}${r}`,[t.separator,e,r])}function lqe({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function cqe({contextId:e,text:t}){const r=H3("hidden-text",{separator:"-"}),s=ur(()=>lqe({contextId:e,uniqueId:r}),[r,e]);return v.useEffect(function(){const i=document.createElement("div");return i.id=s,i.textContent=t,i.style.display="none",Iw().appendChild(i),function(){const l=Iw();l.contains(i)&&l.removeChild(i)}},[s,t]),s}var t_=z.createContext(null);function _Z(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),t}function dqe(){let e=null;function t(){return!!e}function r(o){return o===e}function s(o){e&&at();const l={abandon:o};return e=l,l}function a(){e||at(),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:r,claim:s,release:a,tryAbandon:i}}function xv(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const uqe=9,fqe=13,q3=27,SZ=32,mqe=33,hqe=34,pqe=35,xqe=36,gqe=37,vqe=38,yqe=39,jqe=40,bqe={[fqe]:!0,[uqe]:!0};var CZ=e=>{bqe[e.keyCode]&&e.preventDefault()};const r_=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(s=>`on${s}`in document)||e})(),EZ=0,bL=5;function wqe(e,t){return Math.abs(t.x-e.x)>=bL||Math.abs(t.y-e.y)>=bL}const wL={type:"IDLE"};function Nqe({cancel:e,completed:t,getPhase:r,setPhase:s}){return[{eventName:"mousemove",fn:a=>{const{button:i,clientX:o,clientY:l}=a;if(i!==EZ)return;const c={x:o,y:l},d=r();if(d.type==="DRAGGING"){a.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&at();const u=d.point;if(!wqe(u,c))return;a.preventDefault();const f=d.actions.fluidLift(c);s({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:a=>{const i=r();if(i.type!=="DRAGGING"){e();return}a.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:a=>{r().type==="DRAGGING"&&a.preventDefault(),e()}},{eventName:"keydown",fn:a=>{if(r().type==="PENDING"){e();return}if(a.keyCode===q3){a.preventDefault(),e();return}CZ(a)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:a=>{const i=r();if(i.type==="IDLE"&&at(),i.actions.shouldRespectForcePress()){e();return}a.preventDefault()}},{eventName:r_,fn:e}]}function _qe(e){const t=v.useRef(wL),r=v.useRef(fu),s=ur(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==EZ||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const m=e.findClosestDraggableId(f);if(!m)return;const h=e.tryGetLock(m,o,{sourceEvent:f});if(!h)return;f.preventDefault();const x={x:f.clientX,y:f.clientY};r.current(),d(h,x)}}),[e]),a=ur(()=>({eventName:"webkitmouseforcewillbegin",fn:u=>{if(u.defaultPrevented)return;const f=e.findClosestDraggableId(u);if(!f)return;const m=e.findOptionsForDraggable(f);m&&(m.shouldRespectForcePress||e.canGetLock(f)&&u.preventDefault())}}),[e]),i=St(function(){const f={passive:!1,capture:!0};r.current=bo(window,[a,s],f)},[a,s]),o=St(()=>{t.current.type!=="IDLE"&&(t.current=wL,r.current(),i())},[i]),l=St(()=>{const u=t.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),c=St(function(){const f={capture:!0,passive:!1},m=Nqe({cancel:l,completed:o,getPhase:()=>t.current,setPhase:h=>{t.current=h}});r.current=bo(window,m,f)},[l,o]),d=St(function(f,m){t.current.type!=="IDLE"&&at(),t.current={type:"PENDING",point:m,actions:f},c()},[c]);Wi(function(){return i(),function(){r.current()}},[i])}function Sqe(){}const Cqe={[hqe]:!0,[mqe]:!0,[xqe]:!0,[pqe]:!0};function Eqe(e,t){function r(){t(),e.cancel()}function s(){t(),e.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===q3){a.preventDefault(),r();return}if(a.keyCode===SZ){a.preventDefault(),s();return}if(a.keyCode===jqe){a.preventDefault(),e.moveDown();return}if(a.keyCode===vqe){a.preventDefault(),e.moveUp();return}if(a.keyCode===yqe){a.preventDefault(),e.moveRight();return}if(a.keyCode===gqe){a.preventDefault(),e.moveLeft();return}if(Cqe[a.keyCode]){a.preventDefault();return}CZ(a)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:r_,fn:r}]}function Aqe(e){const t=v.useRef(Sqe),r=ur(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==SZ)return;const o=e.findClosestDraggableId(i);if(!o)return;const l=e.tryGetLock(o,u,{sourceEvent:i});if(!l)return;i.preventDefault();let c=!0;const d=l.snapLift();t.current();function u(){c||at(),c=!1,t.current(),s()}t.current=bo(window,Eqe(d,u),{capture:!0,passive:!1})}}),[e]),s=St(function(){const i={passive:!1,capture:!0};t.current=bo(window,[r],i)},[r]);Wi(function(){return s(),function(){t.current()}},[s])}const mC={type:"IDLE"},Pqe=120,kqe=.15;function Tqe({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(t().type!=="DRAGGING"){e();return}r.keyCode===q3&&r.preventDefault(),e()}},{eventName:r_,fn:e}]}function Oqe({cancel:e,completed:t,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const a=r();if(a.type!=="DRAGGING"){e();return}a.hasMoved=!0;const{clientX:i,clientY:o}=s.touches[0],l={x:i,y:o};s.preventDefault(),a.actions.move(l)}},{eventName:"touchend",fn:s=>{const a=r();if(a.type!=="DRAGGING"){e();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:s=>{if(r().type!=="DRAGGING"){e();return}s.preventDefault(),e()}},{eventName:"touchforcechange",fn:s=>{const a=r();a.type==="IDLE"&&at();const i=s.touches[0];if(!i||!(i.force>=kqe))return;const l=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){l&&e();return}if(l){if(a.hasMoved){s.preventDefault();return}e();return}s.preventDefault()}},{eventName:r_,fn:e}]}function Dqe(e){const t=v.useRef(mC),r=v.useRef(fu),s=St(function(){return t.current},[]),a=St(function(h){t.current=h},[]),i=ur(()=>({eventName:"touchstart",fn:function(h){if(h.defaultPrevented)return;const x=e.findClosestDraggableId(h);if(!x)return;const p=e.tryGetLock(x,l,{sourceEvent:h});if(!p)return;const g=h.touches[0],{clientX:j,clientY:y}=g,w={x:j,y};r.current(),f(p,w)}}),[e]),o=St(function(){const h={capture:!0,passive:!1};r.current=bo(window,[i],h)},[i]),l=St(()=>{const m=t.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),a(mC),r.current(),o())},[o,a]),c=St(()=>{const m=t.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),d=St(function(){const h={capture:!0,passive:!1},x={cancel:c,completed:l,getPhase:s},p=bo(window,Oqe(x),h),g=bo(window,Tqe(x),h);r.current=function(){p(),g()}},[c,s,l]),u=St(function(){const h=s();h.type!=="PENDING"&&at();const x=h.actions.fluidLift(h.point);a({type:"DRAGGING",actions:x,hasMoved:!1})},[s,a]),f=St(function(h,x){s().type!=="IDLE"&&at();const p=setTimeout(u,Pqe);a({type:"PENDING",point:x,actions:h,longPressTimerId:p}),d()},[d,s,a,u]);Wi(function(){return o(),function(){r.current();const x=s();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),a(mC))}},[s,o,a]),Wi(function(){return bo(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Iqe=["input","button","textarea","select","option","optgroup","video","audio"];function AZ(e,t){if(t==null)return!1;if(Iqe.includes(t.tagName.toLowerCase()))return!0;const s=t.getAttribute("contenteditable");return s==="true"||s===""?!0:t===e?!1:AZ(e,t.parentElement)}function Rqe(e,t){const r=t.target;return e_(r)?AZ(e,r):!1}var Mqe=e=>rl(e.getBoundingClientRect()).center;function Fqe(e){return e instanceof NZ(e).Element}const $qe=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||e})();function PZ(e,t){return e==null?null:e[$qe](t)?e:PZ(e.parentElement,t)}function Lqe(e,t){return e.closest?e.closest(t):PZ(e,t)}function Bqe(e){return`[${Ip.contextId}="${e}"]`}function Uqe(e,t){const r=t.target;if(!Fqe(r))return null;const s=Bqe(e),a=Lqe(r,s);return!a||!e_(a)?null:a}function Vqe(e,t){const r=Uqe(e,t);return r?r.getAttribute(Ip.draggableId):null}function zqe(e,t){const r=`[${gP.contextId}="${e}"]`,a=wZ(document,r).find(i=>i.getAttribute(gP.id)===t);return!a||!e_(a)?null:a}function Wqe(e){e.preventDefault()}function Oj({expected:e,phase:t,isLockActive:r,shouldWarn:s}){return!(!r()||e!==t)}function kZ({lockAPI:e,store:t,registry:r,draggableId:s}){if(e.isClaimed())return!1;const a=r.draggable.findById(s);return!(!a||!a.options.isEnabled||!vZ(t.getState(),s))}function Hqe({lockAPI:e,contextId:t,store:r,registry:s,draggableId:a,forceSensorStop:i,sourceEvent:o}){if(!kZ({lockAPI:e,store:r,registry:s,draggableId:a}))return null;const c=s.draggable.getById(a),d=zqe(t,c.descriptor.id);if(!d||o&&!c.options.canDragInteractiveElements&&Rqe(d,o))return null;const u=e.claim(i||fu);let f="PRE_DRAG";function m(){return c.options.shouldRespectForcePress}function h(){return e.isActive(u)}function x(N,S){Oj({expected:N,phase:f,isLockActive:h,shouldWarn:!0})&&r.dispatch(S())}const p=x.bind(null,"DRAGGING");function g(N){function S(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(S(),at()),r.dispatch(LWe(N.liftActionArgs)),f="DRAGGING";function _(E,A={shouldBlockNextClick:!1}){if(N.cleanup(),A.shouldBlockNextClick){const k=bo(window,[{eventName:"click",fn:Wqe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(k)}S(),r.dispatch(dZ({reason:E}))}return{isActive:()=>Oj({expected:"DRAGGING",phase:f,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:m,drop:E=>_("DROP",E),cancel:E=>_("CANCEL",E),...N.actions}}function j(N){const S=dv(E=>{p(()=>cZ({client:E}))});return{...g({liftActionArgs:{id:a,clientSelection:N,movementMode:"FLUID"},cleanup:()=>S.cancel(),actions:{move:S}}),move:S}}function y(){const N={moveUp:()=>p(KWe),moveRight:()=>p(XWe),moveDown:()=>p(YWe),moveLeft:()=>p(QWe)};return g({liftActionArgs:{id:a,clientSelection:Mqe(d),movementMode:"SNAP"},cleanup:fu,actions:N})}function w(){Oj({expected:"PRE_DRAG",phase:f,isLockActive:h,shouldWarn:!0})&&e.release()}return{isActive:()=>Oj({expected:"PRE_DRAG",phase:f,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:j,snapLift:y,abort:w}}const qqe=[_qe,Aqe,Dqe];function Gqe({contextId:e,store:t,registry:r,customSensors:s,enableDefaultSensors:a}){const i=[...a?qqe:[],...s||[]],o=v.useState(()=>dqe())[0],l=St(function(g,j){xv(g)&&!xv(j)&&o.tryAbandon()},[o]);Wi(function(){let g=t.getState();return t.subscribe(()=>{const y=t.getState();l(g,y),g=y})},[o,t,l]),Wi(()=>o.tryAbandon,[o.tryAbandon]);const c=St(p=>kZ({lockAPI:o,registry:r,store:t,draggableId:p}),[o,r,t]),d=St((p,g,j)=>Hqe({lockAPI:o,registry:r,contextId:e,store:t,draggableId:p,forceSensorStop:g||null,sourceEvent:j&&j.sourceEvent?j.sourceEvent:null}),[e,o,r,t]),u=St(p=>Vqe(e,p),[e]),f=St(p=>{const g=r.draggable.findById(p);return g?g.options:null},[r.draggable]),m=St(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(F3()))},[o,t]),h=St(()=>o.isClaimed(),[o]),x=ur(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:u,findOptionsForDraggable:f,tryReleaseLock:m,isLockClaimed:h}),[c,d,u,f,m,h]);for(let p=0;p<i.length;p++)i[p](x)}const Kqe=e=>({onBeforeCapture:t=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};pl.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Yqe=e=>({...pv,...e.autoScrollerOptions,durationDampening:{...pv.durationDampening,...e.autoScrollerOptions}});function eg(e){return e.current||at(),e.current}function Xqe(e){const{contextId:t,setCallbacks:r,sensors:s,nonce:a,dragHandleUsageInstructions:i}=e,o=v.useRef(null),l=_Z(e),c=St(()=>Kqe(l.current),[l]),d=St(()=>Yqe(l.current),[l]),u=iqe(t),f=cqe({contextId:t,text:i}),m=JHe(t,a),h=St(k=>{eg(o).dispatch(k)},[]),x=ur(()=>X$({publishWhileDragging:UWe,updateDroppableScroll:zWe,updateDroppableIsEnabled:WWe,updateDroppableIsCombineEnabled:HWe,collectionStarting:VWe},h),[h]),p=nqe(),g=ur(()=>THe(p,x),[p,x]),j=ur(()=>KHe({scrollWindow:OHe,scrollDroppable:g.scrollDroppable,getAutoScrollerOptions:d,...X$({move:cZ},h)}),[g.scrollDroppable,h,d]),y=tqe(t),w=ur(()=>EHe({announce:u,autoScroller:j,dimensionMarshal:g,focusMarshal:y,getResponders:c,styleMarshal:m}),[u,j,g,y,c,m]);o.current=w;const b=St(()=>{const k=eg(o);k.getState().phase!=="IDLE"&&k.dispatch(F3())},[]),N=St(()=>{const k=eg(o).getState();return k.phase==="DROP_ANIMATING"?!0:k.phase==="IDLE"?!1:k.isDragging},[]),S=ur(()=>({isDragging:N,tryAbort:b}),[N,b]);r(S);const _=St(k=>vZ(eg(o).getState(),k),[]),E=St(()=>tf(eg(o).getState()),[]),A=ur(()=>({marshal:g,focus:y,contextId:t,canLift:_,isMovementAllowed:E,dragHandleUsageInstructionsId:f,registry:p}),[t,g,f,y,_,E,p]);return Gqe({contextId:t,store:w,registry:p,customSensors:s||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),v.useEffect(()=>b,[b]),z.createElement(t_.Provider,{value:A},z.createElement(Nze,{context:W3,store:w},e.children))}function Qqe(){return z.useId()}function Zqe(e){const t=Qqe(),r=e.dragHandleUsageInstructions||hb.dragHandleUsageInstructions;return z.createElement(Aze,null,s=>z.createElement(Xqe,{nonce:e.nonce,contextId:t,setCallbacks:s,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const NL={dragging:5e3,dropAnimating:4500},Jqe=(e,t)=>t?Lg.drop(t.duration):e?Lg.snap:Lg.fluid,eGe=(e,t)=>{if(e)return t?hv.opacity.drop:hv.opacity.combining},tGe=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function rGe(e){const r=e.dimension.client,{offset:s,combineWith:a,dropping:i}=e,o=!!a,l=tGe(e),c=!!i,d=c?pP.drop(s,o):pP.moveTo(s);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:Jqe(l,i),transform:d,opacity:eGe(o,c),zIndex:c?NL.dropAnimating:NL.dragging,pointerEvents:"none"}}function nGe(e){return{transform:pP.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function sGe(e){return e.type==="DRAGGING"?rGe(e):nGe(e)}function aGe(e,t,r=Ls){const s=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=FQ(a,s),o=kw(i,r),l={client:i,tagName:t.tagName.toLowerCase(),display:s.display},c={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:i,page:o}}function iGe(e){const t=H3("draggable"),{descriptor:r,registry:s,getDraggableRef:a,canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}=e,c=ur(()=>({canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}),[i,l,o]),d=St(h=>{const x=a();return x||at(),aGe(r,x,h)},[r,a]),u=ur(()=>({uniqueId:t,descriptor:r,options:c,getDimension:d}),[r,d,c,t]),f=v.useRef(u),m=v.useRef(!0);Wi(()=>(s.draggable.register(f.current),()=>s.draggable.unregister(f.current)),[s.draggable]),Wi(()=>{if(m.current){m.current=!1;return}const h=f.current;f.current=u,s.draggable.update(u,h)},[u,s.draggable])}var G3=z.createContext(null);function Rw(e){const t=v.useContext(e);return t||at(),t}function oGe(e){e.preventDefault()}const lGe=e=>{const t=v.useRef(null),r=St((S=null)=>{t.current=S},[]),s=St(()=>t.current,[]),{contextId:a,dragHandleUsageInstructionsId:i,registry:o}=Rw(t_),{type:l,droppableId:c}=Rw(G3),d=ur(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:u,draggableId:f,isEnabled:m,shouldRespectForcePress:h,canDragInteractiveElements:x,isClone:p,mapped:g,dropAnimationFinished:j}=e;if(!p){const S=ur(()=>({descriptor:d,registry:o,getDraggableRef:s,canDragInteractiveElements:x,shouldRespectForcePress:h,isEnabled:m}),[d,o,s,x,h,m]);iGe(S)}const y=ur(()=>m?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:oGe}:null,[a,i,f,m]),w=St(S=>{g.type==="DRAGGING"&&g.dropping&&S.propertyName==="transform"&&pl.flushSync(j)},[j,g]),b=ur(()=>{const S=sGe(g),_=g.type==="DRAGGING"&&g.dropping?w:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":f,style:S,onTransitionEnd:_},dragHandleProps:y}},[a,y,f,g,w,r]),N=ur(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return z.createElement(z.Fragment,null,u(b,g.snapshot,N))};var TZ=(e,t)=>e===t,OZ=e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null};const cGe=e=>e.combine?e.combine.draggableId:null,dGe=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function uGe(){const e=Rs((a,i)=>({x:a,y:i})),t=Rs((a,i,o=null,l=null,c=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:o,combineWith:l,combineTargetFor:null})),r=Rs((a,i,o,l,c=null,d=null,u=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:i,offset:a,dimension:o,forceShouldAnimate:u,snapshot:t(i,l,c,d,null)}}));return(a,i)=>{if(xv(a)){if(a.critical.draggable.id!==i.draggableId)return null;const o=a.current.client.offset,l=a.dimensions.draggables[i.draggableId],c=zi(a.impact),d=dGe(a.impact),u=a.forceShouldAnimate;return r(e(o.x,o.y),a.movementMode,l,i.isClone,c,d,u)}if(a.phase==="DROP_ANIMATING"){const o=a.completed;if(o.result.draggableId!==i.draggableId)return null;const l=i.isClone,c=a.dimensions.draggables[i.draggableId],d=o.result,u=d.mode,f=OZ(d),m=cGe(d),x={duration:a.dropDuration,curve:L3.drop,moveTo:a.newHomeClientOffset,opacity:m?hv.opacity.drop:null,scale:m?hv.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:c,dropping:x,draggingOver:f,combineWith:m,mode:u,forceShouldAnimate:null,snapshot:t(u,l,f,m,x)}}}return null}}function DZ(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const fGe={mapped:{type:"SECONDARY",offset:Ls,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:DZ(null)}};function mGe(){const e=Rs((o,l)=>({x:o,y:l})),t=Rs(DZ),r=Rs((o,l=null,c)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),s=o=>o?r(Ls,o,!0):null,a=(o,l,c,d)=>{const u=c.displaced.visible[o],f=!!(d.inVirtualList&&d.effected[o]),m=Q2(c),h=m&&m.draggableId===o?l:null;if(!u){if(!f)return s(h);if(c.displaced.invisible[o])return null;const g=mx(d.displacedBy.point),j=e(g.x,g.y);return r(j,h,!0)}if(f)return s(h);const x=c.displacedBy.point,p=e(x.x,x.y);return r(p,h,u.shouldAnimate)};return(o,l)=>{if(xv(o))return o.critical.draggable.id===l.draggableId?null:a(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const c=o.completed;return c.result.draggableId===l.draggableId?null:a(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const hGe=()=>{const e=uGe(),t=mGe();return(s,a)=>e(s,a)||t(s,a)||fGe},pGe={dropAnimationFinished:uZ},xGe=MQ(hGe,pGe,null,{context:W3,areStatePropsEqual:TZ})(lGe);function IZ(e){return Rw(G3).isUsingCloneFor===e.draggableId&&!e.isClone?null:z.createElement(xGe,e)}function gGe(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,s=!!e.shouldRespectForcePress;return z.createElement(IZ,ea({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:s}))}const RZ=e=>t=>e===t,vGe=RZ("scroll"),yGe=RZ("auto"),_L=(e,t)=>t(e.overflowX)||t(e.overflowY),jGe=e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return _L(r,vGe)||_L(r,yGe)},bGe=()=>!1,MZ=e=>e==null?null:e===document.body?bGe()?e:null:e===document.documentElement?null:jGe(e)?e:MZ(e.parentElement);var vP=e=>({x:e.scrollLeft,y:e.scrollTop});const FZ=e=>e?window.getComputedStyle(e).position==="fixed"?!0:FZ(e.parentElement):!1;var wGe=e=>{const t=MZ(e),r=FZ(e);return{closestScrollable:t,isFixedOnPage:r}},NGe=({descriptor:e,isEnabled:t,isCombineEnabled:r,isFixedOnPage:s,direction:a,client:i,page:o,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:m,client:h}=l,x=pZ({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:h.paddingBox.height,width:h.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:h,scrollSize:m,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:x,diff:{value:Ls,displacement:Ls}}}})(),d=a==="vertical"?O3:KQ,u=Op({page:o,withPlaceholder:null,axis:d,frame:c});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:s,axis:d,isEnabled:t,client:i,page:o,frame:c,subject:u}};const _Ge=(e,t)=>{const r=$Q(e);if(!t||e!==t)return r;const s=r.paddingBox.top-t.scrollTop,a=r.paddingBox.left-t.scrollLeft,i=s+t.scrollHeight,o=a+t.scrollWidth,c=A3({top:s,right:o,bottom:i,left:a},r.border);return P3({borderBox:c,margin:r.margin,border:r.border,padding:r.padding})};var SGe=({ref:e,descriptor:t,env:r,windowScroll:s,direction:a,isDropDisabled:i,isCombineEnabled:o,shouldClipSubject:l})=>{const c=r.closestScrollable,d=_Ge(e,c),u=kw(d,s),f=(()=>{if(!c)return null;const h=$Q(c),x={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:h,page:kw(h,s),scroll:vP(c),scrollSize:x,shouldClipSubject:l}})();return NGe({descriptor:t,isEnabled:!i,isCombineEnabled:o,isFixedOnPage:r.isFixedOnPage,direction:a,client:d,page:u,closest:f})};const CGe={passive:!1},EGe={passive:!0};var SL=e=>e.shouldPublishImmediately?CGe:EGe;const Dj=e=>e&&e.env.closestScrollable||null;function AGe(e){const t=v.useRef(null),r=Rw(t_),s=H3("droppable"),{registry:a,marshal:i}=r,o=_Z(e),l=ur(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=v.useRef(l),d=ur(()=>Rs((b,N)=>{t.current||at();const S={x:b,y:N};i.updateDroppableScroll(l.id,S)}),[l.id,i]),u=St(()=>{const b=t.current;return!b||!b.env.closestScrollable?Ls:vP(b.env.closestScrollable)},[]),f=St(()=>{const b=u();d(b.x,b.y)},[u,d]),m=ur(()=>dv(f),[f]),h=St(()=>{const b=t.current,N=Dj(b);if(b&&N||at(),b.scrollOptions.shouldPublishImmediately){f();return}m()},[m,f]),x=St((b,N)=>{t.current&&at();const S=o.current,_=S.getDroppableRef();_||at();const E=wGe(_),A={ref:_,descriptor:l,env:E,scrollOptions:N};t.current=A;const k=SGe({ref:_,descriptor:l,env:E,windowScroll:b,direction:S.direction,isDropDisabled:S.isDropDisabled,isCombineEnabled:S.isCombineEnabled,shouldClipSubject:!S.ignoreContainerClipping}),D=E.closestScrollable;return D&&(D.setAttribute(yL.contextId,r.contextId),D.addEventListener("scroll",h,SL(A.scrollOptions))),k},[r.contextId,l,h,o]),p=St(()=>{const b=t.current,N=Dj(b);return b&&N||at(),vP(N)},[]),g=St(()=>{const b=t.current;b||at();const N=Dj(b);t.current=null,N&&(m.cancel(),N.removeAttribute(yL.contextId),N.removeEventListener("scroll",h,SL(b.scrollOptions)))},[h,m]),j=St(b=>{const N=t.current;N||at();const S=Dj(N);S||at(),S.scrollTop+=b.y,S.scrollLeft+=b.x},[]),y=ur(()=>({getDimensionAndWatchScroll:x,getScrollWhileDragging:p,dragStopped:g,scroll:j}),[g,x,p,j]),w=ur(()=>({uniqueId:s,descriptor:l,callbacks:y}),[y,l,s]);Wi(()=>(c.current=w.descriptor,a.droppable.register(w),()=>{t.current&&g(),a.droppable.unregister(w)}),[y,l,g,w,i,a.droppable]),Wi(()=>{t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Wi(()=>{t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function hC(){}const CL={width:0,height:0,margin:Rze},PGe=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>e||r==="close"?CL:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},kGe=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>{const s=PGe({isAnimatingOpenOnMount:e,placeholder:t,animate:r});return{display:t.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?Lg.placeholder:null}},TGe=e=>{const t=v.useRef(null),r=St(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:s,onTransitionEnd:a,onClose:i,contextId:o}=e,[l,c]=v.useState(e.animate==="open");v.useEffect(()=>l?s!=="open"?(r(),c(!1),hC):t.current?hC:(t.current=setTimeout(()=>{t.current=null,c(!1)}),r):hC,[s,l,r]);const d=St(f=>{f.propertyName==="height"&&(a(),s==="close"&&i())},[s,i,a]),u=kGe({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return z.createElement(e.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})};var OGe=z.memo(TGe);class DGe extends z.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,r){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const IGe=e=>{const t=v.useContext(t_);t||at();const{contextId:r,isMovementAllowed:s}=t,a=v.useRef(null),i=v.useRef(null),{children:o,droppableId:l,type:c,mode:d,direction:u,ignoreContainerClipping:f,isDropDisabled:m,isCombineEnabled:h,snapshot:x,useClone:p,updateViewportMaxScroll:g,getContainerForClone:j}=e,y=St(()=>a.current,[]),w=St((D=null)=>{a.current=D},[]);St(()=>i.current,[]);const b=St((D=null)=>{i.current=D},[]),N=St(()=>{s()&&g({maxScroll:gZ()})},[s,g]);AGe({droppableId:l,type:c,mode:d,direction:u,isDropDisabled:m,isCombineEnabled:h,ignoreContainerClipping:f,getDroppableRef:y});const S=ur(()=>z.createElement(DGe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:D,data:I,animate:W})=>z.createElement(OGe,{placeholder:I,onClose:D,innerRef:b,animate:W,contextId:r,onTransitionEnd:N})),[r,N,e.placeholder,e.shouldAnimatePlaceholder,b]),_=ur(()=>({innerRef:w,placeholder:S,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":r}}),[r,l,S,w]),E=p?p.dragging.draggableId:null,A=ur(()=>({droppableId:l,type:c,isUsingCloneFor:E}),[l,E,c]);function k(){if(!p)return null;const{dragging:D,render:I}=p,W=z.createElement(IZ,{draggableId:D.draggableId,index:D.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(H,F)=>I(H,F,D));return mN.createPortal(W,j())}return z.createElement(G3.Provider,{value:A},o(_,x),k())};function RGe(){return document.body||at(),document.body}const EL={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:RGe},$Z=e=>{let t={...e},r;for(r in EL)e[r]===void 0&&(t={...t,[r]:EL[r]});return t},pC=(e,t)=>e===t.droppable.type,AL=(e,t)=>t.draggables[e.draggable.id],MGe=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},r=Rs(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),s=Rs((i,o,l,c,d,u)=>{const f=d.descriptor.id;if(d.descriptor.droppableId===i){const x=u?{render:u,dragging:r(d.descriptor)}:null,p={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:p,useClone:x}}if(!o)return t;if(!c)return e;const h={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}});return(i,o)=>{const l=$Z(o),c=l.droppableId,d=l.type,u=!l.isDropDisabled,f=l.renderClone;if(xv(i)){const m=i.critical;if(!pC(d,m))return t;const h=AL(m,i.dimensions),x=zi(i.impact)===c;return s(c,u,x,x,h,f)}if(i.phase==="DROP_ANIMATING"){const m=i.completed;if(!pC(d,m.critical))return t;const h=AL(m.critical,i.dimensions);return s(c,u,OZ(m.result)===c,zi(m.impact)===c,h,f)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const m=i.completed;if(!pC(d,m.critical))return t;const h=zi(m.impact)===c,x=!!(m.impact.at&&m.impact.at.type==="COMBINE"),p=m.critical.droppable.id===c;return h?x?e:t:p?e:t}return t}},FGe={updateViewportMaxScroll:GWe},$Ge=MQ(MGe,FGe,(e,t,r)=>({...$Z(r),...e,...t}),{context:W3,areStatePropsEqual:TZ})(IGe);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Mw={};Mw.version="0.18.5";var LZ=1252,LGe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],BZ=function(e){LGe.indexOf(e)!=-1&&(LZ=e)};function BGe(){BZ(1252)}var gv=function(e){BZ(e)};function UGe(){gv(1200),BGe()}var Ij=function(t){return String.fromCharCode(t)},PL=function(t){return String.fromCharCode(t)},af,Zd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function vv(e){for(var t="",r=0,s=0,a=0,i=0,o=0,l=0,c=0,d=0;d<e.length;)r=e.charCodeAt(d++),i=r>>2,s=e.charCodeAt(d++),o=(r&3)<<4|s>>4,a=e.charCodeAt(d++),l=(s&15)<<2|a>>6,c=a&63,isNaN(s)?l=c=64:isNaN(a)&&(c=64),t+=Zd.charAt(i)+Zd.charAt(o)+Zd.charAt(l)+Zd.charAt(c);return t}function od(e){var t="",r=0,s=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=Zd.indexOf(e.charAt(d++)),o=Zd.indexOf(e.charAt(d++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=Zd.indexOf(e.charAt(d++)),s=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(s)),c=Zd.indexOf(e.charAt(d++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var br=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),gd=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function sm(e){return br?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function kL(e){return br?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var el=function(t){return br?gd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function n_(e){if(typeof ArrayBuffer>"u")return el(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),s=0;s!=e.length;++s)r[s]=e.charCodeAt(s)&255;return t}function Cy(e){if(Array.isArray(e))return e.map(function(s){return String.fromCharCode(s)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function VGe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Gs=br?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:gd(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var s=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)s.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";s.set(new Uint8Array(e[t]),r)}return s}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function zGe(e){for(var t=[],r=0,s=e.length+250,a=sm(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>s&&(t.push(a.slice(0,r)),r=0,a=sm(65535),s=65530)}return t.push(a.slice(0,r)),Gs(t)}var Bg=/\u0000/g,Rj=/[\u0001-\u0006]/g;function Sh(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function nl(e,t){var r=""+e;return r.length>=t?r:$n("0",t-r.length)+r}function K3(e,t){var r=""+e;return r.length>=t?r:$n(" ",t-r.length)+r}function Fw(e,t){var r=""+e;return r.length>=t?r:r+$n(" ",t-r.length)}function WGe(e,t){var r=""+Math.round(e);return r.length>=t?r:$n("0",t-r.length)+r}function HGe(e,t){var r=""+e;return r.length>=t?r:$n("0",t-r.length)+r}var TL=Math.pow(2,32);function Fm(e,t){if(e>TL||e<-TL)return WGe(e,t);var r=Math.round(e);return HGe(r,t)}function $w(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var OL=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],xC=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function qGe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ln={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},DL={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},GGe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Lw(e,t,r){for(var s=e<0?-1:1,a=e*s,i=0,o=1,l=0,c=1,d=0,u=0,f=Math.floor(a);d<t&&(f=Math.floor(a),l=f*o+i,u=f*d+c,!(a-f<5e-8));)a=1/(a-f),i=o,o=l,c=d,d=u;if(u>t&&(d>t?(u=c,l=i):(u=d,l=o)),!r)return[0,s*l,u];var m=Math.floor(s*l/u);return[m,s*l-m*u,u]}function Mj(e,t,r){if(e>2958465||e<0)return null;var s=e|0,a=Math.floor(86400*(e-s)),i=0,o=[],l={D:s,T:a,u:86400*(e-s)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(s+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++s,++l.D)),s===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(s===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{s>60&&--s;var c=new Date(1900,0,1);c.setDate(c.getDate()+s-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),s<60&&(i=(i+6)%7),r&&(i=eKe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var UZ=new Date(1899,11,31,0,0,0),KGe=UZ.getTime(),YGe=new Date(1900,2,1,0,0,0);function VZ(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=YGe&&(r+=24*60*60*1e3),(r-(KGe+(e.getTimezoneOffset()-UZ.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Y3(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function XGe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function QGe(e){var t=e<0?12:11,r=Y3(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function ZGe(e){var t=Y3(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function JGe(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=QGe(e):t===10?r=e.toFixed(10).substr(0,12):r=ZGe(e),Y3(XGe(r.toUpperCase()))}function yP(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):JGe(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Cu(14,VZ(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function eKe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function tKe(e,t,r,s){var a="",i=0,o=0,l=r.y,c,d=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,d=t.length;break;case 3:return xC[r.m-1][1];case 5:return xC[r.m-1][0];default:return xC[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,d=t.length;break;case 3:return OL[r.q][0];default:return OL[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?nl(r.S,t.length):(s>=2?o=s===3?1e3:100:o=s===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=nl(i,2+s),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=l,d=1;break}var u=d>0?nl(c,d):"";return u}function Jd(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,s=e.substr(0,r);r!=e.length;r+=t)s+=(s.length>0?",":"")+e.substr(r,t);return s}var zZ=/%/g;function rKe(e,t,r){var s=t.replace(zZ,""),a=t.length-s.length;return Vc(e,s,r*Math.pow(10,2*a))+$n("%",a)}function nKe(e,t,r){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return Vc(e,t.substr(0,s),r/Math.pow(10,3*(t.length-s)))}function WZ(e,t){var r,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+WZ(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(s+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(s);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var HZ=/# (\?+)( ?)\/( ?)(\d+)/;function sKe(e,t,r){var s=parseInt(e[4],10),a=Math.round(t*s),i=Math.floor(a/s),o=a-i*s,l=s;return r+(i===0?"":""+i)+" "+(o===0?$n(" ",e[1].length+1+e[4].length):K3(o,e[1].length)+e[2]+"/"+e[3]+nl(l,e[4].length))}function aKe(e,t,r){return r+(t===0?"":""+t)+$n(" ",e[1].length+2+e[4].length)}var qZ=/^#*0*\.([0#]+)/,GZ=/\).*[0#]/,KZ=/\(###\) ###\\?-####/;function ka(e){for(var t="",r,s=0;s!=e.length;++s)switch(r=e.charCodeAt(s)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function IL(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function RL(e,t){var r=e-Math.floor(e),s=Math.pow(10,t);return t<(""+Math.round(r*s)).length?0:Math.round(r*s)}function iKe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function oKe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function co(e,t,r){if(e.charCodeAt(0)===40&&!t.match(GZ)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?co("n",s,r):"("+co("n",s,-r)+")"}if(t.charCodeAt(t.length-1)===44)return nKe(e,t,r);if(t.indexOf("%")!==-1)return rKe(e,t,r);if(t.indexOf("E")!==-1)return WZ(t,r);if(t.charCodeAt(0)===36)return"$"+co(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+Fm(c,t.length);if(t.match(/^[#?]+$/))return a=Fm(r,0),a==="0"&&(a=""),a.length>t.length?a:ka(t.substr(0,t.length-a.length))+a;if(i=t.match(HZ))return sKe(i,c,d);if(t.match(/^#+0+$/))return d+Fm(c,t.length-t.indexOf("0"));if(i=t.match(qZ))return a=IL(r,i[1].length).replace(/^([^\.]+)$/,"$1."+ka(i[1])).replace(/\.$/,"."+ka(i[1])).replace(/\.(\d*)$/,function(x,p){return"."+p+$n("0",ka(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+IL(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Jd(Fm(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+co(e,t,-r):Jd(""+(Math.floor(r)+iKe(r,i[1].length)))+"."+nl(RL(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return co(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Sh(co(e,t.replace(/[\\-]/g,""),r)),o=0,Sh(Sh(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(KZ))return a=co(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Lw(c,Math.pow(10,o)-1,!1),a=""+d,u=Vc("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Fw(l[2],o),u.length<i[4].length&&(u=ka(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Lw(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?K3(l[1],o)+i[2]+"/"+i[3]+Fw(l[2],o):$n(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Fm(r,0),t.length<=a.length?a:ka(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return ka(t.substr(0,f)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=RL(r,i[1].length),r<0?"-"+co(e,t,-r):Jd(oKe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?nl(0,3-x.length):"")+x})+"."+nl(o,i[1].length);switch(t){case"###,##0.00":return co(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=Jd(Fm(c,0));return h!=="0"?d+h:"";case"###,###.00":return co(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return co(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function lKe(e,t,r){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return Vc(e,t.substr(0,s),r/Math.pow(10,3*(t.length-s)))}function cKe(e,t,r){var s=t.replace(zZ,""),a=t.length-s.length;return Vc(e,s,r*Math.pow(10,2*a))+$n("%",a)}function YZ(e,t){var r,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+YZ(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(s+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(s);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Pl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(GZ)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Pl("n",s,r):"("+Pl("n",s,-r)+")"}if(t.charCodeAt(t.length-1)===44)return lKe(e,t,r);if(t.indexOf("%")!==-1)return cKe(e,t,r);if(t.indexOf("E")!==-1)return YZ(t,r);if(t.charCodeAt(0)===36)return"$"+Pl(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+nl(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:ka(t.substr(0,t.length-a.length))+a;if(i=t.match(HZ))return aKe(i,c,d);if(t.match(/^#+0+$/))return d+nl(c,t.length-t.indexOf("0"));if(i=t.match(qZ))return a=(""+r).replace(/^([^\.]+)$/,"$1."+ka(i[1])).replace(/\.$/,"."+ka(i[1])),a=a.replace(/\.(\d*)$/,function(x,p){return"."+p+$n("0",ka(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Jd(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Pl(e,t,-r):Jd(""+r)+"."+$n("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Pl(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Sh(Pl(e,t.replace(/[\\-]/g,""),r)),o=0,Sh(Sh(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(KZ))return a=Pl(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Lw(c,Math.pow(10,o)-1,!1),a=""+d,u=Vc("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Fw(l[2],o),u.length<i[4].length&&(u=ka(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Lw(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?K3(l[1],o)+i[2]+"/"+i[3]+Fw(l[2],o):$n(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:ka(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return ka(t.substr(0,f)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Pl(e,t,-r):Jd(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?nl(0,3-x.length):"")+x})+"."+nl(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=Jd(""+c);return h!=="0"?d+h:"";default:if(t.match(/\.[0#?]*$/))return Pl(e,t.slice(0,t.lastIndexOf(".")),r)+ka(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Vc(e,t,r){return(r|0)===r?Pl(e,t,r):co(e,t,r)}function dKe(e){for(var t=[],r=!1,s=0,a=0;s<e.length;++s)switch(e.charCodeAt(s)){case 34:r=!r;break;case 95:case 42:case 92:++s;break;case 59:t[t.length]=e.substr(a,s-a),a=s+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var XZ=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function QZ(e){for(var t=0,r="",s="";t<e.length;)switch(r=e.charAt(t)){case"G":$w(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(s=r;e.charAt(t++)!=="]"&&t<e.length;)s+=e.charAt(t);if(s.match(XZ))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function uKe(e,t,r,s){for(var a=[],i="",o=0,l="",c="t",d,u,f,m="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!$w(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var h=e.charAt(++o),x=h==="("||h===")"?h:"t";a[a.length]={t:x,v:h},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(d==null&&(d=Mj(t,r,e.charAt(o+1)==="2"),d==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=Mj(t,r),d==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var p={t:l,v:l};if(d==null&&(d=Mj(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(p.v=d.H>=12?"P":"A"),p.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(p.v=d.H>=12?"PM":"AM"),p.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(d!=null&&(p.v=d.H>=12?"":""),p.t="T",o+=5,m="h"):(p.t="t",++o),d==null&&p.t==="T")return"";a[a.length]=p,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(XZ)){if(d==null&&(d=Mj(t,r),d==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",QZ(e)||(a[a.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:s===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var g=0,j=0,y;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=m,c="h",g<1&&(g=1);break;case"s":(y=a[o].v.match(/\.0+$/))&&(j=Math.max(j,y[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[o].v.match(/[Hh]/)&&(g=1),g<2&&a[o].v.match(/[Mm]/)&&(g=2),g<3&&a[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var w="",b;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=tKe(a[o].t.charCodeAt(0),a[o].v,d,j),a[o].t="t";break;case"n":case"?":for(b=o+1;a[b]!=null&&((l=a[b].t)==="?"||l==="D"||(l===" "||l==="t")&&a[b+1]!=null&&(a[b+1].t==="?"||a[b+1].t==="t"&&a[b+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[b].v==="/"||a[b].v===" "&&a[b+1]!=null&&a[b+1].t=="?"));)a[o].v+=a[b].v,a[b]={v:"",t:";"},++b;w+=a[o].v,o=b-1;break;case"G":a[o].t="t",a[o].v=yP(t,r);break}var N="",S,_;if(w.length>0){w.charCodeAt(0)==40?(S=t<0&&w.charCodeAt(0)===45?-t:t,_=Vc("n",w,S)):(S=t<0&&s>1?-t:t,_=Vc("n",w,S),S<0&&a[0]&&a[0].t=="t"&&(_=_.substr(1),a[0].v="-"+a[0].v)),b=_.length-1;var E=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){E=o;break}var A=a.length;if(E===a.length&&_.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(b>=a[o].v.length-1?(b-=a[o].v.length,a[o].v=_.substr(b+1,a[o].v.length)):b<0?a[o].v="":(a[o].v=_.substr(0,b+1),b=-1),a[o].t="t",A=o);b>=0&&A<a.length&&(a[A].v=_.substr(0,b+1)+a[A].v)}else if(E!==a.length&&_.indexOf("E")===-1){for(b=_.indexOf(".")-1,o=E;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(u=a[o].v.indexOf(".")>-1&&o===E?a[o].v.indexOf(".")-1:a[o].v.length-1,N=a[o].v.substr(u+1);u>=0;--u)b>=0&&(a[o].v.charAt(u)==="0"||a[o].v.charAt(u)==="#")&&(N=_.charAt(b--)+N);a[o].v=N,a[o].t="t",A=o}for(b>=0&&A<a.length&&(a[A].v=_.substr(0,b+1)+a[A].v),b=_.indexOf(".")+1,o=E;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==E)){for(u=a[o].v.indexOf(".")>-1&&o===E?a[o].v.indexOf(".")+1:0,N=a[o].v.substr(0,u);u<a[o].v.length;++u)b<_.length&&(N+=_.charAt(b++));a[o].v=N,a[o].t="t",A=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(S=s>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Vc(a[o].t,a[o].v,S),a[o].t="t");var k="";for(o=0;o!==a.length;++o)a[o]!=null&&(k+=a[o].v);return k}var ML=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function FL(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function fKe(e,t){var r=dKe(e),s=r.length,a=r[s-1].indexOf("@");if(s<4&&a>-1&&--s,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[s,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(ML),l=r[1].match(ML);return FL(t,o)?[s,r[0]]:FL(t,l)?[s,r[1]]:[s,r[o!=null&&l!=null?2:1]]}return[s,i]}function Cu(e,t,r){r==null&&(r={});var s="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?s=r.dateNF:s=e;break;case"number":e==14&&r.dateNF?s=r.dateNF:s=(r.table!=null?r.table:Ln)[e],s==null&&(s=r.table&&r.table[DL[e]]||Ln[DL[e]]),s==null&&(s=GGe[e]||"General");break}if($w(s,0))return yP(t,r);t instanceof Date&&(t=VZ(t,r.date1904));var a=fKe(s,t);if($w(a[1]))return yP(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return uKe(a[1],t,r,a[0])}function ZZ(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Ln[r]==null){t<0&&(t=r);continue}if(Ln[r]==e){t=r;break}}t<0&&(t=391)}return Ln[t]=e,t}function s_(e){for(var t=0;t!=392;++t)e[t]!==void 0&&ZZ(e[t],t)}function a_(){Ln=qGe()}var JZ=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function mKe(e){var t=typeof e=="number"?Ln[e]:e;return t=t.replace(JZ,"(\\d+)"),new RegExp("^"+t+"$")}function hKe(e,t,r){var s=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(JZ)||[]).forEach(function(f,m){var h=parseInt(r[m+1],10);switch(f.toLowerCase().charAt(0)){case"y":s=h;break;case"d":i=h;break;case"h":o=h;break;case"s":c=h;break;case"m":o>=0?l=h:a=h;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var d=(""+(s>=0?s:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?d:s==-1&&a==-1&&i==-1?u:d+"T"+u}var pKe=function(){var e={};e.version="1.2.0";function t(){for(var _=0,E=new Array(256),A=0;A!=256;++A)_=A,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,E[A]=_;return typeof Int32Array<"u"?new Int32Array(E):E}var r=t();function s(_){var E=0,A=0,k=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(k=0;k!=256;++k)D[k]=_[k];for(k=0;k!=256;++k)for(A=_[k],E=256+k;E<4096;E+=256)A=D[E]=A>>>8^_[A&255];var I=[];for(k=1;k!=16;++k)I[k-1]=typeof Int32Array<"u"?D.subarray(k*256,k*256+256):D.slice(k*256,k*256+256);return I}var a=s(r),i=a[0],o=a[1],l=a[2],c=a[3],d=a[4],u=a[5],f=a[6],m=a[7],h=a[8],x=a[9],p=a[10],g=a[11],j=a[12],y=a[13],w=a[14];function b(_,E){for(var A=E^-1,k=0,D=_.length;k<D;)A=A>>>8^r[(A^_.charCodeAt(k++))&255];return~A}function N(_,E){for(var A=E^-1,k=_.length-15,D=0;D<k;)A=w[_[D++]^A&255]^y[_[D++]^A>>8&255]^j[_[D++]^A>>16&255]^g[_[D++]^A>>>24]^p[_[D++]]^x[_[D++]]^h[_[D++]]^m[_[D++]]^f[_[D++]]^u[_[D++]]^d[_[D++]]^c[_[D++]]^l[_[D++]]^o[_[D++]]^i[_[D++]]^r[_[D++]];for(k+=15;D<k;)A=A>>>8^r[(A^_[D++])&255];return~A}function S(_,E){for(var A=E^-1,k=0,D=_.length,I=0,W=0;k<D;)I=_.charCodeAt(k++),I<128?A=A>>>8^r[(A^I)&255]:I<2048?(A=A>>>8^r[(A^(192|I>>6&31))&255],A=A>>>8^r[(A^(128|I&63))&255]):I>=55296&&I<57344?(I=(I&1023)+64,W=_.charCodeAt(k++)&1023,A=A>>>8^r[(A^(240|I>>8&7))&255],A=A>>>8^r[(A^(128|I>>2&63))&255],A=A>>>8^r[(A^(128|W>>6&15|(I&3)<<4))&255],A=A>>>8^r[(A^(128|W&63))&255]):(A=A>>>8^r[(A^(224|I>>12&15))&255],A=A>>>8^r[(A^(128|I>>6&63))&255],A=A>>>8^r[(A^(128|I&63))&255]);return~A}return e.table=r,e.bstr=b,e.buf=N,e.str=S,e}(),Br=function(){var t={};t.version="1.2.1";function r(U,re){for(var Z=U.split("/"),te=re.split("/"),ae=0,oe=0,Ee=Math.min(Z.length,te.length);ae<Ee;++ae){if(oe=Z[ae].length-te[ae].length)return oe;if(Z[ae]!=te[ae])return Z[ae]<te[ae]?-1:1}return Z.length-te.length}function s(U){if(U.charAt(U.length-1)=="/")return U.slice(0,-1).indexOf("/")===-1?U:s(U.slice(0,-1));var re=U.lastIndexOf("/");return re===-1?U:U.slice(0,re+1)}function a(U){if(U.charAt(U.length-1)=="/")return a(U.slice(0,-1));var re=U.lastIndexOf("/");return re===-1?U:U.slice(re+1)}function i(U,re){typeof re=="string"&&(re=new Date(re));var Z=re.getHours();Z=Z<<6|re.getMinutes(),Z=Z<<5|re.getSeconds()>>>1,U.write_shift(2,Z);var te=re.getFullYear()-1980;te=te<<4|re.getMonth()+1,te=te<<5|re.getDate(),U.write_shift(2,te)}function o(U){var re=U.read_shift(2)&65535,Z=U.read_shift(2)&65535,te=new Date,ae=Z&31;Z>>>=5;var oe=Z&15;Z>>>=4,te.setMilliseconds(0),te.setFullYear(Z+1980),te.setMonth(oe-1),te.setDate(ae);var Ee=re&31;re>>>=5;var Be=re&63;return re>>>=6,te.setHours(re),te.setMinutes(Be),te.setSeconds(Ee<<1),te}function l(U){Ti(U,0);for(var re={},Z=0;U.l<=U.length-4;){var te=U.read_shift(2),ae=U.read_shift(2),oe=U.l+ae,Ee={};switch(te){case 21589:Z=U.read_shift(1),Z&1&&(Ee.mtime=U.read_shift(4)),ae>5&&(Z&2&&(Ee.atime=U.read_shift(4)),Z&4&&(Ee.ctime=U.read_shift(4))),Ee.mtime&&(Ee.mt=new Date(Ee.mtime*1e3));break}U.l=oe,re[te]=Ee}return re}var c;function d(){return c||(c={})}function u(U,re){if(U[0]==80&&U[1]==75)return tr(U,re);if((U[0]|32)==109&&(U[1]|32)==105)return Oy(U,re);if(U.length<512)throw new Error("CFB file size "+U.length+" < 512");var Z=3,te=512,ae=0,oe=0,Ee=0,Be=0,Ce=0,Ae=[],Te=U.slice(0,512);Ti(Te,0);var Ge=f(Te);switch(Z=Ge[0],Z){case 3:te=512;break;case 4:te=4096;break;case 0:if(Ge[1]==0)return tr(U,re);default:throw new Error("Major Version: Expected 3 or 4 saw "+Z)}te!==512&&(Te=U.slice(0,te),Ti(Te,28));var lt=U.slice(0,te);m(Te,Z);var xt=Te.read_shift(4,"i");if(Z===3&&xt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+xt);Te.l+=4,Ee=Te.read_shift(4,"i"),Te.l+=4,Te.chk("00100000","Mini Stream Cutoff Size: "),Be=Te.read_shift(4,"i"),ae=Te.read_shift(4,"i"),Ce=Te.read_shift(4,"i"),oe=Te.read_shift(4,"i");for(var Ze=-1,dt=0;dt<109&&(Ze=Te.read_shift(4,"i"),!(Ze<0));++dt)Ae[dt]=Ze;var Ht=h(U,te);g(Ce,oe,Ht,te,Ae);var Nn=y(Ht,Ee,Ae,te);Nn[Ee].name="!Directory",ae>0&&Be!==W&&(Nn[Be].name="!MiniFAT"),Nn[Ae[0]].name="!FAT",Nn.fat_addrs=Ae,Nn.ssz=te;var _n={},na=[],bx=[],wx=[];w(Ee,Nn,Ht,na,ae,_n,bx,Be),x(bx,wx,na),na.shift();var Nx={FileIndex:bx,FullPaths:wx};return re&&re.raw&&(Nx.raw={header:lt,sectors:Ht}),Nx}function f(U){if(U[U.l]==80&&U[U.l+1]==75)return[0,0];U.chk(H,"Header Signature: "),U.l+=16;var re=U.read_shift(2,"u");return[U.read_shift(2,"u"),re]}function m(U,re){var Z=9;switch(U.l+=2,Z=U.read_shift(2)){case 9:if(re!=3)throw new Error("Sector Shift: Expected 9 saw "+Z);break;case 12:if(re!=4)throw new Error("Sector Shift: Expected 12 saw "+Z);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Z)}U.chk("0600","Mini Sector Shift: "),U.chk("000000000000","Reserved: ")}function h(U,re){for(var Z=Math.ceil(U.length/re)-1,te=[],ae=1;ae<Z;++ae)te[ae-1]=U.slice(ae*re,(ae+1)*re);return te[Z-1]=U.slice(Z*re),te}function x(U,re,Z){for(var te=0,ae=0,oe=0,Ee=0,Be=0,Ce=Z.length,Ae=[],Te=[];te<Ce;++te)Ae[te]=Te[te]=te,re[te]=Z[te];for(;Be<Te.length;++Be)te=Te[Be],ae=U[te].L,oe=U[te].R,Ee=U[te].C,Ae[te]===te&&(ae!==-1&&Ae[ae]!==ae&&(Ae[te]=Ae[ae]),oe!==-1&&Ae[oe]!==oe&&(Ae[te]=Ae[oe])),Ee!==-1&&(Ae[Ee]=te),ae!==-1&&te!=Ae[te]&&(Ae[ae]=Ae[te],Te.lastIndexOf(ae)<Be&&Te.push(ae)),oe!==-1&&te!=Ae[te]&&(Ae[oe]=Ae[te],Te.lastIndexOf(oe)<Be&&Te.push(oe));for(te=1;te<Ce;++te)Ae[te]===te&&(oe!==-1&&Ae[oe]!==oe?Ae[te]=Ae[oe]:ae!==-1&&Ae[ae]!==ae&&(Ae[te]=Ae[ae]));for(te=1;te<Ce;++te)if(U[te].type!==0){if(Be=te,Be!=Ae[Be])do Be=Ae[Be],re[te]=re[Be]+"/"+re[te];while(Be!==0&&Ae[Be]!==-1&&Be!=Ae[Be]);Ae[te]=-1}for(re[0]+="/",te=1;te<Ce;++te)U[te].type!==2&&(re[te]+="/")}function p(U,re,Z){for(var te=U.start,ae=U.size,oe=[],Ee=te;Z&&ae>0&&Ee>=0;)oe.push(re.slice(Ee*I,Ee*I+I)),ae-=I,Ee=of(Z,Ee*4);return oe.length===0?Fe(0):Gs(oe).slice(0,U.size)}function g(U,re,Z,te,ae){var oe=W;if(U===W){if(re!==0)throw new Error("DIFAT chain shorter than expected")}else if(U!==-1){var Ee=Z[U],Be=(te>>>2)-1;if(!Ee)return;for(var Ce=0;Ce<Be&&(oe=of(Ee,Ce*4))!==W;++Ce)ae.push(oe);g(of(Ee,te-4),re-1,Z,te,ae)}}function j(U,re,Z,te,ae){var oe=[],Ee=[];ae||(ae=[]);var Be=te-1,Ce=0,Ae=0;for(Ce=re;Ce>=0;){ae[Ce]=!0,oe[oe.length]=Ce,Ee.push(U[Ce]);var Te=Z[Math.floor(Ce*4/te)];if(Ae=Ce*4&Be,te<4+Ae)throw new Error("FAT boundary crossed: "+Ce+" 4 "+te);if(!U[Te])break;Ce=of(U[Te],Ae)}return{nodes:oe,data:HL([Ee])}}function y(U,re,Z,te){var ae=U.length,oe=[],Ee=[],Be=[],Ce=[],Ae=te-1,Te=0,Ge=0,lt=0,xt=0;for(Te=0;Te<ae;++Te)if(Be=[],lt=Te+re,lt>=ae&&(lt-=ae),!Ee[lt]){Ce=[];var Ze=[];for(Ge=lt;Ge>=0;){Ze[Ge]=!0,Ee[Ge]=!0,Be[Be.length]=Ge,Ce.push(U[Ge]);var dt=Z[Math.floor(Ge*4/te)];if(xt=Ge*4&Ae,te<4+xt)throw new Error("FAT boundary crossed: "+Ge+" 4 "+te);if(!U[dt]||(Ge=of(U[dt],xt),Ze[Ge]))break}oe[lt]={nodes:Be,data:HL([Ce])}}return oe}function w(U,re,Z,te,ae,oe,Ee,Be){for(var Ce=0,Ae=te.length?2:0,Te=re[U].data,Ge=0,lt=0,xt;Ge<Te.length;Ge+=128){var Ze=Te.slice(Ge,Ge+128);Ti(Ze,64),lt=Ze.read_shift(2),xt=eD(Ze,0,lt-Ae),te.push(xt);var dt={name:xt,type:Ze.read_shift(1),color:Ze.read_shift(1),L:Ze.read_shift(4,"i"),R:Ze.read_shift(4,"i"),C:Ze.read_shift(4,"i"),clsid:Ze.read_shift(16),state:Ze.read_shift(4,"i"),start:0,size:0},Ht=Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2);Ht!==0&&(dt.ct=b(Ze,Ze.l-8));var Nn=Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2);Nn!==0&&(dt.mt=b(Ze,Ze.l-8)),dt.start=Ze.read_shift(4,"i"),dt.size=Ze.read_shift(4,"i"),dt.size<0&&dt.start<0&&(dt.size=dt.type=0,dt.start=W,dt.name=""),dt.type===5?(Ce=dt.start,ae>0&&Ce!==W&&(re[Ce].name="!StreamData")):dt.size>=4096?(dt.storage="fat",re[dt.start]===void 0&&(re[dt.start]=j(Z,dt.start,re.fat_addrs,re.ssz)),re[dt.start].name=dt.name,dt.content=re[dt.start].data.slice(0,dt.size)):(dt.storage="minifat",dt.size<0?dt.size=0:Ce!==W&&dt.start!==W&&re[Ce]&&(dt.content=p(dt,re[Ce].data,(re[Be]||{}).data))),dt.content&&Ti(dt.content,0),oe[xt]=dt,Ee.push(dt)}}function b(U,re){return new Date((Ii(U,re+4)/1e7*Math.pow(2,32)+Ii(U,re)/1e7-11644473600)*1e3)}function N(U,re){return d(),u(c.readFileSync(U),re)}function S(U,re){var Z=re&&re.type;switch(Z||br&&Buffer.isBuffer(U)&&(Z="buffer"),Z||"base64"){case"file":return N(U,re);case"base64":return u(el(od(U)),re);case"binary":return u(el(U),re)}return u(U,re)}function _(U,re){var Z=re||{},te=Z.root||"Root Entry";if(U.FullPaths||(U.FullPaths=[]),U.FileIndex||(U.FileIndex=[]),U.FullPaths.length!==U.FileIndex.length)throw new Error("inconsistent CFB structure");U.FullPaths.length===0&&(U.FullPaths[0]=te+"/",U.FileIndex[0]={name:te,type:5}),Z.CLSID&&(U.FileIndex[0].clsid=Z.CLSID),E(U)}function E(U){var re="Sh33tJ5";if(!Br.find(U,"/"+re)){var Z=Fe(4);Z[0]=55,Z[1]=Z[3]=50,Z[2]=54,U.FileIndex.push({name:re,type:2,content:Z,size:4,L:69,R:69,C:69}),U.FullPaths.push(U.FullPaths[0]+re),A(U)}}function A(U,re){_(U);for(var Z=!1,te=!1,ae=U.FullPaths.length-1;ae>=0;--ae){var oe=U.FileIndex[ae];switch(oe.type){case 0:te?Z=!0:(U.FileIndex.pop(),U.FullPaths.pop());break;case 1:case 2:case 5:te=!0,isNaN(oe.R*oe.L*oe.C)&&(Z=!0),oe.R>-1&&oe.L>-1&&oe.R==oe.L&&(Z=!0);break;default:Z=!0;break}}if(!(!Z&&!re)){var Ee=new Date(1987,1,19),Be=0,Ce=Object.create?Object.create(null):{},Ae=[];for(ae=0;ae<U.FullPaths.length;++ae)Ce[U.FullPaths[ae]]=!0,U.FileIndex[ae].type!==0&&Ae.push([U.FullPaths[ae],U.FileIndex[ae]]);for(ae=0;ae<Ae.length;++ae){var Te=s(Ae[ae][0]);te=Ce[Te],te||(Ae.push([Te,{name:a(Te).replace("/",""),type:1,clsid:T,ct:Ee,mt:Ee,content:null}]),Ce[Te]=!0)}for(Ae.sort(function(xt,Ze){return r(xt[0],Ze[0])}),U.FullPaths=[],U.FileIndex=[],ae=0;ae<Ae.length;++ae)U.FullPaths[ae]=Ae[ae][0],U.FileIndex[ae]=Ae[ae][1];for(ae=0;ae<Ae.length;++ae){var Ge=U.FileIndex[ae],lt=U.FullPaths[ae];if(Ge.name=a(lt).replace("/",""),Ge.L=Ge.R=Ge.C=-(Ge.color=1),Ge.size=Ge.content?Ge.content.length:0,Ge.start=0,Ge.clsid=Ge.clsid||T,ae===0)Ge.C=Ae.length>1?1:-1,Ge.size=0,Ge.type=5;else if(lt.slice(-1)=="/"){for(Be=ae+1;Be<Ae.length&&s(U.FullPaths[Be])!=lt;++Be);for(Ge.C=Be>=Ae.length?-1:Be,Be=ae+1;Be<Ae.length&&s(U.FullPaths[Be])!=s(lt);++Be);Ge.R=Be>=Ae.length?-1:Be,Ge.type=1}else s(U.FullPaths[ae+1]||"")==s(lt)&&(Ge.R=ae+1),Ge.type=2}}}function k(U,re){var Z=re||{};if(Z.fileType=="mad")return Re(U,Z);switch(A(U),Z.fileType){case"zip":return ds(U,Z)}var te=function(xt){for(var Ze=0,dt=0,Ht=0;Ht<xt.FileIndex.length;++Ht){var Nn=xt.FileIndex[Ht];if(Nn.content){var _n=Nn.content.length;_n>0&&(_n<4096?Ze+=_n+63>>6:dt+=_n+511>>9)}}for(var na=xt.FullPaths.length+3>>2,bx=Ze+7>>3,wx=Ze+127>>7,Nx=bx+dt+na+wx,Wu=Nx+127>>7,p_=Wu<=109?0:Math.ceil((Wu-109)/127);Nx+Wu+p_+127>>7>Wu;)p_=++Wu<=109?0:Math.ceil((Wu-109)/127);var mc=[1,p_,Wu,wx,na,dt,Ze,0];return xt.FileIndex[0].size=Ze<<6,mc[7]=(xt.FileIndex[0].start=mc[0]+mc[1]+mc[2]+mc[3]+mc[4]+mc[5])+(mc[6]+7>>3),mc}(U),ae=Fe(te[7]<<9),oe=0,Ee=0;{for(oe=0;oe<8;++oe)ae.write_shift(1,F[oe]);for(oe=0;oe<8;++oe)ae.write_shift(2,0);for(ae.write_shift(2,62),ae.write_shift(2,3),ae.write_shift(2,65534),ae.write_shift(2,9),ae.write_shift(2,6),oe=0;oe<3;++oe)ae.write_shift(2,0);for(ae.write_shift(4,0),ae.write_shift(4,te[2]),ae.write_shift(4,te[0]+te[1]+te[2]+te[3]-1),ae.write_shift(4,0),ae.write_shift(4,4096),ae.write_shift(4,te[3]?te[0]+te[1]+te[2]-1:W),ae.write_shift(4,te[3]),ae.write_shift(-4,te[1]?te[0]-1:W),ae.write_shift(4,te[1]),oe=0;oe<109;++oe)ae.write_shift(-4,oe<te[2]?te[1]+oe:-1)}if(te[1])for(Ee=0;Ee<te[1];++Ee){for(;oe<236+Ee*127;++oe)ae.write_shift(-4,oe<te[2]?te[1]+oe:-1);ae.write_shift(-4,Ee===te[1]-1?W:Ee+1)}var Be=function(xt){for(Ee+=xt;oe<Ee-1;++oe)ae.write_shift(-4,oe+1);xt&&(++oe,ae.write_shift(-4,W))};for(Ee=oe=0,Ee+=te[1];oe<Ee;++oe)ae.write_shift(-4,P.DIFSECT);for(Ee+=te[2];oe<Ee;++oe)ae.write_shift(-4,P.FATSECT);Be(te[3]),Be(te[4]);for(var Ce=0,Ae=0,Te=U.FileIndex[0];Ce<U.FileIndex.length;++Ce)Te=U.FileIndex[Ce],Te.content&&(Ae=Te.content.length,!(Ae<4096)&&(Te.start=Ee,Be(Ae+511>>9)));for(Be(te[6]+7>>3);ae.l&511;)ae.write_shift(-4,P.ENDOFCHAIN);for(Ee=oe=0,Ce=0;Ce<U.FileIndex.length;++Ce)Te=U.FileIndex[Ce],Te.content&&(Ae=Te.content.length,!(!Ae||Ae>=4096)&&(Te.start=Ee,Be(Ae+63>>6)));for(;ae.l&511;)ae.write_shift(-4,P.ENDOFCHAIN);for(oe=0;oe<te[4]<<2;++oe){var Ge=U.FullPaths[oe];if(!Ge||Ge.length===0){for(Ce=0;Ce<17;++Ce)ae.write_shift(4,0);for(Ce=0;Ce<3;++Ce)ae.write_shift(4,-1);for(Ce=0;Ce<12;++Ce)ae.write_shift(4,0);continue}Te=U.FileIndex[oe],oe===0&&(Te.start=Te.size?Te.start-1:W);var lt=oe===0&&Z.root||Te.name;if(Ae=2*(lt.length+1),ae.write_shift(64,lt,"utf16le"),ae.write_shift(2,Ae),ae.write_shift(1,Te.type),ae.write_shift(1,Te.color),ae.write_shift(-4,Te.L),ae.write_shift(-4,Te.R),ae.write_shift(-4,Te.C),Te.clsid)ae.write_shift(16,Te.clsid,"hex");else for(Ce=0;Ce<4;++Ce)ae.write_shift(4,0);ae.write_shift(4,Te.state||0),ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(4,Te.start),ae.write_shift(4,Te.size),ae.write_shift(4,0)}for(oe=1;oe<U.FileIndex.length;++oe)if(Te=U.FileIndex[oe],Te.size>=4096)if(ae.l=Te.start+1<<9,br&&Buffer.isBuffer(Te.content))Te.content.copy(ae,ae.l,0,Te.size),ae.l+=Te.size+511&-512;else{for(Ce=0;Ce<Te.size;++Ce)ae.write_shift(1,Te.content[Ce]);for(;Ce&511;++Ce)ae.write_shift(1,0)}for(oe=1;oe<U.FileIndex.length;++oe)if(Te=U.FileIndex[oe],Te.size>0&&Te.size<4096)if(br&&Buffer.isBuffer(Te.content))Te.content.copy(ae,ae.l,0,Te.size),ae.l+=Te.size+63&-64;else{for(Ce=0;Ce<Te.size;++Ce)ae.write_shift(1,Te.content[Ce]);for(;Ce&63;++Ce)ae.write_shift(1,0)}if(br)ae.l=ae.length;else for(;ae.l<ae.length;)ae.write_shift(1,0);return ae}function D(U,re){var Z=U.FullPaths.map(function(Ce){return Ce.toUpperCase()}),te=Z.map(function(Ce){var Ae=Ce.split("/");return Ae[Ae.length-(Ce.slice(-1)=="/"?2:1)]}),ae=!1;re.charCodeAt(0)===47?(ae=!0,re=Z[0].slice(0,-1)+re):ae=re.indexOf("/")!==-1;var oe=re.toUpperCase(),Ee=ae===!0?Z.indexOf(oe):te.indexOf(oe);if(Ee!==-1)return U.FileIndex[Ee];var Be=!oe.match(Rj);for(oe=oe.replace(Bg,""),Be&&(oe=oe.replace(Rj,"!")),Ee=0;Ee<Z.length;++Ee)if((Be?Z[Ee].replace(Rj,"!"):Z[Ee]).replace(Bg,"")==oe||(Be?te[Ee].replace(Rj,"!"):te[Ee]).replace(Bg,"")==oe)return U.FileIndex[Ee];return null}var I=64,W=-2,H="d0cf11e0a1b11ae1",F=[208,207,17,224,161,177,26,225],T="00000000000000000000000000000000",P={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:W,FREESECT:-1,HEADER_SIGNATURE:H,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:T,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function M(U,re,Z){d();var te=k(U,Z);c.writeFileSync(re,te)}function O(U){for(var re=new Array(U.length),Z=0;Z<U.length;++Z)re[Z]=String.fromCharCode(U[Z]);return re.join("")}function K(U,re){var Z=k(U,re);switch(re&&re.type||"buffer"){case"file":return d(),c.writeFileSync(re.filename,Z),Z;case"binary":return typeof Z=="string"?Z:O(Z);case"base64":return vv(typeof Z=="string"?Z:O(Z));case"buffer":if(br)return Buffer.isBuffer(Z)?Z:gd(Z);case"array":return typeof Z=="string"?el(Z):Z}return Z}var ne;function R(U){try{var re=U.InflateRaw,Z=new re;if(Z._processChunk(new Uint8Array([3,0]),Z._finishFlushFlag),Z.bytesRead)ne=U;else throw new Error("zlib does not expose bytesRead")}catch(te){console.error("cannot use native zlib: "+(te.message||te))}}function V(U,re){if(!ne)return jt(U,re);var Z=ne.InflateRaw,te=new Z,ae=te._processChunk(U.slice(U.l),te._finishFlushFlag);return U.l+=te.bytesRead,ae}function L(U){return ne?ne.deflateRawSync(U):qe(U)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function B(U){var re=(U<<1|U<<11)&139536|(U<<5|U<<15)&558144;return(re>>16|re>>8|re)&255}for(var Y=typeof Uint8Array<"u",ie=Y?new Uint8Array(256):[],we=0;we<256;++we)ie[we]=B(we);function ue(U,re){var Z=ie[U&255];return re<=8?Z>>>8-re:(Z=Z<<8|ie[U>>8&255],re<=16?Z>>>16-re:(Z=Z<<8|ie[U>>16&255],Z>>>24-re))}function ge(U,re){var Z=re&7,te=re>>>3;return(U[te]|(Z<=6?0:U[te+1]<<8))>>>Z&3}function xe(U,re){var Z=re&7,te=re>>>3;return(U[te]|(Z<=5?0:U[te+1]<<8))>>>Z&7}function Se(U,re){var Z=re&7,te=re>>>3;return(U[te]|(Z<=4?0:U[te+1]<<8))>>>Z&15}function Me(U,re){var Z=re&7,te=re>>>3;return(U[te]|(Z<=3?0:U[te+1]<<8))>>>Z&31}function ke(U,re){var Z=re&7,te=re>>>3;return(U[te]|(Z<=1?0:U[te+1]<<8))>>>Z&127}function se(U,re,Z){var te=re&7,ae=re>>>3,oe=(1<<Z)-1,Ee=U[ae]>>>te;return Z<8-te||(Ee|=U[ae+1]<<8-te,Z<16-te)||(Ee|=U[ae+2]<<16-te,Z<24-te)||(Ee|=U[ae+3]<<24-te),Ee&oe}function he(U,re,Z){var te=re&7,ae=re>>>3;return te<=5?U[ae]|=(Z&7)<<te:(U[ae]|=Z<<te&255,U[ae+1]=(Z&7)>>8-te),re+3}function ce(U,re,Z){var te=re&7,ae=re>>>3;return Z=(Z&1)<<te,U[ae]|=Z,re+1}function je(U,re,Z){var te=re&7,ae=re>>>3;return Z<<=te,U[ae]|=Z&255,Z>>>=8,U[ae+1]=Z,re+8}function $e(U,re,Z){var te=re&7,ae=re>>>3;return Z<<=te,U[ae]|=Z&255,Z>>>=8,U[ae+1]=Z&255,U[ae+2]=Z>>>8,re+16}function De(U,re){var Z=U.length,te=2*Z>re?2*Z:re+5,ae=0;if(Z>=re)return U;if(br){var oe=kL(te);if(U.copy)U.copy(oe);else for(;ae<U.length;++ae)oe[ae]=U[ae];return oe}else if(Y){var Ee=new Uint8Array(te);if(Ee.set)Ee.set(U);else for(;ae<Z;++ae)Ee[ae]=U[ae];return Ee}return U.length=te,U}function de(U){for(var re=new Array(U),Z=0;Z<U;++Z)re[Z]=0;return re}function Ie(U,re,Z){var te=1,ae=0,oe=0,Ee=0,Be=0,Ce=U.length,Ae=Y?new Uint16Array(32):de(32);for(oe=0;oe<32;++oe)Ae[oe]=0;for(oe=Ce;oe<Z;++oe)U[oe]=0;Ce=U.length;var Te=Y?new Uint16Array(Ce):de(Ce);for(oe=0;oe<Ce;++oe)Ae[ae=U[oe]]++,te<ae&&(te=ae),Te[oe]=0;for(Ae[0]=0,oe=1;oe<=te;++oe)Ae[oe+16]=Be=Be+Ae[oe-1]<<1;for(oe=0;oe<Ce;++oe)Be=U[oe],Be!=0&&(Te[oe]=Ae[Be+16]++);var Ge=0;for(oe=0;oe<Ce;++oe)if(Ge=U[oe],Ge!=0)for(Be=ue(Te[oe],te)>>te-Ge,Ee=(1<<te+4-Ge)-1;Ee>=0;--Ee)re[Be|Ee<<Ge]=Ge&15|oe<<4;return te}var it=Y?new Uint16Array(512):de(512),wt=Y?new Uint16Array(32):de(32);if(!Y){for(var Qe=0;Qe<512;++Qe)it[Qe]=0;for(Qe=0;Qe<32;++Qe)wt[Qe]=0}(function(){for(var U=[],re=0;re<32;re++)U.push(5);Ie(U,wt,32);var Z=[];for(re=0;re<=143;re++)Z.push(8);for(;re<=255;re++)Z.push(9);for(;re<=279;re++)Z.push(7);for(;re<=287;re++)Z.push(8);Ie(Z,it,288)})();var ye=function(){for(var re=Y?new Uint8Array(32768):[],Z=0,te=0;Z<fe.length-1;++Z)for(;te<fe[Z+1];++te)re[te]=Z;for(;te<32768;++te)re[te]=29;var ae=Y?new Uint8Array(259):[];for(Z=0,te=0;Z<le.length-1;++Z)for(;te<le[Z+1];++te)ae[te]=Z;function oe(Be,Ce){for(var Ae=0;Ae<Be.length;){var Te=Math.min(65535,Be.length-Ae),Ge=Ae+Te==Be.length;for(Ce.write_shift(1,+Ge),Ce.write_shift(2,Te),Ce.write_shift(2,~Te&65535);Te-- >0;)Ce[Ce.l++]=Be[Ae++]}return Ce.l}function Ee(Be,Ce){for(var Ae=0,Te=0,Ge=Y?new Uint16Array(32768):[];Te<Be.length;){var lt=Math.min(65535,Be.length-Te);if(lt<10){for(Ae=he(Ce,Ae,+(Te+lt==Be.length)),Ae&7&&(Ae+=8-(Ae&7)),Ce.l=Ae/8|0,Ce.write_shift(2,lt),Ce.write_shift(2,~lt&65535);lt-- >0;)Ce[Ce.l++]=Be[Te++];Ae=Ce.l*8;continue}Ae=he(Ce,Ae,+(Te+lt==Be.length)+2);for(var xt=0;lt-- >0;){var Ze=Be[Te];xt=(xt<<5^Ze)&32767;var dt=-1,Ht=0;if((dt=Ge[xt])&&(dt|=Te&-32768,dt>Te&&(dt-=32768),dt<Te))for(;Be[dt+Ht]==Be[Te+Ht]&&Ht<250;)++Ht;if(Ht>2){Ze=ae[Ht],Ze<=22?Ae=je(Ce,Ae,ie[Ze+1]>>1)-1:(je(Ce,Ae,3),Ae+=5,je(Ce,Ae,ie[Ze-23]>>5),Ae+=3);var Nn=Ze<8?0:Ze-4>>2;Nn>0&&($e(Ce,Ae,Ht-le[Ze]),Ae+=Nn),Ze=re[Te-dt],Ae=je(Ce,Ae,ie[Ze]>>3),Ae-=3;var _n=Ze<4?0:Ze-2>>1;_n>0&&($e(Ce,Ae,Te-dt-fe[Ze]),Ae+=_n);for(var na=0;na<Ht;++na)Ge[xt]=Te&32767,xt=(xt<<5^Be[Te])&32767,++Te;lt-=Ht-1}else Ze<=143?Ze=Ze+48:Ae=ce(Ce,Ae,1),Ae=je(Ce,Ae,ie[Ze]),Ge[xt]=Te&32767,++Te}Ae=je(Ce,Ae,0)-1}return Ce.l=(Ae+7)/8|0,Ce.l}return function(Ce,Ae){return Ce.length<8?oe(Ce,Ae):Ee(Ce,Ae)}}();function qe(U){var re=Fe(50+Math.floor(U.length*1.1)),Z=ye(U,re);return re.slice(0,Z)}var Pt=Y?new Uint16Array(32768):de(32768),Ct=Y?new Uint16Array(32768):de(32768),vr=Y?new Uint16Array(128):de(128),qr=1,On=1;function Vr(U,re){var Z=Me(U,re)+257;re+=5;var te=Me(U,re)+1;re+=5;var ae=Se(U,re)+4;re+=4;for(var oe=0,Ee=Y?new Uint8Array(19):de(19),Be=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ce=1,Ae=Y?new Uint8Array(8):de(8),Te=Y?new Uint8Array(8):de(8),Ge=Ee.length,lt=0;lt<ae;++lt)Ee[G[lt]]=oe=xe(U,re),Ce<oe&&(Ce=oe),Ae[oe]++,re+=3;var xt=0;for(Ae[0]=0,lt=1;lt<=Ce;++lt)Te[lt]=xt=xt+Ae[lt-1]<<1;for(lt=0;lt<Ge;++lt)(xt=Ee[lt])!=0&&(Be[lt]=Te[xt]++);var Ze=0;for(lt=0;lt<Ge;++lt)if(Ze=Ee[lt],Ze!=0){xt=ie[Be[lt]]>>8-Ze;for(var dt=(1<<7-Ze)-1;dt>=0;--dt)vr[xt|dt<<Ze]=Ze&7|lt<<3}var Ht=[];for(Ce=1;Ht.length<Z+te;)switch(xt=vr[ke(U,re)],re+=xt&7,xt>>>=3){case 16:for(oe=3+ge(U,re),re+=2,xt=Ht[Ht.length-1];oe-- >0;)Ht.push(xt);break;case 17:for(oe=3+xe(U,re),re+=3;oe-- >0;)Ht.push(0);break;case 18:for(oe=11+ke(U,re),re+=7;oe-- >0;)Ht.push(0);break;default:Ht.push(xt),Ce<xt&&(Ce=xt);break}var Nn=Ht.slice(0,Z),_n=Ht.slice(Z);for(lt=Z;lt<286;++lt)Nn[lt]=0;for(lt=te;lt<30;++lt)_n[lt]=0;return qr=Ie(Nn,Pt,286),On=Ie(_n,Ct,30),re}function Pr(U,re){if(U[0]==3&&!(U[1]&3))return[sm(re),2];for(var Z=0,te=0,ae=kL(re||1<<18),oe=0,Ee=ae.length>>>0,Be=0,Ce=0;!(te&1);){if(te=xe(U,Z),Z+=3,te>>>1)te>>1==1?(Be=9,Ce=5):(Z=Vr(U,Z),Be=qr,Ce=On);else{Z&7&&(Z+=8-(Z&7));var Ae=U[Z>>>3]|U[(Z>>>3)+1]<<8;if(Z+=32,Ae>0)for(!re&&Ee<oe+Ae&&(ae=De(ae,oe+Ae),Ee=ae.length);Ae-- >0;)ae[oe++]=U[Z>>>3],Z+=8;continue}for(;;){!re&&Ee<oe+32767&&(ae=De(ae,oe+32767),Ee=ae.length);var Te=se(U,Z,Be),Ge=te>>>1==1?it[Te]:Pt[Te];if(Z+=Ge&15,Ge>>>=4,!(Ge>>>8&255))ae[oe++]=Ge;else{if(Ge==256)break;Ge-=257;var lt=Ge<8?0:Ge-4>>2;lt>5&&(lt=0);var xt=oe+le[Ge];lt>0&&(xt+=se(U,Z,lt),Z+=lt),Te=se(U,Z,Ce),Ge=te>>>1==1?wt[Te]:Ct[Te],Z+=Ge&15,Ge>>>=4;var Ze=Ge<4?0:Ge-2>>1,dt=fe[Ge];for(Ze>0&&(dt+=se(U,Z,Ze),Z+=Ze),!re&&Ee<xt&&(ae=De(ae,xt+100),Ee=ae.length);oe<xt;)ae[oe]=ae[oe-dt],++oe}}}return re?[ae,Z+7>>>3]:[ae.slice(0,oe),Z+7>>>3]}function jt(U,re){var Z=U.slice(U.l||0),te=Pr(Z,re);return U.l+=te[1],te[0]}function Tt(U,re){if(U)typeof console<"u"&&console.error(re);else throw new Error(re)}function tr(U,re){var Z=U;Ti(Z,0);var te=[],ae=[],oe={FileIndex:te,FullPaths:ae};_(oe,{root:re.root});for(var Ee=Z.length-4;(Z[Ee]!=80||Z[Ee+1]!=75||Z[Ee+2]!=5||Z[Ee+3]!=6)&&Ee>=0;)--Ee;Z.l=Ee+4,Z.l+=4;var Be=Z.read_shift(2);Z.l+=6;var Ce=Z.read_shift(4);for(Z.l=Ce,Ee=0;Ee<Be;++Ee){Z.l+=20;var Ae=Z.read_shift(4),Te=Z.read_shift(4),Ge=Z.read_shift(2),lt=Z.read_shift(2),xt=Z.read_shift(2);Z.l+=8;var Ze=Z.read_shift(4),dt=l(Z.slice(Z.l+Ge,Z.l+Ge+lt));Z.l+=Ge+lt+xt;var Ht=Z.l;Z.l=Ze+4,Un(Z,Ae,Te,oe,dt),Z.l=Ht}return oe}function Un(U,re,Z,te,ae){U.l+=2;var oe=U.read_shift(2),Ee=U.read_shift(2),Be=o(U);if(oe&8257)throw new Error("Unsupported ZIP encryption");for(var Ce=U.read_shift(4),Ae=U.read_shift(4),Te=U.read_shift(4),Ge=U.read_shift(2),lt=U.read_shift(2),xt="",Ze=0;Ze<Ge;++Ze)xt+=String.fromCharCode(U[U.l++]);if(lt){var dt=l(U.slice(U.l,U.l+lt));(dt[21589]||{}).mt&&(Be=dt[21589].mt),((ae||{})[21589]||{}).mt&&(Be=ae[21589].mt)}U.l+=lt;var Ht=U.slice(U.l,U.l+Ae);switch(Ee){case 8:Ht=V(U,Te);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ee)}var Nn=!1;oe&8&&(Ce=U.read_shift(4),Ce==134695760&&(Ce=U.read_shift(4),Nn=!0),Ae=U.read_shift(4),Te=U.read_shift(4)),Ae!=re&&Tt(Nn,"Bad compressed size: "+re+" != "+Ae),Te!=Z&&Tt(Nn,"Bad uncompressed size: "+Z+" != "+Te),ya(te,xt,Ht,{unsafe:!0,mt:Be})}function ds(U,re){var Z=re||{},te=[],ae=[],oe=Fe(1),Ee=Z.compression?8:0,Be=0,Ce=0,Ae=0,Te=0,Ge=0,lt=U.FullPaths[0],xt=lt,Ze=U.FileIndex[0],dt=[],Ht=0;for(Ce=1;Ce<U.FullPaths.length;++Ce)if(xt=U.FullPaths[Ce].slice(lt.length),Ze=U.FileIndex[Ce],!(!Ze.size||!Ze.content||xt=="Sh33tJ5")){var Nn=Te,_n=Fe(xt.length);for(Ae=0;Ae<xt.length;++Ae)_n.write_shift(1,xt.charCodeAt(Ae)&127);_n=_n.slice(0,_n.l),dt[Ge]=pKe.buf(Ze.content,0);var na=Ze.content;Ee==8&&(na=L(na)),oe=Fe(30),oe.write_shift(4,67324752),oe.write_shift(2,20),oe.write_shift(2,Be),oe.write_shift(2,Ee),Ze.mt?i(oe,Ze.mt):oe.write_shift(4,0),oe.write_shift(-4,dt[Ge]),oe.write_shift(4,na.length),oe.write_shift(4,Ze.content.length),oe.write_shift(2,_n.length),oe.write_shift(2,0),Te+=oe.length,te.push(oe),Te+=_n.length,te.push(_n),Te+=na.length,te.push(na),oe=Fe(46),oe.write_shift(4,33639248),oe.write_shift(2,0),oe.write_shift(2,20),oe.write_shift(2,Be),oe.write_shift(2,Ee),oe.write_shift(4,0),oe.write_shift(-4,dt[Ge]),oe.write_shift(4,na.length),oe.write_shift(4,Ze.content.length),oe.write_shift(2,_n.length),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(4,0),oe.write_shift(4,Nn),Ht+=oe.l,ae.push(oe),Ht+=_n.length,ae.push(_n),++Ge}return oe=Fe(22),oe.write_shift(4,101010256),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,Ge),oe.write_shift(2,Ge),oe.write_shift(4,Ht),oe.write_shift(4,Te),oe.write_shift(2,0),Gs([Gs(te),Gs(ae),oe])}var Ga={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function yd(U,re){if(U.ctype)return U.ctype;var Z=U.name||"",te=Z.match(/\.([^\.]+)$/);return te&&Ga[te[1]]||re&&(te=(Z=re).match(/[\.\\]([^\.\\])+$/),te&&Ga[te[1]])?Ga[te[1]]:"application/octet-stream"}function no(U){for(var re=vv(U),Z=[],te=0;te<re.length;te+=76)Z.push(re.slice(te,te+76));return Z.join(`\r
`)+`\r
`}function _m(U){var re=U.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ae){var Te=Ae.charCodeAt(0).toString(16).toUpperCase();return"="+(Te.length==1?"0"+Te:Te)});re=re.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),re.charAt(0)==`
`&&(re="=0D"+re.slice(1)),re=re.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Z=[],te=re.split(`\r
`),ae=0;ae<te.length;++ae){var oe=te[ae];if(oe.length==0){Z.push("");continue}for(var Ee=0;Ee<oe.length;){var Be=76,Ce=oe.slice(Ee,Ee+Be);Ce.charAt(Be-1)=="="?Be--:Ce.charAt(Be-2)=="="?Be-=2:Ce.charAt(Be-3)=="="&&(Be-=3),Ce=oe.slice(Ee,Ee+Be),Ee+=Be,Ee<oe.length&&(Ce+="="),Z.push(Ce)}}return Z.join(`\r
`)}function m_(U){for(var re=[],Z=0;Z<U.length;++Z){for(var te=U[Z];Z<=U.length&&te.charAt(te.length-1)=="=";)te=te.slice(0,te.length-1)+U[++Z];re.push(te)}for(var ae=0;ae<re.length;++ae)re[ae]=re[ae].replace(/[=][0-9A-Fa-f]{2}/g,function(oe){return String.fromCharCode(parseInt(oe.slice(1),16))});return el(re.join(`\r
`))}function h_(U,re,Z){for(var te="",ae="",oe="",Ee,Be=0;Be<10;++Be){var Ce=re[Be];if(!Ce||Ce.match(/^\s*$/))break;var Ae=Ce.match(/^(.*?):\s*([^\s].*)$/);if(Ae)switch(Ae[1].toLowerCase()){case"content-location":te=Ae[2].trim();break;case"content-type":oe=Ae[2].trim();break;case"content-transfer-encoding":ae=Ae[2].trim();break}}switch(++Be,ae.toLowerCase()){case"base64":Ee=el(od(re.slice(Be).join("")));break;case"quoted-printable":Ee=m_(re.slice(Be));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ae)}var Te=ya(U,te.slice(Z.length),Ee,{unsafe:!0});oe&&(Te.ctype=oe)}function Oy(U,re){if(O(U.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Z=re&&re.root||"",te=(br&&Buffer.isBuffer(U)?U.toString("binary"):O(U)).split(`\r
`),ae=0,oe="";for(ae=0;ae<te.length;++ae)if(oe=te[ae],!!/^Content-Location:/i.test(oe)&&(oe=oe.slice(oe.indexOf("file")),Z||(Z=oe.slice(0,oe.lastIndexOf("/")+1)),oe.slice(0,Z.length)!=Z))for(;Z.length>0&&(Z=Z.slice(0,Z.length-1),Z=Z.slice(0,Z.lastIndexOf("/")+1),oe.slice(0,Z.length)!=Z););var Ee=(te[1]||"").match(/boundary="(.*?)"/);if(!Ee)throw new Error("MAD cannot find boundary");var Be="--"+(Ee[1]||""),Ce=[],Ae=[],Te={FileIndex:Ce,FullPaths:Ae};_(Te);var Ge,lt=0;for(ae=0;ae<te.length;++ae){var xt=te[ae];xt!==Be&&xt!==Be+"--"||(lt++&&h_(Te,te.slice(Ge,ae),Z),Ge=ae)}return Te}function Re(U,re){var Z=re||{},te=Z.boundary||"SheetJS";te="------="+te;for(var ae=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+te.slice(2)+'"',"","",""],oe=U.FullPaths[0],Ee=oe,Be=U.FileIndex[0],Ce=1;Ce<U.FullPaths.length;++Ce)if(Ee=U.FullPaths[Ce].slice(oe.length),Be=U.FileIndex[Ce],!(!Be.size||!Be.content||Ee=="Sh33tJ5")){Ee=Ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ht){return"_x"+Ht.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ht){return"_u"+Ht.charCodeAt(0).toString(16)+"_"});for(var Ae=Be.content,Te=br&&Buffer.isBuffer(Ae)?Ae.toString("binary"):O(Ae),Ge=0,lt=Math.min(1024,Te.length),xt=0,Ze=0;Ze<=lt;++Ze)(xt=Te.charCodeAt(Ze))>=32&&xt<128&&++Ge;var dt=Ge>=lt*4/5;ae.push(te),ae.push("Content-Location: "+(Z.root||"file:///C:/SheetJS/")+Ee),ae.push("Content-Transfer-Encoding: "+(dt?"quoted-printable":"base64")),ae.push("Content-Type: "+yd(Be,Ee)),ae.push(""),ae.push(dt?_m(Te):no(Te))}return ae.push(te+`--\r
`),ae.join(`\r
`)}function Mt(U){var re={};return _(re,U),re}function ya(U,re,Z,te){var ae=te&&te.unsafe;ae||_(U);var oe=!ae&&Br.find(U,re);if(!oe){var Ee=U.FullPaths[0];re.slice(0,Ee.length)==Ee?Ee=re:(Ee.slice(-1)!="/"&&(Ee+="/"),Ee=(Ee+re).replace("//","/")),oe={name:a(re),type:2},U.FileIndex.push(oe),U.FullPaths.push(Ee),ae||Br.utils.cfb_gc(U)}return oe.content=Z,oe.size=Z?Z.length:0,te&&(te.CLSID&&(oe.clsid=te.CLSID),te.mt&&(oe.mt=te.mt),te.ct&&(oe.ct=te.ct)),oe}function bt(U,re){_(U);var Z=Br.find(U,re);if(Z){for(var te=0;te<U.FileIndex.length;++te)if(U.FileIndex[te]==Z)return U.FileIndex.splice(te,1),U.FullPaths.splice(te,1),!0}return!1}function bn(U,re,Z){_(U);var te=Br.find(U,re);if(te){for(var ae=0;ae<U.FileIndex.length;++ae)if(U.FileIndex[ae]==te)return U.FileIndex[ae].name=a(Z),U.FullPaths[ae]=Z,!0}return!1}function wn(U){A(U,!0)}return t.find=D,t.read=S,t.parse=u,t.write=K,t.writeFile=M,t.utils={cfb_new:Mt,cfb_add:ya,cfb_del:bt,cfb_mov:bn,cfb_gc:wn,ReadShift:Vg,CheckField:gJ,prep_blob:Ti,bconcat:Gs,use_zlib:R,_deflateRaw:qe,_inflateRaw:jt,consts:P},t}();function xKe(e){return typeof e=="string"?n_(e):Array.isArray(e)?VGe(e):e}function Ey(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=n_(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var s=r=="utf8"?jv(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(s,e);if(typeof Blob<"u"){var a=new Blob([xKe(s)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Cy(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function ta(e){for(var t=Object.keys(e),r=[],s=0;s<t.length;++s)Object.prototype.hasOwnProperty.call(e,t[s])&&r.push(t[s]);return r}function $L(e,t){for(var r=[],s=ta(e),a=0;a!==s.length;++a)r[e[s[a]][t]]==null&&(r[e[s[a]][t]]=s[a]);return r}function X3(e){for(var t=[],r=ta(e),s=0;s!==r.length;++s)t[e[r[s]]]=r[s];return t}function i_(e){for(var t=[],r=ta(e),s=0;s!==r.length;++s)t[e[r[s]]]=parseInt(r[s],10);return t}function gKe(e){for(var t=[],r=ta(e),s=0;s!==r.length;++s)t[e[r[s]]]==null&&(t[e[r[s]]]=[]),t[e[r[s]]].push(r[s]);return t}var Bw=new Date(1899,11,30,0,0,0);function xi(e,t){var r=e.getTime(),s=Bw.getTime()+(e.getTimezoneOffset()-Bw.getTimezoneOffset())*6e4;return(r-s)/(24*60*60*1e3)}var eJ=new Date,vKe=Bw.getTime()+(eJ.getTimezoneOffset()-Bw.getTimezoneOffset())*6e4,LL=eJ.getTimezoneOffset();function tJ(e){var t=new Date;return t.setTime(e*24*60*60*1e3+vKe),t.getTimezoneOffset()!==LL&&t.setTime(t.getTime()+(t.getTimezoneOffset()-LL)*6e4),t}var BL=new Date("2017-02-19T19:06:09.000Z"),rJ=isNaN(BL.getFullYear())?new Date("2/19/17"):BL,yKe=rJ.getFullYear()==2017;function Fa(e,t){var r=new Date(e);if(yKe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(rJ.getFullYear()==1917&&!isNaN(r.getFullYear())){var s=r.getFullYear();return e.indexOf(""+s)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function o_(e,t){if(br&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var s=[],a=0;a!=e.length;++a)s.push(String.fromCharCode(e[a]));return s.join("")}function gi(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=gi(e[r]));return t}function $n(e,t){for(var r="";r.length<t;)r+=e;return r}function zc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,s=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(s))||(s=s.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(s)))?t/r:t}var jKe=["january","february","march","april","may","june","july","august","september","october","november","december"];function yv(e){var t=new Date(e),r=new Date(NaN),s=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&jKe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return s<0||s>8099?r:(a>0||i>1)&&s!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function er(e,t,r){if(e.FullPaths){if(typeof r=="string"){var s;return br?s=gd(r):s=zGe(r),Br.utils.cfb_add(e,t,s)}Br.utils.cfb_add(e,t,r)}else e.file(t,r)}function Q3(){return Br.utils.cfb_new()}var cs=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,bKe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Z3=X3(bKe),J3=/[&<>'"]/g,wKe=/[\u0000-\u0008\u000b-\u001f]/g;function Ir(e){var t=e+"";return t.replace(J3,function(r){return Z3[r]}).replace(wKe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function UL(e){return Ir(e).replace(/ /g,"_x0020_")}var nJ=/[\u0000-\u001f]/g;function NKe(e){var t=e+"";return t.replace(J3,function(r){return Z3[r]}).replace(/\n/g,"<br/>").replace(nJ,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function _Ke(e){var t=e+"";return t.replace(J3,function(r){return Z3[r]}).replace(nJ,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function SKe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function CKe(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function gC(e){for(var t="",r=0,s=0,a=0,i=0,o=0,l=0;r<e.length;){if(s=e.charCodeAt(r++),s<128){t+=String.fromCharCode(s);continue}if(a=e.charCodeAt(r++),s>191&&s<224){o=(s&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),s<240){t+=String.fromCharCode((s&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((s&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function VL(e){var t=sm(2*e.length),r,s,a=1,i=0,o=0,l;for(s=0;s<e.length;s+=a)a=1,(l=e.charCodeAt(s))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(s+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(s+1)&63)*64+(e.charCodeAt(s+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(s+1)&63)*4096+(e.charCodeAt(s+2)&63)*64+(e.charCodeAt(s+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function zL(e){return gd(e,"binary").toString("utf8")}var Fj="foo bar baz",Ug=br&&(zL(Fj)==gC(Fj)&&zL||VL(Fj)==gC(Fj)&&VL)||gC,jv=br?function(e){return gd(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,s=0,a=0;r<e.length;)switch(s=e.charCodeAt(r++),!0){case s<128:t.push(String.fromCharCode(s));break;case s<2048:t.push(String.fromCharCode(192+(s>>6))),t.push(String.fromCharCode(128+(s&63)));break;case(s>=55296&&s<57344):s-=55296,a=e.charCodeAt(r++)-56320+(s<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(s>>12))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)))}return t.join("")},EKe=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var s=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)s=s.replace(e[a][0],e[a][1]);return s}}(),sJ=/(^\s|\s$|\n)/;function Ks(e,t){return"<"+e+(t.match(sJ)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function bv(e){return ta(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function nt(e,t,r){return"<"+e+(r!=null?bv(r):"")+(t!=null?(t.match(sJ)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function jP(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function AKe(e,t){switch(typeof e){case"string":var r=nt("vt:lpwstr",Ir(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return nt((e|0)==e?"vt:i4":"vt:r8",Ir(String(e)));case"boolean":return nt("vt:bool",e?"true":"false")}if(e instanceof Date)return nt("vt:filetime",jP(e));throw new Error("Unable to serialize "+e)}var Ts={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},xx=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Di={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function PKe(e,t){for(var r=1-2*(e[t+7]>>>7),s=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return s==2047?a==0?r*(1/0):NaN:(s==0?s=-1022:(s-=1023,a+=Math.pow(2,52)),r*Math.pow(2,s-52)*a)}function kKe(e,t,r){var s=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=s?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|s}var WL=function(e){for(var t=[],r=10240,s=0;s<e[0].length;++s)if(e[0][s])for(var a=0,i=e[0][s].length;a<i;a+=r)t.push.apply(t,e[0][s].slice(a,a+r));return t},HL=br?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:gd(t)})):WL(e)}:WL,qL=function(e,t,r){for(var s=[],a=t;a<r;a+=2)s.push(String.fromCharCode(mg(e,a)));return s.join("").replace(Bg,"")},eD=br?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Bg,""):qL(e,t,r)}:qL,GL=function(e,t,r){for(var s=[],a=t;a<t+r;++a)s.push(("0"+e[a].toString(16)).slice(-2));return s.join("")},aJ=br?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):GL(e,t,r)}:GL,KL=function(e,t,r){for(var s=[],a=t;a<r;a++)s.push(String.fromCharCode(zm(e,a)));return s.join("")},Ay=br?function(t,r,s){return Buffer.isBuffer(t)?t.toString("utf8",r,s):KL(t,r,s)}:KL,iJ=function(e,t){var r=Ii(e,t);return r>0?Ay(e,t+4,t+4+r-1):""},oJ=iJ,lJ=function(e,t){var r=Ii(e,t);return r>0?Ay(e,t+4,t+4+r-1):""},cJ=lJ,dJ=function(e,t){var r=2*Ii(e,t);return r>0?Ay(e,t+4,t+4+r-1):""},uJ=dJ,fJ=function(t,r){var s=Ii(t,r);return s>0?eD(t,r+4,r+4+s):""},mJ=fJ,hJ=function(e,t){var r=Ii(e,t);return r>0?Ay(e,t+4,t+4+r):""},pJ=hJ,xJ=function(e,t){return PKe(e,t)},Uw=xJ,tD=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};br&&(oJ=function(t,r){if(!Buffer.isBuffer(t))return iJ(t,r);var s=t.readUInt32LE(r);return s>0?t.toString("utf8",r+4,r+4+s-1):""},cJ=function(t,r){if(!Buffer.isBuffer(t))return lJ(t,r);var s=t.readUInt32LE(r);return s>0?t.toString("utf8",r+4,r+4+s-1):""},uJ=function(t,r){if(!Buffer.isBuffer(t))return dJ(t,r);var s=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+s-1)},mJ=function(t,r){if(!Buffer.isBuffer(t))return fJ(t,r);var s=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+s)},pJ=function(t,r){if(!Buffer.isBuffer(t))return hJ(t,r);var s=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+s)},Uw=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):xJ(t,r)},tD=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var zm=function(e,t){return e[t]},mg=function(e,t){return e[t+1]*256+e[t]},TKe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Ii=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},of=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},OKe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Vg(e,t){var r="",s,a,i=[],o,l,c,d;switch(t){case"dbcs":if(d=this.l,br&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(mg(this,d)),d+=2;e*=2;break;case"utf8":r=Ay(this,this.l,this.l+e);break;case"utf16le":e*=2,r=eD(this,this.l,this.l+e);break;case"wstr":return Vg.call(this,e,"dbcs");case"lpstr-ansi":r=oJ(this,this.l),e=4+Ii(this,this.l);break;case"lpstr-cp":r=cJ(this,this.l),e=4+Ii(this,this.l);break;case"lpwstr":r=uJ(this,this.l),e=4+2*Ii(this,this.l);break;case"lpp4":e=4+Ii(this,this.l),r=mJ(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ii(this,this.l),r=pJ(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=zm(this,this.l+e++))!==0;)i.push(Ij(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=mg(this,this.l+e))!==0;)i.push(Ij(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=zm(this,d),this.l=d+1,l=Vg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Ij(mg(this,d))),d+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=zm(this,d),this.l=d+1,l=Vg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Ij(zm(this,d))),d+=1}r=i.join("");break;default:switch(e){case 1:return s=zm(this,this.l),this.l++,s;case 2:return s=(t==="i"?TKe:mg)(this,this.l),this.l+=2,s;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(s=(e>0?of:OKe)(this,this.l),this.l+=4,s):(a=Ii(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Uw(this,this.l):a=Uw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=aJ(this,this.l,e);break}}return this.l+=e,r}var DKe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},IKe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},RKe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function MKe(e,t,r){var s=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)RKe(this,t.charCodeAt(a),this.l+2*a);s=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;s=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:s=1,this[this.l]=t&255;break;case 2:s=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:s=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:s=4,DKe(this,t,this.l);break;case 8:if(s=8,r==="f"){kKe(this,t,this.l);break}case 16:break;case-4:s=4,IKe(this,t,this.l);break}return this.l+=s,this}function gJ(e,t){var r=aJ(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ti(e,t){e.l=t,e.read_shift=Vg,e.chk=gJ,e.write_shift=MKe}function ac(e,t){e.l+=t}function Fe(e){var t=sm(e);return Ti(t,0),t}function hi(){var e=[],t=br?256:2048,r=function(d){var u=Fe(d);return Ti(u,0),u},s=r(t),a=function(){s&&(s.length>s.l&&(s=s.slice(0,s.l),s.l=s.length),s.length>0&&e.push(s),s=null)},i=function(d){return s&&d<s.length-s.l?s:(a(),s=r(Math.max(d+1,t)))},o=function(){return a(),Gs(e)},l=function(d){a(),s=d,s.l==null&&(s.l=s.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function We(e,t,r,s){var a=+t,i;if(!isNaN(a)){s||(s=Tet[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,s>=128&&++i,s>=16384&&++i,s>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(s>=128)o.write_shift(1,(s&127)+128),s>>=7;else{o.write_shift(1,s);break}s>0&&tD(r)&&e.push(r)}}function zg(e,t,r){var s=gi(e);if(t.s?(s.cRel&&(s.c+=t.s.c),s.rRel&&(s.r+=t.s.r)):(s.cRel&&(s.c+=t.c),s.rRel&&(s.r+=t.r)),!r||r.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function YL(e,t,r){var s=gi(e);return s.s=zg(s.s,t.s,r),s.e=zg(s.e,t.s,r),s}function Wg(e,t){if(e.cRel&&e.c<0)for(e=gi(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=gi(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Mr(e);return!e.cRel&&e.cRel!=null&&(r=LKe(r)),!e.rRel&&e.rRel!=null&&(r=FKe(r)),r}function vC(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+pa(e.s.c)+":"+(e.e.cRel?"":"$")+pa(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Zs(e.s.r)+":"+(e.e.rRel?"":"$")+Zs(e.e.r):Wg(e.s,t.biff)+":"+Wg(e.e,t.biff)}function rD(e){return parseInt($Ke(e),10)-1}function Zs(e){return""+(e+1)}function FKe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function $Ke(e){return e.replace(/\$(\d+)$/,"$1")}function nD(e){for(var t=BKe(e),r=0,s=0;s!==t.length;++s)r=26*r+t.charCodeAt(s)-64;return r-1}function pa(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function LKe(e){return e.replace(/^([A-Z])/,"$$$1")}function BKe(e){return e.replace(/^\$([A-Z])/,"$1")}function UKe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Os(e){for(var t=0,r=0,s=0;s<e.length;++s){var a=e.charCodeAt(s);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Mr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Qi(e){var t=e.indexOf(":");return t==-1?{s:Os(e),e:Os(e)}:{s:Os(e.slice(0,t)),e:Os(e.slice(t+1))}}function as(e,t){return typeof t>"u"||typeof t=="number"?as(e.s,e.e):(typeof e!="string"&&(e=Mr(e)),typeof t!="string"&&(t=Mr(t)),e==t?e:e+":"+t)}function ln(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,s=0,a=0,i=e.length;for(r=0;s<i&&!((a=e.charCodeAt(s)-64)<1||a>26);++s)r=26*r+a;for(t.s.c=--r,r=0;s<i&&!((a=e.charCodeAt(s)-48)<0||a>9);++s)r=10*r+a;if(t.s.r=--r,s===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++s,r=0;s!=i&&!((a=e.charCodeAt(s)-64)<1||a>26);++s)r=26*r+a;for(t.e.c=--r,r=0;s!=i&&!((a=e.charCodeAt(s)-48)<0||a>9);++s)r=10*r+a;return t.e.r=--r,t}function XL(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Cu(e.z,r?xi(t):t)}catch{}try{return e.w=Cu((e.XF||{}).numFmtId||(r?14:0),r?xi(t):t)}catch{return""+t}}function ld(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Py[e.v]||e.v:t==null?XL(e,e.v):XL(e,t))}function ym(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",s={};return s[r]=e,{SheetNames:[r],Sheets:s}}function vJ(e,t,r){var s=r||{},a=e?Array.isArray(e):s.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&s.origin!=null){if(typeof s.origin=="number")o=s.origin;else{var c=typeof s.origin=="string"?Os(s.origin):s.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=ln(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),o==-1&&(d.e.r=o=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[f].length;++m)if(!(typeof t[f][m]>"u")){var h={v:t[f][m]},x=o+f,p=l+m;if(d.s.r>x&&(d.s.r=x),d.s.c>p&&(d.s.c=p),d.e.r<x&&(d.e.r=x),d.e.c<p&&(d.e.c=p),t[f][m]&&typeof t[f][m]=="object"&&!Array.isArray(t[f][m])&&!(t[f][m]instanceof Date))h=t[f][m];else if(Array.isArray(h.v)&&(h.f=t[f][m][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(s.nullError)h.t="e",h.v=0;else if(s.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=s.dateNF||Ln[14],s.cellDates?(h.t="d",h.w=Cu(h.z,xi(h.v))):(h.t="n",h.v=xi(h.v),h.w=Cu(h.z,h.v))):h.t="s";if(a)i[x]||(i[x]=[]),i[x][p]&&i[x][p].z&&(h.z=i[x][p].z),i[x][p]=h;else{var g=Mr({c:p,r:x});i[g]&&i[g].z&&(h.z=i[g].z),i[g]=h}}}return d.s.c<1e7&&(i["!ref"]=as(d)),i}function gx(e,t){return vJ(null,e,t)}function VKe(e){return e.read_shift(4,"i")}function cl(e,t){return t||(t=Fe(4)),t.write_shift(4,e),t}function xa(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ds(e,t){var r=!1;return t==null&&(r=!0,t=Fe(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function zKe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function WKe(e,t){return t||(t=Fe(4)),t.write_shift(2,0),t.write_shift(2,0),t}function sD(e,t){var r=e.l,s=e.read_shift(1),a=xa(e),i=[],o={t:a,h:a};if(s&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(zKe(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function HKe(e,t){var r=!1;return t==null&&(r=!0,t=Fe(15+4*e.t.length)),t.write_shift(1,0),Ds(e.t,t),r?t.slice(0,t.l):t}var qKe=sD;function GKe(e,t){var r=!1;return t==null&&(r=!0,t=Fe(23+4*e.t.length)),t.write_shift(1,1),Ds(e.t,t),t.write_shift(4,1),WKe({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function $o(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function jm(e,t){return t==null&&(t=Fe(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function bm(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function wm(e,t){return t==null&&(t=Fe(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var KKe=xa,yJ=Ds;function aD(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Vw(e,t){var r=!1;return t==null&&(r=!0,t=Fe(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var YKe=xa,bP=aD,iD=Vw;function jJ(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,s=t[0]&2;e.l+=4;var a=s===0?Uw([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):of(t,0)>>2;return r?a/100:a}function bJ(e,t){t==null&&(t=Fe(4));var r=0,s=0,a=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?s=1:a==(a|0)&&a>=-(1<<29)&&a<1<<29&&(s=1,r=1),s)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function wJ(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function XKe(e,t){return t||(t=Fe(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Nm=wJ,vx=XKe;function yx(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function am(e,t){return(t||Fe(8)).write_shift(8,e,"f")}function QKe(e){var t={},r=e.read_shift(1),s=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,s){case 0:t.auto=1;break;case 1:t.index=a;var d=iYe[a];d&&(t.rgb=o8(d));break;case 2:t.rgb=o8([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function zw(e,t){if(t||(t=Fe(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var s=e.rgb||"FFFFFF";typeof s=="number"&&(s=("000000"+s.toString(16)).slice(-6)),t.write_shift(1,parseInt(s.slice(0,2),16)),t.write_shift(1,parseInt(s.slice(2,4),16)),t.write_shift(1,parseInt(s.slice(4,6),16)),t.write_shift(1,255)}return t}function ZKe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function JKe(e,t){t||(t=Fe(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var NJ=2,Ai=3,$j=11,Ww=19,Lj=64,eYe=65,tYe=71,rYe=4108,nYe=4126,Hs=80,QL={1:{n:"CodePage",t:NJ},2:{n:"Category",t:Hs},3:{n:"PresentationFormat",t:Hs},4:{n:"ByteCount",t:Ai},5:{n:"LineCount",t:Ai},6:{n:"ParagraphCount",t:Ai},7:{n:"SlideCount",t:Ai},8:{n:"NoteCount",t:Ai},9:{n:"HiddenCount",t:Ai},10:{n:"MultimediaClipCount",t:Ai},11:{n:"ScaleCrop",t:$j},12:{n:"HeadingPairs",t:rYe},13:{n:"TitlesOfParts",t:nYe},14:{n:"Manager",t:Hs},15:{n:"Company",t:Hs},16:{n:"LinksUpToDate",t:$j},17:{n:"CharacterCount",t:Ai},19:{n:"SharedDoc",t:$j},22:{n:"HyperlinksChanged",t:$j},23:{n:"AppVersion",t:Ai,p:"version"},24:{n:"DigSig",t:eYe},26:{n:"ContentType",t:Hs},27:{n:"ContentStatus",t:Hs},28:{n:"Language",t:Hs},29:{n:"Version",t:Hs},255:{},2147483648:{n:"Locale",t:Ww},2147483651:{n:"Behavior",t:Ww},1919054434:{}},ZL={1:{n:"CodePage",t:NJ},2:{n:"Title",t:Hs},3:{n:"Subject",t:Hs},4:{n:"Author",t:Hs},5:{n:"Keywords",t:Hs},6:{n:"Comments",t:Hs},7:{n:"Template",t:Hs},8:{n:"LastAuthor",t:Hs},9:{n:"RevNumber",t:Hs},10:{n:"EditTime",t:Lj},11:{n:"LastPrinted",t:Lj},12:{n:"CreatedDate",t:Lj},13:{n:"ModifiedDate",t:Lj},14:{n:"PageCount",t:Ai},15:{n:"WordCount",t:Ai},16:{n:"CharCount",t:Ai},17:{n:"Thumbnail",t:tYe},18:{n:"Application",t:Hs},19:{n:"DocSecurity",t:Ai},255:{},2147483648:{n:"Locale",t:Ww},2147483651:{n:"Behavior",t:Ww},1919054434:{}};function sYe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var aYe=sYe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),iYe=gi(aYe),Py={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},oYe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Bj={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function _J(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function SJ(e,t){var r=gKe(oYe),s=[],a;s[s.length]=cs,s[s.length]=nt("Types",null,{xmlns:Ts.CT,"xmlns:xsd":Ts.xsd,"xmlns:xsi":Ts.xsi}),s=s.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return nt("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],s[s.length]=nt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Bj[c][t.bookType]||Bj[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(d){s[s.length]=nt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:Bj[c][t.bookType]||Bj[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(d){s[s.length]=nt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),s.length>2&&(s[s.length]="</Types>",s[1]=s[1].replace("/>",">")),s.join("")}var yr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function CJ(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Ch(e){var t=[cs,nt("Relationships",null,{xmlns:Ts.RELS})];return ta(e["!id"]).forEach(function(r){t[t.length]=nt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Or(e,t,r,s,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=s,a.Target=r,[yr.HLINK,yr.XPATH,yr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function lYe(e){var t=[cs];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function JL(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function cYe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function dYe(e){var t=[cs];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(JL(e[r][0],e[r][1])),t.push(cYe("",e[r][0]));return t.push(JL("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function EJ(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Mw.version+"</meta:generator></office:meta></office:document-meta>"}var If=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function yC(e,t,r,s,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Ir(t),s[s.length]=r?nt(e,t,r):Ks(e,t))}function AJ(e,t){var r=t||{},s=[cs,nt("cp:coreProperties",null,{"xmlns:cp":Ts.CORE_PROPS,"xmlns:dc":Ts.dc,"xmlns:dcterms":Ts.dcterms,"xmlns:dcmitype":Ts.dcmitype,"xmlns:xsi":Ts.xsi})],a={};if(!e&&!r.Props)return s.join("");e&&(e.CreatedDate!=null&&yC("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:jP(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},s,a),e.ModifiedDate!=null&&yC("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:jP(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},s,a));for(var i=0;i!=If.length;++i){var o=If[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&yC(o[0],l,null,s,a)}return s.length>2&&(s[s.length]="</cp:coreProperties>",s[1]=s[1].replace("/>",">")),s.join("")}var Eh=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],PJ=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function kJ(e){var t=[],r=nt;return e||(e={}),e.Application="SheetJS",t[t.length]=cs,t[t.length]=nt("Properties",null,{xmlns:Ts.EXT_PROPS,"xmlns:vt":Ts.vt}),Eh.forEach(function(s){if(e[s[1]]!==void 0){var a;switch(s[2]){case"string":a=Ir(String(e[s[1]]));break;case"bool":a=e[s[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(s[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(s){return"<vt:lpstr>"+Ir(s)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function TJ(e){var t=[cs,nt("Properties",null,{xmlns:Ts.CUST_PROPS,"xmlns:vt":Ts.vt})];if(!e)return t.join("");var r=1;return ta(e).forEach(function(a){++r,t[t.length]=nt("property",AKe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Ir(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var e8={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function uYe(e,t){var r=[];return ta(e8).map(function(s){for(var a=0;a<If.length;++a)if(If[a][1]==s)return If[a];for(a=0;a<Eh.length;++a)if(Eh[a][1]==s)return Eh[a];throw s}).forEach(function(s){if(e[s[1]]!=null){var a=t&&t.Props&&t.Props[s[1]]!=null?t.Props[s[1]]:e[s[1]];switch(s[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Ks(e8[s[1]]||s[1],a))}}),nt("DocumentProperties",r.join(""),{xmlns:Di.o})}function fYe(e,t){var r=["Worksheets","SheetNames"],s="CustomDocumentProperties",a=[];return e&&ta(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<If.length;++o)if(i==If[o][1])return;for(o=0;o<Eh.length;++o)if(i==Eh[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(nt(UL(i),l,{"dt:dt":c}))}}),t&&ta(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(nt(UL(i),o,{"dt:dt":l}))}}),"<"+s+' xmlns="'+Di.o+'">'+a.join("")+"</"+s+">"}function mYe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,s=r%Math.pow(2,32),a=(r-s)/Math.pow(2,32);s*=1e7,a*=1e7;var i=s/Math.pow(2,32)|0;i>0&&(s=s%Math.pow(2,32),a+=i);var o=Fe(8);return o.write_shift(4,s),o.write_shift(4,a),o}function t8(e,t){var r=Fe(4),s=Fe(4);switch(r.write_shift(4,e==80?31:e),e){case 3:s.write_shift(-4,t);break;case 5:s=Fe(8),s.write_shift(8,t,"f");break;case 11:s.write_shift(4,t?1:0);break;case 64:s=mYe(t);break;case 31:case 80:for(s=Fe(4+2*(t.length+1)+(t.length%2?0:2)),s.write_shift(4,t.length+1),s.write_shift(0,t,"dbcs");s.l!=s.length;)s.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Gs([r,s])}var OJ=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function hYe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function r8(e,t,r){var s=Fe(8),a=[],i=[],o=8,l=0,c=Fe(8),d=Fe(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),a.push(d),o+=8+c.length,!t){d=Fe(8),d.write_shift(4,0),a.unshift(d);var u=[Fe(4)];for(u[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=Fe(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=Gs(u),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(OJ.indexOf(e[l][0])>-1||PJ.indexOf(e[l][0])>-1)&&e[l][1]!=null){var m=e[l][1],h=0;if(t){h=+t[e[l][0]];var x=r[h];if(x.p=="version"&&typeof m=="string"){var p=m.split(".");m=(+p[0]<<16)+(+p[1]||0)}c=t8(x.t,m)}else{var g=hYe(m);g==-1&&(g=31,m=String(m)),c=t8(g,m)}i.push(c),d=Fe(8),d.write_shift(4,t?h:2+l),a.push(d),o+=8+c.length}var j=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,j),j+=i[l].length;return s.write_shift(4,o),s.write_shift(4,i.length),Gs([s].concat(a).concat(i))}function n8(e,t,r,s,a,i){var o=Fe(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Br.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=r8(e,r,s);if(l.push(c),a){var d=r8(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(d)}return Gs(l)}function pYe(e,t){t||(t=Fe(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function xYe(e,t){return e.read_shift(t)===1}function Ta(e,t){return t||(t=Fe(2)),t.write_shift(2,+!!e),t}function DJ(e){return e.read_shift(2,"u")}function ho(e,t){return t||(t=Fe(2)),t.write_shift(2,e),t}function IJ(e,t,r){return r||(r=Fe(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function RJ(e,t,r){var s=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=s?e.read_shift(s,a):"";return o}function gYe(e){var t=e.t||"",r=Fe(3);r.write_shift(2,t.length),r.write_shift(1,1);var s=Fe(2*t.length);s.write_shift(2*t.length,t,"utf16le");var a=[r,s];return Gs(a)}function vYe(e,t,r){var s;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?s=e.read_shift(t,"sbcs-cont"):s=e.read_shift(t,"dbcs-cont"),s}function yYe(e,t,r){var s=e.read_shift(r&&r.biff==2?1:2);return s===0?(e.l++,""):vYe(e,s,r)}function jYe(e,t,r){if(r.biff>5)return yYe(e,t,r);var s=e.read_shift(1);return s===0?(e.l++,""):e.read_shift(s,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function MJ(e,t,r){return r||(r=Fe(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function s8(e,t){t||(t=Fe(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function bYe(e){var t=Fe(512),r=0,s=e.Target;s.slice(0,7)=="file://"&&(s=s.slice(7));var a=s.indexOf("#"),i=a>-1?31:23;switch(s.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)s=s.slice(1),s8(s,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?s.slice(0,a):s;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&s8(a>-1?s.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;s.slice(c*3,c*3+3)=="../"||s.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,s.length-3*c+1),r=0;r<s.length-3*c;++r)t.write_shift(1,s.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function im(e,t,r,s){return s||(s=Fe(6)),s.write_shift(2,e),s.write_shift(2,t),s.write_shift(2,r||0),s}function wYe(e,t,r){var s=r.biff>8?4:2,a=e.read_shift(s),i=e.read_shift(s,"i"),o=e.read_shift(s,"i");return[a,i,o]}function NYe(e){var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2);return{s:{c:s,r:t},e:{c:a,r}}}function FJ(e,t){return t||(t=Fe(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function oD(e,t,r){var s=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":s=1280,a=8;break;case"biff4":s=4,a=6;break;case"biff3":s=3,a=6;break;case"biff2":s=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Fe(a);return i.write_shift(2,s),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function _Ye(e,t){var r=!t||t.biff==8,s=Fe(r?112:54);for(s.write_shift(t.biff==8?2:1,7),r&&s.write_shift(1,0),s.write_shift(4,859007059),s.write_shift(4,5458548|(r?0:536870912));s.l<s.length;)s.write_shift(1,r?0:32);return s}function SYe(e,t){var r=!t||t.biff>=8?2:1,s=Fe(8+r*e.name.length);s.write_shift(4,e.pos),s.write_shift(1,e.hs||0),s.write_shift(1,e.dt),s.write_shift(1,e.name.length),t.biff>=8&&s.write_shift(1,1),s.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=s.slice(0,s.l);return a.l=s.l,a}function CYe(e,t){var r=Fe(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var s=[],a=0;a<e.length;++a)s[a]=gYe(e[a]);var i=Gs([r].concat(s));return i.parts=[r.length].concat(s.map(function(o){return o.length})),i}function EYe(){var e=Fe(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function AYe(e){var t=Fe(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function PYe(e,t){var r=e.name||"Arial",s=t&&t.biff==5,a=s?15+r.length:16+2*r.length,i=Fe(a);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),s||i.write_shift(1,1),i.write_shift((s?1:2)*r.length,r,s?"sbcs":"utf16le"),i}function kYe(e,t,r,s){var a=Fe(10);return im(e,t,s,a),a.write_shift(4,r),a}function TYe(e,t,r,s,a){var i=!a||a.biff==8,o=Fe(8+ +i+(1+i)*r.length);return im(e,t,s,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function OYe(e,t,r,s){var a=r&&r.biff==5;s||(s=Fe(a?3+t.length:5+2*t.length)),s.write_shift(2,e),s.write_shift(a?1:2,t.length),a||s.write_shift(1,1),s.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=s.length>s.l?s.slice(0,s.l):s;return i.l==null&&(i.l=i.length),i}function DYe(e,t){var r=t.biff==8||!t.biff?4:2,s=Fe(2*r+6);return s.write_shift(r,e.s.r),s.write_shift(r,e.e.r+1),s.write_shift(2,e.s.c),s.write_shift(2,e.e.c+1),s.write_shift(2,0),s}function a8(e,t,r,s){var a=r&&r.biff==5;s||(s=Fe(a?16:20)),s.write_shift(2,0),e.style?(s.write_shift(2,e.numFmtId||0),s.write_shift(2,65524)):(s.write_shift(2,e.numFmtId||0),s.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),s.write_shift(4,i),s.write_shift(4,0),a||s.write_shift(4,0),s.write_shift(2,0),s}function IYe(e){var t=Fe(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function RYe(e,t,r,s,a,i){var o=Fe(8);return im(e,t,s,o),IJ(r,i,o),o}function MYe(e,t,r,s){var a=Fe(14);return im(e,t,s,a),am(r,a),a}function FYe(e,t,r){if(r.biff<8)return $Ye(e,t,r);for(var s=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)s.push(wYe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return s}function $Ye(e,t,r){e[e.l+1]==3&&e[e.l]++;var s=RJ(e,t,r);return s.charCodeAt(0)==3?s.slice(1):s}function LYe(e){var t=Fe(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)FJ(e[r],t);return t}function BYe(e){var t=Fe(24),r=Os(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var s="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(s[a],16));return Gs([t,bYe(e[1])])}function UYe(e){var t=e[1].Tooltip,r=Fe(10+2*(t.length+1));r.write_shift(2,2048);var s=Os(e[0]);r.write_shift(2,s.r),r.write_shift(2,s.r),r.write_shift(2,s.c),r.write_shift(2,s.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function VYe(e){return e||(e=Fe(4)),e.write_shift(2,1),e.write_shift(2,1),e}function zYe(e,t,r){if(!r.cellStyles)return ac(e,t);var s=r&&r.biff>=12?4:2,a=e.read_shift(s),i=e.read_shift(s),o=e.read_shift(s),l=e.read_shift(s),c=e.read_shift(2);s==2&&(e.l+=2);var d={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function WYe(e,t){var r=Fe(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var s=0;return e.hidden&&(s|=1),r.write_shift(1,s),s=e.level||0,r.write_shift(1,s),r.write_shift(2,0),r}function HYe(e){for(var t=Fe(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function qYe(e,t,r){var s=Fe(15);return Ty(s,e,t),s.write_shift(8,r,"f"),s}function GYe(e,t,r){var s=Fe(9);return Ty(s,e,t),s.write_shift(2,r),s}var KYe=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=X3({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var d=[],u=sm(1);switch(c.type){case"base64":u=el(od(l));break;case"binary":u=el(l);break;case"buffer":case"array":u=l;break}Ti(u,0);var f=u.read_shift(1),m=!!(f&136),h=!1,x=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,m=!0;break;case 49:h=!0,m=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,g=521;f==2&&(p=u.read_shift(2)),u.l+=3,f!=2&&(p=u.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(g=u.read_shift(2));var j=u.read_shift(2),y=c.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(y=e[u[u.l]]),u.l+=1,u.l+=2),x&&(u.l+=36);for(var w=[],b={},N=Math.min(u.length,f==2?521:g-10-(h?264:0)),S=x?32:11;u.l<N&&u[u.l]!=13;)switch(b={},b.name=af.utils.decode(y,u.slice(u.l,u.l+S)).replace(/[\u0000\r\n].*$/g,""),u.l+=S,b.type=String.fromCharCode(u.read_shift(1)),f!=2&&!x&&(b.offset=u.read_shift(4)),b.len=u.read_shift(1),f==2&&(b.offset=u.read_shift(2)),b.dec=u.read_shift(1),b.name.length&&w.push(b),f!=2&&(u.l+=x?13:14),b.type){case"B":(!h||b.len!=8)&&c.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+b.type)}if(u[u.l]!==13&&(u.l=g-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=g;var _=0,E=0;for(d[0]=[],E=0;E!=w.length;++E)d[0][E]=w[E].name;for(;p-- >0;){if(u[u.l]===42){u.l+=j;continue}for(++u.l,d[++_]=[],E=0,E=0;E!=w.length;++E){var A=u.slice(u.l,u.l+w[E].len);u.l+=w[E].len,Ti(A,0);var k=af.utils.decode(y,A);switch(w[E].type){case"C":k.trim().length&&(d[_][E]=k.replace(/\s+$/,""));break;case"D":k.length===8?d[_][E]=new Date(+k.slice(0,4),+k.slice(4,6)-1,+k.slice(6,8)):d[_][E]=k;break;case"F":d[_][E]=parseFloat(k.trim());break;case"+":case"I":d[_][E]=x?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(k.trim().toUpperCase()){case"Y":case"T":d[_][E]=!0;break;case"N":case"F":d[_][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+k+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));d[_][E]="##MEMO##"+(x?parseInt(k.trim(),10):A.read_shift(4));break;case"N":k=k.replace(/\u0000/g,"").trim(),k&&k!="."&&(d[_][E]=+k||0);break;case"@":d[_][E]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":d[_][E]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":d[_][E]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[_][E]=-A.read_shift(-8,"f");break;case"B":if(h&&w[E].len==8){d[_][E]=A.read_shift(8,"f");break}case"G":case"P":A.l+=w[E].len;break;case"0":if(w[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[E].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=w,d}function s(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=gx(r(l,d),d);return u["!cols"]=d.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete d.DBF,u}function a(l,c){try{return ym(s(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var d=c||{};if(+d.codepage>=0&&gv(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=hi(),f=Yw(l,{header:1,raw:!0,cellDates:!0}),m=f[0],h=f.slice(1),x=l["!cols"]||[],p=0,g=0,j=0,y=1;for(p=0;p<m.length;++p){if(((x[p]||{}).DBF||{}).name){m[p]=x[p].DBF.name,++j;continue}if(m[p]!=null){if(++j,typeof m[p]=="number"&&(m[p]=m[p].toString(10)),typeof m[p]!="string")throw new Error("DBF Invalid column name "+m[p]+" |"+typeof m[p]+"|");if(m.indexOf(m[p])!==p){for(g=0;g<1024;++g)if(m.indexOf(m[p]+"_"+g)==-1){m[p]+="_"+g;break}}}}var w=ln(l["!ref"]),b=[],N=[],S=[];for(p=0;p<=w.e.c-w.s.c;++p){var _="",E="",A=0,k=[];for(g=0;g<h.length;++g)h[g][p]!=null&&k.push(h[g][p]);if(k.length==0||m[p]==null){b[p]="?";continue}for(g=0;g<k.length;++g){switch(typeof k[g]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=k[g]instanceof Date?"D":"C";break;default:E="C"}A=Math.max(A,String(k[g]).length),_=_&&_!=E?"C":E}A>250&&(A=250),E=((x[p]||{}).DBF||{}).type,E=="C"&&x[p].DBF.len>A&&(A=x[p].DBF.len),_=="B"&&E=="N"&&(_="N",S[p]=x[p].DBF.dec,A=x[p].DBF.len),N[p]=_=="C"||E=="N"?A:i[_]||0,y+=N[p],b[p]=_}var D=u.next(32);for(D.write_shift(4,318902576),D.write_shift(4,h.length),D.write_shift(2,296+32*j),D.write_shift(2,y),p=0;p<4;++p)D.write_shift(4,0);for(D.write_shift(4,0|(+t[LZ]||3)<<8),p=0,g=0;p<m.length;++p)if(m[p]!=null){var I=u.next(32),W=(m[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);I.write_shift(1,W,"sbcs"),I.write_shift(1,b[p]=="?"?"C":b[p],"sbcs"),I.write_shift(4,g),I.write_shift(1,N[p]||i[b[p]]||0),I.write_shift(1,S[p]||0),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(1,0),I.write_shift(4,0),I.write_shift(4,0),g+=N[p]||i[b[p]]||0}var H=u.next(264);for(H.write_shift(4,13),p=0;p<65;++p)H.write_shift(4,0);for(p=0;p<h.length;++p){var F=u.next(y);for(F.write_shift(1,0),g=0;g<m.length;++g)if(m[g]!=null)switch(b[g]){case"L":F.write_shift(1,h[p][g]==null?63:h[p][g]?84:70);break;case"B":F.write_shift(8,h[p][g]||0,"f");break;case"N":var T="0";for(typeof h[p][g]=="number"&&(T=h[p][g].toFixed(S[g]||0)),j=0;j<N[g]-T.length;++j)F.write_shift(1,32);F.write_shift(1,T,"sbcs");break;case"D":h[p][g]?(F.write_shift(4,("0000"+h[p][g].getFullYear()).slice(-4),"sbcs"),F.write_shift(2,("00"+(h[p][g].getMonth()+1)).slice(-2),"sbcs"),F.write_shift(2,("00"+h[p][g].getDate()).slice(-2),"sbcs")):F.write_shift(8,"00000000","sbcs");break;case"C":var P=String(h[p][g]!=null?h[p][g]:"").slice(0,N[g]);for(F.write_shift(1,P,"sbcs"),j=0;j<N[g]-P.length;++j)F.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:s,from_sheet:o}}(),YYe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ta(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,h){var x=e[h];return typeof x=="number"?PL(x):x},s=function(m,h,x){var p=h.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return p==59?m:PL(p)};e["|"]=254;function a(m,h){switch(h.type){case"base64":return i(od(m),h);case"binary":return i(m,h);case"buffer":return i(br&&Buffer.isBuffer(m)?m.toString("binary"):Cy(m),h);case"array":return i(o_(m),h)}throw new Error("Unrecognized type "+h.type)}function i(m,h){var x=m.split(/[\n\r]+/),p=-1,g=-1,j=0,y=0,w=[],b=[],N=null,S={},_=[],E=[],A=[],k=0,D;for(+h.codepage>=0&&gv(+h.codepage);j!==x.length;++j){k=0;var I=x[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(t,r),W=I.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),H=W[0],F;if(I.length>0)switch(H){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":W[1].charAt(0)=="P"&&b.push(I.slice(3).replace(/;;/g,";"));break;case"C":var T=!1,P=!1,M=!1,O=!1,K=-1,ne=-1;for(y=1;y<W.length;++y)switch(W[y].charAt(0)){case"A":break;case"X":g=parseInt(W[y].slice(1))-1,P=!0;break;case"Y":for(p=parseInt(W[y].slice(1))-1,P||(g=0),D=w.length;D<=p;++D)w[D]=[];break;case"K":F=W[y].slice(1),F.charAt(0)==='"'?F=F.slice(1,F.length-1):F==="TRUE"?F=!0:F==="FALSE"?F=!1:isNaN(zc(F))?isNaN(yv(F).getDate())||(F=Fa(F)):(F=zc(F),N!==null&&QZ(N)&&(F=tJ(F))),T=!0;break;case"E":O=!0;var R=GXe(W[y].slice(1),{r:p,c:g});w[p][g]=[w[p][g],R];break;case"S":M=!0,w[p][g]=[w[p][g],"S5S"];break;case"G":break;case"R":K=parseInt(W[y].slice(1))-1;break;case"C":ne=parseInt(W[y].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+I)}if(T&&(w[p][g]&&w[p][g].length==2?w[p][g][0]=F:w[p][g]=F,N=null),M){if(O)throw new Error("SYLK shared formula cannot have own formula");var V=K>-1&&w[K][ne];if(!V||!V[1])throw new Error("SYLK shared formula cannot find base");w[p][g][1]=KXe(V[1],{r:p-K,c:g-ne})}break;case"F":var L=0;for(y=1;y<W.length;++y)switch(W[y].charAt(0)){case"X":g=parseInt(W[y].slice(1))-1,++L;break;case"Y":for(p=parseInt(W[y].slice(1))-1,D=w.length;D<=p;++D)w[D]=[];break;case"M":k=parseInt(W[y].slice(1))/20;break;case"F":break;case"G":break;case"P":N=b[parseInt(W[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=W[y].slice(1).split(" "),D=parseInt(A[0],10);D<=parseInt(A[1],10);++D)k=parseInt(A[2],10),E[D-1]=k===0?{hidden:!0}:{wch:k},lD(E[D-1]);break;case"C":g=parseInt(W[y].slice(1))-1,E[g]||(E[g]={});break;case"R":p=parseInt(W[y].slice(1))-1,_[p]||(_[p]={}),k>0?(_[p].hpt=k,_[p].hpx=VJ(k)):k===0&&(_[p].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+I)}L<1&&(N=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+I)}}return _.length>0&&(S["!rows"]=_),E.length>0&&(S["!cols"]=E),h&&h.sheetRows&&(w=w.slice(0,h.sheetRows)),[w,S]}function o(m,h){var x=a(m,h),p=x[0],g=x[1],j=gx(p,h);return ta(g).forEach(function(y){j[y]=g[y]}),j}function l(m,h){return ym(o(m,h),h)}function c(m,h,x,p){var g="C;Y"+(x+1)+";X"+(p+1)+";K";switch(m.t){case"n":g+=m.v||0,m.f&&!m.F&&(g+=";E"+dD(m.f,{r:x,c:p}));break;case"b":g+=m.v?"TRUE":"FALSE";break;case"e":g+=m.w||m.v;break;case"d":g+='"'+(m.w||m.v)+'"';break;case"s":g+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function d(m,h){h.forEach(function(x,p){var g="F;W"+(p+1)+" "+(p+1)+" ";x.hidden?g+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=Hw(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=qw(x.wpx)),typeof x.wch=="number"&&(g+=Math.round(x.wch))),g.charAt(g.length-1)!=" "&&m.push(g)})}function u(m,h){h.forEach(function(x,p){var g="F;";x.hidden?g+="M0;":x.hpt?g+="M"+20*x.hpt+";":x.hpx&&(g+="M"+20*Gw(x.hpx)+";"),g.length>2&&m.push(g+"R"+(p+1))})}function f(m,h){var x=["ID;PWXL;N;E"],p=[],g=ln(m["!ref"]),j,y=Array.isArray(m),w=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),m["!cols"]&&d(x,m["!cols"]),m["!rows"]&&u(x,m["!rows"]),x.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var b=g.s.r;b<=g.e.r;++b)for(var N=g.s.c;N<=g.e.c;++N){var S=Mr({r:b,c:N});j=y?(m[b]||[])[N]:m[S],!(!j||j.v==null&&(!j.f||j.F))&&p.push(c(j,m,b,N))}return x.join(w)+w+p.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),XYe=function(){function e(i,o){switch(o.type){case"base64":return t(od(i),o);case"binary":return t(i,o);case"buffer":return t(br&&Buffer.isBuffer(i)?i.toString("binary"):Cy(i),o);case"array":return t(o_(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,d=-1,u=0,f=[];u!==l.length;++u){if(l[u].trim()==="BOT"){f[++c]=[],d=0;continue}if(!(c<0)){var m=l[u].trim().split(","),h=m[0],x=m[1];++u;for(var p=l[u]||"";(p.match(/["]/g)||[]).length&1&&u<l.length-1;)p+=`
`+l[++u];switch(p=p.trim(),+h){case-1:if(p==="BOT"){f[++c]=[],d=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[c][d]=!0:p==="FALSE"?f[c][d]=!1:isNaN(zc(x))?isNaN(yv(x).getDate())?f[c][d]=x:f[c][d]=Fa(x):f[c][d]=zc(x),++d;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[c][d++]=p!==""?p:null;break}if(p==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return gx(e(i,o),o)}function s(i,o){return ym(r(i,o),o)}var a=function(){var i=function(c,d,u,f,m){c.push(d),c.push(u+","+f),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,d,u,f){c.push(d+","+u),c.push(d==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var d=[],u=ln(c["!ref"]),f,m=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var h=u.s.r;h<=u.e.r;++h){o(d,-1,0,"BOT");for(var x=u.s.c;x<=u.e.c;++x){var p=Mr({r:h,c:x});if(f=m?(c[h]||[])[x]:c[p],!f){o(d,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?o(d,1,0,"="+f.f):o(d,1,0,""):o(d,0,g,"V");break;case"b":o(d,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Cu(f.z||Ln[14],xi(Fa(f.v)))),o(d,0,f.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var j=`\r
`,y=d.join(j);return y}}();return{to_workbook:s,to_sheet:r,from_sheet:a}}(),$J=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,m){for(var h=f.split(`
`),x=-1,p=-1,g=0,j=[];g!==h.length;++g){var y=h[g].trim().split(":");if(y[0]==="cell"){var w=Os(y[1]);if(j.length<=w.r)for(x=j.length;x<=w.r;++x)j[x]||(j[x]=[]);switch(x=w.r,p=w.c,y[2]){case"t":j[x][p]=e(y[3]);break;case"v":j[x][p]=+y[3];break;case"vtf":var b=y[y.length-1];case"vtc":switch(y[3]){case"nl":j[x][p]=!!+y[4];break;default:j[x][p]=+y[4];break}y[2]=="vtf"&&(j[x][p]=[j[x][p],b])}}}return m&&m.sheetRows&&(j=j.slice(0,m.sheetRows)),j}function s(f,m){return gx(r(f,m),m)}function a(f,m){return ym(s(f,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(f){if(!f||!f["!ref"])return"";for(var m=[],h=[],x,p="",g=Qi(f["!ref"]),j=Array.isArray(f),y=g.s.r;y<=g.e.r;++y)for(var w=g.s.c;w<=g.e.c;++w)if(p=Mr({r:y,c:w}),x=j?(f[y]||[])[w]:f[p],!(!x||x.v==null||x.t==="z")){switch(h=["cell",p,"t"],x.t){case"s":case"str":h.push(t(x.v));break;case"n":x.f?(h[2]="vtf",h[3]="n",h[4]=x.v,h[5]=t(x.f)):(h[2]="v",h[3]=x.v);break;case"b":h[2]="vt"+(x.f?"f":"c"),h[3]="nl",h[4]=x.v?"1":"0",h[5]=t(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var b=xi(Fa(x.v));h[2]="vtc",h[3]="nd",h[4]=""+b,h[5]=x.w||Cu(x.z||Ln[14],b);break;case"e":continue}m.push(h.join(":"))}return m.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function u(f){return[i,o,l,o,d(f),c].join(`
`)}return{to_workbook:a,to_sheet:s,from_sheet:u}}(),QYe=function(){function e(u,f,m,h,x){x.raw?f[m][h]=u:u===""||(u==="TRUE"?f[m][h]=!0:u==="FALSE"?f[m][h]=!1:isNaN(zc(u))?isNaN(yv(u).getDate())?f[m][h]=u:f[m][h]=Fa(u):f[m][h]=zc(u))}function t(u,f){var m=f||{},h=[];if(!u||u.length===0)return h;for(var x=u.split(/[\r\n]/),p=x.length-1;p>=0&&x[p].length===0;)--p;for(var g=10,j=0,y=0;y<=p;++y)j=x[y].indexOf(" "),j==-1?j=x[y].length:j++,g=Math.max(g,j);for(y=0;y<=p;++y){h[y]=[];var w=0;for(e(x[y].slice(0,g).trim(),h,y,w,m),w=1;w<=(x[y].length-g)/10+1;++w)e(x[y].slice(g+(w-1)*10,g+w*10).trim(),h,y,w,m)}return m.sheetRows&&(h=h.slice(0,m.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function a(u){for(var f={},m=!1,h=0,x=0;h<u.length;++h)(x=u.charCodeAt(h))==34?m=!m:!m&&x in r&&(f[x]=(f[x]||0)+1);x=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&x.push([f[h],h]);if(!x.length){f=s;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&x.push([f[h],h])}return x.sort(function(p,g){return p[0]-g[0]||s[p[1]]-s[g[1]]}),r[x.pop()[1]]||44}function i(u,f){var m=f||{},h="",x=m.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=a(u.slice(0,1024)):m&&m.FS?h=m.FS:h=a(u.slice(0,1024));var g=0,j=0,y=0,w=0,b=0,N=h.charCodeAt(0),S=!1,_=0,E=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var A=m.dateNF!=null?mKe(m.dateNF):null;function k(){var D=u.slice(w,b),I={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)I.t="z";else if(m.raw)I.t="s",I.v=D;else if(D.trim().length===0)I.t="s",I.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(I.t="s",I.v=D.slice(2,-1).replace(/""/g,'"')):YXe(D)?(I.t="n",I.f=D.slice(1)):(I.t="s",I.v=D);else if(D=="TRUE")I.t="b",I.v=!0;else if(D=="FALSE")I.t="b",I.v=!1;else if(!isNaN(y=zc(D)))I.t="n",m.cellText!==!1&&(I.w=D),I.v=y;else if(!isNaN(yv(D).getDate())||A&&D.match(A)){I.z=m.dateNF||Ln[14];var W=0;A&&D.match(A)&&(D=hKe(D,m.dateNF,D.match(A)||[]),W=1),m.cellDates?(I.t="d",I.v=Fa(D,W)):(I.t="n",I.v=xi(Fa(D,W))),m.cellText!==!1&&(I.w=Cu(I.z,I.v instanceof Date?xi(I.v):I.v)),m.cellNF||delete I.z}else I.t="s",I.v=D;if(I.t=="z"||(m.dense?(x[g]||(x[g]=[]),x[g][j]=I):x[Mr({c:j,r:g})]=I),w=b+1,E=u.charCodeAt(w),p.e.c<j&&(p.e.c=j),p.e.r<g&&(p.e.r=g),_==N)++j;else if(j=0,++g,m.sheetRows&&m.sheetRows<=g)return!0}e:for(;b<u.length;++b)switch(_=u.charCodeAt(b)){case 34:E===34&&(S=!S);break;case N:case 10:case 13:if(!S&&k())break e;break}return b-w>0&&k(),x["!ref"]=as(p),x}function o(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):gx(t(u,f),f)}function l(u,f){var m="",h=f.type=="string"?[0,0,0,0]:utt(u,f);switch(f.type){case"base64":m=od(u);break;case"binary":m=u;break;case"buffer":f.codepage==65001?m=u.toString("utf8"):f.codepage&&typeof af<"u"?m=af.utils.decode(f.codepage,u):m=br&&Buffer.isBuffer(u)?u.toString("binary"):Cy(u);break;case"array":m=o_(u);break;case"string":m=u;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?m=Ug(m.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?m=Ug(m):f.type=="binary"&&typeof af<"u"&&f.codepage&&(m=af.utils.decode(f.codepage,af.utils.encode(28591,m))),m.slice(0,19)=="socialcalc:version:"?$J.to_sheet(f.type=="string"?m:Ug(m),f):o(m,f)}function c(u,f){return ym(l(u,f),f)}function d(u){for(var f=[],m=ln(u["!ref"]),h,x=Array.isArray(u),p=m.s.r;p<=m.e.r;++p){for(var g=[],j=m.s.c;j<=m.e.c;++j){var y=Mr({r:p,c:j});if(h=x?(u[p]||[])[j]:u[y],!h||h.v==null){g.push("          ");continue}for(var w=(h.w||(ld(h),h.w)||"").slice(0,10);w.length<10;)w+=" ";g.push(w+(j===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}}(),i8=function(){function e(R,V,L){if(R){Ti(R,R.l||0);for(var G=L.Enum||K;R.l<R.length;){var le=R.read_shift(2),fe=G[le]||G[65535],B=R.read_shift(2),Y=R.l+B,ie=fe.f&&fe.f(R,B,L);if(R.l=Y,V(ie,fe,le))return}}}function t(R,V){switch(V.type){case"base64":return r(el(od(R)),V);case"binary":return r(el(R),V);case"buffer":case"array":return r(R,V)}throw"Unsupported type "+V.type}function r(R,V){if(!R)return R;var L=V||{},G=L.dense?[]:{},le="Sheet1",fe="",B=0,Y={},ie=[],we=[],ue={s:{r:0,c:0},e:{r:0,c:0}},ge=L.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)L.Enum=K,e(R,function(ke,se,he){switch(he){case 0:L.vers=ke,ke>=4096&&(L.qpro=!0);break;case 6:ue=ke;break;case 204:ke&&(fe=ke);break;case 222:fe=ke;break;case 15:case 51:L.qpro||(ke[1].v=ke[1].v.slice(1));case 13:case 14:case 16:he==14&&(ke[2]&112)==112&&(ke[2]&15)>1&&(ke[2]&15)<15&&(ke[1].z=L.dateNF||Ln[14],L.cellDates&&(ke[1].t="d",ke[1].v=tJ(ke[1].v))),L.qpro&&ke[3]>B&&(G["!ref"]=as(ue),Y[le]=G,ie.push(le),G=L.dense?[]:{},ue={s:{r:0,c:0},e:{r:0,c:0}},B=ke[3],le=fe||"Sheet"+(B+1),fe="");var ce=L.dense?(G[ke[0].r]||[])[ke[0].c]:G[Mr(ke[0])];if(ce){ce.t=ke[1].t,ce.v=ke[1].v,ke[1].z!=null&&(ce.z=ke[1].z),ke[1].f!=null&&(ce.f=ke[1].f);break}L.dense?(G[ke[0].r]||(G[ke[0].r]=[]),G[ke[0].r][ke[0].c]=ke[1]):G[Mr(ke[0])]=ke[1];break}},L);else if(R[2]==26||R[2]==14)L.Enum=ne,R[2]==14&&(L.qpro=!0,R.l=0),e(R,function(ke,se,he){switch(he){case 204:le=ke;break;case 22:ke[1].v=ke[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ke[3]>B&&(G["!ref"]=as(ue),Y[le]=G,ie.push(le),G=L.dense?[]:{},ue={s:{r:0,c:0},e:{r:0,c:0}},B=ke[3],le="Sheet"+(B+1)),ge>0&&ke[0].r>=ge)break;L.dense?(G[ke[0].r]||(G[ke[0].r]=[]),G[ke[0].r][ke[0].c]=ke[1]):G[Mr(ke[0])]=ke[1],ue.e.c<ke[0].c&&(ue.e.c=ke[0].c),ue.e.r<ke[0].r&&(ue.e.r=ke[0].r);break;case 27:ke[14e3]&&(we[ke[14e3][0]]=ke[14e3][1]);break;case 1537:we[ke[0]]=ke[1],ke[0]==B&&(le=ke[1]);break}},L);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(G["!ref"]=as(ue),Y[fe||le]=G,ie.push(fe||le),!we.length)return{SheetNames:ie,Sheets:Y};for(var xe={},Se=[],Me=0;Me<we.length;++Me)Y[ie[Me]]?(Se.push(we[Me]||ie[Me]),xe[we[Me]]=Y[we[Me]]||Y[ie[Me]]):(Se.push(we[Me]),xe[we[Me]]={"!ref":"A1"});return{SheetNames:Se,Sheets:xe}}function s(R,V){var L=V||{};if(+L.codepage>=0&&gv(+L.codepage),L.type=="string")throw new Error("Cannot write WK1 to JS string");var G=hi(),le=ln(R["!ref"]),fe=Array.isArray(R),B=[];st(G,0,i(1030)),st(G,6,c(le));for(var Y=Math.min(le.e.r,8191),ie=le.s.r;ie<=Y;++ie)for(var we=Zs(ie),ue=le.s.c;ue<=le.e.c;++ue){ie===le.s.r&&(B[ue]=pa(ue));var ge=B[ue]+we,xe=fe?(R[ie]||[])[ue]:R[ge];if(!(!xe||xe.t=="z"))if(xe.t=="n")(xe.v|0)==xe.v&&xe.v>=-32768&&xe.v<=32767?st(G,13,h(ie,ue,xe.v)):st(G,14,p(ie,ue,xe.v));else{var Se=ld(xe);st(G,15,f(ie,ue,Se.slice(0,239)))}}return st(G,1),G.end()}function a(R,V){var L=V||{};if(+L.codepage>=0&&gv(+L.codepage),L.type=="string")throw new Error("Cannot write WK3 to JS string");var G=hi();st(G,0,o(R));for(var le=0,fe=0;le<R.SheetNames.length;++le)(R.Sheets[R.SheetNames[le]]||{})["!ref"]&&st(G,27,O(R.SheetNames[le],fe++));var B=0;for(le=0;le<R.SheetNames.length;++le){var Y=R.Sheets[R.SheetNames[le]];if(!(!Y||!Y["!ref"])){for(var ie=ln(Y["!ref"]),we=Array.isArray(Y),ue=[],ge=Math.min(ie.e.r,8191),xe=ie.s.r;xe<=ge;++xe)for(var Se=Zs(xe),Me=ie.s.c;Me<=ie.e.c;++Me){xe===ie.s.r&&(ue[Me]=pa(Me));var ke=ue[Me]+Se,se=we?(Y[xe]||[])[Me]:Y[ke];if(!(!se||se.t=="z"))if(se.t=="n")st(G,23,k(xe,Me,B,se.v));else{var he=ld(se);st(G,22,_(xe,Me,B,he.slice(0,239)))}}++B}}return st(G,1),G.end()}function i(R){var V=Fe(2);return V.write_shift(2,R),V}function o(R){var V=Fe(26);V.write_shift(2,4096),V.write_shift(2,4),V.write_shift(4,0);for(var L=0,G=0,le=0,fe=0;fe<R.SheetNames.length;++fe){var B=R.SheetNames[fe],Y=R.Sheets[B];if(!(!Y||!Y["!ref"])){++le;var ie=Qi(Y["!ref"]);L<ie.e.r&&(L=ie.e.r),G<ie.e.c&&(G=ie.e.c)}}return L>8191&&(L=8191),V.write_shift(2,L),V.write_shift(1,le),V.write_shift(1,G),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(1,1),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(4,0),V}function l(R,V,L){var G={s:{c:0,r:0},e:{c:0,r:0}};return V==8&&L.qpro?(G.s.c=R.read_shift(1),R.l++,G.s.r=R.read_shift(2),G.e.c=R.read_shift(1),R.l++,G.e.r=R.read_shift(2),G):(G.s.c=R.read_shift(2),G.s.r=R.read_shift(2),V==12&&L.qpro&&(R.l+=2),G.e.c=R.read_shift(2),G.e.r=R.read_shift(2),V==12&&L.qpro&&(R.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function c(R){var V=Fe(8);return V.write_shift(2,R.s.c),V.write_shift(2,R.s.r),V.write_shift(2,R.e.c),V.write_shift(2,R.e.r),V}function d(R,V,L){var G=[{c:0,r:0},{t:"n",v:0},0,0];return L.qpro&&L.vers!=20768?(G[0].c=R.read_shift(1),G[3]=R.read_shift(1),G[0].r=R.read_shift(2),R.l+=2):(G[2]=R.read_shift(1),G[0].c=R.read_shift(2),G[0].r=R.read_shift(2)),G}function u(R,V,L){var G=R.l+V,le=d(R,V,L);if(le[1].t="s",L.vers==20768){R.l++;var fe=R.read_shift(1);return le[1].v=R.read_shift(fe,"utf8"),le}return L.qpro&&R.l++,le[1].v=R.read_shift(G-R.l,"cstr"),le}function f(R,V,L){var G=Fe(7+L.length);G.write_shift(1,255),G.write_shift(2,V),G.write_shift(2,R),G.write_shift(1,39);for(var le=0;le<G.length;++le){var fe=L.charCodeAt(le);G.write_shift(1,fe>=128?95:fe)}return G.write_shift(1,0),G}function m(R,V,L){var G=d(R,V,L);return G[1].v=R.read_shift(2,"i"),G}function h(R,V,L){var G=Fe(7);return G.write_shift(1,255),G.write_shift(2,V),G.write_shift(2,R),G.write_shift(2,L,"i"),G}function x(R,V,L){var G=d(R,V,L);return G[1].v=R.read_shift(8,"f"),G}function p(R,V,L){var G=Fe(13);return G.write_shift(1,255),G.write_shift(2,V),G.write_shift(2,R),G.write_shift(8,L,"f"),G}function g(R,V,L){var G=R.l+V,le=d(R,V,L);if(le[1].v=R.read_shift(8,"f"),L.qpro)R.l=G;else{var fe=R.read_shift(2);b(R.slice(R.l,R.l+fe),le),R.l+=fe}return le}function j(R,V,L){var G=V&32768;return V&=-32769,V=(G?R:0)+(V>=8192?V-16384:V),(G?"":"$")+(L?pa(V):Zs(V))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function b(R,V){Ti(R,0);for(var L=[],G=0,le="",fe="",B="",Y="";R.l<R.length;){var ie=R[R.l++];switch(ie){case 0:L.push(R.read_shift(8,"f"));break;case 1:fe=j(V[0].c,R.read_shift(2),!0),le=j(V[0].r,R.read_shift(2),!1),L.push(fe+le);break;case 2:{var we=j(V[0].c,R.read_shift(2),!0),ue=j(V[0].r,R.read_shift(2),!1);fe=j(V[0].c,R.read_shift(2),!0),le=j(V[0].r,R.read_shift(2),!1),L.push(we+ue+":"+fe+le)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:L.push("("+L.pop()+")");break;case 5:L.push(R.read_shift(2));break;case 6:{for(var ge="";ie=R[R.l++];)ge+=String.fromCharCode(ie);L.push('"'+ge.replace(/"/g,'""')+'"')}break;case 8:L.push("-"+L.pop());break;case 23:L.push("+"+L.pop());break;case 22:L.push("NOT("+L.pop()+")");break;case 20:case 21:Y=L.pop(),B=L.pop(),L.push(["AND","OR"][ie-20]+"("+B+","+Y+")");break;default:if(ie<32&&w[ie])Y=L.pop(),B=L.pop(),L.push(B+w[ie]+Y);else if(y[ie]){if(G=y[ie][1],G==69&&(G=R[R.l++]),G>L.length){console.error("WK1 bad formula parse 0x"+ie.toString(16)+":|"+L.join("|")+"|");return}var xe=L.slice(-G);L.length-=G,L.push(y[ie][0]+"("+xe.join(",")+")")}else return ie<=7?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=24?console.error("WK1 unsupported op "+ie.toString(16)):ie<=30?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=115?console.error("WK1 unsupported function opcode "+ie.toString(16)):console.error("WK1 unrecognized opcode "+ie.toString(16))}}L.length==1?V[1].f=""+L[0]:console.error("WK1 bad formula parse |"+L.join("|")+"|")}function N(R){var V=[{c:0,r:0},{t:"n",v:0},0];return V[0].r=R.read_shift(2),V[3]=R[R.l++],V[0].c=R[R.l++],V}function S(R,V){var L=N(R);return L[1].t="s",L[1].v=R.read_shift(V-4,"cstr"),L}function _(R,V,L,G){var le=Fe(6+G.length);le.write_shift(2,R),le.write_shift(1,L),le.write_shift(1,V),le.write_shift(1,39);for(var fe=0;fe<G.length;++fe){var B=G.charCodeAt(fe);le.write_shift(1,B>=128?95:B)}return le.write_shift(1,0),le}function E(R,V){var L=N(R);L[1].v=R.read_shift(2);var G=L[1].v>>1;if(L[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return L[1].v=G,L}function A(R,V){var L=N(R),G=R.read_shift(4),le=R.read_shift(4),fe=R.read_shift(2);if(fe==65535)return G===0&&le===3221225472?(L[1].t="e",L[1].v=15):G===0&&le===3489660928?(L[1].t="e",L[1].v=42):L[1].v=0,L;var B=fe&32768;return fe=(fe&32767)-16446,L[1].v=(1-B*2)*(le*Math.pow(2,fe+32)+G*Math.pow(2,fe)),L}function k(R,V,L,G){var le=Fe(14);if(le.write_shift(2,R),le.write_shift(1,L),le.write_shift(1,V),G==0)return le.write_shift(4,0),le.write_shift(4,0),le.write_shift(2,65535),le;var fe=0,B=0,Y=0,ie=0;return G<0&&(fe=1,G=-G),B=Math.log2(G)|0,G/=Math.pow(2,B-31),ie=G>>>0,ie&2147483648||(G/=2,++B,ie=G>>>0),G-=ie,ie|=2147483648,ie>>>=0,G*=Math.pow(2,32),Y=G>>>0,le.write_shift(4,Y),le.write_shift(4,ie),B+=16383+(fe?32768:0),le.write_shift(2,B),le}function D(R,V){var L=A(R);return R.l+=V-14,L}function I(R,V){var L=N(R),G=R.read_shift(4);return L[1].v=G>>6,L}function W(R,V){var L=N(R),G=R.read_shift(8,"f");return L[1].v=G,L}function H(R,V){var L=W(R);return R.l+=V-10,L}function F(R,V){return R[R.l+V-1]==0?R.read_shift(V,"cstr"):""}function T(R,V){var L=R[R.l++];L>V-1&&(L=V-1);for(var G="";G.length<L;)G+=String.fromCharCode(R[R.l++]);return G}function P(R,V,L){if(!(!L.qpro||V<21)){var G=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var le=R.read_shift(V-21,"cstr");return[G,le]}}function M(R,V){for(var L={},G=R.l+V;R.l<G;){var le=R.read_shift(2);if(le==14e3){for(L[le]=[0,""],L[le][0]=R.read_shift(2);R[R.l];)L[le][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return L}function O(R,V){var L=Fe(5+R.length);L.write_shift(2,14e3),L.write_shift(2,V);for(var G=0;G<R.length;++G){var le=R.charCodeAt(G);L[L.l++]=le>127?95:le}return L[L.l++]=0,L}var K={0:{n:"BOF",f:DJ},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:F},222:{n:"SHEETNAMELP",f:T},65535:{n:""}},ne={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:M},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:I},38:{n:"??"},39:{n:"NUMBER27",f:W},40:{n:"FORMULA28",f:H},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:F},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:P},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:s,book_to_wk3:a,to_workbook:t}}(),ZYe=/^\s|\s$|[\t\n\r]/;function LJ(e,t){if(!t.bookSST)return"";var r=[cs];r[r.length]=nt("sst",null,{xmlns:xx[0],count:e.Count,uniqueCount:e.Unique});for(var s=0;s!=e.length;++s)if(e[s]!=null){var a=e[s],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(ZYe)&&(i+=' xml:space="preserve"'),i+=">"+Ir(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function JYe(e){return[e.read_shift(4),e.read_shift(4)]}function eXe(e,t){return t||(t=Fe(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var tXe=HKe;function rXe(e){var t=hi();We(t,159,eXe(e));for(var r=0;r<e.length;++r)We(t,19,tXe(e[r]));return We(t,160),t.end()}function nXe(e){for(var t=[],r=e.split(""),s=0;s<r.length;++s)t[s]=r[s].charCodeAt(0);return t}function BJ(e){var t=0,r,s=nXe(e),a=s.length+1,i,o,l,c,d;for(r=sm(a),r[0]=s.length,i=1;i!=a;++i)r[i]=s[i-1];for(i=a-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,d=l|c,t=d^o;return t^52811}var sXe=function(){function e(a,i){switch(i.type){case"base64":return t(od(a),i);case"binary":return t(a,i);case"buffer":return t(br&&Buffer.isBuffer(a)?a.toString("binary"):Cy(a),i);case"array":return t(o_(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,f){Array.isArray(l)&&(l[f]=[]);for(var m=/\\\w+\b/g,h=0,x,p=-1;x=m.exec(u);){switch(x[0]){case"\\cell":var g=u.slice(h,m.lastIndex-x[0].length);if(g[0]==" "&&(g=g.slice(1)),++p,g.length){var j={v:g,t:"s"};Array.isArray(l)?l[f][p]=j:l[Mr({r:f,c:p})]=j}break}h=m.lastIndex}p>d.e.c&&(d.e.c=p)}),l["!ref"]=as(d),l}function r(a,i){return ym(e(a,i),i)}function s(a){for(var i=["{\\rtf1\\ansi"],o=ln(a["!ref"]),l,c=Array.isArray(a),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var f=Mr({r:d,c:u});l=c?(a[d]||[])[u]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(ld(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:s}}();function o8(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var aXe=6,Wc=aXe;function Hw(e){return Math.floor((e+Math.round(128/Wc)/256)*Wc)}function qw(e){return Math.floor((e-5)/Wc*100+.5)/100}function wP(e){return Math.round((e*Wc+5)/Wc*256)/256}function lD(e){e.width?(e.wpx=Hw(e.width),e.wch=qw(e.wpx),e.MDW=Wc):e.wpx?(e.wch=qw(e.wpx),e.width=wP(e.wch),e.MDW=Wc):typeof e.wch=="number"&&(e.width=wP(e.wch),e.wpx=Hw(e.width),e.MDW=Wc),e.customWidth&&delete e.customWidth}var iXe=96,UJ=iXe;function Gw(e){return e*96/UJ}function VJ(e){return e*UJ/96}function oXe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&(t[t.length]=nt("numFmt",null,{numFmtId:s,formatCode:Ir(e[s])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=nt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function lXe(e){var t=[];return t[t.length]=nt("cellXfs",null),e.forEach(function(r){t[t.length]=nt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=nt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function zJ(e,t){var r=[cs,nt("styleSheet",null,{xmlns:xx[0],"xmlns:vt":Ts.vt})],s;return e.SSF&&(s=oXe(e.SSF))!=null&&(r[r.length]=s),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(s=lXe(t.cellXfs))&&(r[r.length]=s),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function cXe(e,t){var r=e.read_shift(2),s=xa(e);return[r,s]}function dXe(e,t,r){r||(r=Fe(6+4*t.length)),r.write_shift(2,e),Ds(t,r);var s=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),s}function uXe(e,t,r){var s={};s.sz=e.read_shift(2)/20;var a=ZKe(e);a.fItalic&&(s.italic=1),a.fCondense&&(s.condense=1),a.fExtend&&(s.extend=1),a.fShadow&&(s.shadow=1),a.fOutline&&(s.outline=1),a.fStrikeout&&(s.strike=1);var i=e.read_shift(2);switch(i===700&&(s.bold=1),e.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(s.underline=o);var l=e.read_shift(1);l>0&&(s.family=l);var c=e.read_shift(1);switch(c>0&&(s.charset=c),e.l++,s.color=QKe(e),e.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor";break}return s.name=xa(e),s}function fXe(e,t){t||(t=Fe(25+4*32)),t.write_shift(2,e.sz*20),JKe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),zw(e.color,t);var s=0;return e.scheme=="major"&&(s=1),e.scheme=="minor"&&(s=2),t.write_shift(1,s),Ds(e.name,t),t.length>t.l?t.slice(0,t.l):t}var mXe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],jC,hXe=ac;function l8(e,t){t||(t=Fe(4*3+8*7+16*1)),jC||(jC=X3(mXe));var r=jC[e.patternType];r==null&&(r=40),t.write_shift(4,r);var s=0;if(r!=40)for(zw({auto:1},t),zw({auto:1},t);s<12;++s)t.write_shift(4,0);else{for(;s<4;++s)t.write_shift(4,0);for(;s<12;++s)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function pXe(e,t){var r=e.l+t,s=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:s,numFmtId:a}}function WJ(e,t,r){r||(r=Fe(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var s=0;return r.write_shift(1,s),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function tg(e,t){return t||(t=Fe(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var xXe=ac;function gXe(e,t){return t||(t=Fe(51)),t.write_shift(1,0),tg(null,t),tg(null,t),tg(null,t),tg(null,t),tg(null,t),t.length>t.l?t.slice(0,t.l):t}function vXe(e,t){return t||(t=Fe(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Vw(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function yXe(e,t,r){var s=Fe(2052);return s.write_shift(4,e),Vw(t,s),Vw(r,s),s.length>s.l?s.slice(0,s.l):s}function jXe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&++r}),r!=0&&(We(e,615,cl(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&We(e,44,dXe(a,t[a]))}),We(e,616))}}function bXe(e){var t=1;We(e,611,cl(t)),We(e,43,fXe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),We(e,612)}function wXe(e){var t=2;We(e,603,cl(t)),We(e,45,l8({patternType:"none"})),We(e,45,l8({patternType:"gray125"})),We(e,604)}function NXe(e){var t=1;We(e,613,cl(t)),We(e,46,gXe()),We(e,614)}function _Xe(e){var t=1;We(e,626,cl(t)),We(e,47,WJ({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),We(e,627)}function SXe(e,t){We(e,617,cl(t.length)),t.forEach(function(r){We(e,47,WJ(r,0))}),We(e,618)}function CXe(e){var t=1;We(e,619,cl(t)),We(e,48,vXe({xfId:0,builtinId:0,name:"Normal"})),We(e,620)}function EXe(e){var t=0;We(e,505,cl(t)),We(e,506)}function AXe(e){var t=0;We(e,508,yXe(t,"TableStyleMedium9","PivotStyleMedium4")),We(e,509)}function PXe(e,t){var r=hi();return We(r,278),jXe(r,e.SSF),bXe(r),wXe(r),NXe(r),_Xe(r),SXe(r,t.cellXfs),CXe(r),EXe(r),AXe(r),We(r,279),r.end()}function HJ(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[cs];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function kXe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:xa(e)}}function TXe(e){var t=Fe(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ds(e.name,t),t.slice(0,t.l)}function OXe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function DXe(e){var t=Fe(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function IXe(e,t){var r=Fe(8+2*t.length);return r.write_shift(4,e),Ds(t,r),r.slice(0,r.l)}function RXe(e){return e.l+=4,e.read_shift(4)!=0}function MXe(e,t){var r=Fe(8);return r.write_shift(4,e),r.write_shift(4,1),r}function FXe(){var e=hi();return We(e,332),We(e,334,cl(1)),We(e,335,TXe({name:"XLDAPR",version:12e4,flags:3496657072})),We(e,336),We(e,339,IXe(1,"XLDAPR")),We(e,52),We(e,35,cl(514)),We(e,4096,cl(0)),We(e,4097,ho(1)),We(e,36),We(e,53),We(e,340),We(e,337,MXe(1)),We(e,51,DXe([[1,0]])),We(e,338),We(e,333),e.end()}function qJ(){var e=[cs];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function $Xe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Mr(r);var s=e.read_shift(1);return s&2&&(t.l="1"),s&8&&(t.a="1"),t}var ih=1024;function GJ(e,t){for(var r=[21600,21600],s=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[nt("xml",null,{"xmlns:v":Di.v,"xmlns:o":Di.o,"xmlns:x":Di.x,"xmlns:mv":Di.mv}).replace(/\/>/,">"),nt("o:shapelayout",nt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),nt("v:shapetype",[nt("v:stroke",null,{joinstyle:"miter"}),nt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:s})];ih<e*1e3;)ih+=1e3;return t.forEach(function(i){var o=Os(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?nt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=nt("v:fill",c,l),u={on:"t",obscured:"t"};++ih,a=a.concat(["<v:shape"+bv({id:"_x0000_s"+ih,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,nt("v:shadow",null,u),nt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ks("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Ks("x:AutoFill","False"),Ks("x:Row",String(o.r)),Ks("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function KJ(e){var t=[cs,nt("comments",null,{xmlns:xx[0]})],r=[];return t.push("<authors>"),e.forEach(function(s){s[1].forEach(function(a){var i=Ir(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(s){var a=0,i=[];if(s[1][0]&&s[1][0].T&&s[1][0].ID?a=r.indexOf("tc="+s[1][0].ID):s[1].forEach(function(c){c.a&&(a=r.indexOf(Ir(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+s[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Ks("t",Ir(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(Ks("t",Ir(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function LXe(e,t,r){var s=[cs,nt("ThreadedComments",null,{xmlns:Ts.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),s.push(nt("threadedComment",Ks("text",o.t||""),c))})}),s.push("</ThreadedComments>"),s.join("")}function BXe(e){var t=[cs,nt("personList",null,{xmlns:Ts.TCMNT,"xmlns:x":xx[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,s){t.push(nt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+s).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function UXe(e){var t={};t.iauthor=e.read_shift(4);var r=Nm(e);return t.rfx=r.s,t.ref=Mr(r.s),e.l+=16,t}function VXe(e,t){return t==null&&(t=Fe(36)),t.write_shift(4,e[1].iauthor),vx(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var zXe=xa;function WXe(e){return Ds(e.slice(0,54))}function HXe(e){var t=hi(),r=[];return We(t,628),We(t,630),e.forEach(function(s){s[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),We(t,632,WXe(a.a)))})}),We(t,631),We(t,633),e.forEach(function(s){s[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Os(s[0]),e:Os(s[0])};We(t,635,VXe([i,a])),a.t&&a.t.length>0&&We(t,637,GKe(a)),We(t,636),delete a.iauthor})}),We(t,634),We(t,629),t.end()}function qXe(e,t){t.FullPaths.forEach(function(r,s){if(s!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Br.utils.cfb_add(e,a,t.FileIndex[s].content)}})}var YJ=["xlsb","xlsm","xlam","biff8","xla"],GXe=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(s,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return l?u+=t.c:--u,c?d+=t.r:--d,a+(l?"":"$")+pa(u)+(c?"":"$")+Zs(d)}return function(a,i){return t=i,a.replace(e,r)}}(),cD=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,dD=function(){return function(t,r){return t.replace(cD,function(s,a,i,o,l,c){var d=nD(o)-(i?0:r.c),u=rD(c)-(l?0:r.r),f=u==0?"":l?u+1:"["+u+"]",m=d==0?"":i?d+1:"["+d+"]";return a+"R"+f+"C"+m})}}();function KXe(e,t){return e.replace(cD,function(r,s,a,i,o,l){return s+(a=="$"?a+i:pa(nD(i)+t.c))+(o=="$"?o+l:Zs(rD(l)+t.r))})}function YXe(e){return e.length!=1}function ts(e){e.l+=1}function Eu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function XJ(e,t,r){var s=2;if(r){if(r.biff>=2&&r.biff<=5)return QJ(e);r.biff==12&&(s=4)}var a=e.read_shift(s),i=e.read_shift(s),o=Eu(e),l=Eu(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function QJ(e){var t=Eu(e),r=Eu(e),s=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:s,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function XXe(e,t,r){if(r.biff<8)return QJ(e);var s=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Eu(e),o=Eu(e);return{s:{r:s,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function ZJ(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return QXe(e);var s=e.read_shift(r&&r.biff==12?4:2),a=Eu(e);return{r:s,c:a[0],cRel:a[1],rRel:a[2]}}function QXe(e){var t=Eu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function ZXe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function JXe(e,t,r){var s=r&&r.biff?r.biff:8;if(s>=2&&s<=5)return eQe(e);var a=e.read_shift(s>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function eQe(e){var t=e.read_shift(2),r=e.read_shift(1),s=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,s==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:s}}function tQe(e,t,r){var s=(e[e.l++]&96)>>5,a=XJ(e,r.biff>=2&&r.biff<=5?6:8,r);return[s,a]}function rQe(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=XJ(e,i,r);return[s,a,o]}function nQe(e,t,r){var s=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[s]}function sQe(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[s,a]}function aQe(e,t,r){var s=(e[e.l++]&96)>>5,a=XXe(e,t-1,r);return[s,a]}function iQe(e,t,r){var s=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[s]}function c8(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function oQe(e,t,r){e.l+=2;for(var s=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=s;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function lQe(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(r&&r.biff==2?1:2)]}function cQe(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(r&&r.biff==2?1:2)]}function dQe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function uQe(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[s]}function JJ(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function fQe(e){return e.read_shift(2),JJ(e)}function mQe(e){return e.read_shift(2),JJ(e)}function hQe(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=ZJ(e,0,r);return[s,a]}function pQe(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=JXe(e,0,r);return[s,a]}function xQe(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=ZJ(e,0,r);return[s,a,i]}function gQe(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[gZe[a],ree[a],s]}function vQe(e,t,r){var s=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[s==88?-1:0,e.read_shift(1)]:yQe(e);return[a,(i[0]===0?ree:xZe)[i[1]]]}function yQe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function jQe(e,t,r){e.l+=r&&r.biff==2?3:4}function bQe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var s=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function wQe(e){return e.l++,Py[e.read_shift(1)]}function NQe(e){return e.l++,e.read_shift(2)}function _Qe(e){return e.l++,e.read_shift(1)!==0}function SQe(e){return e.l++,yx(e)}function CQe(e,t,r){return e.l++,RJ(e,t-1,r)}function EQe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=xYe(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Py[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=yx(e);break;case 2:r[1]=jYe(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function AQe(e,t,r){for(var s=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=s;++i)a.push((r.biff==12?Nm:NYe)(e));return a}function PQe(e,t,r){var s=0,a=0;r.biff==12?(s=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),s=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--s,--a==0&&(a=256));for(var i=0,o=[];i!=s&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=EQe(e,r.biff);return o}function kQe(e,t,r){var s=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[s,0,i]}function TQe(e,t,r){if(r.biff==5)return OQe(e);var s=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[s,a,i]}function OQe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var s=e.read_shift(2);return e.l+=12,[t,r,s]}function DQe(e,t,r){var s=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function IQe(e,t,r){var s=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function RQe(e,t,r){var s=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[s]}function MQe(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[s,a]}var FQe=ac,$Qe=ac,LQe=ac;function ky(e,t,r){return e.l+=2,[ZXe(e)]}function uD(e){return e.l+=6,[]}var BQe=ky,UQe=uD,VQe=uD,zQe=ky;function eee(e){return e.l+=2,[DJ(e),e.read_shift(2)&1]}var WQe=ky,HQe=eee,qQe=uD,GQe=ky,KQe=ky,YQe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function XQe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=YQe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:s,c:a,C:i}}function QQe(e){return e.l+=2,[e.read_shift(4)]}function ZQe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function JQe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function eZe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function tZe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function rZe(e){return e.l+=4,[0,0]}var d8={1:{n:"PtgExp",f:bQe},2:{n:"PtgTbl",f:LQe},3:{n:"PtgAdd",f:ts},4:{n:"PtgSub",f:ts},5:{n:"PtgMul",f:ts},6:{n:"PtgDiv",f:ts},7:{n:"PtgPower",f:ts},8:{n:"PtgConcat",f:ts},9:{n:"PtgLt",f:ts},10:{n:"PtgLe",f:ts},11:{n:"PtgEq",f:ts},12:{n:"PtgGe",f:ts},13:{n:"PtgGt",f:ts},14:{n:"PtgNe",f:ts},15:{n:"PtgIsect",f:ts},16:{n:"PtgUnion",f:ts},17:{n:"PtgRange",f:ts},18:{n:"PtgUplus",f:ts},19:{n:"PtgUminus",f:ts},20:{n:"PtgPercent",f:ts},21:{n:"PtgParen",f:ts},22:{n:"PtgMissArg",f:ts},23:{n:"PtgStr",f:CQe},26:{n:"PtgSheet",f:ZQe},27:{n:"PtgEndSheet",f:JQe},28:{n:"PtgErr",f:wQe},29:{n:"PtgBool",f:_Qe},30:{n:"PtgInt",f:NQe},31:{n:"PtgNum",f:SQe},32:{n:"PtgArray",f:iQe},33:{n:"PtgFunc",f:gQe},34:{n:"PtgFuncVar",f:vQe},35:{n:"PtgName",f:kQe},36:{n:"PtgRef",f:hQe},37:{n:"PtgArea",f:tQe},38:{n:"PtgMemArea",f:DQe},39:{n:"PtgMemErr",f:FQe},40:{n:"PtgMemNoMem",f:$Qe},41:{n:"PtgMemFunc",f:IQe},42:{n:"PtgRefErr",f:RQe},43:{n:"PtgAreaErr",f:nQe},44:{n:"PtgRefN",f:pQe},45:{n:"PtgAreaN",f:aQe},46:{n:"PtgMemAreaN",f:eZe},47:{n:"PtgMemNoMemN",f:tZe},57:{n:"PtgNameX",f:TQe},58:{n:"PtgRef3d",f:xQe},59:{n:"PtgArea3d",f:rQe},60:{n:"PtgRefErr3d",f:MQe},61:{n:"PtgAreaErr3d",f:sQe},255:{}},nZe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},sZe={1:{n:"PtgElfLel",f:eee},2:{n:"PtgElfRw",f:GQe},3:{n:"PtgElfCol",f:BQe},6:{n:"PtgElfRwV",f:KQe},7:{n:"PtgElfColV",f:zQe},10:{n:"PtgElfRadical",f:WQe},11:{n:"PtgElfRadicalS",f:qQe},13:{n:"PtgElfColS",f:UQe},15:{n:"PtgElfColSV",f:VQe},16:{n:"PtgElfRadicalLel",f:HQe},25:{n:"PtgList",f:XQe},29:{n:"PtgSxName",f:QQe},255:{}},aZe={0:{n:"PtgAttrNoop",f:rZe},1:{n:"PtgAttrSemi",f:uQe},2:{n:"PtgAttrIf",f:cQe},4:{n:"PtgAttrChoose",f:oQe},8:{n:"PtgAttrGoto",f:lQe},16:{n:"PtgAttrSum",f:jQe},32:{n:"PtgAttrBaxcel",f:c8},33:{n:"PtgAttrBaxcel",f:c8},64:{n:"PtgAttrSpace",f:fQe},65:{n:"PtgAttrSpaceSemi",f:mQe},128:{n:"PtgAttrIfError",f:dQe},255:{}};function iZe(e,t,r,s){if(s.biff<8)return ac(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=PQe(e,0,s),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=AQe(e,r[o][1],s),i.push(r[o][2]);break;case"PtgExp":s&&s.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(ac(e,t)),i}function oZe(e,t,r){for(var s=e.l+t,a,i,o=[];s!=e.l;)t=s-e.l,i=e[e.l],a=d8[i]||d8[nZe[i]],(i===24||i===25)&&(a=(i===24?sZe:aZe)[e[e.l+1]]),!a||!a.f?ac(e,t):o.push([a.n,a.f(e,t,r)]);return o}function lZe(e){for(var t=[],r=0;r<e.length;++r){for(var s=e[r],a=[],i=0;i<s.length;++i){var o=s[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var cZe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function dZe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function tee(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var s=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!s)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[s[0]][0]){case 357:return a=s[1]==-1?"#REF":e.SheetNames[s[1]],s[1]==s[2]?a:a+":"+e.SheetNames[s[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[s[0]][0];case 355:default:return"SH33TJSSRC"+e[s[0]][0]}switch(e[s[0]][0][0]){case 1025:return a=s[1]==-1?"#REF":e.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?a:a+":"+e.SheetNames[s[2]];case 14849:return e[s[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[s[0]][0][3]?(a=s[1]==-1?"#REF":e[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?a:a+":"+e[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function u8(e,t,r){var s=tee(e,t,r);return s=="#REF"?s:dZe(s,r)}function Rp(e,t,r,s,a){var i=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,d,u,f=0,m=0,h,x="";if(!e[0]||!e[0][0])return"";for(var p=-1,g="",j=0,y=e[0].length;j<y;++j){var w=e[0][j];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),p>=0){switch(e[0][p][1][0]){case 0:g=$n(" ",e[0][p][1][1]);break;case 1:g=$n("\r",e[0][p][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}d=d+g,p=-1}l.push(d+cZe[w[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=zg(w[1][1],o,a),l.push(Wg(u,i));break;case"PtgRefN":u=r?zg(w[1][1],r,a):w[1][1],l.push(Wg(u,i));break;case"PtgRef3d":f=w[1][1],u=zg(w[1][2],o,a),x=u8(s,f,a),l.push(x+"!"+Wg(u,i));break;case"PtgFunc":case"PtgFuncVar":var b=w[1][0],N=w[1][1];b||(b=0),b&=127;var S=b==0?[]:l.slice(-b);l.length-=b,N==="User"&&(N=S.shift()),l.push(N+"("+S.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":h=YL(w[1][1],r?{s:r}:o,a),l.push(vC(h,a));break;case"PtgArea":h=YL(w[1][1],o,a),l.push(vC(h,a));break;case"PtgArea3d":f=w[1][1],h=w[1][2],x=u8(s,f,a),l.push(x+"!"+vC(h,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=w[1][2];var _=(s.names||[])[m-1]||(s[0]||[])[m],E=_?_.Name:"SH33TJSNAME"+String(m);E&&E.slice(0,6)=="_xlfn."&&!a.xlfn&&(E=E.slice(6)),l.push(E);break;case"PtgNameX":var A=w[1][1];m=w[1][2];var k;if(a.biff<=5)A<0&&(A=-A),s[A]&&(k=s[A][m]);else{var D="";if(((s[A]||[])[0]||[])[0]==14849||(((s[A]||[])[0]||[])[0]==1025?s[A][m]&&s[A][m].itab>0&&(D=s.SheetNames[s[A][m].itab-1]+"!"):D=s.SheetNames[m-1]+"!"),s[A]&&s[A][m])D+=s[A][m].Name;else if(s[0]&&s[0][m])D+=s[0][m].Name;else{var I=(tee(s,A,a)||"").split(";;");I[m-1]?D=I[m-1]:D+="SH33TJSERRX"}l.push(D);break}k||(k={Name:"SH33TJSERRY"}),l.push(k.Name);break;case"PtgParen":var W="(",H=")";if(p>=0){switch(g="",e[0][p][1][0]){case 2:W=$n(" ",e[0][p][1][1])+W;break;case 3:W=$n("\r",e[0][p][1][1])+W;break;case 4:H=$n(" ",e[0][p][1][1])+H;break;case 5:H=$n("\r",e[0][p][1][1])+H;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}l.push(W+l.pop()+H);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var F={c:r.c,r:r.r};if(s.sharedf[Mr(u)]){var T=s.sharedf[Mr(u)];l.push(Rp(T,o,F,s,a))}else{var P=!1;for(c=0;c!=s.arrayf.length;++c)if(d=s.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){l.push(Rp(d[1],o,F,s,a)),P=!0;break}P||l.push(w[1])}break;case"PtgArray":l.push("{"+lZe(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var M=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&M.indexOf(e[0][j][0])==-1){w=e[0][p];var O=!0;switch(w[1][0]){case 4:O=!1;case 0:g=$n(" ",w[1][1]);break;case 5:O=!1;case 1:g=$n("\r",w[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((O?g:"")+l.pop()+(O?"":g)),p=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function uZe(e){if(e==null){var t=Fe(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return am(e);return am(0)}function fZe(e,t,r,s,a){var i=im(t,r,a),o=uZe(e.v),l=Fe(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var d=Fe(e.bf.length),u=0;u<e.bf.length;++u)d[u]=e.bf[u];var f=Gs([i,o,l,d]);return f}function l_(e,t,r){var s=e.read_shift(4),a=oZe(e,s,r),i=e.read_shift(4),o=i>0?iZe(e,i,a,r):null;return[a,o]}var mZe=l_,c_=l_,hZe=l_,pZe=l_,xZe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},ree={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},gZe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function vZe(e){var t="of:="+e.replace(cD,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function yZe(e){return e.replace(/\./,"!")}var Hg=typeof Map<"u";function fD(e,t,r){var s=0,a=e.length;if(r){if(Hg?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Hg?r.get(t):r[t];s<i.length;++s)if(e[i[s]].t===t)return e.Count++,i[s]}}else for(;s<a;++s)if(e[s].t===t)return e.Count++,s;return e[a]={t},e.Count++,e.Unique++,r&&(Hg?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function d_(e,t){var r={min:e+1,max:e+1},s=-1;return t.MDW&&(Wc=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?s=qw(t.wpx):t.wch!=null&&(s=t.wch),s>-1?(r.width=wP(s),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function nee(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function zu(e,t,r){var s=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(s==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){ZZ(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=s=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===s)return a;return e[i]={numFmtId:s,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function jZe(e,t,r){if(e&&e["!ref"]){var s=ln(e["!ref"]);if(s.e.c<s.s.c||s.e.r<s.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function bZe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+as(e[r])+'"/>';return t+"</mergeCells>"}function wZe(e,t,r,s,a){var i=!1,o={},l=null;if(s.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=jv(Ir(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),l=(l||"")+nt("outlinePr",null,d)}!i&&!l||(a[a.length]=nt("sheetPr",l,o))}var NZe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],_Ze=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function SZe(e){var t={sheet:1};return NZe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),_Ze.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=BJ(e.password).toString(16).toUpperCase()),nt("sheetProtection",null,t)}function CZe(e){return nee(e),nt("pageMargins",null,e)}function EZe(e,t){for(var r=["<cols>"],s,a=0;a!=t.length;++a)(s=t[a])&&(r[r.length]=nt("col",null,d_(a,s)));return r[r.length]="</cols>",r.join("")}function AZe(e,t,r,s){var a=typeof e.ref=="string"?e.ref:as(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Qi(a);o.s.r==o.e.r&&(o.e.r=Qi(t["!ref"]).e.r,a=as(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==s){c.Ref="'"+r.SheetNames[s]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+r.SheetNames[s]+"'!"+a}),nt("autoFilter",null,{ref:a})}function PZe(e,t,r,s){var a={workbookViewId:"0"};return(((s||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=s.Workbook.Views[0].RTL?"1":"0"),nt("sheetViews",nt("sheetView",null,a),{})}function kZe(e,t,r,s){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Py[e.v];break;case"d":s&&s.cellDates?a=Fa(e.v,-1).toISOString():(e=gi(e),e.t="n",a=""+(e.v=xi(Fa(e.v)))),typeof e.z>"u"&&(e.z=Ln[14]);break;default:a=e.v;break}var l=Ks("v",Ir(a)),c={r:t},d=zu(s.cellXfs,e,s);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(s&&s.bookSST){l=Ks("v",""+fD(s.Strings,e.v,s.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=nt("f",Ir(e.f),u)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),nt("c",l,c)}function TZe(e,t,r,s){var a=[],i=[],o=ln(e["!ref"]),l="",c,d="",u=[],f=0,m=0,h=e["!rows"],x=Array.isArray(e),p={r:d},g,j=-1;for(m=o.s.c;m<=o.e.c;++m)u[m]=pa(m);for(f=o.s.r;f<=o.e.r;++f){for(i=[],d=Zs(f),m=o.s.c;m<=o.e.c;++m){c=u[m]+d;var y=x?(e[f]||[])[m]:e[c];y!==void 0&&(l=kZe(y,c,e,t))!=null&&i.push(l)}(i.length>0||h&&h[f])&&(p={r:d},h&&h[f]&&(g=h[f],g.hidden&&(p.hidden=1),j=-1,g.hpx?j=Gw(g.hpx):g.hpt&&(j=g.hpt),j>-1&&(p.ht=j,p.customHeight=1),g.level&&(p.outlineLevel=g.level)),a[a.length]=nt("row",i.join(""),p))}if(h)for(;f<h.length;++f)h&&h[f]&&(p={r:f+1},g=h[f],g.hidden&&(p.hidden=1),j=-1,g.hpx?j=Gw(g.hpx):g.hpt&&(j=g.hpt),j>-1&&(p.ht=j,p.customHeight=1),g.level&&(p.outlineLevel=g.level),a[a.length]=nt("row","",p));return a.join("")}function see(e,t,r,s){var a=[cs,nt("worksheet",null,{xmlns:xx[0],"xmlns:r":Ts.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",u=ln(d);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=as(u)}s||(s={}),c["!comments"]=[];var f=[];wZe(c,r,e,t,a),a[a.length]=nt("dimension",null,{ref:d}),a[a.length]=PZe(c,t,e,r),t.sheetFormat&&(a[a.length]=nt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=EZe(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=TZe(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=SZe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=AZe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=bZe(c["!merges"]));var m=-1,h,x=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(p){p[1].Target&&(h={ref:p[0]},p[1].Target.charAt(0)!="#"&&(x=Or(s,-1,Ir(p[1].Target).replace(/#.*$/,""),yr.HLINK),h["r:id"]="rId"+x),(m=p[1].Target.indexOf("#"))>-1&&(h.location=Ir(p[1].Target.slice(m+1))),p[1].Tooltip&&(h.tooltip=Ir(p[1].Tooltip)),a[a.length]=nt("hyperlink",null,h))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=CZe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Ks("ignoredErrors",nt("ignoredError",null,{numberStoredAsText:1,sqref:d}))),f.length>0&&(x=Or(s,-1,"../drawings/drawing"+(e+1)+".xml",yr.DRAW),a[a.length]=nt("drawing",null,{"r:id":"rId"+x}),c["!drawing"]=f),c["!comments"].length>0&&(x=Or(s,-1,"../drawings/vmlDrawing"+(e+1)+".vml",yr.VML),a[a.length]=nt("legacyDrawing",null,{"r:id":"rId"+x}),c["!legacy"]=x),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function OZe(e,t){var r={},s=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=s,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function DZe(e,t,r){var s=Fe(145),a=(r["!rows"]||[])[e]||{};s.write_shift(4,e),s.write_shift(4,0);var i=320;a.hpx?i=Gw(a.hpx)*20:a.hpt&&(i=a.hpt*20),s.write_shift(2,i),s.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),s.write_shift(1,o),s.write_shift(1,0);var l=0,c=s.l;s.l+=4;for(var d={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var f=-1,m=-1,h=u<<10;h<u+1<<10;++h){d.c=h;var x=Array.isArray(r)?(r[d.r]||[])[d.c]:r[Mr(d)];x&&(f<0&&(f=h),m=h)}f<0||(++l,s.write_shift(4,f),s.write_shift(4,m))}var p=s.l;return s.l=c,s.write_shift(4,l),s.l=p,s.length>s.l?s.slice(0,s.l):s}function IZe(e,t,r,s){var a=DZe(s,r,t);(a.length>17||(t["!rows"]||[])[s])&&We(e,0,a)}var RZe=Nm,MZe=vx;function FZe(){}function $Ze(e,t){var r={},s=e[e.l];return++e.l,r.above=!(s&64),r.left=!(s&128),e.l+=18,r.name=KKe(e),r}function LZe(e,t,r){r==null&&(r=Fe(84+4*e.length));var s=192;t&&(t.above&&(s&=-65),t.left&&(s&=-129)),r.write_shift(1,s);for(var a=1;a<3;++a)r.write_shift(1,0);return zw({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),yJ(e,r),r.slice(0,r.l)}function BZe(e){var t=$o(e);return[t]}function UZe(e,t,r){return r==null&&(r=Fe(8)),jm(t,r)}function VZe(e){var t=bm(e);return[t]}function zZe(e,t,r){return r==null&&(r=Fe(4)),wm(t,r)}function WZe(e){var t=$o(e),r=e.read_shift(1);return[t,r,"b"]}function HZe(e,t,r){return r==null&&(r=Fe(9)),jm(t,r),r.write_shift(1,e.v?1:0),r}function qZe(e){var t=bm(e),r=e.read_shift(1);return[t,r,"b"]}function GZe(e,t,r){return r==null&&(r=Fe(5)),wm(t,r),r.write_shift(1,e.v?1:0),r}function KZe(e){var t=$o(e),r=e.read_shift(1);return[t,r,"e"]}function YZe(e,t,r){return r==null&&(r=Fe(9)),jm(t,r),r.write_shift(1,e.v),r}function XZe(e){var t=bm(e),r=e.read_shift(1);return[t,r,"e"]}function QZe(e,t,r){return r==null&&(r=Fe(8)),wm(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function ZZe(e){var t=$o(e),r=e.read_shift(4);return[t,r,"s"]}function JZe(e,t,r){return r==null&&(r=Fe(12)),jm(t,r),r.write_shift(4,t.v),r}function eJe(e){var t=bm(e),r=e.read_shift(4);return[t,r,"s"]}function tJe(e,t,r){return r==null&&(r=Fe(8)),wm(t,r),r.write_shift(4,t.v),r}function rJe(e){var t=$o(e),r=yx(e);return[t,r,"n"]}function nJe(e,t,r){return r==null&&(r=Fe(16)),jm(t,r),am(e.v,r),r}function sJe(e){var t=bm(e),r=yx(e);return[t,r,"n"]}function aJe(e,t,r){return r==null&&(r=Fe(12)),wm(t,r),am(e.v,r),r}function iJe(e){var t=$o(e),r=jJ(e);return[t,r,"n"]}function oJe(e,t,r){return r==null&&(r=Fe(12)),jm(t,r),bJ(e.v,r),r}function lJe(e){var t=bm(e),r=jJ(e);return[t,r,"n"]}function cJe(e,t,r){return r==null&&(r=Fe(8)),wm(t,r),bJ(e.v,r),r}function dJe(e){var t=$o(e),r=sD(e);return[t,r,"is"]}function uJe(e){var t=$o(e),r=xa(e);return[t,r,"str"]}function fJe(e,t,r){return r==null&&(r=Fe(12+4*e.v.length)),jm(t,r),Ds(e.v,r),r.length>r.l?r.slice(0,r.l):r}function mJe(e){var t=bm(e),r=xa(e);return[t,r,"str"]}function hJe(e,t,r){return r==null&&(r=Fe(8+4*e.v.length)),wm(t,r),Ds(e.v,r),r.length>r.l?r.slice(0,r.l):r}function pJe(e,t,r){var s=e.l+t,a=$o(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=c_(e,s-e.l,r);o[3]=Rp(l,null,a,r.supbooks,r)}else e.l=s;return o}function xJe(e,t,r){var s=e.l+t,a=$o(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=c_(e,s-e.l,r);o[3]=Rp(l,null,a,r.supbooks,r)}else e.l=s;return o}function gJe(e,t,r){var s=e.l+t,a=$o(e);a.r=r["!row"];var i=yx(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=c_(e,s-e.l,r);o[3]=Rp(l,null,a,r.supbooks,r)}else e.l=s;return o}function vJe(e,t,r){var s=e.l+t,a=$o(e);a.r=r["!row"];var i=xa(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=c_(e,s-e.l,r);o[3]=Rp(l,null,a,r.supbooks,r)}else e.l=s;return o}var yJe=Nm,jJe=vx;function bJe(e,t){return t==null&&(t=Fe(4)),t.write_shift(4,e),t}function wJe(e,t){var r=e.l+t,s=Nm(e),a=aD(e),i=xa(e),o=xa(e),l=xa(e);e.l=r;var c={rfx:s,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function NJe(e,t){var r=Fe(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));vx({s:Os(e[0]),e:Os(e[0])},r),iD("rId"+t,r);var s=e[1].Target.indexOf("#"),a=s==-1?"":e[1].Target.slice(s+1);return Ds(a||"",r),Ds(e[1].Tooltip||"",r),Ds("",r),r.slice(0,r.l)}function _Je(){}function SJe(e,t,r){var s=e.l+t,a=wJ(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=mZe(e,s-e.l,r);o[1]=l}else e.l=s;return o}function CJe(e,t,r){var s=e.l+t,a=Nm(e),i=[a];if(r.cellFormula){var o=pZe(e,s-e.l,r);i[1]=o,e.l=s}else e.l=s;return i}function EJe(e,t,r){r==null&&(r=Fe(18));var s=d_(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(s.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof s.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var aee=["left","right","top","bottom","header","footer"];function AJe(e){var t={};return aee.forEach(function(r){t[r]=yx(e)}),t}function PJe(e,t){return t==null&&(t=Fe(6*8)),nee(e),aee.forEach(function(r){am(e[r],t)}),t}function kJe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function TJe(e,t,r){r==null&&(r=Fe(30));var s=924;return(((t||{}).Views||[])[0]||{}).RTL&&(s|=32),r.write_shift(2,s),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function OJe(e){var t=Fe(24);return t.write_shift(4,4),t.write_shift(4,1),vx(e,t),t}function DJe(e,t){return t==null&&(t=Fe(16*4+2)),t.write_shift(2,e.password?BJ(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function IJe(){}function RJe(){}function MJe(e,t,r,s,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=gi(t),t.z=t.z||Ln[14],t.v=xi(Fa(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:s};switch(c.s=zu(a.cellXfs,t,a),t.l&&i["!links"].push([Mr(c),t.l]),t.c&&i["!comments"].push([Mr(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=fD(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?We(e,18,tJe(t,c)):We(e,7,JZe(t,c))):(c.t="str",o?We(e,17,hJe(t,c)):We(e,6,fJe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?We(e,13,cJe(t,c)):We(e,2,oJe(t,c)):o?We(e,16,aJe(t,c)):We(e,5,nJe(t,c)),!0;case"b":return c.t="b",o?We(e,15,GZe(t,c)):We(e,4,HZe(t,c)),!0;case"e":return c.t="e",o?We(e,14,QZe(t,c)):We(e,3,YZe(t,c)),!0}return o?We(e,12,zZe(t,c)):We(e,1,UZe(t,c)),!0}function FJe(e,t,r,s){var a=ln(t["!ref"]||"A1"),i,o="",l=[];We(e,145);var c=Array.isArray(t),d=a.e.r;t["!rows"]&&(d=Math.max(a.e.r,t["!rows"].length-1));for(var u=a.s.r;u<=d;++u){o=Zs(u),IZe(e,t,a,u);var f=!1;if(u<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){u===a.s.r&&(l[m]=pa(m)),i=l[m]+o;var h=c?(t[u]||[])[m]:t[i];if(!h){f=!1;continue}f=MJe(e,h,u,m,s,t,f)}}We(e,146)}function $Je(e,t){!t||!t["!merges"]||(We(e,177,bJe(t["!merges"].length)),t["!merges"].forEach(function(r){We(e,176,jJe(r))}),We(e,178))}function LJe(e,t){!t||!t["!cols"]||(We(e,390),t["!cols"].forEach(function(r,s){r&&We(e,60,EJe(s,r))}),We(e,391))}function BJe(e,t){!t||!t["!ref"]||(We(e,648),We(e,649,OJe(ln(t["!ref"]))),We(e,650))}function UJe(e,t,r){t["!links"].forEach(function(s){if(s[1].Target){var a=Or(r,-1,s[1].Target.replace(/#.*$/,""),yr.HLINK);We(e,494,NJe(s,a))}}),delete t["!links"]}function VJe(e,t,r,s){if(t["!comments"].length>0){var a=Or(s,-1,"../drawings/vmlDrawing"+(r+1)+".vml",yr.VML);We(e,551,iD("rId"+a)),t["!legacy"]=a}}function zJe(e,t,r,s){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:as(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Qi(i);l.s.r==l.e.r&&(l.e.r=Qi(t["!ref"]).e.r,i=as(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==s){d.Ref="'"+r.SheetNames[s]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+r.SheetNames[s]+"'!"+i}),We(e,161,vx(ln(i))),We(e,162)}}function WJe(e,t,r){We(e,133),We(e,137,TJe(t,r)),We(e,138),We(e,134)}function HJe(e,t){t["!protect"]&&We(e,535,DJe(t["!protect"]))}function qJe(e,t,r,s){var a=hi(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=ln(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],We(a,129),(r.vbaraw||o["!outline"])&&We(a,147,LZe(l,o["!outline"])),We(a,148,MZe(c)),WJe(a,o,r.Workbook),LJe(a,o),FJe(a,o,e,t),HJe(a,o),zJe(a,o,r,e),$Je(a,o),UJe(a,o,s),o["!margins"]&&We(a,476,PJe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&BJe(a,o),VJe(a,o,e,s),We(a,130),a.end()}function GJe(e,t){e.l+=10;var r=xa(e);return{name:r}}var KJe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function YJe(e){return!e.Workbook||!e.Workbook.WBProps?"false":CKe(e.Workbook.WBProps.date1904)?"true":"false"}var XJe="][*?/\\".split("");function iee(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return XJe.forEach(function(s){if(e.indexOf(s)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function QJe(e,t,r){e.forEach(function(s,a){iee(s);for(var i=0;i<a;++i)if(s==e[i])throw new Error("Duplicate Sheet Name: "+s);if(r){var o=t&&t[a]&&t[a].CodeName||s;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function ZJe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];QJe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)jZe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function oee(e){var t=[cs];t[t.length]=nt("workbook",null,{xmlns:xx[0],"xmlns:r":Ts.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,s={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(KJe.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(s[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(s.codeName=e.Workbook.WBProps.CodeName,delete s.CodeName)),t[t.length]=nt("workbookPr",null,s);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Ir(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=nt("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=nt("definedName",Ir(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function JJe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=bP(e),r.name=xa(e),r}function eet(e,t){return t||(t=Fe(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),iD(e.strRelID,t),Ds(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function tet(e,t){var r={},s=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?xa(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(s&65536),r.backupFile=!!(s&64),r.checkCompatibility=!!(s&4096),r.date1904=!!(s&1),r.filterPrivacy=!!(s&8),r.hidePivotFieldList=!!(s&1024),r.promptedSolutions=!!(s&16),r.publishItems=!!(s&2048),r.refreshAllConnections=!!(s&262144),r.saveExternalLinkValues=!!(s&128),r.showBorderUnselectedTables=!!(s&4),r.showInkAnnotation=!!(s&32),r.showObjects=["all","placeholders","none"][s>>13&3],r.showPivotChartFilter=!!(s&32768),r.updateLinks=["userSet","never","always"][s>>8&3],r}function ret(e,t){t||(t=Fe(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),yJ(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function net(e,t,r){var s=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=YKe(e),o=hZe(e,0,r),l=aD(e);e.l=s;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function set(e,t){We(e,143);for(var r=0;r!=t.SheetNames.length;++r){var s=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:s,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};We(e,156,eet(a))}We(e,144)}function aet(e,t){t||(t=Fe(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Ds("SheetJS",t),Ds(Mw.version,t),Ds(Mw.version,t),Ds("7262",t),t.length>t.l?t.slice(0,t.l):t}function iet(e,t){t||(t=Fe(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function oet(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,s=0,a=-1,i=-1;s<r.length;++s)!r[s]||!r[s].Hidden&&a==-1?a=s:r[s].Hidden==1&&i==-1&&(i=s);i>a||(We(e,135),We(e,158,iet(a)),We(e,136))}}function cet(e,t){var r=hi();return We(r,131),We(r,128,aet()),We(r,153,ret(e.Workbook&&e.Workbook.WBProps||null)),oet(r,e),set(r,e),We(r,132),r.end()}function det(e,t,r){return(t.slice(-4)===".bin"?cet:oee)(e)}function uet(e,t,r,s,a){return(t.slice(-4)===".bin"?qJe:see)(e,r,s,a)}function fet(e,t,r){return(t.slice(-4)===".bin"?PXe:zJ)(e,r)}function met(e,t,r){return(t.slice(-4)===".bin"?rXe:LJ)(e,r)}function het(e,t,r){return(t.slice(-4)===".bin"?HXe:KJ)(e)}function pet(e){return(e.slice(-4)===".bin"?FXe:qJ)()}function xet(e,t){var r=[];return e.Props&&r.push(uYe(e.Props,t)),e.Custprops&&r.push(fYe(e.Props,e.Custprops)),r.join("")}function get(){return""}function vet(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(s,a){var i=[];i.push(nt("NumberFormat",null,{"ss:Format":Ir(Ln[s.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(nt("Style",i.join(""),o))}),nt("Styles",r.join(""))}function lee(e){return nt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+dD(e.Ref,{r:0,c:0})})}function yet(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],s=0;s<t.length;++s){var a=t[s];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(lee(a)))}return nt("Names",r.join(""))}function jet(e,t,r,s){if(!e||!((s||{}).Workbook||{}).Names)return"";for(var a=s.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(lee(l)))}return i.join("")}function bet(e,t,r,s){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(nt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(nt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(nt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),s&&s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[r])if(s.Workbook.Sheets[r].Hidden)a.push(nt("Visible",s.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(s.Workbook.Sheets[i]&&!s.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((s||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Ks("ProtectContents","True")),e["!protect"].objects&&a.push(Ks("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Ks("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Ks("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Ks("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":nt("WorksheetOptions",a.join(""),{xmlns:Di.x})}function wet(e){return e.map(function(t){var r=SKe(t.t||""),s=nt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return nt("Comment",s,{"ss:Author":t.a})}).join("")}function Net(e,t,r,s,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Ir(dD(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=Os(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Ir(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Ir(e.l.Tooltip))),r["!merges"])for(var d=r["!merges"],u=0;u!=d.length;++u)d[u].s.c!=o.c||d[u].s.r!=o.r||(d[u].e.c>d[u].s.c&&(l["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(l["ss:MergeDown"]=d[u].e.r-d[u].s.r));var f="",m="";switch(e.t){case"z":if(!s.sheetStubs)return"";break;case"n":f="Number",m=String(e.v);break;case"b":f="Boolean",m=e.v?"1":"0";break;case"e":f="Error",m=Py[e.v];break;case"d":f="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Ln[14]);break;case"s":f="String",m=_Ke(e.v||"");break}var h=zu(s.cellXfs,e,s);l["ss:StyleID"]="s"+(21+h),l["ss:Index"]=o.c+1;var x=e.v!=null?m:"",p=e.t=="z"?"":'<Data ss:Type="'+f+'">'+x+"</Data>";return(e.c||[]).length>0&&(p+=wet(e.c)),nt("Cell",p,l)}function _et(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=VJ(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Cet(e,t,r,s){if(!e["!ref"])return"";var a=ln(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(g,j){lD(g);var y=!!g.width,w=d_(j,g),b={"ss:Index":j+1};y&&(b["ss:Width"]=Hw(w.width)),g.hidden&&(b["ss:Hidden"]="1"),l.push(nt("Column",null,b))});for(var c=Array.isArray(e),d=a.s.r;d<=a.e.r;++d){for(var u=[_et(d,(e["!rows"]||[])[d])],f=a.s.c;f<=a.e.c;++f){var m=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>d)&&!(i[o].e.c<f)&&!(i[o].e.r<d)){(i[o].s.c!=f||i[o].s.r!=d)&&(m=!0);break}if(!m){var h={r:d,c:f},x=Mr(h),p=c?(e[d]||[])[f]:e[x];u.push(Net(p,x,e,t,r,s,h))}}u.push("</Row>"),u.length>2&&l.push(u.join(""))}return l.join("")}function Eet(e,t,r){var s=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?jet(i,t,e,r):"";return o.length>0&&s.push("<Names>"+o+"</Names>"),o=i?Cet(i,t,e,r):"",o.length>0&&s.push("<Table>"+o+"</Table>"),s.push(bet(i,t,e,r)),s.join("")}function Aet(e,t){t||(t={}),e.SSF||(e.SSF=gi(Ln)),e.SSF&&(a_(),s_(e.SSF),t.revssf=i_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],zu(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(xet(e,t)),r.push(get()),r.push(""),r.push("");for(var s=0;s<e.SheetNames.length;++s)r.push(nt("Worksheet",Eet(s,t,e),{"ss:Name":Ir(e.SheetNames[s])}));return r[2]=vet(e,t),r[3]=yet(e),cs+nt("Workbook",r.join(""),{xmlns:Di.ss,"xmlns:o":Di.o,"xmlns:x":Di.x,"xmlns:ss":Di.ss,"xmlns:dt":Di.dt,"xmlns:html":Di.html})}var bC={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Pet(e,t){var r=[],s=[],a=[],i=0,o,l=$L(QL,"n"),c=$L(ZL,"n");if(e.Props)for(o=ta(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?s:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=ta(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?s:a).push([o[i],e.Custprops[o[i]]]);var d=[];for(i=0;i<a.length;++i)OJ.indexOf(a[i][0])>-1||PJ.indexOf(a[i][0])>-1||a[i][1]!=null&&d.push(a[i]);s.length&&Br.utils.cfb_add(t,"/SummaryInformation",n8(s,bC.SI,c,ZL)),(r.length||d.length)&&Br.utils.cfb_add(t,"/DocumentSummaryInformation",n8(r,bC.DSI,l,QL,d.length?d:null,bC.UDI))}function ket(e,t){var r=t||{},s=Br.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Br.utils.cfb_add(s,a,cee(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Pet(e,s),r.biff==8&&e.vbaraw&&qXe(s,Br.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),s}var Tet={0:{f:OZe},1:{f:BZe},2:{f:iJe},3:{f:KZe},4:{f:WZe},5:{f:rJe},6:{f:uJe},7:{f:ZZe},8:{f:vJe},9:{f:gJe},10:{f:pJe},11:{f:xJe},12:{f:VZe},13:{f:lJe},14:{f:XZe},15:{f:qZe},16:{f:sJe},17:{f:mJe},18:{f:eJe},19:{f:sD},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:net},40:{},42:{},43:{f:uXe},44:{f:cXe},45:{f:hXe},46:{f:xXe},47:{f:pXe},48:{},49:{f:VKe},50:{},51:{f:OXe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:zYe},62:{f:dJe},63:{f:$Xe},64:{f:IJe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ac,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:kJe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:$Ze},148:{f:RZe,p:16},151:{f:_Je},152:{},153:{f:tet},154:{},155:{},156:{f:JJe},157:{},158:{},159:{T:1,f:JYe},160:{T:-1},161:{T:1,f:Nm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:yJe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:kXe},336:{T:-1},337:{f:RXe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:bP},357:{},358:{},359:{},360:{T:1},361:{},362:{f:FYe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:SJe},427:{f:CJe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:AJe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:FZe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:wJe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:bP},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:zXe},633:{T:1},634:{T:-1},635:{T:1,f:UXe},636:{T:-1},637:{f:qKe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:GJe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:RJe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function st(e,t,r,s){var a=t;if(!isNaN(a)){var i=s||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&tD(r)&&e.push(r)}}function Oet(e,t,r,s){var a=(r||[]).length||0;if(a<=8224)return st(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d;c<a;){for(u=e.next(4),u.write_shift(2,60),d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d}}}function Ty(e,t,r){return e||(e=Fe(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Det(e,t,r,s){var a=Fe(9);return Ty(a,e,t),IJ(r,s||"b",a),a}function Iet(e,t,r){var s=Fe(8+2*r.length);return Ty(s,e,t),s.write_shift(1,r.length),s.write_shift(r.length,r,"sbcs"),s.l<s.length?s.slice(0,s.l):s}function Ret(e,t,r,s){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?xi(Fa(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?st(e,2,GYe(r,s,a)):st(e,3,qYe(r,s,a));return;case"b":case"e":st(e,5,Det(r,s,t.v,t.t));return;case"s":case"str":st(e,4,Iet(r,s,(t.v||"").slice(0,255)));return}st(e,1,Ty(null,r,s))}function Met(e,t,r,s){var a=Array.isArray(t),i=ln(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(s.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=as(i)}for(var d=i.s.r;d<=i.e.r;++d){l=Zs(d);for(var u=i.s.c;u<=i.e.c;++u){d===i.s.r&&(c[u]=pa(u)),o=c[u]+l;var f=a?(t[d]||[])[u]:t[o];f&&Ret(e,f,d,u)}}}function Fet(e,t){for(var r=t||{},s=hi(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return st(s,r.biff==4?1033:r.biff==3?521:9,oD(e,16,r)),Met(s,e.Sheets[e.SheetNames[a]],a,r),st(s,10),s.end()}function $et(e,t,r){st(e,49,PYe({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function Let(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&st(e,1054,OYe(a,t[a],r))})}function Bet(e,t){var r=Fe(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),st(e,2151,r),r=Fe(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),FJ(ln(t["!ref"]||"A1"),r),r.write_shift(4,4),st(e,2152,r)}function Uet(e,t){for(var r=0;r<16;++r)st(e,224,a8({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(s){st(e,224,a8(s,0,t))})}function Vet(e,t){for(var r=0;r<t["!links"].length;++r){var s=t["!links"][r];st(e,440,BYe(s)),s[1].Tooltip&&st(e,2048,UYe(s))}delete t["!links"]}function zet(e,t){if(t){var r=0;t.forEach(function(s,a){++r<=256&&s&&st(e,125,WYe(d_(a,s),a))})}}function Wet(e,t,r,s,a){var i=16+zu(a.cellXfs,t,a);if(t.v==null&&!t.bf){st(e,513,im(r,s,i));return}if(t.bf)st(e,6,fZe(t,r,s,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?xi(Fa(t.v)):t.v;st(e,515,MYe(r,s,o,i));break;case"b":case"e":st(e,517,RYe(r,s,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=fD(a.Strings,t.v,a.revStrings);st(e,253,kYe(r,s,l,i))}else st(e,516,TYe(r,s,(t.v||"").slice(0,255),i,a));break;default:st(e,513,im(r,s,i))}}function Het(e,t,r){var s=hi(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),d=t.biff==8,u,f="",m=[],h=ln(i["!ref"]||"A1"),x=d?65536:16384;if(h.e.c>255||h.e.r>=x){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,x-1)}st(s,2057,oD(r,16,t)),st(s,13,ho(1)),st(s,12,ho(100)),st(s,15,Ta(!0)),st(s,17,Ta(!1)),st(s,16,am(.001)),st(s,95,Ta(!0)),st(s,42,Ta(!1)),st(s,43,Ta(!1)),st(s,130,ho(1)),st(s,128,IYe()),st(s,131,Ta(!1)),st(s,132,Ta(!1)),d&&zet(s,i["!cols"]),st(s,512,DYe(h,t)),d&&(i["!links"]=[]);for(var p=h.s.r;p<=h.e.r;++p){f=Zs(p);for(var g=h.s.c;g<=h.e.c;++g){p===h.s.r&&(m[g]=pa(g)),u=m[g]+f;var j=c?(i[p]||[])[g]:i[u];j&&(Wet(s,j,p,g,t),d&&j.l&&i["!links"].push([u,j.l]))}}var y=l.CodeName||l.name||a;return d&&st(s,574,AYe((o.Views||[])[0])),d&&(i["!merges"]||[]).length&&st(s,229,LYe(i["!merges"])),d&&Vet(s,i),st(s,442,MJ(y)),d&&Bet(s,i),st(s,10),s.end()}function qet(e,t,r){var s=hi(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(st(s,2057,oD(e,5,r)),r.bookType=="xla"&&st(s,135),st(s,225,l?ho(1200):null),st(s,193,pYe(2)),c&&st(s,191),c&&st(s,192),st(s,226),st(s,92,_Ye("SheetJS",r)),st(s,66,ho(l?1200:1252)),l&&st(s,353,ho(0)),l&&st(s,448),st(s,317,HYe(e.SheetNames.length)),l&&e.vbaraw&&st(s,211),l&&e.vbaraw){var d=o.CodeName||"ThisWorkbook";st(s,442,MJ(d))}st(s,156,ho(17)),st(s,25,Ta(!1)),st(s,18,Ta(!1)),st(s,19,ho(0)),l&&st(s,431,Ta(!1)),l&&st(s,444,ho(0)),st(s,61,EYe()),st(s,64,Ta(!1)),st(s,141,ho(0)),st(s,34,Ta(YJe(e)=="true")),st(s,14,Ta(!0)),l&&st(s,439,Ta(!1)),st(s,218,ho(0)),$et(s,e,r),Let(s,e.SSF,r),Uet(s,r),l&&st(s,352,Ta(!1));var u=s.end(),f=hi();l&&st(f,140,VYe()),l&&r.Strings&&Oet(f,252,CYe(r.Strings)),st(f,10);var m=f.end(),h=hi(),x=0,p=0;for(p=0;p<e.SheetNames.length;++p)x+=(l?12:11)+(l?2:1)*e.SheetNames[p].length;var g=u.length+x+m.length;for(p=0;p<e.SheetNames.length;++p){var j=i[p]||{};st(h,133,SYe({pos:g,hs:j.Hidden||0,dt:0,name:e.SheetNames[p]},r)),g+=t[p].length}var y=h.end();if(x!=y.length)throw new Error("BS8 "+x+" != "+y.length);var w=[];return u.length&&w.push(u),y.length&&w.push(y),m.length&&w.push(m),Gs(w)}function Get(e,t){var r=t||{},s=[];e&&!e.SSF&&(e.SSF=gi(Ln)),e&&e.SSF&&(a_(),s_(e.SSF),r.revssf=i_(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,mD(r),r.cellXfs=[],zu(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)s[s.length]=Het(a,r,e);return s.unshift(qet(e,s,r)),Gs(s)}function cee(e,t){for(var r=0;r<=e.SheetNames.length;++r){var s=e.Sheets[e.SheetNames[r]];if(!(!s||!s["!ref"])){var a=Qi(s["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return Get(e,t);case 4:case 3:case 2:return Fet(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function Ket(e,t,r,s){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,d=0;d<a.length;++d)if(!(a[d].s.r>r||a[d].s.c>o)&&!(a[d].e.r<r||a[d].e.c<o)){if(a[d].s.r<r||a[d].s.c<o){l=-1;break}l=a[d].e.r-a[d].s.r+1,c=a[d].e.c-a[d].s.c+1;break}if(!(l<0)){var u=Mr({r,c:o}),f=s.dense?(e[r]||[])[o]:e[u],m=f&&f.v!=null&&(f.h||NKe(f.w||(ld(f),f.w)||""))||"",h={};l>1&&(h.rowspan=l),c>1&&(h.colspan=c),s.editable?m='<span contenteditable="true">'+m+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+f.l.Target+'">'+m+"</a>")),h.id=(s.id||"sjs")+"-"+u,i.push(nt("td",m,h))}}var x="<tr>";return x+i.join("")+"</tr>"}var Yet='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Xet="</body></html>";function Qet(e,t,r){var s=[];return s.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function dee(e,t){var r=t||{},s=r.header!=null?r.header:Yet,a=r.footer!=null?r.footer:Xet,i=[s],o=Qi(e["!ref"]);r.dense=Array.isArray(e),i.push(Qet(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(Ket(e,o,l,r));return i.push("</table>"+a),i.join("")}function uee(e,t,r){var s=r||{},a=0,i=0;if(s.origin!=null)if(typeof s.origin=="number")a=s.origin;else{var o=typeof s.origin=="string"?Os(s.origin):s.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(s.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=Qi(e["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),a==-1&&(d.e.r=a=u.e.r+1)}var f=[],m=0,h=e["!rows"]||(e["!rows"]=[]),x=0,p=0,g=0,j=0,y=0,w=0;for(e["!cols"]||(e["!cols"]=[]);x<l.length&&p<c;++x){var b=l[x];if(f8(b)){if(s.display)continue;h[p]={hidden:!0}}var N=b.children;for(g=j=0;g<N.length;++g){var S=N[g];if(!(s.display&&f8(S))){var _=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):EKe(S.innerHTML),E=S.getAttribute("data-z")||S.getAttribute("z");for(m=0;m<f.length;++m){var A=f[m];A.s.c==j+i&&A.s.r<p+a&&p+a<=A.e.r&&(j=A.e.c+1-i,m=-1)}w=+S.getAttribute("colspan")||1,((y=+S.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:p+a,c:j+i},e:{r:p+a+(y||1)-1,c:j+i+(w||1)-1}});var k={t:"s",v:_},D=S.getAttribute("data-t")||S.getAttribute("t")||"";_!=null&&(_.length==0?k.t=D||"z":s.raw||_.trim().length==0||D=="s"||(_==="TRUE"?k={t:"b",v:!0}:_==="FALSE"?k={t:"b",v:!1}:isNaN(zc(_))?isNaN(yv(_).getDate())||(k={t:"d",v:Fa(_)},s.cellDates||(k={t:"n",v:xi(k.v)}),k.z=s.dateNF||Ln[14]):k={t:"n",v:zc(_)})),k.z===void 0&&E!=null&&(k.z=E);var I="",W=S.getElementsByTagName("A");if(W&&W.length)for(var H=0;H<W.length&&!(W[H].hasAttribute("href")&&(I=W[H].getAttribute("href"),I.charAt(0)!="#"));++H);I&&I.charAt(0)!="#"&&(k.l={Target:I}),s.dense?(e[p+a]||(e[p+a]=[]),e[p+a][j+i]=k):e[Mr({c:j+i,r:p+a})]=k,d.e.c<j+i&&(d.e.c=j+i),j+=w}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),d.e.r=Math.max(d.e.r,p-1+a),e["!ref"]=as(d),p>=c&&(e["!fullref"]=as((d.e.r=l.length-x+p-1+a,d))),e}function fee(e,t){var r=t||{},s=r.dense?[]:{};return uee(s,e,t)}function Zet(e,t){return ym(fee(e,t),t)}function f8(e){var t="",r=Jet(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Jet(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var ett=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+bv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return cs+t}}(),m8=function(){var e=function(i){return Ir(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,s=function(i,o,l){var c=[];c.push('      <table:table table:name="'+Ir(o.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,u=0,f=Qi(i["!ref"]||"A1"),m=i["!merges"]||[],h=0,x=Array.isArray(i);if(i["!cols"])for(u=0;u<=f.e.c;++u)c.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var p="",g=i["!rows"]||[];for(d=0;d<f.s.r;++d)p=g[d]?' table:style-name="ro'+g[d].ods+'"':"",c.push("        <table:table-row"+p+`></table:table-row>
`);for(;d<=f.e.r;++d){for(p=g[d]?' table:style-name="ro'+g[d].ods+'"':"",c.push("        <table:table-row"+p+`>
`),u=0;u<f.s.c;++u)c.push(t);for(;u<=f.e.c;++u){var j=!1,y={},w="";for(h=0;h!=m.length;++h)if(!(m[h].s.c>u)&&!(m[h].s.r>d)&&!(m[h].e.c<u)&&!(m[h].e.r<d)){(m[h].s.c!=u||m[h].s.r!=d)&&(j=!0),y["table:number-columns-spanned"]=m[h].e.c-m[h].s.c+1,y["table:number-rows-spanned"]=m[h].e.r-m[h].s.r+1;break}if(j){c.push(r);continue}var b=Mr({r:d,c:u}),N=x?(i[d]||[])[u]:i[b];if(N&&N.f&&(y["table:formula"]=Ir(vZe(N.f)),N.F&&N.F.slice(0,b.length)==b)){var S=Qi(N.F);y["table:number-matrix-columns-spanned"]=S.e.c-S.s.c+1,y["table:number-matrix-rows-spanned"]=S.e.r-S.s.r+1}if(!N){c.push(t);continue}switch(N.t){case"b":w=N.v?"TRUE":"FALSE",y["office:value-type"]="boolean",y["office:boolean-value"]=N.v?"true":"false";break;case"n":w=N.w||String(N.v||0),y["office:value-type"]="float",y["office:value"]=N.v||0;break;case"s":case"str":w=N.v==null?"":N.v,y["office:value-type"]="string";break;case"d":w=N.w||Fa(N.v).toISOString(),y["office:value-type"]="date",y["office:date-value"]=Fa(N.v).toISOString(),y["table:style-name"]="ce1";break;default:c.push(t);continue}var _=e(w);if(N.l&&N.l.Target){var E=N.l.Target;E=E.charAt(0)=="#"?"#"+yZe(E.slice(1)):E,E.charAt(0)!="#"&&!E.match(/^\w+:/)&&(E="../"+E),_=nt("text:a",_,{"xlink:href":E.replace(/&/g,"&amp;")})}c.push("          "+nt("table:table-cell",nt("text:p",_,{}),y)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var f=d["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;lD(f),f.ods=l;var m=d["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var f=d["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[cs],d=bv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=bv({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(EJ().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(s(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function mee(e,t){if(t.bookType=="fods")return m8(e,t);var r=Q3(),s="",a=[],i=[];return s="mimetype",er(r,s,"application/vnd.oasis.opendocument.spreadsheet"),s="content.xml",er(r,s,m8(e,t)),a.push([s,"text/xml"]),i.push([s,"ContentFile"]),s="styles.xml",er(r,s,ett(e,t)),a.push([s,"text/xml"]),i.push([s,"StylesFile"]),s="meta.xml",er(r,s,cs+EJ()),a.push([s,"text/xml"]),i.push([s,"MetadataFile"]),s="manifest.rdf",er(r,s,dYe(i)),a.push([s,"application/rdf+xml"]),s="META-INF/manifest.xml",er(r,s,lYe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Kw(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ttt(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):el(jv(e))}function rtt(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var s=0;s<t.length;++s)if(e[r+s]!=t[s])continue e;return!0}return!1}function Au(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),s=0;return e.forEach(function(a){r.set(a,s),s+=a.length}),r}function ntt(e,t,r){var s=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,s-6176);e[t+15]|=s>>7,e[t+14]|=(s&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function wv(e,t){var r=t?t[0]:0,s=e[r]&127;e:if(e[r++]>=128&&(s|=(e[r]&127)<<7,e[r++]<128||(s|=(e[r]&127)<<14,e[r++]<128)||(s|=(e[r]&127)<<21,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),s}function kr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Ah(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function ms(e){for(var t=[],r=[0];r[0]<e.length;){var s=r[0],a=wv(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=wv(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(s))}var d={data:l,type:i};t[a]==null?t[a]=[d]:t[a].push(d)}return t}function Vs(e){var t=[];return e.forEach(function(r,s){r.forEach(function(a){a.data&&(t.push(kr(s*8+a.type)),a.type==2&&t.push(kr(a.data.length)),t.push(a.data))})}),Au(t)}function Uo(e){for(var t,r=[],s=[0];s[0]<e.length;){var a=wv(e,s),i=ms(e.slice(s[0],s[0]+a));s[0]+=a;var o={id:Ah(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=ms(l.data),d=Ah(c[3][0].data);o.messages.push({meta:c,data:e.slice(s[0],s[0]+d)}),s[0]+=d}),(t=i[3])!=null&&t[0]&&(o.merge=Ah(i[3][0].data)>>>0>0),r.push(o)}return r}function $m(e){var t=[];return e.forEach(function(r){var s=[];s[1]=[{data:kr(r.id),type:0}],s[2]=[],r.merge!=null&&(s[3]=[{data:kr(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:kr(o.data.length)}],s[2].push({data:Vs(o.meta),type:2})});var i=Vs(s);t.push(kr(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),Au(t)}function stt(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],s=wv(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,d=0;if(i==1?(d=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Au(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(a.push(a[0].slice(-c)),d-=c;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-c,-c+d))}}var u=Au(a);if(u.length!=s)throw new Error("Unexpected length: ".concat(u.length," != ").concat(s));return u}function Vo(e){for(var t=[],r=0;r<e.length;){var s=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(stt(s,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Au(t)}function Lm(e){for(var t=[],r=0;r<e.length;){var s=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=kr(s),o=i.length;t.push(i),s<=60?(o++,t.push(new Uint8Array([s-1<<2]))):s<=256?(o+=2,t.push(new Uint8Array([240,s-1&255]))):s<=65536?(o+=3,t.push(new Uint8Array([244,s-1&255,s-1>>8&255]))):s<=16777216?(o+=4,t.push(new Uint8Array([248,s-1&255,s-1>>8&255,s-1>>16&255]))):s<=4294967296&&(o+=5,t.push(new Uint8Array([252,s-1&255,s-1>>8&255,s-1>>16&255,s-1>>>24&255]))),t.push(e.slice(r,r+s)),o+=s,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=s}return Au(t)}function wC(e,t){var r=new Uint8Array(32),s=Kw(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,ntt(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,s.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,s.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(8,i,!0),r.slice(0,a)}function NC(e,t){var r=new Uint8Array(32),s=Kw(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,s.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,s.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,s.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(4,i,!0),r.slice(0,a)}function _d(e){var t=ms(e);return wv(t[1][0].data)}function att(e,t,r){var s,a,i,o;if(!((s=e[6])!=null&&s[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&Ah(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,d=Kw(e[7][0].data),u=0,f=[],m=Kw(e[4][0].data),h=0,x=[],p=0;p<t.length;++p){if(t[p]==null){d.setUint16(p*2,65535,!0),m.setUint16(p*2,65535);continue}d.setUint16(p*2,u,!0),m.setUint16(p*2,h,!0);var g,j;switch(typeof t[p]){case"string":g=wC({t:"s",v:t[p]},r),j=NC({t:"s",v:t[p]},r);break;case"number":g=wC({t:"n",v:t[p]},r),j=NC({t:"n",v:t[p]},r);break;case"boolean":g=wC({t:"b",v:t[p]},r),j=NC({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}f.push(g),u+=g.length,x.push(j),h+=j.length,++c}for(e[2][0].data=kr(c);p<e[7][0].data.length/2;++p)d.setUint16(p*2,65535,!0),m.setUint16(p*2,65535,!0);return e[6][0].data=Au(f),e[3][0].data=Au(x),c}function itt(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var s=Qi(r["!ref"]);s.s.r=s.s.c=0;var a=!1;s.e.c>9&&(a=!0,s.e.c=9),s.e.r>49&&(a=!0,s.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(as(s)));var i=Yw(r,{range:s,header:1}),o=["~Sh33tJ5~"];i.forEach(function(V){return V.forEach(function(L){typeof L=="string"&&o.push(L)})});var l={},c=[],d=Br.read(t.numbers,{type:"base64"});d.FileIndex.map(function(V,L){return[V,d.FullPaths[L]]}).forEach(function(V){var L=V[0],G=V[1];if(L.type==2&&L.name.match(/\.iwa/)){var le=L.content,fe=Vo(le),B=Uo(fe);B.forEach(function(Y){c.push(Y.id),l[Y.id]={deps:[],location:G,type:Ah(Y.messages[0].meta[1][0].data)}})}}),c.sort(function(V,L){return V-L});var u=c.filter(function(V){return V>1}).map(function(V){return[V,kr(V)]});d.FileIndex.map(function(V,L){return[V,d.FullPaths[L]]}).forEach(function(V){var L=V[0];if(V[1],!!L.name.match(/\.iwa/)){var G=Uo(Vo(L.content));G.forEach(function(le){le.messages.forEach(function(fe){u.forEach(function(B){le.messages.some(function(Y){return Ah(Y.meta[1][0].data)!=11006&&rtt(Y.data,B[1])})&&l[B[0]].deps.push(le.id)})})})}});for(var f=Br.find(d,l[1].location),m=Uo(Vo(f.content)),h,x=0;x<m.length;++x){var p=m[x];p.id==1&&(h=p)}var g=_d(ms(h.messages[0].data)[1][0].data);for(f=Br.find(d,l[g].location),m=Uo(Vo(f.content)),x=0;x<m.length;++x)p=m[x],p.id==g&&(h=p);for(g=_d(ms(h.messages[0].data)[2][0].data),f=Br.find(d,l[g].location),m=Uo(Vo(f.content)),x=0;x<m.length;++x)p=m[x],p.id==g&&(h=p);for(g=_d(ms(h.messages[0].data)[2][0].data),f=Br.find(d,l[g].location),m=Uo(Vo(f.content)),x=0;x<m.length;++x)p=m[x],p.id==g&&(h=p);var j=ms(h.messages[0].data);{j[6][0].data=kr(s.e.r+1),j[7][0].data=kr(s.e.c+1);var y=_d(j[46][0].data),w=Br.find(d,l[y].location),b=Uo(Vo(w.content));{for(var N=0;N<b.length&&b[N].id!=y;++N);if(b[N].id!=y)throw"Bad ColumnRowUIDMapArchive";var S=ms(b[N].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var _=0;_<=s.e.c;++_){var E=[];E[1]=E[2]=[{type:0,data:kr(_+420690)}],S[1].push({type:2,data:Vs(E)}),S[2].push({type:0,data:kr(_)}),S[3].push({type:0,data:kr(_)})}S[4]=[],S[5]=[],S[6]=[];for(var A=0;A<=s.e.r;++A)E=[],E[1]=E[2]=[{type:0,data:kr(A+726270)}],S[4].push({type:2,data:Vs(E)}),S[5].push({type:0,data:kr(A)}),S[6].push({type:0,data:kr(A)});b[N].messages[0].data=Vs(S)}w.content=Lm($m(b)),w.size=w.content.length,delete j[46];var k=ms(j[4][0].data);{k[7][0].data=kr(s.e.r+1);var D=ms(k[1][0].data),I=_d(D[2][0].data);w=Br.find(d,l[I].location),b=Uo(Vo(w.content));{if(b[0].id!=I)throw"Bad HeaderStorageBucket";var W=ms(b[0].messages[0].data);for(A=0;A<i.length;++A){var H=ms(W[2][0].data);H[1][0].data=kr(A),H[4][0].data=kr(i[A].length),W[2][A]={type:W[2][0].type,data:Vs(H)}}b[0].messages[0].data=Vs(W)}w.content=Lm($m(b)),w.size=w.content.length;var F=_d(k[2][0].data);w=Br.find(d,l[F].location),b=Uo(Vo(w.content));{if(b[0].id!=F)throw"Bad HeaderStorageBucket";for(W=ms(b[0].messages[0].data),_=0;_<=s.e.c;++_)H=ms(W[2][0].data),H[1][0].data=kr(_),H[4][0].data=kr(s.e.r+1),W[2][_]={type:W[2][0].type,data:Vs(H)};b[0].messages[0].data=Vs(W)}w.content=Lm($m(b)),w.size=w.content.length;var T=_d(k[4][0].data);(function(){for(var V=Br.find(d,l[T].location),L=Uo(Vo(V.content)),G,le=0;le<L.length;++le){var fe=L[le];fe.id==T&&(G=fe)}var B=ms(G.messages[0].data);{B[3]=[];var Y=[];o.forEach(function(ue,ge){Y[1]=[{type:0,data:kr(ge)}],Y[2]=[{type:0,data:kr(1)}],Y[3]=[{type:2,data:ttt(ue)}],B[3].push({type:2,data:Vs(Y)})})}G.messages[0].data=Vs(B);var ie=$m(L),we=Lm(ie);V.content=we,V.size=V.content.length})();var P=ms(k[3][0].data);{var M=P[1][0];delete P[2];var O=ms(M.data);{var K=_d(O[2][0].data);(function(){for(var V=Br.find(d,l[K].location),L=Uo(Vo(V.content)),G,le=0;le<L.length;++le){var fe=L[le];fe.id==K&&(G=fe)}var B=ms(G.messages[0].data);{delete B[6],delete P[7];var Y=new Uint8Array(B[5][0].data);B[5]=[];for(var ie=0,we=0;we<=s.e.r;++we){var ue=ms(Y);ie+=att(ue,i[we],o),ue[1][0].data=kr(we),B[5].push({data:Vs(ue),type:2})}B[1]=[{type:0,data:kr(s.e.c+1)}],B[2]=[{type:0,data:kr(s.e.r+1)}],B[3]=[{type:0,data:kr(ie)}],B[4]=[{type:0,data:kr(s.e.r+1)}]}G.messages[0].data=Vs(B);var ge=$m(L),xe=Lm(ge);V.content=xe,V.size=V.content.length})()}M.data=Vs(O)}k[3][0].data=Vs(P)}j[4][0].data=Vs(k)}h.messages[0].data=Vs(j);var ne=$m(m),R=Lm(ne);return f.content=R,f.size=f.content.length,d}function ott(e){return function(r){for(var s=0;s!=e.length;++s){var a=e[s];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function mD(e){ott([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function ltt(e,t){return t.bookType=="ods"?mee(e,t):t.bookType=="numbers"?itt(e,t):t.bookType=="xlsb"?ctt(e,t):dtt(e,t)}function ctt(e,t){ih=1024,e&&!e.SSF&&(e.SSF=gi(Ln)),e&&e.SSF&&(a_(),s_(e.SSF),t.revssf=i_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Hg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",s=YJ.indexOf(t.bookType)>-1,a=_J();mD(t=t||{});var i=Q3(),o="",l=0;if(t.cellXfs=[],zu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",er(i,o,AJ(e.Props,t)),a.coreprops.push(o),Or(t.rels,2,o,yr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,er(i,o,kJ(e.Props)),a.extprops.push(o),Or(t.rels,3,o,yr.EXT_PROPS),e.Custprops!==e.Props&&ta(e.Custprops||{}).length>0&&(o="docProps/custom.xml",er(i,o,TJ(e.Custprops)),a.custprops.push(o),Or(t.rels,4,o,yr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var u={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],m=(f||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,er(i,o,uet(l-1,o,t,e,u)),a.sheets.push(o),Or(t.wbrels,-1,"worksheets/sheet"+l+"."+r,yr.WS[0])}if(f){var h=f["!comments"],x=!1,p="";h&&h.length>0&&(p="xl/comments"+l+"."+r,er(i,p,het(h,p)),a.comments.push(p),Or(u,-1,"../comments"+l+"."+r,yr.CMNT),x=!0),f["!legacy"]&&x&&er(i,"xl/drawings/vmlDrawing"+l+".vml",GJ(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&er(i,CJ(o),Ch(u))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,er(i,o,met(t.Strings,o,t)),a.strs.push(o),Or(t.wbrels,-1,"sharedStrings."+r,yr.SST)),o="xl/workbook."+r,er(i,o,det(e,o)),a.workbooks.push(o),Or(t.rels,1,o,yr.WB),o="xl/theme/theme1.xml",er(i,o,HJ(e.Themes,t)),a.themes.push(o),Or(t.wbrels,-1,"theme/theme1.xml",yr.THEME),o="xl/styles."+r,er(i,o,fet(e,o,t)),a.styles.push(o),Or(t.wbrels,-1,"styles."+r,yr.STY),e.vbaraw&&s&&(o="xl/vbaProject.bin",er(i,o,e.vbaraw),a.vba.push(o),Or(t.wbrels,-1,"vbaProject.bin",yr.VBA)),o="xl/metadata."+r,er(i,o,pet(o)),a.metadata.push(o),Or(t.wbrels,-1,"metadata."+r,yr.XLMETA),er(i,"[Content_Types].xml",SJ(a,t)),er(i,"_rels/.rels",Ch(t.rels)),er(i,"xl/_rels/workbook."+r+".rels",Ch(t.wbrels)),delete t.revssf,delete t.ssf,i}function dtt(e,t){ih=1024,e&&!e.SSF&&(e.SSF=gi(Ln)),e&&e.SSF&&(a_(),s_(e.SSF),t.revssf=i_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Hg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",s=YJ.indexOf(t.bookType)>-1,a=_J();mD(t=t||{});var i=Q3(),o="",l=0;if(t.cellXfs=[],zu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",er(i,o,AJ(e.Props,t)),a.coreprops.push(o),Or(t.rels,2,o,yr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,er(i,o,kJ(e.Props)),a.extprops.push(o),Or(t.rels,3,o,yr.EXT_PROPS),e.Custprops!==e.Props&&ta(e.Custprops||{}).length>0&&(o="docProps/custom.xml",er(i,o,TJ(e.Custprops)),a.custprops.push(o),Or(t.rels,4,o,yr.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],h=(m||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,er(i,o,see(l-1,t,e,f)),a.sheets.push(o),Or(t.wbrels,-1,"worksheets/sheet"+l+"."+r,yr.WS[0])}if(m){var x=m["!comments"],p=!1,g="";if(x&&x.length>0){var j=!1;x.forEach(function(y){y[1].forEach(function(w){w.T==!0&&(j=!0)})}),j&&(g="xl/threadedComments/threadedComment"+l+"."+r,er(i,g,LXe(x,u,t)),a.threadedcomments.push(g),Or(f,-1,"../threadedComments/threadedComment"+l+"."+r,yr.TCMNT)),g="xl/comments"+l+"."+r,er(i,g,KJ(x)),a.comments.push(g),Or(f,-1,"../comments"+l+"."+r,yr.CMNT),p=!0}m["!legacy"]&&p&&er(i,"xl/drawings/vmlDrawing"+l+".vml",GJ(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}f["!id"].rId1&&er(i,CJ(o),Ch(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,er(i,o,LJ(t.Strings,t)),a.strs.push(o),Or(t.wbrels,-1,"sharedStrings."+r,yr.SST)),o="xl/workbook."+r,er(i,o,oee(e)),a.workbooks.push(o),Or(t.rels,1,o,yr.WB),o="xl/theme/theme1.xml",er(i,o,HJ(e.Themes,t)),a.themes.push(o),Or(t.wbrels,-1,"theme/theme1.xml",yr.THEME),o="xl/styles."+r,er(i,o,zJ(e,t)),a.styles.push(o),Or(t.wbrels,-1,"styles."+r,yr.STY),e.vbaraw&&s&&(o="xl/vbaProject.bin",er(i,o,e.vbaraw),a.vba.push(o),Or(t.wbrels,-1,"vbaProject.bin",yr.VBA)),o="xl/metadata."+r,er(i,o,qJ()),a.metadata.push(o),Or(t.wbrels,-1,"metadata."+r,yr.XLMETA),u.length>1&&(o="xl/persons/person.xml",er(i,o,BXe(u)),a.people.push(o),Or(t.wbrels,-1,"persons/person.xml",yr.PEOPLE)),er(i,"[Content_Types].xml",SJ(a,t)),er(i,"_rels/.rels",Ch(t.rels)),er(i,"xl/_rels/workbook."+r+".rels",Ch(t.wbrels)),delete t.revssf,delete t.ssf,i}function utt(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=od(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function hee(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Ey(t.file,Br.write(e,{type:br?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Br.write(e,t)}function ftt(e,t){var r=gi(t||{}),s=ltt(e,r);return mtt(s,r)}function mtt(e,t){var r={},s=br?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=s;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=s;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Br.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(n_(a))}return t.password&&typeof encrypt_agile<"u"?hee(encrypt_agile(a,t.password),t):t.type==="file"?Ey(t.file,a):t.type=="string"?Ug(a):a}function htt(e,t){var r=t||{},s=ket(e,r);return hee(s,r)}function kl(e,t,r){r||(r="");var s=r+e;switch(t.type){case"base64":return vv(jv(s));case"binary":return jv(s);case"string":return e;case"file":return Ey(t.file,s,"utf8");case"buffer":return br?gd(s,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(s):kl(s,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function ptt(e,t){switch(t.type){case"base64":return vv(e);case"binary":return e;case"string":return e;case"file":return Ey(t.file,e,"binary");case"buffer":return br?gd(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Uj(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",s=0;s<e.length;++s)r+=String.fromCharCode(e[s]);return t.type=="base64"?vv(r):t.type=="string"?Ug(r):r;case"file":return Ey(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function pee(e,t){UGe(),ZJe(e);var r=gi(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var s=pee(e,r);return r.type="array",n_(s)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return kl(Aet(e,r),r);case"slk":case"sylk":return kl(YYe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return kl(dee(e.Sheets[e.SheetNames[a]],r),r);case"txt":return ptt(xee(e.Sheets[e.SheetNames[a]],r),r);case"csv":return kl(hD(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return kl(XYe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Uj(KYe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return kl(QYe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return kl(sXe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return kl($J.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return kl(mee(e,r),r);case"wk1":return Uj(i8.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Uj(i8.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Uj(cee(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),htt(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return ftt(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function xtt(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function gtt(e,t,r){var s={};return s.type="file",s.file=t,xtt(s),pee(e,s)}function vtt(e,t,r,s,a,i,o,l){var c=Zs(r),d=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||e[r])for(var h=t.s.c;h<=t.e.c;++h){var x=o?e[r][h]:e[s[h]+c];if(x===void 0||x.t===void 0){if(d===void 0)continue;i[h]!=null&&(m[i[h]]=d);continue}var p=x.v;switch(x.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(i[h]!=null){if(p==null)if(x.t=="e"&&p===null)m[i[h]]=null;else if(d!==void 0)m[i[h]]=d;else if(u&&p===null)m[i[h]]=null;else continue;else m[i[h]]=u&&(x.t!=="n"||x.t==="n"&&l.rawNumbers!==!1)?p:ld(x,p,l);p!=null&&(f=!1)}}return{row:m,isempty:f}}function Yw(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},s=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},u=d.range!=null?d.range:e["!ref"];switch(d.header===1?s=1:d.header==="A"?s=2:Array.isArray(d.header)?s=3:d.header==null&&(s=0),typeof u){case"string":c=ln(u);break;case"number":c=ln(e["!ref"]),c.s.r=u;break;default:c=u}s>0&&(a=0);var f=Zs(c.s.r),m=[],h=[],x=0,p=0,g=Array.isArray(e),j=c.s.r,y=0,w={};g&&!e[j]&&(e[j]=[]);var b=d.skipHidden&&e["!cols"]||[],N=d.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(b[y]||{}).hidden)switch(m[y]=pa(y),r=g?e[j][y]:e[m[y]+f],s){case 1:i[y]=y-c.s.c;break;case 2:i[y]=m[y];break;case 3:i[y]=d.header[y-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=ld(r,null,d),p=w[o]||0,!p)w[o]=1;else{do l=o+"_"+p++;while(w[l]);w[o]=p,w[l]=1}i[y]=l}for(j=c.s.r+a;j<=c.e.r;++j)if(!(N[j]||{}).hidden){var S=vtt(e,c,j,m,s,i,g,d);(S.isempty===!1||(s===1?d.blankrows!==!1:d.blankrows))&&(h[x++]=S.row)}return h.length=x,h}var h8=/"/g;function ytt(e,t,r,s,a,i,o,l){for(var c=!0,d=[],u="",f=Zs(r),m=t.s.c;m<=t.e.c;++m)if(s[m]){var h=l.dense?(e[r]||[])[m]:e[s[m]+f];if(h==null)u="";else if(h.v!=null){c=!1,u=""+(l.rawNumbers&&h.t=="n"?h.v:ld(h,null,l));for(var x=0,p=0;x!==u.length;++x)if((p=u.charCodeAt(x))===a||p===i||p===34||l.forceQuotes){u='"'+u.replace(h8,'""')+'"';break}u=="ID"&&(u='"ID"')}else h.f!=null&&!h.F?(c=!1,u="="+h.f,u.indexOf(",")>=0&&(u='"'+u.replace(h8,'""')+'"')):u="";d.push(u)}return l.blankrows===!1&&c?null:d.join(o)}function hD(e,t){var r=[],s=t??{};if(e==null||e["!ref"]==null)return"";var a=ln(e["!ref"]),i=s.FS!==void 0?s.FS:",",o=i.charCodeAt(0),l=s.RS!==void 0?s.RS:`
`,c=l.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];s.dense=Array.isArray(e);for(var m=s.skipHidden&&e["!cols"]||[],h=s.skipHidden&&e["!rows"]||[],x=a.s.c;x<=a.e.c;++x)(m[x]||{}).hidden||(f[x]=pa(x));for(var p=0,g=a.s.r;g<=a.e.r;++g)(h[g]||{}).hidden||(u=ytt(e,a,g,f,o,c,i,s),u!=null&&(s.strip&&(u=u.replace(d,"")),(u||s.blankrows!==!1)&&r.push((p++?l:"")+u)));return delete s.dense,r.join("")}function xee(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=hD(e,t);return r}function jtt(e){var t="",r,s="";if(e==null||e["!ref"]==null)return[];var a=ln(e["!ref"]),i="",o=[],l,c=[],d=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=pa(l);for(var u=a.s.r;u<=a.e.r;++u)for(i=Zs(u),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=d?(e[u]||[])[l]:e[t],s="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;s=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)s=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)s=""+r.v;else if(r.t=="b")s=r.v?"TRUE":"FALSE";else if(r.w!==void 0)s="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?s="'"+r.v:s=""+r.v}}c[c.length]=t+"="+s}return c}function gee(e,t,r){var s=r||{},a=+!s.skipHeader,i=e||{},o=0,l=0;if(i&&s.origin!=null)if(typeof s.origin=="number")o=s.origin;else{var c=typeof s.origin=="string"?Os(s.origin):s.origin;o=c.r,l=c.c}var d,u={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var f=ln(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(o=f.e.r+1,u.e.r=o+t.length-1+a)}else o==-1&&(o=0,u.e.r=t.length-1+a);var m=s.header||[],h=0;t.forEach(function(p,g){ta(p).forEach(function(j){(h=m.indexOf(j))==-1&&(m[h=m.length]=j);var y=p[j],w="z",b="",N=Mr({c:l+h,r:o+g+a});d=Nv(i,N),y&&typeof y=="object"&&!(y instanceof Date)?i[N]=y:(typeof y=="number"?w="n":typeof y=="boolean"?w="b":typeof y=="string"?w="s":y instanceof Date?(w="d",s.cellDates||(w="n",y=xi(y)),b=s.dateNF||Ln[14]):y===null&&s.nullError&&(w="e",y=0),d?(d.t=w,d.v=y,delete d.w,delete d.R,b&&(d.z=b)):i[N]=d={t:w,v:y},b&&(d.z=b))})}),u.e.c=Math.max(u.e.c,l+m.length-1);var x=Zs(o);if(a)for(h=0;h<m.length;++h)i[pa(h+l)+x]={t:"s",v:m[h]};return i["!ref"]=as(u),i}function btt(e,t){return gee(null,e,t)}function Nv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var s=Os(t);return e[s.r]||(e[s.r]=[]),e[s.r][s.c]||(e[s.r][s.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Nv(e,Mr(t)):Nv(e,Mr({r:t,c:r||0}))}function wtt(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Ntt(){return{SheetNames:[],Sheets:{}}}function _tt(e,t,r,s){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(iee(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Stt(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var s=wtt(e,t);switch(e.Workbook.Sheets[s]||(e.Workbook.Sheets[s]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[s].Hidden=r}function Ctt(e,t){return e.z=t,e}function vee(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Ett(e,t,r){return vee(e,"#"+t,r)}function Att(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Ptt(e,t,r,s){for(var a=typeof t!="string"?t:ln(t),i=typeof t=="string"?t:as(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Nv(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,s&&(c.D=!0))}return e}var _C={encode_col:pa,encode_row:Zs,encode_cell:Mr,encode_range:as,decode_col:nD,decode_row:rD,split_cell:UKe,decode_cell:Os,decode_range:Qi,format_cell:ld,sheet_add_aoa:vJ,sheet_add_json:gee,sheet_add_dom:uee,aoa_to_sheet:gx,json_to_sheet:btt,table_to_sheet:fee,table_to_book:Zet,sheet_to_csv:hD,sheet_to_txt:xee,sheet_to_json:Yw,sheet_to_html:dee,sheet_to_formulae:jtt,sheet_to_row_object_array:Yw,sheet_get_cell:Nv,book_new:Ntt,book_append_sheet:_tt,book_set_sheet_visibility:Stt,cell_set_number_format:Ctt,cell_set_hyperlink:vee,cell_set_internal_link:Ett,cell_add_comment:Att,sheet_set_array_formula:Ptt,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function ktt(){return n.jsx(X,{className:"shadow-sm",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(C,{className:"h-5 w-5 rounded-full"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-20"}),n.jsx(C,{className:"h-8 w-12"})]})]})})}function Ttt(){return n.jsxs(X,{className:"shadow-md",children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-5 w-32"})]})}),n.jsx(Q,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-end justify-between h-[200px] gap-2",children:[60,80,45,90,70,55,85].map((e,t)=>n.jsx("div",{className:"flex-1 flex flex-col justify-end",children:n.jsx(C,{className:"w-full rounded-t-md",style:{height:`${e}%`}})},t))}),n.jsx("div",{className:"flex justify-between",children:[...Array(7)].map((e,t)=>n.jsx(C,{className:"h-3 w-12"},t))})]})})]})}function Ott(){return n.jsxs(X,{className:"shadow-md",children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-5 w-40"})]})}),n.jsx(Q,{className:"flex items-center justify-center",children:n.jsxs("div",{className:"relative",children:[n.jsx(C,{className:"h-40 w-40 rounded-full"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"h-20 w-20 rounded-full bg-background"})})]})})]})}function Dtt(){return n.jsx(X,{className:"shadow-md",children:n.jsx(Q,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[n.jsx(C,{className:"flex-1 h-10 rounded-md"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-10 w-[140px] rounded-md"}),n.jsx(C,{className:"h-10 w-[140px] rounded-md"}),n.jsx(C,{className:"h-10 w-[120px] rounded-md"})]})]})})})})}function Itt(){return n.jsxs("div",{className:"flex-1 min-w-[300px]",children:[n.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded-full"}),n.jsx(C,{className:"h-5 w-32"})]}),n.jsx(C,{className:"h-6 w-8 rounded-full"})]}),n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>n.jsx(X,{className:"shadow-sm",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx(C,{className:"h-4 w-24 rounded-full"}),n.jsx(C,{className:"h-4 w-16 rounded-full"})]}),n.jsx(C,{className:"h-5 w-full"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-full"}),n.jsx(C,{className:"h-3 w-4/5"})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-3 w-20"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-4 w-12"}),n.jsx(C,{className:"h-4 w-12"})]})]})]})})},t))})]})}function Rtt(){return n.jsxs("div",{className:"flex items-center gap-4 p-4 border-b",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-10 w-10 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(C,{className:"h-4 w-full max-w-md"}),n.jsx(C,{className:"h-3 w-3/4 max-w-sm"})]}),n.jsx(C,{className:"h-6 w-20 rounded-full"}),n.jsx(C,{className:"h-6 w-16 rounded-full"}),n.jsx(C,{className:"h-6 w-24 rounded-full"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"})]})]})}function Mtt(){return n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx(C,{className:"h-4 w-24 rounded-full"}),n.jsx(C,{className:"h-4 w-16 rounded-full"})]}),n.jsx(C,{className:"h-32 w-full rounded-lg"}),n.jsx(C,{className:"h-5 w-full"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-full"}),n.jsx(C,{className:"h-3 w-4/5"})]}),n.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-3 w-24"})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx(C,{className:"h-9 flex-1 rounded"}),n.jsx(C,{className:"h-9 w-9 rounded"})]})]})})})}function Ftt({viewMode:e="kanban"}){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-11 w-36 rounded-md"}),n.jsx(C,{className:"h-11 w-32 rounded-md"})]}),n.jsx(C,{className:"h-10 w-24 rounded-md"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[...Array(8)].map((t,r)=>n.jsx(ktt,{},r))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(Ttt,{}),n.jsx(Ott,{})]}),n.jsx(Dtt,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-10 w-64 rounded-md"}),n.jsx(C,{className:"h-9 w-32 rounded-md"})]}),e==="kanban"&&n.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:[...Array(4)].map((t,r)=>n.jsx(Itt,{},r))}),e==="table"&&n.jsx(X,{className:"shadow-md",children:n.jsx(Q,{className:"p-0",children:n.jsxs("div",{className:"space-y-0",children:[n.jsxs("div",{className:"flex items-center gap-4 p-4 border-b bg-muted/50",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-32 flex-1"}),n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-4 w-20"})]}),[...Array(5)].map((t,r)=>n.jsx(Rtt,{},r))]})})}),e==="grid"&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[...Array(8)].map((t,r)=>n.jsx(Mtt,{},r))})]})}const $tt=()=>{var De;const e=mr(),{apartments:t,products:r,vendors:s,updateIssue:a}=Ll(),[i,o]=v.useState([]),[l,c]=v.useState(!0);v.useEffect(()=>{(async()=>{c(!0);try{const Ie=await Kn.getIssues({page_size:100});o(Ie.results||[])}catch(Ie){console.error("Failed to fetch issues:",Ie),Ue.error("Failed to load issues")}finally{c(!1)}})()},[]);const d=i,[u,f]=v.useState("kanban"),[m,h]=v.useState(""),[x,p]=v.useState("All"),[g,j]=v.useState("All"),[y,w]=v.useState("All"),[b,N]=v.useState("All"),[S,_]=v.useState("All"),[E,A]=v.useState("All"),[k,D]=v.useState(!1),[I,W]=v.useState(null),[H,F]=v.useState(!1),[T,P]=v.useState(!1),[M,O]=v.useState(null),[K,ne]=v.useState(!1),R=v.useMemo(()=>{const de={};return d.forEach((Ie,it)=>{de[Ie.id]=["Critical","High","Medium","Low"][it%4]}),de},[d]),V=["Admin","Barbara Kovcs","Maria Weber","Unassigned"],L=de=>{const Ie=t.find(it=>it.id===de);return(Ie==null?void 0:Ie.name)||"Unknown"},G=de=>{const Ie={Critical:"bg-danger/10 text-danger border-danger/20",High:"bg-warning/10 text-warning border-warning/20",Medium:"bg-primary/10 text-primary border-primary/20",Low:"bg-muted text-muted-foreground border-border"};return Ie[de]||Ie.Low},le=de=>{const Ie={Open:"bg-danger/10 text-danger border-danger/20","Pending Vendor Response":"bg-warning/10 text-warning border-warning/20","Resolution Agreed":"bg-primary/10 text-primary border-primary/20",Closed:"bg-success/10 text-success border-success/20"};return Ie[de]||Ie.Open},fe=de=>{switch(de){case"Broken/Damaged":return n.jsx(At,{className:"h-4 w-4"});case"Wrong Item/Color":return n.jsx(Ul,{className:"h-4 w-4"});case"Missing Parts":return n.jsx(ot,{className:"h-4 w-4"});case"Incorrect Quantity":return n.jsx(ci,{className:"h-4 w-4"});default:return n.jsx(At,{className:"h-4 w-4"})}},B=v.useMemo(()=>d.filter(de=>{var On,Vr,Pr,jt;const Ie=((On=de.apartment_details)==null?void 0:On.name)||de.apartment_name||L(de.apartment),it=de.display_product_name||de.product_name||((Vr=de.product_details)==null?void 0:Vr.product)||"",wt=de.vendor_name||((Pr=de.vendor_details)==null?void 0:Pr.name)||de.vendor||"",Qe=de.priority||R[de.id],ye=it.toLowerCase().includes(m.toLowerCase())||de.description.toLowerCase().includes(m.toLowerCase())||wt.toLowerCase().includes(m.toLowerCase())||Ie.toLowerCase().includes(m.toLowerCase()),qe=x==="All"||de.status===x,Pt=g==="All"||((jt=de.type)==null?void 0:jt.includes(g)),Ct=y==="All"||Qe===y,vr=b==="All"||de.apartment===b,qr=S==="All"||de.vendor===S||wt===S;return ye&&qe&&Pt&&Ct&&vr&&qr}),[d,m,x,g,y,b,S,R]),Y=v.useMemo(()=>{const de=B.length,Ie=B.filter(Ct=>Ct.status==="Open").length,it=B.filter(Ct=>Ct.status==="Pending Vendor Response").length,wt=B.filter(Ct=>Ct.status==="Resolution Agreed").length,Qe=B.filter(Ct=>Ct.status==="Closed").length,ye=B.filter(Ct=>(Ct.priority||R[Ct.id])==="Critical").length,qe=B.filter(Ct=>Ct.ai_activated).length;return{total:de,open:Ie,pending:it,resolved:wt,closed:Qe,critical:ye,withAI:qe,avgResolutionDays:5.2}},[B,R]),ie=v.useMemo(()=>{const de={Open:[],"Pending Vendor Response":[],"Resolution Agreed":[],Closed:[]};return B.forEach(Ie=>{de[Ie.status]&&de[Ie.status].push(Ie)}),de},[B]),we=v.useMemo(()=>{const de=[];for(let Ie=6;Ie>=0;Ie--){const it=Ac(new Date,Ie);de.push({date:Xt(it,"MMM dd"),reported:Math.floor(Math.random()*5)+1,resolved:Math.floor(Math.random()*4)})}return de},[]),ue=v.useMemo(()=>{const de=["Broken/Damaged","Wrong Item/Color","Missing Parts","Incorrect Quantity"];return de.map(Ie=>({name:Ie,value:B.filter(it=>it.type===Ie).length,color:["hsl(var(--danger))","hsl(var(--warning))","hsl(var(--primary))","hsl(var(--success))"][de.indexOf(Ie)]})).filter(Ie=>Ie.value>0)},[B]),ge=Array.from(new Set(d.map(de=>{var Ie;return de.vendor_name||((Ie=de.vendor_details)==null?void 0:Ie.name)||de.vendor}))).filter(Boolean).sort(),xe=()=>{h(""),p("All"),j("All"),w("All"),N("All"),_("All"),A("All")},Se=[m,x!=="All",g!=="All",y!=="All",b!=="All",S!=="All",E!=="All"].filter(Boolean).length,Me=de=>{e(`/issues/${de.id}`)},ke=(de,Ie)=>{de.stopPropagation(),e(`/issues/${Ie.id}/edit`)},se=(de,Ie)=>{de.stopPropagation(),O(Ie),P(!0)},he=async()=>{var de,Ie;if(M){ne(!0);try{await Kn.deleteIssue(M.id),Ue.success("Issue deleted successfully");const it=await Kn.getIssues({});o(it.results||[])}catch(it){Ue.error(((Ie=(de=it.response)==null?void 0:de.data)==null?void 0:Ie.message)||"Failed to delete issue")}finally{ne(!1),P(!1),O(null)}}},ce=()=>{try{const de=B.map(ye=>{var qe,Pt,Ct,vr,qr;return{"Issue ID":ye.id,Product:ye.display_product_name||ye.product_name||((qe=ye.product_details)==null?void 0:qe.product)||"Unknown",Type:ye.type,Priority:ye.priority||R[ye.id],Status:ye.status,Apartment:((Pt=ye.apartment_details)==null?void 0:Pt.name)||ye.apartment_name||L(ye.apartment),Vendor:ye.vendor_name||((Ct=ye.vendor_details)==null?void 0:Ct.name)||ye.vendor,Description:ye.description,"Reported Date":ye.reported_on?Xt(new Date(ye.reported_on),"yyyy-MM-dd"):"Unknown","Days Open":ye.reported_on?hj(new Date,new Date(ye.reported_on)):0,"AI Active":ye.ai_activated?"Yes":"No",Photos:((vr=ye.photos)==null?void 0:vr.length)||0,Communications:((qr=ye.ai_communication_log)==null?void 0:qr.length)||0}}),Ie=_C.json_to_sheet(de),it=[{wch:15},{wch:30},{wch:20},{wch:10},{wch:20},{wch:20},{wch:20},{wch:40},{wch:12},{wch:10},{wch:10},{wch:8},{wch:15}];Ie["!cols"]=it;const wt=_C.book_new();_C.book_append_sheet(wt,Ie,"Issues");const Qe=`Issues_Report_${Xt(new Date,"yyyy-MM-dd_HHmmss")}.xlsx`;gtt(wt,Qe),Ue.success("Export Complete",{description:`Downloaded ${B.length} issues to ${Qe}`})}catch{Ue.error("Export Failed",{description:"Failed to generate the export file"})}},je=()=>{if(B.length===0){Ue.error("No issues to email");return}e("/issues/bulk-email",{state:{selectedIssues:B}})},$e=v.useCallback(async de=>{const{destination:Ie,source:it,draggableId:wt}=de;if(!Ie||Ie.droppableId===it.droppableId&&Ie.index===it.index)return;const Qe=Ie.droppableId,ye=wt,qe=B.find(Pt=>Pt.id===ye);if(qe&&qe.status!==Qe)try{Ue.loading(`Moving issue to ${Qe}...`,{id:"drag-status"}),await Kn.updateIssue(ye,{status:Qe});const Pt=await Kn.getIssues();o(Pt.results||[]),Ue.success(`Issue moved to ${Qe}`,{id:"drag-status"})}catch(Pt){console.error("Failed to update issue status:",Pt),Ue.error("Failed to update issue status",{id:"drag-status"})}},[B]);return l?n.jsx(ct,{title:"Issues Management",children:n.jsx(Ftt,{viewMode:u})}):n.jsxs(ct,{title:"Issues Management",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ee,{size:"lg",className:"h-11 shadow-lg hover:shadow-xl transition-shadow",onClick:()=>e("/issues/new"),children:[n.jsx(Qn,{className:"h-5 w-5 mr-2"}),"Report Issue"]}),n.jsxs(ee,{variant:"outline",size:"lg",className:"h-11 shadow-sm hover:shadow-md transition-shadow",onClick:je,children:[n.jsx(gn,{className:"h-4 w-4 mr-2"}),"Bulk Email"]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(ee,{variant:"outline",onClick:ce,className:"shadow-sm hover:shadow-md transition-shadow",children:[n.jsx(Rv,{className:"h-4 w-4 mr-2"}),"Export"]})})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(d7,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Total Issues"}),n.jsx("p",{className:"text-2xl font-bold",children:Y.total})]})]})}),n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(At,{className:"h-5 w-5 text-danger"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Open"}),n.jsx("p",{className:"text-2xl font-bold text-danger",children:Y.open})]})]})}),n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(wr,{className:"h-5 w-5 text-warning"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold text-warning",children:Y.pending})]})]})}),n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(Ub,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Resolved"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:Y.resolved})]})]})}),n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(or,{className:"h-5 w-5 text-success"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Closed"}),n.jsx("p",{className:"text-2xl font-bold text-success",children:Y.closed})]})]})}),n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(d0,{className:"h-5 w-5 text-danger"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Critical"}),n.jsx("p",{className:"text-2xl font-bold text-danger",children:Y.critical})]})]})}),n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow  bg-gradient-to-br from-primary/5 to-transparent",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(Oa,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"AI Active"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:Y.withAI})]})]})}),n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(Dse,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Avg Resolution"}),n.jsxs("p",{className:"text-2xl font-bold",children:[Y.avgResolutionDays,"d"]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(X,{className:"shadow-md ",children:[n.jsx(be,{children:n.jsxs(Ve,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(li,{className:"h-5 w-5 text-primary"}),"Issues Trend"]})}),n.jsx(Q,{children:n.jsx(dn,{width:"100%",height:250,children:n.jsxs(V2,{data:we,children:[n.jsx(zn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(rn,{dataKey:"date",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(nn,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(hr,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),n.jsx(ol,{}),n.jsx(sc,{type:"monotone",dataKey:"reported",stroke:"hsl(var(--danger))",strokeWidth:2,name:"Reported"}),n.jsx(sc,{type:"monotone",dataKey:"resolved",stroke:"hsl(var(--success))",strokeWidth:2,name:"Resolved"})]})})})]}),n.jsxs(X,{className:"shadow-md ",children:[n.jsx(be,{children:n.jsxs(Ve,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(ot,{className:"h-5 w-5 text-primary"}),"Issue Types Distribution"]})}),n.jsx(Q,{children:n.jsx(dn,{width:"100%",height:250,children:n.jsxs(Fg,{children:[n.jsx(Vi,{data:ue,cx:"50%",cy:"50%",labelLine:!1,label:({name:de,percent:Ie})=>`${de.split("/")[0]}: ${(Ie*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:ue.map((de,Ie)=>n.jsx(Ca,{fill:de.color},`cell-${Ie}`))}),n.jsx(hr,{})]})})})]})]}),n.jsx(X,{className:"shadow-md",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search issues by product, description, vendor, or apartment...",value:m,onChange:de=>h(de.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"flex gap-2 flex-wrap lg:flex-nowrap",children:[n.jsxs(tt,{value:x,onValueChange:p,children:[n.jsx(Je,{className:"w-full sm:w-[140px]",children:n.jsx(rt,{placeholder:"Status"})}),n.jsxs(et,{children:[n.jsx(J,{value:"All",children:"All Status"}),n.jsx(J,{value:"Open",children:"Open"}),n.jsx(J,{value:"Pending Vendor Response",children:"Pending"}),n.jsx(J,{value:"Resolution Agreed",children:"Resolved"}),n.jsx(J,{value:"Closed",children:"Closed"})]})]}),n.jsxs(tt,{value:g,onValueChange:j,children:[n.jsx(Je,{className:"w-full sm:w-[140px]",children:n.jsx(rt,{placeholder:"Type"})}),n.jsxs(et,{children:[n.jsx(J,{value:"All",children:"All Types"}),n.jsx(J,{value:"Broken/Damaged",children:"Damaged"}),n.jsx(J,{value:"Wrong Item/Color",children:"Wrong Item"}),n.jsx(J,{value:"Missing Parts",children:"Missing"}),n.jsx(J,{value:"Incorrect Quantity",children:"Quantity"})]})]}),n.jsxs(ee,{variant:k?"default":"outline",onClick:()=>D(!k),className:"relative",children:[n.jsx(Mv,{className:"h-4 w-4 mr-2"}),"Filters",Se>0&&n.jsx(_e,{className:"ml-2 h-5 w-5 p-0 flex items-center justify-center bg-primary-foreground text-primary",children:Se}),k?n.jsx(gN,{className:"h-4 w-4 ml-2"}):n.jsx(Ou,{className:"h-4 w-4 ml-2"})]})]})]}),k&&n.jsxs("div",{className:"pt-4 border-t space-y-4 animate-slide-down",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-sm font-semibold",children:"Advanced Filters"}),Se>0&&n.jsxs(ee,{variant:"ghost",size:"sm",onClick:xe,className:"h-8 text-xs",children:[n.jsx(ps,{className:"h-3 w-3 mr-1"}),"Clear All"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Priority"}),n.jsxs(tt,{value:y,onValueChange:w,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"All Priorities"})}),n.jsxs(et,{children:[n.jsx(J,{value:"All",children:"All Priorities"}),n.jsx(J,{value:"Critical",children:"Critical"}),n.jsx(J,{value:"High",children:"High"}),n.jsx(J,{value:"Medium",children:"Medium"}),n.jsx(J,{value:"Low",children:"Low"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Apartment"}),n.jsxs(tt,{value:b,onValueChange:N,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"All Apartments"})}),n.jsxs(et,{children:[n.jsx(J,{value:"All",children:"All Apartments"}),t.map(de=>n.jsx(J,{value:de.id,children:de.name},de.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Vendor"}),n.jsxs(tt,{value:S,onValueChange:_,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"All Vendors"})}),n.jsxs(et,{children:[n.jsx(J,{value:"All",children:"All Vendors"}),ge.map(de=>n.jsx(J,{value:de,children:de},de))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Assigned To"}),n.jsxs(tt,{value:E,onValueChange:A,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"All Assignees"})}),n.jsxs(et,{children:[n.jsx(J,{value:"All",children:"All Assignees"}),V.map(de=>n.jsx(J,{value:de,children:de},de))]})]})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",n.jsx("span",{className:"font-semibold text-foreground",children:B.length})," of"," ",n.jsx("span",{className:"font-semibold text-foreground",children:d.length})," issues"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ee,{variant:u==="kanban"?"default":"ghost",size:"sm",onClick:()=>f("kanban"),children:n.jsx(yse,{className:"h-4 w-4"})}),n.jsx(ee,{variant:u==="table"?"default":"ghost",size:"sm",onClick:()=>f("table"),children:n.jsx(bse,{className:"h-4 w-4"})}),n.jsx(ee,{variant:u==="grid"?"default":"ghost",size:"sm",onClick:()=>f("grid"),children:n.jsx(gse,{className:"h-4 w-4"})})]})]})]})})}),u==="kanban"&&n.jsx(Zqe,{onDragEnd:$e,children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("div",{className:"flex gap-4 pb-4",style:{minWidth:"min-content"},children:Object.entries(ie).map(([de,Ie])=>n.jsx("div",{className:"flex-shrink-0 w-96",children:n.jsxs(X,{className:"h-full",children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ve,{className:"text-base font-semibold",children:de}),n.jsx(_e,{className:le(de),children:Ie.length})]})}),n.jsx($Ge,{droppableId:de,children:(it,wt)=>n.jsxs(Q,{ref:it.innerRef,...it.droppableProps,className:ve("space-y-3 max-h-[600px] overflow-y-auto min-h-[100px] transition-colors",wt.isDraggingOver&&"bg-primary/5 border-2 border-dashed border-primary/30 rounded-lg"),children:[Ie.map((Qe,ye)=>{const qe=Qe.priority||R[Qe.id],Pt=Qe.reported_on?hj(new Date,new Date(Qe.reported_on)):0;return n.jsx(gGe,{draggableId:Qe.id,index:ye,children:(Ct,vr)=>n.jsx(X,{ref:Ct.innerRef,...Ct.draggableProps,...Ct.dragHandleProps,className:ve("hover:shadow-md transition-all cursor-grab border-l-4",vr.isDragging&&"shadow-xl rotate-2 cursor-grabbing ring-2 ring-primary"),style:{...Ct.draggableProps.style,borderLeftColor:qe==="Critical"?"hsl(var(--danger))":qe==="High"?"hsl(var(--warning))":"hsl(var(--border))"},onClick:()=>!vr.isDragging&&Me(Qe),children:n.jsx(Q,{className:"p-3 space-y-2",children:(()=>{var Tt,tr,Un,ds,Ga,yd;const qr=Qe.items||[],On=qr.length||Qe.items_count||0,Vr=On>0?qr.slice(0,4):[],Pr=Math.max(0,On-4),jt=((Tt=qr[0])==null?void 0:Tt.product_image)||((tr=Qe.order_item_details)==null?void 0:tr.product_image)||((Un=Qe.product_details)==null?void 0:Un.product_image);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[fe(Qe.type),n.jsx("span",{className:"font-semibold text-sm truncate",children:Qe.display_product_name||Qe.product_name||((ds=Qe.product_details)==null?void 0:ds.product)||"Unknown"})]}),n.jsx(_e,{className:G(qe),variant:"outline",children:qe})]}),n.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:Qe.description}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(_e,{variant:"outline",className:"text-xs",children:((Ga=Qe.apartment_details)==null?void 0:Ga.name)||Qe.apartment_name||L(Qe.apartment)}),n.jsx(_e,{variant:"outline",className:"text-xs",children:Qe.vendor_name||((yd=Qe.vendor_details)==null?void 0:yd.name)||Qe.vendor}),Qe.ai_activated&&n.jsxs(_e,{className:"text-xs bg-primary/10 text-primary border-primary/20",children:[n.jsx(Oa,{className:"h-3 w-3 mr-1"}),"AI"]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[n.jsx(wr,{className:"h-3 w-3"}),Pt,"d ago"]}),n.jsxs("div",{className:"flex items-center gap-0.5",children:[n.jsx("button",{onClick:no=>ke(no,Qe),className:"p-1 rounded hover:bg-muted transition-colors",title:"Edit Issue",children:n.jsx(Qs,{className:"h-3 w-3 text-muted-foreground hover:text-primary"})}),n.jsx("button",{onClick:no=>se(no,Qe),className:"p-1 rounded hover:bg-destructive/10 transition-colors",title:"Delete Issue",children:n.jsx(hn,{className:"h-3 w-3 text-muted-foreground hover:text-destructive"})})]})]}),n.jsx("div",{className:"flex items-center -space-x-2",children:On>0?n.jsxs(n.Fragment,{children:[Vr.map((no,_m)=>n.jsx("div",{className:"relative",style:{zIndex:10-_m},children:no.product_image?n.jsx("img",{src:no.product_image,alt:no.product_name||"Product",className:"w-7 h-7 rounded-full object-cover border-2 border-background shadow-sm"}):n.jsx("div",{className:"w-7 h-7 rounded-full bg-muted flex items-center justify-center border-2 border-background shadow-sm",children:n.jsx(ot,{className:"h-3 w-3 text-muted-foreground"})})},no.id||_m)),Pr>0&&n.jsxs("div",{className:"w-7 h-7 rounded-full bg-primary/10 flex items-center justify-center border-2 border-background shadow-sm text-[10px] font-semibold text-primary",style:{zIndex:1},children:["+",Pr]})]}):jt?n.jsx("img",{src:jt,alt:Qe.display_product_name||"Product",className:"w-7 h-7 rounded-full object-cover border-2 border-background shadow-sm"}):n.jsx("div",{className:"w-7 h-7 rounded-full bg-muted flex items-center justify-center border-2 border-background shadow-sm",children:n.jsx(ot,{className:"h-3 w-3 text-muted-foreground"})})})]})]})})()})})},Qe.id)}),it.placeholder,Ie.length===0&&!wt.isDraggingOver&&n.jsxs("div",{className:"text-center py-12 text-sm text-muted-foreground",children:[n.jsx(ot,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/30"}),"No issues"]}),Ie.length===0&&wt.isDraggingOver&&n.jsxs("div",{className:"text-center py-8 text-sm text-primary",children:[n.jsx(ot,{className:"h-10 w-10 mx-auto mb-2 text-primary/50"}),"Drop here to move to ",de]})]})})]})},de))})})}),u==="table"&&n.jsx(X,{children:n.jsx(Q,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Vt,{className:"bg-muted/50",children:[n.jsx(Pe,{className:"font-semibold",children:"Issue"}),n.jsx(Pe,{className:"font-semibold",children:"Product"}),n.jsx(Pe,{className:"font-semibold",children:"Type"}),n.jsx(Pe,{className:"font-semibold",children:"Priority"}),n.jsx(Pe,{className:"font-semibold",children:"Status"}),n.jsx(Pe,{className:"font-semibold",children:"Apartment"}),n.jsx(Pe,{className:"font-semibold",children:"Vendor"}),n.jsx(Pe,{className:"font-semibold",children:"Reported"}),n.jsx(Pe,{className:"font-semibold",children:"AI"}),n.jsx(Pe,{className:"font-semibold text-center",children:"Actions"})]})}),n.jsx($s,{children:B.length===0?n.jsx(Vt,{children:n.jsxs(Ne,{colSpan:10,className:"text-center py-12 text-muted-foreground",children:[n.jsx(At,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/30"}),n.jsx("p",{children:"No issues found"})]})}):B.map(de=>{var wt,Qe,ye;const Ie=de.priority||R[de.id],it=de.reported_on?hj(new Date,new Date(de.reported_on)):0;return n.jsxs(Vt,{className:"hover:bg-muted/50",children:[n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[fe(de.type),n.jsxs("span",{className:"font-mono text-xs text-muted-foreground",children:["#",de.id.slice(-6)]})]})}),n.jsx(Ne,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:de.display_product_name||de.product_name||((wt=de.product_details)==null?void 0:wt.product)||"Unknown"}),n.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:de.description})]})}),n.jsx(Ne,{children:n.jsx(_e,{variant:"outline",className:"text-xs",children:de.type})}),n.jsx(Ne,{children:n.jsx(_e,{className:G(Ie),variant:"outline",children:Ie})}),n.jsx(Ne,{children:n.jsx(_e,{className:le(de.status),children:de.status})}),n.jsx(Ne,{children:n.jsx("span",{className:"text-sm",children:((Qe=de.apartment_details)==null?void 0:Qe.name)||de.apartment_name||L(de.apartment)})}),n.jsx(Ne,{children:n.jsx("span",{className:"text-sm",children:de.vendor_name||((ye=de.vendor_details)==null?void 0:ye.name)||de.vendor})}),n.jsx(Ne,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{children:de.reported_on?Xt(new Date(de.reported_on),"MMM dd, yyyy"):"Unknown"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[it,"d ago"]})]})}),n.jsx(Ne,{children:de.ai_activated?n.jsxs("div",{className:"flex items-center gap-1 text-primary",children:[n.jsx(Oa,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs",children:"Active"})]}):n.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),n.jsx(Ne,{className:"text-center",children:n.jsxs("div",{className:"flex items-center justify-center gap-1",children:[n.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>Me(de),title:"View",children:n.jsx(oi,{className:"h-4 w-4"})}),n.jsx(ee,{variant:"ghost",size:"sm",onClick:qe=>ke(qe,de),title:"Edit",children:n.jsx(Qs,{className:"h-4 w-4"})}),n.jsx(ee,{variant:"ghost",size:"sm",onClick:qe=>se(qe,de),title:"Delete",className:"hover:text-destructive",children:n.jsx(hn,{className:"h-4 w-4"})})]})})]},de.id)})})]})})})}),u==="grid"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[B.map(de=>{var wt,Qe,ye;const Ie=de.priority||R[de.id],it=de.reported_on?hj(new Date,new Date(de.reported_on)):0;return n.jsx(X,{className:"hover:shadow-lg transition-all cursor-pointer",onClick:()=>Me(de),children:n.jsxs(Q,{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[fe(de.type),n.jsx(_e,{className:G(Ie),variant:"outline",children:Ie})]}),n.jsx(_e,{className:le(de.status),children:de.status})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-1",children:de.display_product_name||de.product_name||((wt=de.product_details)==null?void 0:wt.product)||"Unknown"}),n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:de.description})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(_e,{variant:"outline",className:"text-xs",children:((Qe=de.apartment_details)==null?void 0:Qe.name)||de.apartment_name||L(de.apartment)}),n.jsx(_e,{variant:"outline",className:"text-xs",children:de.vendor_name||((ye=de.vendor_details)==null?void 0:ye.name)||de.vendor}),de.ai_activated&&n.jsxs(_e,{className:"text-xs bg-primary/10 text-primary border-primary/20",children:[n.jsx(Oa,{className:"h-3 w-3 mr-1"}),"AI Active"]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(wr,{className:"h-3 w-3"}),it," days ago"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:qe=>ke(qe,de),className:"p-1.5 rounded hover:bg-muted transition-colors",title:"Edit Issue",children:n.jsx(Qs,{className:"h-3.5 w-3.5 text-muted-foreground hover:text-primary"})}),n.jsx("button",{onClick:qe=>se(qe,de),className:"p-1.5 rounded hover:bg-destructive/10 transition-colors",title:"Delete Issue",children:n.jsx(hn,{className:"h-3.5 w-3.5 text-muted-foreground hover:text-destructive"})})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[de.photos&&de.photos.length>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(qi,{className:"h-3 w-3"}),de.photos.length]}),de.aiCommunicationLog&&de.aiCommunicationLog.length>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(lu,{className:"h-3 w-3"}),de.aiCommunicationLog.length]})]})]})]})},de.id)}),B.length===0&&n.jsxs("div",{className:"col-span-full text-center py-12 text-muted-foreground",children:[n.jsx(At,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/30"}),n.jsx("p",{children:"No issues found"})]})]})]}),I&&n.jsx(SQ,{product:I,open:H,onOpenChange:F}),n.jsx(uc,{open:T,onOpenChange:P,children:n.jsxs(yl,{className:"sm:max-w-md",children:[n.jsx(jl,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(hn,{className:"h-6 w-6 text-destructive"})}),n.jsxs("div",{children:[n.jsx(wl,{className:"text-lg",children:"Delete Issue"}),n.jsx(Nl,{className:"text-sm",children:"This action cannot be undone."})]})]})}),M&&n.jsx("div",{className:"py-4",children:n.jsxs("div",{className:"rounded-lg border bg-muted/50 p-4",children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:M.display_product_name||M.product_name||M.type||"Issue"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:[(De=M.description)==null?void 0:De.slice(0,100),M.description&&M.description.length>100?"...":""]})]})}),n.jsxs(bl,{children:[n.jsx(Sl,{disabled:K,children:"Cancel"}),n.jsx(_l,{onClick:he,disabled:K,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:K?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(hn,{className:"h-4 w-4 mr-2"}),"Delete Issue"]})})]})]})})]})},Ltt=()=>{var fe;const e=mr(),{data:t,isLoading:r}=o3(),{data:s,isLoading:a}=vm(),i=(t==null?void 0:t.results)||[],o=(s==null?void 0:s.results)||[],[l,c]=v.useState([]),[d,u]=v.useState(!1),[f,m]=v.useState(null),[h,x]=v.useState(null),[p,g]=v.useState(!1),[j,y]=v.useState(!1),[w,b]=v.useState(1),[N,S]=v.useState(null);v.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[w]);const[_,E]=v.useState({}),[A,k]=v.useState({orderId:"",apartmentId:"all",vendorId:"all",priority:"",impact:"",expectedResolution:"",replacementEta:"",resolutionType:"",resolutionNotes:"",deliveryDate:"",invoiceNumber:"",trackingNumber:"",aiActivated:!1,autoNotifyVendor:!0,photos:[]}),[D,I]=v.useState(""),W=["Other (Custom)","Broken/Damaged","Wrong Item/Color","Missing Parts","Incorrect Quantity","Poor Quality","Late Delivery","Installation Issue","Warranty Claim","Defective Product","Packaging Damage","Wrong Size/Dimensions","Expired Product","Missing Documentation","Safety Hazard"],H=[{value:"Critical",label:"Critical",color:"bg-red-500/10 text-red-600 border-red-200"},{value:"High",label:"High",color:"bg-orange-500/10 text-orange-600 border-orange-200"},{value:"Medium",label:"Medium",color:"bg-yellow-500/10 text-yellow-600 border-yellow-200"},{value:"Low",label:"Low",color:"bg-green-500/10 text-green-600 border-green-200"}],F=["Blocking Progress","Delaying Project","Partial Impact","Minor Inconvenience","No Impact"],T=["Full Replacement","Partial Replacement","Repair","Refund","Credit Note","Exchange","Other"];v.useEffect(()=>{(async()=>{u(!0);try{const ie=(await ys.getOrders({})).results||[],we=["delivered","received","in_transit","Delivered","Received","In Transit"],ue=ie.filter(ge=>we.includes(ge.status)||ge.is_delivered);c(ue.length>0?ue:ie)}catch{c([])}finally{u(!1)}})()},[]),v.useEffect(()=>{if(!A.orderId){m(null),x(null),E({}),S(null);return}g(!0),ys.getOrder(A.orderId).then(async B=>{var ie;if(m(B),k(we=>({...we,apartmentId:B.apartment||we.apartmentId,vendorId:B.vendor||we.vendorId,trackingNumber:B.tracking_number||""})),B.vendor)try{const we=await Fo.getVendor(B.vendor);x(we)}catch{x(null)}const Y={};(ie=B.items)==null||ie.forEach(we=>{const ue=we.id||we.product||`item-${Math.random()}`;Y[ue]={issueQuantity:we.quantity,issueTypes:[],customIssueType:"",description:""}}),E(Y),b(2)}).catch(()=>Ue.error("Failed to load order")).finally(()=>g(!1))},[A.orderId]);const P=B=>{S(Y=>Y===B?null:B)},M=(B,Y,ie)=>{E(we=>({...we,[B]:{...we[B],[Y]:ie}}))},O=B=>{const Y=_[B];return Y&&Y.issueTypes.length>0&&Y.description.trim().length>0},K=()=>Object.entries(_).filter(([B,Y])=>Y.issueTypes.length>0&&Y.description.trim().length>0).map(([B,Y])=>{var we;const ie=(we=f==null?void 0:f.items)==null?void 0:we.find(ue=>(ue.id||ue.product)===B);return{itemKey:B,productId:ie==null?void 0:ie.product,...Y,item:ie}}),ne=async B=>{var ie,we,ue,ge,xe,Se;B.preventDefault();const Y=K();if(!A.orderId||Y.length===0||!A.priority){Ue.error("Please complete all required fields");return}y(!0);try{const Me=Y.map(he=>{var je;const ce=he.issueTypes.join(", ");return{order_item:he.itemKey,product:he.productId||null,product_name:((je=he.item)==null?void 0:je.product_name)||"",quantity_affected:he.issueQuantity,issue_types:ce,description:he.description}}),ke=[...new Set(Y.flatMap(he=>he.issueTypes))].join(", "),se=Y.map(he=>{var ce,je;return`[${((ce=he.item)==null?void 0:ce.product_name)||"Product"}] ${he.description} (Qty: ${he.issueQuantity}/${((je=he.item)==null?void 0:je.quantity)||0})`}).join(`

`);await Kn.createIssue({apartment:A.apartmentId,vendor:A.vendorId,order:A.orderId,product:((ie=Y[0])==null?void 0:ie.productId)||null,order_item:((we=Y[0])==null?void 0:we.itemKey)||null,product_name:Y.length===1?((ge=(ue=Y[0])==null?void 0:ue.item)==null?void 0:ge.product_name)||"":`${Y.length} Products`,type:ke,description:`Order: ${f==null?void 0:f.po_number}

${se}`,priority:A.priority,expected_resolution:A.expectedResolution||void 0,vendor_contact:(h==null?void 0:h.contact_person)||void 0,impact:A.impact||void 0,replacement_eta:A.replacementEta||void 0,ai_activated:A.aiActivated,resolution_status:"Open",resolution_type:A.resolutionType||void 0,resolution_notes:A.resolutionNotes||void 0,delivery_date:A.deliveryDate||void 0,invoice_number:A.invoiceNumber||void 0,tracking_number:A.trackingNumber||void 0,auto_notify_vendor:A.autoNotifyVendor,items_data:Me}),Ue.success(`Issue reported with ${Y.length} product(s)`),e("/issues")}catch(Me){Ue.error(((Se=(xe=Me.response)==null?void 0:xe.data)==null?void 0:Se.message)||"Failed to report issue")}finally{y(!1)}},R=B=>{const Y=Array.from(B.target.files||[]);if(Y.length+A.photos.length>10){Ue.error("Maximum 10 photos allowed");return}k(ie=>({...ie,photos:[...ie.photos,...Y]}))},V=!!f,L=K(),G=L.length>0,le=l.filter(B=>{var Y,ie,we;if(D){const ue=D.toLowerCase(),ge=(Y=B.po_number)==null?void 0:Y.toLowerCase().includes(ue),xe=(ie=B.apartment_name)==null?void 0:ie.toLowerCase().includes(ue),Se=(we=B.vendor_name)==null?void 0:we.toLowerCase().includes(ue);if(!ge&&!xe&&!Se)return!1}return!(A.apartmentId&&A.apartmentId!=="all"&&B.apartment!==A.apartmentId||A.vendorId&&A.vendorId!=="all"&&B.vendor!==A.vendorId)});return n.jsx(ct,{title:"Report New Issue",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>e("/issues"),className:"hover:bg-muted",children:n.jsx(sr,{className:"h-5 w-5"})}),n.jsx("div",{className:"flex-1",children:n.jsx(Ua,{children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(es,{href:"/issues",className:"text-muted-foreground hover:text-foreground",children:"Issues"})}),n.jsx(An,{}),n.jsx(rr,{children:n.jsx(ji,{className:"font-medium",children:"Report New Issue"})})]})})})]}),n.jsx(X,{className:"border-none shadow-sm",children:n.jsx(Q,{className:"py-5",children:n.jsx("div",{className:"flex items-center justify-center gap-4",children:[{n:1,l:"Select Order"},{n:2,l:"Select Products"},{n:3,l:"Issue Details"}].map((B,Y)=>n.jsxs(z.Fragment,{children:[n.jsxs("div",{className:`flex items-center gap-2 ${w>=B.n?"text-primary":"text-muted-foreground"}`,children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium border-2 ${w>=B.n?"bg-primary text-primary-foreground border-primary":"bg-muted border-muted-foreground/30"}`,children:w>B.n?n.jsx(or,{className:"h-5 w-5"}):B.n}),n.jsx("span",{className:"font-medium hidden sm:inline",children:B.l})]}),Y<2&&n.jsx("div",{className:`w-16 h-0.5 ${w>B.n?"bg-primary":"bg-muted"}`})]},B.n))})})}),n.jsxs("form",{onSubmit:ne,children:[w===1&&n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsxs(Ve,{children:[n.jsx(kn,{className:"h-5 w-5 inline mr-2"}),"Step 1: Select Order"]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Search for an order by PO number, or filter by apartment/vendor to narrow down your search"})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx(me,{placeholder:"Search by PO number, apartment, or vendor...",value:D,onChange:B=>I(B.target.value),className:"h-10",disabled:d})}),r?n.jsx(C,{className:"h-10 w-full sm:w-[200px]"}):n.jsxs(tt,{value:A.apartmentId,onValueChange:B=>k(Y=>({...Y,apartmentId:B})),children:[n.jsx(Je,{className:"w-full sm:w-[200px]",children:n.jsx(rt,{placeholder:"All apartments"})}),n.jsxs(et,{children:[n.jsx(J,{value:"all",children:"All apartments"}),i.map(B=>n.jsx(J,{value:B.id,children:B.name},B.id))]})]}),a?n.jsx(C,{className:"h-10 w-full sm:w-[200px]"}):n.jsxs(tt,{value:A.vendorId,onValueChange:B=>k(Y=>({...Y,vendorId:B})),children:[n.jsx(Je,{className:"w-full sm:w-[200px]",children:n.jsx(rt,{placeholder:"All vendors"})}),n.jsxs(et,{children:[n.jsx(J,{value:"all",children:"All vendors"}),o.map(B=>n.jsx(J,{value:B.id,children:B.name},B.id))]})]}),(D||A.apartmentId&&A.apartmentId!=="all"||A.vendorId&&A.vendorId!=="all")&&n.jsx(ee,{type:"button",variant:"ghost",size:"icon",onClick:()=>{I(""),k(B=>({...B,apartmentId:"all",vendorId:"all"}))},title:"Clear all filters",children:n.jsx(ps,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("p",{className:"text-xs text-muted-foreground",children:d?"Loading orders...":`${le.length} order(s)`})}),n.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto pr-2",children:d?n.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(B=>n.jsx(X,{className:"animate-pulse",children:n.jsxs(Q,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[n.jsx(C,{className:"h-5 w-24"}),n.jsx(C,{className:"h-5 w-16"})]}),n.jsx(C,{className:"h-4 w-4 rounded-full"})]}),n.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[n.jsx(C,{className:"h-3 w-28"}),n.jsx(C,{className:"h-3 w-32"}),n.jsx(C,{className:"h-3 w-12"}),n.jsx(C,{className:"h-3 w-16"})]})]})},B))}):le.length===0?n.jsx(X,{className:"border-dashed",children:n.jsxs(Q,{className:"p-8 text-center",children:[n.jsx(kn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),n.jsx("p",{className:"text-muted-foreground",children:D||A.apartmentId!=="all"||A.vendorId!=="all"?"No orders match your search/filters":"No orders found"})]})}):le.map(B=>n.jsx(X,{className:ve("cursor-pointer transition-all hover:shadow-sm",A.orderId===B.id?"ring-2 ring-primary border-primary bg-primary/5":"hover:border-primary/50"),onClick:()=>{k(Y=>({...Y,orderId:B.id}))},children:n.jsxs(Q,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("h4",{className:"font-semibold text-base",children:B.po_number}),n.jsx(_e,{variant:"outline",className:"text-xs",children:B.status})]}),A.orderId===B.id&&n.jsx(or,{className:"h-4 w-4 text-primary flex-shrink-0"})]}),n.jsxs("div",{className:"flex items-center gap-4 mt-1.5 text-xs text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1 truncate",children:[n.jsx(fr,{className:"h-3 w-3 flex-shrink-0"}),B.apartment_name]}),n.jsxs("span",{className:"flex items-center gap-1 truncate",children:[n.jsx(La,{className:"h-3 w-3 flex-shrink-0"}),B.vendor_name]}),n.jsxs("span",{className:"flex items-center gap-1 flex-shrink-0",children:[n.jsx(ot,{className:"h-3 w-3"}),B.items_count]}),n.jsxs("span",{className:"font-medium text-foreground flex-shrink-0",children:["",Number(B.total).toFixed(2)]})]})]})},B.id))}),p&&n.jsx("div",{className:"space-y-3 mt-4",children:n.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Bt,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{children:"Loading order details..."})]})}),n.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>e("/issues"),children:"Cancel"}),n.jsxs(ee,{type:"button",onClick:()=>{b(2),window.scrollTo({top:0,behavior:"smooth"})},disabled:!V,children:["Next",n.jsx(Lb,{className:"h-4 w-4 ml-2"})]})]})]})]}),w===2&&!f&&p&&n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2 flex-1",children:[n.jsx(C,{className:"h-6 w-48"}),n.jsx(C,{className:"h-4 w-64"})]}),n.jsx(C,{className:"h-6 w-16"})]})}),n.jsxs(Q,{className:"space-y-3",children:[n.jsx(C,{className:"h-4 w-full"}),n.jsx("div",{className:"space-y-2",children:[1,2,3].map(B=>n.jsx("div",{className:"border rounded-lg p-2 animate-pulse",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"w-12 h-12 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-4 w-16"})]}),n.jsx(C,{className:"h-3 w-24"})]}),n.jsx(C,{className:"h-5 w-5 rounded-full"})]})},B))}),n.jsxs("div",{className:"flex justify-between pt-4",children:[n.jsx(C,{className:"h-10 w-24"}),n.jsx(C,{className:"h-10 w-32"})]})]})]}),w===2&&f&&n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Ve,{className:"text-lg font-semibold",children:"Select Products with Issues"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[f.po_number,"  ",f.vendor_name,"  ",((fe=f.items)==null?void 0:fe.length)||0," items"]})]}),n.jsxs(_e,{variant:L.length>0?"default":"outline",className:"text-xs",children:[L.length," ready"]})]})}),n.jsxs(Q,{className:"space-y-3",children:[n.jsx("p",{className:"text-xs text-muted-foreground border-l-2 border-primary pl-2",children:"Click products to report issues. Fill in the form to include them in your report."}),n.jsx("div",{className:"space-y-2 max-h-[550px] overflow-y-auto pr-1",children:!f.items||f.items.length===0?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(B=>n.jsx("div",{className:"border rounded-lg p-2 animate-pulse",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"w-12 h-12 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-4 w-16"})]}),n.jsx(C,{className:"h-3 w-24"})]}),n.jsx(C,{className:"h-5 w-5 rounded-full"})]})},B))}):f.items.map(B=>{const Y=B.id||B.product||`item-${Math.random()}`,ie=N===Y,we=_[Y],ue=O(Y);return n.jsxs("div",{className:ve("border rounded-lg overflow-hidden transition-all",ie&&"ring-1 ring-primary border-primary",ue&&!ie&&"border-green-500 bg-green-50/30 dark:bg-green-950/10"),children:[n.jsx("div",{className:ve("p-2 cursor-pointer hover:bg-muted/30 transition-colors",ie&&"bg-muted/50"),onClick:()=>P(Y),children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative flex-shrink-0",children:[B.product_image?n.jsx("img",{src:B.product_image,alt:B.product_name||"Product",className:"w-12 h-12 rounded object-cover border"}):n.jsx("div",{className:"w-12 h-12 rounded flex items-center justify-center border bg-muted",children:n.jsx(ot,{className:"h-5 w-5 text-muted-foreground"})}),ue&&n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:n.jsx(or,{className:"h-2.5 w-2.5 text-white"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("h4",{className:"font-semibold text-sm truncate",children:B.product_name||"Unknown Product"}),n.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[n.jsx(_e,{variant:"outline",className:"text-xs px-1.5 py-0",children:B.quantity}),n.jsxs("span",{className:"text-xs font-semibold",children:["",Number(B.total_price).toFixed(2)]})]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-0.5",children:[n.jsxs("span",{className:"text-xs text-muted-foreground truncate",children:[B.sku||"N/A","  ",Number(B.unit_price).toFixed(2)]}),!ie&&ue&&we&&n.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[we.issueTypes.slice(0,2).map(ge=>n.jsx(_e,{variant:"secondary",className:"text-[10px] px-1 py-0",children:ge},ge)),we.issueTypes.length>2&&n.jsxs(_e,{variant:"secondary",className:"text-[10px] px-1 py-0",children:["+",we.issueTypes.length-2]})]})]})]}),n.jsx("div",{className:"flex-shrink-0",children:ie?n.jsx(gN,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(Ou,{className:"h-4 w-4 text-muted-foreground"})})]})}),ie&&we&&n.jsx("div",{className:"p-3 pt-0 border-t bg-gradient-to-b from-muted/20 to-muted/40 animate-in slide-in-from-top-2 duration-300",children:n.jsxs("div",{className:"space-y-3 pt-3",children:[n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background border border-border/50 hover:border-primary/50 transition-all duration-200 hover:shadow-md",children:[n.jsxs(q,{htmlFor:`qty-${Y}`,className:"flex items-center gap-1.5 text-xs font-semibold",children:[n.jsx(jse,{className:"h-3.5 w-3.5 text-primary"}),"Quantity Affected *"]}),n.jsx(me,{id:`qty-${Y}`,type:"number",min:1,max:B.quantity,value:we.issueQuantity,onChange:ge=>M(Y,"issueQuantity",parseInt(ge.target.value)||1),className:"h-9 bg-background border-border/50 focus:border-primary focus:ring-1 focus:ring-primary transition-all"},`qty-${Y}`),n.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Out of ",B.quantity," ordered"]})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background border border-border/50 hover:border-primary/50 transition-all duration-200 hover:shadow-md",children:[n.jsxs(q,{className:"flex items-center gap-1.5 text-xs font-semibold",children:[n.jsx(ci,{className:"h-3.5 w-3.5 text-orange-500"}),"Issue Type(s) *"]}),n.jsx(HX,{options:W,value:we.issueTypes,onChange:ge=>M(Y,"issueTypes",ge),placeholder:"Select issue types",allowCustom:!0,customPlaceholder:"Enter your custom issue type..."},`types-${Y}`)]})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background border border-border/50 hover:border-primary/50 transition-all duration-200 hover:shadow-md",children:[n.jsxs(q,{htmlFor:`desc-${Y}`,className:"flex items-center gap-1.5 text-xs font-semibold",children:[n.jsx(kn,{className:"h-3.5 w-3.5 text-primary"}),"Issue Description *"]}),n.jsxs("div",{className:"relative",children:[n.jsx(pn,{id:`desc-${Y}`,value:we.description,onChange:ge=>M(Y,"description",ge.target.value),placeholder:"Describe the issue in detail. Include any relevant information such as when you noticed the issue, specific damage locations, etc.",rows:3,className:"bg-background border-0 focus:ring-0 focus:outline-none transition-all resize-none text-sm pr-10"},`desc-${Y}`),n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(t3,{text:we.description,onTextEnhanced:ge=>M(Y,"description",ge),variant:"ghost",size:"sm"})})]}),n.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[we.description.length," characters"]})]}),n.jsx("div",{className:ve("p-2.5 rounded-lg flex items-center gap-2 text-xs font-medium border transition-all duration-300",ue?"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-950/30 dark:to-green-900/30 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800 shadow-sm animate-in fade-in zoom-in duration-300":"bg-gradient-to-r from-yellow-50 to-yellow-100 dark:from-yellow-950/30 dark:to-yellow-900/30 text-yellow-700 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800"),children:ue?n.jsxs(n.Fragment,{children:[n.jsx(or,{className:"h-3.5 w-3.5 animate-in zoom-in duration-300"}),"Issue details complete - will be included in report"]}):n.jsxs(n.Fragment,{children:[n.jsx(At,{className:"h-4 w-4"}),"Please fill in issue type(s) and description to include this product"]})})]})})]},Y)})}),n.jsxs("div",{className:"flex justify-between pt-4",children:[n.jsxs(ee,{type:"button",variant:"outline",onClick:()=>{k(B=>({...B,apartmentId:"all",vendorId:"all"})),b(1),window.scrollTo({top:0,behavior:"smooth"})},children:[n.jsx(sr,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>e("/issues"),children:"Cancel"}),n.jsxs(ee,{type:"button",onClick:()=>{b(3),window.scrollTo({top:0,behavior:"smooth"})},disabled:!G,children:["Next: Issue Details",n.jsx(Lb,{className:"h-4 w-4 ml-2"})]})]})]})]})]}),w===3&&!f&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[n.jsxs(X,{className:"animate-pulse",children:[n.jsx(be,{children:n.jsx(C,{className:"h-6 w-48"})}),n.jsxs(Q,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full"})]})]})]}),n.jsxs(X,{className:"animate-pulse",children:[n.jsx(be,{children:n.jsx(C,{className:"h-6 w-40"})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-24 w-full"})]})]})]})]}),n.jsx("div",{className:"space-y-6",children:n.jsxs(X,{className:"animate-pulse",children:[n.jsx(be,{children:n.jsx(C,{className:"h-6 w-36"})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsx(C,{className:"h-20 w-full rounded-lg"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-full"}),n.jsx(C,{className:"h-4 w-3/4"})]})]})]})})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"h-10 w-24"}),n.jsx(C,{className:"h-10 w-32"})]})]}),w===3&&f&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{children:[n.jsx(ci,{className:"h-5 w-5 inline mr-2"}),"Priority & Impact"]})}),n.jsxs(Q,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Priority *"}),n.jsxs(tt,{value:A.priority,onValueChange:B=>k(Y=>({...Y,priority:B})),children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select priority"})}),n.jsx(et,{children:H.map(B=>n.jsx(J,{value:B.value,children:n.jsx(_e,{className:B.color,children:B.label})},B.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Impact"}),n.jsxs(tt,{value:A.impact,onValueChange:B=>k(Y=>({...Y,impact:B})),children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select impact"})}),n.jsx(et,{children:F.map(B=>n.jsx(J,{value:B,children:B},B))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{children:[n.jsx(Qr,{className:"h-4 w-4 inline mr-1"}),"Expected Resolution"]}),n.jsx(me,{type:"date",value:A.expectedResolution,onChange:B=>k(Y=>({...Y,expectedResolution:B.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{children:[n.jsx(_r,{className:"h-4 w-4 inline mr-1"}),"Replacement ETA"]}),n.jsx(me,{type:"date",value:A.replacementEta,onChange:B=>k(Y=>({...Y,replacementEta:B.target.value}))})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{children:[n.jsx(or,{className:"h-5 w-5 inline mr-2"}),"Resolution"]})}),n.jsxs(Q,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Resolution Type"}),n.jsxs(tt,{value:A.resolutionType,onValueChange:B=>k(Y=>({...Y,resolutionType:B})),children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select type"})}),n.jsx(et,{children:T.map(B=>n.jsx(J,{value:B,children:B},B))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Notes"}),n.jsx(me,{value:A.resolutionNotes,onChange:B=>k(Y=>({...Y,resolutionNotes:B.target.value}))})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{children:[n.jsx(Gi,{className:"h-5 w-5 inline mr-2"}),"Photos"]})}),n.jsxs(Q,{children:[n.jsxs(ee,{type:"button",variant:"outline",onClick:()=>{var B;return(B=document.getElementById("photos"))==null?void 0:B.click()},children:[n.jsx(Gi,{className:"h-4 w-4 mr-2"}),"Upload (max 10)"]}),n.jsx("input",{id:"photos",type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:R}),A.photos.length>0&&n.jsx("div",{className:"grid grid-cols-3 gap-2 mt-4",children:A.photos.map((B,Y)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:URL.createObjectURL(B),className:"w-full h-20 object-cover rounded"}),n.jsx("button",{type:"button",onClick:()=>k(ie=>({...ie,photos:ie.photos.filter((we,ue)=>ue!==Y)})),className:"absolute -top-2 -right-2 bg-destructive text-white rounded-full p-1",children:n.jsx(ps,{className:"h-3 w-3"})})]},Y))})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(So,{id:"ai",checked:A.aiActivated,onCheckedChange:B=>k(Y=>({...Y,aiActivated:B}))}),n.jsx(q,{htmlFor:"ai",children:"Enable AI-assisted communication"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(So,{id:"notify",checked:A.autoNotifyVendor,onCheckedChange:B=>k(Y=>({...Y,autoNotifyVendor:B}))}),n.jsx(q,{htmlFor:"notify",children:"Auto-notify vendor"})]})]})]}),n.jsxs("div",{className:"space-y-6 lg:col-span-1",children:[h&&n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{children:[n.jsx(os,{className:"h-5 w-5 inline mr-2"}),"Vendor Contact"]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Contact Person"}),n.jsx("div",{className:"p-2 bg-muted rounded-md text-sm",children:h.contact_person||"Not specified"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{children:[n.jsx(gn,{className:"h-4 w-4 inline mr-1"}),"Email"]}),n.jsx("div",{className:"p-2 bg-muted rounded-md text-sm",children:h.email||"Not specified"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{children:[n.jsx(To,{className:"h-4 w-4 inline mr-1"}),"Phone"]}),n.jsx("div",{className:"p-2 bg-muted rounded-md text-sm",children:h.phone||"Not specified"})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{children:[n.jsx(x7,{className:"h-5 w-5 inline mr-2"}),"Additional Info"]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Delivery Date"}),n.jsx(me,{type:"date",value:A.deliveryDate,onChange:B=>k(Y=>({...Y,deliveryDate:B.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Invoice #"}),n.jsx(me,{value:A.invoiceNumber,onChange:B=>k(Y=>({...Y,invoiceNumber:B.target.value}))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{children:["Tracking # ",n.jsx("span",{className:"text-xs text-muted-foreground",children:"(from Order)"})]}),n.jsx(me,{value:A.trackingNumber||(f==null?void 0:f.tracking_number)||"",readOnly:!0,disabled:!0,className:"bg-muted cursor-not-allowed",placeholder:"Auto-filled from order"})]})]})]})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(ee,{type:"button",variant:"outline",onClick:()=>{b(2),window.scrollTo({top:0,behavior:"smooth"})},children:[n.jsx(sr,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>e("/issues"),children:"Cancel"}),n.jsx(ee,{type:"submit",disabled:j,children:j?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):`Report ${L.length} Issue(s)`})]})]})]})]})]})})};var pD="Collapsible",[Btt,yee]=ra(pD),[Utt,xD]=Btt(pD),jee=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:s,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c=!1,d]=$a({prop:s,defaultProp:a,onChange:o});return n.jsx(Utt,{scope:r,disabled:i,contentId:di(),open:c,onOpenToggle:v.useCallback(()=>d(u=>!u),[d]),children:n.jsx(ft.div,{"data-state":vD(c),"data-disabled":i?"":void 0,...l,ref:t})})});jee.displayName=pD;var bee="CollapsibleTrigger",wee=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,...s}=e,a=xD(bee,r);return n.jsx(ft.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":vD(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:t,onClick:He(e.onClick,a.onOpenToggle)})});wee.displayName=bee;var gD="CollapsibleContent",Nee=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=xD(gD,e.__scopeCollapsible);return n.jsx(ls,{present:r||a.open,children:({present:i})=>n.jsx(Vtt,{...s,ref:t,present:i})})});Nee.displayName=gD;var Vtt=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:s,children:a,...i}=e,o=xD(gD,r),[l,c]=v.useState(s),d=v.useRef(null),u=Ft(t,d),f=v.useRef(0),m=f.current,h=v.useRef(0),x=h.current,p=o.open||l,g=v.useRef(p),j=v.useRef();return v.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),is(()=>{const y=d.current;if(y){j.current=j.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();f.current=w.height,h.current=w.width,g.current||(y.style.transitionDuration=j.current.transitionDuration,y.style.animationName=j.current.animationName),c(s)}},[o.open,s]),n.jsx(ft.div,{"data-state":vD(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:p&&a})});function vD(e){return e?"open":"closed"}var ztt=jee,Wtt=wee,Htt=Nee,vd="Accordion",qtt=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[yD,Gtt,Ktt]=Dv(vd),[u_,Knt]=ra(vd,[Ktt,yee]),jD=yee(),_ee=z.forwardRef((e,t)=>{const{type:r,...s}=e,a=s,i=s;return n.jsx(yD.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?n.jsx(Ztt,{...i,ref:t}):n.jsx(Qtt,{...a,ref:t})})});_ee.displayName=vd;var[See,Ytt]=u_(vd),[Cee,Xtt]=u_(vd,{collapsible:!1}),Qtt=z.forwardRef((e,t)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=$a({prop:r,defaultProp:s,onChange:a});return n.jsx(See,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:z.useCallback(()=>i&&c(""),[i,c]),children:n.jsx(Cee,{scope:e.__scopeAccordion,collapsible:i,children:n.jsx(Eee,{...o,ref:t})})})}),Ztt=z.forwardRef((e,t)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},...i}=e,[o=[],l]=$a({prop:r,defaultProp:s,onChange:a}),c=z.useCallback(u=>l((f=[])=>[...f,u]),[l]),d=z.useCallback(u=>l((f=[])=>f.filter(m=>m!==u)),[l]);return n.jsx(See,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:n.jsx(Cee,{scope:e.__scopeAccordion,collapsible:!0,children:n.jsx(Eee,{...i,ref:t})})})}),[Jtt,f_]=u_(vd),Eee=z.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:s,dir:a,orientation:i="vertical",...o}=e,l=z.useRef(null),c=Ft(l,t),d=Gtt(r),f=dm(a)==="ltr",m=He(e.onKeyDown,h=>{var E;if(!qtt.includes(h.key))return;const x=h.target,p=d().filter(A=>{var k;return!((k=A.ref.current)!=null&&k.disabled)}),g=p.findIndex(A=>A.ref.current===x),j=p.length;if(g===-1)return;h.preventDefault();let y=g;const w=0,b=j-1,N=()=>{y=g+1,y>b&&(y=w)},S=()=>{y=g-1,y<w&&(y=b)};switch(h.key){case"Home":y=w;break;case"End":y=b;break;case"ArrowRight":i==="horizontal"&&(f?N():S());break;case"ArrowDown":i==="vertical"&&N();break;case"ArrowLeft":i==="horizontal"&&(f?S():N());break;case"ArrowUp":i==="vertical"&&S();break}const _=y%j;(E=p[_].ref.current)==null||E.focus()});return n.jsx(Jtt,{scope:r,disabled:s,direction:a,orientation:i,children:n.jsx(yD.Slot,{scope:r,children:n.jsx(ft.div,{...o,"data-orientation":i,ref:c,onKeyDown:s?void 0:m})})})}),Xw="AccordionItem",[ert,bD]=u_(Xw),Aee=z.forwardRef((e,t)=>{const{__scopeAccordion:r,value:s,...a}=e,i=f_(Xw,r),o=Ytt(Xw,r),l=jD(r),c=di(),d=s&&o.value.includes(s)||!1,u=i.disabled||e.disabled;return n.jsx(ert,{scope:r,open:d,disabled:u,triggerId:c,children:n.jsx(ztt,{"data-orientation":i.orientation,"data-state":Iee(d),...l,...a,ref:t,disabled:u,open:d,onOpenChange:f=>{f?o.onItemOpen(s):o.onItemClose(s)}})})});Aee.displayName=Xw;var Pee="AccordionHeader",kee=z.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=f_(vd,r),i=bD(Pee,r);return n.jsx(ft.h3,{"data-orientation":a.orientation,"data-state":Iee(i.open),"data-disabled":i.disabled?"":void 0,...s,ref:t})});kee.displayName=Pee;var NP="AccordionTrigger",Tee=z.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=f_(vd,r),i=bD(NP,r),o=Xtt(NP,r),l=jD(r);return n.jsx(yD.ItemSlot,{scope:r,children:n.jsx(Wtt,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...s,ref:t})})});Tee.displayName=NP;var Oee="AccordionContent",Dee=z.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=f_(vd,r),i=bD(Oee,r),o=jD(r);return n.jsx(Htt,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Dee.displayName=Oee;function Iee(e){return e?"open":"closed"}var trt=_ee,rrt=Aee,nrt=kee,Ree=Tee,Mee=Dee;const srt=trt,Fee=v.forwardRef(({className:e,...t},r)=>n.jsx(rrt,{ref:r,className:ve("border-b",e),...t}));Fee.displayName="AccordionItem";const $ee=v.forwardRef(({className:e,children:t,...r},s)=>n.jsx(nrt,{className:"flex",children:n.jsxs(Ree,{ref:s,className:ve("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,n.jsx(Ou,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));$ee.displayName=Ree.displayName;const Lee=v.forwardRef(({className:e,children:t,...r},s)=>n.jsx(Mee,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:n.jsx("div",{className:ve("pb-4 pt-0",e),children:t})}));Lee.displayName=Mee.displayName;function art({issue:e,onUpdateIssue:t}){const[r,s]=v.useState(""),[a,i]=v.useState(!1),[o,l]=v.useState([]),[c,d]=v.useState(!0),u=x=>{const p=(x||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`);if(!p.trim())return{main:"",quoted:""};const g=[],j=p.search(/\nOn\s.+\swrote:\s*\n/i);j!==-1&&g.push({idx:j});const y=p.search(/\nFrom:\s.+\nSent:\s.+\nTo:\s.+\nSubject:\s.+\n/i);y!==-1&&g.push({idx:y});const w=p.search(/\n>\s?/);if(w!==-1&&g.push({idx:w}),g.length===0)return{main:p.trim(),quoted:""};const b=Math.min(...g.map(_=>_.idx)),N=p.slice(0,b).trim(),S=p.slice(b).trim();return{main:N,quoted:S}};v.useEffect(()=>{let x=!1,p;const g=async j=>{try{j&&d(!0);const y=await Kn.getConversation(e.id);x||l(y.conversation||[])}catch(y){j&&(console.error("Failed to fetch conversation:",y),Ue.error("Failed to load conversation"))}finally{j&&!x&&d(!1)}};return g(!0),p=window.setInterval(()=>{g(!1)},8e3),()=>{x=!0,p&&window.clearInterval(p)}},[e.id]);const f=async()=>{var x,p,g;if(r.trim()){i(!0);try{await Kn.sendManualMessage(e.id,{subject:`Re: Issue #${e.id}`,message:r,to_email:((x=e.vendor_details)==null?void 0:x.email)||""});const j=await Kn.getConversation(e.id);l(j.conversation||[]),s(""),Ue.success("Message sent to vendor successfully")}catch(j){console.error("Failed to send message:",j),Ue.error(((g=(p=j.response)==null?void 0:p.data)==null?void 0:g.message)||"Failed to send message to vendor")}finally{i(!1)}}},h=(()=>{const x=o||[],p=x.filter(y=>y.sender==="AI").length,g=x.filter(y=>y.sender==="Vendor").length,j=x.filter(y=>y.sender==="System"||y.sender==="Admin").length;return{total:x.length,aiMessages:p,vendorMessages:g,systemMessages:j}})();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(X,{children:n.jsxs(Q,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(lu,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-2xl font-bold",children:h.total})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Total Messages"})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Oa,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-2xl font-bold",children:h.aiMessages})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"AI Messages"})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(os,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-2xl font-bold",children:h.vendorMessages})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Vendor Replies"})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(At,{className:"h-4 w-4 text-warning"}),n.jsx("span",{className:"text-2xl font-bold",children:h.systemMessages})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"System Notes"})]})})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(lu,{className:"h-5 w-5"}),"Communication Log"]}),n.jsx(Dr,{children:e.ai_activated?"AI is actively managing this conversation with the vendor":"Manual conversation tracking"})]}),e.ai_activated&&n.jsxs(_e,{variant:"default",className:"gap-1",children:[n.jsx(Cc,{className:"h-3 w-3"}),"AI Active"]})]})}),n.jsxs(Q,{children:[c?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Bt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsx(ud,{className:"h-[500px] pr-4",children:n.jsxs("div",{className:"space-y-4",children:[o&&o.length>0?o.map((x,p)=>{const g=x.message.toLowerCase().includes("please arrange")||x.message.toLowerCase().includes("action required")||x.message.toLowerCase().includes("human action");return n.jsxs("div",{className:ve("flex gap-3 p-4 rounded-lg border transition-all",x.sender==="AI"&&"bg-primary/5 border-primary/20",x.sender==="Vendor"&&"bg-muted border-border",x.sender==="System"&&"bg-accent/50 border-accent",g&&"border-2 border-warning shadow-md"),children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:n.jsx("div",{className:ve("w-8 h-8 rounded-full flex items-center justify-center",x.sender==="AI"&&"bg-primary text-primary-foreground",x.sender==="Vendor"&&"bg-muted-foreground text-background",x.sender==="System"&&"bg-warning text-warning-foreground"),children:x.sender==="AI"?n.jsx(Oa,{className:"h-4 w-4"}):x.sender==="Vendor"?n.jsx(os,{className:"h-4 w-4"}):n.jsx(At,{className:"h-4 w-4"})})}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(_e,{variant:x.sender==="AI"?"default":"outline",className:ve("text-xs",g&&"bg-warning text-warning-foreground"),children:x.sender}),g&&n.jsxs(_e,{variant:"outline",className:"text-xs bg-warning/10 text-warning border-warning/50",children:[n.jsx(At,{className:"h-3 w-3 mr-1"}),"Action Required"]}),x.message_type==="email"&&n.jsx(_e,{variant:"outline",className:"text-xs",children:"Email"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(x.timestamp).toLocaleString()})]}),x.subject&&n.jsx("p",{className:"text-sm font-semibold text-foreground",children:x.subject}),(()=>{const j=x.message_type==="email"||!!x.subject,{main:y,quoted:w}=j?u(x.message):{main:x.message,quoted:""};return n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:ve("text-sm whitespace-pre-wrap leading-relaxed",g&&"font-medium"),children:y}),w&&n.jsx(srt,{type:"single",collapsible:!0,children:n.jsxs(Fee,{value:"quoted",children:[n.jsx($ee,{className:"py-2 text-xs text-muted-foreground hover:no-underline",children:"Replied to previous email"}),n.jsx(Lee,{children:n.jsx("div",{className:"text-xs text-muted-foreground whitespace-pre-wrap leading-relaxed",children:w})})]})})]})})()]})]},p)}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx(lu,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No messages yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Start by adding a message below"})]}),a&&n.jsxs("div",{className:"flex gap-3 p-4 rounded-lg border bg-primary/5 border-primary/20",children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-primary text-primary-foreground",children:n.jsx(Oa,{className:"h-4 w-4 animate-pulse"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(_e,{variant:"default",className:"text-xs mb-2",children:"AI"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"AI is processing..."})]})]})]})}),n.jsxs("div",{className:"flex gap-2 mt-4",children:[n.jsx(me,{placeholder:"Add a message to the log...",value:r,onChange:x=>s(x.target.value),onKeyPress:x=>x.key==="Enter"&&f()}),n.jsx(ee,{onClick:f,size:"icon",children:n.jsx(y7,{className:"h-4 w-4"})})]})]})]})]})}function irt({photos:e,onAddPhoto:t}){const[r,s]=v.useState(null),a=i=>{var l;const o=(l=i.target.files)==null?void 0:l[0];if(o){const c=new FileReader;c.onloadend=()=>{t({id:`photo-${Date.now()}`,url:c.result,uploadedAt:new Date().toISOString()})},c.readAsDataURL(o)}};return n.jsxs(n.Fragment,{children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(qi,{className:"h-5 w-5"}),"Issue Photos"]}),n.jsx(Dr,{children:"Visual documentation of the issue"})]}),n.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>{var i;return(i=document.getElementById("photo-upload"))==null?void 0:i.click()},children:[n.jsx(Gi,{className:"h-4 w-4 mr-2"}),"Upload Photo"]}),n.jsx("input",{id:"photo-upload",type:"file",accept:"image/*",className:"hidden",onChange:a})]})}),n.jsx(Q,{children:e.length>0?n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(i=>n.jsxs("div",{className:"relative group aspect-square rounded-lg overflow-hidden border cursor-pointer hover:shadow-lg transition-all",onClick:()=>s(i.url),children:[n.jsx("img",{src:i.url,alt:"Issue photo",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all flex items-center justify-center",children:n.jsx(Mse,{className:"h-6 w-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},i.id))}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center border-2 border-dashed rounded-lg",children:[n.jsx(qi,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"No photos uploaded yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Upload photos to document the issue"}),n.jsxs(ee,{variant:"outline",onClick:()=>{var i;return(i=document.getElementById("photo-upload"))==null?void 0:i.click()},children:[n.jsx(Gi,{className:"h-4 w-4 mr-2"}),"Upload First Photo"]})]})})]}),n.jsx(vn,{open:!!r,onOpenChange:()=>s(null),children:n.jsxs(on,{className:"max-w-4xl",children:[n.jsx(yn,{children:n.jsx(jn,{children:"Photo Preview"})}),r&&n.jsx("img",{src:r,alt:"Full size preview",className:"w-full h-auto rounded-lg"})]})})]})}function ort({issue:e,product:t}){const r=[{id:1,timestamp:e.reportedOn,icon:At,title:"Issue Reported",description:`${e.type} issue reported for ${t.product}`,color:"text-destructive"},...t.orderedOn?[{id:2,timestamp:t.orderedOn,icon:ot,title:"Product Ordered",description:`Order placed with ${e.vendor}`,color:"text-primary"}]:[],...t.actualDeliveryDate?[{id:3,timestamp:t.actualDeliveryDate,icon:_r,title:"Product Delivered",description:"Product delivered to location",color:"text-primary"}]:[],...e.aiActivated?[{id:4,timestamp:e.reportedOn,icon:lu,title:"AI Chatbot Activated",description:"AI started vendor communication",color:"text-primary"}]:[],...e.aiCommunicationLog&&e.aiCommunicationLog.length>0?e.aiCommunicationLog.map((s,a)=>({id:100+a,timestamp:s.timestamp,icon:s.sender==="AI"?lu:s.sender==="Vendor"?ot:At,title:`${s.sender} Message`,description:s.message.substring(0,100)+(s.message.length>100?"...":""),color:s.sender==="AI"?"text-primary":"text-muted-foreground"})):[],...e.resolutionStatus==="Closed"?[{id:999,timestamp:new Date().toISOString(),icon:or,title:"Issue Resolved",description:"Issue has been successfully resolved",color:"text-success"}]:[]].sort((s,a)=>new Date(s.timestamp).getTime()-new Date(a.timestamp).getTime());return n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5"}),"Issue Timeline"]}),n.jsx(Dr,{children:"Complete history of this issue"})]}),n.jsx(Q,{children:n.jsxs("div",{className:"relative space-y-6",children:[n.jsx("div",{className:"absolute left-4 top-2 bottom-2 w-0.5 bg-border"}),r.map((s,a)=>{const i=s.icon;return n.jsxs("div",{className:"relative flex gap-4",children:[n.jsx("div",{className:ve("relative z-10 w-8 h-8 rounded-full flex items-center justify-center bg-background border-2",s.color==="text-destructive"&&"border-destructive",s.color==="text-primary"&&"border-primary",s.color==="text-success"&&"border-success",s.color==="text-muted-foreground"&&"border-muted-foreground"),children:n.jsx(i,{className:ve("h-4 w-4",s.color)})}),n.jsxs("div",{className:"flex-1 pb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h4",{className:"font-semibold",children:s.title}),n.jsx(_e,{variant:"outline",className:"text-xs",children:new Date(s.timestamp).toLocaleString()})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]})]},s.id)})]})})]})}function lrt({issue:e,vendor:t,onUpdateIssue:r}){const[s,a]=v.useState(e.ai_activated||!1),[i,o]=v.useState(e.status||"Open");v.useEffect(()=>{a(e.ai_activated||!1),o(e.status||"Open")},[e.ai_activated,e.status]);const l=async()=>{var u,f;const d=!s;a(d);try{if(d){const m=await Kn.activateAIEmail(e.id);if((u=m.data)!=null&&u.success)r({ai_activated:!0}),Ue.success("AI Chatbot activated and email sent to vendor");else throw new Error(((f=m.data)==null?void 0:f.message)||"Failed to activate AI")}else await Kn.updateIssue(e.id,{ai_activated:!1}),r({ai_activated:!1}),Ue.info("AI Chatbot paused")}catch(m){console.error("Failed to toggle AI:",m),Ue.error(m.message||"Failed to update AI status"),a(!d)}},c=async d=>{o(d);try{await Kn.updateIssue(e.id,{status:d}),r({status:d}),Ue.success("Status updated")}catch(u){console.error("Failed to update status:",u),Ue.error("Failed to update status"),o(e.status||"Open")}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Oa,{className:"h-5 w-5"}),"AI Resolution"]}),n.jsx(Dr,{children:"Automate vendor communication"})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/30",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(q,{htmlFor:"ai-toggle",className:"text-base font-semibold cursor-pointer",children:"AI Chatbot"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:s?"Active":"Inactive"})]}),n.jsx(Vn,{id:"ai-toggle",checked:s,onCheckedChange:l})]}),s&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[n.jsx(v7,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:"AI is monitoring this issue"})]}),n.jsxs(ee,{variant:"outline",size:"sm",className:"w-full",onClick:()=>Ue.info("AI settings opened"),children:[n.jsx($v,{className:"h-4 w-4 mr-2"}),"Configure AI Behavior"]})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(or,{className:"h-5 w-5"}),"Resolution Status"]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Current Status"}),n.jsxs(tt,{value:i,onValueChange:c,children:[n.jsx(Je,{children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"Open",children:"Open"}),n.jsx(J,{value:"Pending Vendor Response",children:"Pending Vendor Response"}),n.jsx(J,{value:"Resolution Agreed",children:"Resolution Agreed"}),n.jsx(J,{value:"Closed",children:"Closed"})]})]})]}),i==="Closed"&&n.jsx("div",{className:"p-3 bg-success/10 border border-success/20 rounded-lg",children:n.jsxs("p",{className:"text-sm text-success flex items-center gap-2",children:[n.jsx(or,{className:"h-4 w-4"}),"Issue has been resolved"]})})]})]}),t&&n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Vendor Contact"}),n.jsx(Dr,{children:t.companyName||t.name})]}),n.jsxs(Q,{className:"space-y-3",children:[t.email&&n.jsxs("a",{href:`mailto:${t.email}`,className:"flex items-center gap-2 text-sm hover:text-primary transition-colors",children:[n.jsx(gn,{className:"h-4 w-4"}),t.email]}),t.phone&&n.jsxs("a",{href:`tel:${t.phone}`,className:"flex items-center gap-2 text-sm hover:text-primary transition-colors",children:[n.jsx(To,{className:"h-4 w-4"}),t.phone]}),t.website&&n.jsxs("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm hover:text-primary transition-colors",children:[n.jsx(ec,{className:"h-4 w-4"}),"Visit Website"]}),n.jsx(Lt,{}),n.jsxs(ee,{variant:"outline",size:"sm",className:"w-full",children:[n.jsx(gn,{className:"h-4 w-4 mr-2"}),"Send Manual Email"]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{children:"Quick Actions"})}),n.jsxs(Q,{className:"space-y-2",children:[n.jsx(ee,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>Ue.info("Replacement request sent"),children:"Request Replacement"}),n.jsx(ee,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>Ue.info("Refund request sent"),children:"Request Refund"}),n.jsx(ee,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>Ue.info("Escalation triggered"),children:"Escalate to Manager"})]})]})]})}function crt(){return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-8 w-48"}),n.jsx(C,{className:"h-4 w-32"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-24 rounded-full"})]})]})}function drt(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-48"})]}),n.jsx(C,{className:"h-4 w-40"})]}),n.jsx(C,{className:"h-6 w-24 rounded-full"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-4 w-full"}),n.jsx(C,{className:"h-4 w-full"}),n.jsx(C,{className:"h-4 w-3/4"})]}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-20"}),n.jsx(C,{className:"h-6 w-24 rounded-full"})]},t))}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-3 w-28"})]}),n.jsx(C,{className:"h-4 w-32"})]},t))})]})]})}function urt(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-56"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-5 w-32"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-24"}),n.jsx(C,{className:"h-4 w-32"})]},t))})]}),n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-8 w-8 rounded-lg"}),n.jsx(C,{className:"h-5 w-36"})]}),n.jsx(C,{className:"h-6 w-16 rounded-full"})]})}),n.jsx(Q,{className:"space-y-3",children:[...Array(2)].map((e,t)=>n.jsxs("div",{className:"flex gap-4 p-4 rounded-xl border",children:[n.jsx(C,{className:"h-20 w-20 rounded-xl flex-shrink-0"}),n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx(C,{className:"h-5 w-48"}),n.jsx(C,{className:"h-6 w-12 rounded-full"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-5 w-24 rounded-full"}),n.jsx(C,{className:"h-5 w-28 rounded-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-full"}),n.jsx(C,{className:"h-3 w-3/4"})]})]})]},t))})]})]})]})}function frt(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-64"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(2)].map((e,t)=>n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-5 w-24"})]}),n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((r,s)=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(C,{className:"h-3 w-3 rounded"}),n.jsx(C,{className:"h-3 w-20"})]}),n.jsx(C,{className:"h-4 w-full"})]},s))})]},t))})})]})}function mrt(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsx(X,{children:n.jsxs(Q,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-8 w-12"})]}),n.jsx(C,{className:"h-3 w-24"})]})},t))})}function hrt(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]}),n.jsx(C,{className:"h-4 w-64"})]}),n.jsx(C,{className:"h-6 w-24 rounded-full"})]})}),n.jsxs(Q,{children:[n.jsx("div",{className:"space-y-4 mb-4",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"flex gap-3 p-4 rounded-lg border",children:[n.jsx(C,{className:"h-8 w-8 rounded-full flex-shrink-0"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-16 rounded-full"}),n.jsx(C,{className:"h-3 w-32"})]}),n.jsx(C,{className:"h-4 w-full"}),n.jsx(C,{className:"h-4 w-4/5"}),n.jsx(C,{className:"h-4 w-3/5"})]})]},t))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-10 flex-1 rounded-md"}),n.jsx(C,{className:"h-10 w-10 rounded-md"})]})]})]})}function prt(){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-32"})]}),n.jsx(C,{className:"h-4 w-48"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-5 w-24"}),n.jsx(C,{className:"h-4 w-16"})]}),n.jsx(C,{className:"h-6 w-11 rounded-full"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-36"})]})}),n.jsx(Q,{className:"space-y-3",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})})]})]})}function xrt(){return n.jsxs("div",{className:"space-y-6",children:[n.jsx(crt,{}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(drt,{}),n.jsx(urt,{}),n.jsx(frt,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex gap-2 border-b",children:[...Array(3)].map((e,t)=>n.jsx(C,{className:"h-10 w-32 rounded-t-md"},t))}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(mrt,{}),n.jsx(hrt,{})]})]})]}),n.jsx("div",{className:"space-y-6",children:n.jsx(prt,{})})]})]})}function grt(){var f,m,h,x,p,g,j,y,w,b,N,S,_;const{issueId:e}=eo(),t=mr(),[r,s]=v.useState(null),[a,i]=v.useState(!0),[o,l]=v.useState(null);v.useEffect(()=>{if(!e){l("No issue ID provided"),i(!1);return}i(!0),Kn.getIssue(e).then(E=>{s(E),l(null)}).catch(E=>{console.error("Failed to fetch issue:",E),l("Issue not found")}).finally(()=>i(!1))},[e]);const c=async E=>{if(r)try{const A=await Kn.updateIssue(r.id,E);s(A),Ue.success("Issue updated")}catch{Ue.error("Failed to update issue")}};if(a)return n.jsx(ct,{title:"Issue Details",children:n.jsx(xrt,{})});if(o||!r)return n.jsx(ct,{title:"Issue Not Found",children:n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-4",children:[n.jsx(At,{className:"h-12 w-12 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold",children:"Issue Not Found"}),n.jsxs(ee,{onClick:()=>t("/issues"),children:[n.jsx(sr,{className:"h-4 w-4 mr-2"}),"Back to Issues"]})]})});const d=E=>{switch(E){case"Open":return"destructive";case"Pending Vendor Response":return"secondary";case"Resolution Agreed":return"default";case"Closed":return"outline";default:return"secondary"}},u=E=>{switch(E){case"Closed":return n.jsx(or,{className:"h-4 w-4"});case"Open":return n.jsx(Ul,{className:"h-4 w-4"});default:return n.jsx(wr,{className:"h-4 w-4"})}};return n.jsx(ct,{title:"Issue Details",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ee,{variant:"ghost",onClick:()=>t("/issues"),children:[n.jsx(sr,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Issue Details"}),n.jsxs("p",{className:"text-muted-foreground",children:["Issue #",r.id]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[u(r.status||"Open"),n.jsx(_e,{variant:d(r.status||"Open"),children:r.status||"Open"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(At,{className:"h-5 w-5 text-destructive"}),r.type]}),n.jsxs(Dr,{children:["Reported on ",r.reported_on?new Date(r.reported_on).toLocaleDateString():"Unknown"]})]}),r.ai_activated&&n.jsxs(_e,{variant:"default",className:"gap-1",children:[n.jsx(Oa,{className:"h-3 w-3"}),"AI Active"]})]})}),n.jsxs(Q,{className:"space-y-4",children:[r.items&&r.items.length>0?n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Issue Descriptions by Product"}),r.items.map((E,A)=>n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg  space-y-2",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("h5",{className:"font-semibold text-sm",children:E.product_name||E.order_item_product_name||"Unknown Product"}),E.quantity_affected&&n.jsxs(_e,{variant:"outline",className:"flex-shrink-0",children:["Qty: ",E.quantity_affected]})]}),E.issue_types&&n.jsx("div",{className:"flex flex-wrap gap-1.5",children:E.issue_types.split(",").map((k,D)=>n.jsx(_e,{variant:"destructive",className:"text-xs",children:k.trim()},D))}),E.description&&n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap mt-2",children:E.description})]},E.id||A))]}):n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Description"}),n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:r.description})]}),n.jsx(Lt,{}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Priority"}),n.jsx(_e,{variant:r.priority==="Critical"?"destructive":r.priority==="High"?"default":"secondary",children:r.priority||"Medium"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(_e,{variant:d(r.status||"Open"),children:r.status||"Open"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolution Status"}),n.jsx("p",{className:"font-medium",children:r.resolution_status||"Pending"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Created"}),n.jsx("p",{className:"font-medium",children:r.created_at?new Date(r.created_at).toLocaleDateString():"Unknown"})]})]}),r.impact&&n.jsxs(n.Fragment,{children:[n.jsx(Lt,{}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(Ub,{className:"h-4 w-4"})," Impact"]}),n.jsx("p",{className:"font-medium",children:r.impact})]})]}),(r.expected_resolution||r.replacement_eta||r.delivery_date)&&n.jsxs(n.Fragment,{children:[n.jsx(Lt,{}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.expected_resolution&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(Qr,{className:"h-4 w-4"})," Expected Resolution"]}),n.jsx("p",{className:"font-medium",children:new Date(r.expected_resolution).toLocaleDateString()})]}),r.replacement_eta&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(_r,{className:"h-4 w-4"})," Replacement ETA"]}),n.jsx("p",{className:"font-medium",children:new Date(r.replacement_eta).toLocaleDateString()})]}),r.delivery_date&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(Qr,{className:"h-4 w-4"})," Delivery Date"]}),n.jsx("p",{className:"font-medium",children:new Date(r.delivery_date).toLocaleDateString()})]})]})]}),(r.invoice_number||r.tracking_number||((f=r.order_details)==null?void 0:f.tracking_number))&&n.jsxs(n.Fragment,{children:[n.jsx(Lt,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.invoice_number&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(kn,{className:"h-4 w-4"})," Invoice #"]}),n.jsx("p",{className:"font-medium",children:r.invoice_number})]}),(r.tracking_number||((m=r.order_details)==null?void 0:m.tracking_number))&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(_r,{className:"h-4 w-4"})," Tracking #",!r.tracking_number&&((h=r.order_details)==null?void 0:h.tracking_number)&&n.jsx("span",{className:"text-xs",children:"(from Order)"})]}),n.jsx("p",{className:"font-medium",children:r.tracking_number||((x=r.order_details)==null?void 0:x.tracking_number)})]})]})]}),(r.resolution_type||r.resolution_notes)&&n.jsxs(n.Fragment,{children:[n.jsx(Lt,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-sm font-semibold",children:"Resolution Details"}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.resolution_type&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolution Type"}),n.jsx(_e,{variant:"outline",children:r.resolution_type})]})}),r.resolution_notes&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolution Notes"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:r.resolution_notes})]})]})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Ns,{className:"h-5 w-5"}),"Order & Product Information"]})}),n.jsxs(Q,{className:"space-y-4",children:[r.order_details&&n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(kn,{className:"h-4 w-4"})," Order Details"]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Number"}),n.jsx("p",{className:"font-medium",children:r.order_details.order_number||r.order_details.id})]}),r.order_details.order_date&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Date"}),n.jsx("p",{className:"font-medium",children:new Date(r.order_details.order_date).toLocaleDateString()})]}),r.order_details.status&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Status"}),n.jsx(_e,{variant:"outline",children:r.order_details.status})]}),r.order_details.total_amount&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),n.jsxs("p",{className:"font-medium",children:["$",r.order_details.total_amount]})]})]})]}),r.items&&r.items.length>0&&n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ve,{className:"text-base flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(ot,{className:"h-4 w-4 text-primary"})}),"Affected Products"]}),n.jsxs(_e,{variant:"secondary",className:"font-semibold",children:[r.items.length," ",r.items.length===1?"Item":"Items"]})]})}),n.jsx(Q,{className:"space-y-3",children:r.items.map((E,A)=>n.jsxs("div",{className:"flex gap-4 p-4 rounded-xl border bg-gradient-to-r from-background to-muted/20 hover:shadow-sm transition-all",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden border-2 border-muted bg-gradient-to-br from-muted to-muted/50 shadow-sm",children:E.product_image?n.jsx("img",{src:E.product_image,alt:E.product_name||"Product",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(ot,{className:"h-8 w-8 text-muted-foreground/40"})})})}),n.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("h5",{className:"font-semibold text-sm line-clamp-1",children:E.product_name||E.order_item_product_name||"Unknown Product"}),n.jsxs(_e,{variant:"outline",className:"flex-shrink-0 gap-1",children:[n.jsx(Ns,{className:"h-3 w-3"}),E.quantity_affected]})]}),E.issue_types&&n.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[E.issue_types.split(",").slice(0,4).map((k,D)=>n.jsxs(_e,{variant:"outline",className:"text-xs px-2 py-0.5 bg-destructive/5 text-destructive border-destructive/20 gap-1",children:[n.jsx(At,{className:"h-3 w-3"}),k.trim()]},D)),E.issue_types.split(",").length>4&&n.jsxs(_e,{variant:"secondary",className:"text-xs",children:["+",E.issue_types.split(",").length-4," more"]})]}),E.description&&n.jsxs("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[n.jsx(kn,{className:"h-3.5 w-3.5 mt-0.5 flex-shrink-0"}),n.jsx("p",{className:"line-clamp-2",children:E.description})]})]})]},E.id||A))})]}),r.order_item_details&&(!r.items||r.items.length===0)&&n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(ot,{className:"h-4 w-4"})," Order Item Details"]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:r.order_item_details.product_image||(p=r.product_details)!=null&&p.product_image?n.jsx("img",{src:r.order_item_details.product_image||((g=r.product_details)==null?void 0:g.product_image),alt:r.order_item_details.product_name||"Product",className:"w-24 h-24 rounded-lg object-cover border-2 border-muted"}):n.jsx("div",{className:"w-24 h-24 rounded-lg flex items-center justify-center border-2 border-muted bg-muted",children:n.jsx(ot,{className:"h-10 w-10 text-muted-foreground"})})}),n.jsxs("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Product Name"}),n.jsx("p",{className:"font-medium",children:r.order_item_details.product_name})]}),r.order_item_details.quantity&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Quantity"}),n.jsx("p",{className:"font-medium",children:r.order_item_details.quantity})]}),r.order_item_details.unit_price&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Unit Price"}),n.jsxs("p",{className:"font-medium",children:["$",r.order_item_details.unit_price]})]}),r.order_item_details.total_price&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Price"}),n.jsxs("p",{className:"font-medium",children:["$",r.order_item_details.total_price]})]}),r.order_item_details.sku&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"SKU"}),n.jsx("p",{className:"font-medium",children:r.order_item_details.sku})]})]})]})]}),r.items&&r.items.length>0?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(ot,{className:"h-4 w-4"})," Product Details (",r.items.length,")"]}),r.items.map((E,A)=>n.jsx("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:E.product_image?n.jsx("img",{src:E.product_image,alt:E.product_name||"Product",className:"w-24 h-24 rounded-lg object-cover border-2 border-muted"}):n.jsx("div",{className:"w-24 h-24 rounded-lg flex items-center justify-center border-2 border-muted bg-muted",children:n.jsx(ot,{className:"h-10 w-10 text-muted-foreground"})})}),n.jsxs("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Product Name"}),n.jsx("p",{className:"font-medium",children:E.product_name||E.order_item_product_name||"Unknown"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Quantity Affected"}),n.jsx("p",{className:"font-medium",children:E.quantity_affected||1})]}),E.issue_types&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Issue Types"}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:E.issue_types.split(",").slice(0,2).map((k,D)=>n.jsx(_e,{variant:"outline",className:"text-xs",children:k.trim()},D))})]})]})]})},E.id||A))]}):r.product_details?n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(ot,{className:"h-4 w-4"})," Product Details"]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:r.product_details.product_image?n.jsx("img",{src:r.product_details.product_image,alt:r.product_details.product||"Product",className:"w-24 h-24 rounded-lg object-cover border-2 border-muted"}):n.jsx("div",{className:"w-24 h-24 rounded-lg flex items-center justify-center border-2 border-muted bg-muted",children:n.jsx(ot,{className:"h-10 w-10 text-muted-foreground"})})}),n.jsxs("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Product Name"}),n.jsx("p",{className:"font-medium",children:r.product_details.product})]}),r.product_details.sku&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"SKU"}),n.jsx("p",{className:"font-medium",children:r.product_details.sku})]}),r.product_details.category&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Category"}),n.jsx("p",{className:"font-medium",children:r.product_details.category})]}),r.product_details.unit_price&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Unit Price"}),n.jsxs("p",{className:"font-medium",children:["$",r.product_details.unit_price]})]})]})]})]}):null,!r.order_details&&!r.order_item_details&&!r.product_details&&n.jsxs("div",{className:"flex gap-4 items-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center border-2 border-muted bg-muted flex-shrink-0",children:n.jsx(ot,{className:"h-8 w-8 text-muted-foreground"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Product"}),n.jsx("p",{className:"font-medium",children:r.display_product_name||r.product_name||"Unknown"})]})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-5 w-5"}),"Apartment & Vendor Information"]})}),n.jsx(Q,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4"})," Apartment"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),n.jsx("p",{className:"font-medium",children:((j=r.apartment_details)==null?void 0:j.name)||"Unknown"})]}),((y=r.apartment_details)==null?void 0:y.address)&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),n.jsx("p",{className:"font-medium",children:r.apartment_details.address})]})]})]}),n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(os,{className:"h-4 w-4"})," Vendor"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),n.jsx("p",{className:"font-medium",children:r.vendor_name||((w=r.vendor_details)==null?void 0:w.name)||"Unknown"})]}),((b=r.vendor_details)==null?void 0:b.contact_person)&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(os,{className:"h-3 w-3"})," Contact Person"]}),n.jsx("p",{className:"font-medium",children:r.vendor_details.contact_person})]}),((N=r.vendor_details)==null?void 0:N.email)&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(gn,{className:"h-3 w-3"})," Email"]}),n.jsx("a",{href:`mailto:${r.vendor_details.email}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.email})]}),((S=r.vendor_details)==null?void 0:S.phone)&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(To,{className:"h-3 w-3"})," Phone"]}),n.jsx("a",{href:`tel:${r.vendor_details.phone}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.phone})]}),r.vendor_contact&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor Contact"}),n.jsx("p",{className:"font-medium",children:r.vendor_contact})]})]})]})]})})]}),n.jsxs(Mo,{defaultValue:"conversation",className:"w-full",children:[n.jsxs(ro,{className:"grid w-full grid-cols-3",children:[n.jsxs(zt,{value:"conversation",className:"gap-2",children:[n.jsx(lu,{className:"h-4 w-4"}),"Conversation"]}),n.jsxs(zt,{value:"photos",className:"gap-2",children:[n.jsx(qi,{className:"h-4 w-4"}),"Photos (",((_=r.photos)==null?void 0:_.length)||0,")"]}),n.jsxs(zt,{value:"timeline",className:"gap-2",children:[n.jsx(wr,{className:"h-4 w-4"}),"Timeline"]})]}),n.jsx(Qt,{value:"conversation",className:"mt-6",children:n.jsx(art,{issue:r,onUpdateIssue:c})}),n.jsx(Qt,{value:"photos",className:"mt-6",children:n.jsx(irt,{photos:r.photos||[],onAddPhoto:async E=>{Ue.info("Photo upload feature coming soon")}})}),n.jsx(Qt,{value:"timeline",className:"mt-6",children:n.jsx(ort,{issue:r,product:r.product_details})})]})]}),n.jsx("div",{className:"space-y-6",children:n.jsx(lrt,{issue:r,vendor:r.vendor_details,onUpdateIssue:c})})]})]})})}function vrt(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-12"})]})}function yrt(){return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-10 w-10 rounded-md"}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(C,{className:"h-6 w-6 rounded"}),n.jsx(C,{className:"h-8 w-32"})]}),n.jsx(C,{className:"h-4 w-28"})]})]}),n.jsx(C,{className:"h-9 w-32 rounded-md"})]})}function jrt(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-24 w-full rounded-md"})]})]})]})}function brt(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-36"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]})}function wrt(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-36"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-36"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-20 w-full rounded-md"})]})]})]})}function Nrt(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-36"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-4 w-48"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-4 w-56"})]})]})]})]})}function _rt(){return n.jsx(ct,{title:"Edit Issue",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(vrt,{}),n.jsx(yrt,{}),n.jsx(jrt,{}),n.jsx(brt,{}),n.jsx(wrt,{}),n.jsx(Nrt,{}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})]})})}const Srt=()=>{var b;const e=mr(),{issueId:t}=eo(),[r,s]=v.useState(null),[a,i]=v.useState(!0),[o,l]=v.useState(!1),[c,d]=v.useState(!1),[u,f]=v.useState(!1),[m,h]=v.useState({type:"",description:"",status:"Open",priority:"Medium",impact:"",expectedResolution:"",replacementEta:"",resolutionType:"",resolutionNotes:"",deliveryDate:"",invoiceNumber:"",trackingNumber:"",aiActivated:!1,autoNotifyVendor:!0}),x=["Open","Pending Vendor Response","Resolution Agreed","Closed"],p=[{value:"Critical",label:"Critical",color:"bg-red-500/10 text-red-600 border-red-200"},{value:"High",label:"High",color:"bg-orange-500/10 text-orange-600 border-orange-200"},{value:"Medium",label:"Medium",color:"bg-yellow-500/10 text-yellow-600 border-yellow-200"},{value:"Low",label:"Low",color:"bg-green-500/10 text-green-600 border-green-200"}],g=["Blocking Progress","Delaying Project","Partial Impact","Minor Inconvenience","No Impact"],j=["Full Replacement","Partial Replacement","Repair","Refund","Credit Note","Exchange","Other"];v.useEffect(()=>{if(!t){Ue.error("No issue ID provided"),e("/issues");return}i(!0),Kn.getIssue(t).then(N=>{s(N),h({type:N.type||"",description:N.description||"",status:N.status||"Open",priority:N.priority||"Medium",impact:N.impact||"",expectedResolution:N.expected_resolution||"",replacementEta:N.replacement_eta||"",resolutionType:N.resolution_type||"",resolutionNotes:N.resolution_notes||"",deliveryDate:N.delivery_date||"",invoiceNumber:N.invoice_number||"",trackingNumber:N.tracking_number||"",aiActivated:N.ai_activated||!1,autoNotifyVendor:N.auto_notify_vendor??!0})}).catch(N=>{console.error("Failed to fetch issue:",N),Ue.error("Failed to load issue"),e("/issues")}).finally(()=>i(!1))},[t,e]);const y=async N=>{var S,_;if(N.preventDefault(),!!r){l(!0);try{await Kn.updateIssue(r.id,{type:m.type,description:m.description,status:m.status,priority:m.priority,impact:m.impact||void 0,expected_resolution:m.expectedResolution||void 0,replacement_eta:m.replacementEta||void 0,resolution_type:m.resolutionType||void 0,resolution_notes:m.resolutionNotes||void 0,delivery_date:m.deliveryDate||void 0,invoice_number:m.invoiceNumber||void 0,tracking_number:m.trackingNumber||void 0,ai_activated:m.aiActivated,auto_notify_vendor:m.autoNotifyVendor}),Ue.success("Issue updated successfully"),e(`/issues/${r.id}`)}catch(E){Ue.error(((_=(S=E.response)==null?void 0:S.data)==null?void 0:_.message)||"Failed to update issue")}finally{l(!1)}}},w=async()=>{var N,S;if(r){d(!0);try{await Kn.deleteIssue(r.id),Ue.success("Issue deleted successfully"),e("/issues")}catch(_){Ue.error(((S=(N=_.response)==null?void 0:N.data)==null?void 0:S.message)||"Failed to delete issue")}finally{d(!1),f(!1)}}};return a?n.jsx(_rt,{}):r?n.jsx(ct,{title:"Edit Issue",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ua,{children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(es,{href:"/issues",children:"Issues"})}),n.jsx(An,{}),n.jsx(rr,{children:n.jsx(es,{href:`/issues/${r.id}`,children:"Issue Details"})}),n.jsx(An,{}),n.jsx(rr,{children:n.jsx(ji,{children:"Edit"})})]})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>e(`/issues/${r.id}`),children:n.jsx(sr,{className:"h-4 w-4"})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(At,{className:"h-6 w-6 text-primary"}),"Edit Issue"]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Issue #",r.id.slice(-8)]})]})]}),n.jsxs(uc,{open:u,onOpenChange:f,children:[n.jsxs(ee,{variant:"destructive",size:"sm",onClick:()=>f(!0),disabled:c,children:[c?n.jsx(Bt,{className:"h-4 w-4 animate-spin mr-2"}):n.jsx(hn,{className:"h-4 w-4 mr-2"}),"Delete Issue"]}),n.jsxs(yl,{className:"sm:max-w-md",children:[n.jsx(jl,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(hn,{className:"h-6 w-6 text-destructive"})}),n.jsxs("div",{children:[n.jsx(wl,{className:"text-lg",children:"Delete Issue"}),n.jsx(Nl,{className:"text-sm",children:"This action cannot be undone."})]})]})}),n.jsx("div",{className:"py-4",children:n.jsxs("div",{className:"rounded-lg border bg-muted/50 p-4",children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:r.type||"Issue"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:[(b=r.description)==null?void 0:b.slice(0,100),r.description&&r.description.length>100?"...":""]})]})}),n.jsxs(bl,{children:[n.jsx(Sl,{disabled:c,children:"Cancel"}),n.jsx(_l,{onClick:w,disabled:c,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:c?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(hn,{className:"h-4 w-4 mr-2"}),"Delete Issue"]})})]})]})]})]}),n.jsxs("form",{onSubmit:y,className:"space-y-6",children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ci,{className:"h-5 w-5"}),"Issue Information"]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Issue Type *"}),n.jsx(me,{value:m.type,onChange:N=>h(S=>({...S,type:N.target.value})),placeholder:"e.g., Broken/Damaged, Wrong Item"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Status *"}),n.jsxs(tt,{value:m.status,onValueChange:N=>h(S=>({...S,status:N})),children:[n.jsx(Je,{children:n.jsx(rt,{})}),n.jsx(et,{children:x.map(N=>n.jsx(J,{value:N,children:N},N))})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Description *"}),n.jsx(pn,{value:m.description,onChange:N=>h(S=>({...S,description:N.target.value})),rows:4,placeholder:"Describe the issue in detail..."})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ci,{className:"h-5 w-5"}),"Priority & Impact"]})}),n.jsxs(Q,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Priority *"}),n.jsxs(tt,{value:m.priority,onValueChange:N=>h(S=>({...S,priority:N})),children:[n.jsx(Je,{children:n.jsx(rt,{})}),n.jsx(et,{children:p.map(N=>n.jsx(J,{value:N.value,children:n.jsx(_e,{className:N.color,children:N.label})},N.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Impact"}),n.jsxs(tt,{value:m.impact,onValueChange:N=>h(S=>({...S,impact:N})),children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select impact level"})}),n.jsx(et,{children:g.map(N=>n.jsx(J,{value:N,children:N},N))})]})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Qr,{className:"h-5 w-5"}),"Timeline"]})}),n.jsxs(Q,{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Expected Resolution"}),n.jsx(me,{type:"date",value:m.expectedResolution,onChange:N=>h(S=>({...S,expectedResolution:N.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Replacement ETA"}),n.jsx(me,{type:"date",value:m.replacementEta,onChange:N=>h(S=>({...S,replacementEta:N.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Delivery Date"}),n.jsx(me,{type:"date",value:m.deliveryDate,onChange:N=>h(S=>({...S,deliveryDate:N.target.value}))})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(or,{className:"h-5 w-5"}),"Resolution"]})}),n.jsxs(Q,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Resolution Type"}),n.jsxs(tt,{value:m.resolutionType,onValueChange:N=>h(S=>({...S,resolutionType:N})),children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select resolution type"})}),n.jsx(et,{children:j.map(N=>n.jsx(J,{value:N,children:N},N))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Resolution Notes"}),n.jsx(me,{value:m.resolutionNotes,onChange:N=>h(S=>({...S,resolutionNotes:N.target.value})),placeholder:"Add notes about the resolution..."})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(_r,{className:"h-5 w-5"}),"Tracking Information"]})}),n.jsxs(Q,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Invoice Number"}),n.jsx(me,{value:m.invoiceNumber,onChange:N=>h(S=>({...S,invoiceNumber:N.target.value})),placeholder:"Enter invoice number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Tracking Number"}),n.jsx(me,{value:m.trackingNumber,onChange:N=>h(S=>({...S,trackingNumber:N.target.value})),placeholder:"Enter tracking number"})]})]})]}),n.jsx(X,{children:n.jsxs(Q,{className:"py-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(So,{id:"ai",checked:m.aiActivated,onCheckedChange:N=>h(S=>({...S,aiActivated:N}))}),n.jsx(q,{htmlFor:"ai",children:"Enable AI-assisted communication"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(So,{id:"notify",checked:m.autoNotifyVendor,onCheckedChange:N=>h(S=>({...S,autoNotifyVendor:N}))}),n.jsx(q,{htmlFor:"notify",children:"Auto-notify vendor"})]})]})}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(ee,{type:"button",variant:"outline",onClick:()=>e(`/issues/${r.id}`),children:[n.jsx(sr,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsx(ee,{type:"submit",disabled:o,children:o?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(gu,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})]})}):n.jsx(ct,{title:"Edit Issue",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(At,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),n.jsx("p",{className:"text-lg font-medium",children:"Issue not found"}),n.jsx(ee,{onClick:()=>e("/issues"),className:"mt-4",children:"Back to Issues"})]})})},Crt=({payment:e,open:t,onOpenChange:r})=>{var f;const s=m=>({Paid:"bg-success/10 text-success border-success/20",Partial:"bg-warning/10 text-warning border-warning/20",Unpaid:"bg-muted text-muted-foreground border-border",Overdue:"bg-danger/10 text-danger border-danger/20"})[m]||"bg-muted";if(!e)return n.jsx(vn,{open:t,onOpenChange:r,children:n.jsx(on,{className:"max-w-3xl",children:n.jsx(yn,{children:n.jsx(jn,{children:"Loading..."})})})});const a=e.total_amount??e.totalAmount??0,i=e.amount_paid??e.amountPaid??0,o=e.vendor_name??((f=e.vendor_details)==null?void 0:f.name)??e.vendor??"Unknown",l=e.order_reference??e.orderReference??"",c=e.due_date??e.dueDate??"",d=e.last_payment_date??e.lastPaymentDate,u=e.payment_history??e.paymentHistory??[];return n.jsx(vn,{open:t,onOpenChange:r,children:n.jsxs(on,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[n.jsxs(yn,{children:[n.jsxs(jn,{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(kn,{className:"h-5 w-5 text-primary"})}),"Payment History"]}),n.jsxs(Cs,{children:["Complete payment record for ",n.jsx("span",{className:"font-semibold",children:o})," - ",l]})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-muted/30 rounded-lg border",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-xl font-bold",children:[a.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Amount Paid"}),n.jsxs("p",{className:"text-xl font-bold text-success",children:[i.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Balance"}),n.jsxs("p",{className:"text-xl font-bold text-warning",children:[(a-i).toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Status"}),n.jsx(_e,{className:s(e.status),children:e.status})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Order Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 rounded-lg border bg-card",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Due Date"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-sm font-medium",children:c?Xt(new Date(c),"MMMM dd, yyyy"):"N/A"})]})]}),d&&n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Last Payment"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ur,{className:"h-4 w-4 text-success"}),n.jsx("p",{className:"text-sm font-medium",children:Xt(new Date(d),"MMMM dd, yyyy")})]})]}),e.notes&&n.jsxs("div",{className:"col-span-2 space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Notes"}),n.jsx("p",{className:"text-sm",children:e.notes})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Transaction History"}),u&&u.length>0?n.jsx("div",{className:"space-y-3",children:u.map((m,h)=>n.jsxs("div",{className:"relative",children:[h!==u.length-1&&n.jsx("div",{className:"absolute left-5 top-12 bottom-0 w-px bg-border"}),n.jsxs("div",{className:"flex gap-4 p-4 rounded-lg border bg-card hover:bg-muted/30 transition-colors",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"p-2 bg-success/10 rounded-full",children:n.jsx(Ur,{className:"h-5 w-5 text-success"})})}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"flex items-start justify-between gap-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("p",{className:"font-semibold text-lg",children:[(m.amount||0).toLocaleString()," HUF"]}),n.jsxs(_e,{variant:"outline",className:"text-xs",children:[n.jsx(ws,{className:"h-3 w-3 mr-1"}),m.method]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:m.date?Xt(new Date(m.date),"MMMM dd, yyyy"):"N/A"})]})}),(m.referenceNo||m.reference_no)&&n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"Ref:"}),n.jsx("span",{className:"font-mono bg-muted px-2 py-0.5 rounded",children:m.referenceNo||m.reference_no})]}),m.note&&n.jsx("p",{className:"text-sm text-muted-foreground italic",children:m.note})]})]})]},m.id||h))}):n.jsxs("div",{className:"text-center py-12 border rounded-lg bg-muted/20",children:[n.jsx(kn,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-3"}),n.jsx("p",{className:"text-muted-foreground",children:"No payment transactions recorded yet"})]})]})]})]})})},Ert=({open:e,onOpenChange:t})=>{const{apartments:r,vendors:s,addPayment:a}=Ll(),[i,o]=v.useState({apartmentId:"",vendorId:"",orderReference:"",totalAmount:"",amountPaid:"",dueDate:"",paymentMethod:"",notes:"",bankName:"",accountNumber:"",accountHolder:"",swift:"",iban:"",cardNumber:"",cardHolder:"",expiryDate:"",cvv:""}),[l,c]=v.useState("bank"),d=(j,y)=>{o(w=>({...w,[j]:y}))},u=()=>{const j=parseFloat(i.totalAmount)||0,y=parseFloat(i.amountPaid)||0;return j-y},f=()=>{if(!i.apartmentId||!i.vendorId||!i.orderReference||!i.totalAmount||!i.dueDate){Ue.error("Missing Required Fields",{description:"Please fill in all required fields"});return}const j=parseFloat(i.totalAmount),y=parseFloat(i.amountPaid)||0;if(isNaN(j)||j<=0){Ue.error("Invalid Amount",{description:"Please enter a valid total amount"});return}const w=s.find(S=>S.id===i.vendorId);if(!w)return;let b="Unpaid";y>=j?b="Paid":y>0&&(b="Partial");const N=y>0?[{date:new Date().toISOString().split("T")[0],amount:y,method:i.paymentMethod||l,referenceNo:i.orderReference,note:"Initial payment"}]:[];a({apartmentId:i.apartmentId,vendor:w.name,orderReference:i.orderReference,totalAmount:j,amountPaid:y,dueDate:i.dueDate,status:b,lastPaymentDate:y>0?new Date().toISOString().split("T")[0]:void 0,notes:i.notes,paymentHistory:N}),Ue.success("Payment Created",{description:`Payment record for ${w.name} has been created successfully`}),o({apartmentId:"",vendorId:"",orderReference:"",totalAmount:"",amountPaid:"",dueDate:"",paymentMethod:"",notes:"",bankName:"",accountNumber:"",accountHolder:"",swift:"",iban:"",cardNumber:"",cardHolder:"",expiryDate:"",cvv:""}),t(!1)},m=s.find(j=>j.id===i.vendorId),h=r.find(j=>j.id===i.apartmentId),x=u(),p=parseFloat(i.totalAmount)||0,g=parseFloat(i.amountPaid)||0;return n.jsx(vn,{open:e,onOpenChange:t,children:n.jsxs(on,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(yn,{children:[n.jsx(jn,{className:"text-2xl font-bold",children:"Create New Payment"}),n.jsx(Cs,{children:"Create a comprehensive payment record with all necessary details"})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsx(X,{children:n.jsxs(Q,{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(kn,{className:"h-5 w-5 text-primary"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Order Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apartment",className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4 text-muted-foreground"}),"Apartment ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsxs(tt,{value:i.apartmentId,onValueChange:j=>d("apartmentId",j),children:[n.jsx(Je,{id:"apartment",children:n.jsx(rt,{placeholder:"Select apartment"})}),n.jsx(et,{children:r.map(j=>n.jsx(J,{value:j.id,children:j.name},j.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"vendor",className:"flex items-center gap-2",children:[n.jsx(La,{className:"h-4 w-4 text-muted-foreground"}),"Vendor ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsxs(tt,{value:i.vendorId,onValueChange:j=>d("vendorId",j),children:[n.jsx(Je,{id:"vendor",children:n.jsx(rt,{placeholder:"Select vendor"})}),n.jsx(et,{children:s.map(j=>n.jsx(J,{value:j.id,children:j.name},j.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"orderRef",children:["Order Reference ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsx(me,{id:"orderRef",placeholder:"e.g., ORD-2025-001",value:i.orderReference,onChange:j=>d("orderReference",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"dueDate",className:"flex items-center gap-2",children:[n.jsx(Qr,{className:"h-4 w-4 text-muted-foreground"}),"Due Date ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsx(me,{id:"dueDate",type:"date",value:i.dueDate,onChange:j=>d("dueDate",j.target.value)})]})]})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Nr,{className:"h-5 w-5 text-primary"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Payment Amount"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"totalAmount",children:["Total Amount (HUF) ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsx(me,{id:"totalAmount",type:"number",placeholder:"0.00",value:i.totalAmount,onChange:j=>d("totalAmount",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"amountPaid",children:"Amount Paid (HUF)"}),n.jsx(me,{id:"amountPaid",type:"number",placeholder:"0.00",value:i.amountPaid,onChange:j=>d("amountPaid",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Balance (HUF)"}),n.jsx("div",{className:ve("h-10 px-3 rounded-md border flex items-center font-semibold",x>0?"bg-warning/10 text-warning border-warning/20":"bg-success/10 text-success border-success/20"),children:x.toFixed(2)})]})]}),p>0&&n.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total Amount:"}),n.jsxs("span",{className:"font-semibold",children:[p.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Amount Paid:"}),n.jsxs("span",{className:"font-semibold text-success",children:[g.toLocaleString()," HUF"]})]}),n.jsx(Lt,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-semibold",children:"Outstanding Balance:"}),n.jsxs("span",{className:ve("text-lg font-bold",x>0?"text-warning":"text-success"),children:[x.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[x===0&&n.jsxs(_e,{className:"bg-success/10 text-success border-success/20",children:[n.jsx(or,{className:"h-3 w-3 mr-1"}),"Fully Paid"]}),x>0&&g>0&&n.jsxs(_e,{className:"bg-warning/10 text-warning border-warning/20",children:[n.jsx(At,{className:"h-3 w-3 mr-1"}),"Partial Payment"]}),x>0&&g===0&&n.jsx(_e,{variant:"outline",children:"Unpaid"})]})]})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(ws,{className:"h-5 w-5 text-primary"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Payment Details"})]}),n.jsxs(Mo,{value:l,onValueChange:j=>c(j),children:[n.jsxs(ro,{className:"grid w-full grid-cols-3",children:[n.jsxs(zt,{value:"bank",className:"flex items-center gap-2",children:[n.jsx(c0,{className:"h-4 w-4"}),"Bank Transfer"]}),n.jsxs(zt,{value:"card",className:"flex items-center gap-2",children:[n.jsx(ws,{className:"h-4 w-4"}),"Card Payment"]}),n.jsxs(zt,{value:"cash",className:"flex items-center gap-2",children:[n.jsx(Nr,{className:"h-4 w-4"}),"Cash"]})]}),n.jsx(Qt,{value:"bank",className:"space-y-4 mt-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"bankName",children:"Bank Name"}),n.jsx(me,{id:"bankName",placeholder:"e.g., OTP Bank",value:i.bankName,onChange:j=>d("bankName",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"accountHolder",children:"Account Holder"}),n.jsx(me,{id:"accountHolder",placeholder:"Full name",value:i.accountHolder,onChange:j=>d("accountHolder",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"accountNumber",children:"Account Number"}),n.jsx(me,{id:"accountNumber",placeholder:"XXXX-XXXX-XXXX-XXXX",value:i.accountNumber,onChange:j=>d("accountNumber",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"iban",children:"IBAN"}),n.jsx(me,{id:"iban",placeholder:"HU42 1177 3016 1111 1018 0000 0000",value:i.iban,onChange:j=>d("iban",j.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"swift",children:"SWIFT/BIC Code"}),n.jsx(me,{id:"swift",placeholder:"e.g., OTPVHUHB",value:i.swift,onChange:j=>d("swift",j.target.value)})]})]})}),n.jsx(Qt,{value:"card",className:"space-y-4 mt-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"cardNumber",children:"Card Number"}),n.jsx(me,{id:"cardNumber",placeholder:"XXXX XXXX XXXX XXXX",maxLength:19,value:i.cardNumber,onChange:j=>d("cardNumber",j.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"cardHolder",children:"Card Holder Name"}),n.jsx(me,{id:"cardHolder",placeholder:"Name as on card",value:i.cardHolder,onChange:j=>d("cardHolder",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"expiryDate",children:"Expiry Date"}),n.jsx(me,{id:"expiryDate",placeholder:"MM/YY",maxLength:5,value:i.expiryDate,onChange:j=>d("expiryDate",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"cvv",children:"CVV"}),n.jsx(me,{id:"cvv",type:"password",placeholder:"XXX",maxLength:4,value:i.cvv,onChange:j=>d("cvv",j.target.value)})]})]})}),n.jsx(Qt,{value:"cash",className:"mt-4",children:n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg text-center text-muted-foreground",children:[n.jsx(c0,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/50"}),n.jsx("p",{className:"text-sm",children:"Cash payment selected. No additional details required."})]})})]})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"p-6 space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(pn,{id:"notes",placeholder:"Add any additional payment notes or instructions...",rows:3,value:i.notes,onChange:j=>d("notes",j.target.value)})]})}),(h||m)&&n.jsx(X,{className:"bg-primary/5 border-primary/20",children:n.jsxs(Q,{className:"p-6",children:[n.jsx("h3",{className:"font-semibold mb-3 text-primary",children:"Payment Summary"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[h&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Apartment:"}),n.jsx("span",{className:"font-medium",children:h.name})]}),m&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Vendor:"}),n.jsx("span",{className:"font-medium",children:m.name})]}),i.orderReference&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Order Reference:"}),n.jsx("span",{className:"font-mono font-medium",children:i.orderReference})]}),i.dueDate&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Due Date:"}),n.jsx("span",{className:"font-medium",children:new Date(i.dueDate).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Payment Method:"}),n.jsx(_e,{variant:"outline",children:l.toUpperCase()})]})]})]})})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(ee,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx(ee,{onClick:f,className:"px-8",children:"Create Payment"})]})]})})};function Art(){return n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(C,{className:"h-11 w-40 rounded-md"}),n.jsx(C,{className:"h-10 w-36 rounded-md"})]})}function Prt(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{iconBg:"bg-primary/10"},{iconBg:"bg-green-500/10"},{iconBg:"bg-yellow-500/10"},{iconBg:"bg-red-500/10"}].map((e,t)=>n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-24"}),n.jsx(C,{className:"h-8 w-32"}),t===3&&n.jsx(C,{className:"h-3 w-20 mt-1"})]}),n.jsx("div",{className:`p-3 rounded-lg ${e.iconBg}`,children:n.jsx(C,{className:"h-6 w-6 rounded"})})]})})},t))})}function krt(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-6 w-40"}),n.jsx(C,{className:"h-4 w-64"})]}),n.jsx(C,{className:"h-10 w-[130px] rounded-md"})]})}),n.jsxs(Q,{children:[n.jsx("div",{className:"grid w-full grid-cols-3 bg-muted rounded-lg p-1 mb-6",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-24"})]},t))}),n.jsx("div",{className:"h-[350px] flex items-end justify-between gap-2 px-4",children:[...Array(12)].map((e,t)=>n.jsxs("div",{className:"flex-1 flex flex-col justify-end gap-1",children:[n.jsx(C,{className:"w-full rounded-t",style:{height:`${Math.random()*60+40}%`}}),n.jsx(C,{className:"h-3 w-full"})]},t))})]})]})}function Trt(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-6 w-32"}),n.jsx(C,{className:"h-9 w-28 rounded-md"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[n.jsx(C,{className:"h-10 flex-1 rounded-md"}),n.jsx(C,{className:"h-10 w-[140px] rounded-md"}),n.jsx(C,{className:"h-10 w-[140px] rounded-md"}),n.jsx(C,{className:"h-10 w-[140px] rounded-md"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]},t))})]})]})}function Ort(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-6 w-48"}),n.jsx(C,{className:"h-9 w-32 rounded-md"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Order Ref","Vendor","Apartment","Due Date","Total","Paid","Outstanding","Status","Actions"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(8)].map((e,t)=>n.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-3 w-32"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-3 w-36"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-32"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-5 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"})]})})]},t))})]})})})]})}function Drt(){return n.jsxs("div",{className:"space-y-6",children:[n.jsx(Art,{}),n.jsx(Prt,{}),n.jsx(krt,{}),n.jsx(Trt,{}),n.jsx(Ort,{})]})}const Irt=()=>{var wt,Qe;const e=mr(),{apartments:t,vendors:r,updatePayment:s,addPaymentToHistory:a}=Ll(),{data:i,isLoading:o,error:l,refetch:c}=f3({page_size:100}),d=IBe();WX();const u=m3(),f=(i==null?void 0:i.results)||[],[m,h]=v.useState(""),[x,p]=v.useState("All"),[g,j]=v.useState("All"),[y,w]=v.useState("All"),[b,N]=v.useState(""),[S,_]=v.useState(""),[E,A]=v.useState(""),[k,D]=v.useState(""),[I,W]=v.useState(null),[H,F]=v.useState(!1),[T,P]=v.useState(!1),[M,O]=v.useState(!1),[K,ne]=v.useState("30d"),[R,V]=v.useState("trends"),[L,G]=v.useState(!1),[le,fe]=v.useState(!1),[B,Y]=v.useState(null),ie=ye=>{var qe;return((qe=ye.apartment_details)==null?void 0:qe.name)||"Unknown"},we=ye=>({Paid:"bg-success/10 text-success border-success/20",Partial:"bg-warning/10 text-warning border-warning/20",Unpaid:"bg-muted text-muted-foreground border-border",Overdue:"bg-danger/10 text-danger border-danger/20"})[ye]||"bg-muted",ue=ye=>{switch(ye){case"Paid":return n.jsx(Ur,{className:"h-3.5 w-3.5"});case"Partial":return n.jsx(wr,{className:"h-3.5 w-3.5"});case"Overdue":return n.jsx(At,{className:"h-3.5 w-3.5"});default:return n.jsx(Nr,{className:"h-3.5 w-3.5"})}},ge=v.useMemo(()=>f.filter(ye=>{var jt;const qe=ie(ye),Pt=ye.vendor_name||((jt=ye.vendor_details)==null?void 0:jt.name)||"",Ct=Pt.toLowerCase().includes(m.toLowerCase())||ye.order_reference.toLowerCase().includes(m.toLowerCase())||qe.toLowerCase().includes(m.toLowerCase()),vr=x==="All"||ye.status===x,qr=g==="All"||Pt===g,On=y==="All"||ye.apartment===y;let Vr=!0;if(b||S){const Tt=new Date(ye.due_date);b&&(Vr=Vr&&Tt>=new Date(b)),S&&(Vr=Vr&&Tt<=new Date(S))}let Pr=!0;if(E||k){const Tt=ye.total_amount||0;E&&(Pr=Pr&&Tt>=parseFloat(E)),k&&(Pr=Pr&&Tt<=parseFloat(k))}return Ct&&vr&&qr&&On&&Vr&&Pr}),[f,m,x,g,y,b,S,E,k]),xe=ge.reduce((ye,qe)=>ye+(qe.total_amount||0),0),Se=ge.reduce((ye,qe)=>ye+(qe.amount_paid||0),0),Me=xe-Se,ke=ge.filter(ye=>ye.status==="Overdue").length,se=ge.filter(ye=>ye.status==="Partial").length,he=Array.from(new Set(f.map(ye=>{var qe;return ye.vendor_name||((qe=ye.vendor_details)==null?void 0:qe.name)||""}))).filter(Boolean).sort(),ce=()=>{h(""),p("All"),j("All"),w("All"),N(""),_(""),A(""),D("")},je=[m,x!=="All",g!=="All",y!=="All",b,S,E,k].filter(Boolean).length,$e=ye=>{W(ye),F(!0)},De=()=>{Ue.success("Export Started",{description:"Your payment report is being generated..."})},de=v.useMemo(()=>{const ye=new Date;let qe;switch(K){case"7d":Ac(ye,7),qe=7;break;case"30d":Ac(ye,30),qe=30;break;case"90d":Ac(ye,90),qe=90;break;case"1y":f0e(ye,12),qe=365;break;default:Ac(ye,30),qe=30}const Pt=[];for(let Ct=qe;Ct>=0;Ct--){const vr=Ac(ye,Ct),qr=Xt(vr,"yyyy-MM-dd"),Vr=f.filter(Pr=>{var jt;return Pr.last_payment_date===qr?!0:(jt=Pr.payment_history)==null?void 0:jt.some(Tt=>Tt.date===qr)}).reduce((Pr,jt)=>{var tr;const Tt=((tr=jt.payment_history)==null?void 0:tr.filter(Un=>Un.date===qr))||[];return Pr+Tt.reduce((Un,ds)=>Un+(ds.amount||0),0)},0);Pt.push({date:Xt(vr,"MMM dd"),fullDate:qr,paid:Vr,pending:f.filter(Pr=>Pr.due_date===qr&&Pr.status!=="Paid").reduce((Pr,jt)=>Pr+(jt.outstanding_amount||0),0)})}return Pt},[f,K]),Ie=v.useMemo(()=>{const ye={Paid:f.filter(qe=>qe.status==="Paid").length,Partial:f.filter(qe=>qe.status==="Partial").length,Unpaid:f.filter(qe=>qe.status==="Unpaid").length,Overdue:f.filter(qe=>qe.status==="Overdue").length};return[{name:"Paid",value:ye.Paid,color:"hsl(var(--success))"},{name:"Partial",value:ye.Partial,color:"hsl(var(--warning))"},{name:"Unpaid",value:ye.Unpaid,color:"hsl(var(--muted-foreground))"},{name:"Overdue",value:ye.Overdue,color:"hsl(var(--danger))"}].filter(qe=>qe.value>0)},[f]),it=v.useMemo(()=>{const ye={};return f.forEach(qe=>{var Ct;const Pt=qe.vendor_name||((Ct=qe.vendor_details)==null?void 0:Ct.name)||"Unknown";ye[Pt]||(ye[Pt]={total:0,paid:0,pending:0}),ye[Pt].total+=qe.total_amount||0,ye[Pt].paid+=qe.amount_paid||0,ye[Pt].pending+=qe.outstanding_amount||0}),Object.entries(ye).map(([qe,Pt])=>({vendor:qe,...Pt})).sort((qe,Pt)=>Pt.total-qe.total).slice(0,5)},[f]);return o?n.jsx(ct,{title:"Payments",children:n.jsx(Drt,{})}):n.jsxs(ct,{title:"Payments",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs(ee,{onClick:()=>e("/payments/new"),size:"lg",className:"h-11",children:[n.jsx(Qn,{className:"h-5 w-5 mr-2"}),"Create Payment"]}),n.jsxs(ee,{variant:"outline",onClick:De,children:[n.jsx(Rv,{className:"h-4 w-4 mr-2"}),"Export Report"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold tracking-tight",children:[xe.toLocaleString()," HUF"]})]}),n.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:n.jsx(Nr,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Total Paid"}),n.jsxs("p",{className:"text-2xl font-bold tracking-tight text-success",children:[Se.toLocaleString()," HUF"]})]}),n.jsx("div",{className:"p-3 bg-success/10 rounded-lg",children:n.jsx(Ur,{className:"h-6 w-6 text-success"})})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Outstanding"}),n.jsxs("p",{className:"text-2xl font-bold tracking-tight text-warning",children:[Me.toLocaleString()," HUF"]})]}),n.jsx("div",{className:"p-3 bg-warning/10 rounded-lg",children:n.jsx(wr,{className:"h-6 w-6 text-warning"})})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Overdue"}),n.jsx("p",{className:"text-2xl font-bold tracking-tight text-danger",children:ke}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[se," Partial"]})]}),n.jsx("div",{className:"p-3 bg-danger/10 rounded-lg",children:n.jsx(At,{className:"h-6 w-6 text-danger"})})]})})})]}),n.jsxs(X,{children:[n.jsx(be,{className:"pb-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(Ve,{className:"text-lg font-semibold",children:"Payment Analytics"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Visual insights into payment trends and status"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(tt,{value:K,onValueChange:ye=>ne(ye),children:[n.jsx(Je,{className:"w-[130px]",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"7d",children:"Last 7 days"}),n.jsx(J,{value:"30d",children:"Last 30 days"}),n.jsx(J,{value:"90d",children:"Last 90 days"}),n.jsx(J,{value:"1y",children:"Last year"})]})]})})]})}),n.jsx(Q,{children:n.jsxs(Mo,{value:R,onValueChange:ye=>V(ye),children:[n.jsxs(ro,{className:"grid w-full grid-cols-3 mb-6",children:[n.jsxs(zt,{value:"trends",className:"flex items-center gap-2",children:[n.jsx(Bf,{className:"h-4 w-4"}),"Payment Trends"]}),n.jsxs(zt,{value:"status",className:"flex items-center gap-2",children:[n.jsx(Ur,{className:"h-4 w-4"}),"Status Distribution"]}),n.jsxs(zt,{value:"vendors",className:"flex items-center gap-2",children:[n.jsx(li,{className:"h-4 w-4"}),"Vendor Comparison"]})]}),n.jsx(Qt,{value:"trends",className:"mt-0",children:n.jsx(dn,{width:"100%",height:350,children:n.jsxs(HLe,{data:de,children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorPaid",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"hsl(var(--success))",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"hsl(var(--success))",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorPending",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"hsl(var(--warning))",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"hsl(var(--warning))",stopOpacity:0})]})]}),n.jsx(zn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(rn,{dataKey:"date",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(nn,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:ye=>`${(ye/1e3).toFixed(0)}k`}),n.jsx(hr,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:ye=>[`${ye.toLocaleString()} HUF`,""]}),n.jsx(ol,{}),n.jsx(ad,{type:"monotone",dataKey:"paid",stroke:"hsl(var(--success))",fillOpacity:1,fill:"url(#colorPaid)",name:"Paid"}),n.jsx(ad,{type:"monotone",dataKey:"pending",stroke:"hsl(var(--warning))",fillOpacity:1,fill:"url(#colorPending)",name:"Pending"})]})})}),n.jsx(Qt,{value:"status",className:"mt-0",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(dn,{width:"100%",height:350,children:n.jsxs(Fg,{children:[n.jsx(Vi,{data:Ie,cx:"50%",cy:"50%",labelLine:!1,label:({name:ye,percent:qe})=>`${ye}: ${(qe*100).toFixed(0)}%`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:Ie.map((ye,qe)=>n.jsx(Ca,{fill:ye.color},`cell-${qe}`))}),n.jsx(hr,{})]})}),n.jsx("div",{className:"flex flex-col justify-center space-y-4",children:Ie.map(ye=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:ye.color}}),n.jsx("span",{className:"font-medium",children:ye.name})]}),n.jsx("span",{className:"text-2xl font-bold",children:ye.value})]},ye.name))})]})}),n.jsx(Qt,{value:"vendors",className:"mt-0",children:n.jsx(dn,{width:"100%",height:350,children:n.jsxs(Sa,{data:it,children:[n.jsx(zn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(rn,{dataKey:"vendor",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(nn,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:ye=>`${(ye/1e3).toFixed(0)}k`}),n.jsx(hr,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:ye=>[`${ye.toLocaleString()} HUF`,""]}),n.jsx(ol,{}),n.jsx(Sn,{dataKey:"paid",fill:"hsl(var(--success))",name:"Paid",radius:[4,4,0,0]}),n.jsx(Sn,{dataKey:"pending",fill:"hsl(var(--warning))",name:"Pending",radius:[4,4,0,0]})]})})})]})})]}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search by vendor, order reference, or apartment...",value:m,onChange:ye=>h(ye.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"flex gap-2 flex-wrap lg:flex-nowrap",children:[n.jsxs(tt,{value:x,onValueChange:p,children:[n.jsx(Je,{className:"w-full sm:w-[140px]",children:n.jsx(rt,{placeholder:"Status"})}),n.jsxs(et,{children:[n.jsx(J,{value:"All",children:"All Status"}),n.jsx(J,{value:"Paid",children:"Paid"}),n.jsx(J,{value:"Partial",children:"Partial"}),n.jsx(J,{value:"Unpaid",children:"Unpaid"}),n.jsx(J,{value:"Overdue",children:"Overdue"})]})]}),n.jsxs(tt,{value:g,onValueChange:j,children:[n.jsx(Je,{className:"w-full sm:w-[140px]",children:n.jsx(rt,{placeholder:"Vendor"})}),n.jsxs(et,{children:[n.jsx(J,{value:"All",children:"All Vendors"}),he.map(ye=>n.jsx(J,{value:ye,children:ye},ye))]})]}),n.jsxs(ee,{variant:L?"default":"outline",onClick:()=>G(!L),className:"relative",children:[n.jsx(Mv,{className:"h-4 w-4 mr-2"}),"Filters",je>0&&n.jsx(_e,{className:"ml-2 h-5 w-5 p-0 flex items-center justify-center bg-primary text-primary-foreground",children:je}),L?n.jsx(gN,{className:"h-4 w-4 ml-2"}):n.jsx(Ou,{className:"h-4 w-4 ml-2"})]})]})]}),L&&n.jsxs("div",{className:"pt-4 border-t space-y-4 animate-slide-down",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Advanced Filters"}),je>0&&n.jsxs(ee,{variant:"ghost",size:"sm",onClick:ce,className:"h-8 text-xs",children:[n.jsx(ps,{className:"h-3 w-3 mr-1"}),"Clear All"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Apartment"}),n.jsxs(tt,{value:y,onValueChange:w,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"All Apartments"})}),n.jsxs(et,{children:[n.jsx(J,{value:"All",children:"All Apartments"}),t.map(ye=>n.jsx(J,{value:ye.id,children:ye.name},ye.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Due Date From"}),n.jsx(me,{type:"date",value:b,onChange:ye=>N(ye.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Due Date To"}),n.jsx(me,{type:"date",value:S,onChange:ye=>_(ye.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Min Amount (HUF)"}),n.jsx(me,{type:"number",placeholder:"0",value:E,onChange:ye=>A(ye.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Max Amount (HUF)"}),n.jsx(me,{type:"number",placeholder:"1000000",value:k,onChange:ye=>D(ye.target.value)})]})]}),je>0&&n.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[m&&n.jsxs(_e,{variant:"secondary",className:"gap-1",children:["Search: ",m,n.jsx(ps,{className:"h-3 w-3 cursor-pointer",onClick:()=>h("")})]}),x!=="All"&&n.jsxs(_e,{variant:"secondary",className:"gap-1",children:["Status: ",x,n.jsx(ps,{className:"h-3 w-3 cursor-pointer",onClick:()=>p("All")})]}),g!=="All"&&n.jsxs(_e,{variant:"secondary",className:"gap-1",children:["Vendor: ",g,n.jsx(ps,{className:"h-3 w-3 cursor-pointer",onClick:()=>j("All")})]}),y!=="All"&&n.jsxs(_e,{variant:"secondary",className:"gap-1",children:["Apartment: ",((wt=t.find(ye=>ye.id===y))==null?void 0:wt.name)||y,n.jsx(ps,{className:"h-3 w-3 cursor-pointer",onClick:()=>w("All")})]}),b&&n.jsxs(_e,{variant:"secondary",className:"gap-1",children:["From: ",Xt(new Date(b),"MMM dd, yyyy"),n.jsx(ps,{className:"h-3 w-3 cursor-pointer",onClick:()=>N("")})]}),S&&n.jsxs(_e,{variant:"secondary",className:"gap-1",children:["To: ",Xt(new Date(S),"MMM dd, yyyy"),n.jsx(ps,{className:"h-3 w-3 cursor-pointer",onClick:()=>_("")})]}),E&&n.jsxs(_e,{variant:"secondary",className:"gap-1",children:["Min: ",parseFloat(E).toLocaleString()," HUF",n.jsx(ps,{className:"h-3 w-3 cursor-pointer",onClick:()=>A("")})]}),k&&n.jsxs(_e,{variant:"secondary",className:"gap-1",children:["Max: ",parseFloat(k).toLocaleString()," HUF",n.jsx(ps,{className:"h-3 w-3 cursor-pointer",onClick:()=>D("")})]})]})]}),n.jsx("div",{className:"flex items-center justify-between pt-2 border-t",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",n.jsx("span",{className:"font-semibold text-foreground",children:ge.length})," of"," ",n.jsx("span",{className:"font-semibold text-foreground",children:f.length})," payments"]})})]})})}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{className:"text-lg font-semibold",children:"Payment Records"})}),n.jsx(Q,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Vt,{className:"bg-muted/50",children:[n.jsx(Pe,{className:"font-semibold",children:"Vendor"}),n.jsx(Pe,{className:"font-semibold",children:"Order Ref"}),n.jsx(Pe,{className:"font-semibold",children:"Apartment"}),n.jsx(Pe,{className:"font-semibold text-right",children:"Total Amount"}),n.jsx(Pe,{className:"font-semibold text-right",children:"Paid"}),n.jsx(Pe,{className:"font-semibold text-right",children:"Balance"}),n.jsx(Pe,{className:"font-semibold",children:"Due Date"}),n.jsx(Pe,{className:"font-semibold",children:"Status"}),n.jsx(Pe,{className:"font-semibold text-center",children:"Actions"})]})}),n.jsx($s,{children:ge.length===0?n.jsx(Vt,{children:n.jsx(Ne,{colSpan:9,className:"text-center py-12 text-muted-foreground",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(Bb,{className:"h-12 w-12 text-muted-foreground/50"}),n.jsx("p",{children:"No payments found matching your filters"})]})})}):ge.map(ye=>{var jt;const qe=ye.total_amount||0,Pt=ye.amount_paid||0,Ct=ye.outstanding_amount||0,vr=ye.status==="Overdue",Vr=new Date(ye.due_date)<new Date&&ye.status!=="Paid",Pr=ye.vendor_name||((jt=ye.vendor_details)==null?void 0:jt.name)||"Unknown";return n.jsxs(Vt,{className:ve("transition-colors cursor-pointer hover:bg-muted/50",vr&&"bg-danger/5 hover:bg-danger/10"),onClick:()=>e(`/payments/${ye.id}`),children:[n.jsxs(Ne,{children:[n.jsx("div",{className:"font-medium text-foreground",children:Pr}),ye.notes&&n.jsx("div",{className:"text-xs text-muted-foreground mt-0.5 max-w-[200px] truncate",children:ye.notes})]}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Bb,{className:"h-3.5 w-3.5 text-muted-foreground"}),n.jsx("span",{className:"font-mono text-sm",children:ye.order_reference})]})}),n.jsx(Ne,{children:n.jsx(_e,{variant:"outline",className:"font-normal",children:ie(ye)})}),n.jsx(Ne,{className:"text-right",children:n.jsxs("span",{className:"font-semibold",children:[qe.toLocaleString()," HUF"]})}),n.jsx(Ne,{className:"text-right",children:Pt>0?n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs("div",{className:"font-semibold text-success",children:[Pt.toLocaleString()," HUF"]}),ye.last_payment_date&&n.jsx("div",{className:"text-xs text-muted-foreground",children:Xt(new Date(ye.last_payment_date),"MMM dd")})]}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(Ne,{className:"text-right",children:Ct>0?n.jsxs("span",{className:ve("font-semibold",vr?"text-danger":"text-warning"),children:[Ct.toLocaleString()," HUF"]}):n.jsx("span",{className:"text-success",children:" Paid"})}),n.jsx(Ne,{children:n.jsx("div",{className:ve("text-sm",Vr&&"text-danger font-semibold"),children:Xt(new Date(ye.due_date),"MMM dd, yyyy")})}),n.jsx(Ne,{children:n.jsxs(_e,{className:we(ye.status),children:[ue(ye.status),n.jsx("span",{className:"ml-1",children:ye.status})]})}),n.jsx(Ne,{className:"text-center",onClick:Tt=>Tt.stopPropagation(),children:n.jsx("div",{className:"flex items-center justify-center gap-1",children:n.jsxs(ey,{children:[n.jsx(ty,{asChild:!0,children:n.jsx(ee,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(m7,{className:"h-4 w-4"})})}),n.jsxs(Qp,{align:"end",children:[n.jsxs(Mn,{onClick:()=>e(`/payments/${ye.id}`),children:[n.jsx(oi,{className:"h-4 w-4 mr-2"}),"View Details"]}),ye.status!=="Paid"&&n.jsxs(n.Fragment,{children:[n.jsx($c,{}),n.jsxs(Mn,{onClick:()=>$e(ye),className:"text-success focus:text-success",children:[n.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]}),n.jsx($c,{}),n.jsxs(Mn,{onClick:()=>e(`/payments/${ye.id}/edit`),children:[n.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Edit Payment"]}),n.jsx($c,{}),n.jsxs(Mn,{className:"text-danger focus:text-danger",onClick:()=>{Y(ye),fe(!0)},children:[n.jsx(hn,{className:"h-4 w-4 mr-2"}),"Delete Payment"]})]})]})})})]},ye.id)})})]})})})]})]}),n.jsx(h3,{payment:I,open:H,onOpenChange:F,onSave:async(ye,qe,Pt,Ct)=>{if(I)try{await u.mutateAsync({payment:I.id,date:new Date().toISOString().split("T")[0],amount:ye,method:qe,reference_no:Pt,note:Ct}),Ue.success("Payment Recorded",{description:`${ye.toLocaleString()} HUF recorded successfully`}),F(!1),c()}catch{Ue.error("Failed to record payment")}}}),n.jsx(Crt,{payment:I,open:T,onOpenChange:P}),n.jsx(Ert,{open:M,onOpenChange:O}),n.jsx(uc,{open:le,onOpenChange:fe,children:n.jsxs(yl,{className:"max-w-md",onKeyDown:async ye=>{if(ye.key==="Enter"&&B&&!d.isPending){ye.preventDefault();try{await d.mutateAsync(B.id),Ue.success("Payment Deleted",{description:`Payment ${B.order_reference} has been deleted.`}),fe(!1),Y(null),c()}catch{Ue.error("Failed to delete payment")}}},children:[n.jsxs(jl,{className:"space-y-4",children:[n.jsx("div",{className:"mx-auto w-14 h-14 rounded-full bg-danger/10 flex items-center justify-center",children:n.jsx(ci,{className:"h-7 w-7 text-danger"})}),n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx(wl,{className:"text-xl",children:"Delete Payment"}),n.jsx(Nl,{className:"text-base",children:"Are you sure you want to delete this payment record?"})]}),B&&n.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 border space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Order Reference"}),n.jsx("span",{className:"font-semibold",children:B.order_reference})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Vendor"}),n.jsx("span",{className:"font-medium",children:B.vendor_name||((Qe=B.vendor_details)==null?void 0:Qe.name)||"N/A"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Amount"}),n.jsxs("span",{className:"font-semibold text-primary",children:[(B.total_amount||0).toLocaleString()," HUF"]})]})]}),n.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:[n.jsx(ci,{className:"h-3.5 w-3.5 inline mr-1 text-warning"}),"This action cannot be undone. All payment history will be lost."]})]}),n.jsxs(bl,{className:"sm:space-x-3 mt-2",children:[n.jsxs(Sl,{className:"flex-1 sm:flex-none",children:[n.jsx(Ul,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsx(_l,{className:"flex-1 sm:flex-none bg-danger text-danger-foreground hover:bg-danger/90",disabled:d.isPending,onClick:async()=>{if(B)try{await d.mutateAsync(B.id),Ue.success("Payment Deleted",{description:`Payment ${B.order_reference} has been deleted.`}),fe(!1),Y(null),c()}catch{Ue.error("Failed to delete payment")}},children:d.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(hn,{className:"h-4 w-4 mr-2"}),"Delete Payment"]})})]})]})})]})},Rrt=()=>{var T,P,M;const e=mr(),[t]=kN(),[r,s]=v.useState("select-order"),[a,i]=v.useState(null),[o,l]=v.useState([]),[c,d]=v.useState({due_date:"",total_amount:"",needs_to_pay:"",shipping_cost:"",discount:"",payment_method:"Bank Transfer",reference_number:"",notes:"",bank_name:"",account_holder:"",account_number:"",iban:"",card_holder:"",card_last_four:""}),[u,f]=v.useState(""),[m,h]=v.useState(!1),{orders:x,loading:p}=EQ({page_size:100}),{data:g}=f3({page_size:200}),j=(g==null?void 0:g.results)||[],y=OBe(),w=v.useMemo(()=>{const O=new Map;return j.forEach(K=>{K.order&&(!O.get(K.order)||K.status==="Paid")&&O.set(K.order,{status:K.status,paymentId:K.id})}),O},[j]),b=v.useMemo(()=>x.filter(O=>{const K=w.get(O.id);return!K||K.status!=="Paid"}),[x,w]),N=v.useMemo(()=>{if(!u.trim())return b;const O=u.toLowerCase();return b.filter(K=>{var ne,R,V;return((ne=K.po_number)==null?void 0:ne.toLowerCase().includes(O))||((R=K.vendor_name)==null?void 0:R.toLowerCase().includes(O))||((V=K.apartment_name)==null?void 0:V.toLowerCase().includes(O))})},[b,u]),S=v.useMemo(()=>!a||!a.items||o.length===0?0:a.items.filter(O=>o.includes(O.id||"")).reduce((O,K)=>{const ne=parseFloat(String(K.unit_price||0)),R=K.quantity||1;return O+ne*R},0),[a,o]);v.useEffect(()=>{if(a&&a.items){const O=t.get("product");if(O){const ne=a.items.find(R=>R.product===O);ne&&ne.id?l([ne.id]):l(a.items.map(R=>R.id||"").filter(Boolean))}else l(a.items.map(ne=>ne.id||"").filter(Boolean));let K;a.expected_delivery?K=new Date(a.expected_delivery):(K=new Date,K.setDate(K.getDate()+30)),d(ne=>({...ne,due_date:K.toISOString().split("T")[0],total_amount:"",needs_to_pay:"0",shipping_cost:"0",discount:"0"}))}},[a,t]),v.useEffect(()=>{S>0&&d(O=>({...O,total_amount:Math.round(S).toString()}))},[S]),v.useEffect(()=>{const O=t.get("order");if(O&&x.length>0&&!a){const K=x.find(ne=>ne.id===O);K&&A(K)}},[t,x,a]);const _=v.useMemo(()=>{const O=parseInt(c.total_amount)||0,K=parseInt(c.shipping_cost)||0,ne=parseInt(c.discount)||0;return O+K-ne},[c.total_amount,c.shipping_cost,c.discount]),E=v.useMemo(()=>{const O=parseInt(c.needs_to_pay)||0;return _-O},[_,c.needs_to_pay]),A=async O=>{h(!0);try{const K=await ys.getOrder(O.id);i(K),s("review-items")}catch(K){console.error("Error fetching order details:",K),Ue.error("Failed to load order details")}finally{h(!1)}},k=O=>{l(K=>K.includes(O)?K.filter(ne=>ne!==O):[...K,O])},D=()=>{if(!a||!a.items)return;const O=a.items.map(K=>K.id||"").filter(Boolean);o.length===O.length?l([]):l(O)},I=async()=>{var O,K;if(!a){Ue.error("Please select an order");return}if(o.length===0){Ue.error("Please select at least one item");return}if(!c.due_date){Ue.error("Please set a due date");return}try{const ne=parseInt(c.needs_to_pay)||0,R={order:a.id,order_items:o,due_date:c.due_date,total_amount:parseInt(c.total_amount)||0,shipping_cost:parseInt(c.shipping_cost)||0,discount:parseInt(c.discount)||0,amount_paid:0,payment_method:c.payment_method,reference_number:c.reference_number,notes:c.notes,bank_name:c.bank_name,account_holder:c.account_holder,account_number:c.account_number,iban:c.iban,card_holder:c.card_holder,card_last_four:c.card_last_four},V=await y.mutateAsync(R);ne>0&&await xd.createPaymentHistory({payment:V.id,date:new Date().toISOString().split("T")[0],amount:ne,method:c.payment_method||"Bank Transfer",reference_no:c.reference_number||"",note:"Initial payment when creating payment record"}),Ue.success("Payment created successfully!"),e("/payments")}catch(ne){console.error("Error creating payment:",ne),Ue.error(((K=(O=ne.response)==null?void 0:O.data)==null?void 0:K.message)||"Failed to create payment")}},W=O=>({pending:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",confirmed:"bg-blue-500/10 text-blue-600 border-blue-500/20",processing:"bg-purple-500/10 text-purple-600 border-purple-500/20",shipped:"bg-indigo-500/10 text-indigo-600 border-indigo-500/20",delivered:"bg-green-500/10 text-green-600 border-green-500/20",cancelled:"bg-red-500/10 text-red-600 border-red-500/20"})[O==null?void 0:O.toLowerCase()]||"bg-gray-500/10 text-gray-600",H=[{id:"select-order",label:"Select Order",icon:Ns},{id:"review-items",label:"Review Items",icon:ot},{id:"payment-details",label:"Payment Details",icon:ws}],F=H.findIndex(O=>O.id===r);return n.jsx(ct,{title:"Create Payment",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>e("/payments"),className:"h-10 w-10 rounded-full",children:n.jsx(sr,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create Payment"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Create a payment record from an existing order"})]})]}),n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between relative",children:[n.jsx("div",{className:"absolute top-5 left-0 right-0 h-0.5 bg-muted",children:n.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${F/(H.length-1)*100}%`}})}),H.map((O,K)=>{const ne=O.icon,R=K<F,V=O.id===r;return n.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[n.jsx("div",{className:ve("w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300",R&&"bg-primary text-primary-foreground",V&&"bg-primary text-primary-foreground ring-4 ring-primary/20",!R&&!V&&"bg-muted text-muted-foreground"),children:R?n.jsx(yo,{className:"h-5 w-5"}):n.jsx(ne,{className:"h-5 w-5"})}),n.jsx("span",{className:ve("mt-2 text-sm font-medium",V?"text-primary":"text-muted-foreground"),children:O.label})]},O.id)})]})}),r==="select-order"&&n.jsxs(X,{className:"border-0 shadow-lg",children:[n.jsx(be,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:n.jsx(Ns,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Select an Order"}),n.jsx(Dr,{children:"Choose an order to create a payment record"})]})]})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search by PO number, vendor, or apartment...",value:u,onChange:O=>f(O.target.value),className:"pl-10 h-11"})]}),p||m?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(Bt,{className:"h-6 w-6 animate-spin text-muted-foreground mr-2"}),n.jsx("span",{className:"text-muted-foreground",children:m?"Loading order details...":"Loading orders..."})]}):N.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[n.jsx(Ns,{className:"h-10 w-10 mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No orders found"})]}):n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Vt,{className:"bg-muted/50 hover:bg-muted/50",children:[n.jsx(Pe,{className:"font-semibold",children:"PO Number"}),n.jsx(Pe,{className:"font-semibold",children:"Apartment"}),n.jsx(Pe,{className:"font-semibold",children:"Vendor"}),n.jsx(Pe,{className:"font-semibold text-center",children:"Items"}),n.jsx(Pe,{className:"font-semibold",children:"Date"}),n.jsx(Pe,{className:"font-semibold text-right",children:"Total"}),n.jsx(Pe,{className:"w-10"})]})}),n.jsx($s,{children:N.map(O=>{var ne,R;const K=parseFloat(String(O.total||0));return n.jsxs(Vt,{onClick:()=>A(O),className:ve("cursor-pointer transition-colors",(a==null?void 0:a.id)===O.id?"bg-primary/5":"hover:bg-muted/50"),children:[n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-semibold",children:O.po_number}),n.jsx(_e,{variant:"outline",className:ve("text-xs",W(O.status)),children:O.status}),((ne=w.get(O.id))==null?void 0:ne.status)==="Partial"&&n.jsx(_e,{variant:"outline",className:"text-xs bg-warning/10 text-warning border-warning/20",children:"Has Payment"})]})}),n.jsx(Ne,{children:n.jsx("span",{className:"text-muted-foreground",children:O.apartment_name||"N/A"})}),n.jsx(Ne,{children:n.jsx("span",{className:"text-muted-foreground",children:O.vendor_name||"N/A"})}),n.jsx(Ne,{className:"text-center",children:n.jsx("span",{className:"text-muted-foreground",children:O.items_count||((R=O.items)==null?void 0:R.length)||0})}),n.jsx(Ne,{children:n.jsx("span",{className:"text-muted-foreground",children:O.placed_on?Xt(new Date(O.placed_on),"MMM dd, yyyy"):"N/A"})}),n.jsx(Ne,{className:"text-right",children:n.jsxs("span",{className:"font-semibold text-primary",children:[K.toLocaleString()," HUF"]})}),n.jsx(Ne,{children:n.jsx(xu,{className:"h-4 w-4 text-muted-foreground"})})]},O.id)})})]})})]})]}),r==="review-items"&&a&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(X,{className:"border-0 shadow-lg bg-gradient-to-br from-primary/5 to-primary/10",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Selected Order"}),n.jsx("h2",{className:"text-2xl font-bold",children:a.po_number}),n.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(fr,{className:"h-4 w-4"}),a.apartment_name]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(os,{className:"h-4 w-4"}),a.vendor_name]})]})]}),n.jsx(ee,{variant:"outline",onClick:()=>s("select-order"),children:"Change Order"})]})})}),n.jsxs(X,{className:"border-0 shadow-lg",children:[n.jsx(be,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:n.jsx(ot,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Order Items"}),n.jsx(Dr,{children:"Select items to include in this payment"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(So,{id:"select-all",checked:o.length===(((T=a.items)==null?void 0:T.length)||0),onCheckedChange:D}),n.jsxs(q,{htmlFor:"select-all",className:"cursor-pointer text-sm font-medium",children:["Select All (",o.length,"/",((P=a.items)==null?void 0:P.length)||0,")"]})]})]})}),n.jsxs(Q,{children:[n.jsx("div",{className:"rounded-xl border overflow-hidden",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Vt,{className:"bg-muted/50",children:[n.jsx(Pe,{className:"w-12"}),n.jsx(Pe,{children:"Product"}),n.jsx(Pe,{children:"Category"}),n.jsx(Pe,{className:"text-center",children:"Quantity"}),n.jsx(Pe,{className:"text-right",children:"Unit Price"}),n.jsx(Pe,{className:"text-right",children:"Total"})]})}),n.jsx($s,{children:(a.items||[]).map(O=>{const K=o.includes(O.id||""),ne=parseFloat(String(O.unit_price||0)),R=ne*(O.quantity||1);return n.jsxs(Vt,{className:ve("cursor-pointer transition-colors",K?"bg-primary/5":"hover:bg-muted/50"),onClick:()=>k(O.id||""),children:[n.jsx(Ne,{onClick:V=>V.stopPropagation(),children:n.jsx(So,{checked:K,onCheckedChange:()=>k(O.id||"")})}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[O.product_image||O.product_image_url?n.jsx("img",{src:O.product_image||O.product_image_url,alt:O.product_name||"Product",className:"w-10 h-10 rounded-lg object-cover border"}):n.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:n.jsx(ot,{className:"h-5 w-5 text-muted-foreground"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:O.product_name||"Unknown Product"}),O.sku&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["SKU: ",O.sku]})]})]})}),n.jsx(Ne,{children:n.jsx(_e,{variant:"outline",className:"font-normal",children:O.category_name||"N/A"})}),n.jsx(Ne,{className:"text-center font-medium",children:O.quantity}),n.jsxs(Ne,{className:"text-right",children:[ne.toLocaleString()," HUF"]}),n.jsxs(Ne,{className:"text-right font-semibold",children:[R.toLocaleString()," HUF"]})]},O.id)})})]})}),n.jsx("div",{className:"mt-6 p-4 rounded-xl bg-gradient-to-r from-primary/10 to-primary/5 border border-primary/20",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:n.jsx(or,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.length," item",o.length!==1?"s":""," selected"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready for payment"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),n.jsxs("p",{className:"text-3xl font-bold text-primary",children:[S.toLocaleString()," ",n.jsx("span",{className:"text-lg",children:"HUF"})]})]})]})})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(ee,{variant:"outline",onClick:()=>s("select-order"),className:"gap-2",children:[n.jsx(sr,{className:"h-4 w-4"}),"Back"]}),n.jsxs(ee,{onClick:()=>s("payment-details"),disabled:o.length===0,className:"gap-2",children:["Continue",n.jsx(xu,{className:"h-4 w-4"})]})]})]}),r==="payment-details"&&a&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(X,{className:"border-0 shadow-lg",children:[n.jsx(be,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 bg-green-500/10 rounded-xl",children:n.jsx(Nr,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Payment Amount"}),n.jsx(Dr,{children:"Set the payment amounts"})]})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"total_amount",className:"text-sm font-medium",children:["Total Amount (HUF) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(me,{id:"total_amount",type:"number",step:"1",min:"0",value:c.total_amount,onChange:O=>d(K=>({...K,total_amount:O.target.value})),placeholder:"0",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"needs_to_pay",className:"text-sm font-medium",children:"Amount Paid (HUF)"}),n.jsx(me,{id:"needs_to_pay",type:"number",step:"1",min:"0",value:c.needs_to_pay,onChange:O=>d(K=>({...K,needs_to_pay:O.target.value})),placeholder:"0",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-sm font-medium",children:"Outstanding Balance (HUF)"}),n.jsx("div",{className:ve("h-11 px-3 flex items-center rounded-md border bg-muted/50 font-semibold",E>0?"text-red-600":E<0?"text-green-600":"text-muted-foreground"),children:E.toLocaleString()})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"shipping_cost",className:"text-sm font-medium",children:["Shipping Cost (HUF) ",n.jsx("span",{className:"text-muted-foreground text-xs",children:"(Optional)"})]}),n.jsx(me,{id:"shipping_cost",type:"number",step:"1",min:"0",value:c.shipping_cost,onChange:O=>d(K=>({...K,shipping_cost:O.target.value})),placeholder:"0",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"discount",className:"text-sm font-medium",children:["Discount (HUF) ",n.jsx("span",{className:"text-muted-foreground text-xs",children:"(Optional)"})]}),n.jsx(me,{id:"discount",type:"number",step:"1",min:"0",value:c.discount,onChange:O=>d(K=>({...K,discount:O.target.value})),placeholder:"0",className:"h-11"})]})]}),(parseInt(c.shipping_cost)>0||parseInt(c.discount)>0)&&n.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),n.jsxs("span",{children:[parseInt(c.total_amount||"0").toLocaleString()," HUF"]})]}),parseInt(c.shipping_cost)>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"+ Shipping"}),n.jsxs("span",{children:[parseInt(c.shipping_cost).toLocaleString()," HUF"]})]}),parseInt(c.discount)>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"- Discount"}),n.jsxs("span",{className:"text-green-600",children:["-",parseInt(c.discount).toLocaleString()," HUF"]})]}),n.jsx(Lt,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between font-semibold",children:[n.jsx("span",{children:"Final Total"}),n.jsxs("span",{className:"text-primary",children:[_.toLocaleString()," HUF"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"due_date",className:"flex items-center gap-2 text-sm font-medium",children:[n.jsx(Qr,{className:"h-4 w-4 text-muted-foreground"}),"Due Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(me,{id:"due_date",type:"date",value:c.due_date,onChange:O=>d(K=>({...K,due_date:O.target.value})),className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{className:"flex items-center gap-2 text-sm font-medium",children:[n.jsx(kn,{className:"h-4 w-4 text-muted-foreground"}),"Order Reference"]}),n.jsx("div",{className:"h-11 px-3 flex items-center rounded-md border bg-muted/50 text-muted-foreground",children:a.po_number})]})]})]})]}),n.jsxs(X,{className:"border-0 shadow-lg",children:[n.jsx(be,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:n.jsx(ws,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Payment Details"}),n.jsx(Dr,{children:"Configure payment method and details"})]})]})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsx("div",{className:"space-y-3",children:n.jsx("div",{className:"grid grid-cols-3 gap-2 p-1 bg-muted rounded-lg",children:[{value:"Bank Transfer",icon:_k,label:"Bank Transfer"},{value:"Card Payment",icon:ws,label:"Card Payment"},{value:"Cash",icon:c0,label:"Cash"}].map(O=>{const K=O.icon,ne=c.payment_method===O.value;return n.jsxs("button",{type:"button",onClick:()=>d(R=>({...R,payment_method:O.value})),className:ve("py-2.5 px-4 rounded-md transition-all duration-200 flex items-center justify-center gap-2",ne?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:[n.jsx(K,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:O.label})]},O.value)})})}),c.payment_method==="Bank Transfer"&&n.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"bank_name",className:"text-sm font-medium",children:"Bank Name"}),n.jsx(me,{id:"bank_name",value:c.bank_name,onChange:O=>d(K=>({...K,bank_name:O.target.value})),placeholder:"e.g., OTP Bank",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"account_holder",className:"text-sm font-medium",children:"Account Holder"}),n.jsx(me,{id:"account_holder",value:c.account_holder,onChange:O=>d(K=>({...K,account_holder:O.target.value})),placeholder:"Full name",className:"h-11"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"account_number",className:"text-sm font-medium",children:"Account Number"}),n.jsx(me,{id:"account_number",value:c.account_number,onChange:O=>d(K=>({...K,account_number:O.target.value})),placeholder:"XXXX-XXXX-XXXX-XXXX",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"iban",className:"text-sm font-medium",children:"IBAN"}),n.jsx(me,{id:"iban",value:c.iban,onChange:O=>d(K=>({...K,iban:O.target.value})),placeholder:"HU42 1177 3016 1111 1018 0000 0000",className:"h-11"})]})]})]}),c.payment_method==="Card Payment"&&n.jsx("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"card_holder",className:"text-sm font-medium",children:"Card Holder Name"}),n.jsx(me,{id:"card_holder",value:c.card_holder,onChange:O=>d(K=>({...K,card_holder:O.target.value})),placeholder:"Name on card",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"card_last_four",className:"text-sm font-medium",children:"Card Last 4 Digits"}),n.jsx(me,{id:"card_last_four",value:c.card_last_four,onChange:O=>d(K=>({...K,card_last_four:O.target.value.slice(0,4)})),placeholder:"1234",maxLength:4,className:"h-11"})]})]})}),c.payment_method==="Cash"&&n.jsx("div",{className:"p-4 bg-muted/30 rounded-lg border",children:n.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"No additional details required for cash payment"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"reference",className:"text-sm font-medium",children:"Reference Number (Optional)"}),n.jsx(me,{id:"reference",value:c.reference_number,onChange:O=>d(K=>({...K,reference_number:O.target.value})),placeholder:"e.g., INV-2025-001",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",className:"text-sm font-medium",children:"Notes (Optional)"}),n.jsx(pn,{id:"notes",value:c.notes,onChange:O=>d(K=>({...K,notes:O.target.value})),placeholder:"Add any additional notes...",rows:3})]})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(ee,{variant:"outline",onClick:()=>s("review-items"),className:"gap-2",children:[n.jsx(sr,{className:"h-4 w-4"}),"Back"]}),n.jsx(ee,{onClick:I,disabled:y.isPending||!c.due_date||!c.total_amount,className:"gap-2 px-8",children:y.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(gu,{className:"h-4 w-4"}),"Create Payment"]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{className:"border-0 shadow-lg",children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ve,{className:"text-base flex items-center gap-2",children:[n.jsx(Ns,{className:"h-4 w-4"}),"Order Summary"]})}),n.jsx(Q,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Order Number"}),n.jsx("span",{className:"font-medium",children:a.po_number})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Apartment"}),n.jsx("span",{className:"font-medium",children:a.apartment_name})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Vendor"}),n.jsx("span",{className:"font-medium",children:a.vendor_name})]}),n.jsx(Lt,{}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Items Selected"}),n.jsxs("span",{className:"font-medium",children:[o.length," of ",((M=a.items)==null?void 0:M.length)||0]})]})]})})]}),n.jsxs(X,{className:"border-0 shadow-lg bg-gradient-to-br from-primary/5 to-primary/10",children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ve,{className:"text-base flex items-center gap-2",children:[n.jsx(Nr,{className:"h-4 w-4"}),"Payment Summary"]})}),n.jsx(Q,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),n.jsxs("span",{className:"font-medium",children:[parseInt(c.total_amount||"0").toLocaleString()," HUF"]})]}),parseInt(c.shipping_cost)>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),n.jsxs("span",{className:"font-medium",children:["+",parseInt(c.shipping_cost).toLocaleString()," HUF"]})]}),parseInt(c.discount)>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Discount"}),n.jsxs("span",{className:"font-medium text-green-600",children:["-",parseInt(c.discount).toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Final Total"}),n.jsxs("span",{className:"font-medium",children:[_.toLocaleString()," HUF"]})]}),n.jsx(Lt,{}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Amount Paid"}),n.jsxs("span",{className:"font-medium text-green-600",children:[parseInt(c.needs_to_pay||"0").toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Outstanding"}),n.jsxs("span",{className:ve("font-medium",E>0?"text-red-600":"text-green-600"),children:[E.toLocaleString()," HUF"]})]}),n.jsx(Lt,{}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Due Date"}),n.jsx("span",{className:"font-medium",children:c.due_date?Xt(new Date(c.due_date),"MMM dd, yyyy"):"Not set"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Method"}),n.jsx("span",{className:"font-medium",children:c.payment_method})]}),n.jsx(Lt,{}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold",children:"Outstanding Balance"}),n.jsxs("span",{className:"text-2xl font-bold text-primary",children:[E.toLocaleString()," HUF"]})]})]})})]}),n.jsx(X,{className:"border-0 shadow-lg",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:ve("p-2 rounded-lg",parseInt(c.needs_to_pay||"0")>0?parseInt(c.needs_to_pay||"0")>=_?"bg-green-500/10":"bg-blue-500/10":"bg-yellow-500/10"),children:n.jsx(wr,{className:ve("h-5 w-5",parseInt(c.needs_to_pay||"0")>0?parseInt(c.needs_to_pay||"0")>=_?"text-green-600":"text-blue-600":"text-yellow-600")})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Payment Status"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:parseInt(c.needs_to_pay||"0")<=0?"Will be created as Unpaid":parseInt(c.needs_to_pay||"0")>=_?"Will be created as Paid":"Will be created as Partial"})]})]})})})]})]})]})})};function Mrt(){return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-9 w-24 rounded-md"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-9 w-48"}),n.jsx(C,{className:"h-4 w-32"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C,{className:"h-6 w-20 rounded-full"}),n.jsx(C,{className:"h-9 w-24 rounded-md"})]})]})}function Frt(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]}),n.jsx(C,{className:"h-4 w-48"})]})})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{bg:"bg-muted/50"},{bg:"bg-green-500/10"},{bg:"bg-yellow-500/10"}].map((e,t)=>n.jsxs("div",{className:`p-4 rounded-lg ${e.bg} border`,children:[n.jsx(C,{className:"h-4 w-24 mb-1"}),n.jsx(C,{className:"h-8 w-32"})]},t))}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-4 w-12"})]}),n.jsx(C,{className:"h-3 w-full rounded-full"})]}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-5 w-24"})]},t))})]})]})}function $rt(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-32"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Product","SKU","Unit Price","Qty","Total"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(3)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C,{className:"w-10 h-10 rounded"}),n.jsx(C,{className:"h-4 w-32"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-8"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-28"})})]},t))})]})})})]})}function Lrt(){return n.jsxs(X,{children:[n.jsxs(be,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-36"})]}),n.jsx(C,{className:"h-9 w-36 rounded-md"})]}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Date","Amount","Method","Reference","Note",""].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-16"})},t))})}),n.jsx("tbody",{children:[...Array(3)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-28 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-32"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-8 w-8 rounded"})})]},t))})]})})})]})}function Brt(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-5 w-24"})]})}),n.jsxs(Q,{className:"space-y-3",children:[[...Array(5)].map((e,t)=>n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-3 w-16"}),n.jsx(C,{className:"h-4 w-full"})]},t)),n.jsx(C,{className:"h-9 w-full rounded-md mt-4"})]})]})}function Urt(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-5 w-20"})]})}),n.jsxs(Q,{className:"space-y-3",children:[[...Array(5)].map((e,t)=>n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-3 w-20"}),n.jsx(C,{className:"h-4 w-full"})]},t)),n.jsx(C,{className:"h-9 w-full rounded-md mt-4"})]})]})}function Vrt(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(C,{className:"h-5 w-28"})}),n.jsxs(Q,{className:"space-y-2",children:[n.jsx(C,{className:"h-10 w-full rounded-md"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})}function zrt(){return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Mrt,{}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(Frt,{}),n.jsx($rt,{}),n.jsx(Lrt,{})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(Brt,{}),n.jsx(Urt,{}),n.jsx(Vrt,{})]})]})]})})}function Wrt(){var y,w,b,N;const{id:e}=eo(),t=mr(),{data:r,isLoading:s,error:a,refetch:i}=zX(e||""),o=m3(),l=RBe(),[c,d]=v.useState(!1),u=a?"Payment not found":e?null:"No payment ID provided";if(s)return n.jsx(zrt,{});if(u||!r)return n.jsx(ct,{title:"Payment Not Found",children:n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-4",children:[n.jsx(At,{className:"h-12 w-12 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold",children:"Payment Not Found"}),n.jsx("p",{className:"text-muted-foreground",children:u}),n.jsxs(ee,{onClick:()=>t("/payments"),children:[n.jsx(sr,{className:"h-4 w-4 mr-2"}),"Back to Payments"]})]})});const f=S=>({Paid:"bg-success/10 text-success border-success/20",Partial:"bg-warning/10 text-warning border-warning/20",Unpaid:"bg-muted text-muted-foreground border-border",Overdue:"bg-danger/10 text-danger border-danger/20"})[S]||"bg-muted",m=S=>{switch(S){case"Paid":return n.jsx(Ur,{className:"h-4 w-4"});case"Partial":return n.jsx(wr,{className:"h-4 w-4"});case"Overdue":return n.jsx(At,{className:"h-4 w-4"});default:return n.jsx(Nr,{className:"h-4 w-4"})}},h=r.total_amount||0,x=r.amount_paid||0,p=r.outstanding_amount||0;r.shipping_cost,r.discount;const g=r.final_total||h,j=g>0?x/g*100:0;return n.jsxs(ct,{title:"Payment Details",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ee,{variant:"ghost",onClick:()=>t("/payments"),children:[n.jsx(sr,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Payment Details"}),n.jsxs("p",{className:"text-muted-foreground",children:["Order Ref: ",r.order_reference]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(_e,{className:f(r.status),children:[m(r.status),n.jsx("span",{className:"ml-1",children:r.status})]}),n.jsxs(ee,{variant:"outline",onClick:()=>t(`/payments/${r.id}/edit`),children:[n.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Bb,{className:"h-5 w-5 text-primary"}),"Payment Overview"]}),n.jsxs(Dr,{children:["Created on ",r.created_at?Xt(new Date(r.created_at),"MMM dd, yyyy"):"Unknown"]})]})})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold",children:[h.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"p-4 rounded-lg bg-success/10 border border-success/20",children:[n.jsx("p",{className:"text-sm text-success mb-1",children:"Amount Paid"}),n.jsxs("p",{className:"text-2xl font-bold text-success",children:[x.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"p-4 rounded-lg bg-warning/10 border border-warning/20",children:[n.jsx("p",{className:"text-sm text-warning mb-1",children:"Outstanding"}),n.jsxs("p",{className:"text-2xl font-bold text-warning",children:[p.toLocaleString()," HUF"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Payment Progress"}),n.jsxs("span",{className:"font-medium",children:[j.toFixed(1),"%"]})]}),n.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-success transition-all duration-500",style:{width:`${Math.min(j,100)}%`}})})]}),n.jsx(Lt,{}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(Qr,{className:"h-3 w-3"})," Due Date"]}),n.jsx("p",{className:"font-medium",children:r.due_date?Xt(new Date(r.due_date),"MMM dd, yyyy"):"Not set"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(wr,{className:"h-3 w-3"})," Last Payment"]}),n.jsx("p",{className:"font-medium",children:r.last_payment_date?Xt(new Date(r.last_payment_date),"MMM dd, yyyy"):"No payments yet"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(ot,{className:"h-3 w-3"})," Products"]}),n.jsxs("p",{className:"font-medium",children:[r.order_items_count||((y=r.order_item_details)==null?void 0:y.length)||r.product_count||0," items"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(_e,{className:f(r.status),children:r.status})]})]}),r.notes&&n.jsxs(n.Fragment,{children:[n.jsx(Lt,{}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mb-2",children:[n.jsx(kn,{className:"h-3 w-3"})," Notes"]}),n.jsx("p",{className:"text-sm whitespace-pre-wrap bg-muted/50 p-3 rounded-lg",children:r.notes})]})]})]})]}),(r.order_item_details&&r.order_item_details.length>0||r.product_details&&r.product_details.length>0)&&n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ot,{className:"h-5 w-5"}),"Products (",((w=r.order_item_details)==null?void 0:w.length)||((b=r.product_details)==null?void 0:b.length)||0,")"]})}),n.jsx(Q,{children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Vt,{children:[n.jsx(Pe,{children:"Product"}),n.jsx(Pe,{children:"SKU"}),n.jsx(Pe,{className:"text-right",children:"Unit Price"}),n.jsx(Pe,{className:"text-center",children:"Qty"}),n.jsx(Pe,{className:"text-right",children:"Total"})]})}),n.jsx($s,{children:r.order_item_details&&r.order_item_details.length>0?r.order_item_details.map(S=>n.jsxs(Vt,{children:[n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[S.product_image&&n.jsx("img",{src:S.product_image,alt:S.product_name,className:"w-10 h-10 rounded object-cover"}),n.jsx("span",{className:"font-medium",children:S.product_name})]})}),n.jsx(Ne,{children:n.jsx("span",{className:"text-muted-foreground font-mono text-sm",children:S.sku||"N/A"})}),n.jsxs(Ne,{className:"text-right",children:[parseFloat(String(S.unit_price)).toLocaleString()," HUF"]}),n.jsx(Ne,{className:"text-center",children:S.quantity}),n.jsxs(Ne,{className:"text-right font-medium",children:[parseFloat(String(S.total_price)).toLocaleString()," HUF"]})]},S.id)):(N=r.product_details)==null?void 0:N.map(S=>n.jsxs(Vt,{children:[n.jsx(Ne,{className:"font-medium",children:S.product}),n.jsx(Ne,{children:n.jsx(_e,{variant:"outline",children:S.category_name||"N/A"})}),n.jsxs(Ne,{className:"text-right",children:[parseFloat(S.unit_price).toLocaleString()," HUF"]}),n.jsx(Ne,{className:"text-center",children:S.qty}),n.jsxs(Ne,{className:"text-right font-medium",children:[(parseFloat(S.unit_price)*S.qty).toLocaleString()," HUF"]})]},S.id))})]})})]}),n.jsxs(X,{children:[n.jsxs(be,{className:"flex flex-row items-center justify-between",children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(V5,{className:"h-5 w-5"}),"Payment History"]}),r.status!=="Paid"&&n.jsxs(ee,{size:"sm",onClick:()=>d(!0),children:[n.jsx(Qn,{className:"h-4 w-4 mr-1"}),"Record Payment"]})]}),n.jsx(Q,{children:r.payment_history&&r.payment_history.length>0?n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Vt,{children:[n.jsx(Pe,{children:"Date"}),n.jsx(Pe,{children:"Amount"}),n.jsx(Pe,{children:"Method"}),n.jsx(Pe,{children:"Reference"}),n.jsx(Pe,{children:"Note"}),n.jsx(Pe,{className:"w-[50px]"})]})}),n.jsx($s,{children:r.payment_history.map(S=>n.jsxs(Vt,{children:[n.jsx(Ne,{children:S.date?Xt(new Date(S.date),"MMM dd, yyyy"):"N/A"}),n.jsxs(Ne,{className:"font-medium text-success",children:["+",(S.amount||0).toLocaleString()," HUF"]}),n.jsx(Ne,{children:n.jsxs(_e,{variant:"outline",className:"gap-1",children:[S.method==="Bank Transfer"&&n.jsx(c0,{className:"h-3 w-3"}),S.method==="Credit Card"&&n.jsx(ws,{className:"h-3 w-3"}),S.method]})}),n.jsx(Ne,{className:"font-mono text-sm",children:S.reference_no||"-"}),n.jsx(Ne,{className:"text-muted-foreground max-w-[200px] truncate",children:S.note||"-"}),n.jsx(Ne,{children:n.jsx(ee,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-muted-foreground hover:text-danger",onClick:async()=>{if(confirm("Are you sure you want to delete this payment record?"))try{await l.mutateAsync(S.id),Ue.success("Payment record deleted"),i()}catch{Ue.error("Failed to delete payment record")}},children:n.jsx(hn,{className:"h-4 w-4"})})})]},S.id))})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[n.jsx(V5,{className:"h-12 w-12 mb-2 opacity-50"}),n.jsx("p",{children:"No payment history yet"}),r.status!=="Paid"&&n.jsxs(ee,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>d(!0),children:[n.jsx(Qn,{className:"h-4 w-4 mr-1"}),"Record First Payment"]})]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2 text-base",children:[n.jsx(fr,{className:"h-4 w-4"}),"Apartment"]})}),n.jsx(Q,{className:"space-y-3",children:r.apartment_details?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),n.jsx("p",{className:"font-medium",children:r.apartment_details.name})]}),r.apartment_details.address&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),n.jsx("p",{className:"font-medium",children:r.apartment_details.address})]}),r.apartment_details.type&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),n.jsx(_e,{variant:"outline",children:r.apartment_details.type})]}),r.apartment_details.status&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(_e,{variant:"secondary",children:r.apartment_details.status})]}),r.apartment_details.designer&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Designer"}),n.jsx("p",{className:"font-medium",children:r.apartment_details.designer})]}),n.jsx(ee,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>{var S;return t(`/apartments/${(S=r.apartment_details)==null?void 0:S.id}`)},children:"View Apartment"})]}):n.jsx("p",{className:"text-muted-foreground",children:"No apartment details available"})})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2 text-base",children:[n.jsx(os,{className:"h-4 w-4"}),"Vendor"]})}),n.jsx(Q,{className:"space-y-3",children:r.vendor_details?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Company"}),n.jsx("p",{className:"font-medium",children:r.vendor_details.name})]}),r.vendor_details.contact_person&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(os,{className:"h-3 w-3"})," Contact Person"]}),n.jsx("p",{className:"font-medium",children:r.vendor_details.contact_person})]}),r.vendor_details.email&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(gn,{className:"h-3 w-3"})," Email"]}),n.jsx("a",{href:`mailto:${r.vendor_details.email}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.email})]}),r.vendor_details.phone&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(To,{className:"h-3 w-3"})," Phone"]}),n.jsx("a",{href:`tel:${r.vendor_details.phone}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.phone})]}),r.vendor_details.address&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),n.jsxs("p",{className:"font-medium text-sm",children:[r.vendor_details.address,r.vendor_details.city&&`, ${r.vendor_details.city}`,r.vendor_details.country&&`, ${r.vendor_details.country}`]})]}),n.jsx(ee,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>{var S;return t(`/vendors/${(S=r.vendor_details)==null?void 0:S.id}`)},children:"View Vendor"})]}):n.jsx("p",{className:"text-muted-foreground",children:"No vendor details available"})})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{className:"text-base",children:"Quick Actions"})}),n.jsxs(Q,{className:"space-y-2",children:[r.status!=="Paid"&&n.jsxs(ee,{className:"w-full",onClick:()=>d(!0),children:[n.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Record Payment"]}),n.jsxs(ee,{variant:"outline",className:"w-full",onClick:()=>t(`/payments/${r.id}/edit`),children:[n.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Edit Payment"]})]})]})]})]})]}),n.jsx(h3,{payment:r,open:c,onOpenChange:d,onSave:async(S,_,E,A)=>{try{await o.mutateAsync({payment:r.id,date:new Date().toISOString().split("T")[0],amount:S,method:_,reference_no:E,note:A}),Ue.success("Payment Recorded",{description:`${S.toLocaleString()} HUF recorded successfully`}),d(!1),i()}catch{Ue.error("Failed to record payment")}}})]})}function Hrt(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-28"})]})}function qrt(){return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-10 w-10 rounded-md"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(C,{className:"h-9 w-32 mb-2"}),n.jsx(C,{className:"h-4 w-64"})]})]})}function Grt(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]})]})}function Krt(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-36"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md bg-muted"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-36"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]})]})}function Yrt(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-32"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[n.jsx(C,{className:"h-5 w-48"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-24 w-full rounded-md"})]})]})]})}function Xrt(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-48"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["","Product Name","SKU","Quantity","Unit Price","Total"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(4)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-5 w-5 rounded"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-40"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-12"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-28"})})]},t))})]})})})]})}function Qrt(){return n.jsx(ct,{title:"Loading...",children:n.jsx("div",{className:"container px-0 py-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Hrt,{}),n.jsx(qrt,{}),n.jsx(Grt,{}),n.jsx(Krt,{}),n.jsx(Yrt,{}),n.jsx(Xrt,{}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})]})})})}const Zrt=()=>{const e=mr(),{id:t}=eo(),[r,s]=v.useState({apartment:"",vendor:"",order_reference:"",due_date:"",total_amount:"",amount_paid:"0",status:"Unpaid",last_payment_date:"",payment_method:"Bank Transfer",bank_name:"",account_holder:"",account_number:"",iban:"",swift_bic_code:"",card_number:"",card_holder_name:"",expiry_date:"",cvv:"",notes:""}),[a,i]=v.useState({}),[o,l]=v.useState([]),{data:c,isLoading:d}=zX(t||""),u=WX(),{data:f,isLoading:m}=o3(),h=(f==null?void 0:f.results)||[],{data:x,isLoading:p}=vm(),g=(x==null?void 0:x.results)||[],{data:j,isLoading:y}=$X();j!=null&&j.results,v.useEffect(()=>{c&&(s({apartment:c.apartment,vendor:c.vendor,order_reference:c.order_reference,due_date:c.due_date,total_amount:String(c.total_amount),amount_paid:String(c.amount_paid),status:c.status,last_payment_date:c.last_payment_date||"",payment_method:"Bank Transfer",bank_name:"",account_holder:"",account_number:"",iban:"",swift_bic_code:"",card_number:"",card_holder_name:"",expiry_date:"",cvv:"",notes:c.notes}),l(c.products||[]))},[c]);const w=r.total_amount&&r.amount_paid?(parseFloat(r.total_amount)-parseFloat(r.amount_paid)).toFixed(2):"0.00",b=(E,A)=>{s(k=>({...k,[E]:A})),a[E]&&i(k=>{const D={...k};return delete D[E],D})},N=()=>{const E={};return r.apartment||(E.apartment="Apartment is required"),r.vendor||(E.vendor="Vendor is required"),r.order_reference.trim()||(E.order_reference="Order reference is required"),r.due_date||(E.due_date="Due date is required"),(!r.total_amount||parseFloat(r.total_amount)<=0)&&(E.total_amount="Valid total amount is required"),r.amount_paid&&parseFloat(r.amount_paid)<0&&(E.amount_paid="Amount paid cannot be negative"),r.amount_paid&&r.total_amount&&parseFloat(r.amount_paid)>parseFloat(r.total_amount)&&(E.amount_paid="Amount paid cannot exceed total amount"),i(E),Object.keys(E).length===0},S=async E=>{var A,k;if(E.preventDefault(),!N()){Ue.error("Please fix the errors in the form");return}if(!t){Ue.error("Payment ID is required");return}try{const D={apartment:r.apartment,vendor:r.vendor,order_reference:r.order_reference,due_date:r.due_date,total_amount:r.total_amount,amount_paid:r.amount_paid||"0",status:r.status,last_payment_date:r.last_payment_date||null,notes:r.notes,products:o};await u.mutateAsync({id:t,data:D}),Ue.success("Payment updated successfully"),e("/payments")}catch(D){console.error("Error updating payment:",D),Ue.error(((k=(A=D.response)==null?void 0:A.data)==null?void 0:k.message)||"Failed to update payment")}},_=()=>{e("/payments")};return d||m||p?n.jsx(Qrt,{}):n.jsx(ct,{title:"Edit Payment",children:n.jsxs("div",{className:"container px-0 py-6 ",children:[n.jsx(Ua,{className:"mb-6",children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(es,{href:"/payments",children:"Payments"})}),n.jsx(An,{}),n.jsx(rr,{children:n.jsx(ji,{children:"Edit Payment"})})]})}),n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:_,className:"h-10 w-10",children:n.jsx(sr,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Payment"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Update payment information and details"})]})]})}),n.jsxs("form",{onSubmit:S,className:"space-y-6",children:[n.jsxs(X,{children:[n.jsx(be,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(kn,{className:"h-5 w-5 text-primary"})}),n.jsx(Ve,{className:"text-lg font-semibold",children:"Order Information"})]})}),n.jsx(Q,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apartment",className:"required flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4 text-muted-foreground"}),"Apartment"]}),n.jsxs(tt,{value:r.apartment,onValueChange:E=>b("apartment",E),children:[n.jsx(Je,{id:"apartment",className:a.apartment?"border-destructive":"",children:n.jsx(rt,{placeholder:"Select apartment"})}),n.jsx(et,{children:m?n.jsx(J,{value:"loading",disabled:!0,children:"Loading apartments..."}):h.length===0?n.jsx(J,{value:"empty",disabled:!0,children:"No apartments found"}):h.map(E=>n.jsx(J,{value:E.id,children:E.name},E.id))})]}),a.apartment&&n.jsx("p",{className:"text-sm text-destructive",children:a.apartment})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"vendor",className:"required flex items-center gap-2",children:[n.jsx(La,{className:"h-4 w-4 text-muted-foreground"}),"Vendor"]}),n.jsxs(tt,{value:r.vendor,onValueChange:E=>b("vendor",E),children:[n.jsx(Je,{id:"vendor",className:a.vendor?"border-destructive":"",children:n.jsx(rt,{placeholder:"Select vendor"})}),n.jsx(et,{children:p?n.jsx(J,{value:"loading",disabled:!0,children:"Loading vendors..."}):g.length===0?n.jsx(J,{value:"empty",disabled:!0,children:"No vendors found"}):g.map(E=>n.jsx(J,{value:E.id,children:E.name},E.id))})]}),a.vendor&&n.jsx("p",{className:"text-sm text-destructive",children:a.vendor})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"order_reference",className:"required flex items-center gap-2",children:[n.jsx(Bb,{className:"h-4 w-4 text-muted-foreground"}),"Order Reference"]}),n.jsx(me,{id:"order_reference",value:r.order_reference,onChange:E=>b("order_reference",E.target.value),placeholder:"e.g., ORD-2025-001",className:a.order_reference?"border-destructive":""}),a.order_reference&&n.jsx("p",{className:"text-sm text-destructive",children:a.order_reference})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"due_date",className:"required flex items-center gap-2",children:[n.jsx(Qr,{className:"h-4 w-4 text-muted-foreground"}),"Due Date"]}),n.jsx(me,{id:"due_date",type:"date",value:r.due_date,onChange:E=>b("due_date",E.target.value),className:a.due_date?"border-destructive":""}),a.due_date&&n.jsx("p",{className:"text-sm text-destructive",children:a.due_date})]})]})})]}),n.jsxs(X,{children:[n.jsx(be,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(Nr,{className:"h-5 w-5 text-primary"})}),n.jsx(Ve,{className:"text-lg font-semibold",children:"Payment Amount"})]})}),n.jsx(Q,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"total_amount",className:"required",children:"Total Amount (HUF)"}),n.jsx(me,{id:"total_amount",type:"number",step:"0.01",min:"0",value:r.total_amount,onChange:E=>b("total_amount",E.target.value),placeholder:"0.00",className:a.total_amount?"border-destructive":""}),a.total_amount&&n.jsx("p",{className:"text-sm text-destructive",children:a.total_amount})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"amount_paid",children:"Amount Paid (HUF)"}),n.jsx(me,{id:"amount_paid",type:"number",step:"0.01",min:"0",value:r.amount_paid,onChange:E=>b("amount_paid",E.target.value),placeholder:"0.00",className:a.amount_paid?"border-destructive":""}),a.amount_paid&&n.jsx("p",{className:"text-sm text-destructive",children:a.amount_paid})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"balance",children:"Balance (HUF)"}),n.jsx(me,{id:"balance",value:w,readOnly:!0,className:"bg-muted text-primary font-semibold"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically calculated"})]})]})})]}),n.jsxs(X,{children:[n.jsx(be,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(ws,{className:"h-5 w-5 text-primary"})}),n.jsx(Ve,{className:"text-lg font-semibold",children:"Payment Details"})]})}),n.jsx(Q,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(q,{children:"Payment Method"}),n.jsx(Mo,{value:r.payment_method,onValueChange:E=>b("payment_method",E),children:n.jsxs(ro,{className:"grid w-full grid-cols-3",children:[n.jsxs(zt,{value:"Bank Transfer",children:[n.jsx(_k,{className:"h-4 w-4 mr-2"}),"Bank Transfer"]}),n.jsxs(zt,{value:"Card Payment",children:[n.jsx(ws,{className:"h-4 w-4 mr-2"}),"Card Payment"]}),n.jsxs(zt,{value:"Cash",children:[n.jsx(c0,{className:"h-4 w-4 mr-2"}),"Cash"]})]})})]}),r.payment_method==="Bank Transfer"&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Bank Transfer Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"bank_name",children:"Bank Name"}),n.jsx(me,{id:"bank_name",value:r.bank_name,onChange:E=>b("bank_name",E.target.value),placeholder:"e.g., OTP Bank"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"account_holder",children:"Account Holder"}),n.jsx(me,{id:"account_holder",value:r.account_holder,onChange:E=>b("account_holder",E.target.value),placeholder:"Full name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"account_number",children:"Account Number"}),n.jsx(me,{id:"account_number",value:r.account_number,onChange:E=>b("account_number",E.target.value),placeholder:"XXXX-XXXX-XXXX-XXXX"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"iban",children:"IBAN"}),n.jsx(me,{id:"iban",value:r.iban,onChange:E=>b("iban",E.target.value),placeholder:"HU42 1177 3016 1111 1018 0000 0000"})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"swift_bic_code",children:"SWIFT/BIC Code"}),n.jsx(me,{id:"swift_bic_code",value:r.swift_bic_code,onChange:E=>b("swift_bic_code",E.target.value),placeholder:"e.g., OTPVHUHB"})]})]})]}),r.payment_method==="Card Payment"&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Card Payment Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"card_number",children:"Card Number"}),n.jsx(me,{id:"card_number",value:r.card_number,onChange:E=>b("card_number",E.target.value),placeholder:"XXXX XXXX XXXX XXXX",maxLength:19})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"card_holder_name",children:"Card Holder Name"}),n.jsx(me,{id:"card_holder_name",value:r.card_holder_name,onChange:E=>b("card_holder_name",E.target.value),placeholder:"Name as on card"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"expiry_date",children:"Expiry Date"}),n.jsx(me,{id:"expiry_date",value:r.expiry_date,onChange:E=>b("expiry_date",E.target.value),placeholder:"MM/YY",maxLength:5})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"cvv",children:"CVV"}),n.jsx(me,{id:"cvv",value:r.cvv,onChange:E=>b("cvv",E.target.value),placeholder:"XXX",maxLength:4,type:"password"})]})]})]}),r.payment_method==="Cash"&&n.jsxs("div",{className:"p-6 border rounded-lg bg-muted/50 text-center",children:[n.jsx(N7,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Cash payment selected. No additional details required."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(ha,{id:"notes",value:r.notes,onChange:E=>b("notes",E.target.value),placeholder:"Add any additional payment notes or instructions...",rows:4})]})]})})]}),n.jsxs("div",{className:"flex items-center justify-end gap-4 mt-6",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:_,disabled:u.isPending,children:"Cancel"}),n.jsx(ee,{type:"submit",disabled:u.isPending,children:u.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(gu,{className:"mr-2 h-4 w-4"}),"Update Payment"]})})]})]})]})})};function Jrt(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{iconBg:"bg-primary/10"},{iconBg:"bg-green-500/10"},{iconBg:"bg-blue-500/10"},{iconBg:"bg-yellow-500/10"}].map((e,t)=>n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-9 w-16"})]}),n.jsx("div",{className:`h-10 w-10 rounded-lg ${e.iconBg} flex items-center justify-center`,children:n.jsx(C,{className:"h-6 w-6 rounded"})})]})})},t))})}function ent(){return n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsx("div",{className:"relative flex-1",children:n.jsx(C,{className:"h-10 w-full rounded-md"})}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsx(C,{className:"h-10 w-[150px] rounded-md"}),n.jsx(C,{className:"h-10 w-[150px] rounded-md"}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})]})})})}function tnt(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{className:"flex items-center justify-between",children:n.jsx(C,{className:"h-6 w-40"})})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-12"})}),n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-16"})}),n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("th",{className:"px-4 py-3 text-center",children:n.jsx(C,{className:"h-4 w-14 mx-auto"})}),n.jsx("th",{className:"px-4 py-3 text-center",children:n.jsx(C,{className:"h-4 w-14 mx-auto"})}),n.jsx("th",{className:"px-4 py-3 text-right",children:n.jsx(C,{className:"h-4 w-16 ml-auto"})})]})}),n.jsx("tbody",{children:[...Array(8)].map((e,t)=>n.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"flex items-center justify-center bg-muted rounded-lg w-12 h-12",children:n.jsx(C,{className:"w-10 h-10 rounded-lg"})})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-3 w-40"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-36"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((r,s)=>n.jsx(C,{className:"h-3 w-3 rounded-sm"},s)),n.jsx(C,{className:"h-4 w-8 ml-1"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"flex justify-center",children:n.jsx(C,{className:"h-6 w-8 rounded-full"})})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"flex justify-center",children:n.jsx(C,{className:"h-6 w-8 rounded-full"})})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"})]})})]},t))})]})})})]})}function rnt(){return n.jsxs("div",{className:"space-y-6",children:[n.jsx(Jrt,{}),n.jsx(ent,{}),n.jsx(tnt,{})]})}const nnt=()=>{const e=mr(),[t,r]=v.useState(""),[s,a]=v.useState("all"),[i,o]=v.useState("all"),[l,c]=v.useState(!1),[d,u]=v.useState(null),{data:f,isLoading:m,error:h}=vm(),x=NX(),p=(f==null?void 0:f.results)||[],g=v.useMemo(()=>p.filter(b=>{const N=b.name.toLowerCase().includes(t.toLowerCase())||b.email.toLowerCase().includes(t.toLowerCase())||b.contact_person.toLowerCase().includes(t.toLowerCase()),S=s==="all"||s==="active"&&b.active_issues===0||s==="issues"&&b.active_issues>0,_=parseFloat(b.reliability),E=i==="all"||i==="high"&&_>=4.5||i==="medium"&&_>=3.5&&_<4.5||i==="low"&&_<3.5;return N&&S&&E}),[p,t,s,i]),j=b=>{const N=typeof b=="string"?parseFloat(b):b;return n.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((S,_)=>n.jsx(nb,{className:`h-3 w-3 ${_<Math.floor(N)?"fill-yellow-500 text-yellow-500":"text-muted-foreground"}`},_)),n.jsx("span",{className:"text-sm font-medium ml-1",children:N.toFixed(1)})]})},y=(b,N)=>{u({id:b,name:N}),c(!0)},w=()=>{d&&x.mutate(d.id,{onSuccess:()=>{c(!1),u(null)}})};return m?n.jsx(ct,{title:"Vendors",children:n.jsx(rnt,{})}):n.jsx(ct,{title:"Vendors",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(X,{className:"",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Vendors"}),n.jsx("p",{className:"text-3xl font-bold",children:p.length})]}),n.jsx(fr,{className:"h-10 w-10 text-primary opacity-20"})]})})}),n.jsx(X,{className:"",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Vendors"}),n.jsx("p",{className:"text-3xl font-bold",children:p.filter(b=>b.active_issues===0).length})]}),n.jsx(li,{className:"h-10 w-10 text-green-500 opacity-20"})]})})}),n.jsx(X,{className:"",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Orders"}),n.jsx("p",{className:"text-3xl font-bold",children:p.reduce((b,N)=>b+N.orders_count,0)})]}),n.jsx(ot,{className:"h-10 w-10 text-blue-500 opacity-20"})]})})}),n.jsx(X,{className:"",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Reliability"}),n.jsx("p",{className:"text-3xl font-bold",children:p.length>0?(p.reduce((b,N)=>b+parseFloat(N.reliability),0)/p.length).toFixed(1):"0.0"})]}),n.jsx(nb,{className:"h-10 w-10 text-yellow-500 opacity-20"})]})})})]}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search by vendor name or email...",value:t,onChange:b=>r(b.target.value),className:"pl-9"})]}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs(tt,{value:s,onValueChange:a,children:[n.jsxs(Je,{className:"w-[150px]",children:[n.jsx(Mv,{className:"h-4 w-4 mr-2"}),n.jsx(rt,{placeholder:"Status"})]}),n.jsxs(et,{children:[n.jsx(J,{value:"all",children:"All Status"}),n.jsx(J,{value:"active",children:"Active"}),n.jsx(J,{value:"issues",children:"With Issues"})]})]}),n.jsxs(tt,{value:i,onValueChange:o,children:[n.jsxs(Je,{className:"w-[150px]",children:[n.jsx(nb,{className:"h-4 w-4 mr-2"}),n.jsx(rt,{placeholder:"Reliability"})]}),n.jsxs(et,{children:[n.jsx(J,{value:"all",children:"All Ratings"}),n.jsx(J,{value:"high",children:"High (4.5+)"}),n.jsx(J,{value:"medium",children:"Medium (3.5-4.5)"}),n.jsx(J,{value:"low",children:"Low (<3.5)"})]})]}),n.jsxs(ee,{onClick:()=>e("/vendors/new"),className:"gap-2",children:[n.jsx(Qn,{className:"h-4 w-4"}),"Add Vendor"]})]})]})})}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center justify-between",children:[n.jsxs("span",{children:["All Vendors (",g.length,")"]}),t&&n.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>{r(""),a("all"),o("all")},children:"Clear Filters"})]})}),n.jsx(Q,{children:g.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(At,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No vendors found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filters"}),n.jsxs(ee,{onClick:()=>e("/vendors/new"),children:[n.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Add Your First Vendor"]})]}):n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Vt,{children:[n.jsx(Pe,{className:"w-[80px]",children:"Logo"}),n.jsx(Pe,{children:"Vendor Name"}),n.jsx(Pe,{children:"Contact"}),n.jsx(Pe,{children:"Lead Time"}),n.jsx(Pe,{children:"Reliability"}),n.jsx(Pe,{className:"text-center",children:"Orders"}),n.jsx(Pe,{className:"text-center",children:"Issues"}),n.jsx(Pe,{className:"text-right",children:"Actions"})]})}),n.jsx($s,{children:g.map(b=>n.jsxs(Vt,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>e(`/vendors/${b.id}`),children:[n.jsx(Ne,{children:n.jsx("div",{className:"flex items-center justify-center bg-muted rounded-lg w-12 h-12 overflow-hidden",children:b.website?n.jsx(n.Fragment,{children:n.jsx("img",{src:`https://logo.clearbit.com/${new URL(b.website).hostname}`,alt:`${b.name} logo`,className:"w-10 h-10 object-contain",onError:N=>{const S=N.currentTarget;if(!S.dataset.fallbackAttempted)S.dataset.fallbackAttempted="true",S.src=`https://www.google.com/s2/favicons?domain=${new URL(b.website).hostname}&sz=128`;else{S.style.display="none";const _=S.parentElement;if(_){const E=document.createElement("span");E.className="text-2xl",E.textContent=b.logo||b.name.charAt(0).toUpperCase(),_.appendChild(E)}}}})}):n.jsx("span",{className:"text-2xl",children:b.logo||b.name.charAt(0).toUpperCase()})})}),n.jsx(Ne,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:b.name}),n.jsx("a",{href:b.website,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline",onClick:N=>N.stopPropagation(),children:b.website.replace("https://","")})]})}),n.jsx(Ne,{children:n.jsx("div",{className:"text-sm",children:n.jsx("p",{children:b.email})})}),n.jsx(Ne,{children:n.jsx(_e,{variant:"outline",className:"font-mono",children:b.lead_time})}),n.jsx(Ne,{children:j(b.reliability)}),n.jsx(Ne,{className:"text-center",children:n.jsx(_e,{variant:"secondary",className:"font-semibold",children:b.orders_count})}),n.jsx(Ne,{className:"text-center",children:n.jsx(_e,{variant:b.active_issues>0?"destructive":"default",className:"font-semibold",children:b.active_issues})}),n.jsx(Ne,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(ee,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),e(`/vendors/${b.id}`)},title:"View Details",children:n.jsx(oi,{className:"h-4 w-4"})}),n.jsx(ee,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),e(`/vendors/${b.id}/edit`)},title:"Edit Vendor",children:n.jsx(Qs,{className:"h-4 w-4"})}),n.jsx(ee,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),y(b.id,b.name)},title:"Delete Vendor",disabled:x.isPending,children:n.jsx(hn,{className:"h-4 w-4"})})]})})]},b.id))})]})})})]}),h&&n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(At,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Failed to load vendors"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:h instanceof Error?h.message:"An error occurred while fetching vendors"}),n.jsx(ee,{onClick:()=>window.location.reload(),children:"Try Again"})]})})}),n.jsx(uc,{open:l,onOpenChange:c,children:n.jsxs(yl,{children:[n.jsxs(jl,{children:[n.jsx(wl,{children:"Are you sure?"}),n.jsxs(Nl,{children:["This will permanently delete ",n.jsx("strong",{children:d==null?void 0:d.name}),". This action cannot be undone."]})]}),n.jsxs(bl,{children:[n.jsx(Sl,{disabled:x.isPending,children:"Cancel"}),n.jsx(_l,{onClick:w,disabled:x.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:x.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})})]})})},snt=()=>{const e=mr(),t=fBe(),[r,s]=v.useState("basic"),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[m,h]=v.useState(""),[x,p]=v.useState(""),[g,j]=v.useState(""),[y,w]=v.useState(""),[b,N]=v.useState(""),[S,_]=v.useState(""),[E,A]=v.useState(""),[k,D]=v.useState(""),[I,W]=v.useState(""),[H,F]=v.useState(""),[T,P]=v.useState(""),[M,O]=v.useState(""),[K,ne]=v.useState(""),[R,V]=v.useState(""),[L,G]=v.useState(""),[le,fe]=v.useState(""),B=()=>{if(!a||!c||!o){Ue.error("Please fill in all required fields (Company Name, Contact Person, Email)"),s("basic");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c)){Ue.error("Please enter a valid email address"),s("basic");return}const Se={name:a,company_name:a,contact_person:o,email:c,phone:u||"",website:m||"",logo:"",lead_time:M||"7-14 days",address:g||"",city:y||"",country:b||"",postal_code:S||"",tax_id:E||"",business_type:k||"",year_established:I||"",employee_count:H||"",category:x||"",product_categories:"",certifications:"",specializations:"",payment_terms:T||"",delivery_terms:M||"",warranty_period:K||"",return_policy:R||"",minimum_order:L||"",notes:le||""};t.mutate(Se,{onSuccess:()=>{e("/vendors")}})},Y=xe=>{Ue.info(`Import from ${xe.toUpperCase()} coming soon!`)},ie=["basic","address","business","terms"],we=ie.indexOf(r),ue=()=>{we<ie.length-1&&s(ie[we+1])},ge=()=>{we>0&&s(ie[we-1])};return n.jsx(ct,{title:"Add New Vendor",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ee,{variant:"ghost",onClick:()=>e("/vendors"),className:"gap-2",children:[n.jsx(sr,{className:"h-4 w-4"}),"Back to Vendors"]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(ee,{variant:"outline",className:"gap-2",children:[n.jsx(Gi,{className:"h-4 w-4"}),"Import Data"]}),n.jsx(ee,{onClick:B,className:"gap-2",disabled:t.isPending,children:t.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(gu,{className:"h-4 w-4"}),"Save Vendor"]})})]})]}),n.jsx(X,{className:"border-dashed",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h3",{className:"font-semibold",children:"Quick Import"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Import vendor data from existing files"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>Y("excel"),className:"gap-2",children:[n.jsx(Ek,{className:"h-4 w-4"}),"Excel"]}),n.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>Y("csv"),className:"gap-2",children:[n.jsx(kn,{className:"h-4 w-4"}),"CSV"]}),n.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>Y("docs"),className:"gap-2",children:[n.jsx(xse,{className:"h-4 w-4"}),"Docs"]})]})]})})}),n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Vendor Information"}),n.jsx(Dr,{children:"Fill in the vendor details below. Fields marked with * are required."})]}),n.jsxs(Q,{children:[n.jsxs(Mo,{value:r,onValueChange:s,children:[n.jsxs(ro,{className:"grid w-full grid-cols-4",children:[n.jsx(zt,{value:"basic",children:"Basic Info"}),n.jsx(zt,{value:"address",children:"Address"}),n.jsx(zt,{value:"business",children:"Business"}),n.jsx(zt,{value:"terms",children:"Terms"})]}),n.jsx(Qt,{value:"basic",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"companyName",children:["Company Name ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(fr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"companyName",placeholder:"Enter company name",value:a,onChange:xe=>i(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"category",children:"Category"}),n.jsxs(tt,{value:x,onValueChange:p,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select category"})}),n.jsxs(et,{children:[n.jsx(J,{value:"furniture",children:"Furniture"}),n.jsx(J,{value:"electronics",children:"Electronics"}),n.jsx(J,{value:"lighting",children:"Lighting"}),n.jsx(J,{value:"appliances",children:"Appliances"}),n.jsx(J,{value:"textiles",children:"Textiles"}),n.jsx(J,{value:"construction",children:"Construction"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"contactPerson",children:["Contact Person ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(os,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"contactPerson",placeholder:"Primary contact name",value:o,onChange:xe=>l(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"email",children:["Email ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(gn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"email",type:"email",placeholder:"contact@company.com",value:c,onChange:xe=>d(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"phone",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(To,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"phone",placeholder:"+1 (555) 000-0000",value:u,onChange:xe=>f(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"website",children:"Website"}),n.jsxs("div",{className:"relative",children:[n.jsx(ec,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"website",placeholder:"https://company.com",value:m,onChange:xe=>h(xe.target.value),className:"pl-9"})]})]})]})}),n.jsx(Qt,{value:"address",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"address",children:"Street Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(va,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"address",placeholder:"123 Main Street",value:g,onChange:xe=>j(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"city",children:"City"}),n.jsx(me,{id:"city",placeholder:"City",value:y,onChange:xe=>w(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"postalCode",children:"Postal Code"}),n.jsx(me,{id:"postalCode",placeholder:"10001",value:S,onChange:xe=>_(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"country",children:"Country"}),n.jsx(me,{id:"country",placeholder:"Country",value:b,onChange:xe=>N(xe.target.value)})]})]})}),n.jsx(Qt,{value:"business",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"taxId",children:"Tax ID / VAT Number"}),n.jsx(me,{id:"taxId",placeholder:"XX-XXXXXXX",value:E,onChange:xe=>A(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"businessType",children:"Business Type"}),n.jsxs(tt,{value:k,onValueChange:D,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select type"})}),n.jsxs(et,{children:[n.jsx(J,{value:"manufacturer",children:"Manufacturer"}),n.jsx(J,{value:"distributor",children:"Distributor"}),n.jsx(J,{value:"wholesaler",children:"Wholesaler"}),n.jsx(J,{value:"retailer",children:"Retailer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"yearEstablished",children:"Year Established"}),n.jsx(me,{id:"yearEstablished",placeholder:"2020",value:I,onChange:xe=>W(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"employeeCount",children:"Number of Employees"}),n.jsx(me,{id:"employeeCount",placeholder:"50",value:H,onChange:xe=>F(xe.target.value)})]})]})}),n.jsx(Qt,{value:"terms",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paymentTerms",children:"Payment Terms"}),n.jsxs(tt,{value:T,onValueChange:P,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select payment terms"})}),n.jsxs(et,{children:[n.jsx(J,{value:"net-30",children:"Net 30"}),n.jsx(J,{value:"net-60",children:"Net 60"}),n.jsx(J,{value:"net-90",children:"Net 90"}),n.jsx(J,{value:"cod",children:"Cash on Delivery"}),n.jsx(J,{value:"advance",children:"Advance Payment"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"deliveryTerms",children:"Delivery Terms"}),n.jsx(me,{id:"deliveryTerms",placeholder:"E.g., 7-14 business days",value:M,onChange:xe=>O(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"warrantyPeriod",children:"Warranty Period"}),n.jsx(me,{id:"warrantyPeriod",placeholder:"E.g., 12 months",value:K,onChange:xe=>ne(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"minimumOrder",children:"Minimum Order Value"}),n.jsxs("div",{className:"relative",children:[n.jsx(Nr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"minimumOrder",placeholder:"500",value:L,onChange:xe=>G(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"returnPolicy",children:"Return Policy"}),n.jsx(pn,{id:"returnPolicy",placeholder:"Describe return and refund policy",value:R,onChange:xe=>V(xe.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(pn,{id:"notes",placeholder:"Any additional information about the vendor",value:le,onChange:xe=>fe(xe.target.value),rows:4})]})]})})]}),n.jsxs("div",{className:"flex justify-between mt-6 pt-6 border-t",children:[n.jsxs(ee,{type:"button",variant:"outline",onClick:ge,disabled:we===0,className:"gap-2",children:[n.jsx(Sk,{className:"h-4 w-4"}),"Previous"]}),n.jsx("div",{className:"flex gap-2",children:we===ie.length-1?n.jsx(ee,{type:"button",onClick:B,disabled:t.isPending,className:"gap-2",children:t.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(gu,{className:"h-4 w-4"}),"Save Vendor"]})}):n.jsxs(ee,{type:"button",variant:"outline",onClick:ue,className:"gap-2",children:["Next",n.jsx(xu,{className:"h-4 w-4"})]})})]})]})]})]})})};function ant(){return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-9 w-40 rounded-md"}),n.jsx(C,{className:"h-9 w-32 rounded-md"})]})}function int(){return n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsx("div",{className:"flex items-center justify-center bg-muted rounded-full w-24 h-24",children:n.jsx(C,{className:"w-20 h-20 rounded-full"})}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-9 w-48"}),n.jsx(C,{className:"h-4 w-32"})]}),n.jsx(C,{className:"h-6 w-16 rounded-full"})]}),n.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[[...Array(5)].map((e,t)=>n.jsx(C,{className:"h-4 w-4 rounded-sm"},t)),n.jsx(C,{className:"h-4 w-8 ml-1"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-32"})]},t))})]})]})})})}function ont(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{iconBg:"bg-primary/10"},{iconBg:"bg-red-500/10"},{iconBg:"bg-primary/10"},{iconBg:"bg-green-500/10"}].map((e,t)=>n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-9 w-16"})]}),n.jsx("div",{className:`h-8 w-8 rounded-lg ${e.iconBg} flex items-center justify-center`,children:n.jsx(C,{className:"h-5 w-5 rounded"})})]})})},t))})}function lnt(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(C,{className:"h-6 w-32"})}),n.jsxs(Q,{children:[n.jsx("div",{className:"grid w-full grid-cols-5 bg-muted rounded-lg p-1 mb-6",children:[...Array(5)].map((e,t)=>n.jsx("div",{className:"flex items-center justify-center py-2",children:n.jsx(C,{className:"h-4 w-16"})},t))}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(C,{className:"h-6 w-40"}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"space-y-3",children:[...Array(2)].map((e,t)=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-48"})]},t))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(C,{className:"h-6 w-32"}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-4 w-20"})]},t))})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(C,{className:"h-6 w-40"}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[...Array(3)].map((e,t)=>n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx(C,{className:"h-8 w-8 rounded-lg mx-auto"}),n.jsx(C,{className:"h-7 w-16 mx-auto"}),n.jsx(C,{className:"h-3 w-28 mx-auto"})]})})},t))})]})]})]})]})}function cnt(){return n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Image","Product Details","Category","Client","Apartment","Room","Qty","Unit Price","Total","Payment","Availability","Actions"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(5)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"w-16 h-16 rounded-md"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2 min-w-[200px]",children:[n.jsx(C,{className:"h-4 w-40"}),n.jsx(C,{className:"h-3 w-32"}),n.jsx(C,{className:"h-3 w-28"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-24 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2 min-w-[150px]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-24"})]}),n.jsx(C,{className:"h-3 w-32"}),n.jsx(C,{className:"h-3 w-28"}),n.jsx(C,{className:"h-5 w-16 rounded-full"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2 min-w-[150px]",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-3 w-24"}),n.jsx(C,{className:"h-3 w-28"}),n.jsx(C,{className:"h-5 w-20 rounded-full"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-16"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx(C,{className:"h-4 w-12 ml-auto"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx(C,{className:"h-4 w-24 ml-auto"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28 ml-auto"}),n.jsx(C,{className:"h-3 w-20 ml-auto"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2 min-w-[120px]",children:[n.jsx(C,{className:"h-6 w-16 rounded-full"}),n.jsx(C,{className:"h-3 w-24"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx(C,{className:"h-8 w-8 rounded ml-auto"})})]},t))})]})})}function dnt(){return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(ant,{}),n.jsx(int,{}),n.jsx(ont,{}),n.jsx(lnt,{})]})})}const unt=()=>{const{id:e}=eo(),t=mr(),[r,s]=v.useState("overview"),{data:a,isLoading:i,error:o}=wX(e||null),{data:l=[],isLoading:c}=hBe(e||null),d=pBe(e||"");if(i)return n.jsx(dnt,{});if(o||!a)return n.jsx(ct,{title:"Vendor Not Found",children:n.jsx(X,{children:n.jsxs(Q,{className:"p-12 text-center",children:[n.jsx(At,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Vendor Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:o instanceof Error?o.message:"The vendor you're looking for doesn't exist."}),n.jsx(ee,{onClick:()=>t("/vendors"),children:"Back to Vendors"})]})})});const u=f=>{const m=typeof f=="string"?parseFloat(f):f;return n.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((h,x)=>n.jsx(nb,{className:`h-4 w-4 ${x<Math.floor(m)?"fill-yellow-500 text-yellow-500":"text-muted-foreground"}`},x)),n.jsx("span",{className:"text-sm font-medium ml-1",children:m.toFixed(1)})]})};return n.jsx(ct,{title:a.name,children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ee,{variant:"ghost",onClick:()=>t("/vendors"),className:"gap-2",children:[n.jsx(sr,{className:"h-4 w-4"}),"Back to Vendors"]}),n.jsxs(ee,{onClick:()=>t(`/vendors/${e}/edit`),className:"gap-2",children:[n.jsx(Qs,{className:"h-4 w-4"}),"Edit Vendor"]})]}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsx("div",{className:"flex items-center justify-center bg-muted rounded-full w-24 h-24 overflow-hidden",children:a.website?n.jsx("img",{src:`https://logo.clearbit.com/${new URL(a.website).hostname}`,alt:`${a.name} logo`,className:"w-20 h-20 object-contain",onError:f=>{const m=f.currentTarget;if(!m.dataset.fallbackAttempted)m.dataset.fallbackAttempted="true",m.src=`https://www.google.com/s2/favicons?domain=${new URL(a.website).hostname}&sz=128`;else{m.style.display="none";const h=m.parentElement;if(h){const x=document.createElement("span");x.className="text-4xl",x.textContent=a.logo||a.name.charAt(0).toUpperCase(),h.appendChild(x)}}}}):n.jsx("span",{className:"text-4xl",children:a.logo||a.name.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold",children:a.name}),n.jsx("p",{className:"text-muted-foreground",children:"Verified Vendor"})]}),n.jsx(_e,{variant:"secondary",className:"text-sm",children:"Active"})]}),n.jsx("div",{className:"flex items-center gap-2 mb-4",children:u(a.reliability)})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(gn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:`mailto:${a.email}`,className:"hover:underline",children:a.email})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(ec,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:a.website.replace("https://","")})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(wr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:["Lead Time: ",a.lead_time]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(ot,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[a.orders_count," Total Orders"]})]})]})]})]})})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),n.jsx("p",{className:"text-3xl font-bold mt-1",children:a.orders_count})]}),n.jsx(ot,{className:"h-8 w-8 text-primary"})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Issues"}),n.jsx("p",{className:"text-3xl font-bold mt-1",children:a.active_issues})]}),n.jsx(At,{className:`h-8 w-8 ${a.active_issues>0?"text-destructive":"text-green-500"}`})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Products"}),n.jsx("p",{className:"text-3xl font-bold mt-1",children:c?n.jsx("span",{className:"inline-block h-9 w-12 bg-muted animate-pulse rounded"}):l.length})]}),n.jsx(ot,{className:"h-8 w-8 text-primary"})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Reliability"}),n.jsx("p",{className:"text-3xl font-bold mt-1",children:(typeof a.reliability=="string"?parseFloat(a.reliability):a.reliability).toFixed(1)})]}),n.jsx(li,{className:"h-8 w-8 text-green-500"})]})})})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{children:"Vendor Details"})}),n.jsx(Q,{children:n.jsxs(Mo,{value:r,onValueChange:s,children:[n.jsxs(ro,{className:"grid w-full grid-cols-5",children:[n.jsx(zt,{value:"overview",children:"Overview"}),n.jsx(zt,{value:"products",children:"Products"}),n.jsx(zt,{value:"orders",children:"Orders"}),n.jsx(zt,{value:"issues",children:"Issues"}),n.jsx(zt,{value:"payments",children:"Payments"})]}),n.jsxs(Qt,{value:"overview",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Contact Information"}),n.jsx(Lt,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(gn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:a.email})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ec,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm hover:underline",children:a.website})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Business Details"}),n.jsx(Lt,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Lead Time"}),n.jsx("span",{className:"text-sm font-medium",children:a.lead_time})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Reliability Score"}),n.jsxs("span",{className:"text-sm font-medium",children:[a.reliability,"/5.0"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Orders"}),n.jsx("span",{className:"text-sm font-medium",children:a.orders_count})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Performance Metrics"}),n.jsx(Lt,{}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ur,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold",children:"95%"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"On-Time Delivery"})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(li,{className:"h-8 w-8 text-primary mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold",children:"4.5"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Quality Rating"})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ot,{className:"h-8 w-8 text-primary mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold",children:"98%"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Accuracy"})]})})})]})]})]}),n.jsx(Qt,{value:"products",className:"mt-6",children:c?n.jsx(cnt,{}):l.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ot,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Products"}),n.jsx("p",{className:"text-muted-foreground",children:"This vendor hasn't supplied any products yet."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Vt,{children:[n.jsx(Pe,{className:"w-[80px]",children:"Image"}),n.jsx(Pe,{children:"Product Details"}),n.jsx(Pe,{children:"Category"}),n.jsx(Pe,{children:"Client"}),n.jsx(Pe,{children:"Apartment"}),n.jsx(Pe,{children:"Room"}),n.jsx(Pe,{className:"text-right",children:"Qty"}),n.jsx(Pe,{className:"text-right",children:"Unit Price"}),n.jsx(Pe,{className:"text-right",children:"Total"}),n.jsx(Pe,{children:"Payment"}),n.jsx(Pe,{children:"Availability"}),n.jsx(Pe,{className:"text-right",children:"Actions"})]})}),n.jsx($s,{children:l.map(f=>{var m;return n.jsxs(Vt,{children:[n.jsxs(Ne,{children:[f.product_image?n.jsx("img",{src:f.product_image,alt:f.product,className:"w-16 h-16 object-cover rounded-md",onError:h=>{var x;h.currentTarget.style.display="none",(x=h.currentTarget.nextElementSibling)==null||x.classList.remove("hidden")}}):null,n.jsx("div",{className:`w-16 h-16 bg-muted rounded-md flex items-center justify-center ${f.product_image?"hidden":""}`,children:n.jsx(qi,{className:"h-6 w-6 text-muted-foreground"})})]}),n.jsx(Ne,{children:n.jsxs("div",{className:"space-y-1 min-w-[200px]",children:[n.jsx("p",{className:"font-medium",children:f.product}),f.description&&n.jsx("p",{className:"text-xs text-muted-foreground",children:f.description}),f.dimensions&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.dimensions]}),f.material&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.material]}),f.color&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.color]}),f.brand&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.brand]})]})}),n.jsx(Ne,{children:n.jsx(_e,{variant:"outline",children:f.category_name})}),n.jsx(Ne,{children:(m=f.apartment_details)!=null&&m.client_details?n.jsxs("div",{className:"space-y-1 min-w-[150px]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(os,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium",children:f.apartment_details.client_details.name})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f.apartment_details.client_details.email}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f.apartment_details.client_details.phone}),n.jsx(_e,{variant:"secondary",className:"text-xs",children:f.apartment_details.client_details.type})]}):n.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),n.jsx(Ne,{children:f.apartment_details?n.jsxs("div",{className:"space-y-1 min-w-[150px]",children:[n.jsx("p",{className:"text-sm font-medium",children:f.apartment_details.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f.apartment_details.type}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.apartment_details.owner]}),n.jsx(_e,{variant:f.apartment_details.status==="Delivery"?"default":f.apartment_details.status==="In Progress"?"secondary":"outline",className:"text-xs",children:f.apartment_details.status})]}):n.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),n.jsx(Ne,{children:n.jsx("span",{className:"text-sm",children:f.room||"-"})}),n.jsx(Ne,{className:"text-right",children:n.jsx("span",{className:"font-medium",children:f.qty||"-"})}),n.jsx(Ne,{className:"text-right",children:f.unit_price?n.jsx("div",{className:"space-y-1",children:n.jsx("span",{className:"font-medium",children:typeof f.unit_price=="number"?`${f.unit_price.toFixed(2)} ${f.currency||""}`:`${f.unit_price} ${f.currency||""}`})}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(Ne,{className:"text-right",children:f.total_amount||f.total_cost?n.jsxs("div",{className:"space-y-1",children:[n.jsxs("span",{className:"font-semibold text-primary",children:[f.total_amount||f.total_cost," ",f.currency||""]}),f.outstanding_balance&&parseFloat(f.outstanding_balance)>0&&n.jsxs("p",{className:"text-xs text-destructive",children:["Due: ",f.outstanding_balance," ",f.currency]})]}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(Ne,{children:n.jsxs("div",{className:"space-y-1 min-w-[120px]",children:[n.jsx(_e,{variant:f.payment_status==="Paid"?"default":f.payment_status==="Unpaid"?"destructive":f.payment_status==="Partial"?"secondary":"outline",children:f.payment_status||"Unknown"}),f.paid_amount&&parseFloat(f.paid_amount)>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Paid: ",f.paid_amount," ",f.currency]})]})}),n.jsx(Ne,{children:n.jsx(_e,{variant:f.availability==="In Stock"?"default":f.availability==="Out of Stock"?"destructive":f.availability==="Pre-order"?"secondary":"outline",children:f.availability||"Unknown"})}),n.jsx(Ne,{className:"text-right",children:n.jsxs(uc,{children:[n.jsx(tX,{asChild:!0,children:n.jsx(ee,{variant:"ghost",size:"sm",disabled:d.isPending,className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:n.jsx(hn,{className:"h-4 w-4"})})}),n.jsxs(yl,{children:[n.jsxs(jl,{children:[n.jsx(wl,{children:"Remove Product?"}),n.jsxs(Nl,{children:['Are you sure you want to remove "',f.product,'" from this vendor? This action cannot be undone.']})]}),n.jsxs(bl,{children:[n.jsx(Sl,{children:"Cancel"}),n.jsx(_l,{onClick:()=>d.mutate(f.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remove"})]})]})]})})]},f.id)})})]})})}),n.jsx(Qt,{value:"orders",className:"mt-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(_r,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Orders"}),n.jsx("p",{className:"text-muted-foreground",children:"Order history for this vendor will be displayed here."})]})}),n.jsx(Qt,{value:"issues",className:"mt-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(At,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Issues"}),n.jsx("p",{className:"text-muted-foreground",children:"Issue tracking for this vendor will be displayed here."})]})}),n.jsx(Qt,{value:"payments",className:"mt-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Nr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payments"}),n.jsx("p",{className:"text-muted-foreground",children:"Payment history for this vendor will be displayed here."})]})})]})})]})]})})};function fnt(){return n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsx(C,{className:"h-10 w-32 rounded-md"})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})]})}function mnt(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-7 w-48"}),n.jsx(C,{className:"h-4 w-96"})]})}),n.jsxs(Q,{children:[n.jsx("div",{className:"flex gap-1 border-b mb-6",children:["Basic Info","Address","Business","Products","Terms"].map((e,t)=>n.jsx(C,{className:"h-10 w-28 rounded-t-md"},t))}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx(C,{className:"h-5 w-32"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-12"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx(C,{className:"h-5 w-36"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx(C,{className:"h-5 w-40"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-36"}),n.jsx(C,{className:"h-20 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-20 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-20 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx(C,{className:"h-5 w-44"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-24 w-full rounded-md"})]})]})]})]})}function hnt(){return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(fnt,{}),n.jsx(mnt,{})]})})}const pnt=()=>{const{id:e}=eo(),t=mr(),[r,s]=v.useState("basic"),{data:a,isLoading:i,error:o}=wX(e||null),l=mBe(),c=NX(),[d,u]=v.useState(""),[f,m]=v.useState(""),[h,x]=v.useState(""),[p,g]=v.useState(""),[j,y]=v.useState(""),[w,b]=v.useState(""),[N,S]=v.useState(""),[_,E]=v.useState(""),[A,k]=v.useState(""),[D,I]=v.useState(""),[W,H]=v.useState(""),[F,T]=v.useState(""),[P,M]=v.useState(""),[O,K]=v.useState(""),[ne,R]=v.useState(""),[V,L]=v.useState(""),[G,le]=v.useState(""),[fe,B]=v.useState(""),[Y,ie]=v.useState(""),[we,ue]=v.useState(""),[ge,xe]=v.useState(""),[Se,Me]=v.useState(""),[ke,se]=v.useState("");if(v.useEffect(()=>{a&&(u(a.name||""),m(a.contact_person||""),x(a.email||""),g(a.phone||""),y(a.website||""),b(a.category||""),S(a.address||""),E(a.city||""),k(a.country||""),I(a.postal_code||""),H(a.tax_id||""),T(a.business_type||""),M(a.year_established||""),K(a.employee_count||""),R(a.product_categories||""),L(a.certifications||""),le(a.specializations||""),B(a.payment_terms||""),ie(a.delivery_terms||""),ue(a.warranty_period||""),xe(a.return_policy||""),Me(a.minimum_order||""),se(a.notes||""))},[a]),i)return n.jsx(hnt,{});if(o||!a)return n.jsx(ct,{title:"Vendor Not Found",children:n.jsx(X,{children:n.jsxs(Q,{className:"p-12 text-center",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Vendor Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:o instanceof Error?o.message:"The vendor you're trying to edit doesn't exist."}),n.jsx(ee,{onClick:()=>t("/vendors"),children:"Back to Vendors"})]})})});const he=()=>{if(!d||!h||!f){Ue.error("Please fill in all required fields (Company Name, Contact Person, Email)"),s("basic");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h)){Ue.error("Please enter a valid email address"),s("basic");return}const $e={name:d,company_name:d,contact_person:f,email:h,phone:p||"",website:j||"",category:w||"",address:N||"",city:_||"",country:A||"",postal_code:D||"",tax_id:W||"",business_type:F||"",year_established:P||"",employee_count:O||"",product_categories:ne||"",certifications:V||"",specializations:G||"",payment_terms:fe||"",delivery_terms:Y||"",warranty_period:we||"",return_policy:ge||"",minimum_order:Se||"",notes:ke||""};l.mutate({id:e,data:$e},{onSuccess:()=>{t(`/vendors/${e}`)}})},ce=()=>{c.mutate(e,{onSuccess:()=>{t("/vendors")}})};return n.jsx(ct,{title:`Edit ${a.name}`,children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ee,{variant:"ghost",onClick:()=>t(`/vendors/${e}`),className:"gap-2",children:[n.jsx(sr,{className:"h-4 w-4"}),"Back to Vendor"]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(uc,{children:[n.jsx(tX,{asChild:!0,children:n.jsxs(ee,{variant:"destructive",className:"gap-2",children:[n.jsx(hn,{className:"h-4 w-4"}),"Delete"]})}),n.jsxs(yl,{children:[n.jsxs(jl,{children:[n.jsx(wl,{children:"Are you sure?"}),n.jsx(Nl,{children:"This will permanently delete this vendor and all associated data. This action cannot be undone."})]}),n.jsxs(bl,{children:[n.jsx(Sl,{disabled:c.isPending,children:"Cancel"}),n.jsx(_l,{onClick:ce,disabled:c.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:c.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})]}),n.jsx(ee,{onClick:he,className:"gap-2",disabled:l.isPending,children:l.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(gu,{className:"h-4 w-4"}),"Save Changes"]})})]})]}),n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Vendor Information"}),n.jsx(Dr,{children:"Update the vendor details below. Fields marked with * are required."})]}),n.jsx(Q,{children:n.jsxs(Mo,{value:r,onValueChange:s,children:[n.jsxs(ro,{className:"grid w-full grid-cols-5",children:[n.jsx(zt,{value:"basic",children:"Basic Info"}),n.jsx(zt,{value:"address",children:"Address"}),n.jsx(zt,{value:"business",children:"Business"}),n.jsx(zt,{value:"products",children:"Products"}),n.jsx(zt,{value:"terms",children:"Terms"})]}),n.jsx(Qt,{value:"basic",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"companyName",children:["Company Name ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(fr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"companyName",placeholder:"Enter company name",value:d,onChange:je=>u(je.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"category",children:"Category"}),n.jsxs(tt,{value:w,onValueChange:b,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select category"})}),n.jsxs(et,{children:[n.jsx(J,{value:"furniture",children:"Furniture"}),n.jsx(J,{value:"electronics",children:"Electronics"}),n.jsx(J,{value:"lighting",children:"Lighting"}),n.jsx(J,{value:"appliances",children:"Appliances"}),n.jsx(J,{value:"textiles",children:"Textiles"}),n.jsx(J,{value:"construction",children:"Construction"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"contactPerson",children:["Contact Person ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(os,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"contactPerson",placeholder:"Primary contact name",value:f,onChange:je=>m(je.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"email",children:["Email ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(gn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"email",type:"email",placeholder:"contact@company.com",value:h,onChange:je=>x(je.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"phone",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(To,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"phone",placeholder:"+1 (555) 000-0000",value:p,onChange:je=>g(je.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"website",children:"Website"}),n.jsxs("div",{className:"relative",children:[n.jsx(ec,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"website",placeholder:"https://company.com",value:j,onChange:je=>y(je.target.value),className:"pl-9"})]})]})]})}),n.jsx(Qt,{value:"address",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"address",children:"Street Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(va,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"address",placeholder:"123 Main Street",value:N,onChange:je=>S(je.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"city",children:"City"}),n.jsx(me,{id:"city",placeholder:"City",value:_,onChange:je=>E(je.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"postalCode",children:"Postal Code"}),n.jsx(me,{id:"postalCode",placeholder:"10001",value:D,onChange:je=>I(je.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"country",children:"Country"}),n.jsx(me,{id:"country",placeholder:"Country",value:A,onChange:je=>k(je.target.value)})]})]})}),n.jsx(Qt,{value:"business",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"taxId",children:"Tax ID / VAT Number"}),n.jsx(me,{id:"taxId",placeholder:"XX-XXXXXXX",value:W,onChange:je=>H(je.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"businessType",children:"Business Type"}),n.jsxs(tt,{value:F,onValueChange:T,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select type"})}),n.jsxs(et,{children:[n.jsx(J,{value:"manufacturer",children:"Manufacturer"}),n.jsx(J,{value:"distributor",children:"Distributor"}),n.jsx(J,{value:"wholesaler",children:"Wholesaler"}),n.jsx(J,{value:"retailer",children:"Retailer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"yearEstablished",children:"Year Established"}),n.jsx(me,{id:"yearEstablished",placeholder:"2020",value:P,onChange:je=>M(je.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"employeeCount",children:"Number of Employees"}),n.jsx(me,{id:"employeeCount",placeholder:"50",value:O,onChange:je=>K(je.target.value)})]})]})}),n.jsx(Qt,{value:"products",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"productCategories",children:"Product Categories"}),n.jsx(pn,{id:"productCategories",placeholder:"E.g., Furniture, Lighting, Appliances (comma-separated)",value:ne,onChange:je=>R(je.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"specializations",children:"Specializations"}),n.jsx(pn,{id:"specializations",placeholder:"What makes this vendor unique?",value:G,onChange:je=>le(je.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"certifications",children:"Certifications & Compliance"}),n.jsx(pn,{id:"certifications",placeholder:"ISO, Quality certifications, etc.",value:V,onChange:je=>L(je.target.value),rows:3})]})]})}),n.jsx(Qt,{value:"terms",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paymentTerms",children:"Payment Terms"}),n.jsxs(tt,{value:fe,onValueChange:B,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select payment terms"})}),n.jsxs(et,{children:[n.jsx(J,{value:"net-30",children:"Net 30"}),n.jsx(J,{value:"net-60",children:"Net 60"}),n.jsx(J,{value:"net-90",children:"Net 90"}),n.jsx(J,{value:"cod",children:"Cash on Delivery"}),n.jsx(J,{value:"advance",children:"Advance Payment"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"deliveryTerms",children:"Delivery Terms"}),n.jsx(me,{id:"deliveryTerms",placeholder:"E.g., 7-14 business days",value:Y,onChange:je=>ie(je.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"warrantyPeriod",children:"Warranty Period"}),n.jsx(me,{id:"warrantyPeriod",placeholder:"E.g., 12 months",value:we,onChange:je=>ue(je.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"minimumOrder",children:"Minimum Order Value"}),n.jsxs("div",{className:"relative",children:[n.jsx(Nr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"minimumOrder",placeholder:"500",value:Se,onChange:je=>Me(je.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"returnPolicy",children:"Return Policy"}),n.jsx(pn,{id:"returnPolicy",placeholder:"Describe return and refund policy",value:ge,onChange:je=>xe(je.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(pn,{id:"notes",placeholder:"Any additional information about the vendor",value:ke,onChange:je=>se(je.target.value),rows:4})]})]})})]})})]})]})})},Vj=[{id:1,name:"Barbara Kovacs",role:"Designer",email:"barbara@buy2rent.com",phone:"+36 20 123 4567",assigned_apartments:2,status:"Active",last_active:"2025-11-05 14:30"},{id:2,name:"Maria Weber",role:"Designer",email:"maria@buy2rent.com",phone:"+43 664 987 6543",assigned_apartments:2,status:"Active",last_active:"2025-11-05 09:15"},{id:3,name:"Admin User",role:"System Admin",email:"admin@buy2rent.com",phone:"+36 30 555 1234",assigned_apartments:0,status:"Active",last_active:"2025-11-05 15:45"}],p8=[{id:1,name:"Supplier Issue Email",enabled:!0,template:{subject:"Issue Report - {{product}} - Order {{order_no}}",body:`Dear {{vendor}},

We have identified an issue with the following product:

Product: {{product}}
Apartment: {{apartment}}
Issue Type: {{issue_type}}
Description: {{description}}

Please advise on next steps for resolution.

Best regards,
Buy2Rent Team`}},{id:2,name:"Payment Reminder",enabled:!0,template:{subject:"Payment Reminder - Invoice {{invoice_no}}",body:`Dear {{vendor}},

This is a reminder that payment for invoice {{invoice_no}} is due on {{due_date}}.

Amount: {{amount}}
Order: {{order_no}}

Thank you,
Buy2Rent Finance Team`}},{id:3,name:"Out-of-Stock Replacement",enabled:!1,template:{subject:"Product Replacement Request - {{product}}",body:`Dear {{vendor}},

The product {{product}} is currently out of stock. Could you please suggest a suitable replacement?

Original Product: {{product}}
Apartment: {{apartment}}
Budget: {{price}}

Thank you,
Buy2Rent Procurement`}}],xnt=()=>{const[e,t]=v.useState(""),r=Vj.filter(a=>a.name.toLowerCase().includes(e.toLowerCase())||a.email.toLowerCase().includes(e.toLowerCase())||a.role.toLowerCase().includes(e.toLowerCase())),s=a=>({"System Admin":"bg-purple-500/10 text-purple-500",Designer:"bg-blue-500/10 text-blue-500",Manager:"bg-green-500/10 text-green-500"})[a]||"bg-gray-500/10 text-gray-500";return n.jsx(ct,{title:"Users",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),n.jsx("p",{className:"text-3xl font-bold",children:Vj.length})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Users"}),n.jsx("p",{className:"text-3xl font-bold",children:Vj.filter(a=>a.status==="Active").length})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Designers"}),n.jsx("p",{className:"text-3xl font-bold",children:Vj.filter(a=>a.role==="Designer").length})]})})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search users...",value:e,onChange:a=>t(a.target.value),className:"pl-9"})]}),n.jsxs(ee,{children:[n.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{children:["All Users (",r.length,")"]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Vt,{children:[n.jsx(Pe,{children:"Name"}),n.jsx(Pe,{children:"Role"}),n.jsx(Pe,{children:"Email"}),n.jsx(Pe,{children:"Phone"}),n.jsx(Pe,{children:"Assigned Apartments"}),n.jsx(Pe,{children:"Status"}),n.jsx(Pe,{children:"Last Active"}),n.jsx(Pe,{className:"text-right",children:"Actions"})]})}),n.jsx($s,{children:r.map(a=>n.jsxs(Vt,{children:[n.jsx(Ne,{className:"font-medium",children:a.name}),n.jsx(Ne,{children:n.jsx(_e,{className:s(a.role),children:a.role})}),n.jsx(Ne,{children:a.email}),n.jsx(Ne,{children:a.phone}),n.jsx(Ne,{children:a.assigned_apartments>0?n.jsx(_e,{variant:"secondary",children:a.assigned_apartments}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(Ne,{children:n.jsx(_e,{variant:a.status==="Active"?"default":"secondary",children:a.status})}),n.jsx(Ne,{className:"text-sm text-muted-foreground",children:a.last_active}),n.jsx(Ne,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(ee,{size:"sm",variant:"ghost",children:n.jsx(Qs,{className:"h-4 w-4"})}),n.jsx(ee,{size:"sm",variant:"ghost",children:n.jsx(w7,{className:"h-4 w-4"})})]})})]},a.id))})]})})})]})]})})},gnt=()=>{const[e,t]=v.useState(p8.reduce((i,o)=>({...i,[o.id]:o.enabled}),{})),{toast:r}=gr(),s=i=>{t(o=>({...o,[i]:!o[i]})),r({title:"Automation Updated",description:`Automation ${e[i]?"disabled":"enabled"} successfully.`})},a=i=>{r({title:"Template Saved",description:"Email template has been updated successfully."})};return n.jsx(ct,{title:"Automations",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(X,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 rounded-2xl bg-primary/10",children:n.jsx(d0,{className:"h-8 w-8 text-primary"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-2",children:"AI Workflow Automation"}),n.jsx("p",{className:"text-muted-foreground",children:"Configure automated email templates and workflows to streamline vendor communication, payment reminders, and issue resolution."})]})]})})}),p8.map(i=>n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ve,{children:i.name}),n.jsx(_e,{variant:e[i.id]?"default":"secondary",children:e[i.id]?"Active":"Inactive"})]}),n.jsx(Dr,{children:"Automatically send emails when triggered by system events"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(q,{htmlFor:`toggle-${i.id}`,className:"text-sm text-muted-foreground",children:e[i.id]?"Enabled":"Disabled"}),n.jsx(Vn,{id:`toggle-${i.id}`,checked:e[i.id],onCheckedChange:()=>s(i.id)})]})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:`subject-${i.id}`,className:"flex items-center gap-2",children:[n.jsx(gn,{className:"h-4 w-4"}),"Email Subject"]}),n.jsx(me,{id:`subject-${i.id}`,defaultValue:i.template.subject,placeholder:"Email subject line...",disabled:!e[i.id]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:`body-${i.id}`,children:"Email Body"}),n.jsx(ha,{id:`body-${i.id}`,defaultValue:i.template.body,placeholder:"Email template body...",rows:8,disabled:!e[i.id],className:"font-mono text-sm"}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[n.jsx(_e,{variant:"outline",className:"text-xs",children:"{{vendor}}"}),n.jsx(_e,{variant:"outline",className:"text-xs",children:"{{product}}"}),n.jsx(_e,{variant:"outline",className:"text-xs",children:"{{apartment}}"}),n.jsx(_e,{variant:"outline",className:"text-xs",children:"{{order_no}}"}),n.jsx(_e,{variant:"outline",className:"text-xs",children:"{{due_date}}"}),n.jsx(_e,{variant:"outline",className:"text-xs",children:"{{amount}}"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(ee,{onClick:()=>a(i.id),disabled:!e[i.id],children:[n.jsx(gu,{className:"h-4 w-4 mr-2"}),"Save Template"]})})]})]},i.id)),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5"}),"Recent Automation Events"]})}),n.jsx(Q,{children:n.jsx("div",{className:"space-y-3",children:[{event:"Issue email sent to IKEA Hungary",time:"2 hours ago",type:"issue"},{event:"Payment reminder sent to Royalty Line",time:"5 hours ago",type:"payment"},{event:"Stock check email sent to Philips",time:"1 day ago",type:"stock"},{event:"RMA request email sent to Home Depot",time:"2 days ago",type:"issue"}].map((i,o)=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(gn,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:i.event}),n.jsx("p",{className:"text-xs text-muted-foreground",children:i.time})]})]}),n.jsx(_e,{variant:"outline",children:i.type})]},o))})})]})]})})},vnt=qv.replace("/auth",""),Ni=cr.create({baseURL:vnt,headers:{"Content-Type":"application/json"}});Ni.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});Ni.interceptors.response.use(e=>e,async e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const jx={getSettings:async()=>(await Ni.get("/auth/settings/")).data,updateSettings:async e=>(await Ni.put("/auth/settings/",e)).data,resetSettings:async()=>(await Ni.delete("/auth/settings/")).data,getNotificationSettings:async()=>(await Ni.get("/auth/settings/notifications/")).data,updateNotificationSettings:async e=>(await Ni.put("/auth/settings/notifications/",e)).data,getDisplaySettings:async()=>(await Ni.get("/auth/settings/display/")).data,updateDisplaySettings:async e=>(await Ni.put("/auth/settings/display/",e)).data,getRegionalSettings:async()=>(await Ni.get("/auth/settings/regional/")).data,updateRegionalSettings:async e=>(await Ni.put("/auth/settings/regional/",e)).data,getProfileSettings:async()=>(await Ni.get("/auth/settings/profile/")).data,updateProfileSettings:async e=>(await Ni.put("/auth/settings/profile/",e)).data},ei={all:["settings"],notifications:["settings","notifications"],display:["settings","display"],regional:["settings","regional"],profile:["settings","profile"]},ynt={company:"",job_title:"",email_notifications:!0,push_notifications:!0,sms_notifications:!1,order_updates:!0,payment_alerts:!0,delivery_notifications:!0,vendor_messages:!0,system_alerts:!0,weekly_reports:!1,monthly_reports:!0,sound_enabled:!0,desktop_notifications:!0,theme:"light",compact_view:!1,sidebar_collapsed:!1,show_avatars:!0,animations_enabled:!0,language:"en",timezone:"UTC+1",date_format:"YYYY-MM-DD",time_format:"24h",currency:"HUF",number_format:"hu-HU",two_factor_enabled:!1},jnt=()=>Ss({queryKey:ei.all,queryFn:async()=>{try{return await jx.getSettings()}catch(e){return console.warn("Failed to fetch settings, using defaults:",e),ynt}},staleTime:5*60*1e3,retry:1}),bnt=()=>{const e=Hr();return cn({mutationFn:t=>jx.updateSettings(t),onSuccess:t=>{e.setQueryData(ei.all,t.settings),e.invalidateQueries({queryKey:ei.notifications}),e.invalidateQueries({queryKey:ei.display}),e.invalidateQueries({queryKey:ei.regional}),e.invalidateQueries({queryKey:ei.profile})}})},wnt=()=>{const e=Hr();return cn({mutationFn:jx.resetSettings,onSuccess:t=>{e.setQueryData(ei.all,t.settings),e.invalidateQueries({queryKey:ei.all})}})},Nnt=()=>{const e=Hr();return cn({mutationFn:t=>jx.updateNotificationSettings(t),onSuccess:t=>{e.setQueryData(ei.notifications,t.settings),e.invalidateQueries({queryKey:ei.all})}})},_nt=()=>{const e=Hr();return cn({mutationFn:t=>jx.updateDisplaySettings(t),onSuccess:t=>{e.setQueryData(ei.display,t.settings),e.invalidateQueries({queryKey:ei.all})}})},Snt=()=>{const e=Hr();return cn({mutationFn:t=>jx.updateRegionalSettings(t),onSuccess:t=>{e.setQueryData(ei.regional,t.settings),e.invalidateQueries({queryKey:ei.all})}})},Cnt=()=>{const{theme:e,setTheme:t}=Vp(),{toast:r}=gr(),{user:s}=Gv(),[a,i]=v.useState("account"),{data:o,isLoading:l,refetch:c}=jnt(),d=bnt(),u=wnt(),f=Nnt(),m=_nt(),h=Snt(),[x,p]=v.useState({firstName:"",lastName:"",email:"",phone:"",company:"",jobTitle:""}),[g,j]=v.useState(!1),[y,w]=v.useState(!1),[b,N]=v.useState(!1),[S,_]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[E,A]=v.useState({emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,orderUpdates:!0,paymentAlerts:!0,deliveryNotifications:!0,vendorMessages:!0,systemAlerts:!0,weeklyReports:!1,monthlyReports:!0,soundEnabled:!0,desktopNotifications:!0}),[k,D]=v.useState({compactView:!1,sidebarCollapsed:localStorage.getItem("sidebarCollapsed")==="true",showAvatars:!0,animationsEnabled:!0}),[I,W]=v.useState({language:"en",timezone:"UTC+1",dateFormat:"YYYY-MM-DD",timeFormat:"24h",currency:"HUF",numberFormat:"hu-HU"}),[H,F]=v.useState(!1);v.useEffect(()=>{o&&(p({firstName:(s==null?void 0:s.first_name)||"",lastName:(s==null?void 0:s.last_name)||"",email:(s==null?void 0:s.email)||o.user_email||"",phone:(s==null?void 0:s.phone)||"",company:o.company||"",jobTitle:o.job_title||""}),A({emailNotifications:o.email_notifications,pushNotifications:o.push_notifications,smsNotifications:o.sms_notifications,orderUpdates:o.order_updates,paymentAlerts:o.payment_alerts,deliveryNotifications:o.delivery_notifications,vendorMessages:o.vendor_messages,systemAlerts:o.system_alerts,weeklyReports:o.weekly_reports,monthlyReports:o.monthly_reports,soundEnabled:o.sound_enabled,desktopNotifications:o.desktop_notifications}),D({compactView:o.compact_view,sidebarCollapsed:o.sidebar_collapsed,showAvatars:o.show_avatars,animationsEnabled:o.animations_enabled}),W({language:o.language,timezone:o.timezone,dateFormat:o.date_format,timeFormat:o.time_format,currency:o.currency,numberFormat:o.number_format}),F(o.two_factor_enabled))},[o,s]);const T=async()=>{try{await d.mutateAsync({company:x.company,job_title:x.jobTitle}),r({title:"Account Updated",description:"Your account information has been saved successfully."})}catch{r({title:"Error",description:"Failed to save account settings.",variant:"destructive"})}},P=()=>{if(S.newPassword!==S.confirmPassword){r({title:"Error",description:"New passwords do not match.",variant:"destructive"});return}r({title:"Password Changed",description:"Your password has been updated successfully."}),_({currentPassword:"",newPassword:"",confirmPassword:""})},M=async()=>{try{await f.mutateAsync({email_notifications:E.emailNotifications,push_notifications:E.pushNotifications,sms_notifications:E.smsNotifications,order_updates:E.orderUpdates,payment_alerts:E.paymentAlerts,delivery_notifications:E.deliveryNotifications,vendor_messages:E.vendorMessages,system_alerts:E.systemAlerts,weekly_reports:E.weeklyReports,monthly_reports:E.monthlyReports,sound_enabled:E.soundEnabled,desktop_notifications:E.desktopNotifications}),r({title:"Preferences Saved",description:"Your notification preferences have been updated."})}catch{r({title:"Error",description:"Failed to save notification settings.",variant:"destructive"})}},O=async()=>{try{await m.mutateAsync({theme:e,compact_view:k.compactView,sidebar_collapsed:k.sidebarCollapsed,show_avatars:k.showAvatars,animations_enabled:k.animationsEnabled}),localStorage.setItem("sidebarCollapsed",String(k.sidebarCollapsed)),window.dispatchEvent(new CustomEvent("sidebarPreferenceChanged",{detail:{collapsed:k.sidebarCollapsed}})),r({title:"Display Settings Saved",description:"Your display preferences have been updated."})}catch{r({title:"Error",description:"Failed to save display settings.",variant:"destructive"})}},K=async()=>{try{await h.mutateAsync({language:I.language,timezone:I.timezone,date_format:I.dateFormat,time_format:I.timeFormat,currency:I.currency,number_format:I.numberFormat}),r({title:"Regional Settings Saved",description:"Your regional preferences have been updated."})}catch{r({title:"Error",description:"Failed to save regional settings.",variant:"destructive"})}},ne=async L=>{try{await u.mutateAsync(),r({title:"Settings Reset",description:"All settings have been reset to defaults."}),c()}catch{r({title:"Error",description:"Failed to reset settings.",variant:"destructive"})}},R=async L=>{try{await d.mutateAsync({two_factor_enabled:L}),F(L),r({title:L?"2FA Enabled":"2FA Disabled",description:L?"Two-factor authentication has been enabled.":"Two-factor authentication has been disabled."})}catch{r({title:"Error",description:"Failed to update 2FA settings.",variant:"destructive"})}};if(l)return n.jsx(ct,{title:"Settings",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(C,{className:"h-6 w-24"})}),n.jsx(Q,{className:"space-y-2",children:[1,2,3,4,5].map(L=>n.jsx(C,{className:"h-10 w-full"},L))})]})}),n.jsx("div",{className:"lg:col-span-3",children:n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(C,{className:"h-6 w-48"}),n.jsx(C,{className:"h-4 w-64"})]}),n.jsx(Q,{className:"space-y-4",children:[1,2,3,4].map(L=>n.jsx(C,{className:"h-12 w-full"},L))})]})})]})});const V=[{id:"account",icon:os,label:"Account"},{id:"security",icon:z5,label:"Security"},{id:"notifications",icon:uf,label:"Notifications"},{id:"display",icon:Sse,label:"Display"},{id:"regional",icon:ec,label:"Regional Settings"}];return n.jsx(ct,{title:"Settings",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx($v,{className:"h-5 w-5"}),"Settings"]})}),n.jsx(Q,{className:"p-2",children:n.jsx("nav",{className:"space-y-1",children:V.map(L=>n.jsxs(ee,{variant:a===L.id?"secondary":"ghost",className:"w-full justify-start",onClick:()=>i(L.id),children:[n.jsx(L.icon,{className:"mr-2 h-4 w-4"}),L.label]},L.id))})})]})}),n.jsxs("div",{className:"lg:col-span-3",children:[a==="account"&&n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Personal Information"}),n.jsx(Dr,{children:"Update your personal details and contact information"})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"firstName",children:"First Name"}),n.jsx(me,{id:"firstName",value:x.firstName,onChange:L=>p({...x,firstName:L.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"lastName",children:"Last Name"}),n.jsx(me,{id:"lastName",value:x.lastName,onChange:L=>p({...x,lastName:L.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"email",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(gn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"email",type:"email",className:"pl-10",value:x.email,onChange:L=>p({...x,email:L.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"phone",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(To,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"phone",type:"tel",className:"pl-10",value:x.phone,onChange:L=>p({...x,phone:L.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"company",children:"Company"}),n.jsx(me,{id:"company",value:x.company,onChange:L=>p({...x,company:L.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"jobTitle",children:"Job Title"}),n.jsx(me,{id:"jobTitle",value:x.jobTitle,onChange:L=>p({...x,jobTitle:L.target.value})})]})]}),n.jsx(Lt,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(ee,{variant:"outline",onClick:()=>p({firstName:"John",lastName:"Smith",email:"john.smith@example.com",phone:"+1 (555) 123-4567",company:"Tech Solutions Inc.",jobTitle:"Property Manager"}),children:"Cancel"}),n.jsxs(ee,{onClick:T,disabled:d.isPending,children:[d.isPending?n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(yo,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]})]}),a==="security"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Change Password"}),n.jsx(Dr,{children:"Update your password to keep your account secure"})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"currentPassword",children:"Current Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"currentPassword",type:g?"text":"password",value:S.currentPassword,onChange:L=>_({...S,currentPassword:L.target.value})}),n.jsx(ee,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>j(!g),children:g?n.jsx(mh,{className:"h-4 w-4"}):n.jsx(oi,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"newPassword",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"newPassword",type:y?"text":"password",value:S.newPassword,onChange:L=>_({...S,newPassword:L.target.value})}),n.jsx(ee,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>w(!y),children:y?n.jsx(mh,{className:"h-4 w-4"}):n.jsx(oi,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"confirmPassword",children:"Confirm New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"confirmPassword",type:b?"text":"password",value:S.confirmPassword,onChange:L=>_({...S,confirmPassword:L.target.value})}),n.jsx(ee,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>N(!b),children:b?n.jsx(mh,{className:"h-4 w-4"}):n.jsx(oi,{className:"h-4 w-4"})})]})]})]}),n.jsx(Lt,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(ee,{variant:"outline",onClick:()=>_({currentPassword:"",newPassword:"",confirmPassword:""}),children:"Cancel"}),n.jsxs(ee,{onClick:P,children:[n.jsx(z5,{className:"mr-2 h-4 w-4"}),"Update Password"]})]})]})]}),n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Two-Factor Authentication"}),n.jsx(Dr,{children:"Add an extra layer of security to your account"})]}),n.jsx(Q,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Tse,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium",children:"Enable 2FA"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Require a verification code in addition to your password"})]})]}),n.jsx(Vn,{checked:H,onCheckedChange:R,disabled:d.isPending})]})})]})]}),a==="notifications"&&n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Notification Preferences"}),n.jsx(Dr,{children:"Manage how and when you receive notifications"})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Notification Channels"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(gn,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Email Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]})]}),n.jsx(Vn,{checked:E.emailNotifications,onCheckedChange:L=>A({...E,emailNotifications:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(uf,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Push Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive browser push notifications"})]})]}),n.jsx(Vn,{checked:E.pushNotifications,onCheckedChange:L=>A({...E,pushNotifications:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(lu,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"SMS Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via text message"})]})]}),n.jsx(Vn,{checked:E.smsNotifications,onCheckedChange:L=>A({...E,smsNotifications:L})})]})]})]}),n.jsx(Lt,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Activity Notifications"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Order Updates"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified about order status changes"})]}),n.jsx(Vn,{checked:E.orderUpdates,onCheckedChange:L=>A({...E,orderUpdates:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Payment Alerts"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications for payment activities"})]}),n.jsx(Vn,{checked:E.paymentAlerts,onCheckedChange:L=>A({...E,paymentAlerts:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Delivery Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Updates on delivery status and schedules"})]}),n.jsx(Vn,{checked:E.deliveryNotifications,onCheckedChange:L=>A({...E,deliveryNotifications:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Vendor Messages"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Messages and updates from vendors"})]}),n.jsx(Vn,{checked:E.vendorMessages,onCheckedChange:L=>A({...E,vendorMessages:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"System Alerts"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Important system notifications and updates"})]}),n.jsx(Vn,{checked:E.systemAlerts,onCheckedChange:L=>A({...E,systemAlerts:L})})]})]})]}),n.jsx(Lt,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Report Notifications"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Weekly Reports"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive weekly summary reports"})]}),n.jsx(Vn,{checked:E.weeklyReports,onCheckedChange:L=>A({...E,weeklyReports:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Monthly Reports"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive monthly summary reports"})]}),n.jsx(Vn,{checked:E.monthlyReports,onCheckedChange:L=>A({...E,monthlyReports:L})})]})]})]}),n.jsx(Lt,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Sound & Desktop"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[E.soundEnabled?n.jsx(Ise,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(Rse,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Sound Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Play sounds for notifications"})]})]}),n.jsx(Vn,{checked:E.soundEnabled,onCheckedChange:L=>A({...E,soundEnabled:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Desktop Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Show notifications on desktop"})]}),n.jsx(Vn,{checked:E.desktopNotifications,onCheckedChange:L=>A({...E,desktopNotifications:L})})]})]})]})]}),n.jsx(Lt,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsxs(ee,{variant:"outline",onClick:()=>ne(),disabled:u.isPending,children:[u.isPending?n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Pf,{className:"mr-2 h-4 w-4"}),"Reset to Default"]}),n.jsxs(ee,{onClick:M,disabled:f.isPending,children:[f.isPending?n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(yo,{className:"mr-2 h-4 w-4"}),"Save Preferences"]})]})]})]}),a==="display"&&n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Appearance"}),n.jsx(Dr,{children:"Customize how the application looks and feels"})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[e==="dark"?n.jsx(Fv,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(Lv,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Theme"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose your preferred color scheme"})]})]}),n.jsxs(tt,{value:e,onValueChange:t,children:[n.jsx(Je,{className:"w-32",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"light",children:"Light"}),n.jsx(J,{value:"dark",children:"Dark"}),n.jsx(J,{value:"system",children:"System"})]})]})]}),n.jsx(Lt,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Compact View"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Display more content with reduced spacing"})]}),n.jsx(Vn,{checked:k.compactView,onCheckedChange:L=>D({...k,compactView:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Collapsed Sidebar"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Show sidebar in collapsed state by default"})]}),n.jsx(Vn,{checked:k.sidebarCollapsed,onCheckedChange:L=>{D({...k,sidebarCollapsed:L}),localStorage.setItem("sidebarCollapsed",String(L)),window.dispatchEvent(new CustomEvent("sidebarPreferenceChanged",{detail:{collapsed:L}})),r({title:"Sidebar Preference Updated",description:`Sidebar will be ${L?"collapsed":"expanded"} by default.`})}})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Show Avatars"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Display user avatars throughout the app"})]}),n.jsx(Vn,{checked:k.showAvatars,onCheckedChange:L=>D({...k,showAvatars:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Enable Animations"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Show smooth transitions and animations"})]}),n.jsx(Vn,{checked:k.animationsEnabled,onCheckedChange:L=>D({...k,animationsEnabled:L})})]})]}),n.jsx(Lt,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsxs(ee,{variant:"outline",onClick:()=>ne(),disabled:u.isPending,children:[u.isPending?n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Pf,{className:"mr-2 h-4 w-4"}),"Reset to Default"]}),n.jsxs(ee,{onClick:O,disabled:m.isPending,children:[m.isPending?n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(yo,{className:"mr-2 h-4 w-4"}),"Save Settings"]})]})]})]}),a==="regional"&&n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Regional Preferences"}),n.jsx(Dr,{children:"Configure language, timezone, and formatting options"})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"language",children:"Language"}),n.jsxs(tt,{value:I.language,onValueChange:L=>W({...I,language:L}),children:[n.jsx(Je,{id:"language",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"en",children:"English"}),n.jsx(J,{value:"es",children:"Spanish"}),n.jsx(J,{value:"fr",children:"French"}),n.jsx(J,{value:"de",children:"German"}),n.jsx(J,{value:"zh",children:"Chinese"}),n.jsx(J,{value:"ja",children:"Japanese"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"timezone",children:"Timezone"}),n.jsxs("div",{className:"relative",children:[n.jsx(ec,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground z-10"}),n.jsxs(tt,{value:I.timezone,onValueChange:L=>W({...I,timezone:L}),children:[n.jsx(Je,{id:"timezone",className:"pl-10",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"UTC-12",children:"UTC-12:00 Baker Island"}),n.jsx(J,{value:"UTC-11",children:"UTC-11:00 American Samoa"}),n.jsx(J,{value:"UTC-10",children:"UTC-10:00 Hawaii"}),n.jsx(J,{value:"UTC-9",children:"UTC-09:00 Alaska"}),n.jsx(J,{value:"UTC-8",children:"UTC-08:00 Pacific Time"}),n.jsx(J,{value:"UTC-7",children:"UTC-07:00 Mountain Time"}),n.jsx(J,{value:"UTC-6",children:"UTC-06:00 Central Time"}),n.jsx(J,{value:"UTC-5",children:"UTC-05:00 Eastern Time"}),n.jsx(J,{value:"UTC-4",children:"UTC-04:00 Atlantic Time"}),n.jsx(J,{value:"UTC-3",children:"UTC-03:00 Buenos Aires"}),n.jsx(J,{value:"UTC-2",children:"UTC-02:00 Mid-Atlantic"}),n.jsx(J,{value:"UTC-1",children:"UTC-01:00 Azores"}),n.jsx(J,{value:"UTC+0",children:"UTC+00:00 London"}),n.jsx(J,{value:"UTC+1",children:"UTC+01:00 Paris"}),n.jsx(J,{value:"UTC+2",children:"UTC+02:00 Cairo"}),n.jsx(J,{value:"UTC+3",children:"UTC+03:00 Moscow"}),n.jsx(J,{value:"UTC+4",children:"UTC+04:00 Dubai"}),n.jsx(J,{value:"UTC+5",children:"UTC+05:00 Pakistan"}),n.jsx(J,{value:"UTC+6",children:"UTC+06:00 Bangladesh"}),n.jsx(J,{value:"UTC+7",children:"UTC+07:00 Bangkok"}),n.jsx(J,{value:"UTC+8",children:"UTC+08:00 Singapore"}),n.jsx(J,{value:"UTC+9",children:"UTC+09:00 Tokyo"}),n.jsx(J,{value:"UTC+10",children:"UTC+10:00 Sydney"}),n.jsx(J,{value:"UTC+11",children:"UTC+11:00 Solomon Islands"}),n.jsx(J,{value:"UTC+12",children:"UTC+12:00 New Zealand"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"dateFormat",children:"Date Format"}),n.jsxs("div",{className:"relative",children:[n.jsx(Qr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground z-10"}),n.jsxs(tt,{value:I.dateFormat,onValueChange:L=>W({...I,dateFormat:L}),children:[n.jsx(Je,{id:"dateFormat",className:"pl-10",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"MM/DD/YYYY",children:"MM/DD/YYYY (12/31/2024)"}),n.jsx(J,{value:"DD/MM/YYYY",children:"DD/MM/YYYY (31/12/2024)"}),n.jsx(J,{value:"YYYY-MM-DD",children:"YYYY-MM-DD (2024-12-31)"}),n.jsx(J,{value:"DD.MM.YYYY",children:"DD.MM.YYYY (31.12.2024)"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"timeFormat",children:"Time Format"}),n.jsxs(tt,{value:I.timeFormat,onValueChange:L=>W({...I,timeFormat:L}),children:[n.jsx(Je,{id:"timeFormat",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"12h",children:"12-hour (3:30 PM)"}),n.jsx(J,{value:"24h",children:"24-hour (15:30)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"currency",children:"Currency"}),n.jsxs("div",{className:"relative",children:[n.jsx(Nr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground z-10"}),n.jsxs(tt,{value:I.currency,onValueChange:L=>W({...I,currency:L}),children:[n.jsx(Je,{id:"currency",className:"pl-10",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"HUF",children:"HUF - Hungarian Forint (Ft)"}),n.jsx(J,{value:"USD",children:"USD - US Dollar ($)"}),n.jsx(J,{value:"EUR",children:"EUR - Euro ()"}),n.jsx(J,{value:"GBP",children:"GBP - British Pound ()"}),n.jsx(J,{value:"JPY",children:"JPY - Japanese Yen ()"}),n.jsx(J,{value:"CNY",children:"CNY - Chinese Yuan ()"}),n.jsx(J,{value:"INR",children:"INR - Indian Rupee ()"}),n.jsx(J,{value:"CAD",children:"CAD - Canadian Dollar ($)"}),n.jsx(J,{value:"AUD",children:"AUD - Australian Dollar ($)"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"numberFormat",children:"Number Format"}),n.jsxs(tt,{value:I.numberFormat,onValueChange:L=>W({...I,numberFormat:L}),children:[n.jsx(Je,{id:"numberFormat",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(J,{value:"en-US",children:"1,234.56 (US)"}),n.jsx(J,{value:"de-DE",children:"1.234,56 (German)"}),n.jsx(J,{value:"fr-FR",children:"1 234,56 (French)"}),n.jsx(J,{value:"en-IN",children:"1,23,456.78 (Indian)"})]})]})]})]}),n.jsx(Lt,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsxs(ee,{variant:"outline",onClick:()=>ne(),disabled:u.isPending,children:[u.isPending?n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Pf,{className:"mr-2 h-4 w-4"}),"Reset to Default"]}),n.jsxs(ee,{onClick:K,disabled:h.isPending,children:[h.isPending?n.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(yo,{className:"mr-2 h-4 w-4"}),"Save Settings"]})]})]})]})]})]})})},Ent=()=>{var g;const e=oc(),t=mr(),{issues:r,vendors:s}=Ll(),a=((g=e.state)==null?void 0:g.selectedIssues)||[],[i,o]=v.useState({subject:"",message:"",includeIssueDetails:!0,includePhotos:!0}),[l,c]=v.useState(!1),[d,u]=v.useState(new Set),f=v.useMemo(()=>{const j={};return a.forEach(y=>{const w=y.vendor,b=y.vendor_details||s.find(N=>N.id===w);j[w]||(j[w]={vendor:b||{id:w,name:"Unknown Vendor"},issues:[]}),j[w].issues.push(y)}),j},[a,s]),m=Object.keys(f).length,h=a.length,x=j=>{u(y=>{const w=new Set(y);return w.has(j)?w.delete(j):w.add(j),w})},p=async()=>{var j,y;if(!i.subject||!i.message){Ue.error("Please provide email subject and message");return}c(!0);try{const w=a.map(N=>N.id),b=await Kn.sendBulkEmail({issue_ids:w,subject:i.subject,message:i.message,include_issue_details:i.includeIssueDetails,include_photos:i.includePhotos});b.success?(Ue.success("Emails Sent Successfully",{description:`Sent ${b.results.sent} emails to vendors about ${b.results.total_issues} issues.`}),t("/issues")):Ue.error("Failed to send some emails",{description:b.message||"Please check the details and try again."})}catch(w){console.error("Bulk email error:",w),Ue.error("Failed to send emails",{description:((y=(j=w.response)==null?void 0:j.data)==null?void 0:y.message)||w.message||"An error occurred while sending emails."})}finally{c(!1)}};return n.jsx(ct,{title:"Send Bulk Email to Vendors",subtitle:"Send a standardized email to all vendors with open issues. Each vendor will receive information about their specific issues.",actions:n.jsxs(ee,{variant:"outline",onClick:()=>t("/issues"),children:[n.jsx(sr,{className:"h-4 w-4 mr-2"}),"Back to Issues"]}),children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(X,{children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(Xc,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Recipients"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:m})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Vendors"})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-danger/10 rounded-lg",children:n.jsx(ot,{className:"h-5 w-5 text-danger"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Issues"}),n.jsx("p",{className:"text-2xl font-bold text-danger",children:h})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Items"})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-warning/10 rounded-lg",children:n.jsx(gn,{className:"h-5 w-5 text-warning"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Emails"}),n.jsx("p",{className:"text-2xl font-bold text-warning",children:m})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"To Send"})]})})]}),n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsxs(Ve,{className:"text-lg flex items-center gap-2",children:[n.jsx(Xc,{className:"h-5 w-5"}),"Recipients by Vendor"]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Click on a vendor to view their issues"})]}),n.jsx(Q,{children:n.jsx("div",{className:"space-y-3",children:Object.entries(f).map(([j,{vendor:y,issues:w}])=>n.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[n.jsxs("button",{onClick:()=>x(j),className:"w-full flex items-center justify-between p-4 bg-muted/30 hover:bg-muted/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[d.has(j)?n.jsx(Ou,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(xu,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"font-semibold text-base",children:y.name}),y.email&&n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-0.5",children:[n.jsx(gn,{className:"h-3 w-3"}),y.email]})]})]}),n.jsxs(_e,{variant:"outline",className:"ml-2",children:[w.length," ",w.length===1?"issue":"issues"]})]}),d.has(j)&&n.jsx("div",{className:"p-4 bg-background border-t space-y-2",children:w.map((b,N)=>n.jsx("div",{className:"p-3 rounded-lg border bg-card hover:bg-accent/5 transition-colors",children:n.jsx("div",{className:"flex items-start justify-between gap-3",children:n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(_e,{variant:"secondary",className:"text-xs",children:["#",N+1]}),n.jsx("span",{className:"text-sm font-medium",children:b.display_product_name||b.product_name||"Product Issue"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx(At,{className:"h-3 w-3"}),n.jsx("span",{className:"font-medium",children:b.type}),n.jsx("span",{children:""}),n.jsx(_e,{variant:b.priority==="Critical"?"destructive":b.priority==="High"?"default":"secondary",className:"text-xs",children:b.priority})]}),b.description&&n.jsxs("p",{className:"text-xs text-muted-foreground line-clamp-2 flex items-start gap-1",children:[n.jsx(kn,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),b.description]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx(Qr,{className:"h-3 w-3"}),n.jsxs("span",{children:["Reported: ",new Date(b.reported_on).toLocaleDateString()]}),n.jsx("span",{children:""}),n.jsx(_e,{variant:"outline",className:"text-xs",children:b.status})]})]})})},b.id))})]},j))})})]}),n.jsx(Lt,{}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{className:"text-lg",children:"Compose Email"})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"subject",children:"Email Subject *"}),n.jsx("input",{id:"subject",type:"text",placeholder:"e.g., Urgent: Product Issues Requiring Resolution",value:i.subject,onChange:j=>o(y=>({...y,subject:j.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"message",children:"Email Message *"}),n.jsx(pn,{id:"message",placeholder:`Dear Vendor Team,

We have identified several issues with the products delivered. Please review the details below and provide a resolution plan at your earliest convenience.

Best regards,
Procurement Team`,value:i.message,onChange:j=>o(y=>({...y,message:j.target.value})),rows:10,className:"resize-none"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"This message will be sent to all vendors. Issue-specific details will be automatically appended."})]}),n.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[n.jsx(q,{className:"text-sm font-semibold",children:"Email Options"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(So,{id:"includeDetails",checked:i.includeIssueDetails,onCheckedChange:j=>o(y=>({...y,includeIssueDetails:j}))}),n.jsx("label",{htmlFor:"includeDetails",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Include detailed issue information (product names, SKUs, descriptions)"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(So,{id:"includePhotos",checked:i.includePhotos,onCheckedChange:j=>o(y=>({...y,includePhotos:j}))}),n.jsx("label",{htmlFor:"includePhotos",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Attach issue photos to emails"})]})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{className:"text-lg",children:"Email Preview"})}),n.jsx(Q,{children:n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-3 text-sm",children:[n.jsxs("div",{className:"font-semibold",children:["Subject: ",i.subject||"(No subject)"]}),n.jsx(Lt,{}),n.jsx("div",{className:"whitespace-pre-wrap",children:i.message||"(No message)"}),i.includeIssueDetails&&n.jsxs(n.Fragment,{children:[n.jsx(Lt,{}),n.jsx("div",{className:"text-xs text-muted-foreground italic",children:"[Vendor-specific issue details will be inserted here]"})]})]})})]}),n.jsxs("div",{className:"flex justify-end gap-3 pb-6",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>t("/issues"),children:"Cancel"}),n.jsxs(ee,{onClick:p,disabled:l||!i.subject||!i.message,size:"lg",children:[n.jsx(y7,{className:"h-4 w-4 mr-2"}),l?"Sending...":`Send ${m} Emails`]})]})]})})},Ant=new Boe,Pnt=()=>n.jsx(Hoe,{client:Ant,children:n.jsx(Tde,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:n.jsxs(oU,{children:[n.jsx(vae,{}),n.jsx(Xae,{}),n.jsx(Zle,{children:n.jsx(kde,{children:n.jsxs(Wle,{children:[n.jsx(Jt,{path:"/login",element:n.jsx(jue,{})}),n.jsx(Jt,{path:"/signup",element:n.jsx(wue,{})}),n.jsx(Jt,{path:"/forgot-password",element:n.jsx(_ue,{})}),n.jsx(Jt,{path:"/",element:n.jsx(OU,{to:"/overview",replace:!0})}),n.jsx(Jt,{path:"/clients",element:n.jsx(dr,{children:n.jsx(H8e,{})})}),n.jsx(Jt,{path:"/clients/:id",element:n.jsx(dr,{children:n.jsx(aBe,{})})}),n.jsx(Jt,{path:"/apartments",element:n.jsx(dr,{children:n.jsx(xBe,{})})}),n.jsx(Jt,{path:"/apartments/new",element:n.jsx(dr,{children:n.jsx(EBe,{})})}),n.jsx(Jt,{path:"/apartments/:id",element:n.jsx(dr,{children:n.jsx(gUe,{})})}),n.jsx(Jt,{path:"/apartments/:id/edit",element:n.jsx(dr,{children:n.jsx(wUe,{})})}),n.jsx(Jt,{path:"/products",element:n.jsx(dr,{children:n.jsx(NUe,{})})}),n.jsx(Jt,{path:"/products/new",element:n.jsx(dr,{children:n.jsx(_Ue,{})})}),n.jsx(Jt,{path:"/products/import",element:n.jsx(dr,{children:n.jsx(DUe,{})})}),n.jsx(Jt,{path:"/products/:id",element:n.jsx(dr,{children:n.jsx(SUe,{})})}),n.jsx(Jt,{path:"/products/:id/edit",element:n.jsx(dr,{children:n.jsx(kUe,{})})}),n.jsx(Jt,{path:"/orders",element:n.jsx(dr,{children:n.jsx(zUe,{})})}),n.jsx(Jt,{path:"/orders/new",element:n.jsx(dr,{children:n.jsx(WUe,{})})}),n.jsx(Jt,{path:"/orders/import",element:n.jsx(dr,{children:n.jsx(HUe,{})})}),n.jsx(Jt,{path:"/orders/:id",element:n.jsx(dr,{children:n.jsx(tVe,{})})}),n.jsx(Jt,{path:"/orders/:id/edit",element:n.jsx(dr,{children:n.jsx(lVe,{})})}),n.jsx(Jt,{path:"/deliveries",element:n.jsx(dr,{children:n.jsx(vVe,{})})}),n.jsx(Jt,{path:"/issues",element:n.jsx(dr,{children:n.jsx($tt,{})})}),n.jsx(Jt,{path:"/issues/new",element:n.jsx(dr,{children:n.jsx(Ltt,{})})}),n.jsx(Jt,{path:"/issues/bulk-email",element:n.jsx(dr,{children:n.jsx(Ent,{})})}),n.jsx(Jt,{path:"/issues/:issueId",element:n.jsx(dr,{children:n.jsx(grt,{})})}),n.jsx(Jt,{path:"/issues/:issueId/edit",element:n.jsx(dr,{children:n.jsx(Srt,{})})}),n.jsx(Jt,{path:"/payments",element:n.jsx(dr,{children:n.jsx(Irt,{})})}),n.jsx(Jt,{path:"/payments/new",element:n.jsx(dr,{children:n.jsx(Rrt,{})})}),n.jsx(Jt,{path:"/payments/:id",element:n.jsx(dr,{children:n.jsx(Wrt,{})})}),n.jsx(Jt,{path:"/payments/:id/edit",element:n.jsx(dr,{children:n.jsx(Zrt,{})})}),n.jsx(Jt,{path:"/vendors",element:n.jsx(dr,{children:n.jsx(nnt,{})})}),n.jsx(Jt,{path:"/vendors/new",element:n.jsx(dr,{children:n.jsx(snt,{})})}),n.jsx(Jt,{path:"/vendors/:id",element:n.jsx(dr,{children:n.jsx(unt,{})})}),n.jsx(Jt,{path:"/vendors/:id/edit",element:n.jsx(dr,{children:n.jsx(pnt,{})})}),n.jsx(Jt,{path:"/users",element:n.jsx(dr,{children:n.jsx(xnt,{})})}),n.jsx(Jt,{path:"/automations",element:n.jsx(dr,{children:n.jsx(gnt,{})})}),n.jsx(Jt,{path:"/settings",element:n.jsx(dr,{children:n.jsx(Cnt,{})})}),n.jsx(Jt,{path:"/overview",element:n.jsx(dr,{children:n.jsx(QLe,{})})}),n.jsx(Jt,{path:"*",element:n.jsx(ZLe,{})})]})})})]})})});$9(document.getElementById("root")).render(n.jsx(Pnt,{}));
